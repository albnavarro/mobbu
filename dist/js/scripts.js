(()=>{var et=(()=>{let e=!1,t=[],r=0;function i(){if(t.length===0){window.removeEventListener("DOMContentLoaded",i),e=!1;return}t.forEach(({cb:a})=>{a()}),t=[]}function s(){e||(e=!0,window.addEventListener("DOMContentLoaded",()=>i(),{passive:!1}))}return a=>{t.push({cb:a,id:r});let l=r;return r++,typeof window<"u"&&s(),()=>{t=t.filter(o=>o.id!==l)}}})();var Y={default:{tension:20,mass:1,friction:5,velocity:0,precision:.01},gentle:{tension:120,mass:1,friction:14,velocity:0,precision:.01},wobbly:{tension:180,mass:1,friction:12,velocity:0,precision:.01},bounce:{tension:200,mass:3,friction:5,velocity:0,precision:.01},scroller:{tension:10,mass:1,friction:5,velocity:0,precision:.5}};var m={isString:e=>Object.prototype.toString.call(e)==="[object String]",isNumber:e=>Object.prototype.toString.call(e)==="[object Number]"&&isFinite(e),isObject:e=>Object.prototype.toString.call(e)==="[object Object]",isFunction:e=>Object.prototype.toString.call(e)==="[object Function]",isArray:e=>Object.prototype.toString.call(e)==="[object Array]",isBoolean:e=>Object.prototype.toString.call(e)==="[object Boolean]",isElement:e=>e instanceof Element||e instanceof Document,isNodeList:e=>Object.prototype.isPrototypeOf.call(NodeList.prototype,e)},X=e=>{switch(e){case String:return"String";case Number:return"Number";case Object:return"Object";case Function:return"Function";case Array:return"Array";case Boolean:return"Boolean";case Element:return"Element";case NodeList:return"NodeList";default:return"Any"}},E=(e,t)=>{switch(e){case String:return m.isString(t);case Number:return m.isNumber(t);case Object:return m.isObject(t);case Function:return m.isFunction(t);case Array:return m.isArray(t);case Boolean:return m.isBoolean(t);case Element:return m.isElement(t);case NodeList:return m.isNodeList(t);default:return!0}};var p={easeLinear:"easeLinear",easeInQuad:"easeInQuad",easeOutQuad:"easeOutQuad",easeInOutQuad:"easeInOutQuad",easeInCubic:"easeInCubic",easeOutCubic:"easeOutCubic",easeInOutCubic:"easeInOutCubic",easeInQuart:"easeInQuart",easeOutQuart:"easeOutQuart",easeInOutQuart:"easeInOutQuart",easeInQuint:"easeInQuint",easeOutQuint:"easeOutQuint",easeInOutQuint:"easeInOutQuint",easeInSine:"easeInSine",easeOutSine:"easeOutSine",easeInOutSine:"easeInOutSine",easeInExpo:"easeInExpo",easeOutExpo:"easeOutExpo",easeInOutExpo:"easeInOutExpo",easeInCirc:"easeInCirc",easeOutCirc:"easeOutCirc",easeInOutCirc:"easeInOutCirc",easeInElastic:"easeInElastic",easeOutElastic:"easeOutElastic",easeInOutElastic:"easeInOutElastic",easeInBack:"easeInBack",easeOutBack:"easeOutBack",easeInOutBack:"easeInOutBack",easeInBounce:"easeInBounce",easeOutBounce:"easeOutBounce",easeInOutBounce:"easeInOutBounce"},ne="min";var ye="desktop",Q="easeLinear",K="default",Re=60,Ce={0:1,30:2,50:3},we=!0,Ee=!1,Pe=60,ae=!0,Oe={xSmall:320,small:360,medium:600,tablet:768,desktop:992,large:1200,xLarge:1400},xe=10,J=.06,ve="#ff0000",Ae="#14df3b",Ve=8,ke=10,Ne=1e3,Fe=!1,Sr=!1,Ir=!1,br=.01,yr=.06,tt=e=>{let t=b({prop:"startFps",value:e?.startFps,defaultValue:Re,type:Number}),r=b({prop:"fpsScalePercent",value:e?.fpsScalePercent,defaultValue:Ce,type:Object}),i=b({prop:"useScaleFps",value:e?.useScaleFps,defaultValue:we,type:Boolean}),s=b({prop:"deferredNextTick",value:e?.deferredNextTick,defaultValue:Ee,type:Boolean}),n=b({prop:"usePassive",value:e?.usePassive,defaultValue:ae,type:Boolean}),a=b({prop:"throttle",value:e?.throttle,defaultValue:Pe,type:Number}),l=Rr(e?.mq),o=b({prop:"defaultMq.value",value:e?.defaultMq?.value,defaultValue:ye,type:String}),c=b({prop:"defaultMq.type",value:e?.defaultMq?.type,defaultValue:ne,type:String}),S=b({prop:"sequencer.duration",value:e?.sequencer?.duration,defaultValue:xe,type:Number}),f=be(e?.sequencer?.ease,"sequencer"),u=b({prop:"scrolTrigger.springConfig",value:e?.scrollTrigger?.springConfig,defaultValue:K,type:String}),d=b({prop:"scrolTrigger.lerpConfig",value:e?.scrollTrigger?.lerpConfig,defaultValue:J,type:Number}),g=b({prop:"scrolTrigger.markerColor.startEnd",value:e?.scrollTrigger?.markerColor?.startEnd,defaultValue:ve,type:String}),w=b({prop:"scrolTrigger.markerColor.item",value:e?.scrollTrigger?.markerColor?.item,defaultValue:Ae,type:String}),h=b({prop:"parallax.defaultRange",value:e?.parallax?.defaultRange,defaultValue:Ve,type:Number}),I=b({prop:"parallax.springConfig",value:e?.parallax?.springConfig,defaultValue:K,type:String}),P=b({prop:"parallax.lerpConfig",value:e?.parallax?.lerpConfig,defaultValue:J,type:Number}),M=b({prop:"parallaxTween.duration",value:e?.parallaxTween?.duration,defaultValue:ke,type:Number}),ur=be(e?.parallaxTween?.ease,"parallaxTween"),hr=b({prop:"tween.duration",value:e?.tween?.duration,defaultValue:Ne,type:Number}),pr=be(e?.tween?.ease,"tween"),dr=b({prop:"tween.relative",value:e?.tween?.relative,defaultValue:Fe,type:Boolean}),fr=b({prop:"spring.relative",value:e?.spring?.relative,defaultValue:Sr,type:Boolean}),gr=b({prop:"lerp.relative",value:e?.lerp?.relative,defaultValue:Ir,type:Boolean}),mr=b({prop:"lerp.precision",value:e?.lerp?.precision,defaultValue:br,type:Number}),Tr=b({prop:"lerp.velocity",value:e?.lerp?.velocity,defaultValue:yr,type:Number});return{startFps:t,fpsScalePercent:r,useScaleFps:i,deferredNextTick:s,throttle:a,usePassive:n,mq:l,defaultMq:{value:o,type:c},sequencer:{duration:S,ease:f},scrollTrigger:{springConfig:u,lerpConfig:d,markerColor:{startEnd:g,item:w}},parallax:{defaultRange:h,springConfig:I,lerpConfig:P},parallaxTween:{duration:M,ease:ur},tween:{duration:hr,ease:pr,relative:dr},spring:{relative:fr,config:e?.spring?.config?{...Y,...e.spring.config}:Y},lerp:{relative:gr,precision:mr,velocity:Tr}}},b=({prop:e,value:t,defaultValue:r,type:i})=>{let s=E(i,t);return s||console.warn(`handleSetUp error: ${e}: ${t}, is not valid must be a ${X(i)}`),s?t:r},Rr=e=>{let t=E(Object,e)&&Object.values(e).every(r=>E(Number,r));return t||console.warn("handleSetUp error: mq must be an object as { ..., String: Number }"),t?e:Oe},be=(e,t)=>{let r=Object.keys(p).includes(e);return!r&&e!==void 0&&e!==null&&console.warn(`handleSetUp error: ${t}.ease properties is not valid`),r?e:Q};var oe=e=>{if(!m.isObject(e))return 0;let t=Object.values(e);return(t.length&&Math.max(...t.map(r=>oe(r))))+1},Le=e=>Object.entries(e).reduce((t,r)=>{let[i,s]=r,n=m.isFunction(s)?s():{};return m.isObject(s)?{...t,[i]:Le(s)}:m.isFunction(s)&&m.isObject(n)&&"value"in n&&("validate"in n||"type"in n||"skipEqual"in n)?{...t,[i]:n.value}:{...t,[i]:s}},{}),B=(e,t,r)=>Object.entries(e).reduce((i,s)=>{let[n,a]=s,l=m.isFunction(a)?a():{};return m.isObject(a)?{...i,[n]:B(a,t,r)}:m.isFunction(a)&&m.isObject(l)&&"value"in l&&t in l?{...i,[n]:l[t]}:{...i,[n]:r}},{});var $=(e,t)=>{console.warn(`%c SimpleStore supports an object with a depth of up to 2 levels, the input object has ${e} level`,t)},rt=(e,t,r)=>{console.warn(`%c one of this key ${e} defined in computed method of prop to monitor '${t}' prop not exist`,r)},it=(e,t)=>{console.warn(`%c SimpleStore, trying to execute set() method: store.${e} not exist`,t)},st=(e,t,r)=>{console.warn(`%c trying to execute setProp method on '${e}' propierties: setProp methods doasn't allow objects as value, ${JSON.stringify(t)} is an Object`,r)},nt=(e,t)=>{console.warn(`%c trying to execute setProp method on '${e}' propierties: '${JSON.stringify(e)}' is an objects`,t)},at=(e,t,r,i)=>{console.warn(`%c trying to execute setProp method on '${e}' propierties: ${t} is not a ${X(r)}`,i)},ot=(e,t,r)=>{console.warn(`%c trying to execute setObj method on '${e}' propierties: setObj methods allow only objects as value, ${t} is not an Object`,r)},lt=(e,t)=>{console.warn(`%c trying to execute setObj data method on '${e}' propierties: store propierties '${e}' is not an object`,t)},ct=(e,t,r)=>{console.warn(`%c trying to execute setObj data method: one of these keys '${e}' not exist in store.${t}`,r)},ut=(e,t,r)=>{console.warn(`%c trying to execute setObj data method on '${e}' propierties: '${JSON.stringify(t)}' have a depth > 1, nested obj is not allowed`,r)},ht=(e,t,r,i,s)=>{console.warn(`%c trying to execute setObj data method on ${e}.${t} propierties: ${r} is not a ${X(i)}`,s)},pt=(e,t)=>{console.warn(`%c trying to execute get data method: store.${e} not exist`,t)},dt=(e,t)=>{console.warn(`%c trying to execute set data method: store.${e} not exist`,t)},ft=(e,t)=>{console.warn(`%c one of the keys [${e}] is already used as a computed target, or one of the keys coincides with the prop to be changed.`,t)},gt=(e,t)=>{console.warn(`%c SimpleStore error: the property ${e} to watch doasn't exist in store`,t)};var A=class{constructor(t={}){this.logStyle="padding: 10px;",this.counterId=0,this.callBackWatcher=[],this.callBackComputed=[],this.validationStatusObject={},this.dataDepth=oe(t),this.computedPropFired=[],this.computedWaitList=[],this.computedRunning=!1,this.store=(()=>this.dataDepth>2?($(this.dataDepth,this.logStyle),{}):Le(t))(),this.type=(()=>this.dataDepth>2?($(this.dataDepth,this.logStyle),{}):B(t,"type","any"))(),this.fnValidate=(()=>this.dataDepth>2?($(this.dataDepth,this.logStyle),{}):B(t,"validate",()=>!0))(),this.strict=(()=>this.dataDepth>2?($(this.dataDepth,this.logStyle),{}):B(t,"strict",!1))(),this.skipEqual=(()=>this.dataDepth>2?($(this.dataDepth,this.logStyle),{}):B(t,"skipEqual",!0))(),this.inizializeValidation()}inizializeValidation(){for(let t in this.store)m.isObject(this.store[t])&&(this.validationStatusObject[t]={});Object.entries(this.store).forEach(t=>{let[r,i]=t;this.set(r,i,!1)})}fireComputed(){this.computedWaitList.forEach(t=>{this.callBackComputed.forEach(r=>{let{prop:i,keys:s,fn:n}=r,a=Object.keys(this.store);if(!s.every(f=>a.includes(f))){rt(s,i,this.logStyle);return}if(!s.includes(t))return;let c=s.map(f=>this.store[f]);if(!this.computedPropFired.includes(i)){let f=n(...c);this.set(i,f),this.computedPropFired.push(i)}})}),this.computedPropFired=[],this.computedWaitList=[],this.computedRunning=!1}addToComputedWaitLsit(t){this.callBackComputed.length&&(this.computedWaitList.push(t),this.computedRunning||(this.computedRunning=!0,setTimeout(()=>this.fireComputed())))}set(t,r,i=!0){if(!(t in this.store)){it(t,this.logStyle);return}let s=E(Function,r)&&!E(Function,this.store[t])&&this.type[t]!==Function?r(this.store[t]):r;m.isObject(this.store[t])?this.setObj(t,s,i):this.setProp(t,s,i)}setProp(t,r,i=!0){if(m.isObject(r)){st(t,r,this.logStyle);return}if(m.isObject(this.store[t])){nt(t,this.logStyle);return}if(!E(this.type[t],r)){at(t,r,this.type[t],this.logStyle);return}let n=this.fnValidate[t](r);if(this.strict[t]&&!n)return;this.validationStatusObject[t]=n;let a=this.store[t];a===r&&this.skipEqual[t]||(this.store[t]=r,i&&this.callBackWatcher.filter(o=>o.prop===t).forEach(o=>{o.fn(r,a,this.validationStatusObject[t])}),this.addToComputedWaitLsit(t))}setObj(t,r,i=!0){if(!m.isObject(r)){ot(t,r,this.logStyle);return}if(!m.isObject(this.store[t])){lt(t,this.logStyle);return}let s=Object.keys(r),n=Object.keys(this.store[t]);if(!s.every(h=>n.includes(h))){ct(s,t,this.logStyle);return}if(oe(r)>1){ut(t,r,this.logStyle);return}if(!Object.entries(r).map(h=>{let[I,P]=h,M=E(this.type[t][I],P);return M||ht(t,I,P,this.type[t][I],this.logStyle),M}).every(h=>h===!0))return;let c=Object.entries(r).map(h=>{let[I,P]=h;return this.strict[t][I]?{strictCheck:this.fnValidate[t][I](P),item:h}:{strictCheck:!0,item:h}}).filter(({strictCheck:h})=>h===!0);if(c.every(h=>h===!1))return;let f=c.map(({item:h})=>h).reduce((h,[I,P])=>({...h,[I]:P}),{});Object.entries(f).forEach(h=>{let[I,P]=h;this.validationStatusObject[t][I]=this.fnValidate[t][I](P)});let u=this.store[t],d={...this.store[t],...f},g=Object.keys(f).every(h=>this.skipEqual[t][h]===!0),w=Object.entries(d).every(([h,I])=>I===u[h]);g&&w||(this.store[t]=d,i&&this.callBackWatcher.filter(I=>I.prop===t).forEach(I=>{I.fn(this.store[t],u,this.validationStatusObject[t])}),this.addToComputedWaitLsit(t))}quickSetProp(t,r){let i=this.store[t];this.store[t]=r,this.callBackWatcher.filter(n=>n.prop===t).forEach(n=>{n.fn(r,i,null)})}get(){return this.store}getProp(t){if(t in this.store)return this.store[t];pt(t,this.logStyle)}getValidation(){return this.validationStatusObject}watch(t,r=()=>{}){if(!(t in this.store)){gt(t,this.logStyle);return}this.callBackWatcher.push({prop:t,fn:r,id:this.counterId});let i=this.counterId;return this.counterId++,()=>{this.callBackWatcher=this.callBackWatcher.filter(s=>s.id!==i)}}emit(t){t in this.store?this.callBackWatcher.filter(i=>i.prop===t).forEach(i=>{i.fn(this.store[t],this.store[t],this.validationStatusObject[t])}):dt(t,this.logStyle)}debugStore(){console.log(this.store)}debugValidate(){console.log(this.validationStatusObject)}setStyle(t){this.logStyle=t}computed(t,r,i){if([...this.callBackComputed,{prop:t,keys:r,fn:i}].map(l=>l.prop).flat().some(l=>r.includes(l))){ft(r,this.logStyle);return}this.callBackComputed.push({prop:t,keys:r,fn:i})}destroy(){this.counterId=0,this.callBackWatcher=[],this.callBackComputed=[],this.computedPropFired=[],this.computedWaitList=[],this.validationStatusObject={},this.store={},this.type={},this.fnValidate={},this.strict={},this.skipEqual={}}};var G=(e,t,r=!0)=>{e=(s=>{let n;try{n=JSON.parse(JSON.stringify(s))}catch{n=Object.assign({},s)}return n})(e);let i=s=>s&&typeof s=="object";return!i(e)||!i(t)?t:(Object.keys(t).forEach(s=>{let n=e[s],a=t[s];Array.isArray(n)&&Array.isArray(a)?r?(e[s]=n.map((l,o)=>a.length<=o?l:G(l,a[o],r)),a.length>n.length&&(e[s]=e[s].concat(a.slice(n.length)))):e[s]=n.concat(a):i(n)&&i(a)?e[s]=G(Object.assign({},n),a,r):e[s]=a}),e)};var _e=new A({usePassive:ae}),T=(()=>{let e={startFps:Re,fpsScalePercent:Ce,useScaleFps:we,deferredNextTick:Ee,throttle:Pe,usePassive:ae,mq:Oe,defaultMq:{value:ye,type:ne},sequencer:{duration:xe,ease:Q},scrollTrigger:{springConfig:K,lerpConfig:J,markerColor:{startEnd:ve,item:Ae}},parallax:{defaultRange:Ve,springConfig:K,lerpConfig:J},parallaxTween:{duration:ke,ease:Q},tween:{duration:Ne,ease:Q,relative:Fe},spring:{relative:!1,config:Y},lerp:{relative:!1,precision:.01,velocity:.06}};return{set:s=>{e=tt(G(e,s)),"usePassive"in s&&_e.set("usePassive",e?.usePassive)},get:s=>{if(s in e)return e[s];console.warn(`handleSetUp: ${s} is not a setup propierties`)},print:()=>{console.log("Writable props:"),console.log(e)}}})();function mt(e){let t=0,r=0,i=0,s=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),i=t*10,s=r*10,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(i=e.deltaX),(i||s)&&e.deltaMode&&(e.deltaMode==1?(i*=40,s*=40):(i*=800,s*=800)),i&&!t&&(t=i<1?-1:1),s&&!r&&(r=s<1?-1:1),{spinX:t,spinY:r,pixelX:i,pixelY:s}}function _(e){let t=!1,r=[],i=0,s=T.get("usePassive");_e.watch("usePassive",()=>{window.removeEventListener(e,n),t=!1,a()});function n(o){if(r.length===0){window.removeEventListener(e,n),t=!1;return}let c=o.type,{pageX:S,pageY:f}=(()=>c==="touchend"&&o.changedTouches?o.changedTouches[0]:o.touches?o.touches[0]:o)(),{clientX:u,clientY:d}=(()=>c==="touchend"&&o.changedTouches?o.changedTouches[0]:o.touches?o.touches[0]:o)(),g=o.target,w={page:{x:S,y:f},client:{x:u,y:d},target:g,type:c,preventDefault:()=>s?()=>{}:o.preventDefault()};if(c==="wheel"){let{spinX:h,spinY:I,pixelX:P,pixelY:M}=mt(o);Object.assign(w,{spinX:h,spinY:I,pixelX:P,pixelY:M})}r.forEach(({cb:h})=>{h(w)})}function a(){t||(t=!0,s=T.get("usePassive"),window.addEventListener(e,n,{passive:s}))}return o=>{r.push({cb:o,id:i});let c=i;return i++,typeof window<"u"&&a(),()=>{r=r.filter(S=>S.id!==c)}}}var Tt=new _("click"),St=new _("mousedown"),It=new _("touchstart"),bt=new _("mousemove"),yt=new _("touchmove"),Rt=new _("mouseup"),Ct=new _("touchend"),wt=new _("wheel");var De=()=>{};var C=new A({currentFrame:0,instantFps:T.get("startFps"),requestFrame:De});var N=()=>typeof window<"u"?window.performance.now():Date.now(),Et=16.666666666666668;var le=(()=>{let e=!1,t=[],r=0;function i(){if(t.length===0){window.removeEventListener("visibilitychange",i),e=!1;return}let a={visibilityState:document.visibilityState};t.forEach(({cb:l})=>{l(a)})}function s(){e||(e=!0,window.addEventListener("visibilitychange",i,{passive:!1}))}return a=>{t.push({cb:a,id:r});let l=r;return r++,typeof window<"u"&&s(),()=>{t=t.filter(o=>o.id!==l)}}})();var O=(()=>{let e=0,t=0,r={};return{add:(u,d)=>{r[e]={el:u,fn:d,data:{}};let g=e;return e++,{id:g,unsubscribe:()=>{if(r?.[g]){let w=Object.keys(r[g].data).length;t=t-w,delete r[g]}}}},get:u=>r?.[u],update:({id:u,cbObject:d,frame:g})=>{if(!r[u])return;let{currentFrame:w}=C.get(),{data:h}=r[u];h[g+w]||(h[g+w]=d,t++)},remove:u=>{u in r&&delete r[u]},clean:u=>{let d=r[u];if(!d)return;let g=Object.keys(d.data).length;t=t-g,d.data={}},fire:(u,d)=>{Object.values(r).forEach(({data:g,fn:w,el:h})=>{let I=g?.[u];I&&(d&&w(I,h),g[u]=null,delete g[u],t--)})},fireObject:({id:u,obj:d})=>{if(!r[u])return;let{el:g,fn:w}=r[u];w(d,g)},getCacheCounter:()=>t,updateFrameId:u=>{Object.values(r).forEach(({data:d})=>{Object.keys(d).forEach(g=>{delete Object.assign(d,{[`${parseInt(g)-u}`]:d[g]})[g]})})}}})();var R=(()=>{let e=[];return{add:(i,s=100)=>{e.push({cb:i,priority:s})},fire:({time:i,fps:s,shouldRender:n})=>{e.length!==0&&(e.sort((a,l)=>a.priority-l.priority),e.forEach(({cb:a})=>a({time:i,fps:s,shouldRender:n})),e.length=0)}}})();var j=(()=>{let e=[];return{add:i=>{e.push(i)},get:()=>{let i=[...e];return e.length=0,i}}})();var V=(()=>{let e={},t=0,r=null;return{add:(l,o)=>{let c=o+C.getProp("currentFrame");e[c]?e[c].push(l):(e[c]=[l],t++),C.emit("requestFrame")},fire:({currentFrame:l,time:o,fps:c,shouldRender:S})=>{r=e[l],r?(r.forEach(f=>f({time:o,fps:c,shouldRender:S})),e[l]=null,delete e[l],t=t-1):r=null},updateKeys:l=>{Object.keys(e).forEach(o=>{delete Object.assign(e,{[`${parseInt(o)-l}`]:e[o]})[o]})},getIndexCallbackLenght:()=>t}})();var H="animationStop",Pt=()=>{window.addEventListener("unhandledrejection",e=>{e.reason===H&&e.preventDefault()})};var Ot=!1,F=(e=30)=>{if(Ot){let{instantFps:t}=C.get();return new Promise(r=>{r({averageFPS:t})})}return new Promise(t=>{let r=[],s=0,n=0,a=0,l=0,o=0,c=S=>{S*=.001;let f=S-l;l=S;let u=1/f;a+=u-(r[s]||0),r[s++]=u,n=Math.max(n,s),s%=20;let d=parseInt(a/n);if(o++,o>=e){C.quickSetProp("instantFps",d),Ot=!0,t({averageFPS:d});return}requestAnimationFrame(c)};requestAnimationFrame(c)})};F();var We=1e7,Vt=2e3,He=!1,D=[],x=N(),xt=0,Ge=0,Me=0,Z=!1,v=T.get("startFps"),q=v,Be=0,$e=0,L=0,je=-1,U=!0,kt=T.get("fpsScalePercent"),Nt=T.get("useScaleFps"),ce=!1,ue=!1,Cr=()=>v<q/5*3,wr=()=>v<q/5*4,Er=()=>{!Cr()||ce||(ce=!0,setTimeout(()=>{ce=!1},4e3))},Pr=()=>{!wr()||ue||(ue=!0,setTimeout(()=>{ue=!1},4e3))};le(({visibilityState:e})=>{Z=e==="visible"});Pt();C.watch("requestFrame",()=>{he()});var Or=()=>{if(!Nt)return!0;let e=Object.entries(kt).reduce((t,[r,i])=>{let s=Math.abs(q-v);return Math.round(s*100/q)>parseInt(r)?i:t},1);return je=(je+1)%e,je===0},vt=()=>{L===We&&(L=0,C.quickSetProp("currentFrame",L),V.updateKeys(We),O.updateFrameId(We)),R.fire({time:x,fps:v,shouldRender:U}),D=[...D,...j.get()],He=!1,D.length>0||V.getIndexCallbackLenght()>0||O.getCacheCounter()>0||x<Vt?he():(Z=!0,L=0,C.quickSetProp("currentFrame",L))},At=e=>{x=e,Me=x-Ge,Z&&(xt+=Me),Ge+=Me,x=Ge-xt,Z||Be++,x>$e+1e3&&(v=x>Vt?Math.round(Be*1e3/(x-$e)):C.getProp("instantFps"),$e=x,Be=0,kt=T.get("fpsScalePercent"),Nt=T.get("useScaleFps")),v>q&&(q=v),U=Or(),Er(),Pr(),D.forEach(r=>r({time:x,fps:v,shouldRender:U})),V.fire({currentFrame:L,time:x,fps:v,shouldRender:U}),O.fire(L,U),L++,C.quickSetProp("currentFrame",L),D.length=0,Z=!1,T.get("deferredNextTick")?setTimeout(()=>vt()):vt()},he=()=>{He||(typeof window<"u"?requestAnimationFrame(At):setTimeout(()=>At(N()),Et),He=!0)},y=(()=>({add:a=>{D.push(a),he()},addMultiple:(a=[])=>{D=[...D,...a],he()},getFps:()=>v,mustMakeSomething:()=>ce,shouldMakeSomething:()=>ue,getShouldRender:()=>U}))();var pe=function(t,r=200){let i;return function(){let s=()=>t.apply(this,arguments);clearTimeout(i),i=setTimeout(s,r)}};var Ue=(()=>{let e=!1,t=[],r=0,i=()=>{},s=window.innerHeight,n=window.innerWidth;function a(){if(t.length===0){window.removeEventListener("resize",i),e=!1;return}let c=window.innerHeight,S=window.innerWidth,f=c!==s,u=S!==n;s=c,n=S;let d={scrollY:window.pageYOffset,windowsHeight:c,windowsWidth:S,documentHeight:document.documentElement.scrollHeight,verticalResize:f,horizontalResize:u};t.forEach(({cb:g})=>{g(d)})}function l(){e||(e=!0,i=pe(c=>a(c)),window.addEventListener("resize",i,{passive:!1}))}return c=>{t.push({cb:c,id:r});let S=r;return r++,typeof window<"u"&&l(),()=>{t=t.filter(f=>f.id!==S)}}})();var k=(()=>{let e=!1,t=[],r=0,i="UP",s="DOWN",n=window.pageYOffset,a=window.pageYOffset,l=s,o={scrollY:a,direction:l};function c(){if(t.length===0){window.removeEventListener("scroll",c),e=!1;return}n=a,a=window.pageYOffset,l=a>n?s:i,o={scrollY:a,direction:l},t.forEach(({cb:u})=>{u(o)})}function S(){e||(e=!0,window.addEventListener("scroll",c,{passive:!0}))}return u=>{t.push({cb:u,id:r});let d=r;return r++,typeof window<"u"&&S(),()=>{t=t.filter(g=>g.id!==d)}}})();var de=(()=>{let e=!1,t=[],r=0,i=()=>{};function s(l){if(t.length===0){i(),e=!1;return}y.add(()=>{R.add(()=>{t.forEach(({cb:o})=>{o(l)})},0)})}function n(){e||(e=!0,i=k(s))}return l=>{t.push({cb:l,id:r});let o=r;return r++,typeof window<"u"&&n(),()=>{t=t.filter(c=>c.id!==o)}}})();var Ft=(e,t)=>{let r,i;return function(){let s=this,n=arguments;i?(clearTimeout(r),r=setTimeout(function(){N()-i>=t&&(e.apply(s,n),i=N())},t-(N()-i))):(e.apply(s,n),i=N())}};var qe=(()=>{let e=!1,t=[],r=0,i=()=>{},s=()=>{};function n(o){if(t.length===0){s(),e=!1;return}y.add(()=>{R.add(()=>{t.forEach(({cb:c})=>{c(o)})},0)})}function a(){e||(e=!0,i=Ft(o=>n(o),T.get("throttle")),s=k(i))}return o=>{t.push({cb:o,id:r});let c=r;return r++,typeof window<"u"&&a(),()=>{t=t.filter(S=>S.id!==c)}}})();function Lt(e){let t=!1,r=[],i=0,s=!1,n=()=>{},a=()=>{},l=()=>{};function o(){if(s=!1,r.length===0){a(),e==="START"&&n(),t=!1;return}y.add(()=>{R.add(()=>{let f={scrollY:window.pageYOffset};e==="END"&&r.forEach(({cb:u})=>{u(f)})},0)})}function c(){t||(t=!0,l=pe(f=>o(f)),a=k(l),e==="START"&&(n=k(({scrollY:f})=>{let u={scrollY:f};s||(s=!0,r.forEach(({cb:d})=>{d(u)}))})))}return f=>{r.push({cb:f,id:i});let u=i;return i++,typeof window<"u"&&c(),()=>{r=r.filter(d=>d.id!==u)}}}var fe=new Lt("START"),ze=new Lt("END");var ee=(()=>({max:(i="desktop")=>window.innerWidth<T.get("mq")[i],min:(i="desktop")=>window.innerWidth>=T.get("mq")[i],getBreackpoint:(i="desktop")=>T.get("mq")[i]}))();var te={setDefault(e={}){T.set(e)},getDefault(e=""){return T.get(e)},printDefault(){T.print()},getFps(){return y.getFps()},getInstantFps(){return C.getProp("instantFps")},createStore(e={}){return new A(e)},mustMakeSomething(){return y.mustMakeSomething()},shouldMakeSomething(){return y.shouldMakeSomething()},useFrame(e=()=>{}){return y.add(e)},useNextTick(e=()=>{}){return R.add(e)},useNextFrame(e=()=>{}){return j.add(e)},useFrameIndex(e=()=>{},t=0){return V.add(e,t)},useFps(e=()=>{}){return F().then(t=>e(t))},useLoad(e=()=>{}){return et(e)},useResize(e=()=>{}){return Ue(e)},useVisibilityChange(e=()=>{}){return le(e)},useMouseClick(e=()=>{}){return Tt(e)},useMouseDown(e=()=>{}){return St(e)},useTouchStart(e=()=>{}){return It(e)},useMouseMove(e=()=>{}){return bt(e)},useTouchMove(e=()=>{}){return yt(e)},useMouseUp(e=()=>{}){return Rt(e)},useTouchEnd(e=()=>{}){return Ct(e)},useMouseWheel(e=()=>{}){return wt(e)},useScroll(e=()=>{}){return de(e)},useScrollImmediate(e=()=>{}){return k(e)},useScrollThrottle(e=()=>{}){return qe(e)},useScrollStart(e=()=>{}){return fe(e)},useScrollEnd(e=()=>{}){return ze(e)},mq(e="",t){switch(e){case"min":return ee.min(t);case"max":return ee.max(t);case"get":return ee.getBreackpoint(t);default:console.warn(`${e} in core.mq not exist`)}}};var ge={[p.easeLinear]:(e,t,r,i)=>r*e/i+t,[p.easeInQuad]:(e,t,r,i)=>r*(e/=i)*e+t,[p.easeOutQuad]:(e,t,r,i)=>-r*(e/=i)*(e-2)+t,[p.easeInOutQuad]:(e,t,r,i)=>(e/=i/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t,[p.easeInCubic]:(e,t,r,i)=>r*(e/=i)*e*e+t,[p.easeOutCubic]:(e,t,r,i)=>r*((e=e/i-1)*e*e+1)+t,[p.easeInOutCubic]:(e,t,r,i)=>(e/=i/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t,[p.easeInQuart]:(e,t,r,i)=>r*(e/=i)*e*e*e+t,[p.easeOutQuart]:(e,t,r,i)=>-r*((e=e/i-1)*e*e*e-1)+t,[p.easeInOutQuart]:(e,t,r,i)=>(e/=i/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t,[p.easeInQuint]:(e,t,r,i)=>r*(e/=i)*e*e*e*e+t,[p.easeOutQuint]:(e,t,r,i)=>r*((e=e/i-1)*e*e*e*e+1)+t,[p.easeInOutQuint]:(e,t,r,i)=>(e/=i/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t,[p.easeInSine]:(e,t,r,i)=>-r*Math.cos(e/i*(Math.PI/2))+r+t,[p.easeOutSine]:(e,t,r,i)=>r*Math.sin(e/i*(Math.PI/2))+t,[p.easeInOutSine]:(e,t,r,i)=>-r/2*(Math.cos(Math.PI*e/i)-1)+t,[p.easeInExpo]:(e,t,r,i)=>e===0?t:r*Math.pow(2,10*(e/i-1))+t,[p.easeOutExpo]:(e,t,r,i)=>e===i?t+r:r*(-Math.pow(2,-10*e/i)+1)+t,[p.easeInOutExpo]:(e,t,r,i)=>e===0?t:e===i?t+r:(e/=i/2)<1?r/2*Math.pow(2,10*(e-1))+t:r/2*(-Math.pow(2,-10*--e)+2)+t,[p.easeInCirc]:(e,t,r,i)=>-r*(Math.sqrt(1-(e/=i)*e)-1)+t,[p.easeOutCirc]:(e,t,r,i)=>r*Math.sqrt(1-(e=e/i-1)*e)+t,[p.easeInOutCirc]:(e,t,r,i)=>(e/=i/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t,[p.easeInElastic]:(e,t,r,i)=>{let s=1.70158,n=0,a=r;return e===0?t:(e/=i)===1?t+r:(n||(n=i*.3),a<Math.abs(r)?(a=r,s=n/4):s=n/(2*Math.PI)*Math.asin(r/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-s)*(2*Math.PI)/n))+t)},[p.easeOutElastic]:(e,t,r,i)=>{let s=1.70158,n=0,a=r;return e===0?t:(e/=i)===1?t+r:(n||(n=i*.3),a<Math.abs(r)?(a=r,s=n/4):s=n/(2*Math.PI)*Math.asin(r/a),a*Math.pow(2,-10*e)*Math.sin((e*i-s)*(2*Math.PI)/n)+r+t)},[p.easeInOutElastic]:(e,t,r,i)=>{let s=1.70158,n=0,a=r;return e===0?t:(e/=i/2)===2?t+r:(n||(n=i*(.3*1.5)),a<Math.abs(r)?(a=r,s=n/4):s=n/(2*Math.PI)*Math.asin(r/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-s)*(2*Math.PI)/n))+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*i-s)*(2*Math.PI)/n)*.5+r+t)},[p.easeInBack]:(e,t,r,i,s=1.70158)=>r*(e/=i)*e*((s+1)*e-s)+t,[p.easeOutBack]:(e,t,r,i,s=1.70158)=>r*((e=e/i-1)*e*((s+1)*e+s)+1)+t,easeInOutBack:(e,t,r,i,s=1.70158)=>(e/=i/2)<1?r/2*(e*e*(((s*=1.525)+1)*e-s))+t:r/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+t,[p.easeInBounce]:(e,t,r,i)=>r-ge[p.easeOutBounce](i-e,0,r,i)+t,[p.easeOutBounce]:(e,t,r,i)=>(e/=i)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t,[p.easeInOutBounce]:(e,t,r,i)=>e<i/2?ge[p.easeInBounce](e*2,0,r,i)*.5+t:ge[p.easeOutBounce](e*2-i,0,r,i)*.5+r*.5+t};var _r=new A({id:0});te.useLoad(()=>{te.setDefault({deferredNextTick:!0,useScaleFps:!0,mq:{desktop:1024},spring:{config:{customSpring:{friction:1,mass:1,precision:.01,tension:180,velocity:0}}}}),te.printDefault()});})();
