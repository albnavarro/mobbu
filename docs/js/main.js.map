{
  "version": 3,
  "sources": ["../../node_modules/highlight.js/lib/core.js", "../../src/js/data/index.js", "../../src/js/mobCore/events/errorHandler/catchAnimationReject.js", "../../src/js/mobCore/utils/index.js", "../../src/js/mobCore/utils/nextTick.js", "../../src/js/mobCore/store/classVersion/storeType.js", "../../src/js/mobCore/store/classVersion/checkEquality.js", "../../src/js/mobCore/store/fireQueque.js", "../../src/js/mobCore/store/logStyle.js", "../../src/js/mobCore/store/storeMap.js", "../../src/js/mobCore/store/storeType.js", "../../src/js/mobCore/store/storeWarining.js", "../../src/js/mobCore/store/storeUtils.js", "../../src/js/mobCore/store/storeSet.js", "../../src/js/mobCore/store/initialValidation.js", "../../src/js/mobCore/store/watch.js", "../../src/js/mobCore/store/inizializeInstance.js", "../../src/js/mobCore/store/storeGet.js", "../../src/js/mobCore/store/storeEmit.js", "../../src/js/mobCore/store/storeDebug.js", "../../src/js/mobCore/store/mobStore.js", "../../src/js/mobCore/events/eventStore.js", "../../src/js/mobCore/events/loadutils/handleLoad.js", "../../src/js/mobCore/events/mouseUtils/normalizeWhell.js", "../../src/js/mobCore/events/mouseUtils/handleMouse.js", "../../src/js/mobCore/events/rafutils/handleCache.js", "../../src/js/mobCore/events/visibilityChange/handleVisibilityChange.js", "../../src/js/mobCore/events/rafutils/handleNextTick.js", "../../src/js/mobCore/events/rafutils/handleNextFrame.js", "../../src/js/mobCore/events/rafutils/handleFrameIndex.js", "../../src/js/mobCore/events/rafutils/loadFps.js", "../../src/js/mobCore/events/rafutils/time.js", "../../src/js/mobCore/events/rafutils/handleFrame.js", "../../src/js/mobCore/events/debounce.js", "../../src/js/mobCore/events/resizeUtils/handleResize.js", "../../src/js/mobCore/events/scrollUtils/handleScrollImmediate.js", "../../src/js/mobCore/events/scrollUtils/handleScroll.js", "../../src/js/mobCore/events/throttle.js", "../../src/js/mobCore/events/scrollUtils/handleScrollThrottle.js", "../../src/js/mobCore/events/scrollUtils/handleScrollUtils.js", "../../src/js/mobCore/index.js", "../../src/js/mobMotion/animation/spring/springConfig.js", "../../src/js/mobMotion/animation/utils/setUp/setUpValidation.js", "../../src/js/mobMotion/utils/mergeDeep.js", "../../src/js/mobMotion/setup.js", "../../src/js/mobMotion/utils/mediaManager.js", "../../src/js/mobMotion/core.js", "../../src/js/mobMotion/animation/utils/animationUtils.js", "../../src/js/mobMotion/animation/utils/tweenAction/setValues.js", "../../src/js/mobMotion/animation/utils/stagger/staggerCostant.js", "../../src/js/mobMotion/animation/parallax/parallaxConstant.js", "../../src/js/mobMotion/animation/utils/warning.js", "../../src/js/mobMotion/animation/tween/tweenConfig.js", "../../src/js/mobMotion/animation/utils/regexValidation.js", "../../src/js/mobMotion/animation/parallax/getConstantFromRegex.js", "../../src/js/mobMotion/animation/utils/tweenAction/tweenValidation.js", "../../src/js/mobMotion/animation/utils/stagger/staggerUtils.js", "../../src/js/mobMotion/animation/utils/stagger/getDefaultStagger.js", "../../src/js/mobMotion/animation/utils/stagger/getRadialStagger.js", "../../src/js/mobMotion/animation/utils/stagger/setStagger.js", "../../src/js/mobMotion/animation/utils/callbacks/defaultCallback.js", "../../src/js/mobMotion/animation/utils/callbacks/callBackStore.js", "../../src/js/mobMotion/animation/utils/callbacks/setCallback.js", "../../src/js/mobMotion/animation/utils/tweenAction/actions.js", "../../src/js/mobMotion/animation/utils/initRaf.js", "../../src/js/mobMotion/animation/utils/fpsLogInizialization.js", "../../src/js/mobMotion/animation/utils/stagger/shouldInizialize.js", "../../src/js/mobMotion/animation/utils/resumeTween.js", "../../src/js/mobMotion/animation/utils/tweenAction/getValues.js", "../../src/js/mobMotion/animation/utils/tweenAction/mergeArray.js", "../../src/js/mobMotion/animation/lerp/getValuesOnDraw.js", "../../src/js/mobMotion/animation/lerp/handleLerp.js", "../../src/js/mobMotion/animation/utils/callbacks/syncCallback.js", "../../src/js/mobMotion/animation/parallax/parallaxTween.js", "../../src/js/mobMotion/animation/sequencer/handleMasterSequencer.js", "../../src/js/mobMotion/animation/sequencer/syncActions.js", "../../src/js/mobMotion/animation/utils/timeline/timelineConstant.js", "../../src/js/mobMotion/animation/sequencer/reduceFunction.js", "../../src/js/mobMotion/animation/sequencer/getValuesOnDraw.js", "../../src/js/mobMotion/animation/sequencer/setPropFromAncestor.js", "../../src/js/mobMotion/animation/sequencer/orderRow.js", "../../src/js/mobMotion/animation/sequencer/insertNewRow.js", "../../src/js/mobMotion/animation/sequencer/mergeNewValues.js", "../../src/js/mobMotion/animation/sequencer/handleSequencer.js", "../../src/js/mobMotion/animation/spring/getValuesOndraw.js", "../../src/js/mobMotion/animation/spring/handleSpring.js", "../../src/js/mobMotion/animation/tween/getValuesOnDraw.js", "../../src/js/mobMotion/animation/tween/handleTween.js", "../../src/js/mobMotion/animation/sequencer/createStagger.js", "../../src/js/mobMotion/tween.js", "../../src/js/mobMotion/utils/functionsUtils.js", "../../src/js/mobMotion/animation/asyncTimeline/asyncReduceData.js", "../../src/js/mobMotion/animation/asyncTimeline/asyncReduceTween.js", "../../src/js/mobMotion/animation/asyncTimeline/loopCallback.js", "../../src/js/mobMotion/animation/asyncTimeline/handleAsyncTimeline.js", "../../src/js/mobMotion/animation/syncTimeline/handleSyncTimeline.js", "../../src/js/mobMotion/timeline.js", "../../src/js/mobMotion/animation/parallax/parallaxEmitter.js", "../../src/js/mobMotion/animation/parallax/parallaxMarker.js", "../../src/js/mobMotion/animation/parallax/parallaxPinUtils.js", "../../src/js/mobMotion/animation/parallax/parallaxPin.js", "../../src/js/mobMotion/animation/parallax/warning.js", "../../src/js/mobMotion/animation/parallax/parallaxUtils.js", "../../src/js/mobMotion/animation/parallax/parallax.js", "../../src/js/mobMotion/scroller.js", "../../src/js/mobjs/constant.js", "../../src/js/mobjs/query/queryAllFutureComponent.js", "../../src/js/mobjs/componentStore/store.js", "../../src/js/mobjs/componentStore/action/currentRepeatValue.js", "../../src/js/mobjs/componentStore/action/element.js", "../../src/js/mobjs/mainStore/root.js", "../../src/js/mobjs/temporaryData/weakBindEvents/index.js", "../../src/js/mobjs/temporaryData/staticProps/index.js", "../../src/js/mobjs/creationStep/utils.js", "../../src/js/mobjs/webComponent/repeater.js", "../../src/js/mobjs/webComponent/slot.js", "../../src/js/mobjs/webComponent/userComponent.js", "../../src/js/mobjs/mainStore/componentList.js", "../../src/js/mobjs/createComponent.js", "../../src/js/mobjs/temporaryData/bindEvents/index.js", "../../src/js/mobjs/componentStore/utils.js", "../../src/js/mobjs/componentStore/action/parent.js", "../../src/js/mobjs/componentStore/action/props.js", "../../src/js/mobjs/mainStore/actions/exportState.js", "../../src/js/mobjs/componentStore/action/component.js", "../../src/js/mobjs/componentStore/action/freeze.js", "../../src/js/mobjs/componentStore/action/state.js", "../../src/js/mobjs/componentStore/action/watch.js", "../../src/js/mobjs/componentStore/tick.js", "../../src/js/mobjs/componentStore/tickRepeater.js", "../../src/js/mobjs/temporaryData/dynamicProps/index.js", "../../src/js/mobjs/temporaryData/repeaterTargetComponent/index.js", "../../src/js/mobjs/componentStore/action/removeAndDestroy.js", "../../src/js/mobjs/mainStore/constant.js", "../../src/js/mobjs/mainStore/mainStore.js", "../../src/js/mobjs/route/constant.js", "../../src/js/mobjs/route/historyScrollY.js", "../../src/js/mobjs/mainStore/routeList.js", "../../src/js/mobjs/mainStore/contendId.js", "../../src/js/mobjs/mainStore/pageTransition.js", "../../src/js/mobjs/temporaryData/parser/parser.js", "../../src/js/mobjs/query/queryComponentUseSlot.js", "../../src/js/mobjs/query/queryGenericSlot.js", "../../src/js/mobjs/query/querySpecificSlot.js", "../../src/js/mobjs/query/queryUnNamedSlot.js", "../../src/js/mobjs/creationStep/convertToRealElement.js", "../../src/js/mobjs/parseComponent/utils.js", "../../src/js/mobjs/temporaryData/refs/index.js", "../../src/js/mobjs/temporaryData/onMount/index.js", "../../src/js/mobjs/query/querySecificRepeater.js", "../../src/js/mobjs/temporaryData/repeaterActions/index.js", "../../src/js/mobjs/componentStore/action/children.js", "../../src/js/mobjs/repeater/utils.js", "../../src/js/mobjs/temporaryData/currentRepeaterItemValue/index.js", "../../src/js/mobjs/repeater/addWithKey.js", "../../src/js/mobjs/repeater/addWithoutKey.js", "../../src/js/mobjs/repeater/updateChildren.js", "../../src/js/mobjs/repeater/watchList.js", "../../src/js/mobjs/temporaryData/repeater/add.js", "../../src/js/mobjs/temporaryData/repeater/inizialize.js", "../../src/js/mobjs/creationStep/getParamsForComponent.js", "../../src/js/mobjs/query/queryGenericRepeater.js", "../../src/js/mobjs/creationStep/getParamsFromWebComponent.js", "../../src/js/mobjs/componentStore/addComponentToStore.js", "../../src/js/mobjs/parseComponent/parseComponentRecursive.js", "../../src/js/mobjs/parseComponent/componentParse.js", "../../src/js/mobjs/mainStore/restoreScroll.js", "../../src/js/mobjs/route/loadRoute.js", "../../src/js/mobjs/route/utils.js", "../../src/js/mobjs/route/router.js", "../../src/js/mobjs/route/test.js", "../../src/js/mobjs/route/index.js", "../../src/js/mobjs/utils.js", "../../src/js/mobjs/componentStore/action/getTree.js", "../../src/js/component/common/animationTitle/animationTitle.js", "../../src/js/component/common/animationTitle/definition.js", "../../src/svg/icon-code.svg", "../../src/js/component/layout/navigation/store/navStore.js", "../../src/js/component/common/codeButton/codeButton.js", "../../src/js/component/common/codeButton/definition.js", "../../src/js/component/common/loader/loader.js", "../../src/js/component/common/loader/definition.js", "../../node_modules/highlight.js/es/core.js", "../../node_modules/highlight.js/es/languages/javascript.js", "../../src/js/utils/utils.js", "../../src/js/component/common/snippet/snippet.js", "../../src/js/component/common/snippet/definition.js", "../../src/js/component/common/scrollTo/scrollToStore.js", "../../src/js/component/common/spacerAnchor/spacerAnchor.js", "../../src/js/component/common/spacerAnchor/definition.js", "../../src/js/component/common/typography/list/list.js", "../../src/js/component/common/typography/list/definition.js", "../../src/js/component/common/typography/paragraph/paragraph.js", "../../src/js/component/common/typography/paragraph/definition.js", "../../src/js/component/common/typography/titles/title.js", "../../src/js/component/common/typography/titles/definition.js", "../../src/js/component/common/htmlContent/htmlContent.js", "../../src/js/component/common/htmlContent/definition.js", "../../src/js/mobMotion/plugin/smoothScroller/smoothScroller.js", "../../src/js/mobMotion/plugin/bodyScroll/bodyScroll.js", "../../src/js/mobMotion/plugin/slide/slide.js", "../../src/js/mobMotion/plugin/horizontalScroller/js/horizontalScrollerConstant.js", "../../src/js/mobMotion/plugin/horizontalScroller/js/horizontalScrollerCss.js", "../../src/js/mobMotion/plugin/horizontalScroller/js/horizontalScroller.js", "../../src/js/component/common/codeOverlay/animation/overlayScroller.js", "../../src/svg/icon-copy.svg", "../../src/js/component/common/codeOverlay/codeOverlay.js", "../../src/js/component/common/codeOverlay/codeOverlayButton.js", "../../src/js/component/common/codeOverlay/definition.js", "../../src/js/component/common/debug/debugButton.js", "../../src/js/component/common/debug/definition.js", "../../src/js/component/common/mLogo1/mLogo1.js", "../../src/js/component/common/mLogo1/definition.js", "../../src/svg/scroll_arrow.svg", "../../src/js/component/common/nextPage/nextPage.js", "../../src/js/component/common/nextPage/definition.js", "../../src/js/component/common/routeLoader/routeLoader.js", "../../src/js/component/common/routeLoader/definition.js", "../../src/js/component/common/scrolldownLabel/scrolldownLabel.js", "../../src/js/component/common/scrolldownLabel/definition.js", "../../src/js/component/layout/footer/footer.js", "../../src/js/component/layout/footer/footerNav/footerButton.js", "../../src/js/component/layout/footer/footerNav/footerNav.js", "../../src/js/component/layout/footer/footerNav/definition.js", "../../src/js/component/layout/footer/definition.js", "../../src/js/component/layout/header/header.js", "../../src/svg/icon-github.svg", "../../src/js/component/layout/header/headernav.js", "../../src/js/component/layout/header/headerToggle.js", "../../src/js/component/layout/header/definition.js", "../../src/js/component/layout/navigation/animation/navScroller.js", "../../src/js/component/layout/navigation/navContainer.js", "../../src/js/component/layout/navigation/navigation.js", "../../src/js/component/layout/navigation/navigationButton.js", "../../src/js/component/layout/navigation/navigationLabel.js", "../../src/js/component/layout/navigation/navigationSubmenu.js", "../../src/js/component/layout/navigation/definition.js", "../../src/js/wrapper/index.js", "../../src/js/utils/scrollbarWith.js", "../../src/js/pageTransition/index.js", "../../src/js/pages/404/index.js", "../../src/js/component/common/docsContainer/docContainer.js", "../../src/js/component/common/docsContainer/definition.js", "../../src/js/component/common/doctitle/docSide.js", "../../src/js/component/common/doctitle/definition.js", "../../src/js/component/common/doctitleSmall/docSide.js", "../../src/js/component/common/doctitleSmall/definition.js", "../../src/js/component/common/scrollTo/button/scrollToButton.js", "../../src/js/component/common/scrollTo/button/definition.js", "../../src/js/component/common/scrollTo/scrollTo.js", "../../src/js/component/common/scrollTo/definition.js", "../../src/js/pages/Layout/layoutSidebarAnchor.js", "../../src/js/component/common/linksMobJs/data.js", "../../src/js/component/common/linksMobJs/linksMobJs.js", "../../src/js/component/common/linksMobJs/linksMobJsButton.js", "../../src/js/component/common/linksMobJs/definition.js", "../../src/js/pages/Layout/layoutSidebarLinks.js", "../../src/js/component/common/onlyDesktop/onlyDesktop.js", "../../src/js/component/common/onlyDesktop/definition.js", "../../src/js/utils/canvasUtils.js", "../../src/js/component/pages/animatedPattern/animatedPatternN0/animation/animation.js", "../../src/js/component/pages/animatedPattern/animatedPatternN0/animatedPatternN0.js", "../../src/js/component/pages/animatedPattern/animatedPatternN0/definition.js", "../../src/js/pages/canvas/animatedPatternN0/animatedPatternN0Params.js", "../../src/js/pages/canvas/animatedPatternN0/index.js", "../../src/js/component/pages/animatedPattern/animatedPatternN1/animation/animation.js", "../../src/js/component/pages/animatedPattern/animatedPatternN1/animatedPatternN1.js", "../../src/js/component/pages/animatedPattern/animatedPatternN1/definition.js", "../../src/js/pages/canvas/animatedPatternN1/index.js", "../../src/js/component/pages/canvas/caterpillarN0/animation/animation.js", "../../src/js/component/pages/canvas/caterpillarN0/caterpillarN0.js", "../../src/js/component/pages/canvas/caterpillarN0/definition.js", "../../src/js/pages/canvas/caterpillarN0/index.js", "../../src/js/component/pages/canvas/caterpillarN1/animation/animation.js", "../../src/js/component/pages/canvas/caterpillarN1/caterpillarN1.js", "../../src/js/component/pages/canvas/caterpillarN1/definition.js", "../../src/js/pages/canvas/caterpillarN1/index.js", "../../src/js/component/pages/canvas/caterpillarN2/animation/animation.js", "../../src/js/component/pages/canvas/caterpillarN2/caterpillarN2.js", "../../src/js/component/pages/canvas/caterpillarN2/definition.js", "../../src/js/pages/canvas/caterpillarN2/index.js", "../../src/js/pages/canvas/overview/index.js", "../../src/js/component/pages/scroller/ScrollerN0/animation/animation.js", "../../src/js/component/pages/scroller/ScrollerN0/scrollerN0.js", "../../src/js/component/pages/scroller/ScrollerN0/definition.js", "../../src/js/pages/canvas/scroller/scrollerParams.js", "../../src/js/pages/canvas/scroller/index.js", "../../src/js/component/pages/scroller/ScrollerN1/animation/animation.js", "../../src/js/component/pages/scroller/ScrollerN1/scrollerN1.js", "../../src/js/component/pages/scroller/ScrollerN1/definition.js", "../../src/js/pages/canvas/scrollerN1/index.js", "../../src/js/component/pages/dynamicList/button/dynamicListButton.js", "../../src/js/component/pages/dynamicList/button/definition.js", "../../src/js/component/pages/dynamicList/data/index.js", "../../src/js/component/pages/dynamicList/dynamicList.js", "../../src/js/component/pages/dynamicList/counter/dynamicListCounter.js", "../../src/js/component/pages/dynamicList/counter/definition.js", "../../src/js/component/pages/dynamicList/empty/dynamicListEmpty.js", "../../src/js/component/pages/dynamicList/empty/definition.js", "../../src/js/component/pages/dynamicList/card/dynamicListCard.js", "../../src/js/component/pages/dynamicList/card/definition.js", "../../src/js/component/pages/dynamicList/slottedLabel/dynamicListSlottedLabel.js", "../../src/js/component/pages/dynamicList/slottedLabel/definition.js", "../../src/js/component/pages/dynamicList/repeaters/dynamicListRepeater.js", "../../src/js/component/pages/dynamicList/repeaters/definition.js", "../../src/js/component/pages/dynamicList/definition.js", "../../src/js/pages/dynamicList/index.js", "../../src/js/component/lib/animation/simpleIntro.js", "../../src/js/component/pages/homepage/animation/text.js", "../../src/js/component/pages/homepage/home.js", "../../src/js/component/pages/homepage/definition.js", "../../src/js/pages/home/index.js", "../../src/js/component/common/shapes/footerShapeV1.js", "../../src/js/component/common/shapes/definition.js", "../../src/js/component/pages/horizontalScroller/animation/animation.js", "../../src/js/component/pages/horizontalScroller/horizontalScroller.js", "../../src/js/component/pages/horizontalScroller/horizontalScrollerButton/horizontalScrollerButton.js", "../../src/js/component/pages/horizontalScroller/horizontalScrollerButton/definition.js", "../../src/js/component/pages/horizontalScroller/horizontalScrollerSection/horizontalScrollerSection.js", "../../src/js/component/pages/horizontalScroller/horizontalScrollerSection/definition.js", "../../src/js/component/pages/horizontalScroller/definition.js", "../../src/js/pages/plugin/horizontalScroller/horizontalScrollerParams.js", "../../src/js/pages/plugin/horizontalScroller/index.js", "../../src/js/component/pages/svg/child/animation/animation.js", "../../src/js/component/pages/svg/child/child.js", "../../src/js/component/pages/svg/child/definition.js", "../../src/js/pages/svg/child/index.js", "../../src/js/component/pages/svg/mv1/animation/index.js", "../../src/js/component/pages/svg/mv1/mv1.js", "../../src/js/component/pages/svg/mv1/definition.js", "../../src/js/pages/svg/mv1/index.js", "../../src/js/pages/index.js", "../../src/js/main.js"],
  "sourcesContent": ["/* eslint-disable no-multi-assign */\n\nfunction deepFreeze(obj) {\n  if (obj instanceof Map) {\n    obj.clear =\n      obj.delete =\n      obj.set =\n        function () {\n          throw new Error('map is read-only');\n        };\n  } else if (obj instanceof Set) {\n    obj.add =\n      obj.clear =\n      obj.delete =\n        function () {\n          throw new Error('set is read-only');\n        };\n  }\n\n  // Freeze self\n  Object.freeze(obj);\n\n  Object.getOwnPropertyNames(obj).forEach((name) => {\n    const prop = obj[name];\n    const type = typeof prop;\n\n    // Freeze prop if it is an object or function and also not already frozen\n    if ((type === 'object' || type === 'function') && !Object.isFrozen(prop)) {\n      deepFreeze(prop);\n    }\n  });\n\n  return obj;\n}\n\n/** @typedef {import('highlight.js').CallbackResponse} CallbackResponse */\n/** @typedef {import('highlight.js').CompiledMode} CompiledMode */\n/** @implements CallbackResponse */\n\nclass Response {\n  /**\n   * @param {CompiledMode} mode\n   */\n  constructor(mode) {\n    // eslint-disable-next-line no-undefined\n    if (mode.data === undefined) mode.data = {};\n\n    this.data = mode.data;\n    this.isMatchIgnored = false;\n  }\n\n  ignoreMatch() {\n    this.isMatchIgnored = true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHTML(value) {\n  return value\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n}\n\n/**\n * performs a shallow merge of multiple objects into one\n *\n * @template T\n * @param {T} original\n * @param {Record<string,any>[]} objects\n * @returns {T} a single new object\n */\nfunction inherit$1(original, ...objects) {\n  /** @type Record<string,any> */\n  const result = Object.create(null);\n\n  for (const key in original) {\n    result[key] = original[key];\n  }\n  objects.forEach(function(obj) {\n    for (const key in obj) {\n      result[key] = obj[key];\n    }\n  });\n  return /** @type {T} */ (result);\n}\n\n/**\n * @typedef {object} Renderer\n * @property {(text: string) => void} addText\n * @property {(node: Node) => void} openNode\n * @property {(node: Node) => void} closeNode\n * @property {() => string} value\n */\n\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean}} Node */\n/** @typedef {{walk: (r: Renderer) => void}} Tree */\n/** */\n\nconst SPAN_CLOSE = '</span>';\n\n/**\n * Determines if a node needs to be wrapped in <span>\n *\n * @param {Node} node */\nconst emitsWrappingTags = (node) => {\n  // rarely we can have a sublanguage where language is undefined\n  // TODO: track down why\n  return !!node.scope;\n};\n\n/**\n *\n * @param {string} name\n * @param {{prefix:string}} options\n */\nconst scopeToCSSClass = (name, { prefix }) => {\n  // sub-language\n  if (name.startsWith(\"language:\")) {\n    return name.replace(\"language:\", \"language-\");\n  }\n  // tiered scope: comment.line\n  if (name.includes(\".\")) {\n    const pieces = name.split(\".\");\n    return [\n      `${prefix}${pieces.shift()}`,\n      ...(pieces.map((x, i) => `${x}${\"_\".repeat(i + 1)}`))\n    ].join(\" \");\n  }\n  // simple scope\n  return `${prefix}${name}`;\n};\n\n/** @type {Renderer} */\nclass HTMLRenderer {\n  /**\n   * Creates a new HTMLRenderer\n   *\n   * @param {Tree} parseTree - the parse tree (must support `walk` API)\n   * @param {{classPrefix: string}} options\n   */\n  constructor(parseTree, options) {\n    this.buffer = \"\";\n    this.classPrefix = options.classPrefix;\n    parseTree.walk(this);\n  }\n\n  /**\n   * Adds texts to the output stream\n   *\n   * @param {string} text */\n  addText(text) {\n    this.buffer += escapeHTML(text);\n  }\n\n  /**\n   * Adds a node open to the output stream (if needed)\n   *\n   * @param {Node} node */\n  openNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    const className = scopeToCSSClass(node.scope,\n      { prefix: this.classPrefix });\n    this.span(className);\n  }\n\n  /**\n   * Adds a node close to the output stream (if needed)\n   *\n   * @param {Node} node */\n  closeNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    this.buffer += SPAN_CLOSE;\n  }\n\n  /**\n   * returns the accumulated buffer\n  */\n  value() {\n    return this.buffer;\n  }\n\n  // helpers\n\n  /**\n   * Builds a span element\n   *\n   * @param {string} className */\n  span(className) {\n    this.buffer += `<span class=\"${className}\">`;\n  }\n}\n\n/** @typedef {{scope?: string, language?: string, children: Node[]} | string} Node */\n/** @typedef {{scope?: string, language?: string, children: Node[]} } DataNode */\n/** @typedef {import('highlight.js').Emitter} Emitter */\n/**  */\n\n/** @returns {DataNode} */\nconst newNode = (opts = {}) => {\n  /** @type DataNode */\n  const result = { children: [] };\n  Object.assign(result, opts);\n  return result;\n};\n\nclass TokenTree {\n  constructor() {\n    /** @type DataNode */\n    this.rootNode = newNode();\n    this.stack = [this.rootNode];\n  }\n\n  get top() {\n    return this.stack[this.stack.length - 1];\n  }\n\n  get root() { return this.rootNode; }\n\n  /** @param {Node} node */\n  add(node) {\n    this.top.children.push(node);\n  }\n\n  /** @param {string} scope */\n  openNode(scope) {\n    /** @type Node */\n    const node = newNode({ scope });\n    this.add(node);\n    this.stack.push(node);\n  }\n\n  closeNode() {\n    if (this.stack.length > 1) {\n      return this.stack.pop();\n    }\n    // eslint-disable-next-line no-undefined\n    return undefined;\n  }\n\n  closeAllNodes() {\n    while (this.closeNode());\n  }\n\n  toJSON() {\n    return JSON.stringify(this.rootNode, null, 4);\n  }\n\n  /**\n   * @typedef { import(\"./html_renderer\").Renderer } Renderer\n   * @param {Renderer} builder\n   */\n  walk(builder) {\n    // this does not\n    return this.constructor._walk(builder, this.rootNode);\n    // this works\n    // return TokenTree._walk(builder, this.rootNode);\n  }\n\n  /**\n   * @param {Renderer} builder\n   * @param {Node} node\n   */\n  static _walk(builder, node) {\n    if (typeof node === \"string\") {\n      builder.addText(node);\n    } else if (node.children) {\n      builder.openNode(node);\n      node.children.forEach((child) => this._walk(builder, child));\n      builder.closeNode(node);\n    }\n    return builder;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  static _collapse(node) {\n    if (typeof node === \"string\") return;\n    if (!node.children) return;\n\n    if (node.children.every(el => typeof el === \"string\")) {\n      // node.text = node.children.join(\"\");\n      // delete node.children;\n      node.children = [node.children.join(\"\")];\n    } else {\n      node.children.forEach((child) => {\n        TokenTree._collapse(child);\n      });\n    }\n  }\n}\n\n/**\n  Currently this is all private API, but this is the minimal API necessary\n  that an Emitter must implement to fully support the parser.\n\n  Minimal interface:\n\n  - addText(text)\n  - __addSublanguage(emitter, subLanguageName)\n  - startScope(scope)\n  - endScope()\n  - finalize()\n  - toHTML()\n\n*/\n\n/**\n * @implements {Emitter}\n */\nclass TokenTreeEmitter extends TokenTree {\n  /**\n   * @param {*} options\n   */\n  constructor(options) {\n    super();\n    this.options = options;\n  }\n\n  /**\n   * @param {string} text\n   */\n  addText(text) {\n    if (text === \"\") { return; }\n\n    this.add(text);\n  }\n\n  /** @param {string} scope */\n  startScope(scope) {\n    this.openNode(scope);\n  }\n\n  endScope() {\n    this.closeNode();\n  }\n\n  /**\n   * @param {Emitter & {root: DataNode}} emitter\n   * @param {string} name\n   */\n  __addSublanguage(emitter, name) {\n    /** @type DataNode */\n    const node = emitter.root;\n    if (name) node.scope = `language:${name}`;\n\n    this.add(node);\n  }\n\n  toHTML() {\n    const renderer = new HTMLRenderer(this, this.options);\n    return renderer.value();\n  }\n\n  finalize() {\n    this.closeAllNodes();\n    return true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction lookahead(re) {\n  return concat('(?=', re, ')');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction anyNumberOfTimes(re) {\n  return concat('(?:', re, ')*');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction optional(re) {\n  return concat('(?:', re, ')?');\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/**\n * @param { Array<string | RegExp | Object> } args\n * @returns {object}\n */\nfunction stripOptionsFromArgs(args) {\n  const opts = args[args.length - 1];\n\n  if (typeof opts === 'object' && opts.constructor === Object) {\n    args.splice(args.length - 1, 1);\n    return opts;\n  } else {\n    return {};\n  }\n}\n\n/** @typedef { {capture?: boolean} } RegexEitherOptions */\n\n/**\n * Any of the passed expresssions may match\n *\n * Creates a huge this | this | that | that match\n * @param {(RegExp | string)[] | [...(RegExp | string)[], RegexEitherOptions]} args\n * @returns {string}\n */\nfunction either(...args) {\n  /** @type { object & {capture?: boolean} }  */\n  const opts = stripOptionsFromArgs(args);\n  const joined = '('\n    + (opts.capture ? \"\" : \"?:\")\n    + args.map((x) => source(x)).join(\"|\") + \")\";\n  return joined;\n}\n\n/**\n * @param {RegExp | string} re\n * @returns {number}\n */\nfunction countMatchGroups(re) {\n  return (new RegExp(re.toString() + '|')).exec('').length - 1;\n}\n\n/**\n * Does lexeme start with a regular expression match at the beginning\n * @param {RegExp} re\n * @param {string} lexeme\n */\nfunction startsWith(re, lexeme) {\n  const match = re && re.exec(lexeme);\n  return match && match.index === 0;\n}\n\n// BACKREF_RE matches an open parenthesis or backreference. To avoid\n// an incorrect parse, it additionally matches the following:\n// - [...] elements, where the meaning of parentheses and escapes change\n// - other escape sequences, so we do not misparse escape sequences as\n//   interesting elements\n// - non-matching or lookahead parentheses, which do not capture. These\n//   follow the '(' with a '?'.\nconst BACKREF_RE = /\\[(?:[^\\\\\\]]|\\\\.)*\\]|\\(\\??|\\\\([1-9][0-9]*)|\\\\./;\n\n// **INTERNAL** Not intended for outside usage\n// join logically computes regexps.join(separator), but fixes the\n// backreferences so they continue to match.\n// it also places each individual regular expression into it's own\n// match group, keeping track of the sequencing of those match groups\n// is currently an exercise for the caller. :-)\n/**\n * @param {(string | RegExp)[]} regexps\n * @param {{joinWith: string}} opts\n * @returns {string}\n */\nfunction _rewriteBackreferences(regexps, { joinWith }) {\n  let numCaptures = 0;\n\n  return regexps.map((regex) => {\n    numCaptures += 1;\n    const offset = numCaptures;\n    let re = source(regex);\n    let out = '';\n\n    while (re.length > 0) {\n      const match = BACKREF_RE.exec(re);\n      if (!match) {\n        out += re;\n        break;\n      }\n      out += re.substring(0, match.index);\n      re = re.substring(match.index + match[0].length);\n      if (match[0][0] === '\\\\' && match[1]) {\n        // Adjust the backreference.\n        out += '\\\\' + String(Number(match[1]) + offset);\n      } else {\n        out += match[0];\n        if (match[0] === '(') {\n          numCaptures++;\n        }\n      }\n    }\n    return out;\n  }).map(re => `(${re})`).join(joinWith);\n}\n\n/** @typedef {import('highlight.js').Mode} Mode */\n/** @typedef {import('highlight.js').ModeCallback} ModeCallback */\n\n// Common regexps\nconst MATCH_NOTHING_RE = /\\b\\B/;\nconst IDENT_RE = '[a-zA-Z]\\\\w*';\nconst UNDERSCORE_IDENT_RE = '[a-zA-Z_]\\\\w*';\nconst NUMBER_RE = '\\\\b\\\\d+(\\\\.\\\\d+)?';\nconst C_NUMBER_RE = '(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)'; // 0x..., 0..., decimal, float\nconst BINARY_NUMBER_RE = '\\\\b(0b[01]+)'; // 0b...\nconst RE_STARTERS_RE = '!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~';\n\n/**\n* @param { Partial<Mode> & {binary?: string | RegExp} } opts\n*/\nconst SHEBANG = (opts = {}) => {\n  const beginShebang = /^#![ ]*\\//;\n  if (opts.binary) {\n    opts.begin = concat(\n      beginShebang,\n      /.*\\b/,\n      opts.binary,\n      /\\b.*/);\n  }\n  return inherit$1({\n    scope: 'meta',\n    begin: beginShebang,\n    end: /$/,\n    relevance: 0,\n    /** @type {ModeCallback} */\n    \"on:begin\": (m, resp) => {\n      if (m.index !== 0) resp.ignoreMatch();\n    }\n  }, opts);\n};\n\n// Common modes\nconst BACKSLASH_ESCAPE = {\n  begin: '\\\\\\\\[\\\\s\\\\S]', relevance: 0\n};\nconst APOS_STRING_MODE = {\n  scope: 'string',\n  begin: '\\'',\n  end: '\\'',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst QUOTE_STRING_MODE = {\n  scope: 'string',\n  begin: '\"',\n  end: '\"',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst PHRASAL_WORDS_MODE = {\n  begin: /\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\\b/\n};\n/**\n * Creates a comment mode\n *\n * @param {string | RegExp} begin\n * @param {string | RegExp} end\n * @param {Mode | {}} [modeOptions]\n * @returns {Partial<Mode>}\n */\nconst COMMENT = function(begin, end, modeOptions = {}) {\n  const mode = inherit$1(\n    {\n      scope: 'comment',\n      begin,\n      end,\n      contains: []\n    },\n    modeOptions\n  );\n  mode.contains.push({\n    scope: 'doctag',\n    // hack to avoid the space from being included. the space is necessary to\n    // match here to prevent the plain text rule below from gobbling up doctags\n    begin: '[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)',\n    end: /(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,\n    excludeBegin: true,\n    relevance: 0\n  });\n  const ENGLISH_WORD = either(\n    // list of common 1 and 2 letter words in English\n    \"I\",\n    \"a\",\n    \"is\",\n    \"so\",\n    \"us\",\n    \"to\",\n    \"at\",\n    \"if\",\n    \"in\",\n    \"it\",\n    \"on\",\n    // note: this is not an exhaustive list of contractions, just popular ones\n    /[A-Za-z]+['](d|ve|re|ll|t|s|n)/, // contractions - can't we'd they're let's, etc\n    /[A-Za-z]+[-][a-z]+/, // `no-way`, etc.\n    /[A-Za-z][a-z]{2,}/ // allow capitalized words at beginning of sentences\n  );\n  // looking like plain text, more likely to be a comment\n  mode.contains.push(\n    {\n      // TODO: how to include \", (, ) without breaking grammars that use these for\n      // comment delimiters?\n      // begin: /[ ]+([()\"]?([A-Za-z'-]{3,}|is|a|I|so|us|[tT][oO]|at|if|in|it|on)[.]?[()\":]?([.][ ]|[ ]|\\))){3}/\n      // ---\n\n      // this tries to find sequences of 3 english words in a row (without any\n      // \"programming\" type syntax) this gives us a strong signal that we've\n      // TRULY found a comment - vs perhaps scanning with the wrong language.\n      // It's possible to find something that LOOKS like the start of the\n      // comment - but then if there is no readable text - good chance it is a\n      // false match and not a comment.\n      //\n      // for a visual example please see:\n      // https://github.com/highlightjs/highlight.js/issues/2827\n\n      begin: concat(\n        /[ ]+/, // necessary to prevent us gobbling up doctags like /* @author Bob Mcgill */\n        '(',\n        ENGLISH_WORD,\n        /[.]?[:]?([.][ ]|[ ])/,\n        '){3}') // look for 3 words in a row\n    }\n  );\n  return mode;\n};\nconst C_LINE_COMMENT_MODE = COMMENT('//', '$');\nconst C_BLOCK_COMMENT_MODE = COMMENT('/\\\\*', '\\\\*/');\nconst HASH_COMMENT_MODE = COMMENT('#', '$');\nconst NUMBER_MODE = {\n  scope: 'number',\n  begin: NUMBER_RE,\n  relevance: 0\n};\nconst C_NUMBER_MODE = {\n  scope: 'number',\n  begin: C_NUMBER_RE,\n  relevance: 0\n};\nconst BINARY_NUMBER_MODE = {\n  scope: 'number',\n  begin: BINARY_NUMBER_RE,\n  relevance: 0\n};\nconst REGEXP_MODE = {\n  scope: \"regexp\",\n  begin: /\\/(?=[^/\\n]*\\/)/,\n  end: /\\/[gimuy]*/,\n  contains: [\n    BACKSLASH_ESCAPE,\n    {\n      begin: /\\[/,\n      end: /\\]/,\n      relevance: 0,\n      contains: [BACKSLASH_ESCAPE]\n    }\n  ]\n};\nconst TITLE_MODE = {\n  scope: 'title',\n  begin: IDENT_RE,\n  relevance: 0\n};\nconst UNDERSCORE_TITLE_MODE = {\n  scope: 'title',\n  begin: UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\nconst METHOD_GUARD = {\n  // excludes method names from keyword processing\n  begin: '\\\\.\\\\s*' + UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\n\n/**\n * Adds end same as begin mechanics to a mode\n *\n * Your mode must include at least a single () match group as that first match\n * group is what is used for comparison\n * @param {Partial<Mode>} mode\n */\nconst END_SAME_AS_BEGIN = function(mode) {\n  return Object.assign(mode,\n    {\n      /** @type {ModeCallback} */\n      'on:begin': (m, resp) => { resp.data._beginMatch = m[1]; },\n      /** @type {ModeCallback} */\n      'on:end': (m, resp) => { if (resp.data._beginMatch !== m[1]) resp.ignoreMatch(); }\n    });\n};\n\nvar MODES = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  APOS_STRING_MODE: APOS_STRING_MODE,\n  BACKSLASH_ESCAPE: BACKSLASH_ESCAPE,\n  BINARY_NUMBER_MODE: BINARY_NUMBER_MODE,\n  BINARY_NUMBER_RE: BINARY_NUMBER_RE,\n  COMMENT: COMMENT,\n  C_BLOCK_COMMENT_MODE: C_BLOCK_COMMENT_MODE,\n  C_LINE_COMMENT_MODE: C_LINE_COMMENT_MODE,\n  C_NUMBER_MODE: C_NUMBER_MODE,\n  C_NUMBER_RE: C_NUMBER_RE,\n  END_SAME_AS_BEGIN: END_SAME_AS_BEGIN,\n  HASH_COMMENT_MODE: HASH_COMMENT_MODE,\n  IDENT_RE: IDENT_RE,\n  MATCH_NOTHING_RE: MATCH_NOTHING_RE,\n  METHOD_GUARD: METHOD_GUARD,\n  NUMBER_MODE: NUMBER_MODE,\n  NUMBER_RE: NUMBER_RE,\n  PHRASAL_WORDS_MODE: PHRASAL_WORDS_MODE,\n  QUOTE_STRING_MODE: QUOTE_STRING_MODE,\n  REGEXP_MODE: REGEXP_MODE,\n  RE_STARTERS_RE: RE_STARTERS_RE,\n  SHEBANG: SHEBANG,\n  TITLE_MODE: TITLE_MODE,\n  UNDERSCORE_IDENT_RE: UNDERSCORE_IDENT_RE,\n  UNDERSCORE_TITLE_MODE: UNDERSCORE_TITLE_MODE\n});\n\n/**\n@typedef {import('highlight.js').CallbackResponse} CallbackResponse\n@typedef {import('highlight.js').CompilerExt} CompilerExt\n*/\n\n// Grammar extensions / plugins\n// See: https://github.com/highlightjs/highlight.js/issues/2833\n\n// Grammar extensions allow \"syntactic sugar\" to be added to the grammar modes\n// without requiring any underlying changes to the compiler internals.\n\n// `compileMatch` being the perfect small example of now allowing a grammar\n// author to write `match` when they desire to match a single expression rather\n// than being forced to use `begin`.  The extension then just moves `match` into\n// `begin` when it runs.  Ie, no features have been added, but we've just made\n// the experience of writing (and reading grammars) a little bit nicer.\n\n// ------\n\n// TODO: We need negative look-behind support to do this properly\n/**\n * Skip a match if it has a preceding dot\n *\n * This is used for `beginKeywords` to prevent matching expressions such as\n * `bob.keyword.do()`. The mode compiler automatically wires this up as a\n * special _internal_ 'on:begin' callback for modes with `beginKeywords`\n * @param {RegExpMatchArray} match\n * @param {CallbackResponse} response\n */\nfunction skipIfHasPrecedingDot(match, response) {\n  const before = match.input[match.index - 1];\n  if (before === \".\") {\n    response.ignoreMatch();\n  }\n}\n\n/**\n *\n * @type {CompilerExt}\n */\nfunction scopeClassName(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.className !== undefined) {\n    mode.scope = mode.className;\n    delete mode.className;\n  }\n}\n\n/**\n * `beginKeywords` syntactic sugar\n * @type {CompilerExt}\n */\nfunction beginKeywords(mode, parent) {\n  if (!parent) return;\n  if (!mode.beginKeywords) return;\n\n  // for languages with keywords that include non-word characters checking for\n  // a word boundary is not sufficient, so instead we check for a word boundary\n  // or whitespace - this does no harm in any case since our keyword engine\n  // doesn't allow spaces in keywords anyways and we still check for the boundary\n  // first\n  mode.begin = '\\\\b(' + mode.beginKeywords.split(' ').join('|') + ')(?!\\\\.)(?=\\\\b|\\\\s)';\n  mode.__beforeBegin = skipIfHasPrecedingDot;\n  mode.keywords = mode.keywords || mode.beginKeywords;\n  delete mode.beginKeywords;\n\n  // prevents double relevance, the keywords themselves provide\n  // relevance, the mode doesn't need to double it\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 0;\n}\n\n/**\n * Allow `illegal` to contain an array of illegal values\n * @type {CompilerExt}\n */\nfunction compileIllegal(mode, _parent) {\n  if (!Array.isArray(mode.illegal)) return;\n\n  mode.illegal = either(...mode.illegal);\n}\n\n/**\n * `match` to match a single expression for readability\n * @type {CompilerExt}\n */\nfunction compileMatch(mode, _parent) {\n  if (!mode.match) return;\n  if (mode.begin || mode.end) throw new Error(\"begin & end are not supported with match\");\n\n  mode.begin = mode.match;\n  delete mode.match;\n}\n\n/**\n * provides the default 1 relevance to all modes\n * @type {CompilerExt}\n */\nfunction compileRelevance(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 1;\n}\n\n// allow beforeMatch to act as a \"qualifier\" for the match\n// the full match begin must be [beforeMatch][begin]\nconst beforeMatchExt = (mode, parent) => {\n  if (!mode.beforeMatch) return;\n  // starts conflicts with endsParent which we need to make sure the child\n  // rule is not matched multiple times\n  if (mode.starts) throw new Error(\"beforeMatch cannot be used with starts\");\n\n  const originalMode = Object.assign({}, mode);\n  Object.keys(mode).forEach((key) => { delete mode[key]; });\n\n  mode.keywords = originalMode.keywords;\n  mode.begin = concat(originalMode.beforeMatch, lookahead(originalMode.begin));\n  mode.starts = {\n    relevance: 0,\n    contains: [\n      Object.assign(originalMode, { endsParent: true })\n    ]\n  };\n  mode.relevance = 0;\n\n  delete originalMode.beforeMatch;\n};\n\n// keywords that should have no default relevance value\nconst COMMON_KEYWORDS = [\n  'of',\n  'and',\n  'for',\n  'in',\n  'not',\n  'or',\n  'if',\n  'then',\n  'parent', // common variable name\n  'list', // common variable name\n  'value' // common variable name\n];\n\nconst DEFAULT_KEYWORD_SCOPE = \"keyword\";\n\n/**\n * Given raw keywords from a language definition, compile them.\n *\n * @param {string | Record<string,string|string[]> | Array<string>} rawKeywords\n * @param {boolean} caseInsensitive\n */\nfunction compileKeywords(rawKeywords, caseInsensitive, scopeName = DEFAULT_KEYWORD_SCOPE) {\n  /** @type {import(\"highlight.js/private\").KeywordDict} */\n  const compiledKeywords = Object.create(null);\n\n  // input can be a string of keywords, an array of keywords, or a object with\n  // named keys representing scopeName (which can then point to a string or array)\n  if (typeof rawKeywords === 'string') {\n    compileList(scopeName, rawKeywords.split(\" \"));\n  } else if (Array.isArray(rawKeywords)) {\n    compileList(scopeName, rawKeywords);\n  } else {\n    Object.keys(rawKeywords).forEach(function(scopeName) {\n      // collapse all our objects back into the parent object\n      Object.assign(\n        compiledKeywords,\n        compileKeywords(rawKeywords[scopeName], caseInsensitive, scopeName)\n      );\n    });\n  }\n  return compiledKeywords;\n\n  // ---\n\n  /**\n   * Compiles an individual list of keywords\n   *\n   * Ex: \"for if when while|5\"\n   *\n   * @param {string} scopeName\n   * @param {Array<string>} keywordList\n   */\n  function compileList(scopeName, keywordList) {\n    if (caseInsensitive) {\n      keywordList = keywordList.map(x => x.toLowerCase());\n    }\n    keywordList.forEach(function(keyword) {\n      const pair = keyword.split('|');\n      compiledKeywords[pair[0]] = [scopeName, scoreForKeyword(pair[0], pair[1])];\n    });\n  }\n}\n\n/**\n * Returns the proper score for a given keyword\n *\n * Also takes into account comment keywords, which will be scored 0 UNLESS\n * another score has been manually assigned.\n * @param {string} keyword\n * @param {string} [providedScore]\n */\nfunction scoreForKeyword(keyword, providedScore) {\n  // manual scores always win over common keywords\n  // so you can force a score of 1 if you really insist\n  if (providedScore) {\n    return Number(providedScore);\n  }\n\n  return commonKeyword(keyword) ? 0 : 1;\n}\n\n/**\n * Determines if a given keyword is common or not\n *\n * @param {string} keyword */\nfunction commonKeyword(keyword) {\n  return COMMON_KEYWORDS.includes(keyword.toLowerCase());\n}\n\n/*\n\nFor the reasoning behind this please see:\nhttps://github.com/highlightjs/highlight.js/issues/2880#issuecomment-747275419\n\n*/\n\n/**\n * @type {Record<string, boolean>}\n */\nconst seenDeprecations = {};\n\n/**\n * @param {string} message\n */\nconst error = (message) => {\n  console.error(message);\n};\n\n/**\n * @param {string} message\n * @param {any} args\n */\nconst warn = (message, ...args) => {\n  console.log(`WARN: ${message}`, ...args);\n};\n\n/**\n * @param {string} version\n * @param {string} message\n */\nconst deprecated = (version, message) => {\n  if (seenDeprecations[`${version}/${message}`]) return;\n\n  console.log(`Deprecated as of ${version}. ${message}`);\n  seenDeprecations[`${version}/${message}`] = true;\n};\n\n/* eslint-disable no-throw-literal */\n\n/**\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n*/\n\nconst MultiClassError = new Error();\n\n/**\n * Renumbers labeled scope names to account for additional inner match\n * groups that otherwise would break everything.\n *\n * Lets say we 3 match scopes:\n *\n *   { 1 => ..., 2 => ..., 3 => ... }\n *\n * So what we need is a clean match like this:\n *\n *   (a)(b)(c) => [ \"a\", \"b\", \"c\" ]\n *\n * But this falls apart with inner match groups:\n *\n * (a)(((b)))(c) => [\"a\", \"b\", \"b\", \"b\", \"c\" ]\n *\n * Our scopes are now \"out of alignment\" and we're repeating `b` 3 times.\n * What needs to happen is the numbers are remapped:\n *\n *   { 1 => ..., 2 => ..., 5 => ... }\n *\n * We also need to know that the ONLY groups that should be output\n * are 1, 2, and 5.  This function handles this behavior.\n *\n * @param {CompiledMode} mode\n * @param {Array<RegExp | string>} regexes\n * @param {{key: \"beginScope\"|\"endScope\"}} opts\n */\nfunction remapScopeNames(mode, regexes, { key }) {\n  let offset = 0;\n  const scopeNames = mode[key];\n  /** @type Record<number,boolean> */\n  const emit = {};\n  /** @type Record<number,string> */\n  const positions = {};\n\n  for (let i = 1; i <= regexes.length; i++) {\n    positions[i + offset] = scopeNames[i];\n    emit[i + offset] = true;\n    offset += countMatchGroups(regexes[i - 1]);\n  }\n  // we use _emit to keep track of which match groups are \"top-level\" to avoid double\n  // output from inside match groups\n  mode[key] = positions;\n  mode[key]._emit = emit;\n  mode[key]._multi = true;\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction beginMultiClass(mode) {\n  if (!Array.isArray(mode.begin)) return;\n\n  if (mode.skip || mode.excludeBegin || mode.returnBegin) {\n    error(\"skip, excludeBegin, returnBegin not compatible with beginScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.beginScope !== \"object\" || mode.beginScope === null) {\n    error(\"beginScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.begin, { key: \"beginScope\" });\n  mode.begin = _rewriteBackreferences(mode.begin, { joinWith: \"\" });\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction endMultiClass(mode) {\n  if (!Array.isArray(mode.end)) return;\n\n  if (mode.skip || mode.excludeEnd || mode.returnEnd) {\n    error(\"skip, excludeEnd, returnEnd not compatible with endScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.endScope !== \"object\" || mode.endScope === null) {\n    error(\"endScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.end, { key: \"endScope\" });\n  mode.end = _rewriteBackreferences(mode.end, { joinWith: \"\" });\n}\n\n/**\n * this exists only to allow `scope: {}` to be used beside `match:`\n * Otherwise `beginScope` would necessary and that would look weird\n\n  {\n    match: [ /def/, /\\w+/ ]\n    scope: { 1: \"keyword\" , 2: \"title\" }\n  }\n\n * @param {CompiledMode} mode\n */\nfunction scopeSugar(mode) {\n  if (mode.scope && typeof mode.scope === \"object\" && mode.scope !== null) {\n    mode.beginScope = mode.scope;\n    delete mode.scope;\n  }\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction MultiClass(mode) {\n  scopeSugar(mode);\n\n  if (typeof mode.beginScope === \"string\") {\n    mode.beginScope = { _wrap: mode.beginScope };\n  }\n  if (typeof mode.endScope === \"string\") {\n    mode.endScope = { _wrap: mode.endScope };\n  }\n\n  beginMultiClass(mode);\n  endMultiClass(mode);\n}\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').CompiledLanguage} CompiledLanguage\n*/\n\n// compilation\n\n/**\n * Compiles a language definition result\n *\n * Given the raw result of a language definition (Language), compiles this so\n * that it is ready for highlighting code.\n * @param {Language} language\n * @returns {CompiledLanguage}\n */\nfunction compileLanguage(language) {\n  /**\n   * Builds a regex with the case sensitivity of the current language\n   *\n   * @param {RegExp | string} value\n   * @param {boolean} [global]\n   */\n  function langRe(value, global) {\n    return new RegExp(\n      source(value),\n      'm'\n      + (language.case_insensitive ? 'i' : '')\n      + (language.unicodeRegex ? 'u' : '')\n      + (global ? 'g' : '')\n    );\n  }\n\n  /**\n    Stores multiple regular expressions and allows you to quickly search for\n    them all in a string simultaneously - returning the first match.  It does\n    this by creating a huge (a|b|c) regex - each individual item wrapped with ()\n    and joined by `|` - using match groups to track position.  When a match is\n    found checking which position in the array has content allows us to figure\n    out which of the original regexes / match groups triggered the match.\n\n    The match object itself (the result of `Regex.exec`) is returned but also\n    enhanced by merging in any meta-data that was registered with the regex.\n    This is how we keep track of which mode matched, and what type of rule\n    (`illegal`, `begin`, end, etc).\n  */\n  class MultiRegex {\n    constructor() {\n      this.matchIndexes = {};\n      // @ts-ignore\n      this.regexes = [];\n      this.matchAt = 1;\n      this.position = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      opts.position = this.position++;\n      // @ts-ignore\n      this.matchIndexes[this.matchAt] = opts;\n      this.regexes.push([opts, re]);\n      this.matchAt += countMatchGroups(re) + 1;\n    }\n\n    compile() {\n      if (this.regexes.length === 0) {\n        // avoids the need to check length every time exec is called\n        // @ts-ignore\n        this.exec = () => null;\n      }\n      const terminators = this.regexes.map(el => el[1]);\n      this.matcherRe = langRe(_rewriteBackreferences(terminators, { joinWith: '|' }), true);\n      this.lastIndex = 0;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      this.matcherRe.lastIndex = this.lastIndex;\n      const match = this.matcherRe.exec(s);\n      if (!match) { return null; }\n\n      // eslint-disable-next-line no-undefined\n      const i = match.findIndex((el, i) => i > 0 && el !== undefined);\n      // @ts-ignore\n      const matchData = this.matchIndexes[i];\n      // trim off any earlier non-relevant match groups (ie, the other regex\n      // match groups that make up the multi-matcher)\n      match.splice(0, i);\n\n      return Object.assign(match, matchData);\n    }\n  }\n\n  /*\n    Created to solve the key deficiently with MultiRegex - there is no way to\n    test for multiple matches at a single location.  Why would we need to do\n    that?  In the future a more dynamic engine will allow certain matches to be\n    ignored.  An example: if we matched say the 3rd regex in a large group but\n    decided to ignore it - we'd need to started testing again at the 4th\n    regex... but MultiRegex itself gives us no real way to do that.\n\n    So what this class creates MultiRegexs on the fly for whatever search\n    position they are needed.\n\n    NOTE: These additional MultiRegex objects are created dynamically.  For most\n    grammars most of the time we will never actually need anything more than the\n    first MultiRegex - so this shouldn't have too much overhead.\n\n    Say this is our search group, and we match regex3, but wish to ignore it.\n\n      regex1 | regex2 | regex3 | regex4 | regex5    ' ie, startAt = 0\n\n    What we need is a new MultiRegex that only includes the remaining\n    possibilities:\n\n      regex4 | regex5                               ' ie, startAt = 3\n\n    This class wraps all that complexity up in a simple API... `startAt` decides\n    where in the array of expressions to start doing the matching. It\n    auto-increments, so if a match is found at position 2, then startAt will be\n    set to 3.  If the end is reached startAt will return to 0.\n\n    MOST of the time the parser will be setting startAt manually to 0.\n  */\n  class ResumableMultiRegex {\n    constructor() {\n      // @ts-ignore\n      this.rules = [];\n      // @ts-ignore\n      this.multiRegexes = [];\n      this.count = 0;\n\n      this.lastIndex = 0;\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    getMatcher(index) {\n      if (this.multiRegexes[index]) return this.multiRegexes[index];\n\n      const matcher = new MultiRegex();\n      this.rules.slice(index).forEach(([re, opts]) => matcher.addRule(re, opts));\n      matcher.compile();\n      this.multiRegexes[index] = matcher;\n      return matcher;\n    }\n\n    resumingScanAtSamePosition() {\n      return this.regexIndex !== 0;\n    }\n\n    considerAll() {\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      this.rules.push([re, opts]);\n      if (opts.type === \"begin\") this.count++;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      const m = this.getMatcher(this.regexIndex);\n      m.lastIndex = this.lastIndex;\n      let result = m.exec(s);\n\n      // The following is because we have no easy way to say \"resume scanning at the\n      // existing position but also skip the current rule ONLY\". What happens is\n      // all prior rules are also skipped which can result in matching the wrong\n      // thing. Example of matching \"booger\":\n\n      // our matcher is [string, \"booger\", number]\n      //\n      // ....booger....\n\n      // if \"booger\" is ignored then we'd really need a regex to scan from the\n      // SAME position for only: [string, number] but ignoring \"booger\" (if it\n      // was the first match), a simple resume would scan ahead who knows how\n      // far looking only for \"number\", ignoring potential string matches (or\n      // future \"booger\" matches that might be valid.)\n\n      // So what we do: We execute two matchers, one resuming at the same\n      // position, but the second full matcher starting at the position after:\n\n      //     /--- resume first regex match here (for [number])\n      //     |/---- full match here for [string, \"booger\", number]\n      //     vv\n      // ....booger....\n\n      // Which ever results in a match first is then used. So this 3-4 step\n      // process essentially allows us to say \"match at this position, excluding\n      // a prior rule that was ignored\".\n      //\n      // 1. Match \"booger\" first, ignore. Also proves that [string] does non match.\n      // 2. Resume matching for [number]\n      // 3. Match at index + 1 for [string, \"booger\", number]\n      // 4. If #2 and #3 result in matches, which came first?\n      if (this.resumingScanAtSamePosition()) {\n        if (result && result.index === this.lastIndex) ; else { // use the second matcher result\n          const m2 = this.getMatcher(0);\n          m2.lastIndex = this.lastIndex + 1;\n          result = m2.exec(s);\n        }\n      }\n\n      if (result) {\n        this.regexIndex += result.position + 1;\n        if (this.regexIndex === this.count) {\n          // wrap-around to considering all matches again\n          this.considerAll();\n        }\n      }\n\n      return result;\n    }\n  }\n\n  /**\n   * Given a mode, builds a huge ResumableMultiRegex that can be used to walk\n   * the content and find matches.\n   *\n   * @param {CompiledMode} mode\n   * @returns {ResumableMultiRegex}\n   */\n  function buildModeRegex(mode) {\n    const mm = new ResumableMultiRegex();\n\n    mode.contains.forEach(term => mm.addRule(term.begin, { rule: term, type: \"begin\" }));\n\n    if (mode.terminatorEnd) {\n      mm.addRule(mode.terminatorEnd, { type: \"end\" });\n    }\n    if (mode.illegal) {\n      mm.addRule(mode.illegal, { type: \"illegal\" });\n    }\n\n    return mm;\n  }\n\n  /** skip vs abort vs ignore\n   *\n   * @skip   - The mode is still entered and exited normally (and contains rules apply),\n   *           but all content is held and added to the parent buffer rather than being\n   *           output when the mode ends.  Mostly used with `sublanguage` to build up\n   *           a single large buffer than can be parsed by sublanguage.\n   *\n   *             - The mode begin ands ends normally.\n   *             - Content matched is added to the parent mode buffer.\n   *             - The parser cursor is moved forward normally.\n   *\n   * @abort  - A hack placeholder until we have ignore.  Aborts the mode (as if it\n   *           never matched) but DOES NOT continue to match subsequent `contains`\n   *           modes.  Abort is bad/suboptimal because it can result in modes\n   *           farther down not getting applied because an earlier rule eats the\n   *           content but then aborts.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is added to the mode buffer.\n   *             - The parser cursor is moved forward accordingly.\n   *\n   * @ignore - Ignores the mode (as if it never matched) and continues to match any\n   *           subsequent `contains` modes.  Ignore isn't technically possible with\n   *           the current parser implementation.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is ignored.\n   *             - The parser cursor is not moved forward.\n   */\n\n  /**\n   * Compiles an individual mode\n   *\n   * This can raise an error if the mode contains certain detectable known logic\n   * issues.\n   * @param {Mode} mode\n   * @param {CompiledMode | null} [parent]\n   * @returns {CompiledMode | never}\n   */\n  function compileMode(mode, parent) {\n    const cmode = /** @type CompiledMode */ (mode);\n    if (mode.isCompiled) return cmode;\n\n    [\n      scopeClassName,\n      // do this early so compiler extensions generally don't have to worry about\n      // the distinction between match/begin\n      compileMatch,\n      MultiClass,\n      beforeMatchExt\n    ].forEach(ext => ext(mode, parent));\n\n    language.compilerExtensions.forEach(ext => ext(mode, parent));\n\n    // __beforeBegin is considered private API, internal use only\n    mode.__beforeBegin = null;\n\n    [\n      beginKeywords,\n      // do this later so compiler extensions that come earlier have access to the\n      // raw array if they wanted to perhaps manipulate it, etc.\n      compileIllegal,\n      // default to 1 relevance if not specified\n      compileRelevance\n    ].forEach(ext => ext(mode, parent));\n\n    mode.isCompiled = true;\n\n    let keywordPattern = null;\n    if (typeof mode.keywords === \"object\" && mode.keywords.$pattern) {\n      // we need a copy because keywords might be compiled multiple times\n      // so we can't go deleting $pattern from the original on the first\n      // pass\n      mode.keywords = Object.assign({}, mode.keywords);\n      keywordPattern = mode.keywords.$pattern;\n      delete mode.keywords.$pattern;\n    }\n    keywordPattern = keywordPattern || /\\w+/;\n\n    if (mode.keywords) {\n      mode.keywords = compileKeywords(mode.keywords, language.case_insensitive);\n    }\n\n    cmode.keywordPatternRe = langRe(keywordPattern, true);\n\n    if (parent) {\n      if (!mode.begin) mode.begin = /\\B|\\b/;\n      cmode.beginRe = langRe(cmode.begin);\n      if (!mode.end && !mode.endsWithParent) mode.end = /\\B|\\b/;\n      if (mode.end) cmode.endRe = langRe(cmode.end);\n      cmode.terminatorEnd = source(cmode.end) || '';\n      if (mode.endsWithParent && parent.terminatorEnd) {\n        cmode.terminatorEnd += (mode.end ? '|' : '') + parent.terminatorEnd;\n      }\n    }\n    if (mode.illegal) cmode.illegalRe = langRe(/** @type {RegExp | string} */ (mode.illegal));\n    if (!mode.contains) mode.contains = [];\n\n    mode.contains = [].concat(...mode.contains.map(function(c) {\n      return expandOrCloneMode(c === 'self' ? mode : c);\n    }));\n    mode.contains.forEach(function(c) { compileMode(/** @type Mode */ (c), cmode); });\n\n    if (mode.starts) {\n      compileMode(mode.starts, parent);\n    }\n\n    cmode.matcher = buildModeRegex(cmode);\n    return cmode;\n  }\n\n  if (!language.compilerExtensions) language.compilerExtensions = [];\n\n  // self is not valid at the top-level\n  if (language.contains && language.contains.includes('self')) {\n    throw new Error(\"ERR: contains `self` is not supported at the top-level of a language.  See documentation.\");\n  }\n\n  // we need a null object, which inherit will guarantee\n  language.classNameAliases = inherit$1(language.classNameAliases || {});\n\n  return compileMode(/** @type Mode */ (language));\n}\n\n/**\n * Determines if a mode has a dependency on it's parent or not\n *\n * If a mode does have a parent dependency then often we need to clone it if\n * it's used in multiple places so that each copy points to the correct parent,\n * where-as modes without a parent can often safely be re-used at the bottom of\n * a mode chain.\n *\n * @param {Mode | null} mode\n * @returns {boolean} - is there a dependency on the parent?\n * */\nfunction dependencyOnParent(mode) {\n  if (!mode) return false;\n\n  return mode.endsWithParent || dependencyOnParent(mode.starts);\n}\n\n/**\n * Expands a mode or clones it if necessary\n *\n * This is necessary for modes with parental dependenceis (see notes on\n * `dependencyOnParent`) and for nodes that have `variants` - which must then be\n * exploded into their own individual modes at compile time.\n *\n * @param {Mode} mode\n * @returns {Mode | Mode[]}\n * */\nfunction expandOrCloneMode(mode) {\n  if (mode.variants && !mode.cachedVariants) {\n    mode.cachedVariants = mode.variants.map(function(variant) {\n      return inherit$1(mode, { variants: null }, variant);\n    });\n  }\n\n  // EXPAND\n  // if we have variants then essentially \"replace\" the mode with the variants\n  // this happens in compileMode, where this function is called from\n  if (mode.cachedVariants) {\n    return mode.cachedVariants;\n  }\n\n  // CLONE\n  // if we have dependencies on parents then we need a unique\n  // instance of ourselves, so we can be reused with many\n  // different parents without issue\n  if (dependencyOnParent(mode)) {\n    return inherit$1(mode, { starts: mode.starts ? inherit$1(mode.starts) : null });\n  }\n\n  if (Object.isFrozen(mode)) {\n    return inherit$1(mode);\n  }\n\n  // no special dependency issues, just return ourselves\n  return mode;\n}\n\nvar version = \"11.9.0\";\n\nclass HTMLInjectionError extends Error {\n  constructor(reason, html) {\n    super(reason);\n    this.name = \"HTMLInjectionError\";\n    this.html = html;\n  }\n}\n\n/*\nSyntax highlighting with language autodetection.\nhttps://highlightjs.org/\n*/\n\n\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').CompiledScope} CompiledScope\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSApi} HLJSApi\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').PluginEvent} PluginEvent\n@typedef {import('highlight.js').HLJSOptions} HLJSOptions\n@typedef {import('highlight.js').LanguageFn} LanguageFn\n@typedef {import('highlight.js').HighlightedHTMLElement} HighlightedHTMLElement\n@typedef {import('highlight.js').BeforeHighlightContext} BeforeHighlightContext\n@typedef {import('highlight.js/private').MatchType} MatchType\n@typedef {import('highlight.js/private').KeywordData} KeywordData\n@typedef {import('highlight.js/private').EnhancedMatch} EnhancedMatch\n@typedef {import('highlight.js/private').AnnotatedError} AnnotatedError\n@typedef {import('highlight.js').AutoHighlightResult} AutoHighlightResult\n@typedef {import('highlight.js').HighlightOptions} HighlightOptions\n@typedef {import('highlight.js').HighlightResult} HighlightResult\n*/\n\n\nconst escape = escapeHTML;\nconst inherit = inherit$1;\nconst NO_MATCH = Symbol(\"nomatch\");\nconst MAX_KEYWORD_HITS = 7;\n\n/**\n * @param {any} hljs - object that is extended (legacy)\n * @returns {HLJSApi}\n */\nconst HLJS = function(hljs) {\n  // Global internal variables used within the highlight.js library.\n  /** @type {Record<string, Language>} */\n  const languages = Object.create(null);\n  /** @type {Record<string, string>} */\n  const aliases = Object.create(null);\n  /** @type {HLJSPlugin[]} */\n  const plugins = [];\n\n  // safe/production mode - swallows more errors, tries to keep running\n  // even if a single syntax or parse hits a fatal error\n  let SAFE_MODE = true;\n  const LANGUAGE_NOT_FOUND = \"Could not find the language '{}', did you forget to load/include a language module?\";\n  /** @type {Language} */\n  const PLAINTEXT_LANGUAGE = { disableAutodetect: true, name: 'Plain text', contains: [] };\n\n  // Global options used when within external APIs. This is modified when\n  // calling the `hljs.configure` function.\n  /** @type HLJSOptions */\n  let options = {\n    ignoreUnescapedHTML: false,\n    throwUnescapedHTML: false,\n    noHighlightRe: /^(no-?highlight)$/i,\n    languageDetectRe: /\\blang(?:uage)?-([\\w-]+)\\b/i,\n    classPrefix: 'hljs-',\n    cssSelector: 'pre code',\n    languages: null,\n    // beta configuration options, subject to change, welcome to discuss\n    // https://github.com/highlightjs/highlight.js/issues/1086\n    __emitter: TokenTreeEmitter\n  };\n\n  /* Utility functions */\n\n  /**\n   * Tests a language name to see if highlighting should be skipped\n   * @param {string} languageName\n   */\n  function shouldNotHighlight(languageName) {\n    return options.noHighlightRe.test(languageName);\n  }\n\n  /**\n   * @param {HighlightedHTMLElement} block - the HTML element to determine language for\n   */\n  function blockLanguage(block) {\n    let classes = block.className + ' ';\n\n    classes += block.parentNode ? block.parentNode.className : '';\n\n    // language-* takes precedence over non-prefixed class names.\n    const match = options.languageDetectRe.exec(classes);\n    if (match) {\n      const language = getLanguage(match[1]);\n      if (!language) {\n        warn(LANGUAGE_NOT_FOUND.replace(\"{}\", match[1]));\n        warn(\"Falling back to no-highlight mode for this block.\", block);\n      }\n      return language ? match[1] : 'no-highlight';\n    }\n\n    return classes\n      .split(/\\s+/)\n      .find((_class) => shouldNotHighlight(_class) || getLanguage(_class));\n  }\n\n  /**\n   * Core highlighting function.\n   *\n   * OLD API\n   * highlight(lang, code, ignoreIllegals, continuation)\n   *\n   * NEW API\n   * highlight(code, {lang, ignoreIllegals})\n   *\n   * @param {string} codeOrLanguageName - the language to use for highlighting\n   * @param {string | HighlightOptions} optionsOrCode - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   *\n   * @returns {HighlightResult} Result - an object that represents the result\n   * @property {string} language - the language name\n   * @property {number} relevance - the relevance score\n   * @property {string} value - the highlighted HTML code\n   * @property {string} code - the original raw code\n   * @property {CompiledMode} top - top of the current mode stack\n   * @property {boolean} illegal - indicates whether any illegal matches were found\n  */\n  function highlight(codeOrLanguageName, optionsOrCode, ignoreIllegals) {\n    let code = \"\";\n    let languageName = \"\";\n    if (typeof optionsOrCode === \"object\") {\n      code = codeOrLanguageName;\n      ignoreIllegals = optionsOrCode.ignoreIllegals;\n      languageName = optionsOrCode.language;\n    } else {\n      // old API\n      deprecated(\"10.7.0\", \"highlight(lang, code, ...args) has been deprecated.\");\n      deprecated(\"10.7.0\", \"Please use highlight(code, options) instead.\\nhttps://github.com/highlightjs/highlight.js/issues/2277\");\n      languageName = codeOrLanguageName;\n      code = optionsOrCode;\n    }\n\n    // https://github.com/highlightjs/highlight.js/issues/3149\n    // eslint-disable-next-line no-undefined\n    if (ignoreIllegals === undefined) { ignoreIllegals = true; }\n\n    /** @type {BeforeHighlightContext} */\n    const context = {\n      code,\n      language: languageName\n    };\n    // the plugin can change the desired language or the code to be highlighted\n    // just be changing the object it was passed\n    fire(\"before:highlight\", context);\n\n    // a before plugin can usurp the result completely by providing it's own\n    // in which case we don't even need to call highlight\n    const result = context.result\n      ? context.result\n      : _highlight(context.language, context.code, ignoreIllegals);\n\n    result.code = context.code;\n    // the plugin can change anything in result to suite it\n    fire(\"after:highlight\", result);\n\n    return result;\n  }\n\n  /**\n   * private highlight that's used internally and does not fire callbacks\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} codeToHighlight - the code to highlight\n   * @param {boolean?} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {CompiledMode?} [continuation] - current continuation mode, if any\n   * @returns {HighlightResult} - result of the highlight operation\n  */\n  function _highlight(languageName, codeToHighlight, ignoreIllegals, continuation) {\n    const keywordHits = Object.create(null);\n\n    /**\n     * Return keyword data if a match is a keyword\n     * @param {CompiledMode} mode - current mode\n     * @param {string} matchText - the textual match\n     * @returns {KeywordData | false}\n     */\n    function keywordData(mode, matchText) {\n      return mode.keywords[matchText];\n    }\n\n    function processKeywords() {\n      if (!top.keywords) {\n        emitter.addText(modeBuffer);\n        return;\n      }\n\n      let lastIndex = 0;\n      top.keywordPatternRe.lastIndex = 0;\n      let match = top.keywordPatternRe.exec(modeBuffer);\n      let buf = \"\";\n\n      while (match) {\n        buf += modeBuffer.substring(lastIndex, match.index);\n        const word = language.case_insensitive ? match[0].toLowerCase() : match[0];\n        const data = keywordData(top, word);\n        if (data) {\n          const [kind, keywordRelevance] = data;\n          emitter.addText(buf);\n          buf = \"\";\n\n          keywordHits[word] = (keywordHits[word] || 0) + 1;\n          if (keywordHits[word] <= MAX_KEYWORD_HITS) relevance += keywordRelevance;\n          if (kind.startsWith(\"_\")) {\n            // _ implied for relevance only, do not highlight\n            // by applying a class name\n            buf += match[0];\n          } else {\n            const cssClass = language.classNameAliases[kind] || kind;\n            emitKeyword(match[0], cssClass);\n          }\n        } else {\n          buf += match[0];\n        }\n        lastIndex = top.keywordPatternRe.lastIndex;\n        match = top.keywordPatternRe.exec(modeBuffer);\n      }\n      buf += modeBuffer.substring(lastIndex);\n      emitter.addText(buf);\n    }\n\n    function processSubLanguage() {\n      if (modeBuffer === \"\") return;\n      /** @type HighlightResult */\n      let result = null;\n\n      if (typeof top.subLanguage === 'string') {\n        if (!languages[top.subLanguage]) {\n          emitter.addText(modeBuffer);\n          return;\n        }\n        result = _highlight(top.subLanguage, modeBuffer, true, continuations[top.subLanguage]);\n        continuations[top.subLanguage] = /** @type {CompiledMode} */ (result._top);\n      } else {\n        result = highlightAuto(modeBuffer, top.subLanguage.length ? top.subLanguage : null);\n      }\n\n      // Counting embedded language score towards the host language may be disabled\n      // with zeroing the containing mode relevance. Use case in point is Markdown that\n      // allows XML everywhere and makes every XML snippet to have a much larger Markdown\n      // score.\n      if (top.relevance > 0) {\n        relevance += result.relevance;\n      }\n      emitter.__addSublanguage(result._emitter, result.language);\n    }\n\n    function processBuffer() {\n      if (top.subLanguage != null) {\n        processSubLanguage();\n      } else {\n        processKeywords();\n      }\n      modeBuffer = '';\n    }\n\n    /**\n     * @param {string} text\n     * @param {string} scope\n     */\n    function emitKeyword(keyword, scope) {\n      if (keyword === \"\") return;\n\n      emitter.startScope(scope);\n      emitter.addText(keyword);\n      emitter.endScope();\n    }\n\n    /**\n     * @param {CompiledScope} scope\n     * @param {RegExpMatchArray} match\n     */\n    function emitMultiClass(scope, match) {\n      let i = 1;\n      const max = match.length - 1;\n      while (i <= max) {\n        if (!scope._emit[i]) { i++; continue; }\n        const klass = language.classNameAliases[scope[i]] || scope[i];\n        const text = match[i];\n        if (klass) {\n          emitKeyword(text, klass);\n        } else {\n          modeBuffer = text;\n          processKeywords();\n          modeBuffer = \"\";\n        }\n        i++;\n      }\n    }\n\n    /**\n     * @param {CompiledMode} mode - new mode to start\n     * @param {RegExpMatchArray} match\n     */\n    function startNewMode(mode, match) {\n      if (mode.scope && typeof mode.scope === \"string\") {\n        emitter.openNode(language.classNameAliases[mode.scope] || mode.scope);\n      }\n      if (mode.beginScope) {\n        // beginScope just wraps the begin match itself in a scope\n        if (mode.beginScope._wrap) {\n          emitKeyword(modeBuffer, language.classNameAliases[mode.beginScope._wrap] || mode.beginScope._wrap);\n          modeBuffer = \"\";\n        } else if (mode.beginScope._multi) {\n          // at this point modeBuffer should just be the match\n          emitMultiClass(mode.beginScope, match);\n          modeBuffer = \"\";\n        }\n      }\n\n      top = Object.create(mode, { parent: { value: top } });\n      return top;\n    }\n\n    /**\n     * @param {CompiledMode } mode - the mode to potentially end\n     * @param {RegExpMatchArray} match - the latest match\n     * @param {string} matchPlusRemainder - match plus remainder of content\n     * @returns {CompiledMode | void} - the next mode, or if void continue on in current mode\n     */\n    function endOfMode(mode, match, matchPlusRemainder) {\n      let matched = startsWith(mode.endRe, matchPlusRemainder);\n\n      if (matched) {\n        if (mode[\"on:end\"]) {\n          const resp = new Response(mode);\n          mode[\"on:end\"](match, resp);\n          if (resp.isMatchIgnored) matched = false;\n        }\n\n        if (matched) {\n          while (mode.endsParent && mode.parent) {\n            mode = mode.parent;\n          }\n          return mode;\n        }\n      }\n      // even if on:end fires an `ignore` it's still possible\n      // that we might trigger the end node because of a parent mode\n      if (mode.endsWithParent) {\n        return endOfMode(mode.parent, match, matchPlusRemainder);\n      }\n    }\n\n    /**\n     * Handle matching but then ignoring a sequence of text\n     *\n     * @param {string} lexeme - string containing full match text\n     */\n    function doIgnore(lexeme) {\n      if (top.matcher.regexIndex === 0) {\n        // no more regexes to potentially match here, so we move the cursor forward one\n        // space\n        modeBuffer += lexeme[0];\n        return 1;\n      } else {\n        // no need to move the cursor, we still have additional regexes to try and\n        // match at this very spot\n        resumeScanAtSamePosition = true;\n        return 0;\n      }\n    }\n\n    /**\n     * Handle the start of a new potential mode match\n     *\n     * @param {EnhancedMatch} match - the current match\n     * @returns {number} how far to advance the parse cursor\n     */\n    function doBeginMatch(match) {\n      const lexeme = match[0];\n      const newMode = match.rule;\n\n      const resp = new Response(newMode);\n      // first internal before callbacks, then the public ones\n      const beforeCallbacks = [newMode.__beforeBegin, newMode[\"on:begin\"]];\n      for (const cb of beforeCallbacks) {\n        if (!cb) continue;\n        cb(match, resp);\n        if (resp.isMatchIgnored) return doIgnore(lexeme);\n      }\n\n      if (newMode.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (newMode.excludeBegin) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (!newMode.returnBegin && !newMode.excludeBegin) {\n          modeBuffer = lexeme;\n        }\n      }\n      startNewMode(newMode, match);\n      return newMode.returnBegin ? 0 : lexeme.length;\n    }\n\n    /**\n     * Handle the potential end of mode\n     *\n     * @param {RegExpMatchArray} match - the current match\n     */\n    function doEndMatch(match) {\n      const lexeme = match[0];\n      const matchPlusRemainder = codeToHighlight.substring(match.index);\n\n      const endMode = endOfMode(top, match, matchPlusRemainder);\n      if (!endMode) { return NO_MATCH; }\n\n      const origin = top;\n      if (top.endScope && top.endScope._wrap) {\n        processBuffer();\n        emitKeyword(lexeme, top.endScope._wrap);\n      } else if (top.endScope && top.endScope._multi) {\n        processBuffer();\n        emitMultiClass(top.endScope, match);\n      } else if (origin.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (!(origin.returnEnd || origin.excludeEnd)) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (origin.excludeEnd) {\n          modeBuffer = lexeme;\n        }\n      }\n      do {\n        if (top.scope) {\n          emitter.closeNode();\n        }\n        if (!top.skip && !top.subLanguage) {\n          relevance += top.relevance;\n        }\n        top = top.parent;\n      } while (top !== endMode.parent);\n      if (endMode.starts) {\n        startNewMode(endMode.starts, match);\n      }\n      return origin.returnEnd ? 0 : lexeme.length;\n    }\n\n    function processContinuations() {\n      const list = [];\n      for (let current = top; current !== language; current = current.parent) {\n        if (current.scope) {\n          list.unshift(current.scope);\n        }\n      }\n      list.forEach(item => emitter.openNode(item));\n    }\n\n    /** @type {{type?: MatchType, index?: number, rule?: Mode}}} */\n    let lastMatch = {};\n\n    /**\n     *  Process an individual match\n     *\n     * @param {string} textBeforeMatch - text preceding the match (since the last match)\n     * @param {EnhancedMatch} [match] - the match itself\n     */\n    function processLexeme(textBeforeMatch, match) {\n      const lexeme = match && match[0];\n\n      // add non-matched text to the current mode buffer\n      modeBuffer += textBeforeMatch;\n\n      if (lexeme == null) {\n        processBuffer();\n        return 0;\n      }\n\n      // we've found a 0 width match and we're stuck, so we need to advance\n      // this happens when we have badly behaved rules that have optional matchers to the degree that\n      // sometimes they can end up matching nothing at all\n      // Ref: https://github.com/highlightjs/highlight.js/issues/2140\n      if (lastMatch.type === \"begin\" && match.type === \"end\" && lastMatch.index === match.index && lexeme === \"\") {\n        // spit the \"skipped\" character that our regex choked on back into the output sequence\n        modeBuffer += codeToHighlight.slice(match.index, match.index + 1);\n        if (!SAFE_MODE) {\n          /** @type {AnnotatedError} */\n          const err = new Error(`0 width match regex (${languageName})`);\n          err.languageName = languageName;\n          err.badRule = lastMatch.rule;\n          throw err;\n        }\n        return 1;\n      }\n      lastMatch = match;\n\n      if (match.type === \"begin\") {\n        return doBeginMatch(match);\n      } else if (match.type === \"illegal\" && !ignoreIllegals) {\n        // illegal match, we do not continue processing\n        /** @type {AnnotatedError} */\n        const err = new Error('Illegal lexeme \"' + lexeme + '\" for mode \"' + (top.scope || '<unnamed>') + '\"');\n        err.mode = top;\n        throw err;\n      } else if (match.type === \"end\") {\n        const processed = doEndMatch(match);\n        if (processed !== NO_MATCH) {\n          return processed;\n        }\n      }\n\n      // edge case for when illegal matches $ (end of line) which is technically\n      // a 0 width match but not a begin/end match so it's not caught by the\n      // first handler (when ignoreIllegals is true)\n      if (match.type === \"illegal\" && lexeme === \"\") {\n        // advance so we aren't stuck in an infinite loop\n        return 1;\n      }\n\n      // infinite loops are BAD, this is a last ditch catch all. if we have a\n      // decent number of iterations yet our index (cursor position in our\n      // parsing) still 3x behind our index then something is very wrong\n      // so we bail\n      if (iterations > 100000 && iterations > match.index * 3) {\n        const err = new Error('potential infinite loop, way more iterations than matches');\n        throw err;\n      }\n\n      /*\n      Why might be find ourselves here?  An potential end match that was\n      triggered but could not be completed.  IE, `doEndMatch` returned NO_MATCH.\n      (this could be because a callback requests the match be ignored, etc)\n\n      This causes no real harm other than stopping a few times too many.\n      */\n\n      modeBuffer += lexeme;\n      return lexeme.length;\n    }\n\n    const language = getLanguage(languageName);\n    if (!language) {\n      error(LANGUAGE_NOT_FOUND.replace(\"{}\", languageName));\n      throw new Error('Unknown language: \"' + languageName + '\"');\n    }\n\n    const md = compileLanguage(language);\n    let result = '';\n    /** @type {CompiledMode} */\n    let top = continuation || md;\n    /** @type Record<string,CompiledMode> */\n    const continuations = {}; // keep continuations for sub-languages\n    const emitter = new options.__emitter(options);\n    processContinuations();\n    let modeBuffer = '';\n    let relevance = 0;\n    let index = 0;\n    let iterations = 0;\n    let resumeScanAtSamePosition = false;\n\n    try {\n      if (!language.__emitTokens) {\n        top.matcher.considerAll();\n\n        for (;;) {\n          iterations++;\n          if (resumeScanAtSamePosition) {\n            // only regexes not matched previously will now be\n            // considered for a potential match\n            resumeScanAtSamePosition = false;\n          } else {\n            top.matcher.considerAll();\n          }\n          top.matcher.lastIndex = index;\n\n          const match = top.matcher.exec(codeToHighlight);\n          // console.log(\"match\", match[0], match.rule && match.rule.begin)\n\n          if (!match) break;\n\n          const beforeMatch = codeToHighlight.substring(index, match.index);\n          const processedCount = processLexeme(beforeMatch, match);\n          index = match.index + processedCount;\n        }\n        processLexeme(codeToHighlight.substring(index));\n      } else {\n        language.__emitTokens(codeToHighlight, emitter);\n      }\n\n      emitter.finalize();\n      result = emitter.toHTML();\n\n      return {\n        language: languageName,\n        value: result,\n        relevance,\n        illegal: false,\n        _emitter: emitter,\n        _top: top\n      };\n    } catch (err) {\n      if (err.message && err.message.includes('Illegal')) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: true,\n          relevance: 0,\n          _illegalBy: {\n            message: err.message,\n            index,\n            context: codeToHighlight.slice(index - 100, index + 100),\n            mode: err.mode,\n            resultSoFar: result\n          },\n          _emitter: emitter\n        };\n      } else if (SAFE_MODE) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: false,\n          relevance: 0,\n          errorRaised: err,\n          _emitter: emitter,\n          _top: top\n        };\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\n   * returns a valid highlight result, without actually doing any actual work,\n   * auto highlight starts with this and it's possible for small snippets that\n   * auto-detection may not find a better match\n   * @param {string} code\n   * @returns {HighlightResult}\n   */\n  function justTextHighlightResult(code) {\n    const result = {\n      value: escape(code),\n      illegal: false,\n      relevance: 0,\n      _top: PLAINTEXT_LANGUAGE,\n      _emitter: new options.__emitter(options)\n    };\n    result._emitter.addText(code);\n    return result;\n  }\n\n  /**\n  Highlighting with language detection. Accepts a string with the code to\n  highlight. Returns an object with the following properties:\n\n  - language (detected language)\n  - relevance (int)\n  - value (an HTML string with highlighting markup)\n  - secondBest (object with the same structure for second-best heuristically\n    detected language, may be absent)\n\n    @param {string} code\n    @param {Array<string>} [languageSubset]\n    @returns {AutoHighlightResult}\n  */\n  function highlightAuto(code, languageSubset) {\n    languageSubset = languageSubset || options.languages || Object.keys(languages);\n    const plaintext = justTextHighlightResult(code);\n\n    const results = languageSubset.filter(getLanguage).filter(autoDetection).map(name =>\n      _highlight(name, code, false)\n    );\n    results.unshift(plaintext); // plaintext is always an option\n\n    const sorted = results.sort((a, b) => {\n      // sort base on relevance\n      if (a.relevance !== b.relevance) return b.relevance - a.relevance;\n\n      // always award the tie to the base language\n      // ie if C++ and Arduino are tied, it's more likely to be C++\n      if (a.language && b.language) {\n        if (getLanguage(a.language).supersetOf === b.language) {\n          return 1;\n        } else if (getLanguage(b.language).supersetOf === a.language) {\n          return -1;\n        }\n      }\n\n      // otherwise say they are equal, which has the effect of sorting on\n      // relevance while preserving the original ordering - which is how ties\n      // have historically been settled, ie the language that comes first always\n      // wins in the case of a tie\n      return 0;\n    });\n\n    const [best, secondBest] = sorted;\n\n    /** @type {AutoHighlightResult} */\n    const result = best;\n    result.secondBest = secondBest;\n\n    return result;\n  }\n\n  /**\n   * Builds new class name for block given the language name\n   *\n   * @param {HTMLElement} element\n   * @param {string} [currentLang]\n   * @param {string} [resultLang]\n   */\n  function updateClassName(element, currentLang, resultLang) {\n    const language = (currentLang && aliases[currentLang]) || resultLang;\n\n    element.classList.add(\"hljs\");\n    element.classList.add(`language-${language}`);\n  }\n\n  /**\n   * Applies highlighting to a DOM node containing code.\n   *\n   * @param {HighlightedHTMLElement} element - the HTML element to highlight\n  */\n  function highlightElement(element) {\n    /** @type HTMLElement */\n    let node = null;\n    const language = blockLanguage(element);\n\n    if (shouldNotHighlight(language)) return;\n\n    fire(\"before:highlightElement\",\n      { el: element, language });\n\n    if (element.dataset.highlighted) {\n      console.log(\"Element previously highlighted. To highlight again, first unset `dataset.highlighted`.\", element);\n      return;\n    }\n\n    // we should be all text, no child nodes (unescaped HTML) - this is possibly\n    // an HTML injection attack - it's likely too late if this is already in\n    // production (the code has likely already done its damage by the time\n    // we're seeing it)... but we yell loudly about this so that hopefully it's\n    // more likely to be caught in development before making it to production\n    if (element.children.length > 0) {\n      if (!options.ignoreUnescapedHTML) {\n        console.warn(\"One of your code blocks includes unescaped HTML. This is a potentially serious security risk.\");\n        console.warn(\"https://github.com/highlightjs/highlight.js/wiki/security\");\n        console.warn(\"The element with unescaped HTML:\");\n        console.warn(element);\n      }\n      if (options.throwUnescapedHTML) {\n        const err = new HTMLInjectionError(\n          \"One of your code blocks includes unescaped HTML.\",\n          element.innerHTML\n        );\n        throw err;\n      }\n    }\n\n    node = element;\n    const text = node.textContent;\n    const result = language ? highlight(text, { language, ignoreIllegals: true }) : highlightAuto(text);\n\n    element.innerHTML = result.value;\n    element.dataset.highlighted = \"yes\";\n    updateClassName(element, language, result.language);\n    element.result = {\n      language: result.language,\n      // TODO: remove with version 11.0\n      re: result.relevance,\n      relevance: result.relevance\n    };\n    if (result.secondBest) {\n      element.secondBest = {\n        language: result.secondBest.language,\n        relevance: result.secondBest.relevance\n      };\n    }\n\n    fire(\"after:highlightElement\", { el: element, result, text });\n  }\n\n  /**\n   * Updates highlight.js global options with the passed options\n   *\n   * @param {Partial<HLJSOptions>} userOptions\n   */\n  function configure(userOptions) {\n    options = inherit(options, userOptions);\n  }\n\n  // TODO: remove v12, deprecated\n  const initHighlighting = () => {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlighting() deprecated.  Use highlightAll() now.\");\n  };\n\n  // TODO: remove v12, deprecated\n  function initHighlightingOnLoad() {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlightingOnLoad() deprecated.  Use highlightAll() now.\");\n  }\n\n  let wantsHighlight = false;\n\n  /**\n   * auto-highlights all pre>code elements on the page\n   */\n  function highlightAll() {\n    // if we are called too early in the loading process\n    if (document.readyState === \"loading\") {\n      wantsHighlight = true;\n      return;\n    }\n\n    const blocks = document.querySelectorAll(options.cssSelector);\n    blocks.forEach(highlightElement);\n  }\n\n  function boot() {\n    // if a highlight was requested before DOM was loaded, do now\n    if (wantsHighlight) highlightAll();\n  }\n\n  // make sure we are in the browser environment\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('DOMContentLoaded', boot, false);\n  }\n\n  /**\n   * Register a language grammar module\n   *\n   * @param {string} languageName\n   * @param {LanguageFn} languageDefinition\n   */\n  function registerLanguage(languageName, languageDefinition) {\n    let lang = null;\n    try {\n      lang = languageDefinition(hljs);\n    } catch (error$1) {\n      error(\"Language definition for '{}' could not be registered.\".replace(\"{}\", languageName));\n      // hard or soft error\n      if (!SAFE_MODE) { throw error$1; } else { error(error$1); }\n      // languages that have serious errors are replaced with essentially a\n      // \"plaintext\" stand-in so that the code blocks will still get normal\n      // css classes applied to them - and one bad language won't break the\n      // entire highlighter\n      lang = PLAINTEXT_LANGUAGE;\n    }\n    // give it a temporary name if it doesn't have one in the meta-data\n    if (!lang.name) lang.name = languageName;\n    languages[languageName] = lang;\n    lang.rawDefinition = languageDefinition.bind(null, hljs);\n\n    if (lang.aliases) {\n      registerAliases(lang.aliases, { languageName });\n    }\n  }\n\n  /**\n   * Remove a language grammar module\n   *\n   * @param {string} languageName\n   */\n  function unregisterLanguage(languageName) {\n    delete languages[languageName];\n    for (const alias of Object.keys(aliases)) {\n      if (aliases[alias] === languageName) {\n        delete aliases[alias];\n      }\n    }\n  }\n\n  /**\n   * @returns {string[]} List of language internal names\n   */\n  function listLanguages() {\n    return Object.keys(languages);\n  }\n\n  /**\n   * @param {string} name - name of the language to retrieve\n   * @returns {Language | undefined}\n   */\n  function getLanguage(name) {\n    name = (name || '').toLowerCase();\n    return languages[name] || languages[aliases[name]];\n  }\n\n  /**\n   *\n   * @param {string|string[]} aliasList - single alias or list of aliases\n   * @param {{languageName: string}} opts\n   */\n  function registerAliases(aliasList, { languageName }) {\n    if (typeof aliasList === 'string') {\n      aliasList = [aliasList];\n    }\n    aliasList.forEach(alias => { aliases[alias.toLowerCase()] = languageName; });\n  }\n\n  /**\n   * Determines if a given language has auto-detection enabled\n   * @param {string} name - name of the language\n   */\n  function autoDetection(name) {\n    const lang = getLanguage(name);\n    return lang && !lang.disableAutodetect;\n  }\n\n  /**\n   * Upgrades the old highlightBlock plugins to the new\n   * highlightElement API\n   * @param {HLJSPlugin} plugin\n   */\n  function upgradePluginAPI(plugin) {\n    // TODO: remove with v12\n    if (plugin[\"before:highlightBlock\"] && !plugin[\"before:highlightElement\"]) {\n      plugin[\"before:highlightElement\"] = (data) => {\n        plugin[\"before:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n    if (plugin[\"after:highlightBlock\"] && !plugin[\"after:highlightElement\"]) {\n      plugin[\"after:highlightElement\"] = (data) => {\n        plugin[\"after:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function addPlugin(plugin) {\n    upgradePluginAPI(plugin);\n    plugins.push(plugin);\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function removePlugin(plugin) {\n    const index = plugins.indexOf(plugin);\n    if (index !== -1) {\n      plugins.splice(index, 1);\n    }\n  }\n\n  /**\n   *\n   * @param {PluginEvent} event\n   * @param {any} args\n   */\n  function fire(event, args) {\n    const cb = event;\n    plugins.forEach(function(plugin) {\n      if (plugin[cb]) {\n        plugin[cb](args);\n      }\n    });\n  }\n\n  /**\n   * DEPRECATED\n   * @param {HighlightedHTMLElement} el\n   */\n  function deprecateHighlightBlock(el) {\n    deprecated(\"10.7.0\", \"highlightBlock will be removed entirely in v12.0\");\n    deprecated(\"10.7.0\", \"Please use highlightElement now.\");\n\n    return highlightElement(el);\n  }\n\n  /* Interface definition */\n  Object.assign(hljs, {\n    highlight,\n    highlightAuto,\n    highlightAll,\n    highlightElement,\n    // TODO: Remove with v12 API\n    highlightBlock: deprecateHighlightBlock,\n    configure,\n    initHighlighting,\n    initHighlightingOnLoad,\n    registerLanguage,\n    unregisterLanguage,\n    listLanguages,\n    getLanguage,\n    registerAliases,\n    autoDetection,\n    inherit,\n    addPlugin,\n    removePlugin\n  });\n\n  hljs.debugMode = function() { SAFE_MODE = false; };\n  hljs.safeMode = function() { SAFE_MODE = true; };\n  hljs.versionString = version;\n\n  hljs.regex = {\n    concat: concat,\n    lookahead: lookahead,\n    either: either,\n    optional: optional,\n    anyNumberOfTimes: anyNumberOfTimes\n  };\n\n  for (const key in MODES) {\n    // @ts-ignore\n    if (typeof MODES[key] === \"object\") {\n      // @ts-ignore\n      deepFreeze(MODES[key]);\n    }\n  }\n\n  // merge all the modes/regexes into our main object\n  Object.assign(hljs, MODES);\n\n  return hljs;\n};\n\n// Other names for the variable may break build script\nconst highlight = HLJS({});\n\n// returns a new instance of the highlighter to be used for extensions\n// check https://github.com/wooorm/lowlight/issues/47\nhighlight.newInstance = () => HLJS({});\n\nmodule.exports = highlight;\nhighlight.HighlightJS = highlight;\nhighlight.default = highlight;\n", "let commonData = {};\nlet legendData = {};\nexport const getCommonData = () => commonData;\nexport const getLegendData = () => legendData;\n\n/**\n * Load common data.\n */\nexport const loadData = async () => {\n    commonData = await fetch(`./data/common.json`)\n        .then((response) => response.json())\n        .then((data) => data)\n        .catch((error) => console.warn('Something went wrong.', error));\n\n    legendData = await fetch(`./data/legend.json`)\n        .then((response) => response.json())\n        .then((data) => data)\n        .catch((error) => console.warn('Something went wrong.', error));\n};\n", "// @ts-check\n\n/**\n * @type {string}\n */\nexport const ANIMATION_STOP_REJECT = 'animationStop';\n\n/**\n * @returns void\n */\nexport const catchAnimationReject = () => {\n    window.addEventListener('unhandledrejection', (e) => {\n        if (e.reason === ANIMATION_STOP_REJECT) e.preventDefault();\n    });\n};\n", "// @ts-check\n\n/**\n * @param {HTMLElement} element\n * @returns {number}\n *\n * @description\n * Return HTMLElement height with margin.\n */\nexport function outerHeight(element) {\n    let height = element.offsetHeight;\n    const style = getComputedStyle(element);\n\n    height +=\n        Number.parseInt(style.marginTop) + Number.parseInt(style.marginBottom);\n    return height;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {number}\n *\n * @description\n * Return HTMLElement width with margin.\n */\nexport function outerWidth(element) {\n    let width = element.offsetWidth;\n    const style = getComputedStyle(element);\n\n    width +=\n        Number.parseInt(style.marginLeft) + Number.parseInt(style.marginRight);\n    return width;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{top: Number, left:Number}}\n *\n * @description\n * Return HTMLElement offset top/left value.\n */\nexport function offset(element) {\n    const rect = element.getBoundingClientRect();\n    const offset = {\n        top: rect.top + window.pageYOffset,\n        left: rect.left + window.pageXOffset,\n    };\n\n    return offset;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{bottom: Number, height:Number, left:Number, right:Number, top:Number, width:Number, x:Number, y:Number}}\n *\n * @description\n * Return HTMLElement position object.\n */\nexport function position(element) {\n    const rect = element.getBoundingClientRect();\n\n    return rect;\n}\n\n/**\n * @param {HTMLElement} element\n * @param {string} selector\n * @returns {Array.<ChildNode>}\n *\n * @description\n * Return sinblings of element by className\n */\nexport function getSiblings(element, selector) {\n    // Setup siblings array and get the first sibling\n    const siblings = [];\n    let sibling = element?.parentNode?.firstChild;\n\n    // Loop through each sibling and push to the array\n    while (sibling) {\n        if (\n            sibling.nodeType === 1 &&\n            sibling !== element && // @ts-ignore\n            sibling.classList.contains(selector)\n        ) {\n            siblings.push(sibling);\n        }\n        sibling = sibling.nextSibling;\n    }\n\n    return siblings;\n}\n\n/**\n * @param {HTMLElement} element\n * @param {string} selector\n * @returns {Array.<ChildNode>}\n *\n * @description\n * Return all parent of element.\n */\nexport function getParents(element, selector) {\n    // Set up a parent array\n    const parents = [];\n\n    // Push each parent element to the array\n    // @ts-ignore\n    for (; element && element !== document; element = element.parentNode) {\n        if (selector) {\n            if (element.classList.contains(selector)) {\n                parents.push(element);\n            }\n            continue;\n        }\n        parents.push(element);\n    }\n\n    // Return our parent array\n    return parents;\n}\n\n/**\n * @param {HTMLElement|undefined} parent\n * @param {HTMLElement|undefined} child\n * @returns {boolean}\n *\n * @description\n * Check if child is descendant od parent.\n */\nexport function isDescendant(parent, child) {\n    let node = child?.parentNode;\n    while (node) {\n        if (node === parent) return true;\n        node = node?.parentNode;\n    }\n    return false;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {Object}\n *\n * @description\n * Gets computed translate values\n */\nexport function getTranslateValues(element) {\n    const style = window.getComputedStyle(element);\n    const matrix =\n        // @ts-ignore\n        style['transform'] || style.mozTransform;\n\n    // No transform property. Simply return 0 values.\n    if (matrix === 'none' || matrix === undefined) {\n        return {\n            x: 0,\n            y: 0,\n            z: 0,\n        };\n    }\n\n    // Can either be 2d or 3d transform\n    const matrixType = matrix.includes('3d') ? '3d' : '2d';\n    const matrixValues = matrix.match(/matrix.*\\((.+)\\)/)[1].split(', ');\n\n    // 2d matrices have 6 values\n    // Last 2 values are X and Y.\n    // 2d matrices does not have Z value.\n    if (matrixType === '2d') {\n        return {\n            x: matrixValues[4],\n            y: matrixValues[5],\n            z: 0,\n        };\n    }\n\n    // 3d matrices have 16 values\n    // The 13th, 14th, and 15th values are X, Y, and Z\n    if (matrixType === '3d') {\n        return {\n            x: matrixValues[12],\n            y: matrixValues[13],\n            z: matrixValues[14],\n        };\n    }\n}\n\n/**\n * @param {Element} element\n * @returns {boolean}\n *\n * @description\n * Returns true if it is a DOM node\n */\nexport function isNode(element) {\n    return typeof Node === 'object'\n        ? element instanceof Node\n        : element &&\n              typeof element === 'object' &&\n              typeof element.nodeType === 'number' &&\n              typeof element.nodeName === 'string';\n}\n\n/**\n * @param {Element} element\n * @returns {boolean}\n *\n * @description\n * Returns true if it is a DOM element\n */\nexport function isElement(element) {\n    return typeof HTMLElement === 'object'\n        ? element instanceof HTMLElement //DOM2\n        : element &&\n              typeof element === 'object' &&\n              element !== null &&\n              element.nodeType === 1 &&\n              typeof element.nodeName === 'string';\n}\n\n/**\n * @returns {string}\n *\n * @description\n * Generate univoque string id\n */\nexport const getUnivoqueId = () => {\n    return `_${Math.random().toString(36).slice(2, 9)}`;\n};\n", "// @ts-check\n\n/**\n * @param {Function} fn\n * @returns {void}\n */\nexport const useNextLoop = (fn) => {\n    setTimeout(() => fn());\n};\n\n// https://macarthur.me/posts/navigating-the-event-loop\n\n/**\n * alternative 1\n * Safari not support at moment.\n * requestIdleCallback(() => {\n *     fn();\n * });\n */\n\n/**\n * alternative 2:\n *\n * const channel = new MessageChannel();\n * channel.port1.onmessage = fn;\n * channel.port2.postMessage('');\n */\n", "// @ts-check\n\n/**\n * @type {string}\n */\nexport const TYPE_IS_ANY = 'ANY';\n\n/**\n * @type {string}\n */\nexport const UNTYPED = 'UNTYPED';\n\n/**\n * @type {string}\n */\nconst STRING = 'STRING';\n\n/**\n * @type {string}\n */\nconst NUMBER = 'NUMBER';\n\n/**\n * @type {string}\n */\nconst OBJECT = 'OBJECT';\n\n/**\n * @type {string}\n */\nconst FUNCTION = 'FUNCTION';\n\n/**\n * @type {string}\n */\nexport const ARRAY = 'ARRAY';\n\n/**\n * @type {string}\n */\nconst BOOLEAN = 'BOOLEAN';\n\n/**\n * @type {string}\n */\nconst ELEMENT = 'ELEMENT';\n\n/**\n * @type {string}\n */\nconst HTMLELEMENT = 'HTMLELEMENT';\n\n/**\n * @type {string}\n */\nconst NODELIST = 'NODELIST';\n\n/**\n * @type {string}\n */\nexport const SET = 'SET';\n\n/**\n * @type {string}\n */\nexport const MAP = 'MAP';\n\nexport const storeType = {\n    isString: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object String]',\n    isNumber: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Number]' &&\n        Number.isFinite(value),\n    isObject: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Object]',\n    isFunction: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Function]',\n    isArray: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Array]',\n    isBoolean: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Boolean]',\n    isElement: (/** @type{any} */ value) =>\n        value instanceof Element || value instanceof Document,\n    isHTMLElement: (/** @type{any} */ value) => value instanceof HTMLElement,\n    isSet: (/** @type{any} */ value) => value instanceof Set,\n    isMap: (/** @type{any} */ value) => value instanceof Map,\n    isNodeList: (/** @type{any} */ value) =>\n        Object.prototype.isPrototypeOf.call(NodeList.prototype, value),\n};\n\n/**\n * @param {any} type\n * @returns {string}\n */\nexport const getTypeName = (type) => {\n    switch (type) {\n        case String:\n        case STRING: {\n            return 'String';\n        }\n\n        case Number:\n        case NUMBER: {\n            return 'Number';\n        }\n\n        case Object:\n        case OBJECT: {\n            return 'Object';\n        }\n\n        case Function:\n        case FUNCTION: {\n            return 'Function';\n        }\n\n        case Array:\n        case ARRAY: {\n            return 'Array';\n        }\n\n        case Boolean:\n        case BOOLEAN: {\n            return 'Boolean';\n        }\n\n        case Element:\n        case ELEMENT: {\n            return 'Element';\n        }\n\n        case HTMLElement:\n        case HTMLELEMENT: {\n            return 'HTMLElement';\n        }\n\n        case NodeList:\n        case NODELIST: {\n            return 'NodeList';\n        }\n\n        case Set:\n        case SET: {\n            return 'Set';\n        }\n\n        case Map:\n        case MAP: {\n            return 'Map';\n        }\n\n        case TYPE_IS_ANY: {\n            return TYPE_IS_ANY;\n        }\n\n        default: {\n            return UNTYPED;\n        }\n    }\n};\n\n/**\n * @param {any} type\n * @param {any} value\n * @returns {boolean}\n */\nexport const checkType = (type, value) => {\n    switch (type) {\n        case String:\n        case STRING: {\n            return storeType.isString(value);\n        }\n\n        case Number:\n        case NUMBER: {\n            return storeType.isNumber(value);\n        }\n\n        case Object:\n        case OBJECT: {\n            return storeType.isObject(value);\n        }\n\n        case Function:\n        case FUNCTION: {\n            return storeType.isFunction(value);\n        }\n\n        case Array:\n        case ARRAY: {\n            return storeType.isArray(value);\n        }\n\n        case Boolean:\n        case BOOLEAN: {\n            return storeType.isBoolean(value);\n        }\n\n        case Element:\n        case ELEMENT: {\n            return storeType.isElement(value);\n        }\n\n        case HTMLElement:\n        case HTMLELEMENT: {\n            return storeType.isHTMLElement(value);\n        }\n\n        case NodeList:\n        case NODELIST: {\n            return storeType.isNodeList(value);\n        }\n\n        case Set:\n        case SET: {\n            return storeType.isSet(value);\n        }\n\n        case Map:\n        case MAP: {\n            return storeType.isMap(value);\n        }\n\n        case TYPE_IS_ANY: {\n            return true;\n        }\n\n        default: {\n            return true;\n        }\n    }\n};\n", "// @ts-check\n\nimport { ARRAY, MAP, SET, TYPE_IS_ANY } from './storeType';\n\n/**\n * @param {Map} m1\n * @param {Map} m2\n * @returns {boolean}\n */\nconst mapsAreEqual = (m1, m2) =>\n    m1.size === m2.size &&\n    [...m1.keys()].every((key) => m1.get(key) === m2.get(key));\n\n/**\n * @param {Set} a\n * @param {Set} b\n * @returns {boolean}\n */\nconst setsAreEqual = (a, b) =>\n    a.size === b.size && [...a].every((value) => b.has(value));\n\n/**\n * @param {Array} a\n * @param {Array} b\n * @returns {boolean}\n *\n * @description\n * A function to compare if two arrays have the same elements regardless of their order\n */\nconst arrayAreEquals = (a, b) => {\n    if (a.length !== b.length) return false;\n    const elements = new Set([...a, ...b]);\n    for (const x of elements) {\n        const count1 = a.filter((e) => e === x).length;\n        const count2 = b.filter((e) => e === x).length;\n        if (count1 !== count2) return false;\n    }\n    return true;\n};\n\n/**\n * @param {Object} obj1\n * @param {Object} obj2\n * @returns {boolean}\n *\n * @description\n */\nconst objectAreEqual = (obj1, obj2, checkDataOrder = false) => {\n    const checkDataOrderParanoic = false;\n    if (obj1 === null || obj2 === null) {\n        return obj1 === obj2;\n    }\n    let _obj1 = obj1;\n    let _obj2 = obj2;\n    if (!checkDataOrder) {\n        if (Array.isArray(obj1)) {\n            _obj1 = [...obj1].sort();\n        }\n        if (Array.isArray(obj2)) {\n            _obj2 = [...obj2].sort();\n        }\n    }\n    if (typeof _obj1 !== 'object' || typeof _obj2 !== 'object') {\n        return _obj1 === _obj2;\n    }\n\n    const obj1Props = Object.getOwnPropertyNames(_obj1);\n    const obj2Props = Object.getOwnPropertyNames(_obj2);\n    if (obj1Props.length !== obj2Props.length) {\n        return false;\n    }\n\n    if (checkDataOrderParanoic && checkDataOrder) {\n        // will result in {a:1, b:2} !== {b:2, a:1}\n        // its not normal, but if you want this behavior, set checkDataOrderParanoic = true\n        const propOrder = obj1Props.toString() === obj2Props.toString();\n        if (!propOrder) {\n            return false;\n        }\n    }\n\n    for (const prop of obj1Props) {\n        const val1 = _obj1[prop];\n        const val2 = _obj2[prop];\n\n        if (typeof val1 === 'object' && typeof val2 === 'object') {\n            if (objectAreEqual(val1, val2, checkDataOrder)) {\n                continue;\n            } else {\n                return false;\n            }\n        }\n        if (val1 !== val2) {\n            return false;\n        }\n    }\n    return true;\n};\n\n/**\n * @param {any} type\n * @param {any} oldValue\n * @param {any} newValue\n * @returns {boolean}\n *\n * @description\n */\nexport const checkEquality = (type, oldValue, newValue) => {\n    switch (type) {\n        case TYPE_IS_ANY: {\n            return objectAreEqual(oldValue, newValue);\n        }\n\n        case ARRAY:\n        case Array: {\n            return arrayAreEquals(oldValue, newValue);\n        }\n\n        case SET:\n        case Set: {\n            return setsAreEqual(oldValue, newValue);\n        }\n\n        case MAP:\n        case Map: {\n            return mapsAreEqual(oldValue, newValue);\n        }\n\n        default: {\n            return oldValue === newValue;\n        }\n    }\n};\n", "// @ts-check\n\n/**\n * @param {import(\"./type\").callbackQueue} param\n * @returns {void}\n */\nexport const runCallbackQueqe = ({\n    callBackWatcher,\n    prop,\n    newValue,\n    oldValue,\n    validationValue,\n}) => {\n    for (const { prop: currentProp, fn } of callBackWatcher.values()) {\n        if (currentProp === prop) fn(newValue, oldValue, validationValue);\n    }\n};\n\n/**\n * @param {import(\"./type\").callbackQueue} param\n * @returns {Promise<any>}\n */\nexport const runCallbackQueqeAsync = async ({\n    callBackWatcher,\n    prop,\n    newValue,\n    oldValue,\n    validationValue,\n}) => {\n    for (const { prop: currentProp, fn } of callBackWatcher.values()) {\n        if (currentProp === prop) await fn(newValue, oldValue, validationValue);\n    }\n};\n", "const logStyle = 'padding: 10px;';\nexport const getLogStyle = () => logStyle;\n", "/**\n * @type {import(\"./type\").storeMap}\n */\nexport const storeMap = new Map();\n\n/**\n * @param {string} id\n * @returns {import(\"./type\").storeMapValue}\n */\nexport const getStateFromMainMap = (id) => ({ ...storeMap.get(id) });\n\n/**\n * @param {string} id\n * @param {import(\"./type\").storeMapValue} state\n * @returns {void}\n */\nexport const updateMainMap = (id, state) => {\n    storeMap.set(id, state);\n};\n\n/**\n * @param {string} id\n * @returns {void}\n */\nexport const removeStateFromMainMap = (id) => {\n    storeMap.delete(id);\n};\n", "// @ts-check\n\n/**\n * @type {string}\n */\nexport const TYPE_IS_ANY = 'ANY';\n\n/**\n * @type {string}\n */\nexport const UNTYPED = 'UNTYPED';\n\n/**\n * @type {string}\n */\nconst STRING = 'STRING';\n\n/**\n * @type {string}\n */\nconst NUMBER = 'NUMBER';\n\n/**\n * @type {string}\n */\nconst OBJECT = 'OBJECT';\n\n/**\n * @type {string}\n */\nconst FUNCTION = 'FUNCTION';\n\n/**\n * @type {string}\n */\nexport const ARRAY = 'ARRAY';\n\n/**\n * @type {string}\n */\nconst BOOLEAN = 'BOOLEAN';\n\n/**\n * @type {string}\n */\nconst ELEMENT = 'ELEMENT';\n\n/**\n * @type {string}\n */\nconst HTMLELEMENT = 'HTMLELEMENT';\n\n/**\n * @type {string}\n */\nconst NODELIST = 'NODELIST';\n\n/**\n * @type {string}\n */\nexport const SET = 'SET';\n\n/**\n * @type {string}\n */\nexport const MAP = 'MAP';\n\nexport const storeType = {\n    isString: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object String]',\n    isNumber: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Number]' &&\n        Number.isFinite(value),\n    isObject: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Object]',\n    isFunction: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Function]',\n    isArray: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Array]',\n    isBoolean: (/** @type{any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Boolean]',\n    isElement: (/** @type{any} */ value) =>\n        value instanceof Element || value instanceof Document,\n    isHTMLElement: (/** @type{any} */ value) => value instanceof HTMLElement,\n    isSet: (/** @type{any} */ value) => value instanceof Set,\n    isMap: (/** @type{any} */ value) => value instanceof Map,\n    isNodeList: (/** @type{any} */ value) =>\n        Object.prototype.isPrototypeOf.call(NodeList.prototype, value),\n};\n\n/**\n * @param {any} type\n * @returns {string}\n */\nexport const getTypeName = (type) => {\n    switch (type) {\n        case String:\n        case STRING: {\n            return 'String';\n        }\n\n        case Number:\n        case NUMBER: {\n            return 'Number';\n        }\n\n        case Object:\n        case OBJECT: {\n            return 'Object';\n        }\n\n        case Function:\n        case FUNCTION: {\n            return 'Function';\n        }\n\n        case Array:\n        case ARRAY: {\n            return 'Array';\n        }\n\n        case Boolean:\n        case BOOLEAN: {\n            return 'Boolean';\n        }\n\n        case Element:\n        case ELEMENT: {\n            return 'Element';\n        }\n\n        case HTMLElement:\n        case HTMLELEMENT: {\n            return 'HTMLElement';\n        }\n\n        case NodeList:\n        case NODELIST: {\n            return 'NodeList';\n        }\n\n        case Set:\n        case SET: {\n            return 'Set';\n        }\n\n        case Map:\n        case MAP: {\n            return 'Map';\n        }\n\n        case TYPE_IS_ANY: {\n            return TYPE_IS_ANY;\n        }\n\n        default: {\n            return UNTYPED;\n        }\n    }\n};\n\n/**\n * @param {any} type\n * @param {any} value\n * @returns {boolean}\n */\nexport const checkType = (type, value) => {\n    switch (type) {\n        case String:\n        case STRING: {\n            return storeType.isString(value);\n        }\n\n        case Number:\n        case NUMBER: {\n            return storeType.isNumber(value);\n        }\n\n        case Object:\n        case OBJECT: {\n            return storeType.isObject(value);\n        }\n\n        case Function:\n        case FUNCTION: {\n            return storeType.isFunction(value);\n        }\n\n        case Array:\n        case ARRAY: {\n            return storeType.isArray(value);\n        }\n\n        case Boolean:\n        case BOOLEAN: {\n            return storeType.isBoolean(value);\n        }\n\n        case Element:\n        case ELEMENT: {\n            return storeType.isElement(value);\n        }\n\n        case HTMLElement:\n        case HTMLELEMENT: {\n            return storeType.isHTMLElement(value);\n        }\n\n        case NodeList:\n        case NODELIST: {\n            return storeType.isNodeList(value);\n        }\n\n        case Set:\n        case SET: {\n            return storeType.isSet(value);\n        }\n\n        case Map:\n        case MAP: {\n            return storeType.isMap(value);\n        }\n\n        case TYPE_IS_ANY: {\n            return true;\n        }\n\n        default: {\n            return true;\n        }\n    }\n};\n", "// @ts-check\n\nimport { getTypeName } from './storeType';\n\n/**\n * @param {number} data\n * @param {string} style\n * @returns void\n */\nexport const storeDepthWarning = (data, style) => {\n    console.warn(\n        `%c SimpleStore supports an object with a depth of up to 2 levels, set 'Any' type to use obj as value, the input object has ${data} level`,\n        style\n    );\n};\n\n/**\n * @param {Array.<String>} keys\n * @param {string} prop\n * @param {string} style\n * @returns void\n */\nexport const storeComputedWarning = (keys, prop, style) => {\n    console.warn(\n        `%c one of this key ${keys} defined in computed method of prop to monitor '${prop}' prop not exist`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns void\n */\nexport const storeSetWarning = (prop, style) => {\n    console.warn(\n        `%c SimpleStore, trying to execute set() method: store.${prop} not exist`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} val\n * @param {string} style\n * @returns void\n */\nexport const storeSetPropValWarning = (prop, val, style) => {\n    console.warn(\n        `%c trying to execute setProp method on '${prop}' propierties: setProp methods doesn't allow objects as value, ${JSON.stringify(\n            val\n        )} is an Object, use 'Any' type for custom object`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns void\n */\nexport const storeSetPropPropWarning = (prop, style) => {\n    console.warn(\n        `%c trying to execute setProp method on '${prop}' propierties: '${JSON.stringify(\n            prop\n        )}' is an objects`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {any} val\n * @param {any} type\n * @param {string} style\n * @returns void\n */\nexport const storeSetPropTypeWarning = (prop, val, type, style) => {\n    console.warn(\n        `%c trying to execute setProp method on '${prop}' propierties: ${val} is not a ${getTypeName(\n            type\n        )}`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {any} val\n * @param {string} style\n * @returns void\n */\nexport const storeSetObjectValWarning = (prop, val, style) => {\n    console.warn(\n        `%c trying to execute setObj method on '${prop}' propierties: setObj methods allow only objects as value, ${val} is not an Object`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns void\n */\nexport const storeSetObjectPropWarning = (prop, style) => {\n    console.warn(\n        `%c trying to execute setObj data method on '${prop}' propierties: store propierties '${prop}' is not an object`,\n        style\n    );\n};\n\n/**\n * @param {Array.<String>} key\n * @param {string} prop\n * @param {string} style\n * @returns void\n */\nexport const storeSetObjKeysWarning = (key, prop, style) => {\n    console.warn(\n        `%c trying to execute setObj data method: one of these keys '${key}' not exist in store.${prop}`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {any} val\n * @param {string} style\n * @returns void\n */\nexport const storeSetObjDepthWarning = (prop, val, style) => {\n    console.warn(\n        `%c trying to execute setObj data method on '${prop}' propierties: '${JSON.stringify(\n            val\n        )}' have a depth > 1, nested obj is not allowed`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} subProp\n * @param {any} subVal\n * @param {string} type\n * @param {string} style\n * @returns void\n */\nexport const storeSetObjTypeWarning = (prop, subProp, subVal, type, style) => {\n    console.warn(\n        `%c trying to execute setObj data method on ${prop}.${subProp} propierties: ${subVal} is not a ${getTypeName(\n            type\n        )}`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns void\n */\nexport const storeGetPropWarning = (prop, style) => {\n    console.warn(\n        `%c trying to execute get data method: store.${prop} not exist`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns void\n */\nexport const storeEmitWarning = (prop, style) => {\n    console.warn(\n        `%c trying to execute set data method: store.${prop} not exist`,\n        style\n    );\n};\n\n/**\n * @param {Array.<String>} keys\n * @param {string} style\n * @returns void\n */\nexport const storeComputedKeyUsedWarning = (keys, style) => {\n    console.warn(\n        `%c one of the keys [${keys}] is already used as a computed target, or one of the keys coincides with the prop to be changed.`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns void\n */\nexport const storeWatchWarning = (prop, style) => {\n    console.warn(\n        `%c SimpleStore error: the property ${prop} to watch doesn't exist in store`,\n        style\n    );\n};\n\n/**\n * @param {string} style\n * @param {string} CUSTOM_OBJECT\n * @returns void\n */\nexport const storeObjectIsNotAnyWarning = (style, CUSTOM_OBJECT) => {\n    console.warn(\n        `%c Validation Object error: validation function return undefined or have you used Object instead '${CUSTOM_OBJECT}' ?`,\n        style\n    );\n};\n", "// @ts-check\n\nimport { checkType, storeType } from './storeType.js';\nimport { storeDepthWarning } from './storeWarining.js';\n\n/**\n * @param {Object} object\n * @returns {number}\n *\n * @description Get depth of Object\n */\nexport const maxDepth = (object) => {\n    if (!storeType.isObject(object)) return 0;\n    const values = Object.values(object);\n\n    if (values.length === 0) return 1;\n\n    return Math.max(...values.map((value) => maxDepth(value))) + 1;\n};\n\n/**\n * @param {import('./type.js').mobStoreBaseData} data\n * @param {boolean} shouldRecursive - max 1 level of recurisivity.\n * @returns {Object<string,(Object<string,any>|any)>}\n *\n * @description\n * Get Main Store Object\n * If use a function with validation check if there is a function that return an object:\n * key: () => ({\n *   value: 0,\n *   validate: (val) => ....,\n *   ...\n * }),\n *\n * Returns initial props value.\n */\nexport const getDataRecursive = (data, shouldRecursive = true) => {\n    return Object.entries(data).reduce((p, c) => {\n        const [key, value] = c;\n        const functionResult = storeType.isFunction(value)\n            ? /** @type {Function} */ (value)()\n            : {};\n\n        /**\n         * First level value is an object.\n         * Recursive function if find an Object.\n         */\n        if (storeType.isObject(value) && shouldRecursive) {\n            return {\n                ...p,\n\n                [key]: getDataRecursive(\n                    /** @type {import('./type.js').mobStoreBaseData} */ (value),\n                    false\n                ),\n            };\n        }\n\n        /**\n         * Complex data with validate|type|skipEqual.\n         */\n        if (\n            storeType.isFunction(value) &&\n            storeType.isObject(functionResult) &&\n            'value' in functionResult &&\n            ('validate' in functionResult ||\n                'type' in functionResult ||\n                'skipEqual' in functionResult)\n        ) {\n            return { ...p, [key]: functionResult.value };\n        }\n\n        /**\n         * Simple value\n         */\n        return { ...p, [key]: value };\n    }, {});\n};\n\n/**\n * @param {import('./type.js').mobStoreBaseData} data\n * @param {string} prop\n * @param {any} fallback\n * @param {boolean} shouldRecursive - max 1 level of recursivity\n * @returns {Object<string,(Object<string,any>|any)>}\n *\n * @description\n * Returns specific object by Prop ( validate, skipequel, etc.. )\n */\nexport const getPropRecursive = (\n    data,\n    prop,\n    fallback,\n    shouldRecursive = true\n) => {\n    return Object.entries(data).reduce((p, c) => {\n        const [key, value] = c;\n        const functionResult = storeType.isFunction(value)\n            ? /** @type{Function} */ (value)()\n            : {};\n\n        /**\n         * First level value is an object.\n         * Recursive function if find an Object.\n         */\n        if (storeType.isObject(value) && shouldRecursive) {\n            return {\n                ...p,\n\n                [key]: getPropRecursive(\n                    /** @type{import('./type.js').mobStoreBaseData} */ (value),\n                    prop,\n                    fallback,\n                    false\n                ),\n            };\n        }\n\n        /**\n         * Complex data with specific key ( validate, skipequel etc.. )\n         */\n        if (\n            storeType.isFunction(value) &&\n            storeType.isObject(functionResult) &&\n            'value' in functionResult &&\n            prop in functionResult\n        ) {\n            const propParsed = storeType.isString(functionResult[prop])\n                ? functionResult[prop].toUpperCase()\n                : functionResult[prop];\n\n            return { ...p, [key]: propParsed };\n        }\n\n        /**\n         * Simple value\n         */\n        return { ...p, [key]: fallback };\n    }, {});\n};\n\n/**\n * @param {Object} obj\n * @param {import('./type.js').mobStoreBaseData} obj.data\n * @param {number} obj.depth\n * @param {string} obj.logStyle\n * @returns {Object<string,(Object<string,any>|any)>}\n */\nexport const inizializeStoreData = ({ data, depth, logStyle }) => {\n    if (depth > 2) {\n        storeDepthWarning(depth, logStyle);\n        return {};\n    }\n\n    return getDataRecursive(data);\n};\n\n/**\n * @param {Object} obj\n * @param {import('./type.js').mobStoreBaseData} obj.data\n * @param {string} obj.prop\n * @param {number} obj.depth\n * @param {string} obj.logStyle\n * @param {any} obj.fallback\n * @returns {Object<string,(Object<string,any>|any)>}\n */\nexport const inizializeSpecificProp = ({\n    data,\n    prop,\n    depth,\n    logStyle,\n    fallback,\n}) => {\n    if (depth > 2) {\n        storeDepthWarning(depth, logStyle);\n        return {};\n    }\n\n    return getPropRecursive(data, prop, fallback);\n};\n\n/**\n * @param {Object} obj\n * @param {any} obj.value\n * @returns {any}\n */\nexport const cloneValueOrGet = ({ value }) => {\n    if (checkType(Map, value)) {\n        return new Map(value);\n    }\n\n    if (checkType(Set, value)) {\n        return new Set(value);\n    }\n\n    if (checkType(Object, value)) {\n        return { ...value };\n    }\n\n    if (checkType(Array, value)) {\n        return [...value];\n    }\n\n    return value;\n};\n", "// @ts-check\n\nimport { useNextLoop } from '../utils/nextTick';\nimport { checkEquality } from './classVersion/checkEquality';\nimport { runCallbackQueqe } from './fireQueque';\nimport { getLogStyle } from './logStyle';\nimport { getStateFromMainMap, updateMainMap } from './storeMap';\nimport { checkType, storeType, TYPE_IS_ANY } from './storeType';\nimport { cloneValueOrGet, maxDepth } from './storeUtils';\nimport {\n    storeComputedKeyUsedWarning,\n    storeObjectIsNotAnyWarning,\n    storeSetObjDepthWarning,\n    storeSetObjectPropWarning,\n    storeSetObjectValWarning,\n    storeSetObjKeysWarning,\n    storeSetObjTypeWarning,\n    storeSetPropPropWarning,\n    storeSetPropTypeWarning,\n    storeSetPropValWarning,\n    storeSetWarning,\n} from './storeWarining';\n\n/**\n * ----------------------------\n *  SET\n * -------------------------\n */\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {import(\"./type\").storeMapValue} param.state\n * @param {string} param.prop\n * @param {any} param.val\n * @param {boolean} param.fireCallback\n * @param {boolean} param.useStrict\n * @returns {import(\"./type\").storeMapValue|undefined}\n */\nconst setProp = ({\n    instanceId,\n    state,\n    prop,\n    val,\n    fireCallback = true,\n    useStrict = true,\n}) => {\n    const {\n        type,\n        store,\n        fnValidate,\n        strict,\n        validationStatusObject,\n        skipEqual,\n        callBackWatcher,\n    } = state;\n    const logStyle = getLogStyle();\n\n    const isCustomObject = type[prop] === TYPE_IS_ANY;\n\n    /**\n     * Check if val is an Object\n     */\n    if (storeType.isObject(val) && !isCustomObject) {\n        storeSetPropValWarning(prop, val, logStyle);\n        return;\n    }\n\n    /**\n     * Check if prop is an Object\n     */\n    if (storeType.isObject(store[prop]) && !isCustomObject) {\n        storeSetPropPropWarning(prop, logStyle);\n        return;\n    }\n\n    const isValidType = checkType(type[prop], val);\n    if (!isValidType) {\n        storeSetPropTypeWarning(prop, val, type[prop], logStyle);\n        return;\n    }\n\n    /**\n     * Update value and fire callback associated\n     */\n    const oldVal = store[prop];\n\n    /**\n     * Get validate status\n     */\n    const isValidated = /** @type {Object<string,function>} */ (fnValidate)[\n        prop\n    ]?.(val, oldVal);\n\n    /**\n     * In strict mode return is prop is not valid\n     */\n    if (strict[prop] && !isValidated && useStrict) return;\n\n    /**\n     * Update validation array.\n     */\n    validationStatusObject[prop] = isValidated;\n\n    /**\n     * Check if last value is equal new value.\n     * if true and skipEqual is true for this prop return.\n     */\n    const isEqual = skipEqual[prop]\n        ? checkEquality(type[prop], oldVal, val)\n        : false;\n    if (isEqual) return;\n\n    /**\n     * Finally set new value\n     */\n    store[prop] = val;\n\n    if (fireCallback) {\n        runCallbackQueqe({\n            callBackWatcher,\n            prop,\n            newValue: val,\n            oldValue: oldVal,\n            validationValue: validationStatusObject[prop],\n        });\n\n        addToComputedWaitLsit({ instanceId, prop });\n    }\n\n    return {\n        ...state,\n        store,\n        validationStatusObject,\n    };\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {import(\"./type\").storeMapValue} param.state\n * @param {string} param.prop\n * @param {any} param.val\n * @param {boolean} param.fireCallback\n * @param {boolean} param.useStrict\n * @returns {import(\"./type\").storeMapValue|undefined}\n */\nconst setObj = ({\n    instanceId,\n    state,\n    prop,\n    val,\n    fireCallback = true,\n    useStrict = true,\n}) => {\n    const {\n        store,\n        type,\n        strict,\n        fnValidate,\n        validationStatusObject,\n        skipEqual,\n        callBackWatcher,\n    } = state;\n    const logStyle = getLogStyle();\n\n    /**\n     * Check if val is not an Object\n     */\n    if (!storeType.isObject(val)) {\n        storeSetObjectValWarning(prop, val, logStyle);\n        return;\n    }\n\n    /**\n     * Check if prop is not an Object\n     */\n    if (!storeType.isObject(store[prop])) {\n        storeSetObjectPropWarning(prop, logStyle);\n        return;\n    }\n\n    /**\n     * Check if prop has val keys\n     */\n    const valKeys = Object.keys(val);\n    const propKeys = Object.keys(store[prop]);\n    const hasKeys = valKeys.every((item) => propKeys.includes(item));\n    if (!hasKeys) {\n        storeSetObjKeysWarning(valKeys, prop, logStyle);\n        return;\n    }\n\n    // Check type of each propierties\n    const isValidType = Object.entries(val)\n        .map((item) => {\n            const [subProp, subVal] = item;\n            const typeResponse = checkType(type[prop][subProp], subVal);\n\n            if (!typeResponse) {\n                storeSetObjTypeWarning(\n                    prop,\n                    subProp,\n                    subVal,\n                    type[prop][subProp],\n                    logStyle\n                );\n            }\n\n            return typeResponse;\n        })\n        .every((item) => item === true);\n\n    if (!isValidType) {\n        return;\n    }\n\n    /**\n     * Filter all props that pass the strict check.\n     */\n    const strictObjectResult = Object.entries(val)\n        .map((item) => {\n            const [subProp, subVal] = item;\n            const subValOld = store[prop][subProp];\n\n            return strict[prop][subProp] && useStrict\n                ? {\n                      strictCheck: fnValidate[prop][subProp]?.(\n                          subVal,\n                          subValOld\n                      ),\n                      item,\n                  }\n                : { strictCheck: true, item };\n        })\n        .filter(({ strictCheck }) => strictCheck === true);\n\n    /**\n     * If all Object prop fail strict check return\n     */\n    const allStrictFail = strictObjectResult.length === 0;\n    if (allStrictFail) return;\n\n    /**\n     * Get new Object with only validate and strick passed\n     */\n    const newValParsedByStrict = Object.fromEntries(\n        strictObjectResult\n            .map(({ item }) => item)\n            .map(([key, val]) => [key, val])\n    );\n\n    /**\n     * Validate value (value passed to setObj is a Object to merge with original) and store the result in validationStatusObject arr\n     * id there is no validation return true, otherwise get boolean value from fnValidate obj\n     */\n    Object.entries(newValParsedByStrict).forEach((item) => {\n        const [subProp, subVal] = item;\n        const subValOld = store[prop][subProp];\n\n        /**\n         * If in first level we have an object without the 'Any' type  specified\n         * is interpreted like nested object, so fail the fnValidate function if we set a different key with set methods.\n         * Because the new key doesn't exist in original object, so log a warning.\n         * The only way to use obj is specify 'Any' key to not broke the globe object logic.\n         */\n        const validateResult = fnValidate[prop][subProp]?.(subVal, subValOld);\n        if (validateResult === undefined) {\n            storeObjectIsNotAnyWarning(logStyle, TYPE_IS_ANY);\n        }\n\n        validationStatusObject[prop][subProp] = validateResult;\n    });\n\n    /**\n     * Update value and fire callback associated\n     */\n    const oldObjectValues = store[prop];\n    const newObjectValues = {\n        ...store[prop],\n        ...newValParsedByStrict,\n    };\n\n    /**\n     * Check if all modified prop have skipEqual = true;\n     */\n    const shouldSkipEqual = Object.keys(newValParsedByStrict).every(\n        (subProp) => skipEqual[prop][subProp] === true\n    );\n\n    /**\n     * Check if all old props value is equal new props value.\n     */\n    const prevValueIsEqualNew = shouldSkipEqual\n        ? Object.entries(newObjectValues).every(([key, value]) => {\n              const isCustomObject = type[prop][key] === TYPE_IS_ANY;\n\n              /**\n               * Check val have nested Object ( not 'Any' )\n               */\n              const dataDepth = maxDepth(value);\n              if (dataDepth > 1 && !isCustomObject) {\n                  storeSetObjDepthWarning(prop, val, logStyle);\n                  return;\n              }\n\n              return checkEquality(\n                  type[prop][key],\n                  oldObjectValues[key],\n                  value\n              );\n          })\n        : false;\n\n    /**\n     * If shouldSkipEqual = true and previous object is equal new object return.\n     * If at least one modified property of the object has skipEqual set to false\n     * then the entire object is considered mutated even if all values are equal\n     */\n    if (prevValueIsEqualNew) return;\n\n    /**\n     * Finally update Object.\n     */\n    store[prop] = newObjectValues;\n\n    if (fireCallback) {\n        runCallbackQueqe({\n            callBackWatcher,\n            prop,\n            newValue: store[prop],\n            oldValue: oldObjectValues,\n            validationValue: validationStatusObject[prop],\n        });\n\n        addToComputedWaitLsit({ instanceId, prop });\n    }\n\n    return {\n        ...state,\n        store,\n        validationStatusObject,\n    };\n};\n\n/**\n * @param {import(\"./type\").storeSetAction} params\n * @returns {import(\"./type\").storeMapValue|undefined}\n */\nexport const storeSetAction = ({\n    instanceId,\n    state,\n    prop,\n    value,\n    fireCallback = true,\n    clone = false,\n    useStrict = true,\n}) => {\n    const { store, type } = state;\n    if (!store) return;\n\n    const logStyle = getLogStyle();\n\n    /**\n     * Check if prop exist in store\n     */\n    if (!(prop in store)) {\n        storeSetWarning(prop, logStyle);\n        return;\n    }\n\n    /**\n     * Id value is Map or Se or Objectt create a new old value.\n     * This is mutable promitives, if it passed by reference mutate the original.\n     */\n    const previousValue = clone\n        ? cloneValueOrGet({ value: store[prop] })\n        : store[prop];\n\n    /**\n     * Check if newValue is a param or function.\n     * Id prop type is a function or last value is a function skip.\n     */\n    const valueParsed =\n        checkType(Function, value) &&\n        !checkType(Function, previousValue) &&\n        type[prop] !== Function &&\n        type[prop] !== 'Function'\n            ? value(previousValue)\n            : value;\n\n    /**\n     * Check if is an Object to stringyFy ( default is max depth === 2 )\n     */\n    const isCustomObject = type[prop] === TYPE_IS_ANY;\n\n    return storeType.isObject(previousValue) && !isCustomObject\n        ? setObj({\n              instanceId,\n              state,\n              prop,\n              val: valueParsed,\n              fireCallback,\n              useStrict,\n          })\n        : setProp({\n              instanceId,\n              state,\n              prop,\n              val: valueParsed,\n              fireCallback,\n              useStrict,\n          });\n};\n\n/**\n * @param {import('./type').storeSetEntryPoint} param\n * @returns {void}\n */\nexport const storeSetEntryPoint = ({\n    instanceId,\n    prop,\n    value,\n    fireCallback,\n    clone,\n}) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const newState = storeSetAction({\n        instanceId,\n        state,\n        prop,\n        value,\n        fireCallback,\n        clone,\n    });\n\n    if (!newState) return;\n    updateMainMap(instanceId, newState);\n};\n\n/**\n * @param {import('./type').storeQuickSetEntryPoint} param\n * @returns {void}\n */\nexport const storeQuickSetEntrypoint = ({ instanceId, prop, value }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { store, callBackWatcher } = state;\n\n    /**\n     * Update value and fire callback associated\n     */\n    const oldVal = store[prop];\n\n    /**\n     * Finally set new value\n     */\n    store[prop] = value;\n\n    runCallbackQueqe({\n        callBackWatcher,\n        prop,\n        newValue: value,\n        oldValue: oldVal,\n        validationValue: true,\n    });\n\n    updateMainMap(instanceId, { ...state, store });\n};\n\n/**\n * ----------------------------\n *  COMPUTED\n * -------------------------\n */\n\n/**\n * @param {string} instanceId\n */\nconst fireComputed = (instanceId) => {\n    /**\n     * Get fresh data.\n     */\n    const state = getStateFromMainMap(instanceId);\n    const { lastestPropsChanged, callBackComputed, store } = state;\n\n    /**\n     * Filter computed callback that has some prop changed as dependencies.\n     */\n    const computedFiltered = [...callBackComputed].filter(({ keys }) => {\n        return [...lastestPropsChanged].find((current) => {\n            return keys.includes(current);\n        });\n    });\n\n    /**\n     * Loop and fire computed with changed value\n     */\n    computedFiltered.forEach(({ prop, keys, fn }) => {\n        /**\n         * Get dependencies current state;\n         */\n        const valuesToObject = keys\n            .map((item) => {\n                return { [item]: store[item] };\n            })\n            .reduce((previous, current) => {\n                return { ...previous, ...current };\n            }, {});\n\n        /**\n         * Fire callback computed\n         */\n        // @ts-ignore\n        const computedValue = fn(valuesToObject);\n\n        /**\n         * Set the result value to computed prop\n         */\n        storeSetEntryPoint({\n            instanceId,\n            prop,\n            value: computedValue,\n        });\n    });\n\n    /**\n     * Get last state after new value is settled from computed.\n     */\n    const stateAfterComputed = getStateFromMainMap(instanceId);\n\n    /**\n     * Update all\n     */\n    updateMainMap(instanceId, {\n        ...stateAfterComputed,\n        lastestPropsChanged: new Set(),\n        computedRunning: false,\n    });\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {void}\n */\nexport const addToComputedWaitLsit = ({ instanceId, prop }) => {\n    const state = getStateFromMainMap(instanceId);\n    const { callBackComputed, lastestPropsChanged, computedRunning } = state;\n\n    if (!callBackComputed || callBackComputed.size === 0) return;\n\n    /**\n     * Update lastestPropsChanged.\n     */\n    lastestPropsChanged.add(prop);\n    updateMainMap(instanceId, {\n        ...state,\n        lastestPropsChanged,\n    });\n\n    if (!computedRunning) {\n        const state = getStateFromMainMap(instanceId);\n        updateMainMap(instanceId, { ...state, computedRunning: true });\n        useNextLoop(() => fireComputed(instanceId));\n    }\n};\n\n/**\n * @param {import(\"./type\").storeComputedAction} params\n * @returns {import(\"./type\").storeMapValue|undefined}\n */\nexport const storeComputedAction = ({ state, prop, keys, fn }) => {\n    const { callBackComputed } = state;\n\n    // Create a temp array with the future computed added to check\n    const tempComputedArray = [...callBackComputed, { prop, keys, fn }];\n\n    // Get all prop stored in tempComputedArray\n    const propList = tempComputedArray.flatMap((item) => item.prop);\n\n    //  Keys can't be a prop used in some computed\n    const keysIsusedInSomeComputed = propList.some((item) =>\n        keys.includes(item)\n    );\n\n    /**\n     * if - Key to watch can't be a prop used in some computed to avoid infinite loop\n     *\n     * @param  {boolean} keysIsusedInSomeComputed\n     * @return {void}\n     */\n    if (keysIsusedInSomeComputed) {\n        storeComputedKeyUsedWarning(keys, getLogStyle());\n        return;\n    }\n\n    callBackComputed.add({\n        prop,\n        keys,\n        fn,\n    });\n\n    return {\n        ...state,\n        callBackComputed,\n    };\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string[]} param.keys\n * @param {string} param.prop\n * @param {(arg0: { [key: string]: any }) => void} param.callback\n * @returns {void}\n */\nexport const storeComputedEntryPoint = ({\n    instanceId,\n    prop,\n    keys,\n    callback,\n}) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const newState = storeComputedAction({\n        state,\n        prop,\n        keys,\n        fn: callback,\n    });\n\n    if (!newState) return;\n    updateMainMap(instanceId, newState);\n};\n", "// @ts-check\n\nimport { getStateFromMainMap, updateMainMap } from './storeMap';\nimport { storeSetAction } from './storeSet';\nimport { storeType } from './storeType';\n\n/**\n * @param {import('./type').storeMapValue} initialState\n * @returns {import('./type').storeMapValue}\n */\nexport const inizializeValidation = (initialState) => {\n    const { store } = initialState;\n\n    /**\n     * Initialize empty Object if prop is an object.\n     * Need to avois error on validation assignment ( key in object doesn't exist ).\n     * No collision with any, any is used with complete declaration ( type etc.. )\n     */\n    const validationStatusObject = Object.entries(store).reduce(\n        (previous, current) => {\n            const [key, value] = current;\n            return storeType.isObject(value)\n                ? { ...previous, [key]: {} }\n                : previous;\n        },\n        {}\n    );\n\n    return { ...initialState, validationStatusObject };\n};\n\n/**\n * @param {string} instanceId\n * @param {import('./type').storeMapValue} initialState\n * @returns {void}\n */\nexport const inizializeAllProps = (instanceId, initialState) => {\n    const { store } = initialState;\n\n    /**\n     * First run execute each propierites to check validation without fire event\n     */\n    Object.entries(store).forEach((item) => {\n        const [prop, value] = item;\n\n        /**\n         * Get last updated state.\n         */\n        const state = getStateFromMainMap(instanceId);\n        const newState = storeSetAction({\n            instanceId,\n            state,\n            prop,\n            value,\n            fireCallback: false,\n            useStrict: false,\n        });\n\n        if (!newState) return;\n\n        /**\n         * Update main store state\n         */\n        updateMainMap(instanceId, newState);\n    });\n};\n", "// @ts-check\n\nimport { getUnivoqueId } from '../utils';\nimport { getLogStyle } from './logStyle';\nimport { getStateFromMainMap, updateMainMap } from './storeMap';\nimport { storeWatchWarning } from './storeWarining';\n\n/**\n * @param {import(\"./type\").storeWatchAction} param\n * @returns {import('./type').storeWatchReturnObject}\n */\nexport const storeWatchAction = ({ state, prop, callback }) => {\n    const { store, callBackWatcher } = state;\n    const logStyle = getLogStyle();\n\n    if (!store)\n        return {\n            state: undefined,\n            unsubscribeId: '',\n        };\n\n    if (!(prop in store)) {\n        storeWatchWarning(prop, logStyle);\n\n        return {\n            state: undefined,\n            unsubscribeId: '',\n        };\n    }\n\n    const id = getUnivoqueId();\n    callBackWatcher.set(id, { fn: callback, prop });\n\n    return {\n        state: { ...state, callBackWatcher },\n        unsubscribeId: id,\n    };\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.unsubscribeId\n */\nexport const unsubScribeWatch = ({ instanceId, unsubscribeId }) => {\n    const state = getStateFromMainMap(instanceId);\n    const { callBackWatcher } = state;\n    callBackWatcher.delete(unsubscribeId);\n    updateMainMap(instanceId, { ...state, callBackWatcher });\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @param {(current: any, previous: any, validate: boolean | { [key: string]: boolean }) => void} param.callback\n * @returns {() => any}\n */\nexport const watchEntryPoint = ({ instanceId, prop, callback }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return () => {};\n\n    const { state: newState, unsubscribeId } = storeWatchAction({\n        state,\n        prop,\n        callback,\n    });\n\n    if (!newState) return () => {};\n    updateMainMap(instanceId, newState);\n\n    return () => {\n        unsubScribeWatch({ instanceId, unsubscribeId });\n    };\n};\n", "// @ts-check\n\nimport { UNTYPED } from './classVersion/storeType';\nimport { getLogStyle } from './logStyle';\nimport {\n    inizializeSpecificProp,\n    inizializeStoreData,\n    maxDepth,\n} from './storeUtils';\n\n/**\n * @param {import('./type').mobStoreBaseData} data\n * @returns {import('./type').storeMapValue}\n */\nexport const inizializeInstance = (data) => {\n    /**\n     * @type {number}\n     */\n    const dataDepth = maxDepth(data);\n\n    return {\n        callBackWatcher: new Map(),\n        callBackComputed: new Set(),\n        lastestPropsChanged: new Set(),\n        validationStatusObject: {},\n        dataDepth,\n        computedRunning: false,\n        store: inizializeStoreData({\n            data,\n            depth: dataDepth,\n            logStyle: getLogStyle(),\n        }),\n        type: inizializeSpecificProp({\n            data,\n            prop: 'type',\n            depth: dataDepth,\n            logStyle: getLogStyle(),\n            fallback: UNTYPED,\n        }),\n        fnValidate: inizializeSpecificProp({\n            data,\n            prop: 'validate',\n            depth: dataDepth,\n            logStyle: getLogStyle(),\n            fallback: () => true,\n        }),\n        strict: inizializeSpecificProp({\n            data,\n            prop: 'strict',\n            depth: dataDepth,\n            logStyle: getLogStyle(),\n            fallback: false,\n        }),\n        skipEqual: inizializeSpecificProp({\n            data,\n            prop: 'skipEqual',\n            depth: dataDepth,\n            logStyle: getLogStyle(),\n            fallback: true,\n        }),\n    };\n};\n", "// @ts-check\n\nimport { getLogStyle } from './logStyle';\nimport { getStateFromMainMap } from './storeMap';\nimport { storeGetPropWarning } from './storeWarining';\n\n/**\n * @param {string} instanceId\n * @returns {{[key: string]: any|{ [key: string]: any }}}\n */\nexport const storeGetEntryPoint = (instanceId) => {\n    const { store } = getStateFromMainMap(instanceId);\n    return store;\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {any}\n */\nexport const storeGetPropEntryPoint = ({ instanceId, prop }) => {\n    const { store } = getStateFromMainMap(instanceId);\n    if (!store) return;\n\n    if (prop in store) {\n        return store[prop];\n    } else {\n        storeGetPropWarning(prop, getLogStyle());\n        return;\n    }\n};\n", "// @ts-check\n\nimport { runCallbackQueqe, runCallbackQueqeAsync } from './fireQueque';\nimport { getLogStyle } from './logStyle';\nimport { getStateFromMainMap } from './storeMap';\nimport { storeEmitWarning } from './storeWarining';\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {void}\n */\nexport const storeEmitEntryPoint = ({ instanceId, prop }) => {\n    const { store, callBackWatcher, validationStatusObject } =\n        getStateFromMainMap(instanceId);\n\n    if (!store) return;\n\n    if (prop in store) {\n        runCallbackQueqe({\n            callBackWatcher,\n            prop,\n            newValue: store[prop],\n            oldValue: store[prop],\n            validationValue: validationStatusObject[prop],\n        });\n    } else {\n        storeEmitWarning(prop, getLogStyle());\n    }\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {Promise<any>}\n */\nexport const storeEmitAsyncEntryPoint = async ({ instanceId, prop }) => {\n    const { store, callBackWatcher, validationStatusObject } =\n        getStateFromMainMap(instanceId);\n\n    if (!store) return { success: false };\n\n    if (prop in store) {\n        await runCallbackQueqeAsync({\n            callBackWatcher,\n            prop,\n            newValue: store[prop],\n            oldValue: store[prop],\n            validationValue: validationStatusObject[prop],\n        });\n\n        return { success: true };\n    } else {\n        storeEmitWarning(prop, getLogStyle());\n        return { success: false };\n    }\n};\n", "import { getStateFromMainMap } from './storeMap';\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n */\nexport const storeGetValidationEntryPoint = ({ instanceId }) => {\n    const { validationStatusObject } = getStateFromMainMap(instanceId);\n    return validationStatusObject;\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n */\nexport const storeDebugStoreEntryPoint = ({ instanceId }) => {\n    const { store } = getStateFromMainMap(instanceId);\n    console.log(store);\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n */\nexport const storeDebugValidateEntryPoint = ({ instanceId }) => {\n    const { validationStatusObject } = getStateFromMainMap(instanceId);\n    console.log(validationStatusObject);\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n */\nexport const storeDebugEntryPoint = ({ instanceId }) => {\n    const state = getStateFromMainMap(instanceId);\n    console.log(state);\n};\n", "// @ts-check\n\nimport { getUnivoqueId } from '../utils';\nimport {\n    storeComputedEntryPoint,\n    storeQuickSetEntrypoint,\n    storeSetEntryPoint,\n} from './storeSet';\nimport { removeStateFromMainMap, updateMainMap } from './storeMap';\nimport { inizializeAllProps, inizializeValidation } from './initialValidation';\nimport { watchEntryPoint } from './watch';\nimport { inizializeInstance } from './inizializeInstance';\nimport { storeGetEntryPoint, storeGetPropEntryPoint } from './storeGet';\nimport { storeEmitAsyncEntryPoint, storeEmitEntryPoint } from './storeEmit';\nimport {\n    storeDebugEntryPoint,\n    storeDebugStoreEntryPoint,\n    storeDebugValidateEntryPoint,\n    storeGetValidationEntryPoint,\n} from './storeDebug';\n\n/**\n * @param {import('./type').mobStoreBaseData} data\n * @returns {import('./type').mobStore}\n */\nexport const mobStore = (data = {}) => {\n    /**\n     * Get new uniquie id for new store.\n     */\n    const instanceId = getUnivoqueId();\n\n    /**\n     * Initialize\n     */\n    const initialState = inizializeInstance(data);\n\n    /**\n     * Create validation object\n     */\n    const stateUpdated = inizializeValidation(initialState);\n    updateMainMap(instanceId, stateUpdated);\n\n    /**\n     * Validate all props\n     * Perform a set() on all props, and update state\n     * First time strict has no effect\n     */\n    inizializeAllProps(instanceId, initialState);\n\n    /**\n     * Methods\n     */\n    return {\n        get: () => {\n            return storeGetEntryPoint(instanceId);\n        },\n        getProp: (prop) => {\n            return storeGetPropEntryPoint({ instanceId, prop });\n        },\n        set: (prop, value, fireCallback = true, clone = false) => {\n            storeSetEntryPoint({\n                instanceId,\n                prop,\n                value,\n                fireCallback,\n                clone,\n            });\n        },\n        quickSetProp: (prop, value) => {\n            storeQuickSetEntrypoint({ instanceId, prop, value });\n        },\n        watch: (prop, callback) => {\n            return watchEntryPoint({ instanceId, prop, callback });\n        },\n        computed: (prop, keys, callback) => {\n            storeComputedEntryPoint({\n                instanceId,\n                prop,\n                keys,\n                callback,\n            });\n        },\n        emit: (prop) => {\n            storeEmitEntryPoint({ instanceId, prop });\n        },\n        emitAsync: async (prop) => {\n            return storeEmitAsyncEntryPoint({ instanceId, prop });\n        },\n        getValidation: () => {\n            return storeGetValidationEntryPoint({ instanceId });\n        },\n        debug: () => {\n            storeDebugEntryPoint({ instanceId });\n        },\n        debugStore: () => {\n            storeDebugStoreEntryPoint({ instanceId });\n        },\n        debugValidate: () => {\n            storeDebugValidateEntryPoint({ instanceId });\n        },\n        destroy: () => {\n            removeStateFromMainMap(instanceId);\n        },\n    };\n};\n", "// import { SimpleStore } from '../store/classVersion/simpleStore';\nimport { mobStore } from '../store/mobStore.js';\n\nexport const eventStore = mobStore({\n    /**\n     * @description\n     * Use passive event.\n     */\n    usePassive: () => ({\n        value: true,\n        type: Boolean,\n    }),\n\n    /**\n     * @description\n     * Frame Event\n     */\n    currentFrame: () => ({\n        value: 0,\n        type: Number,\n    }),\n\n    /**\n     * @description\n     * Initial fps value\n     */\n    instantFps: () => ({\n        value: 60,\n        type: Number,\n    }),\n\n    /**\n     * @description\n     * Trigger nexFrame\n     */\n    requestFrame: () => ({\n        value: () => {},\n        type: Function,\n    }),\n\n    /**\n     * @description\n     * Send nextTick on next loop\n     */\n    deferredNextTick: () => ({\n        value: true,\n        type: Boolean,\n    }),\n\n    /**\n     * @description\n     * Throttle scroll value\n     */\n    throttle: () => ({\n        value: 60,\n        type: Number,\n    }),\n});\n", "// @ts-check\n\nimport { getUnivoqueId } from '../../utils';\n\n/**\n * @type{boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<string,function>}\n */\nconst callbacks = new Map();\n\n/**\n * @return void\n */\nfunction handler() {\n    /**\n     * if - if there is no subscritor remove handler\n     */\n    if (callbacks.size === 0) {\n        window.removeEventListener('DOMContentLoaded', handler);\n\n        initialized = false;\n        return;\n    }\n\n    // Fire end of resize\n    for (const value of callbacks.values()) {\n        value();\n    }\n    callbacks.clear();\n}\n\n/**\n * @description\n * init - if listener is not inizializad add it\n *\n * @return {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    // Add debunce function to detect scroll end\n    window.addEventListener('DOMContentLoaded', handler, {\n        passive: false,\n    });\n}\n\n/**\n * @description\n * Add callback on page load\n *\n * @param {Function} cb - Callback function executed on page load\n * @returns {function():void}\n *\n * @example\n * ```javascript\n *\n * handleLoad(() => {\n *     ...\n * });\n *\n * ```\n */\nconst addCallback = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof window !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\n/**\n * @description Function to execute a callback on page load\n */\nexport const handleLoad = (() => addCallback)();\n", "// Reasonable defaults\nconst PIXEL_STEP = 10;\nconst LINE_HEIGHT = 40;\nconst PAGE_HEIGHT = 800;\n\nexport function normalizeWheel(/*object*/ event) /*object*/ {\n    let sX = 0,\n        sY = 0, // spinX, spinY\n        pX = 0,\n        pY = 0; // pixelX, pixelY\n\n    // Legacy\n    if ('detail' in event) {\n        sY = event.detail;\n    }\n    if ('wheelDelta' in event) {\n        sY = -event.wheelDelta / 120;\n    }\n    if ('wheelDeltaY' in event) {\n        sY = -event.wheelDeltaY / 120;\n    }\n    if ('wheelDeltaX' in event) {\n        sX = -event.wheelDeltaX / 120;\n    }\n\n    // side scrolling on FF with DOMMouseScroll\n    if ('axis' in event && event.axis === event.HORIZONTAL_AXIS) {\n        sX = sY;\n        sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in event) {\n        pY = event.deltaY;\n    }\n    if ('deltaX' in event) {\n        pX = event.deltaX;\n    }\n\n    if ((pX || pY) && event.deltaMode) {\n        if (event.deltaMode == 1) {\n            // delta in LINE units\n            pX *= LINE_HEIGHT;\n            pY *= LINE_HEIGHT;\n        } else {\n            // delta in PAGE units\n            pX *= PAGE_HEIGHT;\n            pY *= PAGE_HEIGHT;\n        }\n    }\n\n    // Fall-back if spin cannot be determined\n    if (pX && !sX) {\n        sX = pX < 1 ? -1 : 1;\n    }\n    if (pY && !sY) {\n        sY = pY < 1 ? -1 : 1;\n    }\n\n    return { spinX: sX, spinY: sY, pixelX: pX, pixelY: pY };\n}\n", "// @ts-check\n\nimport { getUnivoqueId } from '../../utils/index.js';\nimport { eventStore } from '../eventStore.js';\nimport { normalizeWheel } from './normalizeWhell.js';\n\n/**\n * @param {Object} obj\n * @param {import('./type.js').mouseEvent} obj.type\n * @param {Object} obj.e\n *\n * @returns { Object }\n */\nfunction getPageData({ type, e }) {\n    // 'touchend'\n    if (type === 'touchend' && e.changedTouches) return e.changedTouches[0];\n\n    // 'mousedown', 'touchstart', 'mousemove', 'touchmove', 'mouseup'\n    return e.touches ? e.touches[0] : e;\n}\n\n/**\n * @param {Object} obj\n * @param {import('./type.js').mouseEvent} obj.type\n * @param {Object} obj.e\n * @returns Object\n * @description\n */\nfunction getClientData({ type, e }) {\n    // 'touchend'\n    if (type === 'touchend' && e.changedTouches) return e.changedTouches[0];\n\n    // 'mousedown', 'touchstart', 'mousemove', 'touchmove', 'mouseup'\n    return e.touches ? e.touches[0] : e;\n}\n\n/**\n * @param {import('./type.js').mouseEvent} event\n */\nfunction handleMouse(event) {\n    /**\n     * @type {boolean}\n     */\n    let initialized = false;\n\n    /**\n     * @type {Map<string,function>}\n     */\n    const callbacks = new Map();\n\n    /**\n     * @type {{usePassive:( boolean )}}\n     */\n    // @ts-ignore\n    let { usePassive } = eventStore.get();\n\n    /**\n     * Switch passive event on setUp change.\n     */\n    eventStore.watch('usePassive', () => {\n        window.removeEventListener(event, handler);\n        initialized = false;\n\n        init();\n    });\n\n    /**\n     * @param {Object} e\n     */\n    function handler(e) {\n        /**\n         * if - if there is no subscritor remove handler\n         */\n        if (callbacks.size === 0) {\n            window.removeEventListener(event, handler);\n\n            initialized = false;\n            return;\n        }\n\n        /**\n         * @type {import('./type.js').mouseEvent} event\n         */\n        const type = e.type;\n\n        /**\n         * @type {{ pageX:number, pageY:number }}\n         */\n        const { pageX, pageY } = getPageData({ type, e });\n\n        /**\n         * @type {{ clientX:number, clientY:number }}\n         */\n        const { clientX, clientY } = getClientData({ type, e });\n\n        /**\n         * @type {HTMLElement}\n         */\n        const target = e.target;\n\n        // Prepare data to callback\n        const mouseData = {\n            page: {\n                x: pageX,\n                y: pageY,\n            },\n            client: {\n                x: clientX,\n                y: clientY,\n            },\n            target,\n            type,\n            preventDefault: () => (usePassive ? () => {} : e.preventDefault()),\n        };\n\n        // Add spin value if is wheel event\n        if (type === 'wheel') {\n            const { spinX, spinY, pixelX, pixelY } = normalizeWheel(e);\n            Object.assign(mouseData, { spinX, spinY, pixelX, pixelY });\n        }\n\n        for (const value of callbacks.values()) {\n            value(mouseData);\n        }\n    }\n\n    /**\n     * @description\n     * init - if listener is not inizializad remove it\n     *\n     * @return {void}\n     */\n    function init() {\n        if (initialized) return;\n        initialized = true;\n        usePassive = eventStore.getProp('usePassive');\n\n        window.addEventListener(event, handler, {\n            passive: usePassive,\n        });\n    }\n\n    /**\n     * @description\n     * add callback on mouse action\n     *\n     * @param {import('./type.js').mouseEventCallback} cb - callback function fired on mouse action.\n     *\n     * @example\n     * ```javascript\n     *\n     * ```\n     */\n    const addCb = (cb) => {\n        const id = getUnivoqueId();\n        callbacks.set(id, cb);\n\n        if (typeof window !== 'undefined') {\n            init();\n        }\n\n        return () => callbacks.delete(id);\n    };\n\n    return addCb;\n}\n\n/**\n * @description\n * Add callback on mouse click\n *\n * @example\n * ```javascript\n * const unsubscribe = handleMouseClick(\n *     ({ client, page, preventDefault, target, type }) => {\n *         // code\n *     }\n * );\n *\n * unsubscribe();\n *\n * ```\n */\nexport const handleMouseClick = handleMouse('click');\n\n/**\n * @description\n * Add callback on mouse down\n *\n * @example\n * ```javascript\n * const unsubscribe = handleMouseDown(\n *     ({ client, page, preventDefault, target, type }) => {\n *         // code\n *     }\n * );\n *\n * unsubscribe();\n *\n * ```\n */\nexport const handleMouseDown = handleMouse('mousedown');\n\n/**\n * @description\n * Add callback on touch start\n *\n * @example\n * ```javascript\n * const unsubscribe = handleTouchStart(\n *     ({ client, page, preventDefault, target, type }) => {\n *         // code\n *     }\n * );\n *\n * unsubscribe();\n *\n * ```\n */\nexport const handleTouchStart = handleMouse('touchstart');\n\n/**\n * @description\n * Add callback on handleMouseMove\n *\n * @example\n * ```javascript\n * const unsubscribe = handleMouseMove(\n *     ({ client, page, preventDefault, target, type }) => {\n *         // code\n *     }\n * );\n *\n * unsubscribe();\n *\n * ```\n */\nexport const handleMouseMove = handleMouse('mousemove');\n\n/**\n * @description\n * Add callback on touch move\n *\n * @example\n * ```javascript\n * const unsubscribe = handleTouchMove(\n *     ({ client, page, preventDefault, target, type }) => {\n *         // code\n *     }\n * );\n *\n * unsubscribe();\n *\n * ```\n */\nexport const handleTouchMove = handleMouse('touchmove');\n\n/**\n * @description\n * Add callback on mouse up\n *\n * @example\n * ```javascript\n * const unsubscribe = handleMouseUp(\n *     ({ client, page, preventDefault, target, type }) => {\n *         // code\n *     }\n * );\n *\n * unsubscribe();\n *\n * ```\n */\nexport const handleMouseUp = handleMouse('mouseup');\n\n/**\n * @description\n * Add callback on touc end\n *\n * @example\n * ```javascript\n * const unsubscribe = handleTouchEnd(\n *     ({ client, page, preventDefault, target, type }) => {\n *         // code\n *     }\n * );\n *\n * unsubscribe();\n *\n * ```\n */\nexport const handleTouchEnd = handleMouse('touchend');\n\n/**\n * @description\n * Add callback on mouse wheel\n *\n * @example\n * ```javascript\n * const unsubscribe = handleMouseWheel(\n *     ({\n *         client,\n *         page,\n *         preventDefault,\n *         target,\n *         type,\n *         pixelX,\n *         pixelY,\n *         spinX,\n *         spinY,\n *     }) => {\n *         // code\n *     }\n * );\n *\n * unsubscribe();\n *\n * ```\n */\nexport const handleMouseWheel = handleMouse('wheel');\n", "// @ts-check\n\nimport { getUnivoqueId } from '../../utils';\nimport { eventStore } from '../eventStore';\n\n/**\n * @type {number}\n *\n * @description\n * Increment and decrement when we add or fire a item.\n * hadleFrame use that to check if the requestAnimationFrame have to go on.\n * Indeicate fi there is frame to render.\n */\nlet cacheCoutner = 0;\n\n/**\n * @type {Map.<string, { el: (Object|HTMLElement), fn: Function, data: Map.<number, Object> }>}\n */\nconst subscriberMap = new Map();\n\n/**\n * @param {Object|HTMLElement} el\n * @param {Function} fn\n * @returns {{id:string,unsubscribe:function():void}}\n *\n * @description\n * Add new item to cache.\n */\nconst add = (el = {}, fn = () => {}) => {\n    const id = getUnivoqueId();\n\n    subscriberMap.set(id, {\n        el,\n        fn,\n        data: new Map(),\n    });\n\n    return {\n        id,\n        unsubscribe: () => {\n            if (subscriberMap.has(id)) {\n                /*\n                 * When we remove some items before fired we have to update the\n                 * cachecounter so handleFrame can stop\n                 */\n                const item = subscriberMap.get(id);\n                if (!item) return;\n\n                const frameToSubstract = item.data.size;\n                subscriberMap.delete(id);\n                if (!frameToSubstract) return;\n\n                cacheCoutner = cacheCoutner - frameToSubstract;\n            }\n        },\n    };\n};\n\n/**\n * @param {Object} obj\n * @param {string} obj.id\n * @param {Object} obj.callBackObject\n * @param {number} obj.frame\n * @returns void\n *\n * @description\n * Add new data on existing id in a specific frame.\n */\nconst update = ({ id, callBackObject, frame }) => {\n    if (!subscriberMap.has(id)) return;\n\n    const { currentFrame } = eventStore.get();\n    const item = subscriberMap.get(id);\n\n    if (!item?.data) return;\n    const { data } = item;\n\n    /**\n     * If frame is overridden the counter is not synchronized with real\n     * number of callback.\n     * So skip.\n     */\n    if (data.has(frame + currentFrame)) return;\n\n    data.set(frame + currentFrame, callBackObject);\n    cacheCoutner++;\n};\n\n/**\n * @memberof module:handleCache\n * @param {string} id\n * @returns void\n *\n * @description\n * Remove item from cache.\n */\nconst remove = (id) => {\n    if (subscriberMap.has(id)) subscriberMap.delete(id);\n};\n\n/**\n * @param {string} id\n * @returns void\n *\n * @description\n * Reset item data\n */\nconst clean = (id) => {\n    const el = subscriberMap.get(id);\n    if (!el) return;\n\n    /*\n     * When we remove some items before fired we have to update the\n     * cachecounter so handleFrame can stop\n     */\n    const frameToSubstract = el.data.size;\n    cacheCoutner = cacheCoutner - frameToSubstract;\n    el.data.clear();\n};\n\n/**\n * @memberof module:handleCache\n * @param {string} id\n * @returns {Object.<number, { el: (Object|HTMLElement), fn: Function, data: Object.<number, Object> }>}\n *\n * @description\n * Get item object\n */\nconst get = (id) => {\n    return subscriberMap.get(id) ?? {};\n};\n\n/**\n * @param {number} frameCounter - frame to render.\n * @returns void\n *\n * @description\n * Render obj on specific frame and delete rendered object.\n */\nconst fire = (frameCounter) => {\n    for (const value of subscriberMap.values()) {\n        const { data, fn, el } = value;\n        const callBackObject = data.get(frameCounter);\n\n        if (callBackObject) {\n            fn(callBackObject, el);\n\n            data.delete(frameCounter);\n            cacheCoutner--;\n        }\n    }\n};\n\n/**\n * @param {Object} obj\n * @param {string} obj.id\n * @param {Object} obj.obj\n * @returns void\n *\n * @description\n * Render immediately obj using existing id/function\n */\nconst fireObject = ({ id, obj = {} }) => {\n    if (!subscriberMap.has(id)) return;\n\n    const item = subscriberMap.get(id);\n    if (!item) return;\n\n    const { el, fn } = item;\n    fn(obj, el);\n};\n\n/**\n * @returns {number}\n *\n * @description\n * Get current number of frame to render.\n */\nconst getCacheCounter = () => cacheCoutner;\n\n/**\n * @param {number} maxFramecounter\n *\n * @description\n * When frameCounter become too big reset and recalculate all the frame values.\n */\nconst updateFrameId = (maxFramecounter) => {\n    for (const [key, value] of subscriberMap) {\n        const { data, fn, el } = value;\n\n        const newMap = new Map();\n        for (const [frame, object] of data) {\n            newMap.set(frame - maxFramecounter, object);\n            data.delete(frame);\n        }\n\n        subscriberMap.set(key, { data: newMap, fn, el });\n    }\n};\n\n/**\n * @description\n * @module handleCache\n */\nexport const handleCache = (() => {\n    return {\n        add,\n        get,\n        update,\n        remove,\n        clean,\n        fire,\n        fireObject,\n        getCacheCounter,\n        updateFrameId,\n    };\n})();\n", "// @ts-check\n\nimport { getUnivoqueId } from '../../utils';\n\n/**\n * @type {boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<string,Function>}\n */\nconst callbacks = new Map();\n\n/**\n *\n */\nfunction handler() {\n    /**\n     * if - if there is no subscritor remove handler\n     */\n    if (callbacks.size === 0) {\n        window.removeEventListener('visibilitychange', handler);\n\n        initialized = false;\n        return;\n    }\n\n    // Prepare data to callback\n    const visibilityData = {\n        visibilityState: document.visibilityState,\n    };\n\n    for (const value of callbacks.values()) {\n        value(visibilityData);\n    }\n}\n\n/**\n * init - if listener is not inizializad remove it\n *\n * @return {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    window.addEventListener('visibilitychange', handler, {\n        passive: false,\n    });\n}\n\n/**\n * @description\n * Add callback on tab change\n *\n * @param {import('./type').visibilityChangeCallback} cb - callback function fired on tab change.\n * @returns function\n *\n * @example\n * ```javascript\n *  const unsubscribe = handleVisibilityChange(({ visibilityState }) => {\n *      // code\n *  });\n *\n *  unsubscribe()\n *\n * ```\n */\nconst addCb = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof window !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\nexport const handleVisibilityChange = (() => addCb)();\n", "// @ts-check\n\n/**\n * @type {Array}\n */\nconst callbacks = [];\n\n/**\n * @description\n * Add callback\n *\n * @param {import('./type.js').handleFrameCallbakType} cb - callback function\n * @param {number} [ priority ]\n *\n * @example\n * ```javascript\n * handleFrame.add(() => {\n *     handleNextTick.add(({ fps, time }) => {\n *         // code\n *     });\n * });\n *\n * Loop request animation frame using handleNextTick:\n * const loop = () => {\n *     handleNextTick.add(() => {\n *         // read from DOM\n *\n *         handleFrame.add(() => {\n *             // write to the DOM\n *             loop();\n *         });\n *     });\n * };\n *\n * handleFrame.add(() => loop());\n *\n * To tick exactly after the request animation frame:\n * mobbu.default('set', { deferredNextTick: true });\n * ```\n */\nconst add = (cb = () => {}, priority = 100) => {\n    callbacks.push({ cb, priority });\n};\n\n/**\n * @description\n * Fire callback\n *\n * @param {import('./type.js').handleFrameType} cb - callback function\n *\n * @example\n * ```javascript\n   handleNextTick.fire({ time, fps });\n *\n * ```\n */\nconst fire = ({ time, fps }) => {\n    if (callbacks.length === 0) return;\n\n    callbacks.sort((a, b) => a.priority - b.priority);\n    callbacks.forEach(({ cb }) => cb({ time, fps }));\n    callbacks.length = 0;\n};\n\n/**\n * @module handleNextTick\n *\n * @description\n * Execute callbacks after scheduling the request animation frame. Use this method to read data from the DOM. To execute callbacks exactly after the request animation frame, set the global property deferredNextTick to true.\n */\nexport const handleNextTick = (() => {\n    return { add, fire };\n})();\n", "// @ts-check\n\n/**\n * @type {Array}\n */\nconst callbacks = [];\n\n/**\n *\n * @description\n * Add callback\n *\n * @param {import('./type.js').handleFrameCallbakType} callBack - callback function\n *\n * @example\n * ```javascript\n * const loop = () => {\n *     handleNextFrame.add(({ fps, time }) => {\n *         // code\n *         loop();\n *     });\n * };\n *\n * handleFrame.add(() => loop());\n *\n * ```\n */\nconst add = (callBack) => {\n    callbacks.push(callBack);\n};\n\n/**\n * @description\n * Reset callback\n *\n * @returns {import('./type.js').handleFrameArrayType}\n *\n */\nconst get = () => {\n    const callBackArray = [...callbacks];\n    callbacks.length = 0;\n    return callBackArray;\n};\n\n/**\n * @module handleNextFrame\n *\n * @description\n * Execute a callback to the next available frame allowing the creation of a request animation frame loop\n */\nexport const handleNextFrame = (() => {\n    return { add, get };\n})();\n", "// @ts-check\n\nimport { eventStore } from '../eventStore.js';\n\n/**\n * @type {Map<number, Function[]>}\n */\nconst indexCallbackMap = new Map();\n\n/**\n * @param {number} currentFrameLimit\n *\n * @description\n * Update each callback's frame when handleFrame resets its index to avoid too large numbers>\n */\nconst updateKeys = (currentFrameLimit) => {\n    const oldMapToArray = [...indexCallbackMap.entries()];\n    indexCallbackMap.clear();\n\n    oldMapToArray.forEach(([index, value]) => {\n        indexCallbackMap.set(index - currentFrameLimit, value);\n    });\n};\n\n/**\n * @param {Object} obj\n * @param {number} obj.currentFrame\n * @param {number} obj.time\n * @param {number} obj.fps\n * @return void\n *\n * @description\n * Fire callback\n *\n * @examples\n *\n * ```javascript\n * handleFrameIndex.fire(({ currentFrame, fps,  time });      *\n * ```\n */\nconst fire = ({ currentFrame, time, fps }) => {\n    /**\n     * @type {Array.<Function>}\n     *\n     * @description\n     * Get arrays of callBack related to the current currentFrame\n     * indexCb is a 'global' variables instead constant to reduce garbage collector\n     */\n    const callabacks = indexCallbackMap.get(currentFrame) ?? [];\n    if (!callabacks || callabacks.length === 0) return;\n\n    callabacks.forEach((item) => item({ time, fps }));\n    indexCallbackMap.delete(currentFrame);\n};\n\n/**\n * @description\n * Add callback to a specific frame.\n *\n * @memberof module:handleFrameIndex\n * @param {import('./type.js').handleFrameCallbakType} callback - callback function\n * @param {number} index\n *\n * @example\n * ```javascript\n * handleFrameIndex.add(({ fps,  time }) => {\n *     // code ...\n * }, 5);\n *\n * ```\n */\nconst add = (callback, index) => {\n    /**\n     * @type {number}\n     */\n    const frameIndex = index + eventStore.getProp('currentFrame');\n\n    /**\n     *  Add callback to array related to specific index idf exxist or create\n     *  in a bigger set of callaback\n     */\n    const callabacks = indexCallbackMap.get(frameIndex) ?? [];\n    indexCallbackMap.set(frameIndex, [...callabacks, callback]);\n    eventStore.emit('requestFrame');\n};\n\n/**\n * @description\n * Get callback array length\n *\n * @returns {number}\n */\nconst getAmountOfFrameToFire = () => {\n    return indexCallbackMap.size;\n};\n\n/**\n *\n * @description\n * Execute a callback at a specific frame.\n */\nexport const handleFrameIndex = (() => {\n    return {\n        add,\n        fire,\n        updateKeys,\n        getAmountOfFrameToFire,\n    };\n})();\n", "// @ts-check\n\nimport { eventStore } from '../eventStore';\n\n/**\n * @type {boolean}\n */\nlet loadFpsIsReady = false;\n\n/**\n * @description -  Runs a request animation frame loop to detect the frame rate of the monitor.\n *   After the method will be resolved the first time, subsequent calls will be resolved immediately returning the previously calculated value.\n *   The method is launched the first time automatically at the first loading.\n *\n * @param {number} [ duration = 30 ] - loop duration in frame, the default value is 30.\n * @return {Promise.<import('./type').loadFpsTypes>} The promise launched after the loop\n *\n * @example\n * ```javascript\n *\n * loadFps(60).then(({ averageFPS }) => {\n *     // code\n * });\n *\n * ```\n */\nexport const loadFps = (duration = 30) => {\n    if (loadFpsIsReady) {\n        const { instantFps } = eventStore.get();\n\n        return new Promise((resolve) => {\n            resolve({ averageFPS: instantFps });\n        });\n    }\n\n    return new Promise((resolve) => {\n        /**\n         * @type {Array.<number>}\n         */\n        const frameTimes = [];\n\n        /**\n         * @type {number}\n         */\n        const maxFrames = 25;\n\n        /**\n         * @type {number}\n         */\n        let frameCursor = 0;\n\n        /**\n         * @type {number}\n         */\n        let numFrames = 0;\n\n        /**\n         * @type {number}\n         */\n        let totalFPS = 0;\n\n        /**\n         * @type {number}\n         */\n        let then = 0;\n\n        /**\n         * @type {number}\n         */\n        let frameCounter = 0;\n\n        /**\n         * @param {number} now\n         */\n        const render = (now) => {\n            // convert to seconds\n            now *= 0.001;\n\n            // compute time since last frame\n            const deltaTime = now - then;\n\n            // remember time for next frame\n            then = now;\n\n            // compute frames per second, prevent inifinit || NaN.\n            const rawFps = Number.isFinite(1 / deltaTime) ? 1 / deltaTime : 60;\n\n            // Doasn/t consider fps < 60.\n            const fps = Math.max(rawFps, 60);\n\n            // add the current fps and remove the oldest fps\n            totalFPS += fps - (frameTimes[frameCursor] || 0);\n\n            // record the newest fps\n            frameTimes[frameCursor++] = fps;\n\n            // needed so the first N frames, before we have maxFrames, is correct.\n            numFrames = Math.max(numFrames, frameCursor);\n\n            // wrap the cursor\n            frameCursor %= maxFrames;\n\n            const averageFPS = Math.round(totalFPS / numFrames);\n\n            frameCounter++;\n\n            if (frameCounter >= duration) {\n                eventStore.quickSetProp('instantFps', averageFPS);\n                loadFpsIsReady = true;\n                resolve({\n                    averageFPS: averageFPS,\n                });\n                return;\n            }\n\n            requestAnimationFrame(render);\n        };\n        requestAnimationFrame(render);\n    });\n};\n", "// @ts-check\n\n// Get right time if server side or client side\nexport const getTime = () => {\n    return typeof window === 'undefined'\n        ? Date.now()\n        : window.performance.now();\n};\n\nexport const defaultTimestep = (1 / 60) * 1000;\n", "// @ts-check\n\nimport { handleVisibilityChange } from '../visibilityChange/handleVisibilityChange.js';\nimport { handleCache } from './handleCache.js';\nimport { handleNextTick } from './handleNextTick.js';\nimport { handleNextFrame } from './handleNextFrame.js';\nimport { handleFrameIndex } from './handleFrameIndex';\nimport { catchAnimationReject } from '../errorHandler/catchAnimationReject.js';\nimport { loadFps } from './loadFps.js';\nimport { eventStore } from '../eventStore.js';\nimport { defaultTimestep, getTime } from './time.js';\nimport { useNextLoop } from '../../utils/nextTick.js';\n\n/**\n * Calculate a precise fps\n */\nloadFps();\n\n/**\n * @description\n * 10000 is maximum stagger frame delay\n */\nconst currentFrameLimit = 10_000_000;\n\n/**\n * @type {number}\n */\nconst firstRunDuration = 2000;\n\n/**\n * @type {boolean}\n */\nlet frameIsRuning = false;\n\n/**\n * @type {import('./type.js').handleFrameArrayType}\n */\nlet callback = [];\n\n/**\n * @type {number}\n */\nlet time = getTime();\n\n/**\n * @type {number}\n */\nlet startTime = 0;\n\n/**\n * @type {number}\n */\nlet rawTime = 0;\n\n/**\n * @type {number}\n */\nlet timeElapsed = 0;\n\n/**\n * @type {number}\n */\nlet lastTime = 0;\n\n/**\n * @type {number}\n */\nlet timeLost = 0;\n\n/**\n * @type {boolean}\n */\nlet isStopped = false;\n\n/**\n * @type {number}\n *\n * @description\n * Stable fps\n */\nlet fps = 60;\n\n/**\n * @type {number}\n */\nlet maxFps = fps;\n\n/**\n * @type {number}\n */\nlet frames = 0;\n\n/**\n * @type {number}\n */\nlet fpsPrevTime = 0;\n\n/**\n * @type {number}\n */\nlet currentFrame = 0;\n\n/**\n * @type {boolean}\n */\nlet mustMakeSomethingIsActive = false;\n\n/**\n * @type {boolean}\n */\nlet shouldMakeSomethingIsActive = false;\n\n/**\n * @returns {boolean}\n *\n * @description\n * Check if frame dropped a lot.\n */\nconst mustMakeSomethingCheck = () => fps < (maxFps / 5) * 3;\n\n/**\n * @returns {boolean}\n *\n * Check if frame dropped medium.\n */\nconst shouldMakeSomethingCheck = () => fps < (maxFps / 5) * 4;\n\n/**\n * @returns void\n *\n * @description\n * If frame dropper for X seconds mustMakeSomethingIsActive = true\n */\nconst mustMakeSomethingStart = () => {\n    if (!mustMakeSomethingCheck() || mustMakeSomethingIsActive) return;\n\n    mustMakeSomethingIsActive = true;\n    setTimeout(() => {\n        mustMakeSomethingIsActive = false;\n    }, 4000);\n};\n\n/**\n * @returns void\n *\n * @description\n * If frame dropper for X seconds shouldMakeSomethingIsActive = true\n */\nconst shouldMakeSomethingStart = () => {\n    if (!shouldMakeSomethingCheck() || shouldMakeSomethingIsActive) return;\n\n    shouldMakeSomethingIsActive = true;\n    setTimeout(() => {\n        shouldMakeSomethingIsActive = false;\n    }, 4000);\n};\n\n/**\n *\n * @description\n * Stop timer when user change tab\n */\nhandleVisibilityChange(({ visibilityState }) => {\n    isStopped = visibilityState === 'visible';\n});\n\ncatchAnimationReject();\n\n// Call new requestAnimationFrame on event emit\neventStore.watch('requestFrame', () => {\n    initFrame();\n});\n\n/**\n * @returns void\n *\n * @description\n * Next tick function\n */\nconst nextTickFn = () => {\n    /*\n     * If currentFrame reach currentFrameLimit back to zero to avoid big numbers\n     * executte the operation outside requestAnimationFrame if deferredNextTick is active\n     */\n    if (currentFrame === currentFrameLimit) {\n        currentFrame = 0;\n        eventStore.quickSetProp('currentFrame', currentFrame);\n        handleFrameIndex.updateKeys(currentFrameLimit);\n        handleCache.updateFrameId(currentFrameLimit);\n    }\n\n    /*\n        Fire next tick\n        */\n    handleNextTick.fire({ time, fps });\n\n    /**\n     * Get next callback\n     */\n    callback = [...callback, ...handleNextFrame.get()];\n\n    /**\n     * Next frame condition\n     */\n\n    /**\n     * RequestAnimationFrame is ended, ready for another\n     */\n    frameIsRuning = false;\n\n    if (\n        callback.length > 0 ||\n        handleFrameIndex.getAmountOfFrameToFire() > 0 ||\n        handleCache.getCacheCounter() > 0 ||\n        time < firstRunDuration\n    ) {\n        /**\n         * Call Next animationFrame\n         */\n        initFrame();\n    } else {\n        isStopped = true;\n        currentFrame = 0;\n        lastTime = time;\n        eventStore.quickSetProp('currentFrame', currentFrame);\n    }\n};\n\n/**\n * @param {number} timestamp\n * @returns void\n */\nconst render = (timestamp) => {\n    /**\n     * Update time\n     **/\n    time = timestamp;\n    timeElapsed = time - rawTime;\n\n    if (isStopped) startTime += timeElapsed;\n\n    /**\n     * Default time calculation.\n     */\n    rawTime += timeElapsed;\n    time = Math.round(rawTime - startTime);\n\n    /**\n     * Get frame duration.\n     */\n    const frameDuration = Math.round(1000 / fps);\n\n    /**\n     * Get time lost\n     * ( if the difference of current time with last time and frame duration is han 100ms ).\n     * Problem with workspace and switch to dirrent application without fire visibilityChange event.\n     */\n    timeLost = Math.abs(time - lastTime - frameDuration);\n    const timeToSubsctract = timeLost > 100 ? timeLost : 0;\n    time = time - timeToSubsctract;\n    lastTime = time;\n\n    /**\n     * Update frame counter for fps or reset id tab change.\n     */\n    if (isStopped) {\n        fpsPrevTime = time;\n        frames = 0;\n        fps = eventStore.getProp('instantFps');\n    } else {\n        frames++;\n    }\n\n    /**\n     * Get fps\n     * Update fps every second\n     **/\n    if (time > fpsPrevTime + 1000 && !isStopped) {\n        /**\n         * Calc fps\n         * Set fps when stable after 2 seconds otherwise use instantFps\n         */\n        fps =\n            time > firstRunDuration\n                ? Math.round((frames * 1000) / (time - fpsPrevTime))\n                : eventStore.getProp('instantFps');\n        fpsPrevTime = time;\n        frames = 0;\n\n        /**\n         * Prevent fps error;\n         * Se a minimum of 30 fps.\n         */\n        fps = fps < 30 ? eventStore.getProp('instantFps') : fps;\n    }\n\n    /**\n     * Update max fps\n     */\n    if (fps > maxFps) maxFps = fps;\n\n    /**\n     * Start frame check for mustMakeSomething methods.\n     */\n    mustMakeSomethingStart();\n\n    /**\n     * Start frame check for shouldMakeSomething methods.\n     */\n    shouldMakeSomethingStart();\n\n    /**\n     *Fire callbnack\n     */\n    callback.forEach((item) => item({ time, fps }));\n\n    /*\n     * Fire callback related to specific index frame\n     */\n    handleFrameIndex.fire({ currentFrame, time, fps });\n\n    /**\n     *Fire handleCache callBack\n     */\n    handleCache.fire(currentFrame);\n\n    /**\n     *  Update currentFrame\n     */\n    currentFrame++;\n    eventStore.quickSetProp('currentFrame', currentFrame);\n\n    /**\n     *Reset props\n     */\n    callback.length = 0;\n    isStopped = false;\n\n    const deferredNextTick = eventStore.getProp('deferredNextTick');\n\n    if (deferredNextTick) {\n        useNextLoop(() => nextTickFn());\n    } else {\n        nextTickFn();\n    }\n};\n\n/**\n * @returns void\n *\n * @description\n * Init new frame if is not running\n */\nconst initFrame = () => {\n    if (frameIsRuning) return;\n\n    if (typeof window === 'undefined') {\n        setTimeout(() => render(getTime()), defaultTimestep);\n    } else {\n        requestAnimationFrame(render);\n    }\n\n    frameIsRuning = true;\n};\n\n/**\n * @description\n    Execute a callBack within the first available request animation frame.\n    Use this method to modify elements of the DOM\n */\nexport const handleFrame = (() => {\n    /**\n     * @description\n     * Get current fps\n     *\n     * @returns {number}\n     */\n    const getFps = () => fps;\n\n    /**\n     * @returns {boolean}\n     *\n     * @description\n     * Return the mustMakeSomethingIsActive status.\n     * If frame dropped the value is true for X seconds.\n     */\n    const mustMakeSomething = () => mustMakeSomethingIsActive;\n\n    /**\n     * @returns {boolean}\n     *\n     * @description\n     * Return the mustMakeSomethingIsActive status.\n     * If frame dropped the value is true for X seconds.\n     */\n    const shouldMakeSomething = () => shouldMakeSomethingIsActive;\n\n    /**\n     * @description\n     * Add callback\n     *\n     * @param {import('./type.js').handleFrameCallbakType} cb - callback function\n     * @returns void\n     *\n     * @example\n     * ```javascript\n     * handleFrame.add(({ fps, time }) => {\n     *     // code ...\n     * });\n     *\n     * ```\n     */\n    const add = (cb) => {\n        callback.push(cb);\n        initFrame();\n    };\n\n    /**\n     * @description\n     * Add an array of callback\n     *\n     * @param {import('./type.js').handleFrameArrayType} arr - array of callback\n     */\n    const addMultiple = (arr = []) => {\n        callback = [...callback, ...arr];\n        initFrame();\n    };\n\n    return {\n        add,\n        addMultiple,\n        getFps,\n        mustMakeSomething,\n        shouldMakeSomething,\n    };\n})();\n", "// @ts-check\n\n/**\n * @param {Function} fn\n * @param {number} [ time ]\n * @returns {Function}\n *\n * @description\n */\nexport const debounceFuncion = function debounce(fn, time = 200) {\n    let timeout;\n\n    return function () {\n        const functionCall = () => Reflect.apply(fn, this, arguments);\n\n        clearTimeout(timeout);\n        timeout = setTimeout(functionCall, time);\n    };\n};\n", "// @ts-check\n\nimport { getUnivoqueId } from '../../utils/index.js';\nimport { debounceFuncion } from '../debounce.js';\n\n/**\n * @type {boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<String,Function>}\n */\nconst callbacks = new Map();\n\n/**\n * @type {Function}\n */\nlet debouceFunctionReference = () => {};\n\n/**\n * @type {number}\n */\nlet previousWindowHeight = window.innerHeight;\n\n/**\n * @type {number}\n */\nlet previousWindowWidth = window.innerWidth;\n\n/**\n * @returns void\n */\nfunction handler() {\n    /**\n     * If there is no subscritor remove handler.\n     */\n    if (callbacks.size === 0) {\n        // @ts-ignore\n        window.removeEventListener('resize', debouceFunctionReference);\n\n        initialized = false;\n        return;\n    }\n\n    // Check there is a vertical resizer\n\n    /**\n     * @type {number}\n     */\n    const windowsHeight = window.innerHeight;\n\n    /**\n     * @type {number}\n     */\n    const windowsWidth = window.innerWidth;\n\n    /**\n     * @type {boolean}\n     */\n    const verticalResize = windowsHeight !== previousWindowHeight;\n\n    /**\n     * @type {boolean}\n     */\n    const horizontalResize = windowsWidth !== previousWindowWidth;\n\n    /**\n     * @type {number}\n     */\n    previousWindowHeight = windowsHeight;\n\n    /**\n     * @type {number}\n     */\n    previousWindowWidth = windowsWidth;\n\n    // Prepare data to callback\n    const resizeData = {\n        scrollY: window.scrollY,\n        windowsHeight,\n        windowsWidth,\n        documentHeight: document.documentElement.scrollHeight,\n        verticalResize,\n        horizontalResize,\n    };\n\n    // Fire end of resize\n    for (const value of callbacks.values()) {\n        value(resizeData);\n    }\n}\n\n/**\n * init - if listener is not inizializad add it\n *\n * @return {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    // Add debunce function to detect scroll end\n    debouceFunctionReference = debounceFuncion(() => handler());\n    // @ts-ignore\n    window.addEventListener('resize', debouceFunctionReference, {\n        passive: false,\n    });\n}\n\n/**\n * @param {import('./type.js').handleResizeCallback} cb - callback function fired on resize.\n *\n * @description\n * Add callback on resize using a debounce function.\n *\n * @example\n * ```javascript\n * handleResize(\n *     ({\n *         documentHeight,\n *         horizontalResize,\n *         scrollY,\n *         verticalResize,\n *         windowsHeight,\n *         windowsWidth,\n *     }) => {\n *         // code\n *     }\n * );\n *\n * ```\n */\nconst addCb = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof window !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\nexport const handleResize = (() => addCb)();\n", "// @ts-check\n\nimport { getUnivoqueId } from '../../utils';\n\n/**\n * @type {boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<string,function>}\n */\nconst callbacks = new Map();\nconst UP = 'UP';\nconst DOWN = 'DOWN';\n\n/**\n * @type {number}\n */\nlet prev = window.scrollY;\n\n/**\n * @type {number}\n */\nlet val = window.scrollY;\n\n/**\n * @type {import('./type').scrollDirection}\n */\nlet direction = DOWN;\n\n/**\n * @type {import('./type').handleScrollTypes}\n */\nlet scrollData = {\n    scrollY: val,\n    direction,\n};\n\n/**\n * @returns void\n */\nfunction handler() {\n    /**\n     * if - if there is no subscritor remove handler\n     */\n    if (callbacks.size === 0) {\n        window.removeEventListener('scroll', handler);\n\n        initialized = false;\n        return;\n    }\n\n    prev = val;\n    val = window.scrollY;\n    direction = val > prev ? DOWN : UP;\n\n    // Prepare data to callback\n    scrollData = {\n        scrollY: val,\n        direction,\n    };\n\n    /**\n     * Check if browser lost frame.\n     * If true skip.\n     */\n    // callback.forEach(({ cb }) => cb(scrollData));\n    for (const value of callbacks.values()) {\n        value(scrollData);\n    }\n}\n\n/**\n * init - if listener is not inizializad remove it\n *\n * @return {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    window.addEventListener('scroll', handler, {\n        passive: true,\n    });\n}\n\n/**\n * @description\n * Execute a callback immediately on scroll\n *\n * @param {import('./type').handleScrollCallback} cb - callback function\n * @return {Function} unsubscribe callback\n *\n * @example\n * ```javascript\n * const unsubscribe = handleScrollImmediate(({ direction, scrollY }) => {\n *     // code\n * });\n *\n * unsubscribe();\n *\n * ```\n */\nconst addCb = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof window !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\n/**\n * @description\n * Execute a callback immediately on scroll\n */\nexport const handleScrollImmediate = (() => {\n    return addCb;\n})();\n", "// @ts-check\n\nimport { getUnivoqueId } from '../../utils/index.js';\nimport { handleFrame } from '../rafutils/handleFrame.js';\nimport { handleNextTick } from '../rafutils/handleNextTick.js';\nimport { handleScrollImmediate } from './handleScrollImmediate.js';\n\n/**\n * @type {boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<string,function>}\n */\nconst callbacks = new Map();\n\n/**\n * @type {Function}\n */\nlet unsubscribe = () => {};\n\n/**\n * @param {Object} scrollData\n */\nfunction handler(scrollData) {\n    /**\n     * if - if there is no subscritor remove handler\n     */\n    if (callbacks.size === 0) {\n        unsubscribe();\n\n        initialized = false;\n        return;\n    }\n\n    handleFrame.add(() => {\n        handleNextTick.add(() => {\n            for (const value of callbacks.values()) {\n                value(scrollData);\n            }\n        }, 0);\n    });\n}\n\n/**\n * init - if listener is not inizializad remove it\n *\n * @return {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    unsubscribe = handleScrollImmediate(handler);\n}\n\n/**\n * @description\n * Perform a callback to the first nextTick available after scrolling\n *\n * @param {import('./type.js').handleScrollCallback} cb - callback function\n * @return {Function} unsubscribe callback\n *\n * @example\n * ```javascript\n * const unsubscribe = handleScroll(({ direction, scrollY }) => {\n *     // code\n * });\n *\n * unsubscribe();\n *\n * ```\n */\nconst addCb = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof window !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\n/**\n * @description\n * Perform a callback to the first nextTick available after scrolling\n */\nexport const handleScroll = (() => addCb)();\n", "/* eslint-disable unicorn/no-this-assignment */\n// @ts-check\n\nimport { getTime } from './rafutils/time';\n\n/**\n * @param {Function} func\n * @param {number} limit\n * @returns {Function}\n *\n * @description\n */\nexport const throttle = (func, limit) => {\n    let lastFunc;\n    let lastRan;\n\n    return function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const context = this;\n        const args = arguments;\n\n        if (lastRan) {\n            clearTimeout(lastFunc);\n            lastFunc = setTimeout(\n                function () {\n                    if (getTime() - lastRan >= limit) {\n                        func.apply(context, args);\n                        lastRan = getTime();\n                    }\n                },\n                limit - (getTime() - lastRan)\n            );\n        } else {\n            func.apply(context, args);\n            lastRan = getTime();\n        }\n    };\n};\n", "// @ts-check\n\nimport { handleFrame } from '../rafutils/handleFrame.js';\nimport { handleNextTick } from '../rafutils/handleNextTick.js';\nimport { throttle } from '../throttle.js';\nimport { handleScrollImmediate } from './handleScrollImmediate.js';\nimport { eventStore } from '../eventStore.js';\nimport { getUnivoqueId } from '../../utils/index.js';\n\n/**\n * @type {boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<string,function>}\n */\nconst callbacks = new Map();\n\n/**\n * @type {Function}\n */\nlet throttleFunctionReference;\n\n/**\n * @type Function():void\n */\nlet unsubscribe = () => {};\n\n/**\n * @param {Object} scrollData\n */\nfunction handler(scrollData) {\n    /**\n     * if - if there is no subscritor remove handler\n     */\n    if (callbacks.size === 0) {\n        unsubscribe();\n\n        initialized = false;\n        return;\n    }\n\n    handleFrame.add(() => {\n        handleNextTick.add(() => {\n            for (const value of callbacks.values()) {\n                value(scrollData);\n            }\n        }, 0);\n    });\n}\n\n/**\n * init - if listener is not inizializad remove it\n *\n * @return {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    throttleFunctionReference = throttle(\n        (/** @type{Object} */ scrollData) => handler(scrollData),\n        eventStore.getProp('throttle')\n    );\n\n    // @ts-ignore\n    unsubscribe = handleScrollImmediate(throttleFunctionReference);\n}\n\n/**\n * @description\n * Performs a scroll callback using a throttle function\n *\n * @param {import('./type.js').handleScrollCallback} cb - callback function\n * @return {Function} unsubscribe callback\n *\n * @example\n * ```javascript\n * const unsubscribe = handleScrollThrottle(({ direction, scrollY }) => {\n *     // code\n * });\n *\n * unsubscribe()\n *\n * Define throttle value from default:\n * handleSetUp.set({ throttle: 100 });\n *\n * ```\n */\nconst addCb = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof window !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\n/**\n * @description\n * Performs a scroll callback using a throttle function\n */\nexport const handleScrollThrottle = (() => addCb)();\n", "// @ts-check\n\nimport { handleScrollImmediate } from './handleScrollImmediate.js';\nimport { debounceFuncion } from '../debounce.js';\nimport { handleFrame } from '../rafutils/handleFrame.js';\nimport { handleNextTick } from '../rafutils/handleNextTick.js';\nimport { getUnivoqueId } from '../../utils/index.js';\n\n/**\n * @type {Function}\n */\nlet unsubscribeScrollStart = () => {};\n\n/**\n * @type {Function}\n */\nlet unsubscribeScrollEnd = () => {};\n\n/**\n * @type {any}\n */\nlet debouceFunctionReference = () => {};\n\n/**\n * @param {('START'|'END')} type\n */\nfunction handleScrollUtils(type) {\n    /**\n     * @type {boolean}\n     */\n    let initialized = false;\n\n    /**\n     * @type {Map<string,function>}\n     */\n    const callbacks = new Map();\n\n    /**\n     * @type {boolean}\n     */\n    let isScrolling = false;\n\n    /**\n     * @returns void\n     */\n    function handler() {\n        isScrolling = false;\n\n        /**\n         * if - if there is no subscritor remove handler\n         */\n        if (callbacks.size === 0) {\n            unsubscribeScrollEnd();\n\n            // Unsubscribe from scroll callback\n            if (type === 'START') {\n                unsubscribeScrollStart();\n            }\n\n            initialized = false;\n            return;\n        }\n\n        handleFrame.add(() => {\n            handleNextTick.add(() => {\n                // Prepare data to callback\n                const scrollData = {\n                    scrollY: window.scrollY,\n                };\n\n                // Fire end of scroll\n                if (type === 'END') {\n                    for (const value of callbacks.values()) {\n                        value(scrollData);\n                    }\n                }\n            }, 0);\n        });\n    }\n\n    /**\n     * init - if listener is not inizializad remove it\n     *\n     * @return {void}\n     */\n    function init() {\n        if (initialized) return;\n        initialized = true;\n\n        // Add debunce function to detect scroll end\n        debouceFunctionReference = debounceFuncion(() => handler());\n        unsubscribeScrollEnd = handleScrollImmediate(debouceFunctionReference);\n\n        // Use normal scroll event ( no debuonce ) to detect if page is scrolling\n        if (type === 'START') {\n            unsubscribeScrollStart = handleScrollImmediate(({ scrollY }) => {\n                const scrollData = {\n                    scrollY,\n                };\n\n                // At first scroll isScrolling is false\n                // Fire event ad set isScrolling to true\n                // At debounce end isScrolling return to false to trigger next scroll\n                if (!isScrolling) {\n                    isScrolling = true;\n\n                    for (const value of callbacks.values()) {\n                        value(scrollData);\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * @param {import('./type.js').handleScrollUtilsCallback} cb - callback function\n     * @return {Function} unsubscribe callback\n     */\n    const addCb = (cb) => {\n        const id = getUnivoqueId();\n        callbacks.set(id, cb);\n\n        if (typeof window !== 'undefined') {\n            init();\n        }\n\n        return () => callbacks.delete(id);\n    };\n\n    return addCb;\n}\n\n/**\n * @description\n * Execute a callback at the beginning of the scroll\n *\n * @example\n * ```javascript\n * const unsubscribe = handleScrollStart(({ scrollY }) => {\n *     // code\n * });\n *\n * unsubscribe()\n *\n * ```\n */\nexport const handleScrollStart = handleScrollUtils('START');\n\n/**\n * @description\n * Execute a callback at the end of the scroll\n *\n * @example\n * ```javascript\n * const unsubscribe = handleScrollEnd(({ scrollY }) => {\n *     // code\n * });\n *\n * unsubscribe()\n *\n * ```\n */\nexport const handleScrollEnd = handleScrollUtils('END');\n", "import { ANIMATION_STOP_REJECT } from './events/errorHandler/catchAnimationReject.js';\nimport { eventStore } from './events/eventStore.js';\nimport { handleLoad } from './events/loadutils/handleLoad.js';\nimport {\n    handleMouseClick,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseUp,\n    handleMouseWheel,\n    handleTouchEnd,\n    handleTouchMove,\n    handleTouchStart,\n} from './events/mouseUtils/handleMouse.js';\nimport { normalizeWheel } from './events/mouseUtils/normalizeWhell.js';\nimport { handleCache } from './events/rafutils/handleCache.js';\nimport { handleFrame } from './events/rafutils/handleFrame.js';\nimport { handleFrameIndex } from './events/rafutils/handleFrameIndex.js';\nimport { handleNextFrame } from './events/rafutils/handleNextFrame.js';\nimport { handleNextTick } from './events/rafutils/handleNextTick.js';\nimport { loadFps } from './events/rafutils/loadFps.js';\nimport { getTime } from './events/rafutils/time.js';\nimport { handleResize } from './events/resizeUtils/handleResize.js';\nimport { handleScroll } from './events/scrollUtils/handleScroll.js';\nimport { handleScrollImmediate } from './events/scrollUtils/handleScrollImmediate.js';\nimport { handleScrollThrottle } from './events/scrollUtils/handleScrollThrottle.js';\nimport {\n    handleScrollEnd,\n    handleScrollStart,\n} from './events/scrollUtils/handleScrollUtils';\nimport { handleVisibilityChange } from './events/visibilityChange/handleVisibilityChange.js';\nimport { checkType, getTypeName } from './store/classVersion/storeType.js';\nimport { mobStore } from './store/mobStore.js';\nimport { getUnivoqueId } from './utils/index.js';\nimport { useNextLoop } from './utils/nextTick.js';\n\nexport const mobCore = {\n    /**\n     * @description\n     * SimpleStore initialization.\n     * The store accepts single properties or objects\n     *  Each individual property can be initialized with a simple value or via a more complex setup.\n     *  A complex set-up is created through a function that must return an object with the property `value` and at least one of the following properties:\n     *  `type` || `validation` || `skipEqual` || `strict`\n     *\n     * `value`:\n     *  Initial value.\n     *\n     * `type`:\n     *  Supported types:\n     * `String|Number|Object|Function|Array|Boolean|Element|HTMLElement|Map|Set|NodeList|\"Any\"`.\n     *  The property will not be updated if it doesn't match, you will have a warning.\n     *  For custom Object use 'Any'.\n     *  Support Constructor || String.\n     *  Es: type: Number || type: 'Number'\n     *\n     *  `validation`:\n     *  Validation function to parse value.\n     *  This function will have the current value and old value as input parameter and will return a boolean value.\n     *  The validation status of each property will be displayed in the watchers and will be retrievable using the getValidation() method.\n     *\n     *  `strict`:\n     *  If set to true, the validation function will become blocking and the property will be updated only if the validation function is successful.\n     *  THe default value is `false`.\n     *\n     *  `skipEqual`:\n     *  If the value is equal to the previous one, the property will not be updated. The watches will not be executed and the property will have no effect on the computed related to it.\n     *  The default value is `true`.\n     *\n     *\n     * @param {import('./store/type.js').mobStoreBaseData} data\n     *\n     * @example\n     *\n     * ```javascript\n     *\n     * const myStore = mobCore.createStore({\n     *     prop1: 0,\n     *     prop2: 0\n     * });\n     *\n     * const myStore = mobCore.createStore({\n     *     myProp: () => ({\n     *         value: 10,\n     *         type: Number,\n     *         validate: (val, oldVal) => val < 10,\n     *         strict: true,\n     *         skipEqual: false,\n     *     }),\n     *     myPropWithObject: () => ({\n     *         value: { prop: { prop1: 1}},\n     *         type: 'Any',\n     *     }),\n     *     myObject: {\n     *         prop1: () => ({\n     *             value: 0,\n     *             type: Number,\n     *             validate: (val, oldVal) => val < 10,\n     *             strict: true,\n     *             skipEqual: true,\n     *         }),\n     *         prop2: () => ({\n     *             value: document.createElement('div'),\n     *             type: Element,\n     *         }),\n     *     }\n     * });\n     *\n     *\n     *\n     * Available methods:\n     * myStore.set();\n     * myStore.setProp();\n     * myStore.setProp();\n     * myStore.setObj();\n     * myStore.computed();\n     * myStore.get();\n     * myStore.getProp();\n     * myStore.getValidation();\n     * myStore.watch();\n     * myStore.emit();\n     * myStore.emitAsync();\n     * myStore.debugStore();\n     * myStore.debugValidate();\n     * myStore.setStyle();\n     * myStore.destroy();\n     * ```\n     */\n    createStore(data = {}) {\n        return mobStore(data);\n    },\n\n    /**\n     * @returns {number}\n     *\n     * @description\n     * Get fps detect on page load.\n     * Start from 60fps.\n     * The real value is calculated after 30 Request animation frame.\n     */\n    getInstantFps() {\n        return eventStore.getProp('instantFps');\n    },\n\n    /**\n     * @returns {number}\n     *\n     * @description\n     * Get current fps value.\n     */\n    getFps() {\n        return handleFrame.getFps();\n    },\n\n    /**\n     * @description\n     * If the current FPS drops below `2/5` of its maximum value the methods return true.\n     * The value will remain frozen for 4 seconds in order to have time to take the right countermeasures.\n     *\n     * Note: created for mobMotion internal use.\n     */\n    mustMakeSomething() {\n        return handleFrame.mustMakeSomething();\n    },\n\n    /**\n     * @description\n     * If the current FPS drops below `1/5` of its maximum value the methods return true.\n     * The value will remain frozen for 4 seconds in order to have time to take the right countermeasures.\n     *\n     * Note: created for mobMotion internal use.\n     *\n     */\n    shouldMakeSomething() {\n        return handleFrame.shouldMakeSomething();\n    },\n\n    /**\n     * @description\n     * Execute a callBack within the first available request animation frame.\n     * Use this method to modify elements of the DOM\n     *\n     * @param {import('./events/rafutils/type.js').handleFrameCallbakType} callback - callback function\n     *\n     * @example\n     * ```javascript\n     * mobCore.useframe(({ fps, shouldrender, time }) => {\n     *     // code ...\n     * });\n     *\n     * ```\n     */\n    useFrame(callback = () => {}) {\n        return handleFrame.add(callback);\n    },\n\n    /**\n     * @description\n     * Execute callbacks after scheduling the request animation frame. Use this method to read data from the DOM. To execute callbacks exactly after the request animation frame, set the global property deferredNextTick to true.\n     *\n     * @param {import('./events/rafutils/type.js').handleFrameCallbakType} callback - callback function\n     *\n     * @example\n     * ```javascript\n     * mobCore.useFrame(() => {\n     *     mobCore.useNextTick(({ fps, time }) => {\n     *         // code\n     *     });\n     * });\n     *\n     * Loop request animation frame using handleNextTick:\n     *\n     * const loop = () => {\n     *     mobCore.useNextTick(() => {\n     *         // read from DOM\n     *\n     *         mobCore.useFrame(() => {\n     *             // write to the DOM\n     *             loop();\n     *         });\n     *     });\n     * };\n     *\n     * mobCore.useFrame(() => loop());\n     *\n     * To tick exactly after the request animation frame:\n     * mobCore.default('set', { deferredNextTick: true });\n     *\n     * ```\n     */\n    useNextTick(callback = () => {}) {\n        return handleNextTick.add(callback);\n    },\n\n    /**\n     * @description\n     * Execute a callback to the next available frame allowing the creation of a request animation frame loop\n     *\n     * @param {import('./events/rafutils/type.js').handleFrameCallbakType} callback - callback function\n     *\n     * @example\n     * ```javascript\n     * const loop = () => {\n     *     mobCore.useNextFrame(({ fps, time }) => {\n     *         // code\n     *         loop();\n     *     });\n     * };\n     *\n     * mobCore.useFrame(() => loop());\n     *\n     * ```\n     */\n    useNextFrame(callback = () => {}) {\n        return handleNextFrame.add(callback);\n    },\n\n    /**\n     * @description\n     * Add callback to a specific frame.\n     *\n     * @param {import('./events/rafutils/type.js').handleFrameCallbakType} callback - callback function\n     * @pram {number} index\n     *\n     * @example\n     * ```javascript\n     * mobCore.useFrameIndex(({ fps, time }) => {\n     *     // code ...\n     * }, 5);\n     *\n     * ```\n     */\n    useFrameIndex(callback = () => {}, frame = 0) {\n        return handleFrameIndex.add(callback, frame);\n    },\n\n    /**\n     * @description\n        Runs a request animation frame loop to detect the frame rate of the monitor.\n        After the method will be resolved the first time, subsequent calls will be resolved immediately returning the previously calculated value.\n        The method is launched the first time automatically at the first loading.\n     *\n     * @param {import('./events/rafutils/type.js').loadFpsCallback} callback - callback function\n     * @return {Promise}\n     *\n     */\n    async useFps(callback = () => {}) {\n        const obj = await loadFps();\n        callback(obj);\n        return obj;\n    },\n\n    /**\n     * @description\n     * Add callback on page load\n     *\n     * @param {function():void } callback - Callback function executed on page load\n     *\n     * @example\n     * ```javascript\n     *\n     * mobCore.useLoad(() => {\n     *     // code\n     * });\n     *\n     * ```\n     */\n    useLoad(callback = () => {}) {\n        return handleLoad(callback);\n    },\n\n    /**\n     * @description\n     * Get handleCache function.\n     *\n     * Note: created for mobMotion internal use.\n     */\n    useCache: handleCache,\n\n    /**\n     * @description\n     * Add callback on resize using a debounce function.\n     *\n     * @param {import('./events/resizeUtils/type.js').handleResizeCallback} callback - callback function fired on resize.\n     *\n     * @example\n     * ```javascript\n     * mobCore.useResize(\n     *     ({\n     *         documentHeight,\n     *         horizontalResize,\n     *         scrollY,\n     *         verticalResize,\n     *         windowsHeight,\n     *         windowsWidth,\n     *     }) => {\n     *         // code\n     *     }\n     * );\n     *\n     * ```\n     */\n    useResize(callback = () => {}) {\n        return handleResize(callback);\n    },\n\n    /**\n     * @description\n     * Add callback on tab change.\n     *\n     * @param {import('./events/visibilityChange/type.js').visibilityChangeCallback} callback - callback function fired on tab change.\n     *\n     * @example\n     * ```javascript\n     *  const unsubscribe = mobCore.useVisibilityChange(({ visibilityState }) => {\n     *      // code\n     *  });\n     *\n     *  unsubscribe();\n     *\n     * ```\n     */\n    useVisibilityChange(callback = () => {}) {\n        return handleVisibilityChange(callback);\n    },\n\n    /**\n     * @description\n     * Add callback on mouse click\n     *\n     * @param {import('./events/mouseUtils/type.js').mouseEventCallback} callback - callback function fired on mouse click.\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useMouseClick(\n     *     ({ client, page, preventDefault, target, type }) => {\n     *         // code\n     *     }\n     * );\n     *\n     * unsubscribe();\n     *\n     * ```\n     */\n    useMouseClick(callback = () => {}) {\n        return handleMouseClick(callback);\n    },\n\n    /**\n     * @description\n     * Add callback on mouse down\n     *\n     * @param {import('./events/mouseUtils/type.js').mouseEventCallback} callback - callback function fired on mouse down.\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useMouseDown(\n     *     ({ client, page, preventDefault, target, type }) => {\n     *         // code\n     *     }\n     * );\n     *\n     * unsubscribe();\n     *\n     * ```\n     */\n    useMouseDown(callback = () => {}) {\n        return handleMouseDown(callback);\n    },\n\n    /**\n     * @description\n     * Add callback on touch start\n     *\n     * @param {import('./events/mouseUtils/type.js').mouseEventCallback} callback - callback function fired on mouse touch start.\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useTouchStart(\n     *     ({ client, page, preventDefault, target, type }) => {\n     *         // code\n     *     }\n     * );\n     *\n     * unsubscribe();\n     *\n     * ```\n     */\n    useTouchStart(callback = () => {}) {\n        return handleTouchStart(callback);\n    },\n\n    /**\n     * @description\n     * Add callback on mouse move\n     *\n     * @param {import('./events/mouseUtils/type.js').mouseEventCallback} callback - callback function fired on mouse move.\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useMouseMove(\n     *     ({ client, page, preventDefault, target, type }) => {\n     *         // code\n     *     }\n     * );\n     *\n     * unsubscribe();\n     *\n     * ```\n     */\n    useMouseMove(callback = () => {}) {\n        return handleMouseMove(callback);\n    },\n\n    /**\n     * @description\n     * Add callback on touch move\n     *\n     * @param {import('./events/mouseUtils/type.js').mouseEventCallback} callback - callback function fired on touch move.\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useTouchMove(\n     *     ({ client, page, preventDefault, target, type }) => {\n     *         // code\n     *     }\n     * );\n     *\n     * unsubscribe();\n     *\n     * ```\n     */\n    useTouchMove(callback = () => {}) {\n        return handleTouchMove(callback);\n    },\n\n    /**\n     * @description\n     * Add callback on mouse up\n     *\n     * @param {import('./events/mouseUtils/type.js').mouseEventCallback} callback - callback function fired on mouse up.\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useMouseUp(\n     *     ({ client, page, preventDefault, target, type }) => {\n     *         // code\n     *     }\n     * );\n     *\n     * unsubscribe();\n     *\n     * ```\n     */\n    useMouseUp(callback = () => {}) {\n        return handleMouseUp(callback);\n    },\n\n    /**\n     * @description\n     * Add callback on touch end.\n     *\n     * @param {import('./events/mouseUtils/type.js').mouseEventCallback} callback - callback function fired on touch end.\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useTouchEnd(\n     *     ({ client, page, preventDefault, target, type }) => {\n     *         // code\n     *     }\n     * );\n     *\n     * unsubscribe();\n     *\n     * ```\n     */\n    useTouchEnd(callback = () => {}) {\n        return handleTouchEnd(callback);\n    },\n\n    /**\n     * @description\n     * Add callback on mouse wheel.\n     *\n     * @param {import('./events/mouseUtils/type.js').mouseEventCallback} callback - callback function fired on mouse wheel.\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useMouseWheel(\n     *     ({\n     *         client,\n     *         page,\n     *         preventDefault,\n     *         target,\n     *         type,\n     *         pixelX,\n     *         pixelY,\n     *         spinX,\n     *         spinY,\n     *     }) => {\n     *         // code\n     *     }\n     * );\n     *\n     * unsubscribe();\n     *\n     * ```\n     */\n    useMouseWheel(callback = () => {}) {\n        return handleMouseWheel(callback);\n    },\n\n    /**\n     * @description\n     * Perform a callback to the first nextTick available after scrolling\n     *\n     * @param {import('./events/scrollUtils/type.js').handleScrollCallback} callback - callback function\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useScroll(({ direction, scrollY }) => {\n     *     // code\n     * });\n     *\n     * unsubscribe();\n     *\n     * ```\n     */\n    useScroll(callback = () => {}) {\n        return handleScroll(callback);\n    },\n\n    /**\n     * @description\n     * Execute a callback immediately on scroll\n     *\n     * @param {import('./events/scrollUtils/type.js').handleScrollCallback} callback - callback function\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useScrollImmediate(({ direction, scrollY }) => {\n     *     // code\n     * });\n     *\n     * unsubscribe();\n     *\n     * ```\n     */\n    useScrollImmediate(callback = () => {}) {\n        return handleScrollImmediate(callback);\n    },\n\n    /**\n     * @description\n     * Performs a scroll callback using a throttle function\n     *\n     * @param {import('./events/scrollUtils/type.js').handleScrollCallback} callback - callback function\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useScrollThrottle(({ direction, scrollY }) => {\n     *    // code\n     * });\n     *\n     * unsubscribe();\n     *\n     * To change the duration of the throttle, change the value of the throttle property to the defaults:\n     * TODO\n     * Use store.\n     *\n     *\n     *\n     * ```\n     */\n    useScrollThrottle(callback = () => {}) {\n        return handleScrollThrottle(callback);\n    },\n\n    /**\n     * @description\n     * Execute a callback at the beginning of the scroll\n     *\n     * @param {import('./events/scrollUtils/type.js').handleScrollUtilsCallback} callback - callback function\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useScrollStart(({ scrollY }) => {\n     *     // code\n     * });\n     *\n     * unsubscribe();\n     *\n     * ```\n     */\n    useScrollStart(callback = () => {}) {\n        return handleScrollStart(callback);\n    },\n\n    /**\n     * @description\n     * Execute a callback at the end of the scroll\n     *\n     * @param {import('./events/scrollUtils/type.js').handleScrollUtilsCallback} callback - callback function\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     * ```javascript\n     * const unsubscribe = mobCore.useScrollEnd(({ scrollY }) => {\n     *     // code\n     * });\n     *\n     * unsubscribe()\n     *\n     * ```\n     */\n    useScrollEnd(callback = () => {}) {\n        return handleScrollEnd(callback);\n    },\n\n    /**\n     * @param {any} type\n     * @param {any} value\n     * @returns {boolean}\n     *\n     * @description\n     * Check type of variable.\n     */\n    checkType(type, value) {\n        return checkType(type, value);\n    },\n\n    /**\n     * @param {any} type\n     * @returns {string}\n     *\n     * @description\n     * Get type in String format.\n     */\n    getTypeName(type) {\n        return getTypeName(type);\n    },\n\n    /**\n     * @returns {string}\n     *\n     * @description\n     * Generate univoque string id\n     */\n    getUnivoqueId() {\n        return getUnivoqueId();\n    },\n\n    /**\n     * @returns {number}\n     *\n     * @description\n     * Get current time.\n     */\n    getTime() {\n        return getTime();\n    },\n\n    /**\n     * @param {Function} fn\n     * @returns {void}\n     *\n     * @description\n     * Wait next event loop.\n     */\n    useNextLoop(fn) {\n        useNextLoop(fn);\n    },\n\n    /**\n     * @returns {Object}\n     *\n     * @description\n     * Get event store ( es modify defaults or get current value )\n     * Props:\n     * - usePassive: true\n     * - instantFps: 60\n     * - deferredNextTick: true\n     * - throttle: 60\n     *\n     *\n     * @example\n     * ``` javascript\n     * mobCore.store.set('throttle', 300);\n     * const { throttle } = mobCore.store.get();\n     * ....\n     *\n     * ```\n     */\n    store: eventStore,\n\n    /**\n     * @returns {Object}\n     *\n     * @description\n     * Parse wheel event.\n     */\n    normalizeWheel: normalizeWheel,\n\n    /**\n     *\n     * @description\n     * Avoid console error when promise is rejected.\n     *\n     * Note: created for mobMotion internal use.\n     *\n     * @example\n     * ``` javascript\n     * reject(mobCore.ANIMATION_STOP_REJECT);\n     * ```\n     */\n    ANIMATION_STOP_REJECT: ANIMATION_STOP_REJECT,\n};\n", "/**\n * @type {import(\"./type\").springPresentConfigType} springConfigStringTypes\n **/\nexport const springPresetConfig = {\n    default: {\n        tension: 20,\n        mass: 1,\n        friction: 5,\n        velocity: 0,\n        precision: 0.01,\n    },\n    gentle: {\n        tension: 120,\n        mass: 1,\n        friction: 14,\n        velocity: 0,\n        precision: 0.01,\n    },\n    wobbly: {\n        tension: 180,\n        mass: 1,\n        friction: 12,\n        velocity: 0,\n        precision: 0.01,\n    },\n    bounce: {\n        tension: 200,\n        mass: 3,\n        friction: 5,\n        velocity: 0,\n        precision: 0.01,\n    },\n    scroller: {\n        tension: 10,\n        mass: 1,\n        friction: 5,\n        velocity: 0,\n        precision: 0.5,\n    },\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../../mobCore/index.js';\nimport { springPresetConfig } from '../../spring/springConfig.js';\n\nexport const easeReference = {\n    easeLinear: 'easeLinear',\n    easeInQuad: 'easeInQuad',\n    easeOutQuad: 'easeOutQuad',\n    easeInOutQuad: 'easeInOutQuad',\n    easeInCubic: 'easeInCubic',\n    easeOutCubic: 'easeOutCubic',\n    easeInOutCubic: 'easeInOutCubic',\n    easeInQuart: 'easeInQuart',\n    easeOutQuart: 'easeOutQuart',\n    easeInOutQuart: 'easeInOutQuart',\n    easeInQuint: 'easeInQuint',\n    easeOutQuint: 'easeOutQuint',\n    easeInOutQuint: 'easeInOutQuint',\n    easeInSine: 'easeInSine',\n    easeOutSine: 'easeOutSine',\n    easeInOutSine: 'easeInOutSine',\n    easeInExpo: 'easeInExpo',\n    easeOutExpo: 'easeOutExpo',\n    easeInOutExpo: 'easeInOutExpo',\n    easeInCirc: 'easeInCirc',\n    easeOutCirc: 'easeOutCirc',\n    easeInOutCirc: 'easeInOutCirc',\n    easeInElastic: 'easeInElastic',\n    easeOutElastic: 'easeOutElastic',\n    easeInOutElastic: 'easeInOutElastic',\n    easeInBack: 'easeInBack',\n    easeOutBack: 'easeOutBack',\n    easeInOutBack: 'easeInOutBack',\n    easeInBounce: 'easeInBounce',\n    easeOutBounce: 'easeOutBounce',\n    easeInOutBounce: 'easeInOutBounce',\n};\nexport const MQ_MIN = 'min';\nexport const MQ_MAX = 'max';\nexport const defaultMqValueDefault = 'desktop';\nexport const easeDefault = 'easeLinear';\nexport const springConfigDefault = 'default';\nexport const mqDefault = {\n    xSmall: 320,\n    small: 360,\n    medium: 600,\n    tablet: 768,\n    desktop: 992,\n    large: 1200,\n    xLarge: 1400,\n};\nexport const sequencerDurationDefault = 10;\nexport const lerpConfigDefault = 0.06;\nexport const markerStartDefault = '#ff0000';\nexport const markerItemDefault = '#14df3b';\nexport const parallaxRangeDefault = 8;\nexport const parallaxTweenDurationDefault = 10;\nexport const tweenDurationDefault = 1000;\nexport const tweenRealtiveDefault = false;\nexport const springRealtiveDefault = false;\nexport const lerpRelativeDefault = false;\nexport const lerpPrecisionDefault = 0.01;\nexport const lerpVelocityDefault = 0.06;\n\n/**\n * @param {import('./type.js').setUpType} obj\n */\nexport const setupValidation = (obj) => {\n    const deferredNextTick = checkSetUpType({\n        prop: 'deferredNextTick',\n        value: obj?.deferredNextTick,\n        defaultValue: mobCore.store.getProp('deferredNextTick'),\n        type: Boolean,\n    });\n\n    const usePassive = checkSetUpType({\n        prop: 'usePassive',\n        value: obj?.usePassive,\n        defaultValue: mobCore.store.getProp('usePassive'),\n        type: Boolean,\n    });\n\n    const throttle = checkSetUpType({\n        prop: 'throttle',\n        value: obj?.throttle,\n        defaultValue: mobCore.store.getProp('throttle'),\n        type: Number,\n    });\n\n    const mq = checkSetUpMq(obj?.mq);\n\n    const defaultMqValue = checkSetUpType({\n        prop: 'defaultMq.value',\n        value: obj?.defaultMq?.value,\n        defaultValue: defaultMqValueDefault,\n        type: String,\n    });\n\n    const defaultMqType = checkSetUpType({\n        prop: 'defaultMq.type',\n        value: obj?.defaultMq?.type,\n        defaultValue: MQ_MIN,\n        type: String,\n    });\n\n    const sequencerDuration = checkSetUpType({\n        prop: 'sequencer.duration',\n        value: obj?.sequencer?.duration,\n        defaultValue: sequencerDurationDefault,\n        type: Number,\n    });\n\n    const sequencerEase = checkSetUpEase(obj?.sequencer?.ease, 'sequencer');\n\n    const scrollTriggerSpringConfig = checkSetUpType({\n        prop: 'scrolTrigger.springConfig',\n        value: obj?.scrollTrigger?.springConfig,\n        defaultValue: springConfigDefault,\n        type: String,\n    });\n\n    const scrollTriggerLerpConfig = checkSetUpType({\n        prop: 'scrolTrigger.lerpConfig',\n        value: obj?.scrollTrigger?.lerpConfig,\n        defaultValue: lerpConfigDefault,\n        type: Number,\n    });\n\n    const scrollTriggerMarkerEnd = checkSetUpType({\n        prop: 'scrolTrigger.markerColor.startEnd',\n        value: obj?.scrollTrigger?.markerColor?.startEnd,\n        defaultValue: markerStartDefault,\n        type: String,\n    });\n\n    const scrollTriggerMarkerItem = checkSetUpType({\n        prop: 'scrolTrigger.markerColor.item',\n        value: obj?.scrollTrigger?.markerColor?.item,\n        defaultValue: markerItemDefault,\n        type: String,\n    });\n\n    const parallaxRange = checkSetUpType({\n        prop: 'parallax.defaultRange',\n        value: obj?.parallax?.defaultRange,\n        defaultValue: parallaxRangeDefault,\n        type: Number,\n    });\n\n    const parallaxSpringConfig = checkSetUpType({\n        prop: 'parallax.springConfig',\n        value: obj?.parallax?.springConfig,\n        defaultValue: springConfigDefault,\n        type: String,\n    });\n\n    const parallaxLerpConfig = checkSetUpType({\n        prop: 'parallax.lerpConfig',\n        value: obj?.parallax?.lerpConfig,\n        defaultValue: lerpConfigDefault,\n        type: Number,\n    });\n\n    const parallaxTweenDuration = checkSetUpType({\n        prop: 'parallaxTween.duration',\n        value: obj?.parallaxTween?.duration,\n        defaultValue: parallaxTweenDurationDefault,\n        type: Number,\n    });\n\n    const parallaxTweenEase = checkSetUpEase(\n        obj?.parallaxTween?.ease,\n        'parallaxTween'\n    );\n\n    const tweenDuration = checkSetUpType({\n        prop: 'tween.duration',\n        value: obj?.tween?.duration,\n        defaultValue: tweenDurationDefault,\n        type: Number,\n    });\n\n    const tweenEase = checkSetUpEase(obj?.tween?.ease, 'tween');\n\n    const tweenRelative = checkSetUpType({\n        prop: 'tween.relative',\n        value: obj?.tween?.relative,\n        defaultValue: tweenRealtiveDefault,\n        type: Boolean,\n    });\n\n    const springRelative = checkSetUpType({\n        prop: 'spring.relative',\n        value: obj?.spring?.relative,\n        defaultValue: springRealtiveDefault,\n        type: Boolean,\n    });\n\n    const lerpRelative = checkSetUpType({\n        prop: 'lerp.relative',\n        value: obj?.lerp?.relative,\n        defaultValue: lerpRelativeDefault,\n        type: Boolean,\n    });\n\n    const lerpPrecision = checkSetUpType({\n        prop: 'lerp.precision',\n        value: obj?.lerp?.precision,\n        defaultValue: lerpPrecisionDefault,\n        type: Number,\n    });\n\n    const lerpVelocity = checkSetUpType({\n        prop: 'lerp.velocity',\n        value: obj?.lerp?.velocity,\n        defaultValue: lerpVelocityDefault,\n        type: Number,\n    });\n\n    /**\n     * @constant\n     * @type {import('./type.js').setUpType}\n     */\n    const result = {\n        deferredNextTick,\n        throttle,\n        usePassive,\n        mq,\n        defaultMq: {\n            value: defaultMqValue,\n            type: defaultMqType,\n        },\n        sequencer: {\n            duration: sequencerDuration,\n            // @ts-ignore\n            ease: sequencerEase,\n        },\n        scrollTrigger: {\n            springConfig: scrollTriggerSpringConfig,\n            lerpConfig: scrollTriggerLerpConfig,\n            markerColor: {\n                startEnd: scrollTriggerMarkerEnd,\n                item: scrollTriggerMarkerItem,\n            },\n        },\n        parallax: {\n            defaultRange: parallaxRange,\n            springConfig: parallaxSpringConfig,\n            lerpConfig: parallaxLerpConfig,\n        },\n        parallaxTween: {\n            duration: parallaxTweenDuration,\n            // @ts-ignore\n            ease: parallaxTweenEase,\n        },\n        tween: {\n            duration: tweenDuration,\n            // @ts-ignore\n            ease: tweenEase,\n            relative: tweenRelative,\n        },\n        spring: {\n            relative: springRelative,\n            config: obj?.spring?.config\n                ? { ...springPresetConfig, ...obj.spring.config }\n                : springPresetConfig,\n        },\n        lerp: {\n            relative: lerpRelative,\n            precision: lerpPrecision,\n            velocity: lerpVelocity,\n        },\n    };\n\n    return result;\n};\n\n/**\n * @param {Object} obj\n * @param {any} obj.prop\n * @param {any} obj.value\n * @param {any} obj.defaultValue\n * @param {any} obj.type\n *\n * @returns any\n *\n * @description\n * Check if prop valid\n */\nconst checkSetUpType = ({ prop, value, defaultValue, type }) => {\n    const isValid = mobCore.checkType(type, value);\n    if (!isValid)\n        console.warn(\n            `handleSetUp error: ${prop}: ${value}, is not valid must be a ${mobCore.getTypeName(\n                type\n            )}`\n        );\n\n    return isValid ? value : defaultValue;\n};\n\n/**\n * @param {Object} obj\n *\n * @returns any\n */\nconst checkSetUpMq = (obj) => {\n    const isValid =\n        mobCore.checkType(Object, obj) &&\n        Object.values(obj).every((value) => {\n            return mobCore.checkType(Number, value);\n        });\n\n    if (!isValid)\n        console.warn(\n            `handleSetUp error: mq must be an object as { ..., String: Number }`\n        );\n\n    return isValid ? obj : mqDefault;\n};\n\n/**\n * @param {string|undefined} value\n * @param {string} label\n *\n * @returns string\n */\nexport const checkSetUpEase = (value, label) => {\n    // @ts-ignore\n    const isValid = Object.keys(easeReference).includes(value);\n    if (!isValid && value !== undefined && value !== null)\n        console.warn(\n            `handleSetUp error: ${label}.ease properties is not valid`\n        );\n\n    return isValid ? value : easeDefault;\n};\n", "/* eslint-disable unicorn/prefer-spread */\n/* eslint-disable unicorn/consistent-function-scoping */\nexport const mergeDeep = (target, source, isMergingArrays = true) => {\n    target = ((obj) => {\n        let cloneObj;\n        try {\n            cloneObj = JSON.parse(JSON.stringify(obj));\n        } catch {\n            // If the stringify fails due to circular reference, the merge defaults\n            //   to a less-safe assignment that may still mutate elements in the target.\n            // You can change this part to throw an error for a truly safe deep merge.\n            cloneObj = Object.assign({}, obj);\n        }\n        return cloneObj;\n    })(target);\n\n    const isObject = (obj) => obj && typeof obj === 'object';\n\n    if (!isObject(target) || !isObject(source)) return source;\n\n    Object.keys(source).forEach((key) => {\n        const targetValue = target[key];\n        const sourceValue = source[key];\n\n        if (Array.isArray(targetValue) && Array.isArray(sourceValue))\n            if (isMergingArrays) {\n                target[key] = targetValue.map((x, i) =>\n                    sourceValue.length <= i\n                        ? x\n                        : mergeDeep(x, sourceValue[i], isMergingArrays)\n                );\n                if (sourceValue.length > targetValue.length)\n                    target[key] = target[key].concat(\n                        sourceValue.slice(targetValue.length)\n                    );\n            } else {\n                target[key] = targetValue.concat(sourceValue);\n            }\n        else if (isObject(targetValue) && isObject(sourceValue))\n            target[key] = mergeDeep(\n                Object.assign({}, targetValue),\n                sourceValue,\n                isMergingArrays\n            );\n        else target[key] = sourceValue;\n    });\n\n    return target;\n};\n", "// @ts-check\n\nimport { mobCore } from '../mobCore/index.js';\nimport { springPresetConfig } from './animation/spring/springConfig.js';\nimport {\n    defaultMqValueDefault,\n    easeDefault,\n    lerpConfigDefault,\n    markerItemDefault,\n    markerStartDefault,\n    mqDefault,\n    MQ_MIN,\n    parallaxRangeDefault,\n    parallaxTweenDurationDefault,\n    sequencerDurationDefault,\n    setupValidation,\n    springConfigDefault,\n    tweenDurationDefault,\n    tweenRealtiveDefault,\n} from './animation/utils/setUp/setUpValidation.js';\nimport { mergeDeep } from './utils/mergeDeep.js';\n\n/**\n * @returns {import('./animation/utils/setUp/type.js').setUpType}\n */\nfunction getData() {\n    return {\n        deferredNextTick: mobCore.store.getProp('deferredNextTick'),\n        throttle: mobCore.store.getProp('throttle'),\n        usePassive: mobCore.store.getProp('usePassive'),\n        mq: mqDefault,\n        defaultMq: {\n            value: defaultMqValueDefault,\n            type: MQ_MIN,\n        },\n        sequencer: {\n            duration: sequencerDurationDefault,\n            ease: easeDefault,\n        },\n        scrollTrigger: {\n            springConfig: springConfigDefault,\n            lerpConfig: lerpConfigDefault,\n            markerColor: {\n                startEnd: markerStartDefault,\n                item: markerItemDefault,\n            },\n        },\n        parallax: {\n            defaultRange: parallaxRangeDefault,\n            springConfig: springConfigDefault,\n            lerpConfig: lerpConfigDefault,\n        },\n        parallaxTween: {\n            duration: parallaxTweenDurationDefault,\n            ease: easeDefault,\n        },\n        tween: {\n            duration: tweenDurationDefault,\n            ease: easeDefault,\n            relative: tweenRealtiveDefault,\n        },\n        spring: {\n            relative: false,\n            config: springPresetConfig,\n        },\n        lerp: {\n            relative: false,\n            precision: 0.01,\n            velocity: 0.06,\n        },\n    };\n}\n\n/**\n * @typedef {('deferredNextTick'|'throttle'|'usePassive'|'mq'|'defaultMq'|'sequencer'|'scrollTrigger'|'parallax'|'parallaxTween'|'tween'|'spring'|'lerp')} handleSetUpGetType\n */\n\nexport const handleSetUp = (() => {\n    let data = getData();\n\n    /**\n     * @description\n     * - Here it is possible to modify the default values of the various modules of the library\n     *\n     * @param {import('./animation/utils/setUp/type.js').setUpType} obj\n     *\n     *\n     * @example\n     * ```javascript\n     * Default value schema:\n     *\n     * handleSetUp.set({\n     *     deferredNextTick: false,\n     *     throttle: 100,\n     *     usePassive: true,\n     *     mq: {\n     *         xSmall: 320,\n     *         small: 360,\n     *         medium: 600,\n     *         tablet: 768,\n     *         desktop: 992,\n     *         large: 1200,\n     *         xLarge: 1400,\n     *     },\n     *     defaultMq: {\n     *         value: 'desktop',\n     *         type: 'min',\n     *     },\n     *     sequencer: {\n     *         duration: 10,\n     *         ease: 'easeLinear',\n     *     },\n     *     scrollTrigger: {\n     *         springConfig: 'default',\n     *         lerpConfig: 0.06,\n     *         markerColor: {\n     *             startEnd: '#ff0000',\n     *             item: '#14df3b',\n     *         },\n     *     },\n     *     parallax: {\n     *         defaultRange: 8,\n     *         springConfig: 'default',\n     *         lerpConfig: 0.06,\n     *     },\n     *     parallaxTween: {\n     *         duration: 10,\n     *         ease: 'easeLinear',\n     *     },\n     *     tween: {\n     *         duration: 1000,\n     *         ease: 'easeLinear',\n     *         relative: false,\n     *     },\n     *     spring: {\n     *         relative: false,\n     *         config: {\n     *             default: {\n     *                 tension: 20,\n     *                 mass: 1,\n     *                 friction: 5,\n     *                 velocity: 0,\n     *                 precision: 0.01,\n     *             },\n     *             gentle: {\n     *                 tension: 120,\n     *                 mass: 1,\n     *                 friction: 14,\n     *                 velocity: 0,\n     *                 precision: 0.01,\n     *             },\n     *             wobbly: {\n     *                 tension: 180,\n     *                 mass: 1,\n     *                 friction: 12,\n     *                 velocity: 0,\n     *                 precision: 0.01,\n     *             },\n     *             bounce: {\n     *                 tension: 200,\n     *                 mass: 3,\n     *                 friction: 5,\n     *                 velocity: 0,\n     *                 precision: 0.01,\n     *             },\n     *             scroller: {\n     *                 tension: 10,\n     *                 mass: 1,\n     *                 friction: 5,\n     *                 velocity: 0,\n     *                 precision: 0.5,\n     *             },\n     *         },\n     *     },\n     *     lerp: {\n     *         relative: false,\n     *         precision: 0.01,\n     *         velocity: 0.06,\n     *     },\n     * });\n     *\n     *\n     * ```\n     */\n    const set = (obj) => {\n        data = setupValidation(mergeDeep(getData(), obj));\n\n        /**\n         * Update event default.\n         */\n        if ('usePassive' in obj)\n            mobCore.store.set('usePassive', data.usePassive);\n\n        if ('deferredNextTick' in obj)\n            mobCore.store.set('deferredNextTick', data.deferredNextTick);\n\n        if ('throttle' in obj) mobCore.store.set('throttle', data.throttle);\n    };\n\n    /**\n     * @description\n     * Returns the value of a specific property\n     *\n     * @param {handleSetUpGetType} prop\n     * @returns {Object}\n     *\n     * @example\n     * ```javascript\n     * handleSetUp.get('parallax');\n     * ```\n     */\n    const get = (prop) => {\n        if (prop in data) {\n            return data[prop];\n        } else {\n            console.warn(`handleSetUp: ${prop} is not a setup propierties`);\n        }\n    };\n\n    /**\n     * @description\n     * Perform a console.log() of the default values\n     *\n     * @example\n     * ```javascript\n     * handleSetUp.print();\n     * ```\n     */\n    const print = () => {\n        /**\n         * Writable props\n         * This prop can be changed by the user using set methods\n         */\n        console.log(`Writable props:`);\n        console.log(data);\n    };\n\n    return {\n        set,\n        get,\n        print,\n    };\n})();\n", "// @ts-check\n\nimport { handleSetUp } from '../setup.js';\n\n/**\n * @param { import('./type.js').mqValues } breakpoint\n * @return {boolean}\n */\nconst max = (breakpoint = 'desktop') => {\n    return window.innerWidth < handleSetUp.get('mq')[breakpoint];\n};\n\n/**\n * @param { import('./type.js').mqValues } breakpoint\n * @return {boolean}\n */\nconst min = (breakpoint = 'desktop') => {\n    return window.innerWidth >= handleSetUp.get('mq')[breakpoint];\n};\n\n/**\n * @param { import('./type.js').mqValues } breakpoint\n * @return {number}\n */\nconst getBreackpoint = (breakpoint = 'desktop') => {\n    return handleSetUp.get('mq')[breakpoint];\n};\n\n/**\n * @description\n *\n * @example\n *\n * ```js\n *   Property schema:\n *   mq.min([string])\n *   mq.max([string])\n *   mq.getBreackpoint([string])\n *\n *   const isDesktop = mq.min('desktop'); // true/false\n *   const isMobile = mq.min('desktop'); // true/false\n *   const desktopBreackPoint = mobbu.getBreackpoint('desktop'); // 992\n *\n * ```\n */\nexport const mq = (() => {\n    return { max, min, getBreackpoint };\n})();\n", "// @ts-check\n\nimport { handleSetUp } from './setup.js';\nimport { mq } from './utils/mediaManager.js';\n\nexport const motionCore = {\n    /**\n     * @description\n     * - Here it is possible to modify the default values of the various modules of the library\n     *\n     * @param {import('./animation/utils/setUp/type.js').setUpType} props\n     *\n     *\n     * @example\n     * ```javascript\n     * Default value schema:\n     *\n     * core.setDefault.set({\n     *     startFps: 60,\n     *     deferredNextTick: false,\n     *     throttle: 100,\n     *     usePassive: true\n     *     mq: {\n     *         xSmall: 320,\n     *         small: 360,\n     *         medium: 600,\n     *         tablet: 768,\n     *         desktop: 992,\n     *         large: 1200,\n     *         xLarge: 1400,\n     *     },\n     *     defaultMq: {\n     *         value: 'desktop',\n     *         type: 'min',\n     *     },\n     *     sequencer: {\n     *         duration: 10,\n     *         ease: 'easeLinear',\n     *     },\n     *     scrollTrigger: {\n     *         springConfig: 'default',\n     *         lerpConfig: 0.06,\n     *         markerColor: {\n     *             startEnd: '#ff0000',\n     *             item: '#14df3b',\n     *         },\n     *     },\n     *     parallax: {\n     *         defaultRange: 8,\n     *         springConfig: 'default',\n     *         lerpConfig: 0.06,\n     *     },\n     *     parallaxTween: {\n     *         duration: 10,\n     *         ease: 'easeLinear',\n     *     },\n     *     tween: {\n     *         duration: 1000,\n     *         ease: 'easeLinear',\n     *         relative: false,\n     *     },\n     *     spring: {\n     *         relative: false,\n     *         config: {\n     *             default: {\n     *                 tension: 20,\n     *                 mass: 1,\n     *                 friction: 5,\n     *                 velocity: 0,\n     *                 precision: 0.01,\n     *             },\n     *             gentle: {\n     *                 tension: 120,\n     *                 mass: 1,\n     *                 friction: 14,\n     *                 velocity: 0,\n     *                 precision: 0.01,\n     *             },\n     *             wobbly: {\n     *                 tension: 180,\n     *                 mass: 1,\n     *                 friction: 12,\n     *                 velocity: 0,\n     *                 precision: 0.01,\n     *             },\n     *             bounce: {\n     *                 tension: 200,\n     *                 mass: 3,\n     *                 friction: 5,\n     *                 velocity: 0,\n     *                 precision: 0.01,\n     *             },\n     *             scroller: {\n     *                 tension: 10,\n     *                 mass: 1,\n     *                 friction: 5,\n     *                 velocity: 0,\n     *                 precision: 0.5,\n     *             },\n     *         },\n     *     },\n     *     lerp: {\n     *         relative: false,\n     *         precision: 0.01,\n     *         velocity: 0.06,\n     *     },\n     * });\n     *\n     *\n     * ```\n     */\n    setDefault(props) {\n        handleSetUp.set(props);\n    },\n\n    /**\n     * @description\n     * Returns the value of a specific property\n     *\n     * @param {import('./setup.js').handleSetUpGetType} prop\n     * @returns {Object}\n     *\n     * @example\n     * ```javascript\n     * core.getDefault('parallax');\n     * ```\n     */\n    getDefault(prop) {\n        return handleSetUp.get(prop);\n    },\n\n    /**\n     * @description\n     * Perform a console.log() of the default values\n     *\n     * @example\n     * ```javascript\n     * core.printDefault();\n     * ```\n     */\n    printDefault() {\n        handleSetUp.print();\n    },\n\n    /**\n     * @param {import('./utils/type.js').mqActionMethods} action\n     * @param {import('./utils/type.js').mqValues} breakpoint\n     *\n     * @return {(boolean|number)} Returns a boolean value if the action value is equal to 'min' or 'max', returns a numeric value if it is equal to 'get'\n     *\n     * @description\n     *\n     * @example\n     *\n     * ```javascript\n     *   Property schema:\n     *   core.mq([String], [string])\n     *\n     *   const isDesktop = core.mq('min', 'desktop'); // true/false\n     *   const isMobile = core.mq('max', 'desktop'); // true/false\n     *   const desktopBreackPoint = core.mq('get', 'desktop'); // 992\n     *\n     *\n     *\n     * ```\n     **/\n    mq(action, breakpoint) {\n        switch (action) {\n            case 'min': {\n                return mq.min(breakpoint);\n            }\n\n            case 'max': {\n                return mq.max(breakpoint);\n            }\n\n            case 'get': {\n                return mq.getBreackpoint(breakpoint);\n            }\n        }\n    },\n};\n", "//@ts-check\n\nimport { mobCore } from '../../../mobCore';\n\n/**\n * @param {any} x\n * @returns {number}\n *\n * @description\n * Sanitize Number in case is in calculator enutation.\n */\nexport const getRoundedValue = (x) => {\n    if (mobCore.checkType(Number, x)) {\n        return Math.round(x * 10_000) / 10_000 || 0;\n    }\n\n    if (Math.abs(x) < 1) {\n        const e = Number.parseInt(x.toString().split('e-')[1]);\n        if (e) {\n            x *= Math.pow(10, e - 1);\n            x = '0.' + new Array(e).join('0') + x.toString().slice(2);\n        }\n    } else {\n        let e = Number.parseInt(x.toString().split('+')[1]);\n        if (e > 20) {\n            e -= 20;\n            x /= Math.pow(10, e);\n            x += new Array(e + 1).join('0');\n        }\n    }\n\n    return Number.parseFloat(Number.parseFloat(x).toFixed(4));\n};\n\n/**\n * @param {number} num\n * @param {number} min\n * @param {number} max\n */\nexport const clamp = (num, min, max) => {\n    return Math.min(Math.max(num, min), max);\n};\n\n/**\n * @param {number} start\n * @param {number} end\n * @param {number} amt\n */\nexport const lerp = (start, end, amt) => {\n    return (1 - amt) * start + amt * end;\n};\n\n/**\n * @param {Object} a\n * @param {Object} b\n * @returns {boolean}\n *\n * @description\n * Check if all keys of object is equal to another.\n *\n */\nexport const compareKeys = (a, b) => {\n    const aKeys = Object.keys(a).sort();\n    const bKeys = Object.keys(b).sort();\n\n    return (\n        aKeys.length === bKeys.length &&\n        aKeys.every((element, index) => element === bKeys[index])\n    );\n};\n\n/**\n * @param {Array} arr\n * @param {number} chunkSize\n *\n * @description\n * Subdivide array into chunks\n */\nexport const sliceIntoChunks = (arr, chunkSize) => {\n    const res = [];\n    for (let i = 0; i < arr.length; i += chunkSize) {\n        const chunk = arr.slice(i, i + chunkSize);\n        res.push(chunk);\n    }\n    return res;\n};\n\n/**\n * @param {Array} arr\n * @param {number} n\n *\n * @description\n * Subdivide array into columns\n */\nexport const arrayColumn = (arr, n) => arr.map((x) => x[n]);\n", "// @ts-check\n\n/**\n * @description\n * Set fromValue with currentValue\n *\n * @param {Array} arr\n * @returns {Array}\n */\nexport const setFromByCurrent = (arr) => {\n    return arr.map((item) => {\n        if (!item.settled) {\n            item.fromValue = item.currentValue;\n        }\n\n        return item;\n    });\n};\n\n/**\n * @description\n * Set fromValue and currentValue with toValue\n *\n * @param {Array} arr\n * @returns {Array}\n */\nexport const setFromCurrentByTo = (arr) => {\n    return arr.map((item) => {\n        item.fromValue = item.toValue;\n        item.currentValue = item.toValue;\n\n        return item;\n    });\n};\n\n/**\n * @description\n * Set toValue and fromValue with currentValue\n *\n * @param {Array} arr\n * @returns {Array}\n */\nexport const setFromToByCurrent = (arr) => {\n    return arr.map((item) => {\n        item.toValue = item.currentValue;\n        item.fromValue = item.currentValue;\n\n        return item;\n    });\n};\n\n/**\n * @description\n * Revert fromValue and toValue\n *\n * @param {import(\"./type\").valueToparseType} obj\n * @param {Array} arr\n *\n * @returns {Array} arr\n *\n */\nexport const setReverseValues = (obj, arr) => {\n    const keysTorevert = Object.keys(obj);\n    return arr.map((item) => {\n        if (keysTorevert.includes(item.prop)) {\n            const fromValue = item.fromValue;\n            const toValue = item.toValue;\n            item.fromValue = toValue;\n            item.toValue = fromValue;\n        }\n        return item;\n    });\n};\n\n/**\n * @description\n * Set toValue in relative mode, sum value from currentValue\n * Used by spring and lerp\n *\n * @param {Array} arr\n * @param {boolean} relative\n *\n * @returns {Array} arr\n *\n */\nexport const setRelative = (arr, relative) => {\n    return arr.map((item) => {\n        item.toValue = relative\n            ? item.toValue + item.currentValue\n            : item.toValue;\n        return item;\n    });\n};\n\n/**\n * @type {number}\n */\nconst tweenSmallNumber = 0.000_01;\n\n/**\n * @description\n * Set toValue in relative mode, sum value from currentValue\n * Used by classic tween\n *\n * @param {Array} arr\n * @param {boolean} relative\n *\n * @returns {Array} arr\n *\n */\nexport const setRelativeTween = (arr, relative) => {\n    return arr.map((item) => {\n        if (item.shouldUpdate) {\n            /*\n                Prevent error on tween revert if is 0 some easeType can't run\n                es: easeInElastic\n                */\n            item.toValProcessed = relative\n                ? item.toValue + tweenSmallNumber\n                : item.toValue - item.fromValue + tweenSmallNumber;\n        }\n        return item;\n    });\n};\n", "// @ts-check\n\nexport const DIRECTION_DEFAULT = null;\nexport const DIRECTION_ROW = 'row';\nexport const DIRECTION_COL = 'col';\nexport const DIRECTION_RADIAL = 'radial';\n\nexport const STAGGER_START = 'start';\nexport const STAGGER_END = 'end';\nexport const STAGGER_CENTER = 'center';\nexport const STAGGER_EDGES = 'edges';\nexport const STAGGER_RANDOM = 'random';\n\nexport const MERGE_FROM_UP = 'MERGE_FROM_UP';\nexport const MERGE_FROM_DOWN = 'MERGE_FROM_DOWN';\n\nexport const STAGGER_TYPE_EQUAL = 'equal';\nexport const STAGGER_TYPE_START = 'start';\nexport const STAGGER_TYPE_END = 'end';\nexport const STAGGER_TYPE_CENTER = 'center';\n\n/**\n * @type {import(\"./type\").staggerObject}\n */\nexport const STAGGER_DEFAULT_OBJ = {\n    type: STAGGER_TYPE_EQUAL,\n    each: 0,\n    waitComplete: false,\n    from: STAGGER_START,\n    grid: {\n        col: 1,\n        row: 1,\n        direction: DIRECTION_COL,\n    },\n};\n\n/**\n * @type {import(\"./type\").staggerDefaultIndex}\n */\nexport const STAGGER_DEFAULT_INDEX_OBJ = {\n    index: 0,\n    frame: 0,\n};\n", "// @ts-check\n\nexport const parallaxConstant = {\n    // Constant misure units\n    /**\n     * @type {string}\n     */\n    PX: 'px',\n\n    /**\n     * @type {string}\n     */\n    VH: 'vh',\n\n    /**\n     * @type {string}\n     */\n    VW: 'vw',\n\n    /**\n     * @type {string}\n     */\n    WPERCENT: 'w',\n\n    /**\n     * @type {string}\n     */\n    HPERCENT: 'h',\n\n    /**\n     * @type {string}\n     */\n    DEGREE: 'deg',\n\n    // AdditionalChoiceContant\n\n    /**\n     * @type {string}\n     */\n    PLUS_HEIGHT: '+height',\n\n    /**\n     * @type {string}\n     */\n    PLUS_HEIGHT_HALF: '+halfHeight',\n\n    /**\n     * @type {string}\n     */\n    PLUS_WIDTH: '+width',\n\n    /**\n     * @type {string}\n     */\n    PLUS_WIDTH_HALF: '+halfWidth',\n\n    /**\n     * @type {string}\n     */\n    MINUS_HEIGHT: '-height',\n\n    /**\n     * @type {string}\n     */\n    MINUS_HEIGHT_HALF: '-halfHeight',\n\n    /**\n     * @type {string}\n     */\n    MINUS_WIDTH: '-width',\n\n    /**\n     * @type {string}\n     */\n    MINUS_WIDTH_HALF: '-halfWidth',\n\n    // End Start position Constant\n    /**\n     * @type {string}\n     */\n    POSITION_BOTTOM: 'bottom',\n\n    /**\n     * @type {string}\n     */\n    POSITION_TOP: 'top',\n\n    /**\n     * @type {string}\n     */\n    POSITION_LEFT: 'left',\n\n    /**\n     * @type {string}\n     */\n    POSITION_RIGHT: 'right',\n\n    // Constant direction\n    /**\n     * @type {string}\n     */\n    DIRECTION_VERTICAL: 'vertical',\n\n    /**\n     * @type {string}\n     */\n    DIRECTION_HORIZONTAL: 'horizontal',\n\n    // Constant computation type\n    /**\n     * @type {string}\n     */\n    TYPE_PARALLAX: 'parallax',\n\n    /**\n     * @type {string}\n     */\n    TYPE_SCROLLTRIGGER: 'scrolltrigger',\n\n    // Constant propierties\n\n    /**\n     * @type {string}\n     */\n    PROP_VERTICAL: 'y',\n\n    /**\n     * @type {string}\n     */\n    PROP_HORIZONTAL: 'x',\n\n    /**\n     * @type {string}\n     */\n    PROP_ROTATE: 'rotate',\n\n    /**\n     * @type {string}\n     */\n    PROP_ROTATEY: 'rotateY',\n\n    /**\n     * @type {string}\n     */\n    PROP_ROTATEX: 'rotateX',\n\n    /**\n     * @type {string}\n     */\n    PROP_ROTATEZ: 'rotateZ',\n\n    /**\n     * @type {string}\n     */\n    PROP_OPACITY: 'opacity',\n\n    /**\n     * @type {string}\n     */\n    PROP_SCALE: 'scale',\n\n    /**\n     * @type {string}\n     */\n    PROP_SCALE_X: 'scaleX',\n\n    /**\n     * @type {string}\n     */\n    PROP_SCALE_Y: 'scaleY',\n\n    /**\n     * @type {string}\n     */\n    PROP_TWEEN: 'tween',\n\n    /**\n     * @type {string}\n     */\n    TWEEN_TWEEN: 'parallaxTween',\n\n    /**\n     * @type {string}\n     */\n    TWEEN_TIMELINE: 'sequencer',\n\n    // Align constant\n    /**\n     * @type {string}\n     */\n    ALIGN_START: 'start',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_TOP: 'top',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_RIGHT: 'right',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_CENTER: 'center',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_BOTTOM: 'bottom',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_LEFT: 'left',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_END: 'end',\n\n    // Switch constant\n    /**\n     * @type {string}\n     */\n    IN_STOP: 'in-stop',\n\n    /**\n     * @type {string}\n     */\n    IN_BACK: 'in-back',\n\n    /**\n     * @type {string}\n     */\n    OUT_STOP: 'out-stop',\n\n    /**\n     * @type {string}\n     */\n    OUT_BACK: 'out-back',\n\n    // Ease type constant\n    /**\n     * @type {string}\n     */\n    EASE_SPRING: 'spring',\n\n    /**\n     * @type {string}\n     */\n    EASE_LERP: 'lerp',\n\n    /**\n     * @type {number}\n     */\n    EASE_PRECISION: 0.001,\n\n    /**\n     * @type {string}\n     */\n    SCROLL_UP: 'up',\n\n    /**\n     * @type {string}\n     */\n    SCROLL_DOWN: 'down',\n\n    /**\n     * @type {string}\n     */\n    ON_LEAVE: 'ON_LEAVE',\n\n    /**\n     * @type {string}\n     */\n    ON_LEAVE_BACK: 'ON_LEAVE_BACK',\n\n    /**\n     * @type {string}\n     */\n    ON_ENTER: 'ON_ENTER',\n\n    /**\n     * @type {string}\n     */\n    ON_ENTER_BACK: 'ON_ENTER_BACK',\n\n    /**\n     * @type {string}\n     */\n    ON_NOOP: 'ON_NOOP',\n};\n", "// @ts-check\n\nimport { parallaxConstant } from '../parallax/parallaxConstant';\nimport {\n    STAGGER_START,\n    STAGGER_TYPE_CENTER,\n    STAGGER_TYPE_END,\n    STAGGER_TYPE_EQUAL,\n} from './stagger/staggerCostant';\n\n/**\n * @param {Array<string>} choice\n *\n * @returns string\n */\nconst possibleChoice = (choice) => {\n    return choice\n        .map((item) => {\n            return `${item} | `;\n        })\n        .join('');\n};\n\n/**\n * @param {string} label\n * @param {Object} fromObj\n * @param {Object} toObj\n *\n * @returns void\n */\nexport const compareKeysWarning = (label, fromObj, toObj) => {\n    console.warn(\n        `${label}: ${JSON.stringify(fromObj)} and to ${JSON.stringify(\n            toObj\n        )} is not equal`\n    );\n};\n\n/**\n * @param {number} max\n *\n * @returns void\n */\nexport const staggerIsOutOfRangeWarning = (max) => {\n    console.warn(\n        `stagger col of grid is out of range, it must be less than ${max} ( staggers length )`\n    );\n};\n\n/**\n * @param {any} label\n *\n * @returns void\n */\nexport const dataTweenValueIsNotValidWarning = (label) => {\n    console.warn(\n        `tween | sequencer: ${label} is not valid value, must be a number or a Function that return a number`\n    );\n};\n\n/**\n * @param {any} val\n *\n * @returns void\n */\nexport const sequencerRangeStartWarning = (val) => {\n    console.warn(\n        `sequencer, start option: ${val} value is not valid, must be a Number`\n    );\n};\n\n/**\n * @param {any} val\n *\n * @returns void\n */\nexport const sequencerRangeEndWarning = (val) => {\n    console.warn(\n        `sequencer, end option: ${val} value is not valid, must be a Number`\n    );\n};\n\n/**\n * @returns void\n */\nexport const relativePropInsideTimelineWarning = () => {\n    console.warn('relative prop is not allowed inside a timeline');\n};\n\n/**\n * @param {Function} val\n *\n * @returns void\n */\nexport const timelineSuspendWarning = (val) => {\n    console.warn(\n        `Timeline Supend: ${val()} is not a valid value, must be a boolean`\n    );\n};\n\n/**\n * @returns void\n */\nexport const timelineReverseGoFromWarning = () => {\n    console.warn(\n        `SyncTimeline: in revese ( or yoyo mode) only goTo || goFromTo || set action is allowed. Using goFrom makes no sense in this context. Timeline will stopped.`\n    );\n};\n\n/**\n * @param {any} items\n *\n * @returns void\n */\nexport const timelineSetTweenArrayWarining = (items) => {\n    console.warn(`timeline setTween: ${items} is not an array of tween`);\n};\n\n/**\n * @param {any} label\n *\n * @returns void\n */\nexport const timelineSetTweenLabelWarining = (label) => {\n    console.warn(`timeline setTween: ${label} is not a string`);\n};\n\n/**\n * @param {any} label\n *\n * @returns void\n */\nexport const timelineSetTweenLabelNotFoundWarining = (label) => {\n    console.warn(`asyncTimeline.setTween() label: ${label} not found`);\n};\n\n/**\n * @returns void\n */\nexport const timelineSetTweenFailWarining = () => {\n    console.warn('setTween fail');\n};\n\n/**\n * @param {any} label\n *\n * @returns void\n */\nexport const syncTimelineLabelWarning = (label) => {\n    console.warn(`label ${label} not founded`);\n};\n\n/**\n * @param {any} fn\n *\n * @returns void\n */\nexport const syncTimelineAddFnWarning = (fn) => {\n    console.warn(`sequencer.add(fn,time) ${fn}: fn must be Function`);\n};\n\n/**\n * @param {any} time\n *\n * @returns void\n */\nexport const syncTimelineAddTimeWarning = (time) => {\n    console.warn(`sequencer.add(fn,time) ${time}: time must be a Number`);\n};\n\n/**\n * @param {any} preset\n *\n * @returns void\n */\nexport const springPresetWarning = (preset) => {\n    console.warn(`${preset} doesn't exist in spring configuration list`);\n};\n\n/**\n * @returns void\n */\nexport const springConfigPropWarning = () => {\n    console.warn(`Spring configProp: all prop must be a positive Number`);\n};\n\n/**\n * @param {any} config\n *\n * @returns void\n */\nexport const springConfigSpecificPropWarning = (config) => {\n    console.warn(\n        `Spring config: ${config}: config must have friction/mass/precision/tesnion props and must be a number`\n    );\n};\n\n/**\n * @param {any} preset\n *\n * @returns void\n */\nexport const tweenEaseWarning = (preset) => {\n    console.warn(`${preset} doesn't exist in tweens ease function`);\n};\n\n/**\n * @returns void\n */\nexport const staggerEachWarning = () => {\n    console.warn(`stagger each must be a Number `);\n};\n\n/**\n * @param {any} val\n *\n * @returns void\n */\nexport const staggerRowColGenericWarining = (val) => {\n    console.warn(\n        `stagger, row/col: ${val} value is not valid, must be a Number`\n    );\n};\n\n/**\n * @returns void\n */\nexport const staggerWaitCompleteWarning = () => {\n    console.warn('Stagger error: waitComplete propierties must be a Boolean');\n};\n\n/**\n * @returns void\n */\nexport const staggerGridDirectionWarning = () => {\n    console.warn(\n        `Stagger error: in grid option direction should be a string radial/col/row`\n    );\n};\n\n/**\n * @returns void\n */\nexport const staggerRadialDirectionWarning = () => {\n    console.warn(\n        `Stagger error: in radial direction 'from' propierties must be a object {x:Number,y:Number}`\n    );\n};\n\n/**\n * @returns void\n */\nexport const staggerGridColRowWarning = () => {\n    console.warn(\n        `Stagger error: in grid configuration col/row is minor than 1, it should be greater or equal 1`\n    );\n};\n\n/**\n * @returns void\n */\nexport const staggerColRowWarning = () => {\n    console.warn(\n        `Stagger error: in col/row direction 'from' propierties must be a string start/end/center/edges or a number`\n    );\n};\n\n/**\n * @param {any} from\n *\n * @returns void\n */\nexport const staggerFromGenericWarning = (from) => {\n    console.warn(\n        `Stagger error: from: ${from} is not a valid value, must be a string start/end/center/edges or a number or a Object {x:Number,y:Number}`\n    );\n};\n\n/**\n * @param {any} value\n *\n * @returns void\n */\nexport const durationWarining = (value) => {\n    console.warn(\n        `duration error: ${value} is not valid duration must be a number`\n    );\n};\n\n/**\n * @param {any} value\n *\n * @returns void\n */\nexport const durationNumberOrFunctionWarining = (value) => {\n    console.warn(\n        `duration error: ${value} is not valid duration must be a number or a Function that return a number`\n    );\n};\n\n/**\n * @param {any} value\n *\n * @returns void\n */\nexport const repeatWarining = (value) => {\n    console.warn(\n        `repeat error: ${value} is not valid repeat value must be a Number`\n    );\n};\n\n/**\n * @param {any} ease\n *\n * @returns void\n */\nexport const easeWarning = (ease) => {\n    console.warn(`ease definition error: ${ease} is not a valid  definition`);\n};\n\n/**\n * @param {any} prop\n *\n * @returns void\n */\nexport const initialDataPropWarining = (prop) => {\n    console.warn(\n        `data inizializiation error; ${prop} is not a valid value, must be a string`\n    );\n};\n\n/**\n * @param {any} value\n *\n * @returns void\n */\nexport const initialDataValueWarining = (value) => {\n    console.warn(\n        `data inizializiation error; ${value} is not a valid value, must be a number`\n    );\n};\n\n/**\n * @returns void\n */\nexport const createStaggerItemsWarning = () => {\n    console.warn(`createStaggers error: items array can not be empty`);\n};\n\n/**\n * @returns void\n */\nexport const createStaggerItemsTypeWarning = () => {\n    console.warn(\n        `createStaggers error: each element of the array must be an Element or an Object`\n    );\n};\n\n/**\n * @returns void\n */\nexport const createStaggerTypeWarning = () => {\n    console.warn(\n        `screateStaggers error: type should be: ${STAGGER_TYPE_EQUAL} || ${STAGGER_START} || ${STAGGER_TYPE_END} || ${STAGGER_TYPE_CENTER}`\n    );\n};\n\n/**\n * @param {any} eachProportion\n *\n * @returns void\n */\nexport const createStaggerEachWarning = (eachProportion) => {\n    console.warn(\n        `createStagger:  each must be between 1 and ${eachProportion}`\n    );\n};\n\n/**\n * @param {any} val\n * @param {any} tweenType\n *\n * @returns void\n */\nexport const relativeWarining = (val, tweenType) => {\n    console.warn(\n        `${tweenType}: relative prop: ${val} is not a valid parameter, must be a boolean `\n    );\n};\n\n/**\n * @param {any} val\n * @param {any} label\n *\n * @returns void\n */\nexport const booleanWarning = (val, label) => {\n    console.warn(`${label}: '${val}' is not Boolean`);\n};\n\n/**\n * @param {any} val\n * @param {any} label\n *\n * @returns void\n */\nexport const stringWarning = (val, label) => {\n    console.warn(`${label}: '${val}' is not String`);\n};\n\n/**\n * @param {any} val\n * @param {any} label\n *\n * @returns void\n */\nexport const naumberWarning = (val, label) => {\n    console.warn(`${label}: '${val}' is not Number`);\n};\n\n/**\n * @param {any} val\n * @param {any} label\n *\n * @returns void\n */\nexport const functionWarning = (val, label) => {\n    console.warn(`${label}: '${val}' is not Function`);\n};\n\n/**\n * @returns void\n */\nexport const lerpVelocityWarining = () => {\n    console.warn(\n        'Lerp error: velocity is not valid, must be a Number greater than 0 and less than 1'\n    );\n};\n\n/**\n * @returns void\n */\nexport const lerpPrecisionWarining = () => {\n    console.warn(\n        'Lerp error: precision is not valid, must be a number greater than 0'\n    );\n};\n\n/**\n * @param {any} methodName\n *\n * @returns void\n */\nexport const asyncTimelineMetodsInsideGroupWarining = (methodName) => {\n    console.warn(\n        `asyncTimeline error: ${methodName} cannot be used inside group`\n    );\n};\n\n/**\n * @param {any} label\n *\n * @returns void\n */\nexport const valueStringWarning = (label) => {\n    console.warn(`${label} value must be a string`);\n};\n\n/**\n * @returns void\n */\nexport const asyncTimelineTweenWaring = () => {\n    console.warn(\n        'tween added to asyncTimeline or used inside sync() method must be instance of HandleLerp | HandleTween | HandleSpring'\n    );\n};\n\n/**\n * @returns void\n */\nexport const asyncTimelineDelayWarning = () => {\n    console.warn('asyncTimeline arror: delay must be a Number');\n};\n\n/**\n * @param {any} label\n *\n * @returns void\n */\nexport const playLabelWarining = (label) => {\n    console.warn(`${label} not found`);\n};\n\n/**\n * @param {any} value\n *\n * @returns void\n */\nexport const addAsyncFunctionWarining = (value) => {\n    console.warn(`timeline add async function, ${value} is not a function `);\n};\n\n/**\n * @param {any} value\n * @param {any} component\n *\n * @returns void\n */\nexport const parallaxDirectionWarining = (value, component) => {\n    console.warn(\n        `${component} direction: ${value} is not valid value: must be ${parallaxConstant.DIRECTION_VERTICAL} | ${parallaxConstant.DIRECTION_HORIZONTAL}`\n    );\n};\n\n/**\n * @param {any} label\n *\n * @returns void\n */\nexport const parallaxDynmicValueWarining = (label) => {\n    console.warn(\n        `scrollTrigger error; ${label} propierties: value must be a Object like { position: top|bottom|left|right, value: () => { return Number} } `\n    );\n};\n\n/**\n * @returns void\n */\nexport const parallaxDynmicRangeValueWarining = () => {\n    console.warn(\n        `scrollTrigger error; dynamicRange propierties: value must be a Function that return a Number`\n    );\n};\n\n/**\n * @returns void\n */\nexport const parallaxTweenWarning = () => {\n    console.warn(\n        'parallax|scrolTrigger error: tween is not valid, must be an instance of HandleSequencer || ParallaxTween'\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n *\n * @returns void\n */\nexport const parallaxAlignWarining = (value, choice) => {\n    console.warn(\n        `parallax error align propierties: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )} or a Number between 0 and 100`\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n *\n * @returns void\n */\nexport const parallaxOnSwitchWarining = (value, choice) => {\n    console.warn(\n        `parallax error align propierties: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @param {any} val\n * @param {any} label\n *\n * @returns void\n */\nexport const parallaxOpacityWarning = (val, label) => {\n    console.warn(\n        `${label}: '${val}' is not Number, must be a number between 0 and 100`\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n *\n * @returns void\n */\nexport const parallaxTypeWarining = (value, choice) => {\n    console.warn(\n        `parallax error type propierties: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n *\n * @returns void\n */\nexport const parallaxPropiertiesWarining = (value, choice) => {\n    console.warn(\n        `parallax/scrollTrigger error propierties props: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )} or a custom css propierites like margin|line-height|...`\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n *\n * @returns void\n */\nexport const parallaxEaseTypeWarining = (value, choice) => {\n    console.warn(\n        `parallax error easeType props: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n * @param {any} component\n *\n * @returns void\n */\nexport const genericEaseTypeWarining = (value, choice, component) => {\n    console.warn(\n        `${component} error easeType props: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @returns void\n */\nexport const parallaxEaseTypeSpringWarining = () => {\n    console.warn(\n        'Scrolltrigger warning: spring animation is only available for native properties and scrollerTween, Check that with the \"propierties\" property set to \"tween\" no HandleSequencer is associated with the \"tween\" property'\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n *\n * @returns void\n */\nexport const parallaxSpringCongifWarining = (value, choice) => {\n    console.warn(\n        `parallax/scrollTrigger error springConfig props: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @param {any} value\n *\n * @returns void\n */\nexport const parallaxRangeNumberWarning = (value) => {\n    console.warn(\n        `parallax error range propierties, current value: ${value}, the value must be a number between 0 and 9.99`\n    );\n};\n\n/**\n * @param {any} value\n *\n * @returns void\n */\nexport const parallaxRangeStringWarning = (value) => {\n    console.warn(\n        `scrollTrigger error range propierties: ${value} is not a String`\n    );\n};\n\n/**\n * @param {any} mq\n * @param {any} choice\n * @param {any} label\n * @param {any} component\n *\n * @returns void\n */\nexport const breakpointWarning = (mq, choice, label, component) => {\n    console.warn(\n        `${component} error ${label} propierties: ${mq} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @returns void\n */\nexport const parallaxUseSequencerWarining = () => {\n    console.warn(\n        'Parallax warning: if propierties is a tween the only choice is ParallaxTween, HandleSequencer or empty tween propierites is not allowed inside a parallax'\n    );\n};\n\n/**\n * @returns void\n */\nexport const parallaxLerpConfigWarning = () => {\n    console.warn(\n        'parallax/ScrollTrrigger error: velocity is not valid, must be a Number greater than 0 and less than 1'\n    );\n};\n\n/**\n * @returns void\n */\nexport const parallaxNoTweenDefinedWarning = () => {\n    console.warn(\n        'parallax/ScrollTrrigger warning:  The property is \"tween\" but no tween has been associated, associate a tween with the \"tween\" property'\n    );\n};\n\n/**\n * @returns void\n */\nexport const parallaxUseTweenButNotProsDefinedWarning = () => {\n    console.warn(\n        'parallax/ScrollTrrigger: there is tween associated but pros \"propierties\" is not set to \"tween\"'\n    );\n};\n\n/**\n * @param {any} label\n * @param {any} value\n *\n * @returns void\n */\nexport const functionIsValidAndReturnDefaultWarining = (label, value) => {\n    console.warn(`${label}: ${value} is not a function`);\n};\n\n/**\n * @param {any} string\n * @param {any} properties\n * @param {any} choice\n *\n * @returns void\n */\nexport const scrollTriggerRangeWarning = (string, properties, choice) => {\n    console.warn(\n        `scrollTrigger error range : with '${properties}' propierties ${string} is not valid, add one of the following unit misure: ${possibleChoice(\n            choice\n        )}, es: 45deg|100px|50vw etc..`\n    );\n};\n\n/**\n * @param {any} properties\n *\n * @returns void\n */\nexport const scrollTriggerCustomRangeWarning = (properties) => {\n    console.warn(\n        `scrollTrigger error range : with custom css propierties '${properties}' no unit misure is necessary, the default unit misure will be used (px). Only '-' for negative value is allowed`\n    );\n};\n\n/**\n * @param {any} string\n * @param {any} properties\n *\n * @returns void\n */\nexport const scrollTriggerRangeScaleWarning = (string, properties) => {\n    console.warn(\n        `scrollTrigger error range : with '${properties}' propierties ${string} is not valid no unit misure is necessary. Only '-' for negative value is allowed`\n    );\n};\n", "// https://github.com/bameyrick/js-easing-s/blob/master/src/index.ts\nimport { handleSetUp } from '../../setup.js';\nimport { easeReference } from '../utils/setUp/setUpValidation.js';\nimport { tweenEaseWarning } from '../utils/warning.js';\n\nexport const tweenConfig = {\n    [easeReference.easeLinear]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (amountOfChange * elapsed) / duration + initialValue;\n    },\n    [easeReference.easeInQuad]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return amountOfChange * (elapsed /= duration) * elapsed + initialValue;\n    },\n    [easeReference.easeOutQuad]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            -amountOfChange * (elapsed /= duration) * (elapsed - 2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutQuad]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (amountOfChange / 2) * elapsed * elapsed + initialValue;\n        }\n        return (\n            (-amountOfChange / 2) * (--elapsed * (elapsed - 2) - 1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInCubic]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            amountOfChange * (elapsed /= duration) * elapsed * elapsed +\n            initialValue\n        );\n    },\n    [easeReference.easeOutCubic]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            amountOfChange *\n                ((elapsed = elapsed / duration - 1) * elapsed * elapsed + 1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutCubic]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (amountOfChange / 2) * elapsed * elapsed * elapsed +\n                initialValue\n            );\n        }\n        return (\n            (amountOfChange / 2) * ((elapsed -= 2) * elapsed * elapsed + 2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInQuart]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            amountOfChange *\n                (elapsed /= duration) *\n                elapsed *\n                elapsed *\n                elapsed +\n            initialValue\n        );\n    },\n    [easeReference.easeOutQuart]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            -amountOfChange *\n                ((elapsed = elapsed / duration - 1) *\n                    elapsed *\n                    elapsed *\n                    elapsed -\n                    1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutQuart]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (amountOfChange / 2) * elapsed * elapsed * elapsed * elapsed +\n                initialValue\n            );\n        }\n        return (\n            (-amountOfChange / 2) *\n                ((elapsed -= 2) * elapsed * elapsed * elapsed - 2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInQuint]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            amountOfChange *\n                (elapsed /= duration) *\n                elapsed *\n                elapsed *\n                elapsed *\n                elapsed +\n            initialValue\n        );\n    },\n    [easeReference.easeOutQuint]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            amountOfChange *\n                ((elapsed = elapsed / duration - 1) *\n                    elapsed *\n                    elapsed *\n                    elapsed *\n                    elapsed +\n                    1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutQuint]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (amountOfChange / 2) *\n                    elapsed *\n                    elapsed *\n                    elapsed *\n                    elapsed *\n                    elapsed +\n                initialValue\n            );\n        }\n        return (\n            (amountOfChange / 2) *\n                ((elapsed -= 2) * elapsed * elapsed * elapsed * elapsed + 2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInSine]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            -amountOfChange * Math.cos((elapsed / duration) * (Math.PI / 2)) +\n            amountOfChange +\n            initialValue\n        );\n    },\n    [easeReference.easeOutSine]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            amountOfChange * Math.sin((elapsed / duration) * (Math.PI / 2)) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutSine]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            (-amountOfChange / 2) *\n                (Math.cos((Math.PI * elapsed) / duration) - 1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInExpo]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return elapsed === 0\n            ? initialValue\n            : amountOfChange * Math.pow(2, 10 * (elapsed / duration - 1)) +\n                  initialValue;\n    },\n    [easeReference.easeOutExpo]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return elapsed === duration\n            ? initialValue + amountOfChange\n            : amountOfChange * (-Math.pow(2, (-10 * elapsed) / duration) + 1) +\n                  initialValue;\n    },\n    [easeReference.easeInOutExpo]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        if (elapsed === 0) {\n            return initialValue;\n        }\n        if (elapsed === duration) {\n            return initialValue + amountOfChange;\n        }\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (amountOfChange / 2) * Math.pow(2, 10 * (elapsed - 1)) +\n                initialValue\n            );\n        }\n        return (\n            (amountOfChange / 2) * (-Math.pow(2, -10 * --elapsed) + 2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInCirc]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            -amountOfChange *\n                (Math.sqrt(1 - (elapsed /= duration) * elapsed) - 1) +\n            initialValue\n        );\n    },\n    [easeReference.easeOutCirc]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            amountOfChange *\n                Math.sqrt(1 - (elapsed = elapsed / duration - 1) * elapsed) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutCirc]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (-amountOfChange / 2) * (Math.sqrt(1 - elapsed * elapsed) - 1) +\n                initialValue\n            );\n        }\n        return (\n            (amountOfChange / 2) *\n                (Math.sqrt(1 - (elapsed -= 2) * elapsed) + 1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInElastic]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        let s = 1.701_58;\n        let p = 0;\n        let a = amountOfChange;\n        if (elapsed === 0) {\n            return initialValue;\n        }\n        if ((elapsed /= duration) === 1) {\n            return initialValue + amountOfChange;\n        }\n        if (!p) {\n            p = duration * 0.3;\n        }\n        if (a < Math.abs(amountOfChange)) {\n            a = amountOfChange;\n            s = p / 4;\n        } else {\n            s = (p / (2 * Math.PI)) * Math.asin(amountOfChange / a);\n        }\n        return (\n            -(\n                a *\n                Math.pow(2, 10 * (elapsed -= 1)) *\n                Math.sin(((elapsed * duration - s) * (2 * Math.PI)) / p)\n            ) + initialValue\n        );\n    },\n    [easeReference.easeOutElastic]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        let s = 1.701_58;\n        let p = 0;\n        let a = amountOfChange;\n        if (elapsed === 0) {\n            return initialValue;\n        }\n        if ((elapsed /= duration) === 1) {\n            return initialValue + amountOfChange;\n        }\n        if (!p) {\n            p = duration * 0.3;\n        }\n        if (a < Math.abs(amountOfChange)) {\n            a = amountOfChange;\n            s = p / 4;\n        } else {\n            s = (p / (2 * Math.PI)) * Math.asin(amountOfChange / a);\n        }\n        return (\n            a *\n                Math.pow(2, -10 * elapsed) *\n                Math.sin(((elapsed * duration - s) * (2 * Math.PI)) / p) +\n            amountOfChange +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutElastic]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        let s = 1.701_58;\n        let p = 0;\n        let a = amountOfChange;\n        if (elapsed === 0) {\n            return initialValue;\n        }\n        if ((elapsed /= duration / 2) === 2) {\n            return initialValue + amountOfChange;\n        }\n        if (!p) {\n            p = duration * (0.3 * 1.5);\n        }\n        if (a < Math.abs(amountOfChange)) {\n            a = amountOfChange;\n            s = p / 4;\n        } else {\n            s = (p / (2 * Math.PI)) * Math.asin(amountOfChange / a);\n        }\n        if (elapsed < 1) {\n            return (\n                -0.5 *\n                    (a *\n                        Math.pow(2, 10 * (elapsed -= 1)) *\n                        Math.sin(\n                            ((elapsed * duration - s) * (2 * Math.PI)) / p\n                        )) +\n                initialValue\n            );\n        }\n        return (\n            a *\n                Math.pow(2, -10 * (elapsed -= 1)) *\n                Math.sin(((elapsed * duration - s) * (2 * Math.PI)) / p) *\n                0.5 +\n            amountOfChange +\n            initialValue\n        );\n    },\n    [easeReference.easeInBack]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration,\n        s = 1.701_58\n    ) => {\n        return (\n            amountOfChange *\n                (elapsed /= duration) *\n                elapsed *\n                ((s + 1) * elapsed - s) +\n            initialValue\n        );\n    },\n    [easeReference.easeOutBack]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration,\n        s = 1.701_58\n    ) => {\n        return (\n            amountOfChange *\n                ((elapsed = elapsed / duration - 1) *\n                    elapsed *\n                    ((s + 1) * elapsed + s) +\n                    1) +\n            initialValue\n        );\n    },\n    easeInOutBack: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration,\n        s = 1.701_58\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (amountOfChange / 2) *\n                    (elapsed * elapsed * (((s *= 1.525) + 1) * elapsed - s)) +\n                initialValue\n            );\n        }\n        return (\n            (amountOfChange / 2) *\n                ((elapsed -= 2) * elapsed * (((s *= 1.525) + 1) * elapsed + s) +\n                    2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInBounce]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        return (\n            amountOfChange -\n            tweenConfig[easeReference.easeOutBounce](\n                duration - elapsed,\n                0,\n                amountOfChange,\n                duration\n            ) +\n            initialValue\n        );\n    },\n    [easeReference.easeOutBounce]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        if ((elapsed /= duration) < 1 / 2.75) {\n            return amountOfChange * (7.5625 * elapsed * elapsed) + initialValue;\n        } else if (elapsed < 2 / 2.75) {\n            return (\n                amountOfChange *\n                    (7.5625 * (elapsed -= 1.5 / 2.75) * elapsed + 0.75) +\n                initialValue\n            );\n        } else if (elapsed < 2.5 / 2.75) {\n            return (\n                amountOfChange *\n                    (7.5625 * (elapsed -= 2.25 / 2.75) * elapsed + 0.9375) +\n                initialValue\n            );\n        } else {\n            return (\n                amountOfChange *\n                    (7.5625 * (elapsed -= 2.625 / 2.75) * elapsed + 0.984_375) +\n                initialValue\n            );\n        }\n    },\n    [easeReference.easeInOutBounce]: (\n        elapsed,\n        initialValue,\n        amountOfChange,\n        duration\n    ) => {\n        if (elapsed < duration / 2) {\n            return (\n                tweenConfig[easeReference.easeInBounce](\n                    elapsed * 2,\n                    0,\n                    amountOfChange,\n                    duration\n                ) *\n                    0.5 +\n                initialValue\n            );\n        }\n        return (\n            tweenConfig[easeReference.easeOutBounce](\n                elapsed * 2 - duration,\n                0,\n                amountOfChange,\n                duration\n            ) *\n                0.5 +\n            amountOfChange * 0.5 +\n            initialValue\n        );\n    },\n};\n\nexport const printEaseKey = () => {\n    console.log('Easing:');\n    console.log(Object.keys(tweenConfig));\n};\n\nexport const getTweenFn = (prop) => {\n    if (prop in tweenConfig) {\n        return tweenConfig[prop];\n    } else {\n        tweenEaseWarning(prop);\n        return tweenConfig[handleSetUp.get('tween').ease];\n    }\n};\n", "// @ts-check\n\n/**\n * @param {string} text\n * @returns string\n */\nconst escapeRegExp = (text) => {\n    // @ts-ignore\n    return text ? text.replaceAll(/[\\s#$()*+,.?[\\\\\\]^{|}-]/g, '\\\\$&') : '';\n};\n\n/**\n * @param {string} pattern\n * @returns boolean\n */\nexport const checkIfIsOnlyNumberPositiveNegative = (pattern) => {\n    return /^[+-]?\\d+(\\.\\d+)?$/.test(pattern);\n};\n\n/**\n * @param {string} pattern\n * @returns boolean\n */\nexport const checkIfIsOnlyNumber = (pattern) => {\n    return /^\\d+\\.\\d+$|^\\d+$/.test(pattern);\n};\n\n/**\n * @description\n * Compare two string exact match case insensitive\n *\n * @param {string} string\n * @param {string} pattern\n * @returns number\n */\nexport const exactMatchInsensitive = (string, pattern) => {\n    const regex = new RegExp(`^${escapeRegExp(pattern)}$`, 'i');\n    const result = string.match(regex) || [];\n    return result.length;\n};\n\n/**\n * @description\n * Compare two string exact match case insensitive with number at string start\n *\n * @param {string} string\n * @param {string} pattern\n * @returns number\n */\nexport const exactMatchInsesitiveNumberProp = (string, pattern) => {\n    const regex = new RegExp(`[0-9]${pattern}$`, 'i');\n    const result = string.match(regex) || [];\n    return result.length;\n};\n\n/**\n * @description\n *\n * @param {array} arr\n * @param {string} string\n * @returns boolean\n */\nexport const exactMatchInsesitiveNumberPropArray = (arr, string) => {\n    return arr.some((unitMisure) => {\n        const regex = new RegExp(`[0-9]${unitMisure}$`, 'i');\n        const result = string.match(regex) || [];\n        return result.length;\n    });\n};\n\n/**\n * @description\n *\n * @param {array} arr\n * @param {string} string\n * @returns boolean\n */\nexport const exactMatchInsesitivePropArray = (arr, string) => {\n    return arr.some((unitMisure) => {\n        const regex = new RegExp(`^${escapeRegExp(unitMisure)}$`, 'i');\n        const result = string.match(regex) || [];\n        return result.length;\n    });\n};\n", "// @ts-check\n\nimport { parallaxConstant } from '../parallax/parallaxConstant';\nimport {\n    exactMatchInsensitive,\n    exactMatchInsesitiveNumberProp,\n} from '../utils/regexValidation.js';\n\n/**\n * @description\n * Support function for parallaxPropiertiesIsValid\n * Get exact prop name from constant ( resolve sensitive typing )\n *\n * @param {string|undefined} value\n * @returns string\n */\nexport const getPropiertiesValueFromConstant = (value) => {\n    /**\n     * If null prevent regex error\n     */\n    if (!value) return value;\n\n    if (exactMatchInsensitive(value, parallaxConstant.PROP_VERTICAL))\n        return parallaxConstant.PROP_VERTICAL;\n\n    if (exactMatchInsensitive(value, parallaxConstant.PROP_HORIZONTAL))\n        return parallaxConstant.PROP_HORIZONTAL;\n\n    if (exactMatchInsensitive(value, parallaxConstant.PROP_ROTATE))\n        return parallaxConstant.PROP_ROTATE;\n\n    if (exactMatchInsensitive(value, parallaxConstant.PROP_ROTATEY))\n        return parallaxConstant.PROP_ROTATEY;\n\n    if (exactMatchInsensitive(value, parallaxConstant.PROP_ROTATEX))\n        return parallaxConstant.PROP_ROTATEX;\n\n    if (exactMatchInsensitive(value, parallaxConstant.PROP_OPACITY))\n        return parallaxConstant.PROP_OPACITY;\n\n    if (exactMatchInsensitive(value, parallaxConstant.PROP_SCALE))\n        return parallaxConstant.PROP_SCALE;\n\n    if (exactMatchInsensitive(value, parallaxConstant.PROP_SCALE_X))\n        return parallaxConstant.PROP_SCALE_X;\n\n    if (exactMatchInsensitive(value, parallaxConstant.PROP_SCALE_Y))\n        return parallaxConstant.PROP_SCALE_Y;\n\n    if (exactMatchInsensitive(value, parallaxConstant.PROP_TWEEN))\n        return parallaxConstant.PROP_TWEEN;\n\n    return value;\n};\n\n/**\n * @description\n * Return unit misure for parallax form lower/upper mix case typing\n *\n * @param {string} pattern\n * @returns string\n */\nexport const getStartEndUnitMisure = (pattern) => {\n    if (pattern) {\n        if (exactMatchInsesitiveNumberProp(pattern, parallaxConstant.PX))\n            return parallaxConstant.PX;\n\n        if (exactMatchInsesitiveNumberProp(pattern, parallaxConstant.VH))\n            return parallaxConstant.VH;\n\n        if (exactMatchInsesitiveNumberProp(pattern, parallaxConstant.VW))\n            return parallaxConstant.VW;\n    }\n\n    return '';\n};\n\n/**\n * @description\n * Return position for parallax form lower/upper mix case typing\n *\n * @param {string} position\n * @returns string\n */\nexport const getParallaxPositionFromContanst = (position) => {\n    if (exactMatchInsensitive(position, parallaxConstant.POSITION_TOP))\n        return parallaxConstant.POSITION_TOP;\n\n    if (exactMatchInsensitive(position, parallaxConstant.POSITION_BOTTOM))\n        return parallaxConstant.POSITION_BOTTOM;\n\n    if (exactMatchInsensitive(position, parallaxConstant.POSITION_LEFT))\n        return parallaxConstant.POSITION_LEFT;\n\n    if (exactMatchInsensitive(position, parallaxConstant.POSITION_RIGHT))\n        return parallaxConstant.POSITION_RIGHT;\n\n    return '';\n};\n\n/**\n * @description\n * Return range unit misure for parallax form lower/upper mix case typing\n *\n * @param {string} string\n * @returns string\n */\nexport const getRangeUnitMisure = (string) => {\n    if (exactMatchInsesitiveNumberProp(string, parallaxConstant.PX))\n        return parallaxConstant.PX;\n    if (exactMatchInsesitiveNumberProp(string, parallaxConstant.VH))\n        return parallaxConstant.VH;\n    if (exactMatchInsesitiveNumberProp(string, parallaxConstant.VW))\n        return parallaxConstant.VW;\n    if (exactMatchInsesitiveNumberProp(string, parallaxConstant.WPERCENT))\n        return parallaxConstant.WPERCENT;\n    if (exactMatchInsesitiveNumberProp(string, parallaxConstant.HPERCENT))\n        return parallaxConstant.HPERCENT;\n    if (exactMatchInsesitiveNumberProp(string, parallaxConstant.DEGREE))\n        return parallaxConstant.DEGREE;\n\n    return parallaxConstant.PX;\n};\n", "// @ts-check\n\nimport { handleSetUp } from '../../../setup';\nimport { MQ_MAX, MQ_MIN } from '../setUp/setUpValidation.js';\nimport { parallaxConstant } from '../../parallax/parallaxConstant.js';\nimport { getTweenFn, tweenConfig } from '../../tween/tweenConfig';\nimport {\n    DIRECTION_COL,\n    DIRECTION_RADIAL,\n    DIRECTION_ROW,\n    STAGGER_CENTER,\n    STAGGER_EDGES,\n    STAGGER_END,\n    STAGGER_RANDOM,\n    STAGGER_START,\n    STAGGER_TYPE_CENTER,\n    STAGGER_TYPE_END,\n    STAGGER_TYPE_EQUAL,\n    STAGGER_TYPE_START,\n} from '../stagger/staggerCostant.js';\nimport {\n    addAsyncFunctionWarining,\n    asyncTimelineDelayWarning,\n    asyncTimelineTweenWaring,\n    booleanWarning,\n    breakpointWarning,\n    createStaggerItemsWarning,\n    createStaggerTypeWarning,\n    durationNumberOrFunctionWarining,\n    durationWarining,\n    functionIsValidAndReturnDefaultWarining,\n    functionWarning,\n    genericEaseTypeWarining,\n    initialDataPropWarining,\n    initialDataValueWarining,\n    lerpPrecisionWarining,\n    lerpVelocityWarining,\n    naumberWarning,\n    parallaxAlignWarining,\n    parallaxDirectionWarining,\n    parallaxDynmicRangeValueWarining,\n    parallaxDynmicValueWarining,\n    parallaxEaseTypeWarining,\n    parallaxLerpConfigWarning,\n    parallaxNoTweenDefinedWarning,\n    parallaxOnSwitchWarining,\n    parallaxOpacityWarning,\n    parallaxPropiertiesWarining,\n    parallaxRangeNumberWarning,\n    parallaxRangeStringWarning,\n    parallaxSpringCongifWarining,\n    parallaxTweenWarning,\n    parallaxTypeWarining,\n    parallaxUseSequencerWarining,\n    parallaxUseTweenButNotProsDefinedWarning,\n    playLabelWarining,\n    relativeWarining,\n    repeatWarining,\n    scrollTriggerCustomRangeWarning,\n    scrollTriggerRangeScaleWarning,\n    scrollTriggerRangeWarning,\n    sequencerRangeEndWarning,\n    sequencerRangeStartWarning,\n    springConfigPropWarning,\n    springConfigSpecificPropWarning,\n    springPresetWarning,\n    staggerEachWarning,\n    staggerFromGenericWarning,\n    staggerGridDirectionWarning,\n    staggerRowColGenericWarining,\n    staggerWaitCompleteWarning,\n    stringWarning,\n    timelineSetTweenArrayWarining,\n    timelineSetTweenLabelWarining,\n    tweenEaseWarning,\n    valueStringWarning,\n} from '../warning';\nimport {\n    checkIfIsOnlyNumber,\n    checkIfIsOnlyNumberPositiveNegative,\n    exactMatchInsesitiveNumberPropArray,\n} from '../regexValidation';\nimport { getPropiertiesValueFromConstant } from '../../parallax/getConstantFromRegex.js';\nimport { mobCore } from '../../../../mobCore';\n\n/**\n *\n * @param {(Number|Function)} val\n * @returns {boolean}\n *\n * @description\n * Check if new prop value to update is valid\n **/\nexport const dataTweenValueIsValid = (val) => {\n    return (\n        mobCore.checkType(Number, val) ||\n        // @ts-ignore\n        (mobCore.checkType(Function, val) && mobCore.checkType(Number, val()))\n    );\n};\n\n/**\n * @param {Object} param\n * @param {number|undefined} param.start\n * @param {number|undefined} param.end\n * @returns {boolean}\n *\n * @description\n * Check if sequencer start && end value is valid\n */\nexport const sequencerRangeValidate = ({ start, end }) => {\n    const startIsValid = mobCore.checkType(Number, start);\n    const endIsValid = mobCore.checkType(Number, end);\n    if (!startIsValid) sequencerRangeStartWarning(start);\n    if (!endIsValid) sequencerRangeEndWarning(end);\n    return startIsValid && endIsValid;\n};\n\n/**\n *\n * @param {number|undefined} duration\n * @returns {number}\n *\n * @description\n * Check if new duration value is Valid\n **/\nexport const durationIsValid = (duration) => {\n    const isValid = mobCore.checkType(Number, duration);\n    if (!isValid && duration) durationWarining(duration);\n\n    return isValid ? duration : handleSetUp.get('sequencer').duration;\n};\n\n/**\n *\n * @param {number|undefined} repeat\n * @returns {number}\n *\n * @description\n * Check if repeat definition is valid\n **/\nexport const repeatIsValid = (repeat) => {\n    const isValid = mobCore.checkType(Number, repeat);\n    if (!isValid && repeat) repeatWarining(repeat);\n\n    return isValid && repeat ? repeat : 1;\n};\n\n/**\n *\n * @param {string|undefined} ease\n * @returns {import('../../tween/type').easeTypes}\n *\n * @description\n * Check if ease definition is valid\n **/\nexport const easeIsValid = (ease) => {\n    const isValid = ease && ease in tweenConfig;\n    if (!isValid && ease) tweenEaseWarning(ease);\n\n    return isValid ? ease : handleSetUp.get('sequencer').ease;\n};\n\n/**\n *\n * @param {import('../../tween/type').easeTypes|undefined} ease\n * @returns {Function}\n *\n * @description\n * Check if ease definition is valid\n **/\nexport const easeParallaxTweenIsValid = (ease) => {\n    const isValid = ease && ease in tweenConfig;\n    if (!isValid && ease) tweenEaseWarning(ease);\n\n    return isValid\n        ? getTweenFn(ease)\n        : getTweenFn(handleSetUp.get('parallaxTween').ease);\n};\n\n/**\n * @param {string|undefined} prop\n * @param {number|undefined} value\n * @returns {boolean}\n *\n * @description\n * Check if new tween prop is valid\n **/\nexport const initialDataPropValidate = (prop, value) => {\n    const propIsValid = mobCore.checkType(String, prop);\n    const valueIsValid = mobCore.checkType(Number, value);\n\n    if (!propIsValid) initialDataPropWarining(prop);\n    if (!valueIsValid) initialDataValueWarining(value);\n\n    return propIsValid && valueIsValid;\n};\n\n/**\n * @param {number|undefined} each\n * @returns {boolean|undefined}\n *\n * @description\n **/\nexport const validateStaggerEach = (each) => {\n    if (!each) return;\n\n    const eachIsValid = mobCore.checkType(Number, each);\n    if (!eachIsValid) staggerEachWarning();\n\n    return eachIsValid;\n};\n\n/**\n * @param {('start'|'end'|'center'|'edges'|'random'|{x:number,y:number}|number)}  from\n * @returns {boolean|undefined}\n *\n * @description\n **/\nexport const validateStaggerFrom = (from) => {\n    if (!from) return;\n\n    const fromList = [\n        STAGGER_START,\n        STAGGER_END,\n        STAGGER_CENTER,\n        STAGGER_EDGES,\n        STAGGER_RANDOM,\n    ];\n\n    // @ts-ignore\n    const fromIsAValidString = fromList.includes(from);\n    const fromIsANumber = mobCore.checkType(Number, from);\n    const fromIsAValidObject = mobCore.checkType(Object, from);\n    const fromIsValid =\n        fromIsAValidString || fromIsANumber || fromIsAValidObject;\n    if (!fromIsValid) staggerFromGenericWarning(from);\n\n    return fromIsValid;\n};\n\n/**\n * @param {number|undefined} val\n * @returns {boolean|undefined}\n *\n * @description\n **/\nexport const validateStaggerColRow = (val) => {\n    if (!val) return;\n\n    const valIsValid = mobCore.checkType(Number, val);\n    if (!valIsValid) staggerRowColGenericWarining(val);\n\n    return valIsValid;\n};\n\n/**\n * @param {('row'|'col'|'radial')} direction\n * @returns {boolean|undefined}\n *\n * @description\n **/\nexport const validateStaggerDirection = (direction) => {\n    if (!direction) return;\n\n    const directionList = [DIRECTION_RADIAL, DIRECTION_ROW, DIRECTION_COL];\n\n    const directionisValid = directionList.includes(direction);\n    if (!directionisValid) staggerGridDirectionWarning();\n\n    return directionisValid;\n};\n\n/**\n * @param {boolean|undefined} waitComplete\n * @returns {boolean|undefined}\n *\n * @description\n **/\nexport const validateStaggerWaitComplete = (waitComplete) => {\n    if (!waitComplete) return;\n\n    const valIsValid = mobCore.checkType(Boolean, waitComplete);\n    if (!valIsValid) staggerWaitCompleteWarning();\n\n    return valIsValid;\n};\n\n/**\n * @param {array|undefined} arr\n * @returns {boolean}\n *\n * @description\n * Return only the boolean value\n **/\nexport const validateStaggerItems = (arr = []) => {\n    const isValid = mobCore.checkType(Array, [...arr]) && arr.length > 0;\n    if (!isValid) createStaggerItemsWarning();\n\n    return isValid;\n};\n\n/**\n * @param {array|undefined} arr\n * @returns {Array}\n *\n * @description\n * Return the array fallback\n **/\nexport const staggerItemsIsValid = (arr = []) => {\n    const isValid = mobCore.checkType(Array, [...arr]) && arr.length > 0;\n    return isValid ? arr : [];\n};\n\n/**\n * @param {string|undefined} type\n * @returns {boolean|undefined}\n *\n * @description\n **/\nexport const validateStaggerType = (type) => {\n    if (!type) return;\n\n    const stagerTypeList = [\n        STAGGER_TYPE_EQUAL,\n        STAGGER_TYPE_START,\n        STAGGER_TYPE_END,\n        STAGGER_TYPE_CENTER,\n    ];\n\n    const isValid = stagerTypeList.includes(type);\n    if (!isValid) {\n        createStaggerTypeWarning();\n        return;\n    }\n\n    return isValid;\n};\n\n/**\n *\n * @param {number|undefined} duration\n * @returns {number}\n *\n * @description\n * Check if new tween duration value is Valid\n **/\nexport const durationTweenIsValid = (duration) => {\n    const isValid = mobCore.checkType(Number, duration);\n    if (!isValid && duration) durationWarining(duration);\n\n    return isValid ? duration : handleSetUp.get('tween').duration;\n};\n\n/**\n *\n * @param {boolean|undefined} val  relative prop\n * @param {('tween'|'spring'|'lerp')} tweenType relative prop\n * @returns {boolean}\n *\n * @description\n * Check if new relative value is Valid\n **/\nexport const relativeIsValid = (val, tweenType) => {\n    const isValid = mobCore.checkType(Boolean, val);\n    if (!isValid && val) relativeWarining(val, tweenType);\n\n    return isValid ? val : handleSetUp.get(tweenType).relative;\n};\n\n/**\n *\n * @param {string|undefined} ease\n * @returns {Function}\n *\n * @description\n * Check if ease definition is valid\n **/\nexport const easeTweenIsValidGetFunction = (ease) => {\n    const isValid = ease && ease in tweenConfig;\n    if (!isValid && ease) tweenEaseWarning(ease);\n\n    return isValid\n        ? getTweenFn(ease)\n        : getTweenFn(handleSetUp.get('tween').ease);\n};\n\n/**\n *\n * @param {string|undefined} ease\n * @returns {string}\n *\n * @description\n * Check if ease definition is valid\n **/\nexport const easeTweenIsValid = (ease) => {\n    const isValid = ease && ease in tweenConfig;\n    if (!isValid && ease) tweenEaseWarning(ease);\n\n    return isValid ? ease : handleSetUp.get('tween').ease;\n};\n\n/**\n *\n * @param {string|undefined} config\n * @returns {Object}\n *\n * @description\n * Check if spring config is valid and return new config\n **/\nexport const springConfigIsValidAndGetNew = (config) => {\n    const { config: allConfig } = handleSetUp.get('spring');\n\n    //Get config from store\n    const isInConfig = config && config in allConfig;\n\n    // Get obj config\n    const obj = isInConfig ? allConfig[config] : {};\n\n    // Check if there is all key\n    const isValidPropsKey = isInConfig\n        ? (() => {\n              return (\n                  mobCore.checkType(Object, obj) &&\n                  'tension' in obj &&\n                  'mass' in obj &&\n                  'friction' in obj &&\n                  'velocity' in obj &&\n                  'precision' in obj\n              );\n          })()\n        : false;\n\n    // Check if all key is a positive number\n    const isValidPropsValue = isValidPropsKey\n        ? Object.values(obj).every((prop) => {\n              return mobCore.checkType(Number, prop) && prop >= 0;\n          })\n        : null;\n\n    // warning gif config don't exist\n    if (!isInConfig && config) springPresetWarning(config);\n\n    // warning if config props is not valid\n    if (!isValidPropsValue && isInConfig)\n        springConfigSpecificPropWarning(config);\n\n    // @ts-ignore\n    return isValidPropsValue ? allConfig[config] : allConfig.default;\n};\n\n/**\n *\n * @param {string|undefined} config\n * @returns {string|boolean|undefined}\n *\n * @description\n * Check if spring config is valid\n **/\nexport const springConfigIsValid = (config) => {\n    const { config: allConfig } = handleSetUp.get('spring');\n    const isValid = config && config in allConfig;\n    if (!isValid && config) springPresetWarning(config);\n\n    return isValid;\n};\n\n/**\n *\n * @param {import('../../spring/type').springPropsOptional|undefined} obj\n * @returns {import('../../spring/type').springPropsOptional|{}}\n *\n * @description\n * Check if every spring config prop is valid\n **/\nexport const springConfigPropIsValid = (obj) => {\n    const isValid =\n        mobCore.checkType(Object, obj) &&\n        // @ts-ignore\n        Object.values(obj).every((prop) => {\n            return mobCore.checkType(Number, prop) && prop >= 0;\n        });\n\n    if (!isValid && obj) springConfigPropWarning();\n\n    // @ts-ignore\n    return isValid ? obj : {};\n};\n\n/**\n *\n * @param {(Number|Function|undefined)} duration\n * @returns {number}\n *\n * @description\n * Check if duration definition is valid\n **/\nexport const durationIsNumberOrFunctionIsValid = (duration) => {\n    const durationIsFn = mobCore.checkType(Function, duration);\n    // @ts-ignore\n    const durationResult = durationIsFn ? duration() : duration;\n    const isValid = mobCore.checkType(Number, durationResult);\n    if (!isValid && duration) durationNumberOrFunctionWarining(duration);\n\n    return isValid ? durationResult : handleSetUp.get('tween').duration;\n};\n\n/**\n *\n * @param {boolean} value\n * @param {string} label\n *\n * @description\n * Check if value is Boolan and true\n **/\nexport const valueIsBooleanAndTrue = (value, label) => {\n    const isValid = mobCore.checkType(Boolean, value);\n    if (!isValid && value) booleanWarning(value, label);\n\n    return isValid && value === true;\n};\n\n/**\n *\n * @param {boolean|undefined} value\n * @param {string} label\n * @param {boolean} defaultValue\n * @returns {boolean}\n *\n * @description\n * Check if value is Boolan and reteurn Default\n **/\nexport const valueIsBooleanAndReturnDefault = (value, label, defaultValue) => {\n    const isValid = mobCore.checkType(Boolean, value);\n    if (!isValid && value) booleanWarning(value, label);\n\n    // @ts-ignore\n    return isValid ? value : defaultValue;\n};\n\n/**\n *\n * @param {string|undefined} value\n * @param {string} label\n * @param {any} defaultValue\n * @returns {string}\n *\n * @description\n * Check if value is String and return default\n **/\nexport const valueIsStringAndReturnDefault = (value, label, defaultValue) => {\n    const isValid = mobCore.checkType(String, value);\n    if (!isValid && value) stringWarning(value, label);\n\n    // @ts-ignore\n    return isValid ? value : defaultValue;\n};\n\n/**\n *\n * @param {number|undefined} value\n * @param {string} label\n * @param {any} defaultValue\n * @returns {number}\n *\n * @description\n * Check if value is Number and return default\n **/\nexport const valueIsNumberAndReturnDefault = (value, label, defaultValue) => {\n    const isValid = mobCore.checkType(Number, value);\n    if (!isValid && value) naumberWarning(value, label);\n\n    return isValid ? value : defaultValue;\n};\n\n/**\n *\n * @param {Function|undefined} value\n * @returns {Function}\n *\n * @description\n * Check if value is Function and return default\n **/\nexport const valueIsFunctionAndReturnDefault = (value, label, defaultValue) => {\n    const isValid = mobCore.checkType(Function, value);\n    if (!isValid && value) functionWarning(value, label);\n\n    return isValid ? value : defaultValue;\n};\n\n/**\n *\n * @param {number|undefined} value\n * @returns {number}\n *\n * @description\n * Check if velocity is valid\n **/\nexport const lerpVelocityIsValid = (value) => {\n    // @ts-ignore\n    const isValid = mobCore.checkType(Number, value) && value > 0 && value <= 1;\n    if (!isValid && value) lerpVelocityWarining();\n\n    return isValid ? value : handleSetUp.get('lerp').velocity;\n};\n\n/**\n *\n * @param {number|undefined} value\n * @returns {number}\n *\n * @description\n * Check if precision is valid\n **/\nexport const lerpPrecisionIsValid = (value) => {\n    const isValid = mobCore.checkType(Number, value);\n    if (!isValid && value) lerpPrecisionWarining();\n\n    return isValid ? value : handleSetUp.get('lerp').precision;\n};\n\n/**\n *\n * @param {string|undefined} value\n * @param {string} label\n * @returns {boolean}\n *\n * @description\n * Check if value is a string.\n **/\nexport const valueStringIsValid = (value, label) => {\n    const isValid = mobCore.checkType(String, value);\n    if (!isValid && value) valueStringWarning(label);\n\n    return isValid;\n};\n\n/**\n *\n * @param {number|undefined} value\n * @returns {number|undefined}\n *\n * @description\n * Check if Delay is a Number and return Number || null.\n **/\nexport const asyncTimelineDelayIsValid = (value) => {\n    const isValid = mobCore.checkType(Number, value);\n    if (!isValid && value) asyncTimelineDelayWarning();\n\n    return isValid ? value : undefined;\n};\n\n/**\n *\n * @param {Object|undefined} instance\n * @returns {boolean}\n *\n * @description\n * Check if tween is lerp|spring|tween\n **/\nexport const asyncTimelineTweenIsValid = (instance) => {\n    const isValid =\n        instance?.getType?.() &&\n        (instance.getType() === 'LERP' ||\n            instance.getType() === 'SPRING' ||\n            instance.getType() === 'TWEEN');\n\n    if (!isValid && instance) asyncTimelineTweenWaring();\n\n    return isValid;\n};\n\n/**\n *\n * @param {string|Number|null} index\n * @param {string|null} label\n *\n * @description\n * Check if label is found\n **/\nexport const playLabelIsValid = (index, label) => {\n    if (index === -1) playLabelWarining(label);\n};\n\n/**\n *\n * @param {Function|undefined} fn\n * @param {any} defaultValue\n * @param {string} label\n *\n * @description\n * Check if value is A function and return default\n **/\nexport const functionIsValidAndReturnDefault = (fn, defaultValue, label) => {\n    const isValid = mobCore.checkType(Function, fn);\n    if (!isValid && fn) functionIsValidAndReturnDefaultWarining(label, fn);\n\n    return isValid ? fn : defaultValue;\n};\n\n/**\n *\n * @param {Function|undefined} fn\n *\n * @description\n * Check if value is A function\n **/\nexport const addAsyncFunctionIsValid = (fn) => {\n    const isValid = mobCore.checkType(Function, fn);\n    if (!isValid && fn) addAsyncFunctionWarining(fn);\n\n    return isValid\n        ? fn\n        : ({ resolve }) => {\n              resolve();\n          };\n};\n\n/**\n *\n * @param {Array|undefined} arr\n *\n * @description\n * Check if value is an Array\n **/\nexport const timelineSetTweenArrayIsValid = (arr) => {\n    const isValid = mobCore.checkType(Array, arr);\n    if (!isValid && arr) timelineSetTweenArrayWarining(arr);\n\n    return isValid;\n};\n\n/**\n *\n * @param {string|undefined} label\n *\n * @description\n * Check if value is an string\n **/\nexport const timelineSetTweenLabelIsValid = (label) => {\n    const isValid = mobCore.checkType(String, label);\n    if (!isValid && label) timelineSetTweenLabelWarining(label);\n\n    return isValid;\n};\n\n/**\n *\n * @param {(string|HTMLElement|Window|undefined)} element\n * @param {(boolean)} returnWindow\n * @returns {HTMLElement}\n *\n * @description\n * Check if value is a valid Element and return element|window|element\n **/\nexport const domNodeIsValidAndReturnElOrWin = (\n    element,\n    returnWindow = false\n) => {\n    const isNode = mobCore.checkType(Element, element);\n    // @ts-ignore\n    const realEl = isNode ? element : document.querySelector(element);\n\n    // @ts-ignore\n    return returnWindow\n        ? realEl ?? window\n        : realEl ?? document.createElement('div');\n};\n\n/**\n *\n * @param {(string|HTMLElement|undefined)} element\n * @returns {HTMLElement|undefined}\n *\n * @description\n * Check if value is a valid Element\n **/\nexport const domNodeIsValidAndReturnNull = (element) => {\n    const isNode = mobCore.checkType(Element, element);\n    // @ts-ignore\n    const realEl = isNode ? element : document.querySelector(element);\n\n    // @ts-ignore\n    return realEl;\n};\n\n/**\n * Specific parallax\n */\n\n/**\n *\n * @param {string|undefined} direction\n * @param {string} component\n * @returns {string}\n *\n * @description\n * Check if value is a valid direction\n **/\nexport const directionIsValid = (direction, component) => {\n    if (!direction) return parallaxConstant.DIRECTION_VERTICAL;\n\n    const choice = [\n        parallaxConstant.DIRECTION_VERTICAL,\n        parallaxConstant.DIRECTION_HORIZONTAL,\n    ];\n\n    const isValid = choice.includes(direction);\n    if (!isValid && direction) parallaxDirectionWarining(direction, component);\n\n    return isValid ? direction : parallaxConstant.DIRECTION_VERTICAL;\n};\n\n/**\n *\n * @param {Object|undefined} obj\n * @param {string} label\n * @returns {Object} dynamicStart|dynamicEnd|null Object\n *\n * @description\n * Check if dynamicStart|dynamicEnd is a valid direction\n **/\nexport const parallaxDynamicValueIsValid = (obj, label) => {\n    const positionChoice = [\n        parallaxConstant.POSITION_TOP,\n        parallaxConstant.POSITION_LEFT,\n        parallaxConstant.POSITION_RIGHT,\n        parallaxConstant.POSITION_BOTTOM,\n    ];\n\n    // obj is an Object\n    const valueIsObject = mobCore.checkType(Object, obj);\n    //\n    // position is a String and contains the right value\n    const positionIsValid =\n        valueIsObject &&\n        mobCore.checkType(String, obj?.position) &&\n        positionChoice.includes(obj.position);\n\n    // Value is a function and return a number\n    const valueIsValid =\n        valueIsObject &&\n        mobCore.checkType(Function, obj.value) &&\n        mobCore.checkType(Number, obj.value());\n\n    // Validate all\n    const isValid = valueIsObject && positionIsValid && valueIsValid;\n    if (!isValid) parallaxDynmicValueWarining(label);\n\n    return isValid ? obj : null;\n};\n\n/**\n *\n * @param {Function|undefined} fn\n * @returns {Function|undefined}\n *\n * @description\n * Check if dynamicRange is a functiom that return a Number\n **/\nexport const parallaxDynamicRangeIsValid = (fn) => {\n    const isValid =\n        mobCore.checkType(Function, fn) && mobCore.checkType(Number, fn?.());\n\n    if (!isValid && fn) parallaxDynmicRangeValueWarining();\n\n    return isValid ? fn : undefined;\n};\n\n/**\n *\n * @param {Object|undefined} instance\n * @returns {Object} parallaxTween|HandleSequencer|{}\n *\n * @description\n * Check if tween is parallaxTween|HandleSequencer\n **/\nexport const parallaxTweenIsValid = (instance) => {\n    const isValid =\n        instance?.getType?.() &&\n        (instance.getType() === parallaxConstant.TWEEN_TWEEN ||\n            instance.getType() === parallaxConstant.TWEEN_TIMELINE);\n\n    if (!isValid && instance) parallaxTweenWarning();\n\n    return isValid ? instance : {};\n};\n\n/**\n *\n * @param {( string|Number|undefined )} value\n * @returns {( string|Number )} ALign value\n *\n * @description\n * Check if Align value is valid\n **/\nexport const parallaxAlignIsValid = (value) => {\n    if (!value) return parallaxConstant.ALIGN_CENTER;\n\n    const choice = [\n        parallaxConstant.ALIGN_START,\n        parallaxConstant.ALIGN_TOP,\n        parallaxConstant.ALIGN_RIGHT,\n        parallaxConstant.ALIGN_CENTER,\n        parallaxConstant.ALIGN_BOTTOM,\n        parallaxConstant.ALIGN_LEFT,\n        parallaxConstant.ALIGN_END,\n    ];\n\n    // @ts-ignore\n    const isValid = choice.includes(value) || mobCore.checkType(Number, value);\n\n    if (!isValid && value) parallaxAlignWarining(value, choice);\n\n    return isValid ? value : parallaxConstant.ALIGN_CENTER;\n};\n\n/**\n *\n * @param {string|undefined} value\n * @returns {string|boolean} ALign value\n *\n * @description\n * Check if unSwitch value is valid\n **/\nexport const parallaxOnSwitchIsValid = (value) => {\n    if (!value) return false;\n\n    const choice = [\n        parallaxConstant.IN_BACK,\n        parallaxConstant.IN_STOP,\n        parallaxConstant.OUT_BACK,\n        parallaxConstant.OUT_STOP,\n    ];\n\n    const isValid = choice.includes(value);\n\n    if (!isValid && value) parallaxOnSwitchWarining(value, choice);\n\n    return isValid ? value : false;\n};\n\n/**\n *\n * @param {number|undefined} value\n * @param {string} label\n * @param {number} defaultValue\n * @returns {number}\n *\n * @description\n * Check if value is Number and return default\n **/\nexport const parallaxOpacityIsValid = (value, label, defaultValue) => {\n    if (!value) return defaultValue;\n\n    const isValid = mobCore.checkType(Number, value);\n    if (!isValid && value) parallaxOpacityWarning(value, label);\n\n    return isValid ? value : defaultValue;\n};\n\n/**\n *\n * @param {string|undefined} value\n * @returns {string}\n *\n * @description\n * Check if type propierties is valid\n **/\nexport const parallaxTypeIsValid = (value) => {\n    if (!value) return parallaxConstant.TYPE_PARALLAX;\n\n    const valueLowerCase = value?.toLowerCase();\n    const choice = [\n        parallaxConstant.TYPE_PARALLAX,\n        parallaxConstant.TYPE_SCROLLTRIGGER,\n    ];\n\n    const isValid = choice.includes(valueLowerCase);\n    if (!isValid && valueLowerCase)\n        parallaxTypeWarining(valueLowerCase, choice);\n\n    return isValid ? valueLowerCase : parallaxConstant.TYPE_PARALLAX;\n};\n\n/**\n *\n * @param {string|number|undefined} value\n * @param {string} type\n * @returns {string}\n *\n * @description\n * Check if range propierties is valid\n **/\nexport const parallaxRangeIsValid = (value, type) => {\n    const parsedValue = () => {\n        if (type === parallaxConstant.TYPE_PARALLAX) {\n            // @ts-ignore\n            const isOnlyNumber = checkIfIsOnlyNumber(value);\n            const isValid =\n                mobCore.checkType(Number, Number(value)) &&\n                isOnlyNumber &&\n                // @ts-ignore\n                value >= 0 &&\n                // @ts-ignore\n                value < 10;\n\n            if (!isValid && value) parallaxRangeNumberWarning(value);\n\n            return isValid\n                ? // @ts-ignore\n                  10 - value\n                : 10 - handleSetUp.get('parallax').defaultRange;\n        } else {\n            const isValid = mobCore.checkType(String, value);\n            if (!isValid && value) parallaxRangeStringWarning(value);\n\n            return isValid ? value : '0px';\n        }\n    };\n\n    // @ts-ignore\n    return parsedValue();\n};\n\n/**\n *\n * @param {string|undefined} mq\n * @param {string} label\n * @param {string} component\n * @returns {string}\n *\n * @description\n * Check if breakpoint prop is valid\n **/\nexport const breakpointIsValid = (mq, label, component) => {\n    const defaultMq = handleSetUp.get('defaultMq').value;\n    if (!mq) return defaultMq;\n\n    const mqObj = handleSetUp.get('mq');\n    const choice = Object.keys(mqObj);\n\n    const isValid = mobCore.checkType(String, mq) && choice.includes(mq);\n    if (!isValid && mq) breakpointWarning(mq, choice, label, component);\n\n    return isValid ? mq : defaultMq;\n};\n\n/**\n *\n * @param {string|undefined} type\n * @param {string} label\n * @param {string} component\n * @returns {string}\n *\n * @description\n * Check if queryType prop is valid\n **/\nexport const breakpointTypeIsValid = (type, label, component) => {\n    const defaultType = handleSetUp.get('defaultMq').type;\n    if (!type) return defaultType;\n\n    const choice = [MQ_MAX, MQ_MIN];\n\n    const isValid = mobCore.checkType(String, type) && choice.includes(type);\n    if (!isValid && type) breakpointWarning(type, choice, label, component);\n\n    return isValid ? type : defaultType;\n};\n\n/**\n * @description\n * Check if propierties prop is valid\n *\n * @param {string|undefined} value\n * @param {string} type\n * @param {boolean} tweenIsParallaxTween\n * @param {boolean} tweenIsSequencer\n * @returns {{ propierties:string, shouldTrackOnlyEvents:boolean }}\n */\nexport const parallaxPropiertiesIsValid = (\n    value,\n    type,\n    tweenIsParallaxTween,\n    tweenIsSequencer\n) => {\n    if (!value && tweenIsSequencer)\n        return {\n            propierties: parallaxConstant.PROP_VERTICAL,\n            shouldTrackOnlyEvents: true,\n        };\n\n    if (!value && tweenIsParallaxTween)\n        return {\n            propierties: parallaxConstant.PROP_VERTICAL,\n            shouldTrackOnlyEvents: false,\n        };\n\n    /**\n     * Skip render if no propierties is given.\n     * Use scrollTrigger only for track events.\n     */\n    const shouldTrackOnlyEvents =\n        type === parallaxConstant.TYPE_SCROLLTRIGGER && !value;\n\n    /**\n     * Support suggestion for console.warn();\n     */\n    const choice = [\n        parallaxConstant.PROP_VERTICAL,\n        parallaxConstant.PROP_HORIZONTAL,\n        parallaxConstant.PROP_ROTATE,\n        parallaxConstant.PROP_ROTATEY,\n        parallaxConstant.PROP_ROTATEX,\n        parallaxConstant.PROP_ROTATEZ,\n        parallaxConstant.PROP_OPACITY,\n        parallaxConstant.PROP_SCALE,\n        parallaxConstant.PROP_SCALE_X,\n        parallaxConstant.PROP_SCALE_Y,\n        parallaxConstant.PROP_TWEEN,\n    ];\n\n    /**\n     * Check if is a string, custom css propierties is allowed\n     */\n    const isValid = mobCore.checkType(String, value);\n    if (!isValid && value) parallaxPropiertiesWarining(value, choice);\n\n    /**\n     * Inside Parallax sequencer is not allowed\n     * So return verticasl props\n     */\n    const notParallaxTweenInsideParallax =\n        type === parallaxConstant.TYPE_PARALLAX &&\n        value === parallaxConstant.PROP_TWEEN &&\n        !tweenIsParallaxTween;\n\n    /**\n     * Check if with tween propierties there is a tween associated\n     */\n    if (\n        !tweenIsParallaxTween &&\n        !tweenIsSequencer &&\n        value === parallaxConstant.PROP_TWEEN\n    )\n        parallaxNoTweenDefinedWarning();\n\n    /**\n     * Check if there a tween but propierties is not settled to tween\n     */\n    if (\n        (tweenIsParallaxTween || tweenIsSequencer) &&\n        value !== parallaxConstant.PROP_TWEEN\n    )\n        parallaxUseTweenButNotProsDefinedWarning();\n\n    if (notParallaxTweenInsideParallax) parallaxUseSequencerWarining();\n    const valueParsed = notParallaxTweenInsideParallax\n        ? parallaxConstant.PROP_VERTICAL\n        : value;\n\n    /**\n     * Get original value from constant\n     */\n    const valueFromConstant = getPropiertiesValueFromConstant(valueParsed);\n\n    return {\n        propierties: isValid\n            ? valueFromConstant ?? parallaxConstant.PROP_VERTICAL\n            : parallaxConstant.PROP_VERTICAL,\n        shouldTrackOnlyEvents,\n    };\n};\n\n/**\n *\n * @param {string|undefined} value\n * @returns {string}\n *\n * @description\n * Check if easeType is valid\n **/\nexport const parallaxEaseTypeIsValid = (value) => {\n    if (!value) return parallaxConstant.EASE_LERP;\n\n    const choice = [parallaxConstant.EASE_SPRING, parallaxConstant.EASE_LERP];\n    const isValid = choice.includes(value);\n    if (!isValid) parallaxEaseTypeWarining(value, choice);\n\n    /**\n     * Sequencer can not use spring\n     */\n    const fallback = isValid ? value : parallaxConstant.EASE_LERP;\n    return isValid ? value : fallback;\n};\n\nexport const genericEaseTypeIsValid = (value, component) => {\n    const choice = [parallaxConstant.EASE_SPRING, parallaxConstant.EASE_LERP];\n\n    const isValid = choice.includes(value);\n    if (!isValid && value) genericEaseTypeWarining(value, choice, component);\n\n    return isValid ? value : parallaxConstant.EASE_LERP;\n};\n\n/**\n *\n * @param {string|undefined} config\n * @param {string} type\n * @returns {string}\n *\n * @description\n * Check if springConfig is valid\n **/\nexport const parallaxSpringConfigIsValid = (config, type) => {\n    const defaultConfig =\n        type === parallaxConstant.TYPE_PARALLAX\n            ? handleSetUp.get('parallax').springConfig\n            : handleSetUp.get('scrollTrigger').springConfig;\n\n    if (!config) return defaultConfig;\n\n    const springDefaultConfig = handleSetUp.get('spring').config;\n    const choice = Object.keys(springDefaultConfig);\n\n    const isValid = choice.includes(config);\n    if (!isValid && config) parallaxSpringCongifWarining(config, choice);\n\n    return isValid ? config : defaultConfig;\n};\n\n/**\n *\n * @param {number|undefined} value\n * @param {string} type\n * @returns {number}\n *\n * @description\n * Check if lerpConfig is valid\n **/\nexport const parallaxLerpConfigIsValid = (value, type) => {\n    const isValid =\n        // @ts-ignore\n        mobCore.checkType(Number, Number(value)) && value > 0 && value <= 1;\n\n    if (!isValid && value) parallaxLerpConfigWarning();\n\n    const defaultConfig =\n        type === parallaxConstant.TYPE_PARALLAX\n            ? handleSetUp.get('parallax').lerpConfig\n            : handleSetUp.get('scrollTrigger').lerpConfig;\n\n    return isValid ? value : defaultConfig;\n};\n\n/**\n *\n * @param {string} value\n * @param {string} properties\n * @returns {string}\n *\n * @description\n * Check if lerpConfig is valid\n **/\nexport const checkStringRangeOnPropierties = (value, properties) => {\n    const parallalxXYRangeChoice = [\n        parallaxConstant.PX,\n        parallaxConstant.VW,\n        parallaxConstant.VH,\n        parallaxConstant.WPERCENT,\n        parallaxConstant.HPERCENT,\n    ];\n    /**\n     * Check X,Y prop\n     */\n    if (\n        properties === parallaxConstant.PROP_VERTICAL ||\n        properties === parallaxConstant.PROP_HORIZONTAL\n    ) {\n        const isValid = exactMatchInsesitiveNumberPropArray(\n            parallalxXYRangeChoice,\n            value\n        );\n        if (!isValid)\n            scrollTriggerRangeWarning(\n                value,\n                properties,\n                parallalxXYRangeChoice\n            );\n        return isValid ? value : '0px';\n    }\n\n    /**\n     * Check ROTATE PROP\n     */\n    if (\n        properties === parallaxConstant.PROP_ROTATE ||\n        properties === parallaxConstant.PROP_ROTATEX ||\n        properties === parallaxConstant.PROP_ROTATEY ||\n        properties === parallaxConstant.PROP_ROTATEZ\n    ) {\n        const isValid = exactMatchInsesitiveNumberPropArray(\n            [parallaxConstant.DEGREE],\n            value\n        );\n        if (!isValid)\n            scrollTriggerRangeWarning(value, properties, [\n                parallaxConstant.DEGREE,\n            ]);\n\n        return isValid ? value : '0';\n    }\n\n    /**\n     * Check SCALE PROP\n     */\n    if (\n        properties === parallaxConstant.PROP_SCALE ||\n        properties === parallaxConstant.PROP_SCALE_X ||\n        properties === parallaxConstant.PROP_SCALE_Y\n    ) {\n        const isValid = checkIfIsOnlyNumberPositiveNegative(value);\n        if (!isValid) scrollTriggerRangeScaleWarning(value, properties);\n        return isValid ? value : '0';\n    }\n\n    /**\n     * Other props without unit misure\n     * Only Number\n     */\n    const isValid = checkIfIsOnlyNumberPositiveNegative(value);\n    if (!isValid) scrollTriggerCustomRangeWarning(properties);\n\n    return isValid ? value : '0';\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../../mobCore/index.js';\nimport {\n    validateStaggerColRow,\n    validateStaggerDirection,\n    validateStaggerEach,\n    validateStaggerFrom,\n    validateStaggerType,\n    validateStaggerWaitComplete,\n} from '../tweenAction/tweenValidation.js';\nimport {\n    DIRECTION_COL,\n    STAGGER_DEFAULT_OBJ,\n    STAGGER_TYPE_START,\n} from './staggerCostant.js';\n\n/**\n * @param {number} each\n */\nexport const getEachByFps = (each) => {\n    const { instantFps } = mobCore.store.get();\n    const eachByFps = Math.round(each * (instantFps / 60));\n\n    /*\n    If each is 1 but fps is too low use the original, otherwise the result is 0\n    */\n    return each === 1 && eachByFps === 0 ? each : eachByFps;\n};\n\n/**\n * @param {Object} props\n *\n * @returns {import('./type.js').staggerObject}\n */\nexport const getStaggerFromProps = (props) => {\n    return {\n        type: validateStaggerType(props?.stagger?.type)\n            ? props.stagger.type\n            : STAGGER_DEFAULT_OBJ.type,\n\n        each: validateStaggerEach(props?.stagger?.each)\n            ? props.stagger.each\n            : STAGGER_DEFAULT_OBJ.each,\n        //\n        from: validateStaggerFrom(props?.stagger?.from)\n            ? props?.stagger?.from\n            : STAGGER_TYPE_START,\n        //\n        grid: {\n            col: validateStaggerColRow(props?.stagger?.grid?.col)\n                ? props.stagger.grid.col\n                : STAGGER_DEFAULT_OBJ.grid.col,\n            //\n            row: validateStaggerColRow(props?.stagger?.grid?.row)\n                ? props.stagger.grid.row\n                : STAGGER_DEFAULT_OBJ.grid.row,\n            //\n            direction: validateStaggerDirection(props?.stagger?.grid?.direction)\n                ? props.stagger.grid.direction\n                : DIRECTION_COL,\n        },\n        //\n        waitComplete: validateStaggerWaitComplete(props?.stagger?.waitComplete)\n            ? props.stagger.waitComplete\n            : STAGGER_DEFAULT_OBJ.waitComplete,\n    };\n};\n\n/**\n * @param {import('../callbacks/type.js').callbackObject<string>[]} callbackCache\n * @param {import('../callbacks/type.js').callbackObject<Function>[]} callbackDefault\n * @returns {import('../callbacks/type.js').callbackObject<(string|Function)>[]}\n */\nexport const getStaggerArray = (callbackCache, callbackDefault) => {\n    return callbackCache.length > callbackDefault.length\n        ? callbackCache\n        : callbackDefault;\n};\n", "//@ts-check\n\nimport { checkType } from '../../../../mobCore/store/storeType.js';\nimport { sliceIntoChunks, arrayColumn } from '../animationUtils.js';\nimport {\n    STAGGER_START,\n    STAGGER_END,\n    STAGGER_CENTER,\n    STAGGER_EDGES,\n    STAGGER_RANDOM,\n    DIRECTION_ROW,\n} from './staggerCostant';\nimport { getEachByFps } from './staggerUtils.js';\n\n/**\n * @param {number} num\n * @returns boolean\n */\nconst isOdd = (num) => num % 2;\n\n/**\n * @param {number} max\n * @returns number\n */\nconst getRandomInt = (max) => Math.floor(Math.random() * max);\n\n/**\n * @param {array} arrayChunk\n * @param {number} each\n * @param {number} index\n * @returns number\n *\n * @description\n * Get random frame without duplicate\n */\nexport const getRandomChoice = (arrayChunk, each, index) => {\n    // Get previous result\n    const previousFrame = new Set(\n        arrayChunk.slice(0, index).map((item) => item.frame)\n    );\n\n    // Get possible result\n    const posibileFrame = arrayChunk.map((_item, i) => i * each);\n\n    // Get array of possible result without previous\n    const randomChoice = posibileFrame.filter((x) => !previousFrame.has(x));\n\n    return randomChoice;\n};\n\n/**\n * @param {number} index\n * @param {number} arraylenght\n * @param {import('./type.js').staggerObject} stagger\n * @param {Array<number>} randomChoice\n * @returns object<'index':number, 'frame':number>\n *\n * @description\n * Get frame per index\n */\nconst getStaggerIndex = (index, arraylenght, stagger, randomChoice = []) => {\n    const { from, each } = stagger;\n    /*\n    Get stagger each by fps\n    */\n    const eachByFps = getEachByFps(each);\n\n    if (from === STAGGER_RANDOM) {\n        return {\n            index: index,\n            frame: (() => randomChoice[getRandomInt(randomChoice.length)])(),\n        };\n    }\n\n    if (from === STAGGER_START) {\n        return {\n            index: index,\n            frame: index * eachByFps,\n        };\n    }\n\n    if (from === STAGGER_END) {\n        return {\n            index: index,\n            frame: (arraylenght - 1 - index) * eachByFps,\n        };\n    }\n\n    if (from === STAGGER_CENTER) {\n        const half = Math.trunc(arraylenght / 2);\n\n        return (() => {\n            if (index > half) {\n                // From 0 half\n                return {\n                    index: index,\n                    frame: (index - half) * eachByFps,\n                };\n            }\n\n            if (index < half) {\n                // From half to end half\n                return isOdd(arraylenght) === 0 && half - index === 1\n                    ? {\n                          index: index,\n                          frame: 0,\n                      } // Center with even array\n                    : (() => {\n                          return isOdd(arraylenght) === 0\n                              ? {\n                                    index: index,\n                                    frame: (half - index - 1) * eachByFps,\n                                }\n                              : {\n                                    index: index,\n                                    frame: (half - index) * eachByFps,\n                                };\n                      })();\n            }\n\n            return {\n                index: index,\n                frame: 0,\n            }; // center item\n        })();\n    }\n\n    if (from === STAGGER_EDGES) {\n        const half = Math.trunc(arraylenght / 2);\n\n        return (() => {\n            if (index > half) {\n                // From 0 half\n                return {\n                    index: index,\n                    frame:\n                        (arraylenght - half - 1 - (index - half)) * eachByFps,\n                };\n            }\n\n            if (index < half) {\n                // From half to end half\n                return isOdd(arraylenght) === 0 && half - index === 1\n                    ? {\n                          index: index,\n                          frame: (half - 1) * eachByFps,\n                      }\n                    : (() => {\n                          return isOdd(arraylenght) === 0\n                              ? {\n                                    index: index,\n                                    frame:\n                                        (arraylenght - half - (half - index)) *\n                                        eachByFps,\n                                }\n                              : {\n                                    index: index,\n                                    frame:\n                                        (arraylenght -\n                                            half -\n                                            1 -\n                                            (half - index)) *\n                                        eachByFps, // dfault,\n                                };\n                      })();\n            }\n\n            return isOdd(arraylenght)\n                ? {\n                      index: index,\n                      frame: half * eachByFps, // dfault,\n                  }\n                : {\n                      index: index,\n                      frame: (half - 1) * eachByFps, // dfault,\n                  }; // center item\n        })();\n    }\n\n    if (from && checkType(Number, from)) {\n        // Secure check from must be a value in array length\n\n        // @ts-ignore\n        const half = from >= arraylenght ? arraylenght - 1 : from;\n\n        return (() => {\n            // @ts-ignore\n            if (index > half) {\n                // From 0 half\n                return {\n                    index: index,\n                    // @ts-ignore\n                    frame: (index - half) * each,\n                };\n            }\n\n            // @ts-ignore\n            if (index < half) {\n                // From half to end half\n                return {\n                    index: index,\n                    // @ts-ignore\n                    frame: (half - index) * each,\n                };\n            }\n\n            return {\n                index: index,\n                frame: 0,\n            };\n        })();\n    }\n\n    return {\n        index: 0,\n        frame: 0,\n    };\n};\n\n/**\n * @param {Array} arrayDefault\n * @param {import('./type.js').staggerObject} stagger\n * @param {number} chunckSizeCol\n *\n * @returns {Array} arr\n *\n * @description\n * Default grid direction is COL\n * In case of ROW grid convert col to row, something like rotate the matrix\n */\nconst getItemsByRow = (arrayDefault, stagger, chunckSizeCol) => {\n    // Reorder main array if direction === row\n    if (stagger.grid.direction === DIRECTION_ROW) {\n        const chunkByCol = sliceIntoChunks(arrayDefault, chunckSizeCol);\n\n        const colToRowArray = [\n            ...new Array(stagger.grid.col).keys(),\n            // @ts-ignore\n        ].reduce((p, _c, i) => {\n            return [...p, ...arrayColumn(chunkByCol, i)];\n        }, []);\n\n        // @ts-ignore\n        return [...colToRowArray].flat();\n    } else {\n        return arrayDefault;\n    }\n};\n\n/**\n * @param {object} obj\n * @param {Array} obj.arrayDefault\n * @param {Array} obj.arrayOnStop\n * @param {import('./type.js').staggerObject} obj.stagger\n * @param {import('./type.js').staggerDefaultIndex} obj.slowlestStagger\n * @param {import('./type.js').staggerDefaultIndex} obj.fastestStagger\n */\nexport const getDefaultStagger = ({\n    arrayDefault,\n    arrayOnStop,\n    stagger,\n    slowlestStagger,\n    fastestStagger,\n}) => {\n    /**\n     * If col/row is 1 use length of array, is used for default stagger without grid.\n     * With a value greater than 1 row/col logic is active\n     */\n    const chunckSizeCol =\n        stagger?.grid?.col <= 1 ? arrayDefault.length : stagger.grid.col;\n    const chunckSizeRow =\n        stagger?.grid?.row <= 1 ? arrayDefault.length : stagger.grid.row;\n\n    // main callBack\n    const itemByRow = getItemsByRow(arrayDefault, stagger, chunckSizeCol);\n    const staggerArray = itemByRow.map((item) => {\n        return item && item !== undefined ? item : { index: 0, frame: 0 };\n    });\n\n    // onComplete callBack\n    const itemCompleteByRow = getItemsByRow(\n        arrayOnStop,\n        stagger,\n        chunckSizeCol\n    );\n    const staggerArrayOnComplete = itemCompleteByRow.map((item) => {\n        return item && item !== undefined ? item : { index: 0, frame: 0 };\n    });\n\n    const chunksize =\n        stagger.grid.direction === DIRECTION_ROW\n            ? chunckSizeRow\n            : chunckSizeCol;\n\n    // get chunkes array\n    const chunked = sliceIntoChunks(staggerArray, chunksize);\n    const firstChunk = chunked[0];\n\n    // Get First row stagger\n    firstChunk.forEach((item, i) => {\n        const { index, frame } = getStaggerIndex(\n            i,\n            chunked[0].length,\n            stagger,\n            getRandomChoice(firstChunk, stagger.each, i)\n        );\n\n        item.index = index;\n        item.frame = frame;\n\n        if (frame >= slowlestStagger.frame)\n            slowlestStagger = {\n                index,\n                frame,\n            };\n\n        if (frame <= fastestStagger.frame)\n            fastestStagger = {\n                index,\n                frame,\n            };\n    });\n\n    // Set other chunk, copy from first [0]\n    chunked.forEach((chunkItem) => {\n        chunkItem.forEach((item, i) => {\n            if (item) {\n                item.index = chunked[0][i].index;\n                item.frame = chunked[0][i].frame;\n            }\n        });\n    });\n\n    // Flat the chunked array\n    const flatArray = chunked.flat();\n\n    // set data to original (this.callback) array\n    flatArray.forEach((item, i) => {\n        staggerArray[i].index = item.index;\n        staggerArray[i].frame = item.frame;\n\n        // If there an OnCompelte callback\n        if (staggerArrayOnComplete.length > 0) {\n            staggerArrayOnComplete[i].index = item.index;\n            staggerArrayOnComplete[i].frame = item.frame;\n        }\n    });\n\n    return {\n        staggerArray,\n        staggerArrayOnComplete,\n        fastestStagger,\n        slowlestStagger,\n    };\n};\n", "// @ts-check\n\nimport { sliceIntoChunks } from '../animationUtils.js';\nimport { MERGE_FROM_UP, MERGE_FROM_DOWN } from './staggerCostant';\n\n/**\n * @description\n * Get radial in y direction\n *\n * @param {Array<Array>} arr\n * @param {number} x\n * @param {number} y\n *\n * @returns Array<Array>\n */\nconst getRadialY = (arr, x, y) => {\n    return arr.reduce((total, row, i) => {\n        const offset = Math.abs(i - y);\n\n        const newRow = row.reduce((p, c, i) => {\n            return i < x - offset || i > x + offset ? p : [...p, c];\n        }, []);\n\n        return [...total, newRow];\n    }, []);\n};\n\n/**\n * @description\n * Get radial in x direction\n *\n * @param {Array<Array>} arr\n * @param {number} x\n * @param {number} y\n * @param {Array<Array>} chunk\n *\n * @returns Array<Array>\n */\nconst getRadialX = (arr, x, y, chunk) => {\n    return arr.reduce((total, _row, i) => {\n        const offset = Math.abs(i - y);\n        const newRow = [];\n\n        // Avoid duplicate form before and after y\n        if (i >= y && i <= y * 2) {\n            return [...total, newRow];\n        }\n\n        // Estremi di ogni chunk\n        const xStart = x - offset;\n        const xEnd = x + offset;\n\n        for (let i = 0; i < offset; i++) {\n            if (isAvailableIntoChunk(chunk, y + i, xStart)) {\n                newRow.push(chunk[y + i][xStart]);\n            }\n\n            if (isAvailableIntoChunk(chunk, y + i, xEnd)) {\n                newRow.push(chunk[y + i][xEnd]);\n            }\n\n            // Avoid duplicate\n            if (i > 0) {\n                if (isAvailableIntoChunk(chunk, y - i, xStart)) {\n                    newRow.push(chunk[y - i][xStart]);\n                }\n\n                if (isAvailableIntoChunk(chunk, y - i, xEnd)) {\n                    newRow.push(chunk[y - i][xEnd]);\n                }\n            }\n        }\n\n        const newRowFiltered = newRow.filter((item) => item != undefined);\n\n        return [...total, newRowFiltered];\n    }, []);\n};\n\n/**\n * @param {Array<Array>} arr\n * @param {number} i\n * @param {number} i2\n *\n * @returns boolean\n */\nconst isAvailableIntoChunk = (arr, i, i2) => {\n    return arr[i] !== undefined && arr[i][i2] !== undefined;\n};\n\n/**\n * @param {Array} arr\n * @param {import('./type.js').staggerObject} stagger\n *\n * @returns Array<Array>\n */\nexport const getRadialArray = (arr, stagger) => {\n    const { col } = stagger.grid;\n    // @ts-ignore\n    const { x, y } = stagger.from;\n\n    const chunk = sliceIntoChunks(arr, col);\n\n    // Add empty row (one row for each column) at the end to prevent missing cell form matrix calc\n    [...new Array(col).keys()].forEach(() => {\n        chunk.push([]);\n    });\n\n    const radialArrY = getRadialY(chunk, x, y);\n    const radialArrX = getRadialX(radialArrY, x, y, chunk);\n\n    // Merge  x and y array\n    const radialXY = radialArrY.reduce((p, _c, i) => {\n        const row = [...radialArrY[i], ...radialArrX[i]];\n        p.push(row);\n        return p;\n    }, []);\n\n    // Merge over and down y array\n    const arrayLength = radialXY.length;\n    const mergeDirection =\n        y >= arrayLength / 2 ? MERGE_FROM_UP : MERGE_FROM_DOWN;\n\n    const finalArray =\n        mergeDirection === MERGE_FROM_DOWN\n            ? radialXY.reduce(\n                  (\n                      /** @type{Array<Array>} */ previous,\n                      /** @type{Array} */ _current,\n                      /** @type{number} */ index\n                  ) => {\n                      if (index < y) {\n                          return previous;\n                      } else if (index === y) {\n                          const merged = [...radialXY[index]];\n                          previous.push(merged);\n                          return previous;\n                      } else {\n                          const downRow = radialXY[y - (index - y)] ?? [];\n                          const merged = [...radialXY[index], ...downRow];\n                          previous.push(merged);\n                          return previous;\n                      }\n                  },\n                  []\n              )\n            : radialXY\n                  .reduce(\n                      (\n                          /** @type{Array<Array>} */ previous,\n                          /** @type{Array} */ _current,\n                          /** @type{number} */ index\n                      ) => {\n                          if (index > y) {\n                              return previous;\n                          } else if (index === y) {\n                              const merged = [...radialXY[index]];\n                              previous.push(merged);\n                              return previous;\n                          } else {\n                              const upRow = radialXY[y + (y - index)] ?? [];\n                              const merged = [...radialXY[index], ...upRow];\n                              previous.push(merged);\n                              return previous;\n                          }\n                      },\n                      []\n                  )\n                  .reverse();\n\n    // Remove empty row added at start\n    const cleanArray = finalArray.reduce(\n        (/** @type{Array<Array>} */ previous, /** @type{Array} */ current) => {\n            return current.length === 0 ? previous : [...previous, current];\n        },\n        []\n    );\n\n    return {\n        cleanArray,\n    };\n};\n", "// @ts-check\n\nimport { getDefaultStagger } from './getDefaultStagger.js';\nimport { getRadialArray } from './getRadialStagger.js';\nimport {\n    DIRECTION_RADIAL,\n    STAGGER_START,\n    STAGGER_END,\n    STAGGER_CENTER,\n    STAGGER_EDGES,\n    STAGGER_RANDOM,\n} from './staggerCostant.js';\nimport { getEachByFps } from './staggerUtils.js';\nimport { staggerColRowWarning } from '../warning.js';\nimport { mobCore } from '../../../../mobCore/index.js';\n\n/**\n * @param {object} obj\n * @param {Array} obj.arrayDefault\n * @param {Array} obj.arrayOnStop\n * @param {import('./type.js').staggerObject} obj.stagger\n * @param {import('./type.js').staggerDefaultIndex} obj.slowlestStagger\n * @param {import('./type.js').staggerDefaultIndex} obj.fastestStagger\n *\n * @returns {{staggerArray:Array,staggerArrayOnComplete:Array, fastestStagger:import('./type.js').staggerDefaultIndex, slowlestStagger:import('./type.js').staggerDefaultIndex}}\n */\nconst getRadial = ({\n    arrayDefault,\n    arrayOnStop,\n    stagger,\n    slowlestStagger,\n    fastestStagger,\n}) => {\n    /**\n     * Check if from is an Object\n     **/\n    if (!mobCore.checkType(Object, stagger?.from)) {\n        // @ts-ignore\n        stagger.from = {};\n    }\n\n    /**\n     * Check x value if is not set use 0 as default\n     */\n    // @ts-ignore\n    if (!mobCore.checkType(Number, stagger?.from?.x)) {\n        // @ts-ignore\n        stagger.from = { ...stagger.from, x: 0 };\n    }\n\n    /**\n     * Check y value if is not set use 0 as default\n     */\n    // @ts-ignore\n    if (!mobCore.checkType(Number, stagger?.from?.y)) {\n        // @ts-ignore\n        stagger.from = { ...stagger.from, y: 0 };\n    }\n\n    const { cleanArray: cleanCb } = getRadialArray(arrayDefault, stagger);\n\n    // Get stagger index the minumn and the fastest and the slowest\n    let counter = 0;\n    cleanCb.forEach(\n        (\n            /** @type{Array<import('./type.js').setStagger>} */ chunk,\n            /** @type{number} */ i\n        ) => {\n            chunk.forEach((item) => {\n                /*\n                 * Get stagger each by fps\n                 */\n                const eachByFps = getEachByFps(stagger.each);\n                const frame = i * eachByFps;\n                item.index = counter;\n                item.frame = frame;\n\n                if (frame >= slowlestStagger.frame)\n                    slowlestStagger = {\n                        index: counter,\n                        frame,\n                    };\n\n                if (frame <= fastestStagger.frame)\n                    fastestStagger = {\n                        index: counter,\n                        frame,\n                    };\n\n                counter++;\n            });\n        }\n    );\n\n    // Get on Complete Callback\n    /**\n     * @type {Array<Array<import('./type.js').setStagger>>}\n     */\n    const cleanEndCb = (() => {\n        if (arrayOnStop.length > 0) {\n            const { cleanArray } = getRadialArray(arrayOnStop, stagger);\n            return cleanArray.flat();\n        } else {\n            return [];\n        }\n    })();\n\n    const staggerArray = cleanCb.flat();\n    const endstaggerArray = cleanEndCb.flat();\n\n    // Update onComplete cb with right stagger\n    staggerArray.forEach(\n        (\n            /** @type{import('./type.js').setStagger} */ item,\n            /** @type{number} */ i\n        ) => {\n            // If there an OnCompelte callback\n            if (endstaggerArray.length > 0) {\n                endstaggerArray[i].index = item.index;\n                endstaggerArray[i].frame = item.frame;\n            }\n        }\n    );\n\n    return {\n        staggerArray,\n        staggerArrayOnComplete: endstaggerArray,\n        fastestStagger,\n        slowlestStagger,\n    };\n};\n\n/**\n * @param {object} obj\n * @param {Array} obj.arrayDefault\n * @param {Array} obj.arrayOnStop\n * @param {import('./type.js').staggerObject} obj.stagger\n * @param {import('./type.js').staggerDefaultIndex} obj.slowlestStagger\n * @param {import('./type.js').staggerDefaultIndex} obj.fastestStagger\n *\n * @returns {{staggerArray:Array,staggerArrayOnComplete:Array, fastestStagger:import('./type.js').staggerDefaultIndex, slowlestStagger:import('./type.js').staggerDefaultIndex}}\n */\nconst getDefault = ({\n    arrayDefault,\n    arrayOnStop,\n    stagger,\n    slowlestStagger,\n    fastestStagger,\n}) => {\n    /**\n     * Check if from is a valid parameters\n     * If not set default start value\n     * **/\n    const fromList = [\n        STAGGER_START,\n        STAGGER_END,\n        STAGGER_CENTER,\n        STAGGER_EDGES,\n        STAGGER_RANDOM,\n    ];\n\n    if (\n        (!mobCore.checkType(String, stagger?.from) &&\n            !mobCore.checkType(Number, stagger?.from)) ||\n        (mobCore.checkType(String, stagger?.from) &&\n            // @ts-ignore\n            !fromList.includes(stagger?.from))\n    ) {\n        staggerColRowWarning();\n        stagger.from = STAGGER_START;\n    }\n\n    /**\n     * DEFAULT STAGGER\n     **/\n    return getDefaultStagger({\n        arrayDefault,\n        arrayOnStop,\n        stagger,\n        slowlestStagger,\n        fastestStagger,\n    });\n};\n\n/**\n * @param {object} obj\n * @param {Array} obj.arrayDefault\n * @param {Array} obj.arrayOnStop\n * @param {import('./type.js').staggerObject} obj.stagger\n * @param {import('./type.js').staggerDefaultIndex} obj.slowlestStagger\n * @param {import('./type.js').staggerDefaultIndex} obj.fastestStagger\n *\n * @returns {{staggerArray:Array,staggerArrayOnComplete:Array, fastestStagger:import('./type.js').staggerDefaultIndex, slowlestStagger:import('./type.js').staggerDefaultIndex}}\n */\nexport const setStagger = ({\n    arrayDefault,\n    arrayOnStop,\n    stagger,\n    slowlestStagger,\n    fastestStagger,\n}) => {\n    const result =\n        stagger?.grid?.direction === DIRECTION_RADIAL\n            ? getRadial({\n                  arrayDefault,\n                  arrayOnStop,\n                  stagger,\n                  slowlestStagger,\n                  fastestStagger,\n              })\n            : getDefault({\n                  arrayDefault,\n                  arrayOnStop,\n                  stagger,\n                  slowlestStagger,\n                  fastestStagger,\n              });\n\n    const staggerArray = result.staggerArray;\n    const staggerArrayOnComplete = result.staggerArrayOnComplete;\n    const fastestStaggerUpdated = result.fastestStagger;\n    const slowlestStaggerUpdated = result.slowlestStagger;\n\n    return {\n        staggerArray,\n        staggerArrayOnComplete,\n        fastestStagger: fastestStaggerUpdated,\n        slowlestStagger: slowlestStaggerUpdated,\n    };\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../../mobCore/index.js';\n\n/**\n * @param {Object} obj\n * @param {import('../stagger/type.js').staggerObject} obj.stagger\n * @param {Array.<import('./type.js').callbackObject<Function>>} obj.callback\n * @param {Array.<import('./type.js').callbackObject<string>>} obj.callbackCache\n * @param {{[key:string]:number}} obj.callBackObject\n * @param {boolean} obj.useStagger\n *\n * @description\n * Fire callback while Running\n */\nexport const defaultCallback = ({\n    stagger,\n    callback,\n    callbackCache,\n    callBackObject,\n    useStagger,\n}) => {\n    /**\n     * Fire callback without stagger.\n     */\n    if (stagger.each === 0 || !useStagger) {\n        mobCore.useFrame(() => {\n            callback.forEach(({ cb }) => {\n                cb(callBackObject);\n            });\n        });\n\n        /**\n         * Fire callback cache immediately.\n         */\n        mobCore.useFrame(() => {\n            callbackCache.forEach(({ cb }) => {\n                mobCore.useCache.fireObject({ id: cb, obj: callBackObject });\n            });\n        });\n\n        return;\n    }\n\n    /**\n     * Fire callback with default stagger.\n     */\n    callback.forEach(({ cb, frame }) => {\n        mobCore.useFrameIndex(() => {\n            cb(callBackObject);\n        }, frame);\n    });\n\n    /**\n     * Fire callback with cache stagger.\n     * Update handleCache store.\n     */\n    callbackCache.forEach(({ cb, frame }) => {\n        mobCore.useCache.update({ id: cb, callBackObject, frame });\n    });\n};\n\n/**\n * @param {Object} obj\n * @param {Function} obj.onComplete\n * @param {import('../stagger/type.js').staggerObject} obj.stagger\n * @param {Array.<import('./type.js').callbackObject<Function>>} obj.callback\n * @param {Array.<import('./type.js').callbackObject<string>>} obj.callbackCache\n * @param {Array.<import('./type.js').callbackObject<Function>>} obj.callbackOnComplete\n * @param {{[key:string]:number}} obj.callBackObject\n * @param {import('../stagger/type.js').staggerDefaultIndex} obj.slowlestStagger\n * @param {import('../stagger/type.js').staggerDefaultIndex} obj.fastestStagger\n * @param {boolean} obj.useStagger\n *\n * @description\n *Callback on complete\n */\nexport const defaultCallbackOnComplete = ({\n    onComplete,\n    callback,\n    callbackCache,\n    callbackOnComplete,\n    callBackObject,\n    stagger,\n    slowlestStagger,\n    fastestStagger,\n    useStagger,\n}) => {\n    /**\n     * Fire callback without stagger.\n     */\n    if (stagger.each === 0 || !useStagger) {\n        onComplete();\n\n        mobCore.useNextFrame(() => {\n            // Fire callback with exact end value\n            callback.forEach(({ cb }) => {\n                cb(callBackObject);\n            });\n\n            /**\n             * Fire callback cache immediately.\n             */\n            callbackCache.forEach(({ cb }) => {\n                mobCore.useCache.fireObject({ id: cb, obj: callBackObject });\n            });\n\n            callbackOnComplete.forEach(({ cb }) => {\n                cb(callBackObject);\n            });\n        });\n\n        return;\n    }\n\n    /**\n     * Fire callback with default stagger.\n     */\n    callback.forEach(({ cb, frame }, /** @type {number} */ index) => {\n        mobCore.useFrameIndex(() => {\n            if (stagger.waitComplete) {\n                if (index === slowlestStagger.index) {\n                    cb(callBackObject);\n                    onComplete();\n                }\n                return;\n            }\n\n            if (index === fastestStagger.index) {\n                cb(callBackObject);\n                onComplete();\n            }\n        }, frame);\n    });\n\n    /**\n     * Fire callback with cache stagger.\n     */\n    callbackCache.forEach(({ cb, frame }, /** @type {number} */ index) => {\n        mobCore.useFrameIndex(() => {\n            if (stagger.waitComplete) {\n                if (index === slowlestStagger.index) {\n                    mobCore.useCache.fireObject({\n                        id: cb,\n                        obj: callBackObject,\n                    });\n                    onComplete();\n                }\n                return;\n            }\n\n            /**\n             * Fire callback cache immediately.\n             */\n            if (index === fastestStagger.index) {\n                mobCore.useCache.fireObject({ id: cb, obj: callBackObject });\n                onComplete();\n            }\n        }, frame);\n    });\n\n    /**\n     * Fire on complete callbacon complete callback\n     */\n    callbackOnComplete.forEach(({ cb, frame }) => {\n        mobCore.useFrameIndex(() => {\n            cb(callBackObject);\n        }, frame + 1);\n    });\n};\n", "import { mobCore } from '../../../../mobCore';\n\nexport const callBackStore = mobCore.createStore({ id: 0 });\n", "// @ts-check\n\nimport { mobCore } from '../../../../mobCore';\nimport { callBackStore } from './callBackStore';\n\n/**\n * @param {() => void} currentCallback - callback to execute.\n * @param {Array.<import('./type').callbackObject<() => void>>} arrayOfCallback\n * @returns {import('./type').setCallbackReturnObject}\n *\n * @description\n * Add callback to Stack.\n *\n */\nexport const setCallBack = (currentCallback, arrayOfCallback) => {\n    // Get new unbubscribeId.\n    const { id } = callBackStore.get();\n\n    // Update main callback array.\n    // index and frame is settled on first run of tween\n    // arrayOfCallback.push({ cb: currentCallback, id, index: -1, frame: -1 });\n    const arrayOfCallbackUpdated = [\n        ...arrayOfCallback,\n        { cb: currentCallback, id, index: -1, frame: -1 },\n    ];\n\n    // Save current id for unsubscribe.\n    const prevId = id;\n\n    // Update Incremental id.\n    callBackStore.quickSetProp('id', id + 1);\n\n    // Delete item from arrayOfCallback, it is possible unsubscribe a single stagger.\n    return {\n        arrayOfCallbackUpdated,\n        unsubscribeCb: (arrayOfCallback) =>\n            arrayOfCallback.map(({ id, cb, index, frame }) => {\n                // Set NOOP.\n                if (id === prevId) cb = () => {};\n                return { id, cb, index, frame };\n            }),\n    };\n};\n\n/**\n * @param {(Object|HTMLElement)} item\n * @param {function(Object.<string, number>):void} currentCallback\n * @param {Array.<import('./type').callbackObject<string>>} arrayOfCallback\n * @param {Array.<() => void>} unsubscribeCacheArray - unsubscribe function of handleCache.\n *\n * @returns {import('./type').setCallbackCacheReturnObject}\n */\nexport const setCallBackCache = (\n    item,\n    currentCallback,\n    arrayOfCallback,\n    unsubscribeCacheArray\n) => {\n    // Get new unbubscribeId.\n    const { id } = callBackStore.get();\n\n    // add item and function related to handleCache.\n    const { id: cacheId, unsubscribe } = mobCore.useCache.add(\n        item,\n        currentCallback\n    );\n\n    // Update main callback array.\n    // index and frame is settled on first run of tween\n    const arrayOfCallbackUpdated = [\n        ...arrayOfCallback,\n        { cb: cacheId, id, index: -1, frame: -1 },\n    ];\n\n    // Update unsubscribeCache store.\n    unsubscribeCacheArray.push(unsubscribe);\n\n    const prevId = id;\n\n    // Update Incremental id.\n    callBackStore.quickSetProp('id', id + 1);\n\n    return {\n        arrayOfCallbackUpdated,\n        unsubscribeCache: unsubscribeCacheArray,\n        unsubscribeCb: (arrayOfCallback) => {\n            // runsubscribe item from handleCache.\n            unsubscribe();\n\n            // Disable single stagger without modify staggers order\n            return arrayOfCallback.map(({ id, cb, index, frame }) => {\n                if (id === prevId) cb = '';\n                return { id, cb, index, frame };\n            });\n        },\n    };\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../../mobCore/index.js';\nimport { dataTweenValueIsValid } from './tweenValidation.js';\nimport { dataTweenValueIsNotValidWarning } from '../warning.js';\n\n/**\n * @param {import('./type.js').valueToparseType<any>} obj\n * @returns {import('./type.js').goToParamsType[]}\n *\n * @description\n * Set goTo value, used by spring and lerp\n */\nexport const goToUtils = (obj) => {\n    return Object.keys(obj).map((item) => {\n        if (!dataTweenValueIsValid(obj[item])) {\n            dataTweenValueIsNotValidWarning(`${item}: ${obj[item]}`);\n\n            return {\n                prop: item,\n                toValue: 0,\n                toFn: () => {},\n                toIsFn: false,\n                settled: false,\n            };\n        }\n\n        const toValue = mobCore.checkType(Number, obj[item])\n            ? obj[item]\n            : // @ts-ignore\n              obj[item]();\n\n        return {\n            prop: item,\n            toValue,\n            toFn: obj[item],\n            toIsFn: mobCore.checkType(Function, obj[item]),\n            settled: false,\n        };\n    });\n};\n\n/**\n * @param {import('./type.js').valueToparseType} obj\n * @return {import('./type.js').goFromType[]}\n *\n * @description\n * Set goFrom value, used by spring and lerp\n */\nexport const goFromUtils = (obj) => {\n    return Object.keys(obj).map((item) => {\n        if (!dataTweenValueIsValid(obj[item])) {\n            dataTweenValueIsNotValidWarning(`${item}: ${obj[item]}`);\n\n            return {\n                prop: item,\n                fromValue: 0,\n                currentValue: 0,\n                fromFn: () => {},\n                fromIsFn: false,\n                settled: false,\n            };\n        }\n        const value = mobCore.checkType(Number, obj[item])\n            ? obj[item]\n            : // @ts-ignore\n              obj[item]();\n\n        return {\n            prop: item,\n            fromValue: value,\n            currentValue: value,\n            fromFn: obj[item],\n            fromIsFn: mobCore.checkType(Function, obj[item]),\n            settled: false,\n        };\n    });\n};\n\n/**\n * @param {import('./type.js').valueToparseType} fromObj\n * @param {import('./type.js').valueToparseType} toObj\n * @return {import('./type.js').goFromToType[]}\n *\n * @description\n * Set goFromTo value, used by spring and lerp\n */\nexport const goFromToUtils = (fromObj, toObj) => {\n    return Object.keys(fromObj).map((item) => {\n        if (\n            !dataTweenValueIsValid(toObj[item]) ||\n            !dataTweenValueIsValid(fromObj[item])\n        ) {\n            dataTweenValueIsNotValidWarning(\n                `${item}: ${toObj[item]} || ${item}: ${fromObj[item]}`\n            );\n\n            return {\n                prop: item,\n                fromValue: 0,\n                fromFn: () => {},\n                fromIsFn: false,\n                currentValue: 0,\n                toValue: 0,\n                toFn: () => {},\n                toIsFn: false,\n                settled: false,\n            };\n        }\n\n        const fromValue = mobCore.checkType(Number, fromObj[item])\n            ? fromObj[item]\n            : // @ts-ignore\n              fromObj[item]();\n\n        const toValue = mobCore.checkType(Number, toObj[item])\n            ? toObj[item]\n            : // @ts-ignore\n              toObj[item]();\n\n        return {\n            prop: item,\n            fromValue,\n            fromFn: fromObj[item],\n            fromIsFn: mobCore.checkType(Function, fromObj[item]),\n            currentValue: fromValue,\n            toValue,\n            toFn: toObj[item],\n            toIsFn: mobCore.checkType(Function, toObj[item]),\n            settled: false,\n        };\n    });\n};\n\n/**\n * @param {import('./type.js').valueToparseType} obj\n * @returns {import('./type.js').goFromToType[]}\n *\n * @description\n * Set set value, used by spring and lerp\n */\nexport const setUtils = (obj) => {\n    return Object.keys(obj).map((item) => {\n        if (!dataTweenValueIsValid(obj[item])) {\n            dataTweenValueIsNotValidWarning(`${item}: ${obj[item]}`);\n\n            return {\n                prop: item,\n                fromValue: 0,\n                fromFn: () => {},\n                fromIsFn: false,\n                currentValue: 0,\n                toValue: 0,\n                toFn: () => {},\n                toIsFn: false,\n                settled: false,\n            };\n        }\n        const value = mobCore.checkType(Number, obj[item])\n            ? obj[item]\n            : // @ts-ignore\n              obj[item]();\n\n        return {\n            prop: item,\n            fromValue: value,\n            fromFn: obj[item],\n            fromIsFn: mobCore.checkType(Function, obj[item]),\n            currentValue: value,\n            toValue: value,\n            toFn: obj[item],\n            toIsFn: mobCore.checkType(Function, obj[item]),\n            settled: false,\n        };\n    });\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../mobCore';\n\n/**\n * @param {import('./callbacks/type').callbackObject[]} callbackPauseArray\n * @param {Function} rafFunction\n * @param {Function} pauseFunction\n * @param {(function(any):void)} resolve\n * @returns {void}\n *\n * @description\n * Fire mian request animation frame function.\n * In case the is some function add form timeline fire pauseFUnction.\n */\nexport const initRaf = (\n    callbackPauseArray,\n    rafFunction,\n    pauseFunction,\n    resolve\n) => {\n    mobCore.useFrame(() => {\n        mobCore.useNextTick(({ time, fps }) => {\n            const prevent = callbackPauseArray\n                .map(({ cb }) => cb())\n                .includes(true);\n            rafFunction(time, fps, resolve);\n            if (prevent) pauseFunction();\n        });\n    });\n};\n", "// @ts-check\n\n/**\n * @param {string} label\n * @param {number} fps\n *\n * @returns {void}\n */\nexport const fpsLoadedLog = (label, fps) => {\n    console.log(`stagger on ${label} loaded at: ${fps} fps`);\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../../mobCore';\nimport { staggerEachWarning } from '../warning';\n\n/**\n * @param {number} each\n * @param {boolean} firstRun\n * @param {Array.<import('../callbacks/type').callbackObject>} arrayToCompare1\n * @param {Array.<import('../callbacks/type').callbackObject>} arrayToCompare2\n */\nexport const shouldInizializzeStagger = (\n    each,\n    firstRun,\n    arrayToCompare1,\n    arrayToCompare2\n) => {\n    if (!mobCore.checkType(Number, each)) {\n        staggerEachWarning();\n    }\n\n    return (\n        each > 0 &&\n        firstRun &&\n        (arrayToCompare1.length > 0 || arrayToCompare2.length > 0)\n    );\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../mobCore';\n\n/**\n * @param {Function} rafFunction\n * @param {Function} resolveFunction\n */\nexport const resume = (rafFunction, resolveFunction) => {\n    mobCore.useFrame(() => {\n        mobCore.useNextTick(({ time, fps }) => {\n            rafFunction(time, fps, resolveFunction);\n        });\n    });\n};\n", "/**\n * @param {Array} arr\n * @param {string} key\n * @returns {import(\"./type\").valueToparseType<number>}\n *\n * @description\n * Get value of specific key from an array\n * [{ prop: valueByKey }, ...]\n */\nexport const getValueObj = (arr, key) => {\n    return arr\n        .map((item) => ({ [item.prop]: Number.parseFloat(item[key]) }))\n        .reduce((p, c) => ({ ...p, ...c }), {});\n};\n\n/**\n * @param {Array} arr\n * @returns {import(\"./type\").valueToparseType<(number|Function)>}\n *\n * @description\n * Get toValue of specific key from an array ( function or number )\n */\nexport const getValueObjToNative = (arr) => {\n    return arr\n        .map((item) => {\n            return item.toIsFn\n                ? { [item.prop]: item.toFn }\n                : { [item.prop]: Number.parseFloat(item.toValue) };\n        })\n        .reduce((p, c) => ({ ...p, ...c }), {});\n};\n\n/**\n * @param {Array} arr\n * @returns {import(\"./type\").valueToparseType<(number|Function)>}\n *\n * @description\n * Get fromValue of specific key from an array ( function or number )\n */\nexport const getValueObjFromNative = (arr) => {\n    return arr\n        .map((item) => {\n            return item.fromIsFn\n                ? { [item.prop]: item.fromFn }\n                : { [item.prop]: Number.parseFloat(item.fromValue) };\n        })\n        .reduce((p, c) => ({ ...p, ...c }), {});\n};\n", "/**\n * @param {Array} newData\n * @param {Array} data\n * @returns {Array}\n *\n * @description\n * Merge animation store of specific lerp/spring .. with new data from goTo etc..\n */\nexport const mergeArray = (newData, data) => {\n    return data.map((item) => {\n        const itemToMerge = newData.find((newItem) => {\n            return newItem.prop === item.prop;\n        });\n\n        // If exist merge\n        return itemToMerge ? { ...item, ...itemToMerge } : item;\n    });\n};\n\n/**\n * @param {Array} newData\n * @param {Array} data\n * @returns {Array}\n *\n * @description\n * Merge animation store of specific tween .. with new data from goTo etc..\n */\nexport const mergeArrayTween = (newData, data) => {\n    return data.map((item) => {\n        const itemToMerge = newData.find((newItem) => {\n            return newItem.prop === item.prop;\n        });\n\n        // If exist merge\n        return itemToMerge\n            ? { ...item, ...itemToMerge, shouldUpdate: true }\n            : { ...item, shouldUpdate: false };\n    });\n};\n", "// @ts-check\nimport { getRoundedValue, lerp } from '../utils/animationUtils';\n\n/**\n * @param {Object} param\n * @param {import('./type').lerpValues[]} param.values\n * @param {number} param.fps\n * @param {number} param.velocity\n * @param {number} param.precision\n * @return {import('./type').lerpValues[]}\n */\nexport const lerpGetValuesOnDraw = ({ values, fps, velocity, precision }) => {\n    return values.map((item) => {\n        if (item.settled) return item;\n\n        const { currentValue, toValue } = item;\n\n        const lerpValue = lerp(currentValue, toValue, (velocity / fps) * 60);\n        const newCurrentValue = getRoundedValue(lerpValue);\n        const settled =\n            Number(Math.abs(toValue - newCurrentValue).toFixed(4)) <= precision;\n\n        if (settled) {\n            return {\n                ...item,\n                currentValue: toValue,\n                settled: true,\n            };\n        }\n\n        return {\n            ...item,\n            currentValue: newCurrentValue,\n            settled: false,\n        };\n    });\n};\n", "// @ts-check\n\nimport { compareKeys } from '../utils/animationUtils.js';\nimport {\n    setFromByCurrent,\n    setFromCurrentByTo,\n    setFromToByCurrent,\n    setReverseValues,\n    setRelative,\n} from '../utils/tweenAction/setValues.js';\nimport { mergeDeep } from '../../utils/mergeDeep.js';\nimport { setStagger } from '../utils/stagger/setStagger.js';\nimport { STAGGER_DEFAULT_INDEX_OBJ } from '../utils/stagger/staggerCostant.js';\nimport {\n    getStaggerFromProps,\n    getStaggerArray,\n} from '../utils/stagger/staggerUtils.js';\nimport {\n    defaultCallbackOnComplete,\n    defaultCallback,\n} from '../utils/callbacks/defaultCallback.js';\nimport {\n    setCallBack,\n    setCallBackCache,\n} from '../utils/callbacks/setCallback.js';\nimport {\n    goToUtils,\n    goFromUtils,\n    goFromToUtils,\n    setUtils,\n} from '../utils/tweenAction/actions.js';\nimport { initRaf } from '../utils/initRaf.js';\nimport {\n    compareKeysWarning,\n    staggerIsOutOfRangeWarning,\n} from '../utils/warning.js';\nimport { fpsLoadedLog } from '../utils/fpsLogInizialization.js';\nimport {\n    lerpPrecisionIsValid,\n    lerpVelocityIsValid,\n    relativeIsValid,\n    valueIsBooleanAndTrue,\n} from '../utils/tweenAction/tweenValidation.js';\nimport { mobCore } from '../../../mobCore/index.js';\nimport { shouldInizializzeStagger } from '../utils/stagger/shouldInizialize.js';\nimport { resume } from '../utils/resumeTween.js';\nimport {\n    getValueObj,\n    getValueObjFromNative,\n    getValueObjToNative,\n} from '../utils/tweenAction/getValues.js';\nimport { mergeArray } from '../utils/tweenAction/mergeArray.js';\nimport { lerpGetValuesOnDraw } from './getValuesOnDraw.js';\n\nexport default class HandleLerp {\n    /**\n     * @param {import('./type.js').lerpTweenProps} [ data  = {}]\n     *\n     * @example\n     * ```javascript\n     * const myLerp = new HandleLerp({\n     *   data: Object.<string, number>,\n     *   precision: Number,\n     *   velocity: Number,\n     *   relative: Boolean\n     *   stagger:{\n     *      each: Number,\n     *      from: Number|String|{x:number,y:number},\n     *      grid: {\n     *          col: Number,\n     *          row: Number,\n     *          direction: String,\n     *      },\n     *      waitComplete: Boolean,\n     *   },\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     * myLerp.set()\n     * myLerp.goTo()\n     * myLerp.goFrom()\n     * myLerp.goFromTo()\n     * myLerp.subscribe()\n     * myLerp.subscribeCache()\n     * myLerp.onComplete()\n     * myLerp.updateVelocity()\n     * myLerp.updatePrecision()\n     * myLerp.getId()\n     * myLerp.get()\n     * myLerp.getTo()\n     * myLerp.getFrom()\n     * myLerp.getToNativeType()\n     * myLerp.getFromNativeType()\n     *\n     * ```\n     */\n    constructor(data) {\n        /**\n         * @private\n         * @type {import('../utils/stagger/type.js').staggerObject}\n         */\n        this.stagger = getStaggerFromProps(data);\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.relative = relativeIsValid(data?.relative, 'lerp');\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.velocity = lerpVelocityIsValid(data?.velocity);\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.precision = lerpPrecisionIsValid(data?.precision);\n\n        /**\n         * @private\n         * @type {string}\n         */\n        this.uniqueId = mobCore.getUnivoqueId();\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.isActive = false;\n\n        /**\n         * @private\n         * @type{( function(any):void )|undefined}\n         */\n        this.currentResolve = undefined;\n\n        /**\n         * @private\n         * @type{function|undefined}\n         */\n        this.currentReject = undefined;\n\n        /**\n         * @private\n         * @type{Promise|undefined}\n         */\n        this.promise = undefined;\n\n        /**\n         * @private\n         * @type {import('./type.js').lerpValues[]|[]}\n         */\n        this.values = [];\n\n        /**\n         * @private\n         * @type {import('./type.js').lerpInitialData[]}\n         */\n        this.initialData = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callback = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<string>[]}\n         */\n        this.callbackCache = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callbackOnComplete = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callbackStartInPause = [];\n\n        /**\n         * @private\n         * @type {Array<() => void>}\n         */\n        this.unsubscribeCache = [];\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.pauseStatus = false;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.firstRun = true;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.useStagger = true;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.fpsInLoading = false;\n\n        /**\n         * @private\n         *\n         * @description\n         * This value is the base value merged with new value in custom prop\n         * passed form user in goTo etc..\n         *\n         * @type {import('./type.js').lerpDefault}\n         **/\n        this.defaultProps = {\n            reverse: false,\n            velocity: this.velocity,\n            precision: this.precision,\n            relative: this.relative,\n            immediate: false,\n            immediateNoPromise: false,\n        };\n\n        /**\n         * @private\n         * @type {import('../utils/stagger/type.js').staggerDefaultIndex}\n         **/\n        this.slowlestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n\n        /**\n         * @private\n         * @type {import('../utils/stagger/type.js').staggerDefaultIndex}\n         */\n        this.fastestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n\n        /**\n         * Set initial store data if defined in constructor props\n         * If not use setData methods\n         */\n        const props = data?.data || null;\n        if (props) this.setData(props);\n    }\n\n    /**\n     * @param {number} _time\n     * @param {number} fps\n     * @param {Function} res\n     *\n     * @returns {void}\n     */\n    draw(_time, fps, res = () => {}) {\n        this.isActive = true;\n\n        // Update values.\n        this.values = lerpGetValuesOnDraw({\n            values: this.values,\n            fps,\n            velocity: this.velocity,\n            precision: this.precision,\n        });\n\n        // Prepare an obj to pass to the callback.\n        const callBackObject = getValueObj(this.values, 'currentValue');\n\n        defaultCallback({\n            stagger: this.stagger,\n            callback: this.callback,\n            callbackCache: this.callbackCache,\n            callBackObject: callBackObject,\n            useStagger: this.useStagger,\n        });\n\n        // Check if all values is completed.\n        const allSettled = this.values.every((item) => item.settled === true);\n\n        if (allSettled) {\n            const onComplete = () => {\n                this.isActive = false;\n\n                /**\n                 * End of animation\n                 * Set fromValue with ended value\n                 * At the next call fromValue become the start value\n                 */\n                this.values = [...this.values].map((item) => {\n                    return { ...item, fromValue: item.toValue };\n                });\n\n                // On complete\n                if (!this.pauseStatus) {\n                    res();\n\n                    // Set promise reference to null once resolved\n                    this.promise = undefined;\n                    this.currentReject = undefined;\n                    this.currentResolve = undefined;\n                }\n            };\n\n            // Prepare an obj to pass to the callback with rounded value ( end user value)\n            const cbObjectSettled = getValueObj(this.values, 'toValue');\n\n            defaultCallbackOnComplete({\n                onComplete,\n                callback: this.callback,\n                callbackCache: this.callbackCache,\n                callbackOnComplete: this.callbackOnComplete,\n                callBackObject: cbObjectSettled,\n                stagger: this.stagger,\n                slowlestStagger: this.slowlestStagger,\n                fastestStagger: this.fastestStagger,\n                useStagger: this.useStagger,\n            });\n\n            return;\n        }\n\n        mobCore.useFrame(() => {\n            mobCore.useNextTick(({ time, fps }) => {\n                if (this.isActive) this.draw(time, fps, res);\n            });\n        });\n    }\n\n    /**\n     * @private\n     *\n     * @param {number} time current global time\n     * @param {number} fps current FPS\n     * @param {Function} res current promise resolve\n     **/\n    onReuqestAnim(time, fps, res) {\n        this.values = [...this.values].map((item) => {\n            return { ...item, currentValue: item.fromValue };\n        });\n\n        this.draw(time, fps, res);\n    }\n\n    /**\n     * @description\n     * Inzialize stagger array\n     *\n     * @returns {Promise<any>}\n     */\n    async inzializeStagger() {\n        /**\n         * First time il there is a stagger load fps then go next step\n         * next time no need to calcaulte stagger and jump directly next step\n         *\n         **/\n        if (\n            shouldInizializzeStagger(\n                this.stagger.each,\n                this.firstRun,\n                this.callbackCache,\n                this.callback\n            )\n        ) {\n            const { averageFPS } = await mobCore.useFps();\n\n            fpsLoadedLog('lerp', averageFPS);\n            const cb = getStaggerArray(this.callbackCache, this.callback);\n\n            if (this.stagger.grid.col > cb.length) {\n                staggerIsOutOfRangeWarning(cb.length);\n                this.firstRun = false;\n                return;\n            }\n\n            const {\n                staggerArray,\n                staggerArrayOnComplete,\n                fastestStagger,\n                slowlestStagger,\n            } = setStagger({\n                arrayDefault: cb,\n                arrayOnStop: this.callbackOnComplete,\n                stagger: this.stagger,\n                slowlestStagger: this.slowlestStagger,\n                fastestStagger: this.fastestStagger,\n            });\n\n            if (this.callbackCache.length > this.callback.length) {\n                this.callbackCache = staggerArray;\n            } else {\n                this.callback = staggerArray;\n            }\n            this.callbackOnComplete = staggerArrayOnComplete;\n            this.slowlestStagger = slowlestStagger;\n            this.fastestStagger = fastestStagger;\n            this.firstRun = false;\n        }\n\n        return { ready: true };\n    }\n\n    /**\n     * @private\n     * @param {function(any):void} res\n     * @param {Function} reject\n     *\n     * @returns {Promise}\n     */\n    async startRaf(res, reject) {\n        if (this.fpsInLoading) return;\n        this.currentResolve = res;\n        this.currentReject = reject;\n\n        if (this.firstRun) {\n            this.fpsInLoading = true;\n            await this.inzializeStagger();\n            this.fpsInLoading = false;\n        }\n\n        initRaf(\n            this.callbackStartInPause,\n            this.onReuqestAnim.bind(this),\n            this.pause.bind(this),\n            res\n        );\n    }\n\n    /**\n     * @param {import('../tween/type.js').tweenStopProps} Stop props\n     * @returns {void}\n     *\n     * @description\n     * Stop tween and fire reject of current promise.\n     */\n    stop({ clearCache = true } = {}) {\n        if (this.pauseStatus) this.pauseStatus = false;\n        this.values = setFromToByCurrent(this.values);\n\n        /**\n         * If isRunning clear all funture stagger.\n         * If tween is ended and the lst stagger is running, let it reach end position.\n         */\n        if (this.isActive && clearCache)\n            this.callbackCache.forEach(({ cb }) => mobCore.useCache.clean(cb));\n\n        // Reject promise\n        if (this.currentReject) {\n            this.currentReject(mobCore.ANIMATION_STOP_REJECT);\n            this.promise = undefined;\n            this.currentReject = undefined;\n            this.currentResolve = undefined;\n        }\n\n        // Reset RAF\n        if (this.isActive) this.isActive = false;\n    }\n\n    /**\n     * @description\n     * Pause the tween\n     *\n     * @returns {void}\n     */\n    pause() {\n        if (this.pauseStatus) return;\n        this.pauseStatus = true;\n        if (this.isActive) this.isActive = false;\n        this.values = setFromByCurrent(this.values);\n    }\n\n    /**\n     * @description\n     * Resume tween in pause\n     *\n     * @returns {void}\n     */\n    resume() {\n        if (!this.pauseStatus) return;\n        this.pauseStatus = false;\n\n        if (!this.isActive && this.currentResolve) {\n            resume(this.onReuqestAnim.bind(this), this.currentResolve);\n        }\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<number>} obj Initial data structure\n     * @returns {void}\n     *\n     * @description\n     * Set initial data structure, the method is call by data prop in constructor. In case of need it can be called after creating the instance\n     *\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * myLerp.setData({ val: 100 });\n     * ```\n     */\n    setData(obj) {\n        this.values = Object.entries(obj).map((item) => {\n            const [prop, value] = item;\n            return {\n                prop: prop,\n                toValue: value,\n                fromValue: value,\n                currentValue: value,\n                fromFn: () => 0,\n                fromIsFn: false,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false,\n            };\n        });\n\n        this.initialData = this.values.map((item) => {\n            return {\n                prop: item.prop,\n                toValue: item.toValue,\n                fromValue: item.fromValue,\n                currentValue: item.currentValue,\n            };\n        });\n    }\n\n    /**\n     * @description\n     * Reset data value with initial\n     *\n     * @returns {void}\n     */\n    resetData() {\n        this.values = mergeDeep(this.values, this.initialData);\n    }\n\n    /**\n     * @private\n     *\n     * @description\n     * Merge special props with default props\n     *\n     * @param  {import('./type.js').lerpActions} props\n     * @return {import('./type.js').lerpDefault} props merged\n     *\n     */\n    mergeProps(props) {\n        const newProps = { ...this.defaultProps, ...props };\n        const { velocity, precision, relative } = newProps;\n        this.relative = relativeIsValid(relative, 'lerp');\n        this.velocity = lerpVelocityIsValid(velocity);\n        this.precision = lerpPrecisionIsValid(precision);\n\n        return newProps;\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj to Values\n     * @param {import('./type.js').lerpActions} props special props\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * myLerp.goTo(\n     *     { string: ( Number|Function ) },\n     *     {\n     *         reverse: [ Boolean ],\n     *         precision: [ Number ],\n     *         velocity: [ Number ],\n     *         relative: [ Boolean ],\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     * @description\n     *  Transform some properties of your choice from the `current value` to the `entered value`.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - precision\n     *   - velocity\n     *   - relative\n     *   - reverse\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     *\n     */\n    goTo(obj, props = {}) {\n        if (this.pauseStatus) return;\n        this.useStagger = true;\n        const data = goToUtils(obj);\n        return this.doAction(data, props, obj);\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj from Values\n     * @param {import('./type.js').lerpActions} props special props\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * myLerp.goFrom(\n     *     { string: ( Number|Function ) },\n     *     {\n     *         reverse: [ Boolean ],\n     *         precision: [ Number ],\n     *         velocity: [ Number ],\n     *         relative: [ Boolean ],\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     * @description\n     *  Transform some properties of your choice from the `entered value` to the `current value`.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - precision\n     *   - velocity\n     *   - relative\n     *   - reverse\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     */\n    goFrom(obj, props = {}) {\n        if (this.pauseStatus) return;\n        this.useStagger = true;\n        const data = goFromUtils(obj);\n        return this.doAction(data, props, obj);\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} fromObj from Values\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} toObj to Values\n     * @param {import('./type.js').lerpActions } props special props\n     * @returns {Promise|null|void} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * myLerp.goFromTo(\n     *     { string: ( Number|Function ) },\n     *     { string: ( Number|Function ) },\n     *     {\n     *         reverse: [ Boolean ],\n     *         precision: [ Number ],\n     *         velocity: [ Number ],\n     *         relative: [ Boolean ],\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     *  Transform some properties of your choice from the `first entered value` to the `second entered value`.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - precision\n     *   - velocity\n     *   - relative\n     *   - reverse\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     */\n    goFromTo(fromObj, toObj, props = {}) {\n        if (this.pauseStatus) return;\n        this.useStagger = true;\n\n        // Check if fromObj has the same keys of toObj\n        if (!compareKeys(fromObj, toObj)) {\n            compareKeysWarning('lerp goFromTo:', fromObj, toObj);\n            return this.promise;\n        }\n\n        const data = goFromToUtils(fromObj, toObj);\n\n        return this.doAction(data, props, fromObj);\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj to Values\n     * @param {import('../tween/type.js').tweenCommonProps} props special props\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * myLerp.set(\n     *     { string: ( Number|Function ) },\n     *     {\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     *  Transform some properties of your choice from the `current value` to the `entered value` immediately.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     */\n    set(obj, props = {}) {\n        if (this.pauseStatus) return;\n        this.useStagger = false;\n        const data = setUtils(obj);\n        return this.doAction(data, props, obj);\n    }\n\n    /**\n     * @private\n     *\n     * @param {( import('../utils/tweenAction/type.js').goToParamsType|import('../utils/tweenAction/type.js').goFromType|import('../utils/tweenAction/type.js').goFromToType )[]} data Updated data\n     * @param {import('./type.js').lerpActions} props special props\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj new data obj come from set/goTo/goFrom/goFromTo\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @description\n     * Common oparation for set/goTo/goFrom/goFromTo methods.\n     * It is the method that updates the internal store\n     */\n    doAction(data, props, obj) {\n        this.values = mergeArray(data, this.values);\n        const { reverse, immediate, immediateNoPromise } =\n            this.mergeProps(props);\n\n        if (valueIsBooleanAndTrue(reverse, 'reverse'))\n            this.values = setReverseValues(obj, this.values);\n\n        this.values = setRelative(this.values, this.relative);\n\n        if (valueIsBooleanAndTrue(immediate, 'immediate ')) {\n            this.isActive = false;\n            this.values = setFromCurrentByTo(this.values);\n            return Promise.resolve();\n        }\n\n        if (valueIsBooleanAndTrue(immediateNoPromise, 'immediateNoPromise')) {\n            this.isActive = false;\n            this.values = setFromCurrentByTo(this.values);\n            return;\n        }\n\n        if (!this.isActive) {\n            this.promise = new Promise((res, reject) => {\n                this.startRaf(res, reject);\n            });\n        }\n\n        if (this.promise) return this.promise;\n    }\n\n    /**\n     * @description\n     * Get current values, If the single value is a function it returns the result of the function.\n     *\n     * @return {import('../utils/tweenAction/type.js').valueToparseType} current value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myLerp.get();\n     * ```\n     */\n    get() {\n        return getValueObj(this.values, 'currentValue');\n    }\n\n    /**\n     * @description\n     * Get initial values, If the single value is a function it returns the result of the function.\n     *\n     * @return {import('../utils/tweenAction/type.js').valueToparseType} initial value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myLerp.getIntialData();\n     * ```\n     */\n    getInitialData() {\n        return getValueObj(this.initialData, 'currentValue');\n    }\n\n    /**\n     * @description\n     * Get from values, If the single value is a function it returns the result of the function.\n     *\n     * @return {import('../utils/tweenAction/type.js').valueToparseType} from value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myLerp.getFrom();\n     * ```\n     */\n    getFrom() {\n        return getValueObj(this.values, 'fromValue');\n    }\n\n    /**\n     * @description\n     * Get to values, If the single value is a function it returns the result of the function.\n     *\n     * @return {Object} to value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myLerp.getTo();\n     * ```\n     */\n    getTo() {\n        return getValueObj(this.values, 'toValue');\n    }\n\n    /**\n     * @description\n     * Get From values, if the single value is a function it returns the same function.\n     *\n     * @return {Object} from value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myLerp.getFromNativeType();\n     * ```\n     */\n    getFromNativeType() {\n        return getValueObjFromNative(this.values);\n    }\n\n    /**\n     * @description\n     * Get To values, if the single value is a function it returns the same function.\n     *\n     * @return {Object} to value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myLerp.getToNativeType();\n     * ```\n     */\n    getToNativeType() {\n        return getValueObjToNative(this.values);\n    }\n\n    /**\n     * @description\n     * Get tween type\n     *\n     * @return {string} tween type\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const type = myLerp.getType();\n     * ```\n     */\n    getType() {\n        return 'LERP';\n    }\n\n    /**\n     * @description\n     * Get univoque Id\n     *\n     * @return {string} Univoque Id\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const type = myLerp.getId();\n     * ```\n     */\n    getId() {\n        return this.uniqueId;\n    }\n\n    /**\n     * @param  {number} velocity - New velocity value\n     *\n     * @example\n     * ```javascript\n     * myLerp.updateVelocity(0.1)\n     *\n     *\n     * ```\n     *\n     * @description\n     * Update velocity value.\n       `default value is 0.06`,the closer the value is to 1, the faster the transition will be.\n        The change will be persistent\n     */\n    updateVelocity(velocity) {\n        this.velocity = lerpVelocityIsValid(velocity);\n        this.defaultProps = mergeDeep(this.defaultProps, {\n            velocity: this.velocity,\n        });\n    }\n\n    /**\n     * @param  {number} precision - New velocity value\n     *\n     * @example\n     * ```javascript\n     * myLerp.updatePrecision(0.5)\n     *\n     *\n     * ```\n     *\n     * @description\n     * Update precision value.\n       When the calculated value is less than this number, the transition will be considered completed, the smaller the value, the greater the precision of the calculation, the `default value is 0.01`.\n       The change will be persistent\n     */\n    updatePrecision(precision) {\n        this.velocity = lerpPrecisionIsValid(precision);\n        this.defaultProps = mergeDeep(this.defaultProps, {\n            precision: this.precision,\n        });\n    }\n\n    /**\n     * @param {() => void} cb - callback function.\n     * @return {() => void} unsubscribe callback.\n     *\n     * @example\n     * ```javascript\n     * //Single DOM element\n     * const unsubscribe = myLerp.subscribe(({ x,y... }) => {\n     *      domEl.style.prop = `...`\n     * })\n     * unsubscribe()\n     *\n     *\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return myLerp.subscribe(({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Callback that returns updated values ready to be usable, it is advisable to use it for single elements, although it works well on a not too large number of elements (approximately 100-200 elements) for large staggers it is advisable to use the subscribeCache method .\n     */\n    subscribe(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = setCallBack(\n            cb,\n            this.callback\n        );\n        this.callback = arrayOfCallbackUpdated;\n        return () => (this.callback = unsubscribeCb(this.callback));\n    }\n\n    /**\n     * Support callback to asyncTimeline.\n     * Callback to manage the departure of tweens in a timeline. If a delay is applied to the tween and before the delay ends the timeline pauses the tween at the end of the delay will automatically pause.\n     * Add callback to start in pause to stack\n     *\n     * @param  {() => void} cb cal function\n     * @return {() => void} unsubscribe callback\n     *\n     */\n    onStartInPause(cb) {\n        const { arrayOfCallbackUpdated } = setCallBack(\n            cb,\n            this.callbackStartInPause\n        );\n        this.callbackStartInPause = arrayOfCallbackUpdated;\n        return () => (this.callbackStartInPause = []);\n    }\n\n    /**\n     * @param {() => void} cb - callback function.\n     * @return {() => void} unsubscribe callback.\n     *\n     * @example\n     * ```javascript\n     * //Single DOM element\n     * const unsubscribe = myLerp.onComplete(({ x,y... }) => {\n     *      domEl.style.prop = `...`\n     * })\n     * unsubscribe()\n     *\n     *\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return myLerp.onComplete(({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n       Similar to subscribe this callBack is launched when the data calculation stops (when the timeline ends or the scroll trigger is inactive).\n       Useful for applying a different style to an inactive element.\n       A typical example is to remove the teansform3D property:\n\n     * @example\n     * ```javascript\n     * // Use transform3D while item is active\n     * myLerp.subscribe(({x}) => {\n     *      domEl.style.transform = ` transform3D(0,0,0) translateX(${x}px)`\n     * })\n     *\n     * // Remove transform3D when item is inactive\n     * myLerp.onComplete(({x}) => {\n     *      domEl.style.transform = `translateX(${x}px)`\n     * })\n     * ```\n     */\n    onComplete(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = setCallBack(\n            cb,\n            this.callbackOnComplete\n        );\n        this.callbackOnComplete = arrayOfCallbackUpdated;\n\n        return () =>\n            (this.callbackOnComplete = unsubscribeCb(this.callbackOnComplete));\n    }\n\n    /**\n     * @param {(Object|HTMLElement)} item\n     * @param {function(any):void} fn - callback function.\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     *```javascript\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return myLerp.subscribeCache(item, ({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Callback that returns updated values ready to be usable, specific to manage large staggers.\n     */\n    subscribeCache(item, fn) {\n        const { arrayOfCallbackUpdated, unsubscribeCb, unsubscribeCache } =\n            setCallBackCache(\n                item,\n                fn,\n                this.callbackCache,\n                this.unsubscribeCache\n            );\n\n        this.callbackCache = arrayOfCallbackUpdated;\n        this.unsubscribeCache = unsubscribeCache;\n        return () => (this.callbackCache = unsubscribeCb(this.callbackCache));\n    }\n\n    /**\n     * @description\n     * Destroy tween\n     */\n    destroy() {\n        if (this.promise) this.stop();\n        this.callbackOnComplete = [];\n        this.callbackStartInPause = [];\n        this.callback = [];\n        this.callbackCache = [];\n        this.values = [];\n        this.promise = undefined;\n        this.unsubscribeCache.forEach((unsubscribe) => unsubscribe());\n        this.unsubscribeCache = [];\n    }\n}\n", "// @ts-check\n\nimport { mobCore } from '../../../../mobCore';\n\n/**\n * @param {Object} obj\n * @param {number} obj.each\n * @param {boolean} obj.useStagger\n * @param {boolean} obj.isLastDraw\n * @param {{[key:string]: number}} obj.callBackObject\n * @param {Array.<import('./type').callbackObject<Function>>} obj.callback\n * @param {Array.<import('./type').callbackObject<string>>} obj.callbackCache\n * @param {Array.<import('./type').callbackObject<Function>>} obj.callbackOnStop\n * @returns void\n *\n * @description\n * Fire callback while Running\n */\nexport const syncCallback = ({\n    each,\n    useStagger,\n    isLastDraw,\n    callBackObject,\n    callback,\n    callbackCache,\n    callbackOnStop,\n}) => {\n    if (each === 0 || useStagger === false) {\n        mobCore.useFrame(() => {\n            callback.forEach(({ cb }) => cb(callBackObject));\n        });\n\n        mobCore.useFrame(() => {\n            callbackCache.forEach(({ cb }) => {\n                mobCore.useCache.fireObject({ id: cb, obj: callBackObject });\n            });\n        });\n    } else {\n        // Stagger\n        callback.forEach(({ cb, frame }) => {\n            mobCore.useFrameIndex(() => cb(callBackObject), frame);\n        });\n\n        callbackCache.forEach(({ cb, frame }) => {\n            mobCore.useCache.update({ id: cb, callBackObject, frame });\n        });\n    }\n\n    if (isLastDraw) {\n        if (each === 0 || useStagger === false) {\n            // No stagger, run immediately\n            mobCore.useFrame(() => {\n                callbackOnStop.forEach(({ cb }) => cb(callBackObject));\n            });\n        } else {\n            // Stagger\n            callbackOnStop.forEach(({ cb, frame }) => {\n                mobCore.useFrameIndex(() => cb(callBackObject), frame + 1);\n            });\n        }\n    }\n};\n", "// @ts-check\n\nimport { getRoundedValue } from '../../animation/utils/animationUtils.js';\nimport { setStagger } from '../utils/stagger/setStagger.js';\nimport {\n    getStaggerFromProps,\n    getStaggerArray,\n} from '../utils/stagger/staggerUtils.js';\nimport {\n    setCallBack,\n    setCallBackCache,\n} from '../utils/callbacks/setCallback.js';\nimport { syncCallback } from '../utils/callbacks/syncCallback.js';\nimport { goToUtils } from '../utils/tweenAction/actions.js';\nimport { staggerIsOutOfRangeWarning } from '../utils/warning.js';\nimport {\n    durationIsValid,\n    easeParallaxTweenIsValid,\n} from '../utils/tweenAction/tweenValidation.js';\nimport { mobCore } from '../../../mobCore/index.js';\nimport { getValueObj } from '../utils/tweenAction/getValues.js';\nimport { STAGGER_DEFAULT_INDEX_OBJ } from '../utils/stagger/staggerCostant.js';\n\nexport default class ParallaxTween {\n    /**\n     * @param {import('./type.js').parallaxTweenType} data\n     *\n     * @example\n     * ```js\n     * const myParallaxTween = new ParallaxTween({\n     *   from: Object.<string, number>,\n     *   to: Object.<string, number>,\n     *   ease: [ String ],\n     *   stagger:{\n     *      each: [ Number ],\n     *      from: [ Number|String|{x:number,y:number} ],\n     *      grid: {\n     *          col: [ Number ],\n     *          row: [ Number ],\n     *          direction: [ String ]\n     *      },\n     *   },\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Simplified tween specific to be used with scrollTrigger as an alternative to the more complex sequencer, ParallaxTween requires only one mutation step (from / to).\n     *\n     * Available methods:\n     * ```js\n     * myParallaxTween.subscribe()\n     * myParallaxTween.subscribeCache()\n     * myParallaxTween.onStop()\n     *\n     * ```\n     */\n    constructor(data) {\n        /**\n         * @private\n         * @type {Function}\n         */\n        this.ease = easeParallaxTweenIsValid(data?.ease);\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.duration = durationIsValid(data?.duration);\n\n        /**\n         * @private\n         * @type {import('../utils/stagger/type.js').staggerObject}\n         */\n        this.stagger = getStaggerFromProps(data);\n\n        /**\n         * @private\n         * @type {import('./type.js').parallaxTweenValue[]}\n         */\n        this.values = [];\n\n        /**\n         * @private\n         * @type{import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callbackOnStop = [];\n\n        /**\n         * @private\n         * @type{import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callback = [];\n\n        /**\n         * @private\n         * @type{import('../utils/callbacks/type.js').callbackObject<string>[]}\n         */\n        this.callbackCache = [];\n\n        /**\n         * @private\n         * @type {Array<() => void>}\n         */\n        this.unsubscribeCache = [];\n\n        /**\n         * @private\n         * @type {string}\n         */\n        this.type = 'parallaxTween';\n\n        /**\n         * Set initial store data if defined in constructor props\n         * If not use setData methods\n         */\n        const props = data?.from || null;\n        if (props) this.setData(props);\n\n        if (data?.to) {\n            this.goTo(data.to);\n        }\n    }\n\n    /**\n     * @description\n     * Inzialize stagger array\n     *\n     * @returns {void}\n     */\n    inzializeStagger() {\n        if (\n            this.stagger.each > 0 &&\n            (this.callbackCache.length > 0 || this.callback.length > 0)\n        ) {\n            const cb = getStaggerArray(this.callbackCache, this.callback);\n\n            if (this.stagger.grid.col > cb.length) {\n                staggerIsOutOfRangeWarning(cb.length);\n                return;\n            }\n\n            const { staggerArray, staggerArrayOnComplete } = setStagger({\n                arrayDefault: cb,\n                arrayOnStop: this.callbackOnStop,\n                stagger: this.stagger,\n                slowlestStagger: STAGGER_DEFAULT_INDEX_OBJ, //sequencer doesn't support fastestStagger\n                fastestStagger: STAGGER_DEFAULT_INDEX_OBJ, //sequencer doesn't support fastestStagger\n            });\n\n            if (this.callbackCache.length > this.callback.length) {\n                this.callbackCache = staggerArray;\n            } else {\n                this.callback = staggerArray;\n            }\n            this.callbackOnStop = staggerArrayOnComplete;\n        }\n    }\n\n    /**\n     * @param {object} obj\n     * @param {number} obj.partial - render at specific partial between 0 and duration\n     * @param {boolean} obj.isLastDraw - use the callback defined by the onStop method\n     *\n     * @example\n     * ```js\n     * myParallaxTween.draw(\n     *      partial: 200,\n     *      isLastDraw: true,\n     * );\n     *\n     *\n     * ```\n     * @description\n     */\n    draw({ partial, isLastDraw }) {\n        this.values = [...this.values].map((item) => {\n            const { toIsFn, toFn, toValue, fromIsFn, fromFn, fromValue } = item;\n\n            const toValueParsed = toIsFn ? toFn() : toValue;\n            const fromValueParsed = fromIsFn ? fromFn() : fromValue;\n            const toValFinal = toValueParsed - fromValueParsed;\n\n            const currentValue = this.ease(\n                partial,\n                fromValueParsed,\n                toValFinal,\n                this.duration\n            );\n\n            return {\n                ...item,\n                currentValue: getRoundedValue(currentValue),\n            };\n        });\n\n        // Prepare an obj to pass to the callback\n        const callBackObject = getValueObj(this.values, 'currentValue');\n\n        mobCore.useNextTick(() => {\n            // Fire callback\n            syncCallback({\n                each: this.stagger.each,\n                useStagger: true,\n                isLastDraw,\n                callBackObject,\n                callback: this.callback,\n                callbackCache: this.callbackCache,\n                callbackOnStop: this.callbackOnStop,\n            });\n        });\n    }\n\n    /**\n     *\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<number>} obj Initial data Object\n     * @returns {this} The instance on which this method was called.\n     */\n    setData(obj) {\n        const valToArray = Object.entries(obj);\n\n        this.values = valToArray.map((item) => {\n            const [prop, value] = item;\n            return {\n                prop: prop,\n                toValue: value,\n                toValProcessed: value,\n                fromValue: value,\n                currentValue: value,\n                settled: false,\n\n                /**\n                 * Only for type check.\n                 */\n                fromFn: () => 0,\n                toFn: () => 0,\n            };\n        });\n\n        return this;\n    }\n\n    /**\n     * @private\n     *\n     * Return the new array maeged with main array created in setData\n     *\n     * @param  {import('../utils/tweenAction/type.js').goToParamsType[]} newData new datato merge\n     * @return {void}\n     */\n    mergeData(newData) {\n        this.values = this.values.map((item) => {\n            const itemToMerge = newData.find((newItem) => {\n                return newItem.prop === item.prop;\n            });\n\n            // If exist merge\n            return itemToMerge ? { ...item, ...itemToMerge } : { ...item };\n        });\n    }\n\n    /**\n     * @private\n     *\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj to values\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```js\n     * myParallaxTween.goTo(\n     *     { string: number|function, ... }\n     * );\n     *\n     *\n     * ```\n     * @description\n     * Transform some properties of your choice from the `current value` to the `entered value`.\n     * The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change in real time as the result of the function changes\n     */\n    goTo(obj) {\n        const data = goToUtils(obj);\n        this.mergeData(data);\n        return this;\n    }\n\n    /**\n     * @param {() => void} cb - callback function.\n     * @return {() => void} unsubscribe callback.\n     *\n     * @example\n     * ```js\n     * //Single DOM element\n     * const unsubscribe = myParallaxTween.subscribe(({ x,y... }) => {\n     *      domEl.style.prop = `...`\n     * })\n     * unsubscribe()\n     *\n     *\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return myParallaxTween.subscribe(({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Callback that returns updated values ready to be usable, it is advisable to use it for single elements, although it works well on a not too large number of elements (approximately 100-200 elements) for large staggers it is advisable to use the subscribeCache method .\n     */\n    subscribe(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = setCallBack(\n            cb,\n            this.callback\n        );\n\n        this.callback = arrayOfCallbackUpdated;\n        return () => (this.callback = unsubscribeCb(this.callback));\n    }\n\n    /**\n     * @param {() => void} cb - callback function.\n     * @return {() => void} unsubscribe callback.\n     *\n     * @example\n     * ```js\n     * //Single DOM element\n     * const unsubscribe = myParallaxTween.onStop(({ x,y... }) => {\n     *      domEl.style.prop = `...`\n     * })\n     * unsubscribe()\n     *\n     *\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return myParallaxTween.onStop(({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Similar to subscribe this callBack is launched when the data calculation stops (when the timeline ends or the scroll trigger is inactive).\n     * Useful for applying a different style to an inactive element.\n     * A typical example is to remove the teansform3D property:\n     *\n     * @example\n     * ```js\n     * // Use transform3D while item is active\n     * mySequencer.subscribe(({x}) => {\n     *      domEl.style.transform = ` transform3D(0,0,0) translateX(${x}px)`\n     * })\n     *\n     * // Remove transform3D when item is inactive\n     * mySequencer.onStop(({x}) => {\n     *      domEl.style.transform = `translateX(${x}px)`\n     * })\n     * ```\n     */\n    onStop(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = setCallBack(\n            cb,\n            this.callbackOnStop\n        );\n        this.callbackOnStop = arrayOfCallbackUpdated;\n\n        return () => (this.callbackOnStop = unsubscribeCb(this.callbackOnStop));\n    }\n\n    /**\n     * @param {(Object|HTMLElement)} item\n     * @param {function(any):void} fn - callback function.\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     *```js\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return myParallaxTween.subscribeCache(item, ({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Callback that returns updated values ready to be usable, specific to manage large staggers.\n     */\n    subscribeCache(item, fn) {\n        const { arrayOfCallbackUpdated, unsubscribeCb, unsubscribeCache } =\n            setCallBackCache(\n                item,\n                fn,\n                this.callbackCache,\n                this.unsubscribeCache\n            );\n\n        this.callbackCache = arrayOfCallbackUpdated;\n        this.unsubscribeCache = unsubscribeCache;\n        return () => (this.callbackCache = unsubscribeCb(this.callbackCache));\n    }\n\n    /**\n     * @description\n     * Get duration\n     * @return {number}\n     */\n    getDuration() {\n        return this.duration;\n    }\n\n    /**\n     * @description\n     * Get tween type - 'parallaxTween'\n     */\n    getType() {\n        return this.type;\n    }\n\n    /**\n     * @description\n     * Destroy sequencer\n     */\n    destroy() {\n        this.values = [];\n        this.callbackOnStop = [];\n        this.callback = [];\n        this.callbackCache = [];\n        this.unsubscribeCache.forEach((unsubscribe) => unsubscribe());\n        this.unsubscribeCache = [];\n    }\n}\n", "// @ts-check\n\n/**\n * @description\n *\n * Support class for grouping multiple sequencers.\n * Very useful when generating sequencers dynamically, such as through the use of a createStagger.\n * The following example uses a timeline but the same can be done using a scrollTrigger\n *\n *\n * @example\n *\n * ```javascript\n * cont masterSequencer = new HandleMasterSequencer();\n * const staggers = mobbu.createStaggers({})\n * staggers.forEach(({ item, start, end, index }) => {\n *     const sequencer = mobbu\n *         .createSequencer({ ... })\n *         .goTo({ ... }, { start, end ...});\n *     sequencer.subscribe(({ ... }) => { ... });\n *     masterSequencer.add(sequencer);\n * });\n * const timeline = mobbu.createSyncTimeline({}).add(masterSequencer)\n * ```\n */\nexport default class HandleMasterSequencer {\n    constructor() {\n        /**\n         * @trype {string}\n         */\n        this.type = 'sequencer';\n\n        /**\n         * @type {import(\"./type\").masterSequencerItem[]}\n         */\n        this.children = [];\n    }\n\n    /**\n     * @param {object} obj\n     * @param {number} obj.partial\n     * @param {boolean} obj.isLastDraw\n     * @param {boolean} obj.useFrame\n     *\n     * @returns {void}\n     */\n    draw({ partial, isLastDraw, useFrame }) {\n        this.children.forEach((item) => {\n            item.draw({ partial, isLastDraw, useFrame });\n        });\n    }\n\n    /**\n     * @param {import(\"./type\").masterSequencerItem} item\n     * @returns {void}\n     */\n    add(item) {\n        this.children.push(item);\n    }\n\n    /**\n     * @returns {void}\n     */\n    inzializeStagger() {\n        this.children.forEach((item) => {\n            item.inzializeStagger();\n        });\n    }\n\n    /**\n     * @param {number} val\n     * @returns {void}\n     */\n    setDuration(val) {\n        this.children.forEach((item) => {\n            item.setDuration(val);\n        });\n    }\n\n    /**\n     * @returns {number}\n     */\n    getDuration() {\n        return this.children.length > 0 ? this.children[0].getDuration() : 0;\n    }\n\n    /**\n     * @param {number} val\n     * @returns {void}\n     */\n    setStretchFactor(val) {\n        this.children.forEach((item) => {\n            item.setStretchFactor(val);\n        });\n    }\n\n    /**\n     * @returns {Array<string>}\n     */\n    getLabels() {\n        return this.children.flatMap((item) => item.getLabels());\n    }\n\n    /**\n     * @returns {void}\n     */\n    resetLastValue() {\n        this.children.forEach((item) => item.resetLastValue());\n    }\n\n    /**\n     * @returns {void}\n     */\n    disableStagger() {\n        this.children.forEach((item) => {\n            item.disableStagger();\n        });\n    }\n\n    /**\n     * @returns {void}\n     */\n    cleanCachedId() {\n        this.children.forEach((item) => {\n            item.cleanCachedId();\n        });\n    }\n\n    /**\n     * @returns {string}\n     */\n    getType() {\n        return this.type;\n    }\n\n    /**\n     * @returns {void}\n     */\n    destroy() {\n        this.children.forEach((item) => {\n            item.destroy();\n        });\n        this.children = [];\n    }\n}\n", "// @ts-check\n\nimport { getTweenFn } from '../tween/tweenConfig.js';\nimport { dataTweenValueIsValid } from '../utils/tweenAction/tweenValidation.js';\nimport { dataTweenValueIsNotValidWarning } from '../utils/warning.js';\n\n/**\n * @param {import('../utils/tweenAction/type.js').valueToparseType} obj\n * @param {string|undefined} ease\n *\n * @returns {object}\n */\nexport const goToSyncUtils = (obj, ease) => {\n    return Object.keys(obj).map((item) => {\n        if (!dataTweenValueIsValid(obj[item])) {\n            dataTweenValueIsNotValidWarning(`${item}: ${obj[item]}`);\n            return {\n                prop: item,\n                toValue: 0,\n                ease: getTweenFn(ease),\n            };\n        }\n\n        return {\n            prop: item,\n            toValue: obj[item],\n            ease: getTweenFn(ease),\n        };\n    });\n};\n\n/**\n * @param {import('../utils/tweenAction/type.js').valueToparseType} obj\n * @param {string|undefined} ease\n *\n * @returns {object}\n */\nexport const goFromSyncUtils = (obj, ease) => {\n    return Object.keys(obj).map((item) => {\n        if (!dataTweenValueIsValid(obj[item])) {\n            dataTweenValueIsNotValidWarning(`${item}: ${obj[item]}`);\n            return {\n                prop: item,\n                fromValue: 0,\n                ease: getTweenFn(ease),\n            };\n        }\n\n        return {\n            prop: item,\n            fromValue: obj[item],\n            ease: getTweenFn(ease),\n        };\n    });\n};\n\n/**\n * @param {import('../utils/tweenAction/type.js').valueToparseType} fromObj\n * @param {import('../utils/tweenAction/type.js').valueToparseType} toObj\n * @param {string|undefined} ease\n *\n * @returns {object}\n */\nexport const goFromToSyncUtils = (fromObj, toObj, ease) => {\n    return Object.keys(fromObj).map((item) => {\n        if (\n            !dataTweenValueIsValid(toObj[item]) ||\n            !dataTweenValueIsValid(fromObj[item])\n        ) {\n            dataTweenValueIsNotValidWarning(\n                `${item}: ${toObj[item]} || ${item}: ${fromObj[item]}`\n            );\n            return {\n                prop: item,\n                fromValue: 0,\n                toValue: 0,\n                ease: getTweenFn(ease),\n            };\n        }\n\n        return {\n            prop: item,\n            fromValue: fromObj[item],\n            toValue: toObj[item],\n            ease: getTweenFn(ease),\n        };\n    });\n};\n", "// @ts-check\n\n/**\n * @type {import(\"./type\").directionSingleObject}\n */\nexport const directionConstant = {\n    BACKWARD: 'backward',\n    FORWARD: 'forward',\n    NONE: 'none',\n};\n", "// @ts-check\n\nexport const propToSet = {\n    fromValue: {\n        get: 'toValue',\n        set: 'fromValue',\n    },\n    toValue: {\n        get: 'toValue',\n        set: 'toValue',\n    },\n};\n\n/**\n * @param {import(\"./type\").sequencerRow[]} arr\n * @param {number} index\n * @param {string} prop\n * @param {import(\"./type\").propToFind} propToFind\n *\n * @returns {import(\"./type\").sequencerRow[]|undefined}\n */\nexport const getFirstValidValueBack = (arr, index, prop, propToFind) => {\n    return arr\n        .slice(0, index)\n        .reduceRight((previous, { values: valuesForward }) => {\n            /**\n             * Find active prop if exist\n             */\n            const result = valuesForward.find(\n                ({ prop: propToCompare, active }) => {\n                    return active && propToCompare === prop;\n                }\n            );\n\n            /**\n             * Return only first valid value then skip the successive\n             * we return the value only when the accumulatore is null, so the first time we fond a value\n             */\n            return result && !previous\n                ? result[propToSet[propToFind].get]\n                : previous;\n\n            // eslint-disable-next-line unicorn/no-useless-undefined\n        }, undefined);\n};\n\n/**\n * @param {import(\"./type\").sequencerRow[]} arr\n * @param {number} index\n * @param {string} prop\n * @param {number} partial\n *\n * @returns {boolean}\n */\nexport const checkIsLastUsableProp = (arr, index, prop, partial) => {\n    return arr.slice(index + 1, arr.length).reduce((p, { start, values }) => {\n        const nextActiveItem = values.find((nextItem) => {\n            return nextItem.prop === prop && nextItem.active;\n        });\n\n        return nextActiveItem && start <= partial ? false : p;\n    }, true);\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport { getRoundedValue } from '../utils/animationUtils';\nimport { checkIsLastUsableProp } from './reduceFunction';\n\n/**\n * @param {Object} param\n * @param {import(\"./type\").sequencerRow[]} param.timeline\n * @param {import(\"./type\").sequencerValue[]} param.valuesState\n * @param {number} param.partial\n * @return {import(\"./type\").sequencerValue[]}\n */\nexport const sequencerGetValusOnDraw = ({ timeline, valuesState, partial }) => {\n    /**\n     * @type {import('./type').sequencerValue[]}\n     */\n    return valuesState.map((valueItem) => {\n        /**\n         * @type {{toValue:(number|function), fromValue:(number|function), start:number, end:number, ease:function}|{}}\n         */\n        const item = timeline.reduce(\n            (previous, { start, end, values }, index) => {\n                /**\n                 * Find current valueState item in current timeline node.\n                 */\n                const currentValuesItem = values.find(\n                    ({ prop }) => prop === valueItem.prop\n                );\n\n                /**\n                 * Check if item is settled or not active or previous value was funded.\n                 */\n                if (\n                    !currentValuesItem ||\n                    !currentValuesItem?.active ||\n                    Object.keys(previous).length > 0 ||\n                    valueItem.settled\n                )\n                    return previous;\n\n                const { prop, toValue, fromValue, ease } = currentValuesItem;\n\n                /**\n                 * Check if in the next step of timeline the same prop is active an start before partial\n                 */\n                const isLastUsableProp = checkIsLastUsableProp(\n                    timeline,\n                    index,\n                    prop,\n                    partial\n                );\n\n                /**\n                 * Id the prop is settled or is inactive skip\n                 * Check if in the next step of timeline the same prop is active an start before partial\n                 */\n                if (!isLastUsableProp) return previous;\n\n                return {\n                    toValue,\n                    fromValue,\n                    start,\n                    end,\n                    ease,\n                };\n            },\n            {}\n        );\n\n        /**\n         * Prop not found\n         */\n        if (Object.keys(item).length === 0) return valueItem;\n\n        // @ts-ignore\n        const { start, end, toValue, fromValue, ease } = item;\n\n        const newToValue = mobCore.checkType(Number, toValue)\n            ? toValue\n            : // @ts-ignore\n              toValue();\n\n        const newFromValue = mobCore.checkType(Number, fromValue)\n            ? fromValue\n            : // @ts-ignore\n              fromValue();\n\n        /**\n         * At least we get the current value\n         */\n        const duration = end - start;\n        const inactivePosition = partial < end ? newFromValue : newToValue;\n\n        const newCurrentValue =\n            partial >= start && partial <= end\n                ? ease(\n                      partial - start,\n                      newFromValue,\n                      newToValue - newFromValue,\n                      duration\n                  )\n                : inactivePosition;\n\n        const newCurrentValueSanitize = Number.isNaN(newCurrentValue)\n            ? inactivePosition\n            : newCurrentValue;\n\n        const currentValueRoudned = getRoundedValue(newCurrentValueSanitize);\n\n        return {\n            ...valueItem,\n            currentValue: currentValueRoudned,\n            settled: true,\n        };\n    });\n};\n", "import { getFirstValidValueBack, propToSet } from './reduceFunction';\n\n/**\n * @description\n * setPropFromAncestor\n * Add/Update toValue/fromValue (propTofind) in case a new row of type goTo/goFrom is inserted.\n * Update only active item in row.\n * After reorder the timeline (start/priority) update each value with the nearest previous value.\n *\n * goFromTo has both toValue and fromValue, so skip\n *\n * @param  {Object} param\n * @param  {import(\"./type\").sequencerRow[]} param.timeline\n * @param  {string[]} param.activeProp current props to update\n */\nexport const setPropFromAncestor = ({ timeline, activeProp }) => {\n    /**\n     * For each row.\n     */\n    return timeline.map((item, index) => {\n        const { values, propToFind } = item;\n\n        /**\n         * Update each active prop used in current row.\n         */\n        const newValues = values.map((valueItem) => {\n            const { prop, active } = valueItem;\n\n            if (\n                !active ||\n                !activeProp.includes(prop) ||\n                !propToFind ||\n                propToFind.length === 0\n            )\n                return valueItem;\n\n            /**\n             * Goback into the array and find ancestor value.\n             */\n            const previousValidValue = getFirstValidValueBack(\n                timeline,\n                index,\n                prop,\n                propToFind\n            );\n\n            // If we doesn't found a value skip\n            if (!previousValidValue) {\n                return valueItem;\n            }\n\n            const newValueItem = {\n                ...valueItem,\n                [propToSet[propToFind].set]: previousValidValue,\n            };\n\n            return newValueItem;\n        });\n\n        return {\n            ...item,\n            values: newValues,\n        };\n    });\n};\n", "/**\n * @private\n *\n * @param {import('./type.js').sequencerRow[]} arr\n * @param {string} prop\n * @returns {import('./type.js').sequencerRow[]} arr\n *\n * @description\n * Sorts the array by the lowest start value\n */\nexport const orderByProp = (arr, prop) => {\n    return arr.sort((a, b) => {\n        return a?.[prop] - b?.[prop];\n    });\n};\n", "// @ts-check\n\nimport { orderByProp } from './orderRow';\n\n/**\n * @description\n * Update timeline and order by start value and priority.\n *\n * @param {Object} param\n * @param {import(\"./type\").sequencerRow[]} param.timeline\n * @param {import(\"./type\").sequencerValue[]} param.values\n * @param {number} param.start\n * @param {number} param.end\n * @param {number} param.duration\n * @param {import('./type').propToFind} param.propToFind\n * @return {import('./type').sequencerRow[]}\n */\nexport const insertNewRow = ({\n    timeline,\n    values,\n    start,\n    end,\n    duration,\n    propToFind,\n}) => {\n    const priority = timeline.length === 0 ? 0 : 1;\n\n    /**\n     * Add new row\n     */\n    const newTimeline = [\n        ...timeline,\n        {\n            values,\n            start: start ?? 0,\n            end: end ?? duration,\n            priority,\n            propToFind,\n        },\n    ];\n\n    /**\n     * Ordr by start\n     */\n    const timelineOrderByStart = orderByProp(newTimeline, 'start');\n\n    /**\n     * Order by priority\n     */\n    return orderByProp(timelineOrderByStart, 'priority');\n};\n", "// @ts-check\n\n/**\n * @param {Object} param\n * @param {Array} param.data\n * @param {import(\"./type\").sequencerValue[]} param.values\n * @return {import(\"./type\").sequencerValue[]}\n */\nexport const mergeNewValues = ({ data, values }) => {\n    return values.map((item) => {\n        const itemToMerge = data.find((newItem) => {\n            return newItem.prop === item.prop;\n        });\n\n        // If exist merge\n        return itemToMerge\n            ? { ...item, ...itemToMerge, active: true }\n            : {\n                  prop: item.prop,\n                  active: false,\n              };\n    });\n};\n", "// @ts-check\n\nimport { getTweenFn } from '../tween/tweenConfig.js';\nimport { compareKeys, getRoundedValue } from '../utils/animationUtils.js';\nimport { setStagger } from '../utils/stagger/setStagger.js';\nimport {\n    getStaggerFromProps,\n    getStaggerArray,\n} from '../utils/stagger/staggerUtils.js';\nimport {\n    setCallBack,\n    setCallBackCache,\n} from '../utils/callbacks/setCallback.js';\nimport { syncCallback } from '../utils/callbacks/syncCallback.js';\nimport {\n    compareKeysWarning,\n    staggerIsOutOfRangeWarning,\n    syncTimelineAddFnWarning,\n    syncTimelineAddTimeWarning,\n} from '../utils/warning.js';\nimport {\n    goToSyncUtils,\n    goFromSyncUtils,\n    goFromToSyncUtils,\n} from './syncActions.js';\nimport {\n    durationIsValid,\n    easeIsValid,\n    initialDataPropValidate,\n    sequencerRangeValidate,\n} from '../utils/tweenAction/tweenValidation.js';\nimport { handleSetUp } from '../../setup.js';\nimport { mobCore } from '../../../mobCore/index.js';\nimport { directionConstant } from '../utils/timeline/timelineConstant.js';\nimport { getValueObj } from '../utils/tweenAction/getValues.js';\nimport { STAGGER_DEFAULT_INDEX_OBJ } from '../utils/stagger/staggerCostant.js';\nimport { sequencerGetValusOnDraw } from './getValuesOnDraw.js';\nimport { setPropFromAncestor } from './setPropFromAncestor.js';\nimport { insertNewRow } from './insertNewRow.js';\nimport { mergeNewValues } from './mergeNewValues.js';\n\nexport default class HandleSequencer {\n    /**\n     * @param {import('./type.js').sequencerProps} data\n     *\n     * @example\n     * ```javascript\n     * const mySequencer = new HandleSequencer({\n     *   data: Object.<string, number>,\n     *   duration: [ Number ],\n     *   ease: [ String ],\n     *   stagger:{\n     *      each: [ Number ],\n     *      from: [ Number|String|{x:number,y:number} ],\n     *      grid: {\n     *          col: [ Number ],\n     *          row: [ Number ],\n     *          direction: [ String ]\n     *      },\n     *   },\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     * mySequencer.goTo()\n     * mySequencer.goFrom()\n     * mySequencer.goFromTo()\n     * mySequencer.add()\n     * mySequencer.label()\n     * mySequencer.subscribe()\n     * mySequencer.subscribeCache()\n     * mySequencer.onStop()\n     *\n     * ```\n     */\n    constructor(data) {\n        /**\n         * Basic array with all the propierties, is created in setData methods\n         * in draw methods currentValue and settled will be updated for each prop\n         *\n         * it is used as a mock to create the array to add to the timeline\n         * @private\n         * @type {import('./type.js').sequencerValue[]}\n         */\n        this.values = [];\n\n        /**\n         * Timeline array\n         *\n         * @private\n         * @type {import('./type.js').sequencerRow[]}\n         */\n        this.timeline = [];\n\n        /**\n         * @private\n         * @type {import('./type.js').labelType[]}\n         */\n        this.labels = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callback = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<string>[]}\n         */\n        this.callbackCache = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callbackOnStop = [];\n\n        /**\n         * @private\n         * @type {import('./type.js').addType[]}\n         */\n        this.callbackAdd = [];\n\n        /**\n         * @private\n         * @type {Array<() => void>}\n         */\n        this.unsubscribeCache = [];\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.duration = durationIsValid(data?.duration);\n\n        /**\n         * @private\n         * @type {string}\n         */\n        this.type = 'sequencer';\n\n        /**\n         * @private\n         * @type {import('./type.js').sequencerDefault}\n         */\n        this.defaultProp = {\n            start: 0,\n            end: this.duration,\n            ease: easeIsValid(data?.ease),\n        };\n\n        /**\n         * @private\n         */\n        this.firstRun = true;\n\n        /**\n         * @private\n         */\n        this.forceAddFnAtFirstRun = true;\n\n        /**\n         * @private\n         * @type {import('../utils/timeline/type.js').directionType}\n         */\n        this.direction = 'none';\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.lastPartial = 0;\n\n        /**\n         * @private\n         * @type {import('../utils/timeline/type.js').directionType}\n         */\n        this.lastDirection = 'none';\n\n        /**\n         * @private\n         * @type {import('../utils/stagger/type.js').staggerObject}\n         */\n        this.stagger = getStaggerFromProps(data);\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.useStagger = true;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.staggerIsReady = false;\n\n        /**\n         * Set initial store data if defined in constructor props\n         * If not use setData methods\n         */\n        const props = data?.data || null;\n        if (props) this.setData(props);\n    }\n\n    /**\n     * @description\n     * Inzialize stagger array\n     */\n    inzializeStagger() {\n        if (this.staggerIsReady) return;\n\n        if (\n            this.stagger.each > 0 &&\n            (this.callbackCache.length > 0 || this.callback.length > 0)\n        ) {\n            const cb = getStaggerArray(this.callbackCache, this.callback);\n\n            if (this.stagger.grid.col > cb.length) {\n                staggerIsOutOfRangeWarning(cb.length);\n                return;\n            }\n\n            const { staggerArray, staggerArrayOnComplete } = setStagger({\n                arrayDefault: cb,\n                arrayOnStop: this.callbackOnStop,\n                stagger: this.stagger,\n                slowlestStagger: STAGGER_DEFAULT_INDEX_OBJ, //sequencer doesn't support fastestStagger\n                fastestStagger: STAGGER_DEFAULT_INDEX_OBJ, //sequencer doesn't support fastestStagger\n            });\n\n            if (this.callbackCache.length > this.callback.length) {\n                this.callbackCache = staggerArray;\n            } else {\n                this.callback = staggerArray;\n            }\n            this.callbackOnStop = staggerArrayOnComplete;\n        }\n\n        this.staggerIsReady = true;\n    }\n\n    /**\n     * @param {object} obj\n     * @param {number} obj.partial\n     * @param {boolean} obj.isLastDraw\n     * @param {boolean} obj.useFrame\n     * @param {import('../utils/timeline/type.js').directionType} obj.direction\n     *\n     * @example\n     * ```javascript\n     * mySequencer.draw(\n     *      partial: 200,\n     *      isLastDraw: true,\n     *      useFrame: false,\n     *      direction: ('backward'|'forward'|'none')\n     * );\n     *\n     *\n     * ```\n     * @description\n     */\n    draw({\n        partial = 0,\n        isLastDraw = false,\n        useFrame = false,\n        direction = directionConstant.NONE,\n    }) {\n        if (useFrame) {\n            this.onDraw({\n                partial,\n                isLastDraw,\n                direction,\n            });\n            return;\n        }\n\n        mobCore.useNextTick(() =>\n            this.onDraw({\n                partial,\n                isLastDraw,\n                direction,\n            })\n        );\n    }\n\n    /**\n     * @private\n     *\n     * @param {object} obj\n     * @param {number} obj.partial\n     * @param {boolean} obj.isLastDraw\n     * @param {import('../utils/timeline/type.js').directionType} obj.direction\n     *\n     */\n    onDraw({\n        partial = 0,\n        isLastDraw = false,\n        direction = directionConstant.NONE,\n    }) {\n        /*\n         * First time run or atfer reset lasValue\n         * all the last value is null so get the current value\n         */\n        if (this.firstRun) {\n            this.lastPartial = partial;\n            this.actionAtFirstRender(partial);\n        }\n\n        /**\n         * Inside a timeline the direction is controlled by timeline and pass the value\n         * because timeline know the loop state and direction is stable\n         * Inside a parallax we have a fallback, but we don't have a loop\n         *\n         * On first run check is jumped\n         */\n        if (\n            !this.firstRun &&\n            this.lastPartial &&\n            (!direction || direction === directionConstant.NONE)\n        ) {\n            this.direction =\n                partial >= this.lastPartial\n                    ? directionConstant.FORWARD\n                    : directionConstant.BACKWARD;\n        }\n\n        if (\n            !this.firstRun &&\n            (direction === directionConstant.BACKWARD ||\n                direction === directionConstant.FORWARD)\n        ) {\n            this.direction = direction;\n        }\n\n        /**\n         * Reset settled status\n         */\n        this.values = [...this.values].map((item) => {\n            return {\n                ...item,\n                settled: false,\n            };\n        });\n\n        /**\n         * Get new values\n         */\n        this.values = sequencerGetValusOnDraw({\n            timeline: this.timeline,\n            valuesState: this.values,\n            partial,\n        });\n\n        const callBackObject = getValueObj(this.values, 'currentValue');\n\n        syncCallback({\n            each: this.stagger.each,\n            useStagger: this.useStagger,\n            isLastDraw,\n            callBackObject,\n            callback: this.callback,\n            callbackCache: this.callbackCache,\n            callbackOnStop: this.callbackOnStop,\n        });\n\n        this.fireAddCallBack(partial);\n\n        this.useStagger = true;\n        this.lastPartial = partial;\n        this.lastDirection = this.direction;\n        this.firstRun = false;\n    }\n\n    /**\n     * @description\n     * Methods call by syncTimeline, everty time user use play, playFrom etc.. or loop end.\n     * Reset the data that control add callback to have a new clean state\n     */\n    resetLastValue() {\n        this.firstRun = true;\n        this.lastPartial = 0;\n        this.lastDirection = directionConstant.NONE;\n    }\n\n    /**\n     * @private\n     *\n     * @property {number} [ time=0 ]\n     *\n     * @description\n     * Fire addCallback first time without check the previous position.\n     * because first time we can start from any position and we doesn't a have previous position\n     * So we fire the callback once\n     * To skip this callback, check isForce prop in callback\n     */\n    actionAtFirstRender(time = 0) {\n        if (!this.forceAddFnAtFirstRun) return;\n\n        this.callbackAdd.forEach(({ fn, time: fnTime }) => {\n            const mustFireForward = {\n                shouldFire: time >= fnTime,\n                direction: directionConstant.FORWARD,\n            };\n\n            const mustFireBackward = {\n                shouldFire: time <= fnTime,\n                direction: directionConstant.BACKWARD,\n            };\n\n            const mustFire =\n                mustFireForward.shouldFire || mustFireBackward.shouldFire;\n\n            if (!mustFire) return;\n\n            const direction = mustFireForward.shouldFire\n                ? mustFireForward.direction\n                : mustFireBackward.direction;\n\n            fn({ direction, value: time, isForced: true });\n        });\n\n        this.forceAddFnAtFirstRun = false;\n    }\n\n    /**\n     * @private\n     *\n     * @property {number} [ time=0 ]\n     *\n     * @description\n     * Fire callBack at specific time\n     *\n     */\n    fireAddCallBack(time = 0) {\n        this.callbackAdd.forEach(({ fn, time: fnTime }) => {\n            /*\n             * In forward mode current time must be greater or equal than fn time\n             * and the last current time must be minor than fn time to prevent\n             * the the fn is fired before fn time is reached\n             */\n            const mustFireForward =\n                this.direction === directionConstant.FORWARD &&\n                time > fnTime &&\n                this.lastPartial <= fnTime;\n\n            /*\n             * In backward mode current time must be minor or equal than fn time\n             * and the last current time must be greater than fn time to prevent\n             * the the fn is fired before fn time is reached\n             * time and fnTime cannot be the same, because fnTime\n             * is equal max duration of timeline/parallax the previous value\n             * can be equal max duration, so we avoid double firing of fn\n             */\n            const mustFireBackward =\n                this.direction === directionConstant.BACKWARD &&\n                time < fnTime &&\n                this.lastPartial >= fnTime;\n\n            // const mustFire =\n            //     (mustFireForward || mustFireBackward) && shouldFired;\n            const mustFire = mustFireForward || mustFireBackward;\n            if (!mustFire) return;\n\n            fn({ direction: this.direction, value: time, isForced: false });\n        });\n    }\n\n    /**\n     * @description\n     * Set factor between timeline duration and sequencer getDuration\n     * So start and end propierties will be proportionate to the duration of the timeline\n     * This methods is called by SyncTimeline\n     */\n    setStretchFactor(duration = 0) {\n        const stretchFactor = duration / this.duration;\n\n        this.timeline = [...this.timeline].map((item) => {\n            const { start, end } = item;\n\n            return {\n                ...item,\n                start: getRoundedValue(start * stretchFactor),\n                end: getRoundedValue(end * stretchFactor),\n            };\n        });\n\n        this.labels = [...this.labels].map((item) => {\n            const { time } = item;\n\n            return {\n                ...item,\n                time: getRoundedValue(time * stretchFactor),\n            };\n        });\n\n        this.callbackAdd = [...this.callbackAdd].map((item) => {\n            const { time } = item;\n\n            return {\n                ...item,\n                time: getRoundedValue(time * stretchFactor),\n            };\n        });\n    }\n\n    /**\n     *\n     * @prop {Object.<string, number>} obj Initial data Object\n     * @returns {this} The instance on which this method was called.\n     */\n    setData(obj = {}) {\n        this.values = Object.entries(obj).map((item) => {\n            const [prop, value] = item;\n            const isValid = initialDataPropValidate(prop, value);\n            const valueSanitized = isValid ? value : 0;\n\n            return {\n                prop: isValid ? prop : 'invalidProp',\n                toValue: valueSanitized,\n                fromValue: valueSanitized,\n                currentValue: valueSanitized,\n                active: false,\n                settled: false,\n                ease: getTweenFn(handleSetUp.get('sequencer').ease),\n            };\n        });\n\n        /**\n         * First time add a set with initial data.\n         * We create a value for ancestor/reduce mechenism\n         * This row has priority 0, so we are sure that is the first row of timeline array.\n         */\n        this.goTo(obj, { start: 0, end: 0 });\n        return this;\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType} obj  to values\n     * @param {import('./type.js').sequencerAction} props special properties\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * mySequencer.goTo(\n     *     { string: number|function, ... },\n     *     { start: number, end: number, ease: string }\n     * );\n     *\n     *\n     * ```\n     * @description\n     * Transform some properties of your choice from the `current value` to the `entered value`, the transformation will start from the value associated with start and will end in the value associated with end.\n     * The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change in real time as the result of the function changes\n     * It is possible to associate an easing to the transformation, this easing will be applied only in this transformation.\n     */\n    goTo(obj, props) {\n        const propMerged = { ...this.defaultProp, ...props };\n        const { start, end, ease } = propMerged;\n\n        if (!sequencerRangeValidate({ start, end })) return this;\n\n        const data = goToSyncUtils(obj, ease);\n        const newValues = mergeNewValues({ data, values: this.values });\n        const activeProp = Object.keys(obj);\n\n        /**\n         * Update timeline and order by start value and priority.\n         */\n        const newTimeline = insertNewRow({\n            timeline: this.timeline,\n            values: newValues,\n            start,\n            end,\n            duration: this.duration,\n            propToFind: 'fromValue',\n        });\n\n        /**\n         * Update to formValue with fist usable formValue in previous row.is\n         */\n        this.timeline = setPropFromAncestor({\n            timeline: newTimeline,\n            activeProp,\n        });\n\n        return this;\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType} obj from values\n     * @param {import('./type.js').sequencerAction} props special properties\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * mySequencer.goFrom(\n     *     { string: number|function, ... },\n     *     { start: number, end: number, ease: string }\n     * );\n     *\n     *\n     * ```\n     * @description\n     * Transform some properties of your choice from the `entered value` to the `current value`, the transformation will start from the value associated with start and will end in the value associated with end.\n     * The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change in real time as the result of the function changes\n     * It is possible to associate an easing to the transformation, this easing will be applied only in this transformation.\n     */\n    goFrom(obj, props) {\n        const propMerged = { ...this.defaultProp, ...props };\n        const { start, end, ease } = propMerged;\n\n        if (!sequencerRangeValidate({ start, end })) return this;\n\n        const data = goFromSyncUtils(obj, ease);\n        const newValues = mergeNewValues({ data, values: this.values });\n        const activeProp = Object.keys(obj);\n\n        /**\n         * Update timeline and order by start value and priority.\n         */\n        const newTimeline = insertNewRow({\n            timeline: this.timeline,\n            values: newValues,\n            start,\n            end,\n            duration: this.duration,\n            propToFind: 'toValue',\n        });\n\n        /**\n         * Update to formValue with fist usable formValue in previous row.is\n         */\n        this.timeline = setPropFromAncestor({\n            timeline: newTimeline,\n            activeProp,\n        });\n\n        return this;\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType} fromObj from values\n     * @param {import('../utils/tweenAction/type.js').valueToparseType} toObj to values\n     * @param {import('./type.js').sequencerAction} props special properties\n     *\n     * @example\n     * ```javascript\n     * mySequencer.goFromTo(\n     *     { string: number|function, ... },\n     *     { string: number|function, ... },\n     *     { start: number, end: number, ease: string }\n     * );\n     *\n     *\n     * ```\n     *\n     * @description\n     * Transform some properties of your choice from the `first entered value` to the `second entered value`, the transformation will start from the value associated with start and will end in the value associated with end.\n     * The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change in real time as the result of the function changes\n     * It is possible to associate an easing to the transformation, this easing will be applied only in this transformation.\n     */\n    goFromTo(fromObj, toObj, props) {\n        const propMerged = { ...this.defaultProp, ...props };\n        const { start, end, ease } = propMerged;\n\n        if (!sequencerRangeValidate({ start, end })) return this;\n\n        if (!compareKeys(fromObj, toObj)) {\n            compareKeysWarning('sequencer goFromTo:', fromObj, toObj);\n            return;\n        }\n\n        const data = goFromToSyncUtils(fromObj, toObj, ease);\n        const newValues = mergeNewValues({ data, values: this.values });\n\n        /**\n         * Update timeline and order by start value and priority.\n         */\n        this.timeline = insertNewRow({\n            timeline: this.timeline,\n            values: newValues,\n            start,\n            end,\n            duration: this.duration,\n            propToFind: '',\n        });\n\n        return this;\n    }\n\n    /**\n     * @param {string} name\n     * @param {number} [ time = 0 ] time\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * mySequencer.label('mylabel',5);\n     *\n     *\n     * ```\n     * @description\n     * Adds a label associated with a specific step in a range between 0 and duration (default: 10).\n     * Both syncTimeline and scrollTrigger will take care of processing the value as needed\n     */\n    label(name = '', time = 0) {\n        this.labels.push({ name, time });\n        return this;\n    }\n\n    /**\n     * Return the array of entered labels\n     * @returns {import('./type.js').labelType[]} labels array\n     */\n    getLabels() {\n        return this.labels;\n    }\n\n    /**\n     * @param {function(import('../utils/timeline/type.js').directionTypeObjectSequencer ):void } fn - callback function\n     * @param {number} time - Value grater than 0 and minor duration.\n     * @returns {this} The instance on which this method was called.\n     *\n     * @description\n     * Fire a function at a step in a range greater the 0 and minor duration.\n     * Both syncTimeline and scrollTrigger will take care of processing the value as needed.\n     *\n     * To interpect both end ( 0 and duration )\n     * use the syncTimeline/scrollTrigger built in function:\n     *\n     * ```javascript\n     * // For syncTimeline:\n     * myTimeline.onLoopEnd()\n     *\n     * // For scrollTrigger:\n     * myScrolltrigger.onEnter();\n     * myScrolltrigger.onEnterBack();\n     * myScrolltrigger.onLeave();\n     * myScrolltrigger.onLeaveBack();\n     * ```\n     *\n     * @example\n     * ```javascript\n     * mySequencer.add(({direction: string, value: number, isForced: boolean}) => {\n     *      //code\n     * }, time:number);\n     * ```\n     */\n    add(fn = () => {}, time = 0) {\n        const fnIsValid = mobCore.checkType(Function, fn);\n        const timeIsValid = mobCore.checkType(Number, time);\n        const addIsValid = fnIsValid && timeIsValid;\n\n        if (!fnIsValid) syncTimelineAddFnWarning(fn);\n        if (!timeIsValid) syncTimelineAddTimeWarning(time);\n        if (!addIsValid) return this;\n\n        this.callbackAdd.push({ fn, time });\n        return this;\n    }\n\n    /**\n     * @param {() => void} cb - callback function.\n     * @return {() => void} unsubscribe callback.\n     *\n     * @example\n     * ```javascript\n     * //Single DOM element\n     * const unsubscribe = mySequencer.subscribe(({ x,y... }) => {\n     *      domEl.style.prop = `...`\n     * })\n     * unsubscribe()\n     *\n     *\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return mySequencer.subscribe(({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Callback that returns updated values ready to be usable, it is advisable to use it for single elements, although it works well on a not too large number of elements (approximately 100-200 elements) for large staggers it is advisable to use the subscribeCache method.\n     */\n    subscribe(cb = () => {}) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = setCallBack(\n            cb,\n            this.callback\n        );\n        this.callback = arrayOfCallbackUpdated;\n\n        return () => (this.callback = unsubscribeCb(this.callback));\n    }\n\n    /**\n     * @param {() => void} cb - callback function.\n     * @return {() => void} unsubscribe callback.\n     *\n     * @example\n     * ```javascript\n     * //Single DOM element\n     * const unsubscribe = mySequencer.onStop(({ x,y... }) => {\n     *      domEl.style.prop = `...`\n     * })\n     * unsubscribe()\n     *\n     *\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return mySequencer.onStop(({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     *  Similar to subscribe this callBack is launched when the data calculation stops (when the timeline ends or the scroll trigger is inactive).\n     *  Useful for applying a different style to an inactive element.\n     *  A typical example is to remove the teansform3D property:\n     *\n     * @example\n     * ```javascript\n     * // Use transform3D while item is active\n     * mySequencer.subscribe(({x}) => {\n     *      domEl.style.transform = ` transform3D(0,0,0) translateX(${x}px)`\n     * })\n     *\n     * // Remove transform3D when item is inactive\n     * mySequencer.onStop(({x}) => {\n     *      domEl.style.transform = `translateX(${x}px)`\n     * })\n     * ```\n     */\n    onStop(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = setCallBack(\n            cb,\n            this.callbackOnStop\n        );\n        this.callbackOnStop = arrayOfCallbackUpdated;\n\n        return () => (this.callbackOnStop = unsubscribeCb(this.callbackOnStop));\n    }\n\n    /**\n     * @param {(Object|HTMLElement)} item\n     * @param {function(any):void} fn - callback function.\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     *```javascript\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return mySequencer.subscribeCache(item, ({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Callback that returns updated values ready to be usable, specific to manage large staggers.\n     */\n    subscribeCache(item, fn = () => {}) {\n        const { arrayOfCallbackUpdated, unsubscribeCb, unsubscribeCache } =\n            setCallBackCache(\n                item,\n                fn,\n                this.callbackCache,\n                this.unsubscribeCache\n            );\n\n        this.callbackCache = arrayOfCallbackUpdated;\n        this.unsubscribeCache = unsubscribeCache;\n        return () => (this.callbackCache = unsubscribeCb(this.callbackCache));\n    }\n\n    /**\n     * @description\n     * Get duration\n     * @return {number}\n     */\n    getDuration() {\n        return this.duration;\n    }\n\n    /**\n     * @description\n     * Set duration\n     * @param {number} val\n     */\n    setDuration(val = 0) {\n        this.duration = val;\n    }\n\n    /**\n     * @description\n     * Get tween type - 'sequencer'\n     */\n    getType() {\n        return this.type;\n    }\n\n    /**\n     * @description\n     * Removes all references of staggers not yet started by the handleCache function, method used by HandleSyncTimeline when it is stopped\n     */\n    cleanCachedId() {\n        this.callbackCache.forEach(({ cb }) => mobCore.useCache.clean(cb));\n    }\n\n    /**\n     * @description\n     * Disable stagger for one run\n     **/\n    disableStagger() {\n        this.useStagger = false;\n    }\n\n    /**\n     * @description\n     * Destroy sequencer\n     */\n    destroy() {\n        this.values = [];\n        this.timeline = [];\n        this.callback = [];\n        this.callbackCache = [];\n        this.callbackOnStop = [];\n        this.callbackAdd = [];\n        this.unsubscribeCache.forEach((unsubscribe) => unsubscribe());\n        this.unsubscribeCache = [];\n    }\n}\n\n// Timeline array example:\n// [\n//     {\n//         \"values\": [\n//             {\n//                   \"prop\": \"x\",\n//                   \"active\": false\n//              },\n//              {\n//                   \"prop\": \"y\",\n//                   \"toValue\": 0,\n//                   \"fromValue\": -100,\n//                   \"currentValue\": -100,\n//                   \"active\": true,\n//                   \"settled\": false\n//              },\n//              ...\n//         ],\n//         \"start\": 0,\n//         \"end\": 3\n//     },\n//     {\n//         \"values\": [\n//             ...\n//         ],\n//         \"start\": 7,\n//         \"end\": 10\n//     }\n// ]\n", "// @ts-check\n\nimport { getRoundedValue } from '../utils/animationUtils';\n\n/**\n * @param {Object} param\n * @param {import('./type').springValues[]} param.values\n * @param {number} param.tension\n * @param {number} param.friction\n * @param {number} param.mass\n * @param {number} param.precision\n * @param {number} param.fps\n * @return {import('./type').springValues[]}\n */\nexport const springGetValuesOndraw = ({\n    values,\n    tension,\n    friction,\n    mass,\n    precision,\n    fps,\n}) => {\n    return values.map((item) => {\n        const { currentValue, toValue, velocity } = item;\n        const tensionForce = -tension * (currentValue - toValue);\n        const dampingForce = -friction * velocity;\n        const acceleration = (tensionForce + dampingForce) / mass;\n\n        // New values.\n        const newVelocity = velocity + (acceleration * 1) / fps;\n        const rawCurrentValue = currentValue + (newVelocity * 1) / fps;\n        const newCurrentValue = getRoundedValue(rawCurrentValue);\n\n        const isVelocity = Math.abs(newVelocity) <= 0.1;\n        const isDisplacement =\n            tension === 0\n                ? true\n                : Math.abs(toValue - newCurrentValue) <= precision;\n\n        const settled = isVelocity && isDisplacement;\n\n        if (settled) {\n            return {\n                ...item,\n                currentValue: toValue,\n                velocity: newVelocity,\n                settled: true,\n            };\n        }\n\n        return {\n            ...item,\n            currentValue: newCurrentValue,\n            velocity: newVelocity,\n            settled: false,\n        };\n    });\n};\n", "// @ts-check\n\nimport { compareKeys } from '../utils/animationUtils.js';\nimport {\n    setFromByCurrent,\n    setFromCurrentByTo,\n    setFromToByCurrent,\n    setReverseValues,\n    setRelative,\n} from '../utils/tweenAction/setValues.js';\nimport { mergeDeep } from '../../utils/mergeDeep.js';\nimport { setStagger } from '../utils/stagger/setStagger.js';\nimport { STAGGER_DEFAULT_INDEX_OBJ } from '../utils/stagger/staggerCostant.js';\nimport {\n    getStaggerFromProps,\n    getStaggerArray,\n} from '../utils/stagger/staggerUtils.js';\nimport {\n    defaultCallbackOnComplete,\n    defaultCallback,\n} from '../utils/callbacks/defaultCallback.js';\nimport {\n    setCallBack,\n    setCallBackCache,\n} from '../utils/callbacks/setCallback.js';\nimport {\n    goToUtils,\n    goFromUtils,\n    goFromToUtils,\n    setUtils,\n} from '../utils/tweenAction/actions.js';\nimport { initRaf } from '../utils/initRaf.js';\nimport {\n    compareKeysWarning,\n    staggerIsOutOfRangeWarning,\n} from '../utils/warning.js';\nimport { fpsLoadedLog } from '../utils/fpsLogInizialization.js';\nimport {\n    relativeIsValid,\n    springConfigIsValid,\n    springConfigIsValidAndGetNew,\n    springConfigPropIsValid,\n    valueIsBooleanAndTrue,\n} from '../utils/tweenAction/tweenValidation.js';\nimport { handleSetUp } from '../../setup.js';\nimport { mobCore } from '../../../mobCore/index.js';\nimport { shouldInizializzeStagger } from '../utils/stagger/shouldInizialize.js';\nimport { resume } from '../utils/resumeTween.js';\nimport {\n    getValueObj,\n    getValueObjFromNative,\n    getValueObjToNative,\n} from '../utils/tweenAction/getValues.js';\nimport { mergeArray } from '../utils/tweenAction/mergeArray.js';\nimport { springGetValuesOndraw } from './getValuesOndraw.js';\n\nexport default class HandleSpring {\n    /**\n     * @param {import('./type.js').springTweenProps} [ data = {} ]\n     *\n     * @example\n     * ```javascript\n     * const mySpring = new HandleSpring({\n     *   data: Object.<string, number>,\n     *   config: String,\n     *   configProp: {\n     *      tension: Number,\n     *      mass: Number,\n     *      friction: Number,\n     *      velocity: Number,\n     *      precision: Number,\n     *   },\n     *   relative: Boolean\n     *   stagger:{\n     *      each: Number,\n     *      from: Number|String|{x:number,y:number},\n     *      grid: {\n     *          col: Number,\n     *          row: Number,\n     *          direction: String,\n     *      },\n     *      waitComplete: Boolean,\n     *   },\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     * mySpring.set()\n     * mySpring.goTo()\n     * mySpring.goFrom()\n     * mySpring.goFromTo()\n     * mySpring.subscribe()\n     * mySpring.subscribeCache()\n     * mySpring.onComplete()\n     * mySpring.updateConfigProp()\n     * mySpring.updateConfig()\n     * mySpring.getId()\n     * mySpring.get()\n     * mySpring.getTo()\n     * mySpring.getFrom()\n     * mySpring.getToNativeType()\n     * mySpring.getFromNativeType()\n     *\n     * ```\n     */\n    constructor(data) {\n        /**\n         * @private\n         * @type {import('../utils/stagger/type.js').staggerObject}\n         */\n        this.stagger = getStaggerFromProps(data);\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.relative = relativeIsValid(data?.relative, 'spring');\n\n        /**\n         * @private\n         * @type {import('./type.js').springProps}\n         *\n         * This value lives from user call ( goTo etc..) until next call\n         **/\n        this.configProps = springConfigIsValidAndGetNew(data?.config);\n\n        /**\n         * Update config with single props\n         */\n        this.updateConfigProp(data?.configProp);\n\n        /**\n         * @private\n         * @type {string}\n         */\n        this.uniqueId = mobCore.getUnivoqueId();\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.isActive = false;\n\n        /**\n         * @private\n         * @type{( function(any):void )|undefined}\n         */\n        this.currentResolve = undefined;\n\n        /**\n         * @private\n         * @type{Function|undefined}\n         */\n        this.currentReject = undefined;\n\n        /**\n         * @private\n         * @type{Promise|undefined}\n         */\n        this.promise = undefined;\n\n        /**\n         * @private\n         * @type {import('./type.js').springValues[]|[]}\n         */\n        this.values = [];\n\n        /**\n         * @private\n         * @type {import('./type.js').springInitialData[]}\n         */\n        this.initialData = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callback = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<string>[]}\n         */\n        this.callbackCache = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callbackOnComplete = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callbackStartInPause = [];\n\n        /**\n         * @private\n         * @type {Array<() => void>}\n         */\n        this.unsubscribeCache = [];\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.pauseStatus = false;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.firstRun = true;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.useStagger = true;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.fpsInLoading = false;\n\n        /**\n         * @private\n         * This value is the base value merged with new value in custom prop\n         * passed form user in goTo etc..\n         *\n         * @type {import('./type.js').springDefault}\n         **/\n        this.defaultProps = {\n            reverse: false,\n            configProps: this.configProps,\n            relative: this.relative,\n            immediate: false,\n            immediateNoPromise: false,\n        };\n\n        /**\n         * @private\n         * @type {import('../utils/stagger/type.js').staggerDefaultIndex}\n         */\n        this.slowlestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n\n        /**\n         * @private\n         * @type {import('../utils/stagger/type.js').staggerDefaultIndex}\n         */\n        this.fastestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n\n        /**\n         * @private\n         * Set initial store data if defined in constructor props\n         * If not use setData methods\n         */\n        const props = data?.data || null;\n        if (props) this.setData(props);\n    }\n\n    /**\n     * @param {number} _time\n     * @param {number} fps\n     * @param {Function} res\n     * @param {number} tension\n     * @param {number} friction\n     * @param {number} mass\n     * @param {number} precision\n     *\n     * @returns {void}\n     */\n    draw(_time, fps, res = () => {}, tension, friction, mass, precision) {\n        this.isActive = true;\n\n        this.values = springGetValuesOndraw({\n            values: this.values,\n            tension,\n            friction,\n            mass,\n            precision,\n            fps,\n        });\n\n        /**\n         * Prepare an obj to pass to the callback\n         */\n        const callBackObject = getValueObj(this.values, 'currentValue');\n\n        defaultCallback({\n            stagger: this.stagger,\n            callback: this.callback,\n            callbackCache: this.callbackCache,\n            callBackObject: callBackObject,\n            useStagger: this.useStagger,\n        });\n\n        /**\n         * Check if all values is completed\n         */\n        const allSettled = this.values.every((item) => item.settled === true);\n\n        if (allSettled) {\n            const onComplete = () => {\n                this.isActive = false;\n\n                /**\n                 * End of animation\n                 * Set fromValue with ended value\n                 * At the next call fromValue become the start value\n                 */\n                this.values = [...this.values].map((item) => {\n                    return {\n                        ...item,\n                        fromValue: item.toValue,\n                    };\n                });\n\n                /**\n                 * On complete\n                 */\n                if (!this.pauseStatus) {\n                    res();\n\n                    /**\n                     * Set promise reference to null once resolved\n                     */\n                    this.promise = undefined;\n                    this.currentReject = undefined;\n                    this.currentResolve = undefined;\n                }\n            };\n\n            /**\n             * Prepare an obj to pass to the callback with rounded value ( end user value)\n             */\n            const cbObjectSettled = getValueObj(this.values, 'toValue');\n\n            defaultCallbackOnComplete({\n                onComplete,\n                callback: this.callback,\n                callbackCache: this.callbackCache,\n                callbackOnComplete: this.callbackOnComplete,\n                callBackObject: cbObjectSettled,\n                stagger: this.stagger,\n                slowlestStagger: this.slowlestStagger,\n                fastestStagger: this.fastestStagger,\n                useStagger: this.useStagger,\n            });\n\n            return;\n        }\n\n        mobCore.useFrame(() => {\n            mobCore.useNextTick(({ time, fps }) => {\n                if (this.isActive)\n                    this.draw(\n                        time,\n                        fps,\n                        res,\n                        tension,\n                        friction,\n                        mass,\n                        precision\n                    );\n            });\n        });\n    }\n\n    /**\n     * @private\n     *\n     * @param {number} time current global time\n     * @param {number} fps current FPS\n     * @param {Function} res current promise resolve\n     **/\n    onReuqestAnim(time, fps, res) {\n        this.values = [...this.values].map((item) => {\n            return {\n                ...item,\n                velocity: Math.trunc(this.configProps.velocity),\n            };\n        });\n\n        /**\n         * Normalize spring config props\n         */\n        const tension = this.configProps.tension;\n        const friction = this.configProps.friction;\n        const mass = Math.max(1, this.configProps.mass);\n        const precision = this.configProps.precision;\n\n        this.draw(time, fps, res, tension, friction, mass, precision);\n    }\n\n    /**\n     * @description\n     * Inzialize stagger array\n     *\n     * @returns {Promise<any>}\n     */\n    async inzializeStagger() {\n        /**\n         * First time il there is a stagger load fps then go next step\n         * next time no need to calcaulte stagger and jump directly next step\n         *\n         **/\n        if (\n            shouldInizializzeStagger(\n                this.stagger.each,\n                this.firstRun,\n                this.callbackCache,\n                this.callback\n            )\n        ) {\n            const { averageFPS } = await mobCore.useFps();\n\n            fpsLoadedLog('spring', averageFPS);\n            const cb = getStaggerArray(this.callbackCache, this.callback);\n\n            if (this.stagger.grid.col > cb.length) {\n                staggerIsOutOfRangeWarning(cb.length);\n                this.firstRun = false;\n                return;\n            }\n\n            const {\n                staggerArray,\n                staggerArrayOnComplete,\n                fastestStagger,\n                slowlestStagger,\n            } = setStagger({\n                arrayDefault: cb,\n                arrayOnStop: this.callbackOnComplete,\n                stagger: this.stagger,\n                slowlestStagger: this.slowlestStagger,\n                fastestStagger: this.fastestStagger,\n            });\n\n            if (this.callbackCache.length > this.callback.length) {\n                this.callbackCache = staggerArray;\n            } else {\n                this.callback = staggerArray;\n            }\n            this.callbackOnComplete = staggerArrayOnComplete;\n            this.slowlestStagger = slowlestStagger;\n            this.fastestStagger = fastestStagger;\n            this.firstRun = false;\n        }\n\n        return { ready: true };\n    }\n\n    /**\n     * @private\n     * @param {function(any):void} res\n     * @param {Function} reject\n     *\n     * @returns {Promise}\n     */\n    async startRaf(res, reject) {\n        if (this.fpsInLoading) return;\n        this.currentResolve = res;\n        this.currentReject = reject;\n\n        if (this.firstRun) {\n            this.fpsInLoading = true;\n            await this.inzializeStagger();\n            this.fpsInLoading = false;\n        }\n\n        initRaf(\n            this.callbackStartInPause,\n            this.onReuqestAnim.bind(this),\n            this.pause.bind(this),\n            res\n        );\n    }\n\n    /**\n     * @param {import('../tween/type.js').tweenStopProps} Stop props\n     * @returns {void}\n     *\n     * @description\n     * Stop tween and fire reject of current promise.\n     */\n    stop({ clearCache = true } = {}) {\n        if (this.pauseStatus) this.pauseStatus = false;\n        this.values = setFromToByCurrent(this.values);\n\n        /**\n         * If isRunning clear all funture stagger.\n         * If tween is ended and the lst stagger is running, let it reach end position.\n         */\n        if (this.isActive && clearCache)\n            this.callbackCache.forEach(({ cb }) => mobCore.useCache.clean(cb));\n\n        // Reject promise\n        if (this.currentReject) {\n            this.currentReject(mobCore.ANIMATION_STOP_REJECT);\n            this.promise = undefined;\n            this.currentReject = undefined;\n            this.currentResolve = undefined;\n        }\n\n        // Reset RAF\n        if (this.isActive) {\n            this.isActive = false;\n        }\n    }\n\n    /**\n     * @description\n     * Pause the tween\n     *\n     * @returns {void}\n     */\n    pause() {\n        if (this.pauseStatus) return;\n        this.pauseStatus = true;\n        if (this.isActive) this.isActive = false;\n        this.values = setFromByCurrent(this.values);\n    }\n\n    /**\n     * @description\n     * Resume tween in pause\n     *\n     * @returns {void}\n     */\n    resume() {\n        if (!this.pauseStatus) return;\n        this.pauseStatus = false;\n\n        if (!this.isActive && this.currentResolve) {\n            resume(this.onReuqestAnim.bind(this), this.currentResolve);\n        }\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<number>} obj Initial data structure\n     * @returns {void}\n     *\n     * @description\n     * Set initial data structure, the method is call by data prop in constructor. In case of need it can be called after creating the instance\n     *\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * mySpring.setData({ val: 100 });\n     * ```\n     */\n    setData(obj) {\n        this.values = Object.entries(obj).map((item) => {\n            const [prop, value] = item;\n            return {\n                prop: prop,\n                toValue: value,\n                fromValue: value,\n                velocity: this.configProps.velocity,\n                currentValue: value,\n                fromFn: () => 0,\n                fromIsFn: false,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false,\n            };\n        });\n\n        this.initialData = this.values.map((item) => {\n            return {\n                prop: item.prop,\n                toValue: item.toValue,\n                fromValue: item.fromValue,\n                currentValue: item.currentValue,\n            };\n        });\n    }\n\n    /**\n     * @description\n     * Reset data value with initial\n     *\n     * @returns {void}\n     */\n    resetData() {\n        this.values = mergeDeep(this.values, this.initialData);\n    }\n\n    /**\n     * @private\n     *\n     * @description\n     * Merge special props with default props\n     *\n     * @param  {import('./type.js').springActions} props\n     * @return {import('./type.js').springDefault} props merged\n     *\n     */\n    mergeProps(props) {\n        const springParams = handleSetUp.get('spring');\n\n        /**\n         * @description\n         * Get new config preset single values.\n         *\n         * @type {import('./type.js').springPresentConfigType}\n         */\n        const allPresetConfig = springParams.config;\n        const newConfigPreset = springConfigIsValid(props?.config)\n            ? // @ts-ignore\n              allPresetConfig[props.config]\n            : this.defaultProps.configProps;\n\n        /*\n         * Modify single propierties of newConfigPreset\n         */\n        const configPropsToMerge = springConfigPropIsValid(props?.configProp);\n        const newConfigProps = { ...newConfigPreset, ...configPropsToMerge };\n\n        /*\n         * Merge all\n         */\n        const newProps = {\n            ...this.defaultProps,\n            ...props,\n            configProps: newConfigProps,\n        };\n\n        const { configProps, relative } = newProps;\n        this.configProps = configProps;\n        this.relative = relative;\n\n        return newProps;\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj to Values\n     * @param {import('./type.js').springActions} props special props\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * mySpring.goTo(\n     *     { string: ( Number|Function ) },\n     *     {\n     *         reverse: [ Boolean ],\n     *         config: [ String ],\n     *         configProp: {\n     *            tension: [ Number ],\n     *            mass: [ Number ],\n     *            friction: [ Number ],\n     *            velocity: [ Number ],\n     *            precision: [ Number ],\n     *         },\n     *         relative: [ Boolean ],\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     * @description\n     *  Transform some properties of your choice from the `current value` to the `entered value`.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - config\n     *   - configProp\n     *   - relative\n     *   - reverse\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     */\n    goTo(obj, props = {}) {\n        if (this.pauseStatus) return;\n        this.useStagger = true;\n        const data = goToUtils(obj);\n        return this.doAction(data, props, obj);\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj from Values\n     * @param {import('./type.js').springActions} props special props\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * mySpring.goFrom(\n     *     { string: ( Number|Function ) },\n     *     {\n     *         reverse: [ Boolean ],\n     *         config: [ String ],\n     *         configProp: {\n     *            tension: [ Number ],\n     *            mass: [ Number ],\n     *            friction: [ Number ],\n     *            velocity: [ Number ],\n     *            precision: [ Number ],\n     *         },\n     *         relative: [ Boolean ],\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     * @description\n     *  Transform some properties of your choice from the `entered value` to the `current value`.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - config\n     *   - configProp\n     *   - relative\n     *   - reverse\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     */\n    goFrom(obj, props = {}) {\n        if (this.pauseStatus) return;\n        this.useStagger = true;\n        const data = goFromUtils(obj);\n        return this.doAction(data, props, obj);\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} fromObj from Values\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} toObj to Values\n     * @param {import('./type.js').springActions } props special props\n     * @returns {Promise|null|void} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * mySpring.goFromTo(\n     *     { string: ( Number|Function ) },\n     *     { string: ( Number|Function ) },\n     *     {\n     *         reverse: [ Boolean ],\n     *         config: [ String ],\n     *         configProp: {\n     *            tension: [ Number ],\n     *            mass: [ Number ],\n     *            friction: [ Number ],\n     *            velocity: [ Number ],\n     *            precision: [ Number ],\n     *         },\n     *         relative: [ Boolean ],\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     *  Transform some properties of your choice from the `first entered value` to the `second entered value`.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - config\n     *   - configProp\n     *   - relative\n     *   - reverse\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     */\n    goFromTo(fromObj, toObj, props = {}) {\n        if (this.pauseStatus) return;\n        this.useStagger = true;\n        if (!compareKeys(fromObj, toObj)) {\n            compareKeysWarning('spring goFromTo:', fromObj, toObj);\n            return this.promise;\n        }\n\n        const data = goFromToUtils(fromObj, toObj);\n        return this.doAction(data, props, fromObj);\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj to Values\n     * @param {import('../tween/type.js').tweenCommonProps} props special props\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * mySpring.set(\n     *     { string: ( Number|Function ) },\n     *     {\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     *  Transform some properties of your choice from the `current value` to the `entered value` immediately.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     */\n    set(obj, props = {}) {\n        if (this.pauseStatus) return;\n        this.useStagger = false;\n        const data = setUtils(obj);\n        return this.doAction(data, props, obj);\n    }\n\n    /**\n     * @private\n     *\n     * @param {import('../utils/tweenAction/type.js').allActionType[]} data Updated data\n     * @param {import('./type.js').springActions} props special props\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj new data obj come from set/goTo/goFrom/goFromTo\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @description\n     * Common oparation for set/goTo/goFrom/goFromTo methods.\n     * It is the method that updates the internal store\n     */\n    doAction(data, props, obj) {\n        this.values = mergeArray(data, this.values);\n        const { reverse, immediate, immediateNoPromise } =\n            this.mergeProps(props);\n\n        if (valueIsBooleanAndTrue(reverse, 'reverse'))\n            this.values = setReverseValues(obj, this.values);\n\n        this.values = setRelative(this.values, this.relative);\n\n        if (valueIsBooleanAndTrue(immediate, 'immediate ')) {\n            this.isActive = false;\n            this.values = setFromCurrentByTo(this.values);\n            return Promise.resolve();\n        }\n\n        if (valueIsBooleanAndTrue(immediateNoPromise, 'immediateNoPromise')) {\n            this.isActive = false;\n            this.values = setFromCurrentByTo(this.values);\n            return;\n        }\n\n        if (!this.isActive) {\n            this.promise = new Promise((res, reject) => {\n                this.startRaf(res, reject);\n            });\n        }\n\n        if (this.promise) return this.promise;\n    }\n\n    /**\n     * @description\n     * Get current values, If the single value is a function it returns the result of the function.\n     *\n     * @return {import('../utils/tweenAction/type.js').valueToparseType} current value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = mySpring.get();\n     * ```\n     */\n    get() {\n        return getValueObj(this.values, 'currentValue');\n    }\n\n    /**\n     * @description\n     * Get initial values, If the single value is a function it returns the result of the function.\n     *\n     * @return {import('../utils/tweenAction/type.js').valueToparseType} initial value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = mySpring.getIntialData();\n     * ```\n     */\n    getInitialData() {\n        return getValueObj(this.initialData, 'currentValue');\n    }\n\n    /**\n     * @description\n     * Get from values, If the single value is a function it returns the result of the function.\n     *\n     * @return {import('../utils/tweenAction/type.js').valueToparseType} from value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = mySpring.getFrom();\n     * ```\n     */\n    getFrom() {\n        return getValueObj(this.values, 'fromValue');\n    }\n\n    /**\n     * @description\n     * Get to values, If the single value is a function it returns the result of the function.\n     *\n     * @return {Object} to value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = mySpring.getTo();\n     * ```\n     */\n    getTo() {\n        return getValueObj(this.values, 'toValue');\n    }\n\n    /**\n     * @description\n     * Get From values, if the single value is a function it returns the same function.\n     *\n     * @return {Object} from value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = mySpring.getFromNativeType();\n     * ```\n     */\n    getFromNativeType() {\n        return getValueObjFromNative(this.values);\n    }\n\n    /**\n     * @description\n     * Get To values, if the single value is a function it returns the same function.\n     *\n     * @return {Object} to value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = mySpring.getToNativeType();\n     * ```\n     */\n    getToNativeType() {\n        return getValueObjToNative(this.values);\n    }\n\n    /**\n     * @description\n     * Get tween type\n     *\n     * @return {string} tween type\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const type = mySpring.getType();\n     * ```\n     */\n    getType() {\n        return 'SPRING';\n    }\n\n    /**\n     * @description\n     * Get univoque Id\n     *\n     * @return {string} Univoque Id\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const type = mySpring.getId();\n     * ```\n     */\n    getId() {\n        return this.uniqueId;\n    }\n\n    /**\n     * @param {import('./type.js').springPropsOptional} configProp - single spring config propierties\n     *\n     *  @example\n     *  ```javascript\n     *  mySpring.updateConfigProp({\n     *      mass: 2,\n     *      friction: 5\n     *  })\n     *\n     *\n     *  ```\n     *\n     * @description\n     * Update config object, every || some properties\n     * The change will be persistent\n     */\n    updateConfigProp(configProp = {}) {\n        const configToMerge = springConfigPropIsValid(configProp);\n        this.configProps = { ...this.configProps, ...configToMerge };\n\n        this.defaultProps = mergeDeep(this.defaultProps, {\n            configProps: configToMerge,\n        });\n    }\n\n    /**\n     *\n     * @description\n     * updateConfig - Update config object with new preset\n     *\n     * @param  {import('./type.js').springChoiceConfig} config\n     *\n     */\n    updateConfig(config) {\n        this.configProps = springConfigIsValidAndGetNew(config);\n        this.defaultProps = mergeDeep(this.defaultProps, {\n            configProps: this.configProps,\n        });\n    }\n\n    /**\n     * @param {() => void} cb - callback function.\n     * @return {() => void} unsubscribe callback.\n     *\n     * @example\n     * ```javascript\n     * //Single DOM element\n     * const unsubscribe = mySpring.subscribe(({ x,y... }) => {\n     *      domEl.style.prop = `...`\n     * })\n     * unsubscribe()\n     *\n     *\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return mySpring.subscribe(({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Callback that returns updated values ready to be usable, it is advisable to use it for single elements, although it works well on a not too large number of elements (approximately 100-200 elements) for large staggers it is advisable to use the subscribeCache method .\n     */\n    subscribe(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = setCallBack(\n            cb,\n            this.callback\n        );\n        this.callback = arrayOfCallbackUpdated;\n\n        return () => (this.callback = unsubscribeCb(this.callback));\n    }\n\n    /**\n     * Support callback to asyncTimeline.\n     * Callback to manage the departure of tweens in a timeline. If a delay is applied to the tween and before the delay ends the timeline pauses the tween at the end of the delay will automatically pause.\n     * Add callback to start in pause to stack\n     *\n     * @param  {() => void} cb cal function\n     * @return {() => void} unsubscribe callback\n     *\n     */\n    onStartInPause(cb) {\n        const { arrayOfCallbackUpdated } = setCallBack(\n            cb,\n            this.callbackStartInPause\n        );\n        this.callbackStartInPause = arrayOfCallbackUpdated;\n\n        return () => (this.callbackStartInPause = []);\n    }\n\n    /**\n     * @param {() => void} cb - callback function.\n     * @return {() => void} unsubscribe callback.\n     *\n     * @example\n     * ```javascript\n     * //Single DOM element\n     * const unsubscribe = mySpring.onComplete(({ x,y... }) => {\n     *      domEl.style.prop = `...`\n     * })\n     * unsubscribe()\n     *\n     *\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return mySpring.onComplete(({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Similar to subscribe this callBack is launched when the data calculation stops (when the timeline ends or the scroll trigger is inactive).\n     * Useful for applying a different style to an inactive element.\n     * A typical example is to remove the teansform3D property:\n     * @example\n     * ```javascript\n     * // Use transform3D while item is active\n     * mySpring.subscribe(({x}) => {\n     *      domEl.style.transform = ` transform3D(0,0,0) translateX(${x}px)`\n     * })\n     *\n     * // Remove transform3D when item is inactive\n     * mySpring.onComplete(({x}) => {\n     *      domEl.style.transform = `translateX(${x}px)`\n     * })\n     * ```\n     */\n    onComplete(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = setCallBack(\n            cb,\n            this.callbackOnComplete\n        );\n        this.callbackOnComplete = arrayOfCallbackUpdated;\n\n        return () =>\n            (this.callbackOnComplete = unsubscribeCb(this.callbackOnComplete));\n    }\n\n    /**\n     * @param {(Object|HTMLElement)} item\n     * @param {function(any):void} fn - callback function.\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     *```javascript\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return mySpring.subscribeCache(item, ({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Callback that returns updated values ready to be usable, specific to manage large staggers.\n     */\n    subscribeCache(item, fn) {\n        const { arrayOfCallbackUpdated, unsubscribeCb, unsubscribeCache } =\n            setCallBackCache(\n                item,\n                fn,\n                this.callbackCache,\n                this.unsubscribeCache\n            );\n\n        this.callbackCache = arrayOfCallbackUpdated;\n        this.unsubscribeCache = unsubscribeCache;\n        return () => (this.callbackCache = unsubscribeCb(this.callbackCache));\n    }\n\n    /**\n     * @description\n     * Destroy tween\n     */\n    destroy() {\n        if (this.promise) this.stop();\n        this.callbackOnComplete = [];\n        this.callbackStartInPause = [];\n        this.callback = [];\n        this.callbackCache = [];\n        this.values = [];\n        this.promise = undefined;\n        this.unsubscribeCache.forEach((unsubscribe) => unsubscribe());\n        this.unsubscribeCache = [];\n    }\n}\n", "// @ts-check\n\nimport { getRoundedValue } from '../utils/animationUtils';\n\n/**\n * @param {Object} param\n * @param {import('./type').tweenStoreData[]} param.values\n * @param {number} param.timeElapsed\n * @param {number} param.duration\n * @param {Function} param.ease\n * @return {import('./type').tweenStoreData[]}\n */\nexport const tweenGetValueOnDraw = ({\n    values,\n    timeElapsed,\n    duration,\n    ease,\n}) => {\n    return values.map((item) => {\n        if (item.shouldUpdate) {\n            const rawCurrentValue = ease(\n                timeElapsed,\n                item.fromValue,\n                item.toValProcessed,\n                duration\n            );\n\n            return {\n                ...item,\n                currentValue: getRoundedValue(rawCurrentValue),\n            };\n        }\n\n        return {\n            ...item,\n            currentValue: item.fromValue,\n        };\n    });\n};\n", "// @ts-check\n\nimport { compareKeys } from '../utils/animationUtils.js';\nimport {\n    setFromCurrentByTo,\n    setFromToByCurrent,\n    setReverseValues,\n    setRelativeTween,\n} from '../utils/tweenAction/setValues.js';\nimport { mergeDeep } from '../../utils/mergeDeep.js';\nimport { setStagger } from '../utils/stagger/setStagger.js';\nimport { STAGGER_DEFAULT_INDEX_OBJ } from '../utils/stagger/staggerCostant.js';\nimport {\n    getStaggerFromProps,\n    getStaggerArray,\n} from '../utils/stagger/staggerUtils.js';\nimport {\n    defaultCallbackOnComplete,\n    defaultCallback,\n} from '../utils/callbacks/defaultCallback.js';\nimport {\n    setCallBack,\n    setCallBackCache,\n} from '../utils/callbacks/setCallback.js';\nimport {\n    goToUtils,\n    goFromUtils,\n    goFromToUtils,\n    setUtils,\n} from '../utils/tweenAction/actions.js';\nimport { initRaf } from '../utils/initRaf.js';\nimport {\n    compareKeysWarning,\n    staggerIsOutOfRangeWarning,\n} from '../utils/warning.js';\nimport { fpsLoadedLog } from '../utils/fpsLogInizialization.js';\nimport {\n    durationIsNumberOrFunctionIsValid,\n    easeTweenIsValid,\n    easeTweenIsValidGetFunction,\n    relativeIsValid,\n    valueIsBooleanAndTrue,\n} from '../utils/tweenAction/tweenValidation.js';\nimport { mobCore } from '../../../mobCore/index.js';\nimport { shouldInizializzeStagger } from '../utils/stagger/shouldInizialize.js';\nimport { mergeArrayTween } from '../utils/tweenAction/mergeArray.js';\nimport {\n    getValueObj,\n    getValueObjFromNative,\n    getValueObjToNative,\n} from '../utils/tweenAction/getValues.js';\nimport { tweenGetValueOnDraw } from './getValuesOnDraw.js';\n\nexport default class HandleTween {\n    /**\n     * @param {import('./type.js').tweenProps} [ data ]\n     *\n     * @example\n     * ```javascript\n     * const myTween = new HandleTween({\n     *   data: Object.<string, number>,\n     *   duration: Number,\n     *   ease: String,\n     *   relative: Boolean\n     *   stagger:{\n     *      each: Number,\n     *      from: Number|String|{x:number,y:number},\n     *      grid: {\n     *          col: Number,\n     *          row: Number,\n     *          direction: String\n     *      },\n     *      waitComplete: Boolean,\n     *   },\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     * myTween.set()\n     * myTween.goTo()\n     * myTween.goFrom()\n     * myTween.goFromTo()\n     * myTween.subscribe()\n     * myTween.subscribeCache()\n     * myTween.onComplete()\n     * myTween.updateEase()\n     * myTween.getId()\n     * myTween.get()\n     * myTween.getTo()\n     * myTween.getFrom()\n     * myTween.getToNativeType()\n     * myTween.getFromNativeType()\n     *\n     * ```\n     */\n    constructor(data) {\n        /**\n         *  This value lives from user call ( goTo etc..) until next call\n         **/\n\n        /**\n         * @private\n         * @type {Function}\n         */\n        this.ease = easeTweenIsValidGetFunction(data?.ease);\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.duration = durationIsNumberOrFunctionIsValid(data?.duration);\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.relative = relativeIsValid(data?.relative, 'tween');\n\n        /**\n         * @private\n         * @type {import('../utils/stagger/type.js').staggerObject}\n         */\n        this.stagger = getStaggerFromProps(data);\n\n        /**\n         * @private\n         * @type {string}\n         */\n        this.uniqueId = mobCore.getUnivoqueId();\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.isActive = false;\n\n        /**\n         * @private\n         * @type{( function(any):void )|undefined}\n         */\n        this.currentResolve = undefined;\n\n        /**\n         * @private\n         * @type{Function|undefined}\n         */\n        this.currentReject = undefined;\n\n        /**\n         * @private\n         * @type{Promise|undefined}\n         */\n        this.promise = undefined;\n\n        /**\n         * @private\n         * @type {import('./type.js').tweenStoreData[]}\n         */\n        this.values = [];\n\n        /**\n         * @private\n         * @type {import('./type.js').tweenInitialData[]}\n         */\n        this.initialData = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callback = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<string>[]}\n         */\n        this.callbackCache = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callbackOnComplete = [];\n\n        /**\n         * @private\n         * @type {import('../utils/callbacks/type.js').callbackObject<() => void>[]}\n         */\n        this.callbackStartInPause = [];\n\n        /**\n         * @private\n         * @type {Array<() => void>}\n         */\n        this.unsubscribeCache = [];\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.pauseStatus = false;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.comeFromResume = false;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.startTime = 0;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.isRunning = false;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.timeElapsed = 0;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.pauseTime = 0;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.firstRun = true;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.useStagger = true;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.fpsInLoading = false;\n\n        /**\n        This value is the base value merged with new value in custom prop\n        passed form user in goTo etc..\n         **/\n\n        /**\n         * @private\n         * @type{import('./type.js').tweenDefault}\n         */\n        this.defaultProps = {\n            duration: this.duration,\n            ease: easeTweenIsValid(data?.ease),\n            relative: this.relative,\n            reverse: false,\n            immediate: false,\n            immediateNoPromise: false,\n        };\n\n        /**\n        Stagger value\n         **/\n\n        /**\n         * @private\n         * @type {import('../utils/stagger/type.js').staggerDefaultIndex}\n         */\n        this.slowlestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n\n        /**\n         * @private\n         * @type {import('../utils/stagger/type.js').staggerDefaultIndex}\n         */\n        this.fastestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n\n        /**\n         * Set initial store data if defined in constructor props\n         * If not use setData methods\n         */\n\n        /**\n         * @private\n         */\n        const props = data?.data || null;\n        if (props) this.setData(props);\n    }\n\n    /**\n     * @param {number} time\n     * @param {Function} res\n     *\n     * @returns {void}\n     */\n    draw(time, res = () => {}) {\n        this.isActive = true;\n\n        if (this.pauseStatus) {\n            this.pauseTime = time - this.startTime - this.timeElapsed;\n        }\n        this.timeElapsed = time - this.startTime - this.pauseTime;\n\n        if (this.isRunning && Math.round(this.timeElapsed) >= this.duration) {\n            this.timeElapsed = this.duration;\n        }\n\n        this.values = tweenGetValueOnDraw({\n            values: this.values,\n            timeElapsed: this.timeElapsed,\n            duration: this.duration,\n            ease: this.ease,\n        });\n\n        const isSettled = Math.round(this.timeElapsed) === this.duration;\n\n        // Prepare an obj to pass to the callback\n        const callBackObject = getValueObj(this.values, 'currentValue');\n\n        defaultCallback({\n            stagger: this.stagger,\n            callback: this.callback,\n            callbackCache: this.callbackCache,\n            callBackObject: callBackObject,\n            useStagger: this.useStagger,\n        });\n\n        this.isRunning = true;\n\n        if (isSettled) {\n            const onComplete = () => {\n                this.isActive = false;\n                this.isRunning = false;\n                this.pauseTime = 0;\n\n                /**\n                 * End of animation\n                 * Set fromValue with ended value\n                 * At the next call fromValue become the start value\n                 */\n                this.values = [...this.values].map((item) => {\n                    if (!item.shouldUpdate) return item;\n\n                    return {\n                        ...item,\n                        toValue: item.currentValue,\n                        fromValue: item.currentValue,\n                    };\n                });\n\n                // On complete\n                if (!this.pauseStatus) {\n                    res();\n\n                    // Set promise reference to null once resolved\n                    this.promise = undefined;\n                    this.currentReject = undefined;\n                    this.currentResolve = undefined;\n                }\n            };\n\n            defaultCallbackOnComplete({\n                onComplete,\n                callback: this.callback,\n                callbackCache: this.callbackCache,\n                callbackOnComplete: this.callbackOnComplete,\n                callBackObject: callBackObject,\n                stagger: this.stagger,\n                slowlestStagger: this.slowlestStagger,\n                fastestStagger: this.fastestStagger,\n                useStagger: this.useStagger,\n            });\n\n            return;\n        }\n\n        mobCore.useFrame(() => {\n            mobCore.useNextTick(({ time }) => {\n                if (this.isActive) this.draw(time, res);\n            });\n        });\n    }\n\n    /**\n     * @private\n     * @param {number} time current global time\n     * @param {boolean} _fps current FPS\n     * @param {Function} res current promise resolve\n     *\n     * @returns {void}\n     **/\n    onReuqestAnim(time, _fps, res) {\n        this.startTime = time;\n        this.draw(time, res);\n    }\n\n    /**\n     * @description\n     * Inzialize stagger array\n     *\n     * @returns {Promise<any>}\n     */\n    async inzializeStagger() {\n        /**\n         * First time il there is a stagger load fps then go next step\n         * next time no need to calcaulte stagger and jump directly next step\n         *\n         **/\n        if (\n            shouldInizializzeStagger(\n                this.stagger.each,\n                this.firstRun,\n                this.callbackCache,\n                this.callback\n            )\n        ) {\n            const { averageFPS } = await mobCore.useFps();\n\n            fpsLoadedLog('tween', averageFPS);\n            const cb = getStaggerArray(this.callbackCache, this.callback);\n\n            if (this.stagger.grid.col > cb.length) {\n                staggerIsOutOfRangeWarning(cb.length);\n                this.firstRun = false;\n                return;\n            }\n\n            const {\n                staggerArray,\n                staggerArrayOnComplete,\n                fastestStagger,\n                slowlestStagger,\n            } = setStagger({\n                arrayDefault: cb,\n                arrayOnStop: this.callbackOnComplete,\n                stagger: this.stagger,\n                slowlestStagger: this.slowlestStagger,\n                fastestStagger: this.fastestStagger,\n            });\n\n            if (this.callbackCache.length > this.callback.length) {\n                this.callbackCache = staggerArray;\n            } else {\n                this.callback = staggerArray;\n            }\n            this.callbackOnComplete = staggerArrayOnComplete;\n            this.slowlestStagger = slowlestStagger;\n            this.fastestStagger = fastestStagger;\n            this.firstRun = false;\n        }\n\n        return { ready: true };\n    }\n\n    /**\n     * @private\n     * @param {function(any):void} res\n     * @param {Function} reject\n     *\n     * @returns {Promise}\n     */\n    async startRaf(res, reject) {\n        if (this.fpsInLoading) return;\n        this.currentResolve = res;\n        this.currentReject = reject;\n\n        if (this.firstRun) {\n            this.fpsInLoading = true;\n            await this.inzializeStagger();\n            this.fpsInLoading = false;\n        }\n\n        initRaf(\n            this.callbackStartInPause,\n            this.onReuqestAnim.bind(this),\n            this.pause.bind(this),\n            res\n        );\n    }\n\n    /**\n     * @param {import('./type.js').tweenStopProps} Stop props\n     * @returns {void}\n     *\n     * @description\n     *\n     * Stop tween and fire reject of current promise.\n     */\n    stop({ clearCache = true } = {}) {\n        this.pauseTime = 0;\n        this.pauseStatus = false;\n        this.comeFromResume = false;\n        this.values = setFromToByCurrent(this.values);\n\n        /**\n         * If isRunning clear all funture stagger.\n         * If tween is ended and the lst stagger is running, let it reach end position.\n         */\n        if (this.isActive && clearCache)\n            this.callbackCache.forEach(({ cb }) => mobCore.useCache.clean(cb));\n\n        // Abort promise\n        if (this.currentReject) {\n            this.currentReject(mobCore.ANIMATION_STOP_REJECT);\n            this.promise = undefined;\n            this.currentReject = undefined;\n            this.currentResolve = undefined;\n        }\n\n        this.isActive = false;\n    }\n\n    /**\n     * @description\n     * Pause the tween\n     *\n     * @returns {void}\n     */\n    pause() {\n        if (this.pauseStatus) return;\n        this.pauseStatus = true;\n    }\n\n    /**\n     * @description\n     * Resume tween in pause\n     *\n     * @returns {void}\n     */\n    resume() {\n        if (!this.pauseStatus) return;\n        this.pauseStatus = false;\n        this.comeFromResume = true;\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<number>} obj Initial data structure\n     * @returns {void}\n     *\n     * @description\n     * Set initial data structure, the method is call by data prop in constructor. In case of need it can be called after creating the instance\n     *\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * myTween.setData({ val: 100 });\n     * ```\n     */\n    setData(obj) {\n        this.values = Object.entries(obj).map((item) => {\n            const [prop, value] = item;\n            return {\n                prop: prop,\n                toValue: value,\n                toValueOnPause: value,\n                toValProcessed: value,\n                fromValue: value,\n                currentValue: value,\n                shouldUpdate: false,\n                fromFn: () => 0,\n                fromIsFn: false,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false, // not used, only for uniformity with lerp and spring\n            };\n        });\n\n        this.initialData = this.values.map((item) => {\n            return {\n                prop: item.prop,\n                toValue: item.toValue,\n                fromValue: item.fromValue,\n                currentValue: item.currentValue,\n                shouldUpdate: false,\n                fromFn: () => 0,\n                fromIsFn: false,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false, // not used, only for uniformity with lerp and spring\n            };\n        });\n    }\n\n    /**\n     * @description\n     * Reset data value with initial\n     *\n     * @returns {void}\n     */\n    resetData() {\n        this.values = mergeDeep(this.values, this.initialData);\n    }\n\n    /**\n     * @private\n     *\n     * @description\n     * Reject promise and update form value with current\n     *\n     * @returns {void}\n     */\n    updateDataWhileRunning() {\n        this.isActive = false;\n\n        // Reject promise\n        if (this.currentReject) {\n            this.currentReject(mobCore.ANIMATION_STOP_REJECT);\n            this.promise = undefined;\n        }\n\n        this.values = [...this.values].map((item) => {\n            if (!item.shouldUpdate) return item;\n\n            return {\n                ...item,\n                fromValue: item.currentValue,\n            };\n        });\n    }\n\n    /**\n     * @private\n     *\n     * @description\n     * Merge special props with default props\n     *\n     * @param  {import('./type.js').tweenAction} props\n     * @return {import('./type.js').tweenDefault} props merged\n     *\n     */\n    mergeProps(props) {\n        const newProps = { ...this.defaultProps, ...props };\n        const { ease, duration, relative } = newProps;\n        this.ease = easeTweenIsValidGetFunction(ease);\n        this.relative = relativeIsValid(relative, 'tween');\n        this.duration = durationIsNumberOrFunctionIsValid(duration);\n        return newProps;\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj to Values\n     * @param {import('./type.js').tweenAction} props special props\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     * myTween.goTo(\n     *     { string: ( Number|Function ) },\n     *     {\n     *         reverse: [ Boolean ],\n     *         duration: [ ( Number|Function ) ],\n     *         ease: [ String ],\n     *         relative: [ Boolean ],\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     * @description\n     *  Transform some properties of your choice from the `current value` to the `entered value`.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - duration\n     *   - ease\n     *   - relative\n     *   - reverse\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     *\n     */\n    goTo(obj, props = {}) {\n        if (this.pauseStatus || this.comeFromResume) this.stop();\n        this.useStagger = true;\n        const data = goToUtils(obj);\n        return this.doAction(data, props, obj);\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj from Values\n     * @param {import('./type.js').tweenAction} props special props\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * myTween.goFrom(\n     *     { string: ( Number|Function ) },\n     *     {\n     *         reverse: [ Boolean ],\n     *         duration: [ ( Number|Function ) ],\n     *         ease: [ String ],\n     *         relative: [ Boolean ],\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     * @description\n     *  Transform some properties of your choice from the `entered value` to the `current value`.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - duration\n     *   - ease\n     *   - relative\n     *   - reverse\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     */\n    goFrom(obj, props = {}) {\n        if (this.pauseStatus || this.comeFromResume) this.stop();\n        this.useStagger = true;\n        const data = goFromUtils(obj);\n        return this.doAction(data, props, obj);\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} fromObj from Values\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} toObj to Values\n     * @param {import('./type.js').tweenAction} props special props\n     * @returns {Promise|void|null} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * myTween.goFromTo(\n     *     { string: ( Number|Function ) },\n     *     { string: ( Number|Function ) },\n     *     {\n     *         reverse: [ Boolean ],\n     *         duration: [ ( Number|Function ) ],\n     *         ease: [ String ],\n     *         relative: [ Boolean ],\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     * @description\n     *  Transform some properties of your choice from the `first entered value` to the `second entered value`.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - duration\n     *   - ease\n     *   - relative\n     *   - reverse\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     */\n    goFromTo(fromObj, toObj, props = {}) {\n        if (this.pauseStatus || this.comeFromResume) this.stop();\n        this.useStagger = true;\n\n        if (!compareKeys(fromObj, toObj)) {\n            compareKeysWarning('tween goFromTo:', fromObj, toObj);\n            return this.promise;\n        }\n\n        const data = goFromToUtils(fromObj, toObj);\n        return this.doAction(data, props, fromObj);\n    }\n\n    /**\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj to Values\n     * @param {import('./type.js').tweenCommonPropsTween } props special props\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * myTween.set(\n     *     { string: ( Number|Function ) },\n     *     {\n     *         immediate [ Boolean ],\n     *         immediateNoPromise: [ Boolean ]\n     *     }\n     * ).then(() => { ... }).catch(() => { ... });\n     *\n     *\n     * ```\n     *  Transform some properties of your choice from the `current value` to the `entered value` immediately.\n     *  The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     *  It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *   - immediate (internal use)\n     *   - immediateNoPromise (internal use)\n     */\n    set(obj, props = {}) {\n        if (this.pauseStatus || this.comeFromResume) this.stop();\n        this.useStagger = false;\n        const data = setUtils(obj);\n\n        // In set mode duration is small as possible\n        props.duration = 1;\n        return this.doAction(data, props, obj);\n    }\n\n    /**\n     * @private\n     *\n     * @param {import('../utils/tweenAction/type.js').allActionType[]} data Updated data\n     * @param {import('./type.js').tweenAction} props special props\n     * @param {import('../utils/tweenAction/type.js').valueToparseType<(number|Function)>} obj new data obj come from set/goTo/goFrom/goFromTo\n     * @returns {Promise|void} Return a promise which is resolved when tween is over\n     *\n     * @description\n     * Common oparation for set/goTo/goFrom/goFromTo methods.\n     * It is the method that updates the internal store\n     */\n    doAction(data, props, obj) {\n        this.values = mergeArrayTween(data, this.values);\n        if (this.isActive) this.updateDataWhileRunning();\n\n        const { reverse, immediate, immediateNoPromise } =\n            this.mergeProps(props);\n\n        if (valueIsBooleanAndTrue(reverse, 'reverse'))\n            this.value = setReverseValues(obj, this.values);\n\n        this.values = setRelativeTween(this.values, this.relative);\n\n        if (valueIsBooleanAndTrue(immediate, 'immediate ')) {\n            this.isActive = false;\n            this.values = setFromCurrentByTo(this.values);\n            return Promise.resolve();\n        }\n\n        if (valueIsBooleanAndTrue(immediateNoPromise, 'immediateNoPromise')) {\n            this.isActive = false;\n            this.values = setFromCurrentByTo(this.values);\n            return;\n        }\n\n        if (!this.isActive) {\n            this.promise = new Promise((res, reject) => {\n                this.startRaf(res, reject);\n            });\n        }\n\n        if (this.promise) return this.promise;\n    }\n\n    /**\n     * @description\n     * Get current values, If the single value is a function it returns the result of the function.\n     *\n     * @return {import('../utils/tweenAction/type.js').valueToparseType} current value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myTween.get();\n     * ```\n     */\n    get() {\n        return getValueObj(this.values, 'currentValue');\n    }\n\n    /**\n     * @description\n     * Get initial values, If the single value is a function it returns the result of the function.\n     *\n     * @return {import('../utils/tweenAction/type.js').valueToparseType} initial value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myTween.getIntialData();\n     * ```\n     */\n    getInitialData() {\n        return getValueObj(this.initialData, 'currentValue');\n    }\n\n    /**\n     * @description\n     * Get from values, If the single value is a function it returns the result of the function.\n     *\n     * @return {import('../utils/tweenAction/type.js').valueToparseType} from value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myTween.getFrom();\n     * ```\n     */\n    getFrom() {\n        return getValueObj(this.values, 'fromValue');\n    }\n\n    /**\n     * @description\n     * Get to values, If the single value is a function it returns the result of the function.\n     *\n     * @return {Object} to value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myTween.getTo();\n     * ```\n     */\n    getTo() {\n        return getValueObj(this.values, 'toValue');\n    }\n\n    /**\n     * @description\n     * Get From values, if the single value is a function it returns the same function.\n     *\n     * @return {Object} from value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myTween.getFromNativeType();\n     * ```\n     */\n    getFromNativeType() {\n        return getValueObjFromNative(this.values);\n    }\n\n    /**\n     * @description\n     * Get To values, if the single value is a function it returns the same function.\n     *\n     * @return {Object} to value obj.\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const { prop } = myTween.getToNativeType();\n     * ```\n     */\n    getToNativeType() {\n        return getValueObjToNative(this.values);\n    }\n\n    /**\n     * @description\n     * Get tween type\n     *\n     * @return {string} tween type\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const type = myTween.getType();\n     * ```\n     */\n    getType() {\n        return 'TWEEN';\n    }\n\n    /**\n     * @description\n     * Get univoque Id\n     *\n     * @return {string} Univoque Id\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * const type = myTween.getId();\n     * ```\n     */\n    getId() {\n        return this.uniqueId;\n    }\n\n    /**\n     * Update ease with new preset\n     *\n     * @param {import('./type.js').easeTypes} ease\n     *\n     */\n    updateEase(ease) {\n        this.ease = easeTweenIsValidGetFunction(ease);\n        this.defaultProps = mergeDeep(this.defaultProps, {\n            ease,\n        });\n    }\n\n    /**\n     * @param {() => void} cb - callback function.\n     * @return {() => void} unsubscribe callback.\n     *\n     * @example\n     * ```javascript\n     * //Single DOM element\n     * const unsubscribe = myTween.subscribe(({ x,y... }) => {\n     *      domEl.style.prop = `...`\n     * })\n     * unsubscribe()\n     *\n     *\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return myTween.subscribe(({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Callback that returns updated values ready to be usable, it is advisable to use it for single elements, although it works well on a not too large number of elements (approximately 100-200 elements) for large staggers it is advisable to use the subscribeCache method .\n     */\n    subscribe(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = setCallBack(\n            cb,\n            this.callback\n        );\n        this.callback = arrayOfCallbackUpdated;\n\n        return () => (this.callback = unsubscribeCb(this.callback));\n    }\n\n    /**\n     * Support callback to asyncTimeline.\n     * Callback to manage the departure of tweens in a timeline. If a delay is applied to the tween and before the delay ends the timeline pauses the tween at the end of the delay will automatically pause.\n     * Add callback to start in pause to stack\n     *\n     * @param  {() => void} cb cal function\n     * @return {() => void} unsubscribe callback\n     *\n     */\n    onStartInPause(cb) {\n        const { arrayOfCallbackUpdated } = setCallBack(\n            cb,\n            this.callbackStartInPause\n        );\n        this.callbackStartInPause = arrayOfCallbackUpdated;\n\n        return () => (this.callbackStartInPause = []);\n    }\n\n    /**\n     * @param {() => void} cb - callback function.\n     * @return {() => void} unsubscribe callback.\n     *\n     * @example\n     * ```javascript\n     * //Single DOM element\n     * const unsubscribe = myTween.onComplete(({ x,y... }) => {\n     *      domEl.style.prop = `...`\n     * })\n     * unsubscribe()\n     *\n     *\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return myTween.onComplete(({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Similar to subscribe this callBack is launched when the data calculation stops (when the timeline ends or the scroll trigger is inactive).\n     * Useful for applying a different style to an inactive element.\n     * A typical example is to remove the teansform3D property:\n     *\n     * @example\n     * ```javascript\n     * // Use transform3D while item is active\n     * myTween.subscribe(({x}) => {\n     *      domEl.style.transform = ` transform3D(0,0,0) translateX(${x}px)`\n     * })\n     *\n     * // Remove transform3D when item is inactive\n     * myTween.onComplete(({x}) => {\n     *      domEl.style.transform = `translateX(${x}px)`\n     * })\n     * ```\n     */\n    onComplete(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = setCallBack(\n            cb,\n            this.callbackOnComplete\n        );\n        this.callbackOnComplete = arrayOfCallbackUpdated;\n\n        return () =>\n            (this.callbackOnComplete = unsubscribeCb(this.callbackOnComplete));\n    }\n\n    /**\n     * @param {(Object|HTMLElement)} item\n     * @param {function(any):void} fn - callback function.\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     *```javascript\n     * //Multiple DOM element ( stagger )\n     * const unsubscribeStagger = [...elements].map((item) => {\n     *   return myTween.subscribeCache(item, ({ x, y... }) => {\n     *       item.style.prop = ...\n     *   });\n     * });\n     * unsubscribeStagger.forEach((item) => item());\n     *\n     *\n     * ```\n     * @description\n     * Callback that returns updated values ready to be usable, specific to manage large staggers.\n     */\n    subscribeCache(item, fn) {\n        const { arrayOfCallbackUpdated, unsubscribeCb, unsubscribeCache } =\n            setCallBackCache(\n                item,\n                fn,\n                this.callbackCache,\n                this.unsubscribeCache\n            );\n\n        this.callbackCache = arrayOfCallbackUpdated;\n        this.unsubscribeCache = unsubscribeCache;\n        return () => (this.callbackCache = unsubscribeCb(this.callbackCache));\n    }\n\n    /**\n     * @description\n     * Destroy tween\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.promise) this.stop();\n        this.callbackOnComplete = [];\n        this.callbackStartInPause = [];\n        this.callback = [];\n        this.callbackCache = [];\n        this.values = [];\n        this.promise = undefined;\n        this.unsubscribeCache.forEach((unsubscribe) => unsubscribe());\n        this.unsubscribeCache = [];\n    }\n}\n", "// @ts-check\n\nimport { getRoundedValue } from '../utils/animationUtils.js';\nimport { setStagger } from '../utils/stagger/setStagger.js';\nimport {\n    STAGGER_TYPE_START,\n    STAGGER_TYPE_END,\n    STAGGER_TYPE_CENTER,\n    STAGGER_TYPE_EQUAL,\n    STAGGER_DEFAULT_INDEX_OBJ,\n} from '../utils/stagger/staggerCostant.js';\nimport {\n    createStaggerEachWarning,\n    createStaggerItemsTypeWarning,\n    staggerIsOutOfRangeWarning,\n} from '../utils/warning.js';\nimport {\n    durationIsValid,\n    staggerItemsIsValid,\n    validateStaggerItems,\n} from '../utils/tweenAction/tweenValidation.js';\nimport { getStaggerFromProps } from '../utils/stagger/staggerUtils.js';\nimport { mobCore } from '../../../mobCore/index.js';\n\n/**\n * @param {object} obj\n * @param {number} obj.each\n * @param {number} obj.duration\n * @param {number} obj.numItem\n * @param {number} obj.index\n * @param {number} obj.eachByNumItem\n *\n * @returns {{start:number, end:number}}\n */\nconst getStaggerEqual = ({ each, duration, numItem, index, eachByNumItem }) => {\n    if (each === 1) {\n        const stepDuration = duration / numItem;\n        const start = getRoundedValue(index * stepDuration);\n        const end = getRoundedValue(start + stepDuration);\n        return { start, end };\n    }\n\n    const unit = duration / numItem;\n    const staggerDuration = unit * eachByNumItem;\n    const remainSpace = duration - staggerDuration;\n\n    // Avoid division with 0\n    const validNumItem = numItem - 1 > 0 ? numItem - 1 : 1;\n    const remainSpaceUnit = remainSpace / validNumItem;\n    const staggerStart = remainSpaceUnit * index;\n\n    return {\n        start: getRoundedValue(staggerStart),\n        end: getRoundedValue(staggerDuration + staggerStart),\n    };\n};\n\n/**\n * @param {object} obj\n * @param {number} obj.duration\n * @param {number} obj.numItem\n * @param {number} obj.index\n * @param {number} obj.eachByNumItem\n * @param {string} obj.type\n *\n * @returns {{start:number, end:number}}\n */\nconst getStaggerSpecial = ({\n    duration,\n    numItem,\n    index,\n    eachByNumItem,\n    type,\n}) => {\n    const unit = duration / numItem;\n    const cleanStart = unit * index;\n    const noopSpace = duration - (duration - cleanStart);\n    const gap = (noopSpace / numItem) * eachByNumItem;\n\n    if (type === STAGGER_TYPE_START) {\n        return {\n            start: 0,\n            end: getRoundedValue(duration - (cleanStart - gap)),\n        };\n    }\n\n    if (type === STAGGER_TYPE_CENTER) {\n        const space = (cleanStart - gap) / 2;\n        return {\n            start: getRoundedValue(space),\n            end: getRoundedValue(duration - space),\n        };\n    }\n\n    if (type === STAGGER_TYPE_END) {\n        return {\n            start: getRoundedValue(cleanStart - gap),\n            end: getRoundedValue(duration),\n        };\n    }\n\n    /**\n     * Fallback\n     */\n    return {\n        start: 0,\n        end: duration,\n    };\n};\n\n/**\n * @param { import('./type.js').createSequencerType & import('../utils/stagger/type.js').staggerPropiertiesObject } data\n * @returns {import('./type.js').createStagger[]} Stagger array\n *\n * @example\n * ```javascript\n *\n *\n * const staggers = createStagger({\n *     items: Array.<Element|Object>,\n *     stagger: {\n *         stagger.type: [ String ],\n *         from: [ Number|String|{x:number,y:number} ],\n *         grid: {\n *             col: [ Number ],\n *             row: [ Number ],\n *             direction: [ String ]\n *         },\n *     },\n *     duration: [ Number ],\n * });\n *\n *\n * staggers.forEach(({ item, start, end, index }) => {\n *     const sequencer = mobbu\n *         .createSequencer({ ... })\n *         .goTo({ ... }, { start, end ...});\n *     sequencer.subscribe(({ ... }) => { ... });\n *     masterSequencer.add(sequencer);\n * });\n *\n * ```\n *\n * @description\n *\n * ```\n */\nexport const createStaggers = (data) => {\n    const items = staggerItemsIsValid(data?.items);\n    const stagger = getStaggerFromProps(data);\n    const duration = durationIsValid(data?.duration);\n    const eachProportion = 10;\n\n    /**\n     * In createStagger each must be > 0\n     */\n    let each = stagger?.each || 1;\n\n    /*\n     * Re-checking the array of items to be able to return a fallback\n     */\n    const fallBack = [...items].map((item, i) => {\n        return {\n            item,\n            start: 0,\n            end: duration,\n            index: i,\n        };\n    });\n\n    /**\n     * Check of array length is > 0\n     * Recheck the items array after inizializtion to return fallback\n     */\n    if (!validateStaggerItems(items)) {\n        return fallBack;\n    }\n\n    /**\n     * Secure check\n     **/\n    if (stagger.grid?.col > items.length) {\n        staggerIsOutOfRangeWarning(items.length);\n        each = 1;\n    }\n\n    /**\n     * In classic mode each must be between 1 and eachProportion\n     */\n    if (\n        mobCore.checkType(Number, each) &&\n        (each > eachProportion || each < 1)\n    ) {\n        createStaggerEachWarning(eachProportion);\n        each = 1;\n    }\n\n    /**\n     * Create stagger Array\n     */\n    const { staggerArray } = setStagger({\n        arrayDefault: [...items].map((item) => ({ item })),\n        arrayOnStop: [],\n        stagger: stagger,\n        slowlestStagger: STAGGER_DEFAULT_INDEX_OBJ,\n        fastestStagger: STAGGER_DEFAULT_INDEX_OBJ,\n    });\n\n    /**\n     * Remove element with no dom item ,is possible with row and item fantasiose\n     * In tween there is no problem beciuse use NOOP callback\n     * Accept only dom element and object\n     * */\n    const staggerArrayFiltered = staggerArray.filter(\n        ({ item }) =>\n            mobCore.checkType(Element, item) || mobCore.checkType(Object, item)\n    );\n\n    if (staggerArrayFiltered.length === 0) {\n        createStaggerItemsTypeWarning();\n        return fallBack;\n    }\n\n    /*\n     * Get the 'Chunk' number\n     * 1 - Create an array with all the frame es: [1,1,2,2,2,3,3,3]\n     * 2 - Remove the duplicate frame es; [1,2,3]\n     * 3 - The length of resulted array is the number of 'chunck' es: 3\n     */\n    const frameArray = staggerArrayFiltered.map(({ frame }) => frame);\n    const frameSet = [...new Set(frameArray)].sort((a, b) => a - b);\n    const numItem = frameSet.length;\n\n    /*\n     * Final Array\n     */\n    const staggers = staggerArrayFiltered.map(({ item, frame }) => {\n        const index = frameSet.indexOf(frame);\n        const eachByNumItem = (each * numItem) / eachProportion;\n\n        const { start, end } = (() => {\n            if (stagger.type === STAGGER_TYPE_EQUAL) {\n                return getStaggerEqual({\n                    each,\n                    duration,\n                    numItem,\n                    index,\n                    eachByNumItem,\n                });\n            }\n\n            if (\n                stagger.type === STAGGER_TYPE_START ||\n                stagger.type === STAGGER_TYPE_END ||\n                stagger.type === STAGGER_TYPE_CENTER\n            ) {\n                return getStaggerSpecial({\n                    duration,\n                    numItem,\n                    index,\n                    eachByNumItem,\n                    type: stagger.type,\n                });\n            }\n\n            /**\n             * Fallback\n             */\n            return {\n                start: 0,\n                end: duration,\n            };\n        })();\n\n        return {\n            item,\n            start,\n            end,\n            index,\n        };\n    });\n\n    return staggers;\n};\n", "// @ts-check\n\nimport HandleLerp from './animation/lerp/handleLerp.js';\nimport ParallaxTween from './animation/parallax/parallaxTween.js';\nimport HandleMasterSequencer from './animation/sequencer/handleMasterSequencer.js';\nimport HandleSequencer from './animation/sequencer/handleSequencer.js';\nimport HandleSpring from './animation/spring/handleSpring.js';\nimport HandleTween from './animation/tween/handleTween.js';\nimport { createStaggers } from './animation/sequencer/createStagger.js';\n\nexport const tween = {\n    /**\n     * @param {import('./animation/parallax/type.js').parallaxTweenType} data\n     *\n     * @example\n     * ```javascript\n     * Property schema:\n     *\n     *\n     * const myScrollerTween = tween.createScrollerTween({\n     *   from: Object.<string, number>,\n     *   to: Object.<string, number>,\n     *   ease: [ String ],\n     *   stagger:{\n     *      each: [ Number ],\n     *      from: [ Number|String|{x:number,y:number} ],\n     *      grid: {\n     *          col: [ Number ],\n     *          row: [ Number ],\n     *          direction: [ String ]\n     *      },\n     *   },\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Simplified tween specific to be used with scrollTrigger as an alternative to the more complex sequencer, ParallaxTween requires only one mutation step (from / to).\n     *\n     * Available methods:\n     * ```javascript\n     * myScrollerTween.subscribe()\n     * myScrollerTween.subscribeCache()\n     * myScrollerTween.onStop()\n     *\n     * ```\n     */\n    createScrollerTween(data) {\n        return new ParallaxTween(data);\n    },\n\n    /**\n     * @param {import('./animation/sequencer/type.js').sequencerProps} data\n     *\n     * @example\n     * ```javascript\n     * Property schema:\n     *\n     *\n     * const mySequencer = tween.createSequencer({\n     *   data: Object.<string, number>,\n     *   duration: [ Number ],\n     *   ease: [ String ],\n     *   stagger:{\n     *      each: [ Number ],\n     *      from: [ Number|String|{x:number,y:number} ],\n     *      grid: {\n     *          col: [ Number ],\n     *          row: [ Number ],\n     *          direction: [ String ]\n     *      },\n     *   },\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     * mySequencer.goTo()\n     * mySequencer.goFrom()\n     * mySequencer.goFromTo()\n     * mySequencer.add()\n     * mySequencer.label()\n     * mySequencer.subscribe()\n     * mySequencer.subscribeCache()\n     * mySequencer.onStop()\n     *\n     * ```\n     */\n    createSequencer(data) {\n        return new HandleSequencer(data);\n    },\n\n    /**\n     * @description\n     *\n      Support class for grouping multiple sequencers.\n      Very useful when generating sequencers dynamically, such as through the use of a createStagger.\n      The following example uses a timeline but the same can be done using a scrollTrigger.\n     *\n     *\n     * @example\n     *\n     * ```javascript\n     * cont masterSequencer = tween.createMasterSequencer();\n     * const staggers = tween.createStaggers({})\n     * staggers.forEach(({ item, start, end, index }) => {\n     *     const sequencer = tween\n     *         .createSequencer({ ... })\n     *         .goTo({ ... }, { start, end ...});\n     *     sequencer.subscribe(({ ... }) => { ... });\n     *     masterSequencer.add(sequencer);\n     * });\n     * const timeline = timeline.createSyncTimeline({}).add(masterSequencer)\n     * ```\n     */\n    createMasterSequencer() {\n        return new HandleMasterSequencer();\n    },\n\n    /**\n     * @param { import('./animation/sequencer/type.js').createSequencerType & import('./animation/utils/stagger/type.js').staggerPropiertiesObject } data\n     * @returns {Array<{ start: Number, end: Number,index: Number, item: (HTMLElement|Object) }>} Stagger array\n     *\n     * @example\n     * ```javascript\n     * Property schema:\n     *\n     *\n     * const staggers = tween.createStaggers({\n     *     items: Array.<Element|Object>,\n     *     stagger: {\n     *         type: [ String ],\n     *         from: [ Number|String|{x:number,y:number} ],\n     *         grid: {\n     *             col: [ Number ],\n     *             row: [ Number ],\n     *             direction: [ String ]\n     *         },\n     *     },\n     *     duration: [ Number ],\n     * });\n     *\n     *\n     * staggers.forEach(({ item, start, end, index }) => {\n     *     const sequencer = tween\n     *         .createSequencer({ ... })\n     *         .goTo({ ... }, { start, end ...});\n     *     sequencer.subscribe(({ ... }) => { ... });\n     *     masterSequencer.add(sequencer);\n     * });\n     *\n     * ```\n     *\n     * @description\n     *\n     * ```\n     */\n    createStaggers(data) {\n        return createStaggers(data);\n    },\n\n    /**\n     * @param {import('./animation/tween/type.js').tweenProps} data\n     *\n     * @example\n     * ```javascript\n     * Property schema:\n     *\n     *\n     * const myTween = tween.createTween({\n     *   data: Object.<string, number>,\n     *   duration: [ Number ],\n     *   ease: [ String ],\n     *   relative: [ Boolean ]\n     *   stagger:{\n     *      each: [ Number ],\n     *      from: [ Number|String|{x:number,y:number} ],\n     *      grid: {\n     *          col: [ Number ],\n     *          row: [ Number ],\n     *          direction: [ String ]\n     *      },\n     *      waitComplete: [ Boolean ],\n     *   },\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     * myTween.set()\n     * myTween.goTo()\n     * myTween.goFrom()\n     * myTween.goFromTo()\n     * myTween.subscribe()\n     * myTween.subscribeCache()\n     * myTween.onComplete()\n     * myTween.updateEase()\n     * myTween.getId()\n     * myTween.get()\n     * myTween.getTo()\n     * myTween.getFrom()\n     * myTween.getToNativeType()\n     * myTween.getFromNativeType()\n     *\n     * ```\n     */\n    createTween(data) {\n        return new HandleTween(data);\n    },\n\n    /**\n     * @param {import('./animation/spring/type.js').springTweenProps} data\n     *\n     *\n     * @example\n     * ```javascript\n     * Property schema:\n     *\n     *\n     * const mySpring = tween.createSpring({\n     *   data: Object.<string, number>,\n     *   config: [ String ],\n     *   configProp: {\n     *      tension: [ Number ],\n     *      mass: [ Number ],\n     *      friction: [ Number ],\n     *      velocity: [ Number ],\n     *      precision: [ Number ],\n     *   },\n     *   relative: [ Boolean ]\n     *   stagger:{\n     *      each: [ Number ],\n     *      from: [ Number|String|{x:number,y:number} ],\n     *      grid: {\n     *          col: [ Number ],\n     *          row: [ Number ],\n     *          direction: [ String ],\n     *      },\n     *      waitComplete: [ Boolean ],\n     *   },\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     * mySpring.set()\n     * mySpring.goTo()\n     * mySpring.goFrom()\n     * mySpring.goFromTo()\n     * mySpring.subscribe()\n     * mySpring.subscribeCache()\n     * mySpring.onComplete()\n     * mySpring.updateConfigProp()\n     * mySpring.updateConfig()\n     * mySpring.getId()\n     * mySpring.get()\n     * mySpring.getTo()\n     * mySpring.getFrom()\n     * mySpring.getToNativeType()\n     * mySpring.getFromNativeType()\n     *\n     * ```\n     */\n    createSpring(data) {\n        return new HandleSpring(data);\n    },\n\n    /**\n     * @param {import('./animation/lerp/type.js').lerpTweenProps} data\n     *\n     * @example\n     * ```javascript\n     * Property schema:\n     *\n     *\n     * const myLerp = tween.createLerp({\n     *   data: Object.<string, number>,\n     *   precision: [ Number ],\n     *   velocity: [ Number ],\n     *   relative: [ Boolean ]\n     *   stagger:{\n     *      each: [ Number ],\n     *      from: [ Number|String|{x:number,y:number} ],\n     *      grid: {\n     *          col: [ Number ],\n     *          row: [ Number ],\n     *          direction: [ String ],\n     *      },\n     *      waitComplete: [ Boolean ],\n     *   },\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     * myLerp.set()\n     * myLerp.goTo()\n     * myLerp.goFrom()\n     * myLerp.goFromTo()\n     * myLerp.subscribe()\n     * myLerp.subscribeCache()\n     * myLerp.onComplete()\n     * myLerp.updateVelocity()\n     * myLerp.updatePrecision()\n     * myLerp.getId()\n     * myLerp.get()\n     * myLerp.getTo()\n     * myLerp.getFrom()\n     * myLerp.getToNativeType()\n     * myLerp.getFromNativeType()\n     *\n     * ```\n     */\n    createLerp(data) {\n        return new HandleLerp(data);\n    },\n};\n", "// @ts-check\n\n/**\n *@type {Function}\n */\nexport const NOOP = () => {};\n\n/**\n * @param {...function():promise} functions\n * @returns {function(any):Promise}\n *\n * @description\n * Pipe chain of function that return a promise.\n *\n * @example\n *\n *``` javascript\n * pipe(\n *     myFunction1,\n *     myFunction2,\n *     myFunction3,\n * )(initalValue).then((result) => {\n *     ....\n * });\n * ```\n */\nexport const pipe =\n    (...functions) =>\n    (input) =>\n        functions.reduce(\n            (chain, func) => chain.then(func),\n            Promise.resolve(input)\n        );\n", "// @ts-check\n\n/**\n * @param {import(\"../utils/tweenAction/type\").valueToparseType} data\n * @param {import(\"../utils/tweenAction/type\").valueToparseType} activeData\n *\n * @description\n * From data object return an object filtered by props in activeData\n */\nexport const asyncReduceData = (data, activeData) => {\n    return Object.entries(data)\n        .map((item) => {\n            const [prop, val] = item;\n            const valueIsValid = prop in activeData;\n            return { data: { [prop]: val }, active: valueIsValid };\n        })\n        .filter(({ active }) => active)\n        .map(({ data }) => data)\n        .reduce((p, c) => {\n            return { ...p, ...c };\n        }, {});\n};\n", "// @ts-check\n\nimport { asyncReduceData } from './asyncReduceData';\n\n/**\n * @param {Array<import('./type').asyncTimelineTweenItem[]>} tweenList\n * @param {object} tween\n * @param {number} index\n *\n * @returns {import('../utils/tweenAction/type').valueToparseType}\n *\n * @description\n * Get Obj data of tween in specific index\n * Indlude check when multiple tween is synchronized\n * index: get data until specific index\n */\nexport const asyncReduceTween = (tweenList, tween, index) => {\n    let currentId = tween?.getId?.();\n    const initialData = tween?.getInitialData?.() || {};\n\n    return tweenList.slice(0, index).reduce((p, c) => {\n        /*\n         * Sync must be outside group so is at 0\n         */\n        const currentFirstData = c[0].data;\n        const action = currentFirstData.action;\n\n        /*\n         * If tween is synchronize with another tween,\n         * switch currenTween to the new one\n         */\n        if (action === 'sync') {\n            const syncProp = currentFirstData?.syncProp;\n\n            const from = {\n                // tween: syncProp.from,\n                id: syncProp.from?.getId?.(),\n            };\n            const to = {\n                tween: syncProp.to,\n                id: syncProp.to?.getId?.(),\n            };\n\n            /*\n             * Switch current id ( uniqueID )\n             */\n            if (from.id === currentId) {\n                currentId = to.id;\n            }\n        }\n\n        const currentTween = c.find(({ data }) => {\n            const uniqueId = data?.tween?.getId?.();\n            return uniqueId === currentId;\n        });\n\n        /*\n         * Align isntant without promise the tween so we have all the data of tween\n         * the current and the previous merged\n         */\n        currentTween?.data?.tween?.set?.(currentTween?.data?.valuesTo, {\n            immediateNoPromise: true,\n        });\n\n        const currentValueTo = currentTween?.data?.tween?.getToNativeType?.();\n\n        /*\n         * Filter only the prop in use in this step\n         */\n        const propsInUse =\n            currentValueTo && currentTween\n                ? asyncReduceData(currentValueTo, currentTween.data.valuesTo)\n                : {};\n\n        return { ...p, ...propsInUse };\n    }, initialData);\n};\n", "// @ts-check\n\nimport { NOOP } from '../../utils/functionsUtils';\n\n/**\n * @param {Object} param\n * @param {(reason?: any) => void} param.reject\n * @param {(reason?: any) => void} param.res\n * @param {boolean} param.isStopped\n * @param {boolean} param.startOnDelay\n * @param {boolean} param.isInPause\n * @param {(tween: any) => function} param.addToActiveTween\n * @param {number} param.previousSessionId\n * @param {number} param.currentSessionId\n * @param {any} param.tween\n * @param {Object} param.fn\n * @param {string} param.action\n */\nexport const resolveTweenPromise = ({\n    reject,\n    res,\n    isStopped,\n    startOnDelay,\n    previousSessionId,\n    currentSessionId,\n    isInPause,\n    tween,\n    fn,\n    action,\n    addToActiveTween,\n}) => {\n    /*\n     * IF:\n     * --\n     * this.isStopped: Timeline is stopped\n     * --\n     * this.startOnDelay: play() etc.. is firedin delay\n     * --\n     * sessionId: another tween is fired and this tween is in a\n     * { waitComplete: false }, so the promise is resolved but\n     * this tween is in delay status, if antther session start\n     * the value of this.sessionId change,\n     * in this case isStopped doesn't work because next\n     * session set it to true\n     * --\n     */\n\n    if (isStopped || startOnDelay || previousSessionId !== currentSessionId) {\n        reject();\n        return;\n    }\n\n    /*\n     * Add tween to active stack\n     */\n    const unsubscribeActiveTween = addToActiveTween(tween);\n\n    /*\n     * Add tween to active stack, if timelienstatus is in pause\n     * onStartInPause methods trigger pause status inside\n     */\n    const unsubscribeTweenStartInPause =\n        tween && tween?.onStartInPause\n            ? tween.onStartInPause(() => {\n                  return isInPause;\n              })\n            : NOOP;\n\n    fn[action]()\n        .then(() => res({ resolve: true }))\n        .catch(() => {})\n        .finally(() => {\n            unsubscribeActiveTween();\n            unsubscribeTweenStartInPause();\n        });\n};\n", "// @ts-check\n\nimport { handleNextFrame } from '../../../mobCore/events/rafutils/handleNextFrame.js';\nimport { handleNextTick } from '../../../mobCore/events/rafutils/handleNextTick.js';\nimport { mobCore } from '../../../mobCore/index.js';\nimport { NOOP } from '../../utils/functionsUtils.js';\nimport { directionConstant } from '../utils/timeline/timelineConstant.js';\nimport {\n    addAsyncFunctionIsValid,\n    asyncTimelineDelayIsValid,\n    asyncTimelineTweenIsValid,\n    functionIsValidAndReturnDefault,\n    playLabelIsValid,\n    repeatIsValid,\n    timelineSetTweenArrayIsValid,\n    timelineSetTweenLabelIsValid,\n    valueIsBooleanAndReturnDefault,\n    valueStringIsValid,\n} from '../utils/tweenAction/tweenValidation.js';\nimport {\n    asyncTimelineMetodsInsideGroupWarining,\n    relativePropInsideTimelineWarning,\n    timelineReverseGoFromWarning,\n    timelineSetTweenFailWarining,\n    timelineSetTweenLabelNotFoundWarining,\n    timelineSuspendWarning,\n} from '../utils/warning.js';\nimport { asyncReduceData } from './asyncReduceData.js';\nimport { asyncReduceTween } from './asyncReduceTween.js';\nimport { resolveTweenPromise } from './loopCallback.js';\n\nexport default class HandleAsyncTimeline {\n    /**\n     * @param {import('./type').asyncTimelineType} data\n     *\n     * @example\n     * ```javascript\n     * const myTimeline = new HandleAsyncTimeline({\n     *   yoyo: [ Boolean ],\n     *   repeat: [ Number ],\n     *   freeMode: [ Number ],\n     *   autoSet: [ Number ],\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     *\n     * `Methods to create timeline`\n     * myTimeline.set()\n     * myTimeline.goTo()\n     * myTimeline.goFrom()\n     * myTimeline.goFromTo()\n     * myTimeline.add()\n     * myTimeline.addAsync()\n     * myTimeline.sync()\n     * myTimeline.createGroup()\n     * myTimeline.closeGroup()\n     * myTimeline.suspend()\n     * myTimeline.label()\n     *\n     *\n     * `Methods to control timeline`\n     * myTimeline.play()\n     * myTimeline.playFromLabel()\n     * myTimeline.playFrom()\n     * myTimeline.playFromReverse()\n     * myTimeline.playReverse()\n     * myTimeline.reverseNext()\n     * myTimeline.stop()\n     * myTimeline.pause()\n     * myTimeline.resume()\n     * myTimeline.isActive()\n     * myTimeline.isPaused()\n     * myTimeline.isSuspended()\n     * myTimeline.getDirection()\n     * myTimeline.setTween()\n     * myTimeline.get()\n     * myTimeline.onLoopEnd()\n     * myTimeline.onComplete()\n     * myTimeline.destroy()\n     * ```\n     */\n    constructor(data) {\n        /**\n         * @private\n         * @type {number}\n         */\n        this.repeat = repeatIsValid(data?.repeat);\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.yoyo = valueIsBooleanAndReturnDefault(\n            data?.yoyo,\n            'asyncTimeline: yoyo',\n            false\n        );\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.freeMode = valueIsBooleanAndReturnDefault(\n            data?.freeMode,\n            'asyncTimeline: freeMode',\n            false\n        );\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.autoSet = valueIsBooleanAndReturnDefault(\n            data?.autoSet,\n            'asyncTimeline: autoSet',\n            false\n        );\n\n        /**\n         * @private\n         * @type {Array<import('./type').asyncTimelineTweenItem[]>}\n         */\n        this.tweenList = [];\n\n        /**\n         * @private\n         * @type {Array<import('./type').asyncTimelineCurrentTween>}\n         */\n        this.currentTween = [];\n\n        /**\n         * @private\n         * @type {Array<import('./type').syncTimelineTweenStore>}\n         */\n        this.tweenStore = [];\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.waitComplete = false;\n\n        /**\n         * @private\n         * @type {import('./type').asyncTimelineRowData}\n         */\n        this.defaultObj = {\n            id: -1,\n            tween: undefined,\n            action: '',\n            valuesFrom: {},\n            valuesTo: {},\n            prevValueTo: {},\n            prevValueSettled: false,\n            tweenProps: {},\n            groupProps: {},\n            syncProp: {\n                to: {\n                    getId: () => '',\n                    set: () => Promise.resolve(),\n                    goTo: () => Promise.resolve(),\n                    goFromTo: () => Promise.resolve(),\n                    getToNativeType: () => {},\n                    destroy: () => {},\n                    onStartInPause: () => {},\n                    resetData: () => {},\n                    getInitialData: () => {},\n                    stop: () => {},\n                    pause: () => {},\n                    resume: () => {},\n                },\n                from: {\n                    getId: () => '',\n                    set: () => Promise.resolve(),\n                    goTo: () => Promise.resolve(),\n                    goFromTo: () => Promise.resolve(),\n                    getToNativeType: () => {},\n                    destroy: () => {},\n                    onStartInPause: () => {},\n                    resetData: () => {},\n                    getInitialData: () => {},\n                    stop: () => {},\n                    pause: () => {},\n                    resume: () => {},\n                },\n            },\n            labelProps: {},\n        };\n\n        /**\n         * @private\n         * @description\n         * Timeline state\n         *\n         * @type {import('./type').asyncTimelineLabelState}\n         */\n        this.labelState = {\n            active: false,\n            index: -1,\n            isReverse: false,\n        };\n\n        /**\n         * @private\n         *\n         * @type {import('./type').asyncTimelineStarterFunction}\n         */\n        this.starterFunction = {\n            fn: () => {},\n            active: false,\n        };\n\n        /**\n         * @private\n         * @description\n         * group \"name\" star from 1 to avoid 0 = false\n         *\n         * @type {number}\n         */\n        this.groupCounter = 1;\n\n        /**\n         * @private\n         *\n         * @type {number|undefined}\n         *\n         */\n        this.groupId = undefined;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.currentTweenCounter = 0;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.currentIndex = 0;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.loopCounter = 1;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.isReverseNext = false;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.forceYoyo = false;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.isReverse = false;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.isInPause = false;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.isInSuspension = false;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.addAsyncIsActive = false;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.isStopped = true;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.delayIsRunning = false;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.startOnDelay = false;\n\n        /**\n         * @private\n         * @type {import('./type').asyncTimelineAfterReject}\n         */\n        this.actionAfterReject = {\n            active: false,\n            fn: () => {},\n        };\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.sessionId = 0;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.activetweenCounter = 0;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.timeOnPause = 0;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.autoSetIsJustCreated = false;\n\n        /**\n         * @private\n         *\n         * @type {import('./type').asyncTimelineCurrentAction[]}\n         */\n        this.currentAction = [];\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.fpsIsInLoading = false;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.id = 0;\n\n        /**\n         * @private\n         */\n        this.callbackLoop = [];\n\n        /**\n         * @private\n         * @type {Array}\n         */\n        this.callbackComplete = [];\n\n        /**\n         * @private\n         * @type{Function|undefined}\n         */\n        this.currentResolve = undefined;\n\n        /**\n         * @private\n         * @type{Function|undefined}\n         */\n        this.currentReject = undefined;\n    }\n\n    /**\n     * @private\n     */\n    run() {\n        /**\n         * Store previous caction to prevent tiw add/addAsync consegutive\n         */\n        const currentTweelist = this.tweenList[this.currentIndex];\n        const lastAction = this.currentAction;\n        this.currentAction = [];\n\n        /**\n         * Prevent possible error when destroy instance.\n         */\n        if (!currentTweelist) return;\n\n        /**\n         * Update previous values for revert.\n         */\n        this.tweenList[this.currentIndex] = currentTweelist.map((item) => {\n            const { data } = item;\n            const { tween, valuesTo, prevValueSettled } = data;\n\n            /*\n             * Get current valueTo for to use in reverse methods\n             * Get the value only first immediate loop\n             */\n            if (tween && tween?.getToNativeType && !prevValueSettled) {\n                const values = tween.getToNativeType();\n\n                /*\n                 * Get only the active prop\n                 * maybe unnecessary, if all prop ius used work fine\n                 * Only for a cliean code\n                 */\n                const propsInUse = asyncReduceData(values, valuesTo);\n\n                return {\n                    ...item,\n                    data: {\n                        ...data,\n                        prevValueTo: propsInUse,\n                        prevValueSettled: true,\n                    },\n                };\n            }\n\n            return item;\n        });\n\n        /**\n         */\n        const tweenPromises = currentTweelist.map((item) => {\n            const { data } = item;\n\n            const {\n                tween,\n                action,\n                valuesFrom,\n                valuesTo,\n                tweenProps,\n                syncProp,\n                id,\n            } = data;\n\n            // Clone teen prop and clean from timeline props\n            const newTweenProps = { ...tweenProps };\n            delete newTweenProps.delay;\n\n            /*\n             * activeate immediate prop if we walk thru tweens in test mode\n             */\n            const { active: labelIsActive, index: labelIndex } =\n                this.labelState;\n\n            const isImmediate = Number.isNaN(labelIndex)\n                ? false\n                : labelIsActive &&\n                  labelIndex &&\n                  // @ts-ignore\n                  this.currentIndex < labelIndex;\n\n            if (isImmediate) newTweenProps.immediate = true;\n\n            /*\n             * If some tween use relative props the value is applied as relative\n             * only the in the rist loop\n             */\n            if (tweenProps && 'relative' in tweenProps && tweenProps.relative) {\n                tweenProps.relative = false;\n                relativePropInsideTimelineWarning();\n            }\n\n            /*\n             * Store current action\n             */\n            this.currentAction.push({ id, action });\n\n            /*\n             * Check if the previous block i running again\n             */\n            const prevActionIsCurrent = lastAction.find(\n                ({ id: prevId, action: prevAction }) => {\n                    return prevId === id && prevAction === action;\n                }\n            );\n\n            const fn = {\n                set: () => {\n                    return tween?.[action](valuesFrom, newTweenProps);\n                },\n                goTo: () => {\n                    return tween?.[action](valuesTo, newTweenProps);\n                },\n                goFrom: () => {\n                    return tween?.[action](valuesFrom, newTweenProps);\n                },\n                goFromTo: () => {\n                    return tween?.[action](valuesFrom, valuesTo, newTweenProps);\n                },\n                sync: () => {\n                    return new Promise((res) => {\n                        const { from, to } = syncProp;\n                        to?.set(from?.getToNativeType(), {\n                            immediate: true,\n                        }).then(() => res({ resolve: true }));\n                    });\n                },\n                add: () => {\n                    /*\n                     * Prevent fire the same last add\n                     * Es reverseNext inside it cause an infinite loop\n                     */\n                    if (prevActionIsCurrent) {\n                        return new Promise((res) => res({ resolve: true }));\n                    }\n\n                    return new Promise((res) => {\n                        if (isImmediate) {\n                            res({ resolve: true });\n                            return;\n                        }\n\n                        // Custom function\n                        const direction = this.getDirection();\n                        tween({\n                            direction,\n                            loop: this.loopCounter,\n                        });\n                        res({ resolve: true });\n                    });\n                },\n                addAsync: () => {\n                    // Activate addAsyncFlag\n                    this.addAsyncIsActive = true;\n                    const sessionId = this.sessionId;\n\n                    /*\n                     * Prevent fire the same last addAsync\n                     * Es reverseNext inside it cause an infinite loop\n                     */\n                    if (prevActionIsCurrent) {\n                        return new Promise((res) => res({ resolve: true }));\n                    }\n\n                    return new Promise((res, reject) => {\n                        if (isImmediate) {\n                            res({ resolve: true });\n                            return;\n                        }\n\n                        const direction = this.getDirection();\n\n                        tween({\n                            direction,\n                            loop: this.loopCounter,\n                            resolve: () => {\n                                if (sessionId === this.sessionId) {\n                                    res({ resolve: true });\n                                    return;\n                                }\n\n                                reject();\n                            },\n                        });\n                    });\n                },\n                createGroup: () => {\n                    return new Promise((res) => res({ resolve: true }));\n                },\n                closeGroup: () => {\n                    return new Promise((res) => res({ resolve: true }));\n                },\n                label: () => {\n                    return new Promise((res) => res({ resolve: true }));\n                },\n                suspend: () => {\n                    /*\n                     * Prevent fire the same last add\n                     * Es reverseNext inside it cause an infinite loop\n                     */\n                    if (prevActionIsCurrent) {\n                        return new Promise((res) => res({ resolve: true }));\n                    }\n\n                    /*\n                     * Check callback that return a bollean to fire supend\n                     */\n                    const valueIsValid = mobCore.checkType(Boolean, tween());\n                    if (!valueIsValid) timelineSuspendWarning(tween);\n                    const sholudSuspend = valueIsValid ? tween() : true;\n                    return new Promise((res) => {\n                        if (!isImmediate && sholudSuspend) {\n                            this.isInSuspension = true;\n                        }\n                        res({ resolve: true });\n                    });\n                },\n            };\n\n            return new Promise((res, reject) => {\n                // Get delay\n                const delay = isImmediate ? false : tweenProps?.delay;\n                const previousSessionId = this.sessionId;\n\n                if (delay) {\n                    const start = mobCore.getTime();\n                    this.delayIsRunning = true;\n\n                    requestAnimationFrame(() => {\n                        this.loopOnDelay({\n                            start,\n                            deltaTimeOnpause: 0,\n                            delay,\n                            reject,\n                            res,\n                            previousSessionId,\n                            tween,\n                            fn,\n                            action,\n                        });\n                    });\n\n                    return;\n                }\n\n                resolveTweenPromise({\n                    reject,\n                    res,\n                    isStopped: this.isStopped,\n                    startOnDelay: this.startOnDelay,\n                    isInPause: this.isInPause,\n                    addToActiveTween: (tween) => this.addToActiveTween(tween),\n                    currentSessionId: this.sessionId,\n                    previousSessionId,\n                    tween,\n                    fn,\n                    action,\n                });\n            });\n        });\n\n        // When group have waitComplete === true, all the teen in group have the same props\n        // so, check if the griup item is seted to waitComplete or not\n        const waitComplete = this.tweenList[this.currentIndex].some((item) => {\n            return item.data.groupProps?.waitComplete;\n        });\n        const promiseType = waitComplete ? 'all' : 'race';\n\n        // @ts-ignore\n        Promise[promiseType](tweenPromises)\n            .then(() => {\n                if (this.isInSuspension || this.isStopped) return;\n\n                const {\n                    active: labelIsActive,\n                    index: labelIndex,\n                    isReverse: labelIsReverse,\n                } = this.labelState;\n\n                const { fn: starterFunction, active: starterFunctionIsActive } =\n                    this.starterFunction;\n\n                /*\n                 * End virtual loop ( first loop of playReverse) to get prevValueTo\n                 * We have reach the end of timeline and we we fire starterFunction\n                 * play ( !this.freeMode ) || playFrom || playFromReverse use this.starterFunction\n                 *\n                 * - playFromLabel (playFrom/playFromReverse call it) use playReverse first loop\n                 * - playReverse first loop is executed in forward direction.\n                 * This is useful to store prevValueTo value needed in backward direction ( revertTween ).\n                 *\n                 * At the end of playReverse first loop starterFunction is fired\n                 *\n                 * Inside  of playReverse first loop and starterFunction loop when\n                 * currentindex is minus labelIndex a immediate methods of tween is used.\n                 *\n                 * Because we doesn't reach the repeat condition down\n                 * we manually increment loopCounter\n                 * The loop counter is decrtement in virtual loop\n                 *\n                 */\n                if (\n                    starterFunctionIsActive &&\n                    labelIsActive &&\n                    // @ts-ignore\n                    this.currentIndex === labelIndex - 1\n                ) {\n                    this.starterFunction.active = false;\n                    this.disableLabel();\n                    this.loopCounter++;\n                    starterFunction();\n                    return;\n                }\n\n                /*\n                 * This is used after this.starterFunction is fired\n                 * ( starterFunction start from index = 0 )\n                 * and timeline running to right index in immediate\n                 * and labelState.isReverse is active\n                 * The timeline is reversed next step without increment currentIndex\n                 **/\n                if (\n                    labelIsActive &&\n                    labelIsReverse &&\n                    // @ts-ignore\n                    this.currentIndex === labelIndex - 1\n                ) {\n                    this.reverseNext();\n                }\n\n                /**\n                 * Reverse on next step default\n                 **/\n                if (this.isReverseNext) {\n                    this.isReverseNext = false;\n                    this.currentIndex =\n                        this.tweenList.length - this.currentIndex - 1;\n                    this.disableLabel();\n                    this.revertTween();\n                    this.run();\n                    return;\n                }\n\n                /**\n                 * Run next step default\n                 **/\n                if (this.currentIndex < this.tweenList.length - 1) {\n                    this.currentIndex++;\n                    this.run();\n                    return;\n                }\n\n                /**\n                 * End of timeline, check repeat\n                 **/\n                if (this.loopCounter < this.repeat || this.repeat === -1) {\n                    /*\n                     * Start timeline in reverse mode here\n                     * set all tween to end position and go\n                     */\n                    if (\n                        labelIsActive &&\n                        labelIndex === this.tweenList.length &&\n                        !this.freeMode\n                    ) {\n                        const tweenPromise = this.tweenStore.map(\n                            ({ tween }) => {\n                                const data = asyncReduceTween(\n                                    this.tweenList,\n                                    tween,\n                                    this.tweenList.length\n                                );\n\n                                return new Promise((resolve, reject) => {\n                                    tween\n                                        .set(data)\n                                        .then(() => resolve({ resolve: true }))\n                                        .catch(() => reject());\n                                });\n                            }\n                        );\n                        Promise.all(tweenPromise)\n                            .then(() => {\n                                this.onRepeat();\n                            })\n                            .catch(() => {});\n                        return;\n                    }\n\n                    /*\n                     * Go default\n                     */\n                    this.onRepeat();\n                    return;\n                }\n\n                /**\n                 * All ended\n                 * Fire and of timeline\n                 **/\n                this.callbackComplete.forEach(({ cb }) => cb());\n                this.isStopped = true;\n\n                if (this.currentResolve) {\n                    handleNextFrame.add(() => {\n                        handleNextTick.add(() => {\n                            this.currentResolve?.({ resolve: true });\n                        });\n                    });\n                }\n            })\n            .catch(() => {\n                // If play or reverse or playFromLabel is fired diring delay tween fail\n                // Afte fail we can fire the action\n                if (this.actionAfterReject.active) {\n                    console.log('actionAfterReject fired');\n                    this.actionAfterReject.fn();\n                    this.actionAfterReject.fn = () => {};\n                    this.actionAfterReject.active = false;\n                    return;\n                }\n            })\n            .finally(() => {\n                /**\n                Primise was completed\n                AddAsync is resolved\n                */\n                this.addAsyncIsActive = false;\n            });\n    }\n\n    loopOnDelay({\n        start,\n        deltaTimeOnpause,\n        delay,\n        reject,\n        res,\n        previousSessionId,\n        tween,\n        fn,\n        action,\n    }) {\n        const current = mobCore.getTime();\n        let delta = current - start;\n\n        /*\n         * Update delata value on pause to compensate delta velue\n         */\n        if (this.isInPause) deltaTimeOnpause = current - this.timeOnPause;\n\n        /*\n         * If play, resume, playFromLabel is fired with\n         * another tween in delay\n         * fire this tween immediately, so avoid problem\n         * with much delay in same group\n         *\n         * ! when stop the timeline manually ( es timeline.stop() )\n         * It will not activate\n         */\n        if (this.actionAfterReject.active) {\n            deltaTimeOnpause = 0;\n            delta = delay;\n        }\n\n        // Start after dealy or immediate in caso of stop or reverse Next\n        if (\n            delta - deltaTimeOnpause >= delay ||\n            this.isStopped ||\n            this.isReverseNext\n        ) {\n            this.delayIsRunning = false;\n\n            resolveTweenPromise({\n                reject,\n                res,\n                isStopped: this.isStopped,\n                startOnDelay: this.startOnDelay,\n                isInPause: this.isInPause,\n                addToActiveTween: (tween) => {\n                    return this.addToActiveTween(tween);\n                },\n                currentSessionId: this.sessionId,\n                previousSessionId,\n                tween,\n                fn,\n                action,\n            });\n\n            return;\n        }\n\n        requestAnimationFrame(() => {\n            this.loopOnDelay({\n                start,\n                deltaTimeOnpause,\n                delay,\n                reject,\n                res,\n                previousSessionId,\n                tween,\n                fn,\n                action,\n            });\n        });\n    }\n\n    /**\n     * @private\n     */\n    onRepeat() {\n        /*\n         * Fire callbackLoop\n         */\n        if (this.loopCounter > 0) {\n            const direction = this.getDirection();\n            this.callbackLoop.forEach(({ cb }) =>\n                cb({\n                    direction,\n                    loop: this.loopCounter,\n                })\n            );\n        }\n\n        this.loopCounter++;\n        this.currentIndex = 0;\n        this.disableLabel();\n        if (this.yoyo || this.forceYoyo) this.revertTween();\n        this.forceYoyo = false;\n        this.run();\n    }\n\n    /**\n     * @private\n     * @param {import('./type').asyncTimelineTween} tween\n     */\n    addToActiveTween(tween) {\n        const tweenId = tween?.getId && tween.getId();\n        if (!tweenId) return NOOP;\n\n        const prevActiveTweenCounter = this.activetweenCounter;\n        this.activetweenCounter++;\n\n        this.currentTween.push({\n            tween,\n            uniqueId: tweenId,\n            id: prevActiveTweenCounter,\n        });\n\n        return () => {\n            this.currentTween = this.currentTween.filter(\n                ({ id }) => id !== prevActiveTweenCounter\n            );\n        };\n    }\n\n    /**\n     * @private\n     */\n    revertTween() {\n        this.isReverse = !this.isReverse;\n        this.tweenList = this.tweenList.reverse().map((group) => {\n            return group.reverse().map((item) => {\n                const { data } = item;\n                const { action, valuesFrom, syncProp, prevValueTo, valuesTo } =\n                    data;\n\n                const currentValueTo = valuesTo;\n                const { from, to } = syncProp;\n\n                switch (action) {\n                    case 'goTo': {\n                        return {\n                            ...item,\n                            data: {\n                                ...data,\n                                valuesTo: prevValueTo,\n                                prevValueTo: currentValueTo,\n                            },\n                        };\n                    }\n\n                    case 'goFromTo': {\n                        return {\n                            ...item,\n                            data: {\n                                ...data,\n                                valuesFrom: valuesTo,\n                                valuesTo: valuesFrom,\n                            },\n                        };\n                    }\n\n                    case 'sync': {\n                        return {\n                            ...item,\n                            data: {\n                                ...data,\n                                syncProp: {\n                                    ...syncProp,\n                                    from: to,\n                                    to: from,\n                                },\n                            },\n                        };\n                    }\n\n                    case 'goFrom': {\n                        timelineReverseGoFromWarning();\n                        this.stop();\n                    }\n                }\n\n                return item;\n            });\n        });\n    }\n\n    /**\n     * @private\n     * @param {import('./type').asyncTimelineRowData} obj\n     */\n    addToMainArray(obj) {\n        /**\n         * Check if the is an active group and the group is just created\n         */\n        const rowIndex = this.tweenList.findIndex((item) => {\n            return item[0]?.group && item[0].group === this.groupId;\n        });\n\n        /**\n         * If there is an active group append interpolation to current group\n         */\n        if (rowIndex >= 0) {\n            this.tweenList[rowIndex].push({ group: this.groupId, data: obj });\n            return;\n        }\n\n        this.tweenList.push([{ group: this.groupId, data: obj }]);\n    }\n\n    /**\n     * @private\n     * @param {import('./type').asyncTimelineTween} tween\n     */\n    addTweenToStore(tween) {\n        const uniqueId = tween?.getId?.();\n        const tweenIsStored = this.tweenStore.find(({ id }) => id === uniqueId);\n        if (tweenIsStored) return;\n\n        const obj = { id: uniqueId, tween };\n        this.tweenStore.push(obj);\n    }\n\n    /**\n     * @private\n     */\n    resetAllTween() {\n        this.tweenStore.forEach(({ tween }) => tween.resetData());\n    }\n\n    /**\n     * @param {object} tween instance of HandleTween | HandleLerp | HandleSpring\n     * @param {import('../utils/tweenAction/type.js').valueToparseType} valuesSet - set values Object\n     * @param {import('./type').asyncTimelineTypeSpecialProps} tweenProps - special props\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * myTimeline.set(\n     *      myTweenInstance,\n     *      { Object.<string, number>, },\n     *      {\n     *          delay: [ Number ],\n     *          immediate [ Boolean ],\n     *          immediateNoPromise: [ Boolean ]\n     *      }\n     *  )\n     *\n     *\n     * ```\n     *\n     * @description\n     * Transform some properties of your choice from the `current value` to the `entered value` immediately.\n     * The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     * It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *  - immediate (internal use)\n     *  - immediateNoPromise (internal use)\n     *  - dealy\n     */\n    set(tween, valuesSet = {}, tweenProps = {}) {\n        if (!asyncTimelineTweenIsValid(tween)) return this;\n        tweenProps.delay = asyncTimelineDelayIsValid(tweenProps?.delay);\n\n        const obj = {\n            id: this.currentTweenCounter,\n            tween,\n            action: 'set',\n            valuesTo: valuesSet,\n            valuesFrom: valuesSet,\n            tweenProps,\n            groupProps: { waitComplete: this.waitComplete },\n        };\n\n        this.currentTweenCounter++;\n        const mergedObj = { ...this.defaultObj, ...obj };\n        this.addToMainArray(mergedObj);\n        this.addTweenToStore(tween);\n        return this;\n    }\n\n    /**\n     * @param {object} tween instance of HandleTween | HandleLerp | HandleSpring\n     * @param {import('../utils/tweenAction/type.js').valueToparseType} valuesTo - set values Object\n     * @param {import('./type').asyncTimelineTypeSpecialProps} tweenProps - special props\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * myTimeline.goTo(\n     *      myTweenInstance,\n     *      { Object.<string, (Number|Function)> },\n     *      {\n     *          `Tween properties`\n     *          ease: [ String ],\n     *          duration: [ ( Number|Function ) ],\n     *          --------------\n     *          `Spring properties`\n     *          config: [ String ],\n     *          configProp: {\n     *             tension: [ Number ],\n     *             mass: [ Number ],\n     *             friction: [ Number ],\n     *             velocity: [ Number ],\n     *             precision: [ Number ],\n     *          },\n     *          --------------\n     *          `Lerp properties`\n     *          precision: [ Number ],\n     *          velocity: [ Number ],\n     *          --------------\n     *          reverse: [ Boolean ],\n     *          delay: [ Number ],\n     *          immediate [ Boolean ],\n     *          immediateNoPromise: [ Boolean ]\n     *      }\n     *  )\n     *\n     *\n     * ```\n     *\n     * @description\n     * Transform some properties of your choice from the `current value` to the `entered value`.\n     * The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     * It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *  - duration\n     *  - ease ( HandleTween )\n     *  - config  ( HandleSpring )\n     *  - configProp ( HandleSpring )\n     *  - velocity ( HandleLerp )\n     *  - precision ( HandleLerp )\n     *  - relative\n     *  - reverse\n     *  - delay\n     *  - immediate (internal use)\n     *  - immediateNoPromise (internal use)\n     */\n    goTo(tween, valuesTo = {}, tweenProps = {}) {\n        if (!asyncTimelineTweenIsValid(tween)) return this;\n        tweenProps.delay = asyncTimelineDelayIsValid(tweenProps?.delay);\n\n        const obj = {\n            id: this.currentTweenCounter,\n            tween,\n            action: 'goTo',\n            valuesTo,\n            tweenProps: tweenProps ?? {},\n            groupProps: { waitComplete: this.waitComplete },\n        };\n\n        this.currentTweenCounter++;\n        const mergedObj = { ...this.defaultObj, ...obj };\n        this.addToMainArray(mergedObj);\n        this.addTweenToStore(tween);\n        return this;\n    }\n\n    /**\n     * @param {object} tween instance of HandleTween | HandleLerp | HandleSpring\n     * @param {import('../utils/tweenAction/type.js').valueToparseType} valuesFrom - set values Object\n     * @param {import('./type').asyncTimelineTypeSpecialProps} tweenProps - special props\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * myTimeline.goFrom(\n     *      myTweenInstance,\n     *      { Object.<string, (Number|Function)> },\n     *      {\n     *          `Tween properties`\n     *          ease: [ String ],\n     *          duration: [ ( Number|Function ) ],\n     *          --------------\n     *          `Spring properties`\n     *          config: [ String ],\n     *          configProp: {\n     *             tension: [ Number ],\n     *             mass: [ Number ],\n     *             friction: [ Number ],\n     *             velocity: [ Number ],\n     *             precision: [ Number ],\n     *          },\n     *          --------------\n     *          `Lerp properties`\n     *          precision: [ Number ],\n     *          velocity: [ Number ],\n     *          --------------\n     *          reverse: [ Boolean ],\n     *          delay: [ Number ],\n     *          immediate [ Boolean ],\n     *          immediateNoPromise: [ Boolean ]\n     *      }\n     *  )\n     *\n     *\n     * ```\n     *\n     * @description\n     * Transform some properties of your choice from the `entered value` to the `current value`.\n     * The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     * It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *  - duration\n     *  - ease ( HandleTween )\n     *  - config  ( HandleSpring )\n     *  - configProp ( HandleSpring )\n     *  - velocity ( HandleLerp )\n     *  - precision ( HandleLerp )\n     *  - relative\n     *  - reverse\n     *  - delay\n     *  - immediate (internal use)\n     *  - immediateNoPromise (internal use)\n     */\n    goFrom(tween, valuesFrom = {}, tweenProps = {}) {\n        if (!asyncTimelineTweenIsValid(tween)) return this;\n        tweenProps.delay = asyncTimelineDelayIsValid(tweenProps?.delay);\n\n        const obj = {\n            id: this.currentTweenCounter,\n            tween,\n            action: 'goFrom',\n            valuesFrom,\n            tweenProps,\n            groupProps: { waitComplete: this.waitComplete },\n        };\n\n        this.currentTweenCounter++;\n        const mergedObj = { ...this.defaultObj, ...obj };\n        this.addToMainArray(mergedObj);\n        this.addTweenToStore(tween);\n        return this;\n    }\n\n    /**\n     * @param {object} tween instance of HandleTween | HandleLerp | HandleSpring\n     * @param {import('../utils/tweenAction/type.js').valueToparseType} valuesFrom - set values Object\n     * @param {import('../utils/tweenAction/type.js').valueToparseType} valuesTo - set values Object\n     * @param {import('./type').asyncTimelineTypeSpecialProps} tweenProps - special props\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * myTimeline.goFromTo(\n     *      myTweenInstance,\n     *      { Object.<string, (Number|Function)> },\n     *      { Object.<string, (Number|Function)> },\n     *      {\n     *          `Tween properties`\n     *          ease: [ String ],\n     *          duration: [ ( Number|Function ) ],\n     *          --------------\n     *          `Spring properties`\n     *          config: [ String ],\n     *          configProp: {\n     *             tension: [ Number ],\n     *             mass: [ Number ],\n     *             friction: [ Number ],\n     *             velocity: [ Number ],\n     *             precision: [ Number ],\n     *          },\n     *          --------------\n     *          `Lerp properties`\n     *          precision: [ Number ],\n     *          velocity: [ Number ],\n     *          --------------\n     *          reverse: [ Boolean ],\n     *          delay: [ Number ],\n     *          immediate [ Boolean ],\n     *          immediateNoPromise: [ Boolean ]\n     *      }\n     *  )\n     *\n     *\n     * ```\n     *\n     * @description\n     * Transform some properties of your choice from the `first entered value` to the `second entered value`.\n     * The target value can be a number or a function that returns a number, when using a function the target value will become dynamic and will change every time this transformation is called.\n     * It is possible to associate the special pros to the current transformation, these properties will be valid only in the current transformation.\n     *  - duration\n     *  - ease ( HandleTween )\n     *  - config  ( HandleSpring )\n     *  - configProp ( HandleSpring )\n     *  - velocity ( HandleLerp )\n     *  - precision ( HandleLerp )\n     *  - relative\n     *  - reverse\n     *  - delay\n     *  - immediate (internal use)\n     *  - immediateNoPromise (internal use)\n     */\n    goFromTo(tween, valuesFrom = {}, valuesTo = {}, tweenProps = {}) {\n        if (!asyncTimelineTweenIsValid(tween)) return this;\n        tweenProps.delay = asyncTimelineDelayIsValid(tweenProps?.delay);\n\n        const obj = {\n            id: this.currentTweenCounter,\n            tween,\n            action: 'goFromTo',\n            valuesFrom,\n            valuesTo,\n            tweenProps,\n            groupProps: { waitComplete: this.waitComplete },\n        };\n\n        this.currentTweenCounter++;\n        const mergedObj = { ...this.defaultObj, ...obj };\n        this.addToMainArray(mergedObj);\n        this.addTweenToStore(tween);\n        return this;\n    }\n\n    /**\n     * @param {Function} fn - Function to perform\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     *\n     * myTimeline.add(() => {\n     *      // code\n     * });\n     *\n     *\n     * ```\n     * @description\n     *  Adds a `custom function` to the timeline, the function will be executed after the previous promise and before the next one, `the function will not overlap the tweens`.\n     * `This property cannot be used within a group`.\n     */\n    add(fn = NOOP) {\n        const cb = functionIsValidAndReturnDefault(\n            fn,\n            () => {},\n            'timeline add function'\n        );\n        /**\n         * Can't add this interpolation inside a group.\n         * groupId props is not null when active.\n         */\n        if (this.groupId) {\n            asyncTimelineMetodsInsideGroupWarining('add');\n            return this;\n        }\n\n        const obj = {\n            id: this.currentTweenCounter,\n            tween: cb,\n            action: 'add',\n            groupProps: { waitComplete: this.waitComplete },\n        };\n\n        this.currentTweenCounter++;\n        const mergedObj = { ...this.defaultObj, ...obj };\n        this.addToMainArray(mergedObj);\n        return this;\n    }\n\n    /**\n     * @param { function(import('../utils/timeline/type.js').directionTypeAsync):void } fn - callback function\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     *   myTimeline.addAsync(({ loop, direction, resolve }) => {\n     *       // code\n     *       resolve();\n     *   });\n     *\n     *\n     * ```\n     * @description\n     * Adds an `asynchronous` function to the timeline.\n     * The function receives the `resolve parameter as input`, the timeline will automatically enter the `suspended state`\n     * Here it is possible to perform asynchronous operations, the timeline will be active again by launching the resolve function.\n     * `This property cannot be used within a group`.\n     */\n    addAsync(fn) {\n        const cb = addAsyncFunctionIsValid(fn);\n        /**\n         * Can't add this interpolation inside a group.\n         * groupId props is not null when active.\n         */\n        if (this.groupId) {\n            asyncTimelineMetodsInsideGroupWarining('addAsync');\n            return this;\n        }\n\n        const obj = {\n            id: this.currentTweenCounter,\n            tween: cb,\n            action: 'addAsync',\n            groupProps: { waitComplete: this.waitComplete },\n        };\n\n        this.currentTweenCounter++;\n        const mergedObj = { ...this.defaultObj, ...obj };\n        this.addToMainArray(mergedObj);\n        return this;\n    }\n\n    /**\n     * @param {Object} syncProp\n     * @param {Object} syncProp.from - HandleTween | HandleSpring | HandleSpring - from tween\n     * @param {Object} syncProp.to - HandleTween | HandleSpring | HandleSpring - to tween\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * myTimeline.sync({ from: instanceA, to: instanceB });\n     *\n     *\n     * ```\n     * @description\n     *  This method `synchronizes two different tweens` by updating their `current values`, it is possible for example to synchronize a tween with a spring and vice versa in order to manage a single element with two different interpolation methods.\n     * `This property cannot be used within a group`\n     */\n    sync(syncProp) {\n        /**\n         * Can't add this interpolation inside a group.\n         * groupId props is not null when active.\n         */\n        if (this.groupId) {\n            asyncTimelineMetodsInsideGroupWarining('sync');\n            return this;\n        }\n\n        /*\n         * Check if from and to is a tween\n         */\n        const fromIsTween = asyncTimelineTweenIsValid(syncProp?.from);\n        const toIsTween = asyncTimelineTweenIsValid(syncProp?.to);\n        if (!toIsTween || !fromIsTween) return this;\n\n        const obj = {\n            id: this.currentTweenCounter,\n            action: 'sync',\n            groupProps: { waitComplete: this.waitComplete },\n            syncProp,\n        };\n\n        this.currentTweenCounter++;\n        const mergedObj = { ...this.defaultObj, ...obj };\n        this.addToMainArray(mergedObj);\n        return this;\n    }\n\n    /**\n     * @param {Object} [ groupProps ]\n     * @param {boolean} [ groupProps.waitComplete ]\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * myTimeline\n     *      .createGroup({waitComplete: [Boolean]})\n     *      .goTo(..)\n     *      ...\n     *      .closeGroup();\n     *\n     *\n     * ```\n     *\n     * @description\n     * Initialize a group, within this group all instances will run in `parallel`.\n     * If the waitComplete property is set to true the group will behave like a `promise.all()` otherwise it will behave like a `promise.race()`. This means that if waitComplete is equal to false the group of promises will be resolved by the fastest, otherwise it will be resolved only when each of the single promises (tween) are resolved.\n     * To close the group use the `closeGroup()` method.\n     * `Within a group, only the goTo, goFrom, goFromTo methods can be used`\n     */\n    createGroup(groupProps = {}) {\n        /**\n         * Can't add this interpolation inside a group.\n         * groupId props is not null when active.\n         */\n        if (this.groupId) {\n            asyncTimelineMetodsInsideGroupWarining('createGroup');\n            return this;\n        }\n\n        const obj = {\n            id: this.currentTweenCounter,\n            action: 'createGroup',\n            groupProps,\n        };\n\n        this.currentTweenCounter++;\n\n        const mergedObj = { ...this.defaultObj, ...obj };\n        this.addToMainArray(mergedObj);\n        this.waitComplete = groupProps?.waitComplete ?? false;\n        this.groupId = this.groupCounter++;\n        return this;\n    }\n\n    /**\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * myTimeline\n     *      .createGroup({waitComplete: [Boolean]})\n     *      .goTo(..)\n     *      ...\n     *      .closeGroup();\n     *\n     *\n     * ```\n     *\n     * @description\n     * Closes a previously opened group.\n     */\n    closeGroup() {\n        this.groupId = undefined;\n\n        const obj = {\n            id: this.currentTweenCounter,\n            action: 'closeGroup',\n        };\n\n        this.currentTweenCounter++;\n\n        const mergedObj = { ...this.defaultObj, ...obj };\n        this.addToMainArray(mergedObj);\n        this.waitComplete = false;\n        return this;\n    }\n\n    /**\n     * @param { function():boolean } fn - callback function\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * myTimeline.suspend(() => {\n     *     return true\n     * });\n     *\n     *\n     * ```\n     *\n     * @description\n     * This method puts the timeline in a state of `suspension`, the individual instances if within a group with the property waitComplete = false, they will finish their interpolation, suspend in fact does not pause the individual instances but only the timeline.\n     * It is possible to use a `function that returns a Boolean` value as a parameter to have conditional control.\n     * To reactivate the timeline use the resume() method. `This property cannot be used within a group`.\n     */\n    suspend(fn = () => true) {\n        /**\n         * Can't add this interpolation inside a group.\n         * groupId props is not null when active.\n         */\n        if (this.groupId) {\n            asyncTimelineMetodsInsideGroupWarining('suspend');\n            return this;\n        }\n\n        const obj = {\n            id: this.currentTweenCounter,\n            tween: fn,\n            action: 'suspend',\n            groupProps: { waitComplete: this.waitComplete },\n        };\n\n        this.currentTweenCounter++;\n        const mergedObj = { ...this.defaultObj, ...obj };\n        this.addToMainArray(mergedObj);\n        return this;\n    }\n\n    /**\n     * @param {Object} labelProps\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * myTimeline.label({ name: 'labelName' });\n     *\n     *\n     * ```\n     *\n     * @description\n     *  Add a label, this label can be used by the playFrom(), playFromReverse(), setTween() methods.\n     * `This property cannot be used within a group`\n     */\n    label(labelProps = {}) {\n        /**\n         * Can't add this interpolation inside a group.\n         * groupId props is not null when active.\n         */\n        if (this.groupId) {\n            asyncTimelineMetodsInsideGroupWarining('label');\n            return this;\n        }\n\n        if (!valueStringIsValid(labelProps?.name, 'asyncTimeline label:'))\n            return this;\n\n        const obj = {\n            id: this.currentTweenCounter,\n            action: 'label',\n            labelProps,\n            groupProps: { waitComplete: this.waitComplete },\n        };\n\n        this.currentTweenCounter++;\n        const mergedObj = { ...this.defaultObj, ...obj };\n        this.addToMainArray(mergedObj);\n        return this;\n    }\n\n    /*\n     * @private\n     *\n     * @description\n     * Add a set 'tween' at start and end of timeline.\n     */\n    addSetBlocks() {\n        // Create set only one time\n        if (this.autoSetIsJustCreated) return;\n        this.autoSetIsJustCreated = true;\n\n        /*\n         * END Blocks\n         * Add set block at the end of timeline for every tween with last toValue\n         */\n        this.tweenStore.forEach(({ tween }) => {\n            const setValueTo = tween.getInitialData();\n\n            const obj = {\n                id: this.currentTweenCounter,\n                tween,\n                action: 'set',\n                valuesFrom: setValueTo,\n                valuesTo: setValueTo,\n                groupProps: { waitComplete: this.waitComplete },\n            };\n\n            this.currentTweenCounter++;\n\n            const mergedObj = { ...this.defaultObj, ...obj };\n            this.tweenList = [\n                [{ group: undefined, data: mergedObj }],\n                ...this.tweenList,\n            ];\n        });\n\n        /*\n         * END Blocks\n         * Add set block at the end of timeline for every tween with last toValue\n         */\n        this.tweenStore.forEach(({ tween }) => {\n            const setValueTo = asyncReduceTween(\n                this.tweenList,\n                tween,\n                this.tweenList.length\n            );\n            const obj = {\n                id: this.currentTweenCounter,\n                tween,\n                action: 'set',\n                valuesFrom: setValueTo,\n                valuesTo: setValueTo,\n                groupProps: { waitComplete: this.waitComplete },\n            };\n\n            this.currentTweenCounter++;\n            const mergedObj = { ...this.defaultObj, ...obj };\n            this.tweenList.push([{ group: undefined, data: mergedObj }]);\n        });\n    }\n\n    /**\n     * @param {string} label\n     * @param {Array} items\n     * @returns {Promise} Return a promise which is resolved when tween is settled\n     *\n     * @example\n     * ```javascript\n     * myTimeline\n     *     .setTween('myLabel', [tweenA,tweenB])\n     *     .then(() => {\n     *         // es:\n     *         myTimeline.playFrom('myLabel');\n     *     })\n     *     .catch((error) => {\n     *         // code\n     *     });\n     *\n     *\n     * ```\n     *\n     * @description\n     * Executes the set method on the tweens contained in the array to a specific label.\n     * The method will return a promise.\n     * It is possible for example to execute a set of specific instances before using the playFrom() method to be sure that all instances are in position, the instances on which a delay is applied could in fact remain in the old position until the delay is finished , by doing so we can be put in the right position before launching the method.\n     * `This property cannot be used within a group`\n     */\n    setTween(label = '', items = []) {\n        this.stop();\n\n        const itemsIsArray = timelineSetTweenArrayIsValid(items);\n        const labelIsString = timelineSetTweenLabelIsValid(label);\n\n        if (!itemsIsArray || !labelIsString)\n            return Promise.reject(\n                new Error('timeline setTween: props is wrong')\n            );\n\n        /*\n         * Filter user tween from frameStore\n         */\n        const itemsId = new Set(items.map((item) => item?.getId?.()));\n        const tweens = this.tweenStore.filter(({ id }) => {\n            return itemsId.has(id);\n        });\n\n        /*\n         * Get index from label\n         */\n        const index = this.tweenList.findIndex((item) => {\n            const [firstItem] = item;\n            const labelCheck = firstItem.data.labelProps?.name;\n            return labelCheck === label;\n        });\n\n        if (index === -1) {\n            timelineSetTweenLabelNotFoundWarining(label);\n            return Promise.reject(\n                new Error(`asyncTimeline.setTween() label: ${label} not found`)\n            );\n        }\n\n        /*\n         * Fire set method of selected tween and resolve promise\n         */\n        return new Promise((resolve) => {\n            const tweenPromise = tweens.map(({ tween }) => {\n                const data = asyncReduceTween(this.tweenList, tween, index);\n\n                return new Promise((resolveTween, rejectTween) => {\n                    tween\n                        .set(data)\n                        .then(() => resolveTween({ resolve: true }))\n                        .catch(() => rejectTween());\n                });\n            });\n            Promise.all(tweenPromise)\n                .then(() => {\n                    resolve({ resolve: true });\n                })\n                .catch(() => {\n                    timelineSetTweenFailWarining();\n                });\n        });\n    }\n\n    /**\n     * Private\n     */\n    rejectPromise() {\n        if (this.currentReject) {\n            this.currentReject(mobCore.ANIMATION_STOP_REJECT);\n            this.currentReject = undefined;\n        }\n    }\n\n    /**\n     * @return {Promise} - The promise launched at the end of the animation\n     *\n     * @example\n     * ```javascript\n     * myTimeline.play().then(() => {\n     *      // Code\n     * });\n     *\n     *\n     * ```\n     *\n     * @description\n     * Plays the timeline from start\n     */\n    play() {\n        return new Promise((resolve, reject) => {\n            if (this.fpsIsInLoading) return;\n            this.fpsIsInLoading = true;\n\n            mobCore.useFps(() => {\n                this.fpsIsInLoading = false;\n\n                if (this.autoSet) this.addSetBlocks();\n\n                if (this.freeMode) {\n                    /*\n                     * In freeMode every tween start form current value in use at the moment\n                     */\n                    if (this.tweenList.length === 0 || this.addAsyncIsActive)\n                        return;\n\n                    // If all tween is in delay reject main promise and fire the new pipe\n                    if (this.delayIsRunning && !this.actionAfterReject.active) {\n                        this.startOnDelay = true;\n                        this.actionAfterReject.fn = () => this.play();\n                        this.actionAfterReject.active = true;\n                        return;\n                    }\n\n                    this.startOnDelay = false;\n                    this.stop();\n                    this.isStopped = false;\n                    if (this.isReverse) this.revertTween();\n\n                    /*\n                     * Run one frame after stop to avoid overlap with promise resolve/reject\n                     */\n\n                    this.sessionId++;\n                    mobCore.useFrameIndex(() => {\n                        // Set current promise action after stop so is not fired in stop method\n                        this.currentReject = reject;\n                        this.currentResolve = resolve;\n                        this.run();\n                    }, 1);\n\n                    return;\n                }\n\n                this.starterFunction.fn = () => {\n                    /**\n                     * need to reset current data after reverse() of tween so use stop()\n                     */\n                    this.stop();\n                    this.isStopped = false;\n\n                    /*\n                     * When start form play in default mode ( no freeMode )\n                     * an automatic set method is Executed with initial data\n                     */\n                    const tweenPromise = this.tweenStore.map(({ tween }) => {\n                        const data = tween.getInitialData();\n\n                        return new Promise((resolve, reject) => {\n                            tween\n                                .set(data)\n                                .then(() => resolve({ resolve: true }))\n                                .catch(() => reject());\n                        });\n                    });\n                    Promise.all(tweenPromise)\n                        .then(() => {\n                            // Set current promise action after stop so is not fired in stop method\n                            this.currentReject = reject;\n                            this.currentResolve = resolve;\n                            this.run();\n                        })\n                        .catch(() => {});\n                };\n\n                this.starterFunction.active = true;\n\n                /**\n                 * First loop reverse at the end start function fired\n                 * reverse set label.active at true\n                 * so label.active && starterFunction.active is necessary to fire cb\n                 */\n                this.playReverse({ forceYoYo: true });\n            });\n        });\n    }\n\n    /**\n     * @private\n     * @param {object} obj\n     * @param {boolean} [ obj.isReverse ]\n     * @param {string|null} obj.label\n     */\n    playFromLabel({ isReverse = false, label = null }) {\n        // Skip of there is nothing to run\n        if (this.tweenList.length === 0 || this.addAsyncIsActive) return;\n        if (this.isReverse) this.revertTween();\n\n        /*\n         * Set props\n         */\n        this.currentIndex = 0;\n        this.labelState.isReverse = isReverse;\n        this.labelState.active = true;\n        this.labelState.index = mobCore.checkType(String, label)\n            ? this.tweenList.findIndex((item) => {\n                  const [firstItem] = item;\n                  const labelCheck = firstItem.data.labelProps?.name;\n                  return labelCheck === label;\n              })\n            : label;\n\n        if (mobCore.checkType(String, label))\n            playLabelIsValid(this.labelState.index, label);\n\n        this.run();\n    }\n\n    /**\n     * @param {string} label\n     * @return {Promise} - The promise launched at the end of the animation\n     *\n     * @example\n     * ```javascript\n     * myTimeline.playFrom('myLabel').then(() => {\n     *      // Code\n     * });\n     *\n     *\n     * ```\n     *\n     * @description\n     * Play timeline from a specific label.\n     */\n    playFrom(label) {\n        return new Promise((resolve, reject) => {\n            if (this.fpsIsInLoading) return;\n            this.fpsIsInLoading = true;\n\n            mobCore.useFps(() => {\n                this.fpsIsInLoading = false;\n\n                this.starterFunction.fn = () =>\n                    this.playFromLabel({\n                        isReverse: false,\n                        label,\n                    });\n                this.starterFunction.active = true;\n\n                /**\n                 * In playReverse first run is executed in forward direction.\n                 * This is useful to store the value needed in backward direction ( revertTween ).\n                 *\n                 * After this 'test' loop starterFunction function is fired.\n                 * playFromLabel method set the right direction.\n                 *\n                 * playFromLabel set label.active at true\n                 * So label.active && starterFunction.active is necessary to fire starterFunction\n                 */\n                this.playReverse({ forceYoYo: false, resolve, reject });\n            });\n        });\n    }\n\n    /**\n     * @param {string} label\n     * @return {Promise} - The promise launched at the end of the animation\n     *\n     * @example\n     * ```javascript\n     * myTimeline.playFromReverse('myLabel').then(() => {\n     *      // Code\n     * });\n     *\n     *\n     * ```\n     *\n     * @description\n     * Play timeline from a specific label in backward direction.\n     */\n    playFromReverse(label) {\n        return new Promise((resolve, reject) => {\n            if (this.fpsIsInLoading) return;\n            this.fpsIsInLoading = true;\n\n            mobCore.useFps(() => {\n                this.fpsIsInLoading = false;\n\n                this.starterFunction.fn = () =>\n                    this.playFromLabel({\n                        isReverse: true,\n                        label,\n                    });\n                this.starterFunction.active = true;\n\n                /**\n                 * First loop reverse at the end start function fired\n                 * reverse set label.active at true\n                 * so label.active && starterFunction.active is necessary to fire cb\n                 */\n                this.playReverse({ forceYoYo: false, resolve, reject });\n            });\n        });\n    }\n\n    /**\n     * @param {object} obj\n     * @param {boolean} [ obj.forceYoYo ]\n     * @param {Function|null} [ obj.resolve ]\n     * @param {Function|null} [ obj.reject ]\n     * @return {Promise} - The promise launched at the end of the animation\n     *\n     * @example\n     * ```javascript\n     * myTimeline.playReverse().then(() => {\n     *      // Code\n     * });\n     *\n     *\n     * ```\n     * @description\n     * Play timeline in backward direction.\n     */\n    playReverse({ forceYoYo = true, resolve = null, reject = null } = {}) {\n        return new Promise((resolveFromReverse, rejectFromReverse) => {\n            const resolveInUse = resolve || resolveFromReverse;\n            const rejectInUse = reject || rejectFromReverse;\n\n            if (this.fpsIsInLoading) return;\n            this.fpsIsInLoading = true;\n\n            mobCore.useFps(() => {\n                this.fpsIsInLoading = false;\n\n                if (this.autoSet) this.addSetBlocks();\n                const forceYoYonow = forceYoYo;\n\n                // Skip of there is nothing to run\n                if (this.tweenList.length === 0 || this.addAsyncIsActive)\n                    return;\n\n                // If all tween is in delay reject main promise and fire the new pipe\n                if (this.delayIsRunning && !this.actionAfterReject.active) {\n                    this.startOnDelay = true;\n                    this.actionAfterReject.fn = () =>\n                        this.playReverse({ forceYoYo: forceYoYonow });\n                    this.actionAfterReject.active = true;\n\n                    return;\n                }\n\n                /**\n                 * Rest necessary props\n                 */\n                this.startOnDelay = false;\n                this.stop();\n                this.isStopped = false;\n\n                /*\n                 * Walk thru timeline until the end,\n                 * so we can run reverse next step with forceyoyo\n                 * forceyoyo is used only if we play directly from end\n                 * PlayFrom which use reverse() need to go in forward direction\n                 */\n                if (forceYoYonow) this.forceYoyo = true;\n\n                /*\n                 * Lalbel state\n                 */\n                this.labelState.active = true;\n                this.labelState.index = this.tweenList.length;\n\n                /**\n                 * When play reverse first loop is virtual\n                 * So increment the loop number by 1\n                 **/\n                this.loopCounter--;\n                this.sessionId++;\n\n                /*\n                 * Run one frame after stop to avoid overlap with promise resolve/reject\n                 */\n                mobCore.useFrameIndex(() => {\n                    // Set current promise action after stop so is not fired in stop method\n                    this.currentResolve = resolveInUse;\n                    this.currentReject = rejectInUse;\n                    this.run();\n                }, 1);\n            });\n        });\n    }\n\n    /**\n     * @example\n     * ```javascript\n     * myTimeline.reverseNext();\n     *\n     *\n     * ```\n     *\n     * @description\n     * Reverse timeline direction at the end of current interpolation.\n     */\n    reverseNext() {\n        this.isReverseNext = true;\n    }\n\n    /**\n     * @param {object} obj\n     * @param {boolean} [ obj.clearCache ]\n     *\n     * @example\n     * ```javascript\n     * myTimeline.stop();\n     *\n     *\n     * ```\n     * @description\n     * Stop timeline.\n     */\n    stop({ clearCache = true } = {}) {\n        this.isStopped = true;\n        this.currentIndex = 0;\n        this.loopCounter = 1;\n        this.rejectPromise();\n\n        // Reset state\n        this.isReverseNext = false;\n        this.disableLabel();\n        this.forceYoyo = false;\n        this.isInPause = false;\n        this.isInSuspension = false;\n        this.addAsyncIsActive = false;\n        this.timeOnPause = 0;\n\n        /*\n         * Reset necessary label state\n         */\n        this.labelState.isReverse = false;\n\n        // Stop all Tween\n        this.tweenStore.forEach(({ tween }) => {\n            tween?.stop?.({ clearCache });\n        });\n\n        // If reverse back to default direction\n        if (this.isReverse) this.revertTween();\n        this.isReverse = false;\n\n        /*\n         * If freeMode is false we\n         * set tween 'store' with original data.\n         * So we are sure that next loop start from initial data\n         */\n        if (!this.freeMode) this.resetAllTween();\n    }\n\n    /**\n     * @example\n     * ```javascript\n     * myTimeline.pause();\n     *\n     *\n     * ```\n     * @description\n     * Pause all the instance.\n     */\n    pause() {\n        this.isInPause = true;\n        this.timeOnPause = mobCore.getTime();\n        this.currentTween.forEach(({ tween }) => {\n            tween?.pause?.();\n        });\n    }\n\n    /**\n     * @example\n     * ```javascript\n     * myTimeline.resume();\n     *\n     *\n     * ```\n     * @description\n     * Resume all the instance or resume timeline from suspend.\n     */\n    resume() {\n        if (this.isInPause) {\n            this.isInPause = false;\n            this.timeOnPause = 0;\n            this.resumeEachTween();\n        }\n\n        if (this.isInSuspension) {\n            this.isInSuspension = false;\n            this.timeOnPause = 0;\n\n            if (this.currentIndex <= this.tweenList.length - 2) {\n                this.currentIndex++;\n                this.run();\n            } else if (this.currentIndex === this.tweenList.length - 1) {\n                // At the end suspend become item in pipe first ro skip it\n                this.currentIndex = this.yoyo && !this.isReverse ? 1 : 0;\n                this.disableLabel();\n                if (this.yoyo) this.revertTween();\n                this.loopCounter++;\n                this.run();\n            }\n        }\n    }\n\n    /**\n     * @private\n     */\n    disableLabel() {\n        this.labelState.active = false;\n        this.labelState.index = -1;\n    }\n\n    /**\n     * @private\n     */\n    resumeEachTween() {\n        this.currentTween.forEach(({ tween }) => {\n            tween?.resume?.();\n        });\n    }\n\n    /**\n     * @return {Array} - Returns an array with all tweens active at the time the method is called\n     * @example\n     * ```javascript\n     * const tweens = myTimeline.get()\n     *\n     *\n     * ```\n     * @description\n     * Get an array of active instance.\n     */\n    get() {\n        return this.currentTween;\n    }\n\n    /**\n     * @return {boolean} Returns a boolean value indicating whether the timeline is active\n     * @example\n     * ```javascript\n     * const isActive = myTimeline.isActive();\n     *\n     *\n     * ```\n     * @description\n     * Return active state.\n     */\n    isActive() {\n        return !this.isStopped;\n    }\n\n    /**\n     * @return {boolean} Returns a boolean value indicating whether the timeline is in pause\n     * @example\n     * ```javascript\n     * const isPaused = myTimeline.isPaused():\n     *\n     *\n     * ```\n     * @description\n     * Return pause state.\n     */\n    isPaused() {\n        return this.isInPause;\n    }\n\n    /**\n     * @return {boolean} Returns a boolean value indicating whether the timeline is suspended\n     * @example\n     * ```javascript\n     * const isSuspended = myTimeline.isSuspended();\n     *\n     *\n     * ```\n     * @description\n     * return suspended state.\n     */\n    isSuspended() {\n        return this.isInSuspension;\n    }\n\n    /**\n     * @return {string} Returns a boolean value indicating whether the timeline is suspended\n     * @example\n     * ```javascript\n     * const direction = myTimeline.getDirection();\n     *\n     *\n     * ```\n     * @description\n     * return current direction.\n     */\n    getDirection() {\n        if (this.isStopped) return directionConstant.NONE;\n\n        /**\n         * Default\n         */\n        return this.isReverse\n            ? directionConstant.BACKWARD\n            : directionConstant.FORWARD;\n    }\n\n    /**\n     * @param {function(import('../utils/timeline/type.js').directionTypeObjectLoop ):void } cb - callback function\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     *```javascript\n     * const unsubscribeOnLoopEnd = myTimeline.onLoopEnd(({direction, loop})=>{\n     *      /// code\n     * })\n     * unsubscribeOnLoopEnd();\n     *\n     *\n     * ```\n     * @description\n     * Callback thrown at the end of each cycle\n     */\n    onLoopEnd(cb) {\n        this.callbackLoop.push({ cb, id: this.id });\n        const cbId = this.id;\n        // this.callbackId++;\n\n        return () => {\n            this.callbackLoop = this.callbackLoop.filter(\n                (item) => item.id !== cbId\n            );\n        };\n    }\n\n    /**\n     * @param {function():void } cb - callback function\n     * @return {Function} unsubscribe callback\n     *\n     * @example\n     *```javascript\n     * const unsubscribeOnComplete = myTimeline.onComplete(() => {\n     *      /// code\n     * })\n     * unsubscribeOnComplete();\n     *\n     *\n     * ```\n     * @description\n     * Callback thrown at the end of timeline\n     */\n    onComplete(cb) {\n        this.callbackComplete.push({ cb, id: this.id });\n        const cbId = this.id;\n        this.id++;\n\n        return () => {\n            this.callbackComplete = this.callbackComplete.filter(\n                (item) => item.id !== cbId\n            );\n        };\n    }\n\n    /**\n     * @description\n     * Destroy timeline and all the sequencer\n     */\n    destroy() {\n        this.tweenStore.forEach(({ tween }) => {\n            tween?.destroy?.();\n        });\n        this.tweenList = [];\n        this.currentTween = [];\n        this.callbackComplete = [];\n        this.callbackLoop = [];\n        this.tweenStore = [];\n        this.currentIndex = 0;\n        this.actionAfterReject = {\n            active: false,\n            fn: () => {},\n        };\n    }\n}\n", "// @ts-check\n\nimport { clamp } from '../utils/animationUtils.js';\nimport { syncTimelineLabelWarning } from '../utils/warning.js';\nimport {\n    durationIsValid,\n    repeatIsValid,\n    valueIsBooleanAndReturnDefault,\n} from '../utils/tweenAction/tweenValidation.js';\nimport { mobCore } from '../../../mobCore/index.js';\nimport { directionConstant } from '../utils/timeline/timelineConstant.js';\nimport { fpsLoadedLog } from '../utils/fpsLogInizialization.js';\n\nexport default class HandleSyncTimeline {\n    /**\n     * @param {import('./type.js').syncTimelineType} data\n     *\n     * @example\n     * ```javascript\n     * const myTimeline = new HandleSyncTimeline({\n     *   duration: [ Number ],\n     *   yoyo: [ Boolean ],\n     *   repeat: [ Number ]\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     * myTimeline.add()\n     * myTimeline.onLoopEnd()\n     * myTimeline.onComplete()\n     * myTimeline.onUpdate()\n     * myTimeline.stop()\n     * myTimeline.play()\n     * myTimeline.playReverse()\n     * myTimeline.playFrom()\n     * myTimeline.playFromReverse()\n     * myTimeline.reverse()\n     * myTimeline.pause()\n     * myTimeline.resume()\n     * myTimeline.isActive()\n     * myTimeline.isPaused()\n     * myTimeline.getDirection()\n     * myTimeline.getTime()\n     * myTimeline.destroy()\n     * ```\n     */\n    constructor(data = {}) {\n        /**\n         * @private\n         * @type {number}\n         */\n        this.duration = durationIsValid(data?.duration);\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.yoyo = valueIsBooleanAndReturnDefault(\n            data?.yoyo,\n            'syncTimeline: yoyo',\n            false\n        );\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.repeat = repeatIsValid(data?.repeat);\n\n        /**\n         * @private\n         * @type {import('./type.js').syncTimelineSequencers[]}\n         */\n        this.sequencers = [];\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.startTime = 0;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.timeElapsed = 0;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.currentTime = 0;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.pauseTime = 0;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.timeAtReverse = 0;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.timeAtReverseBack = 0;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.isReverse = false;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.startReverse = false;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.isPlayngReverse = false;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.loopCounter = 0;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.loopIteration = 0;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.minLoopIteration = 10;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.isStopped = true;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.skipFirstRender = false;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.completed = false;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.fpsIsInLoading = false;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.isInPause = false;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.callbackId = 0;\n\n        /**\n         * @private\n         * @type {import('./type.js').syncTimelineEventType[]}\n         */\n        this.callbackLoop = [];\n\n        /**\n         * @private\n         * @type {import('./type.js').syncTimelineEventType[]}\n         */\n        this.callbackComplete = [];\n\n        /**\n         * @private\n         * @type {import('./type.js').syncTimelineEventType[]}\n         */\n        this.callbackOnUpdate = [];\n\n        /**\n         * @private\n         * @type{Function|undefined}\n         */\n        this.currentResolve = undefined;\n\n        /**\n         * @private\n         * @type{Function|undefined}\n         */\n        this.currentReject = undefined;\n    }\n\n    /**\n     * @private\n     * @param {number} time\n     * @param {number} fps\n     */\n    updateTime(time, fps) {\n        if (this.isStopped || this.fpsIsInLoading) return;\n\n        // If loop anitcipate by half frame ( in milliseconds ) next loop so we a have more precise animation\n        const frameThreshold =\n            !this.repeat ||\n            (this.repeat >= 2 && this.loopCounter === this.repeat - 1)\n                ? 0\n                : 1000 / fps / 2;\n\n        if (this.isInPause) {\n            this.pauseTime =\n                time -\n                this.startTime -\n                this.timeElapsed -\n                this.timeAtReverseBack;\n        }\n\n        this.timeElapsed = Math.trunc(\n            time - this.startTime - this.pauseTime - this.timeAtReverseBack\n        );\n\n        const partial = this.isReverse\n            ? this.timeAtReverse - (this.timeElapsed - this.timeAtReverse)\n            : this.timeElapsed;\n\n        if (!this.isInPause) {\n            this.currentTime = clamp(partial, 0, this.duration);\n\n            // When come from playReverse skip first frame because is 0\n            if (!this.skipFirstRender) {\n                this.sequencers.forEach((item) => {\n                    item.draw({\n                        partial: this.currentTime,\n                        isLastDraw: false,\n                        useFrame: true,\n                        direction: this.getDirection(),\n                    });\n                });\n\n                /*\n                 * Fire callbackOnUpdate\n                 */\n                this.callbackOnUpdate.forEach(({ cb }) => {\n                    cb({\n                        time: this.currentTime,\n                        direction: this.getDirection(),\n                    });\n                });\n            }\n        }\n\n        this.skipFirstRender = false;\n        this.loopIteration++;\n\n        /**\n         * Loop control\n         * Check if end of time has been achieved\n         * */\n        if (\n            partial <= this.duration - frameThreshold &&\n            partial >= 0 + frameThreshold &&\n            !this.isStopped\n        ) {\n            this.completed = false;\n            this.goToNextFrame();\n            return;\n        }\n\n        // Reset sequancer callback add function state\n        this.resetSequencerLastValue();\n\n        /*\n         * Start revere animation\n         * In start reverse the first framme jump directly here\n         **/\n        if (this.startReverse) {\n            this.isReverse = true;\n            this.timeAtReverse = 0;\n            this.timeAtReverseBack = 0;\n            this.startReverse = false;\n            this.goToNextFrame();\n            return;\n        }\n\n        /*\n         * Store direction value before chengee during nextFrame\n         **/\n        const direction = this.getDirection();\n        mobCore.useNextFrame(() => {\n            /*\n             *\n             * Prevent multiple fire of complete event\n             * Send direction BACKWARD || FORWARD as argument\n             * If loop is too fast consider end of loop invalid\n             * Prevent error from cycle that start from end\n             * in reverse mode\n             **/\n            if (\n                !this.fpsIsInLoading &&\n                !this.completed &&\n                this.loopIteration > this.minLoopIteration\n            ) {\n                this.completed = true;\n                this.loopCounter++;\n                // this callback is fired after a frame so\n                // check end timeline use the right value not reset\n                this.loopIteration = 0;\n\n                this.callbackLoop.forEach(({ cb }) =>\n                    cb({\n                        direction,\n                        loop: this.loopCounter,\n                    })\n                );\n            }\n        });\n\n        /**\n         * Timelinee is ended, no repeat or loop max iteration is reached\n         **/\n        if (\n            !this.repeat ||\n            (this.loopCounter === this.repeat - 1 &&\n                this.loopIteration > this.minLoopIteration)\n        ) {\n            // Fire callbackLoop onStop of each sequencr\n            // Prevent async problem, endTime back to start, so store the value\n            const endTime = this.currentTime;\n            this.sequencers.forEach((item) => {\n                item.draw({\n                    partial: endTime,\n                    isLastDraw: true,\n                    useFrame: true,\n                    direction: this.getDirection(),\n                });\n            });\n\n            this.isStopped = true;\n            this.resetTime();\n            this.startTime = time;\n            if (this.isReverse) this.isReverse = false;\n\n            // Fire last callback on Complete\n            this.callbackComplete.forEach(({ cb }) => cb());\n            if (this.currentResolve) this.currentResolve();\n            return;\n        }\n\n        /**\n         * In yoyo mode time line have to reverst at the end of cycle\n         **/\n        if (this.yoyo) {\n            this.reverse();\n            this.goToNextFrame();\n            return;\n        }\n\n        /**\n         * Reverse playing\n         **/\n        if (this.isPlayngReverse) {\n            this.resetTime();\n            this.startTime = time;\n            if (!this.isReverse) this.isPlayngReverse = !this.isPlayngReverse;\n            this.timeElapsed = this.duration;\n            this.currentTime = this.duration;\n            this.pauseTime = this.duration;\n            this.goToNextFrame();\n            return;\n        }\n\n        /**\n         * Default playing\n         **/\n        this.resetTime();\n        this.startTime = time;\n        if (this.isReverse) this.isPlayngReverse = !this.isPlayngReverse;\n        this.goToNextFrame();\n    }\n\n    /**\n     * @private\n     * @returns {void}\n     */\n    goToNextFrame() {\n        mobCore.useFrame(() => {\n            mobCore.useNextTick(({ time, fps }) => {\n                // Prevent fire too many raf\n                if (!this.fpsIsInLoading) this.updateTime(time, fps);\n            });\n        });\n    }\n\n    /**\n     * @private\n     * @returns {void}\n     */\n    resetTime() {\n        this.timeElapsed = 0;\n        this.pauseTime = 0;\n        this.currentTime = 0;\n        this.timeAtReverse = 0;\n        this.timeAtReverseBack = 0;\n    }\n\n    /**\n     * @private\n     * @param {string} label\n     * @returns {number}\n     */\n    getTimeFromLabel(label) {\n        const labelObj = this.sequencers.reduce(\n            (previous, current) => {\n                const currentLabels = current.getLabels();\n                const labelsMatched = currentLabels.find(\n                    ({ name: currentName }) => currentName === label\n                );\n\n                return labelsMatched || previous;\n            },\n            { name: '', time: 0 }\n        );\n\n        if (!labelObj) syncTimelineLabelWarning(label);\n\n        return labelObj.time;\n    }\n\n    /**\n     * Private\n     * @returns {void}\n     */\n    rejectPromise() {\n        if (this.currentReject) {\n            this.currentReject(mobCore.ANIMATION_STOP_REJECT);\n            this.currentReject = undefined;\n        }\n    }\n\n    /**\n     * @param {Object} props\n     * @param {boolean} [ props.useCurrent ]\n     * @return {Promise} - The promise launched at the end of the animation\n     *\n     * @example\n     * ```javascript\n     * myTimeline.play({\n     *      useCurrent: true\n     * }).then(() => {\n     *      // code\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Plays the timeline starting from the initial value\n     * With useCurrent set to true and with the timeline active, it will reverse the direction from the current value if it is scrolling in reverse, otherwise it will continue in the current direction.\n     * With useCurrent set to false (default) the animation will always start from frame 0 towards the final value.\n     */\n    play(props = {}) {\n        return new Promise((resolve, reject) => {\n            const useCurrent = props?.useCurrent;\n            if (this.fpsIsInLoading) return;\n\n            this.rejectPromise();\n            this.currentResolve = resolve;\n            this.currentReject = reject;\n\n            /**\n             * If is running and useCurrent is true move from current time value\n             */\n            if (!this.isStopped && !this.isReverse && useCurrent) return;\n            if (!this.isStopped && this.isReverse && useCurrent) {\n                this.reverse();\n                return;\n            }\n\n            this.playFromTime();\n        });\n    }\n\n    /**\n     * @param {number|string} value\n     * @return {Promise} - The promise launched at the end of the animation\n     *\n     * @example\n     * ```javascript\n     * myTimeline.playFrom(1000).then(() => {\n     *      // code\n     * })\n\n     * myTimeline.playFrom('myLabel').then(() => {\n     *      // code\n     * })\n\n     *\n     *\n     * ```\n     *\n     * @description\n     * Plays the timeline forward starting from the specific time or from a label defined in a Handle Sequencer | HandleMasterSequencer instance\n     */\n    playFrom(value = 0) {\n        return new Promise((resolve, reject) => {\n            if (this.fpsIsInLoading) return;\n\n            const isNumber = mobCore.checkType(Number, value);\n            // @ts-ignore\n            const labelTime = isNumber ? value : this.getTimeFromLabel(value);\n\n            this.rejectPromise();\n            this.currentResolve = resolve;\n            this.currentReject = reject;\n            // @ts-ignore\n            this.playFromTime(labelTime);\n        });\n    }\n\n    /**\n     * @private\n     * @param {number} time\n     */\n    playFromTime(time = 0) {\n        // Reset sequancer callback add function state\n        this.resetSequencerLastValue();\n        this.resetTime();\n\n        /*\n         * Set time\n         */\n        this.currentTime = time;\n        this.timeAtReverseBack = -this.currentTime;\n\n        /*\n         * Generic prop\n         */\n        this.isPlayngReverse = false;\n        this.loopIteration = 0;\n\n        /*\n         * Prevent multiple firing\n         */\n        this.fpsIsInLoading = true;\n        this.startAnimation(time);\n    }\n\n    /**\n     * @param {number|string} value\n     * @return {Promise} - The promise launched at the end of the animation\n     *\n     * @example\n     * ```javascript\n     * myTimeline.playFromReverse(1000).then(() => {\n     *      // code\n     * })\n\n     * myTimeline.playFromReverse('myLabel').then(() => {\n     *      // code\n     * })\n\n     *\n     *\n     * ```\n     *\n     * @description\n     * Plays the timeline backward starting from the specific time or from a label defined in a Handle Sequencer | HandleMasterSequencer instance\n     */\n    playFromReverse(value) {\n        return new Promise((resolve, reject) => {\n            if (this.fpsIsInLoading) return;\n\n            const isNumber = mobCore.checkType(Number, value);\n            // @ts-ignore\n            const labelTime = isNumber ? value : this.getTimeFromLabel(value);\n\n            this.rejectPromise();\n            this.currentResolve = resolve;\n            this.currentReject = reject;\n            // @ts-ignore\n            this.playFromTimeReverse(labelTime, true);\n        });\n    }\n\n    /**\n     * @param {Object} props\n     * @param {boolean} [ props.useCurrent ]\n     * @return {Promise} - The promise launched at the end of the animation\n     *\n     * @example\n     * ```javascript\n     * myTimeline.playReverse({\n     *      useCurrent: true\n     * }).then(() => {\n     *      // code\n     * })\n\n     *\n     *\n     * ```\n     *\n     * @description\n     * Plays the timeline starting from the end value\n     * With useCurrent set to true and with the timeline active, it will reverse the direction from the current value if it is scrolling in reverse, otherwise it will continue in the current direction.\n     * With useCurrent set to false (default) the animation will always start from the final value towards the initial value.\n     */\n    playReverse(props = {}) {\n        return new Promise((resolve, reject) => {\n            const useCurrent = props?.useCurrent;\n            if (this.fpsIsInLoading) return;\n\n            this.rejectPromise();\n            this.currentResolve = resolve;\n            this.currentReject = reject;\n\n            /**\n             * If is running and useCurrent is true move from current time value\n             */\n            if (!this.isStopped && this.isReverse && useCurrent) return;\n            if (!this.isStopped && !this.isReverse && useCurrent) {\n                this.reverse();\n                return;\n            }\n\n            // @ts-ignore\n            this.playFromTimeReverse(this.duration, true);\n        });\n    }\n\n    /**\n     * @private\n     * @param {number} time\n     * @returns {void}\n     */\n    playFromTimeReverse(time = 0) {\n        // Reset sequancer callback add function state\n        this.resetSequencerLastValue();\n\n        /*\n         * Set time\n         */\n        this.timeElapsed = time;\n        this.currentTime = time;\n        this.pauseTime = time;\n        this.timeAtReverse = 0;\n        this.timeAtReverseBack = 0;\n\n        /*\n         * Generic prop\n         */\n        this.startReverse = true;\n        this.isPlayngReverse = true;\n        this.skipFirstRender = true;\n        this.loopIteration = 0;\n\n        /*\n         * Prevent multiple firing\n         */\n        this.fpsIsInLoading = true;\n        this.startAnimation(time);\n    }\n\n    /**\n     * @description\n     * Find label than match the occurrency and return the time\n     *\n     * @param {number} partial\n     * @returns {Promise}\n     */\n    async startAnimation(partial) {\n        if (this.repeat === 0) return;\n\n        const { averageFPS } = await mobCore.useFps();\n\n        fpsLoadedLog('sequencer', averageFPS);\n        this.isReverse = false;\n\n        this.sequencers.forEach((item) => {\n            item.inzializeStagger();\n            item.disableStagger();\n            item.draw({\n                partial,\n                isLastDraw: false,\n                useFrame: true,\n                direction: this.getDirection(),\n            });\n        });\n\n        mobCore.useFrame(() => {\n            mobCore.useNextTick(({ time, fps }) => {\n                this.startTime = time;\n                this.fpsIsInLoading = false;\n                this.isStopped = false;\n                this.isInPause = false;\n                this.loopCounter = 0;\n                this.updateTime(time, fps);\n            });\n        });\n    }\n\n    /**\n     *\n     * @example\n     * ```javascript\n     * myTimeline.pause();\n     *\n     *\n     * ```\n     *\n     * @description\n     * Pause timeline\n     *\n     * @returns {void}\n     *\n     */\n    pause() {\n        if (this.isStopped || this.isInPause || this.fpsIsInLoading) return;\n\n        this.isStopped = false;\n        this.isInPause = true;\n    }\n\n    /**\n     *\n     * @example\n     * ```javascript\n     * myTimeline.resume();\n     *\n     *\n     * ```\n     *\n     * @description\n     * Resume timeline from pause\n     *\n     * @returns {void}\n     */\n    resume() {\n        if (this.isStopped || !this.isInPause || this.fpsIsInLoading) return;\n\n        this.isStopped = false;\n        this.isInPause = false;\n    }\n\n    /**\n     *\n     * @example\n     * ```javascript\n     * myTimeline.reverse();\n     *\n     *\n     * ```\n     *\n     * @description\n     * Reverse the direction while the timeline is running\n     *\n     *\n     * @returns {void}\n     */\n    reverse() {\n        if (this.isStopped || this.isInPause || this.fpsIsInLoading) return;\n\n        // Reset sequancer callback add function state\n        this.resetSequencerLastValue();\n        this.isReverse = !this.isReverse;\n        if (this.isReverse) {\n            this.timeAtReverse = this.timeElapsed;\n        } else {\n            this.timeAtReverseBack += this.timeElapsed - this.currentTime;\n        }\n    }\n\n    /**\n     * @param {Object} obj\n     * @param {boolean} [ obj.clearCache ]\n     * @returns {this|undefined} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * myTimeline.stop();\n     *\n     *\n     * ```\n     *\n     * @description\n     * Stop timeline\n     *\n     *\n     */\n    stop({ clearCache = true } = {}) {\n        this.isStopped = true;\n        this.isInPause = false;\n        this.rejectPromise();\n\n        if (clearCache) {\n            this.sequencers.forEach((item) => {\n                item.cleanCachedId();\n            });\n            return;\n        }\n\n        /**\n         * Con lo stagger il render del last frame ( es senza translate3d)\n         * va in conflitto con cleanCached\n         * Il render parziale viene perso.\n         * Utitlizziamo il render onStop solo se clarCahe \u00E9 diabilitato cosi\n         * da far finire in maniera naturale il tween di ogni stagger.\n         */\n\n        // Fire callbackLoop onStop of each sequencr\n        this.sequencers.forEach((item) => {\n            item.draw({\n                partial: this.currentTime,\n                isLastDraw: true,\n                useFrame: true,\n                direction: this.getDirection(),\n            });\n        });\n    }\n\n    /**\n     * @param {import('./type.js').syncTimelineSequencers} sequencer\n     * @returns {this} The instance on which this method was called.\n     *\n     * @example\n     * ```javascript\n     * myTimeline.add(mySequencer);\n     * myTimeline.add(myMasterSequencer);\n     *\n     *\n     * ```\n     *\n     * @description\n     * Add the instance of a sequencer | masterSequencer to the timeline\n     */\n    add(sequencer) {\n        sequencer.setStretchFactor(this.duration);\n        this.sequencers.push(sequencer);\n\n        return this;\n    }\n\n    /**\n     * @param {number} duration\n     * @returns {this} The instance on which this method was called.\n     */\n    setDuration(duration) {\n        this.duration = duration;\n\n        return this;\n    }\n\n    /**\n     * @returns {void}\n     */\n    resetSequencerLastValue() {\n        this.sequencers.forEach((item) => item.resetLastValue());\n    }\n\n    /**\n     * @return {boolean} Active status\n     *\n     * @example\n     * ```javascript\n     * const isActive = myTimeline.isActive();\n     *\n     *\n     * ```\n     *\n     * @description\n     * Return active status\n     */\n    isActive() {\n        return !this.isStopped;\n    }\n\n    /**\n     * @return {boolean} Pause status\n     *\n     * @example\n     * ```javascript\n     * const isPaused = myTimeline.isPaused();\n     *\n     *\n     * ```\n     *\n     * @description\n     * Return pause status\n     */\n    isPaused() {\n        return this.isInPause;\n    }\n\n    /**\n     * @returns {string}\n     *\n     * @example\n     * ```javascript\n     * myTimeline.getDirection();\n     *\n     *\n     * ```\n     *\n     * @description\n     * Return direction forward|backward|none\n     */\n    getDirection() {\n        if (this.isStopped) return directionConstant.NONE;\n\n        return this.isReverse\n            ? directionConstant.BACKWARD\n            : directionConstant.FORWARD;\n    }\n\n    /**\n     * @returns {number} Current time\n     *\n     * @example\n     * ```javascript\n     * myTimeline.getTime();\n     *\n     *\n     * ```\n     *\n     * @description\n     * Get current time\n     */\n    getTime() {\n        return this.currentTime;\n    }\n\n    /**\n     * @param {function(import('../utils/timeline/type.js').directionTypeObjectLoop ):void } cb - callback function\n     * @return {() => void} unsubscribe callback\n     *\n     * @example\n     *```javascript\n     * const unsubscribeOnLoopEnd = myTimeline.onLoopEnd(({direction, loop})=>{\n     *      /// code\n     * })\n     * unsubscribeOnLoopEnd();\n     *\n     *\n     * ```\n     * @description\n     * Callback thrown at the end of each cycle\n     */\n    onLoopEnd(cb = () => {}) {\n        this.callbackLoop.push({ cb, id: this.callbackId });\n        const cbId = this.callbackId;\n        this.callbackId++;\n\n        return () => {\n            this.callbackLoop = this.callbackLoop.filter(\n                (item) => item.id !== cbId\n            );\n        };\n    }\n\n    /**\n     * @param {function():void } cb - callback function\n     * @return {() => void} unsubscribe callback\n     *\n     * @example\n     *```javascript\n     * const unsubscribeOnComplete = myTimeline.onComplete(() => {\n     *      /// code\n     * })\n     * unsubscribeOnComplete();\n     *\n     *\n     * ```\n     * @description\n     * Callback thrown at the end of timeline\n     */\n    onComplete(cb = () => {}) {\n        this.callbackComplete.push({ cb, id: this.callbackId });\n        const cbId = this.callbackId;\n        this.callbackId++;\n\n        return () => {\n            this.callbackComplete = this.callbackComplete.filter(\n                (item) => item.id !== cbId\n            );\n        };\n    }\n\n    /**\n     * @param {function(import('../utils/timeline/type.js').directionTypeObjectUpdate ):void } cb - callback function\n     * @return {() => void} unsubscribe callback\n     *\n     * @example\n     *```javascript\n     * const unsubscribeOnUpdate = myTimeline.onUpdate(({direction, time}) => {\n     *      /// code\n     * })\n     * unsubscribeOnUpdate();\n     *\n     *\n     * ```\n     * @description\n     * Callback thrown at each frame during the animation\n     */\n    onUpdate(cb = () => {}) {\n        this.callbackOnUpdate.push({ cb, id: this.callbackId });\n        const cbId = this.callbackId;\n        this.callbackId++;\n\n        return () => {\n            this.callbackOnUpdate = this.callbackOnUpdate.filter(\n                (item) => item.id !== cbId\n            );\n        };\n    }\n\n    /**\n     * @description\n     * Destroy timeline and all the sequencer\n     */\n    destroy() {\n        this.stop();\n        this.sequencers.forEach((item) => item.destroy());\n        this.sequencers = [];\n        this.callbackOnUpdate = [];\n        this.callbackLoop = [];\n        this.callbackComplete = [];\n    }\n}\n", "// @ts-check\n\nimport HandleAsyncTimeline from './animation/asyncTimeline/handleAsyncTimeline.js';\nimport HandleSyncTimeline from './animation/syncTimeline/handleSyncTimeline.js';\n\nexport const timeline = {\n    /**\n     * @param {import('./animation/syncTimeline/type.js').syncTimelineType} data\n     *\n     * @example\n     * ```javascript\n     * Property schema:\n     *\n     *\n     * const myTimeline = timeline.createSyncTimeline({\n     *   duration: [ Number ],\n     *   yoyo: [ Boolean ],\n     *   repeat: [ Number ]\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     * myTimeline.add()\n     * myTimeline.onLoopEnd()\n     * myTimeline.onComplete()\n     * myTimeline.onUpdate()\n     * myTimeline.stop()\n     * myTimeline.play()\n     * myTimeline.playReverse()\n     * myTimeline.playFrom()\n     * myTimeline.playFromReverse()\n     * myTimeline.reverse()\n     * myTimeline.pause()\n     * myTimeline.resume()\n     * myTimeline.isActive()\n     * myTimeline.isPaused()\n     * myTimeline.getDirection()\n     * myTimeline.getTime()\n     * myTimeline.destroy()\n     * ```\n     */\n    createSyncTimeline(data) {\n        return new HandleSyncTimeline(data);\n    },\n\n    /**\n     * @param {import('./animation/asyncTimeline/type.js').asyncTimelineType} data\n     *\n     * @example\n     * ```javascript\n     * Property schema:\n     *\n     *\n     * const myTimeline = timeline.createAsyncTimeline({\n     *   yoyo: [ Boolean ],\n     *   repeat: [ Number ],\n     *   freeMode: [ Number ],\n     *   autoSet: [ Number ],\n     * })\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     * ```javascript\n     *\n     *\n     * `Methods to create timeline`\n     * myTimeline.set()\n     * myTimeline.goTo()\n     * myTimeline.goFrom()\n     * myTimeline.goFromTo()\n     * myTimeline.add()\n     * myTimeline.addAsync()\n     * myTimeline.sync()\n     * myTimeline.createGroup()\n     * myTimeline.closeGroup()\n     * myTimeline.suspend()\n     * myTimeline.label()\n     *\n     *\n     * `Methods to control timeline`\n     * myTimeline.play()\n     * myTimeline.playFromLabel()\n     * myTimeline.playFrom()\n     * myTimeline.playFromReverse()\n     * myTimeline.playReverse()\n     * myTimeline.reverseNext()\n     * myTimeline.stop()\n     * myTimeline.pause()\n     * myTimeline.resume()\n     * myTimeline.isActive()\n     * myTimeline.isPaused()\n     * myTimeline.isSuspended()\n     * myTimeline.getDirection()\n     * myTimeline.setTween()\n     * myTimeline.get()\n     * myTimeline.onLoopEnd()\n     * myTimeline.onComplete()\n     * myTimeline.destroy()\n     * ```\n     */\n    createAsyncTimeline(data) {\n        return new HandleAsyncTimeline(data);\n    },\n};\n", "// @ts-check\n\nimport { parallaxConstant } from './parallaxConstant.js';\n\n/**\n * @param {object} obj\n * @param {number} obj.prevValue\n * @param {number} obj.value\n * @param {number} obj.maxVal\n *\n * @returns {string}\n *\n */\nconst action = ({ prevValue, value, maxVal }) => {\n    /**\n     * ON_LEAVE\n     **/\n    if (\n        (value >= maxVal && prevValue <= maxVal && maxVal >= 0) ||\n        (value <= maxVal && prevValue >= maxVal && maxVal <= 0)\n    )\n        return parallaxConstant.ON_LEAVE;\n\n    /**\n     * ON_ENTER_BACK\n     **/\n    if (\n        (value > maxVal && prevValue <= maxVal && maxVal <= 0) ||\n        (value < maxVal && prevValue >= maxVal && maxVal >= 0)\n    )\n        return parallaxConstant.ON_ENTER_BACK;\n\n    /**\n     * ON_LEAVE_BACK\n     **/\n    if (\n        (value >= 0 && prevValue <= 0 && maxVal <= 0) ||\n        (value <= 0 && prevValue >= 0 && maxVal >= 0)\n    )\n        return parallaxConstant.ON_LEAVE_BACK;\n\n    /**\n     * ON_ENTER\n     **/\n    if (\n        (value > 0 && value < maxVal && prevValue <= 0 && maxVal >= 0) ||\n        (value < 0 && prevValue >= 0 && maxVal <= 0)\n    )\n        return parallaxConstant.ON_ENTER;\n\n    return parallaxConstant.ON_NOOP;\n};\n\n/**\n * @param {object} obj\n * @param {number} obj.prevValue\n * @param {number} obj.value\n * @param {number} obj.maxVal\n * @param {Function} obj.onEnter\n * @param {Function} obj.onEnterBack\n * @param {Function} obj.onLeave\n * @param {Function} obj.onLeaveBack\n *\n * @returns void\n *\n */\nexport function parallaxEmitter({\n    prevValue,\n    value,\n    maxVal,\n    onEnter,\n    onEnterBack,\n    onLeave,\n    onLeaveBack,\n}) {\n    const fn = {\n        [parallaxConstant.ON_LEAVE]: () => {\n            if (onLeave) onLeave();\n        },\n        [parallaxConstant.ON_ENTER_BACK]: () => {\n            if (onEnterBack) onEnterBack();\n        },\n        [parallaxConstant.ON_LEAVE_BACK]: () => {\n            if (onLeaveBack) onLeaveBack();\n        },\n        [parallaxConstant.ON_ENTER]: () => {\n            if (onEnter) onEnter();\n        },\n        [parallaxConstant.ON_NOOP]: () => {},\n    };\n\n    fn[action({ prevValue, value, maxVal })]();\n}\n", "// @ts-check\n\nimport { parallaxConstant } from './parallaxConstant.js';\nimport { handleSetUp } from '../../setup.js';\nimport { mobCore } from '../../../mobCore/index.js';\n\n/**\n * @param {object} obj\n * @param {Element|undefined} obj.startMarker\n * @param {Element|undefined} obj.endMarker\n * @param {string} obj.label\n *\n * @returns {{lastStartMarker:(Element|undefined), lastEndMarkerEl:(Element|undefined)}}\n */\nconst getMarker = ({ startMarker, endMarker, label }) => {\n    if (!startMarker && !endMarker) {\n        // Replace illegal character with '-'\n        // @ts-ignore\n        const labelSanitized = label.replaceAll(/^[^a-z]+|[^\\w.:-]+/gi, '-');\n\n        const startMarkerEL = document.createElement('span');\n        startMarkerEL.className += `p-marker p-marker--start  p-marker-${labelSanitized}`;\n        startMarkerEL.innerHTML = `start ${labelSanitized}`;\n\n        const endMarkerEL = document.createElement('span');\n        endMarkerEL.className += `p-marker p-marker--end  p-marker-${labelSanitized}`;\n        endMarkerEL.innerHTML = `end ${labelSanitized}`;\n\n        document.body.append(startMarkerEL);\n        document.body.append(endMarkerEL);\n\n        const startMarkerGenerated = document.querySelector(\n            `.p-marker--start.p-marker-${labelSanitized}`\n        );\n\n        const endMarkerElGenerated = document.querySelector(\n            `.p-marker--end.p-marker-${labelSanitized}`\n        );\n\n        return {\n            lastStartMarker: startMarkerGenerated ?? undefined,\n            lastEndMarkerEl: endMarkerElGenerated ?? undefined,\n        };\n    }\n\n    return {\n        lastStartMarker: startMarker,\n        lastEndMarkerEl: endMarker,\n    };\n};\n\n/**\n * @param {object} obj\n * @param {HTMLElement|Window|null} obj.screen\n *\n * @returns {{top:number,right:number,bottom:number,left:number}}\n */\nconst getPosition = ({ screen }) => {\n    if (screen === window) {\n        return {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n        };\n    }\n\n    // @ts-ignore\n    const rect = screen.getBoundingClientRect();\n\n    return {\n        top: rect.top,\n        right:\n            document.documentElement.clientWidth -\n            // @ts-ignore\n            (rect.left + screen.offsetWidth),\n        // @ts-ignore\n        bottom: window.innerHeight - (rect.top + screen.offsetHeight),\n        left: rect.left,\n    };\n};\n\n/**\n * @param {object} obj\n * @param {number} obj.startPoint\n * @param {string} obj.direction\n * @param {boolean} obj.invertSide\n * @param {number} obj.top\n * @param {number} obj.bottom\n * @param {number} obj.left\n * @param {number} obj.right\n *\n * @returns {Object}\n */\nconst getStartStyle = ({\n    startPoint,\n    direction,\n    invertSide,\n    top,\n    bottom,\n    left,\n    right,\n}) => {\n    if (direction === parallaxConstant.DIRECTION_VERTICAL) {\n        return invertSide\n            ? {\n                  right: 0,\n                  width: '100vw',\n                  height: '3px',\n                  top: `${startPoint + top}px`,\n                  padding: '0 30px',\n                  pointerEvents: 'none',\n              }\n            : {\n                  right: 0,\n                  width: '100vw',\n                  height: '3px',\n                  bottom: `${startPoint + bottom}px`,\n                  padding: '0 30px',\n                  pointerEvents: 'none',\n              };\n    }\n\n    return invertSide\n        ? {\n              top: 0,\n              height: '100vw',\n              width: '3px',\n              left: `${startPoint + left}px`,\n              padding: '30px 0',\n              pointerEvents: 'none',\n          }\n        : {\n              top: 0,\n              height: '100vw',\n              width: '3px',\n              right: `${startPoint + right}px`,\n              padding: '30px 0',\n              pointerEvents: 'none',\n          };\n};\n\n/**\n * @param {object} obj\n * @param {number} obj.startPoint\n * @param {number} obj.endPoint\n * @param {string} obj.direction\n * @param {boolean} obj.invertSide\n * @param {number} obj.top\n * @param {number} obj.bottom\n * @param {number} obj.left\n * @param {number} obj.right\n *\n * @returns {Object}\n */\nconst getEndStyle = ({\n    startPoint,\n    endPoint,\n    direction,\n    invertSide,\n    top,\n    bottom,\n    left,\n    right,\n}) => {\n    if (direction === parallaxConstant.DIRECTION_VERTICAL) {\n        return invertSide\n            ? {\n                  right: 0,\n                  width: '100vw',\n                  height: '3px',\n                  top: `${startPoint + endPoint + top}px`,\n                  padding: '0 30px',\n                  pointerEvents: 'none',\n              }\n            : {\n                  right: 0,\n                  width: '100vw',\n                  height: '3px',\n                  bottom: `${startPoint + endPoint + bottom}px`,\n                  padding: '0 30px',\n                  pointerEvents: 'none',\n              };\n    }\n\n    return invertSide\n        ? {\n              top: 0,\n              height: '100vw',\n              width: '3px',\n              left: `${startPoint + endPoint + left}px`,\n              padding: '30px 0',\n              pointerEvents: 'none',\n          }\n        : {\n              top: 0,\n              height: '100vw',\n              width: '3px',\n              right: `${startPoint + endPoint + right}px`,\n              padding: '30px 0',\n              pointerEvents: 'none',\n          };\n};\n/**\n * @param {object} obj\n * @param {Element|undefined} obj.startMarker\n * @param {Element|undefined} obj.endMarker\n * @param {number} obj.startPoint\n * @param {number} obj.endPoint\n * @param {HTMLElement|Window|null} obj.screen\n * @param {string} obj.direction\n * @param {boolean} obj.invertSide\n * @param {string} obj.label\n *\n * @returns {{startMarker:(Element|undefined), endMarker:(Element|undefined)}}\n */\nexport const parallaxMarker = ({\n    startMarker,\n    endMarker,\n    startPoint,\n    endPoint,\n    screen,\n    direction,\n    invertSide,\n    label,\n}) => {\n    // Creat emarker if not exist\n    const { lastStartMarker, lastEndMarkerEl } = getMarker({\n        startMarker,\n        endMarker,\n        label,\n    });\n\n    const { top, right, bottom, left } = getPosition({ screen });\n\n    const startStyle = getStartStyle({\n        startPoint,\n        direction,\n        invertSide,\n        top,\n        bottom,\n        left,\n        right,\n    });\n\n    const endStyle = getEndStyle({\n        startPoint,\n        endPoint,\n        direction,\n        invertSide,\n        top,\n        bottom,\n        left,\n        right,\n    });\n\n    const style = {\n        position: 'fixed',\n        zIndex: '99999',\n        background:\n            handleSetUp.get('scrollTrigger')?.markerColor?.startEnd ||\n            '#ff0000',\n        fontSize: '14px',\n        whiteSpace: 'nowrap',\n        textTransform: 'uppercase',\n    };\n\n    mobCore.useFrame(() => {\n        // @ts-ignore\n        Object.assign(lastStartMarker?.style, { ...style, ...startStyle });\n        // @ts-ignore\n        Object.assign(lastEndMarkerEl?.style, { ...style, ...endStyle });\n    });\n\n    return {\n        startMarker: lastStartMarker,\n        endMarker: lastEndMarkerEl,\n    };\n};\n", "// @ts-check\n\nimport { handleSetUp } from '../../setup';\nimport { parallaxConstant } from './parallaxConstant';\n\n/**\n * @param {Object} param\n * @param {string} param.marker\n * @param {string} param.direction\n * @param {boolean|undefined} param.invertSide\n * @return {Object}\n */\nexport const getMarkerWrapperStyle = ({ marker, direction, invertSide }) => {\n    if (!marker) return {};\n\n    const borderColor =\n        handleSetUp.get('scrollTrigger')?.markerColor?.item || '#14df3b';\n    const borderStyle = `3px ${borderColor} solid`;\n\n    if (direction === parallaxConstant.DIRECTION_VERTICAL) {\n        return invertSide\n            ? { borderBottom: borderStyle }\n            : { borderTop: borderStyle };\n    } else {\n        return invertSide\n            ? { borderRight: borderStyle }\n            : { borderLeft: borderStyle };\n    }\n};\n", "// @ts-check\n\nimport HandleSpring from '../../animation/spring/handleSpring.js';\nimport { parallaxConstant } from './parallaxConstant.js';\nimport { position } from '../../../mobCore/utils/index.js';\nimport { clamp } from '../../animation/utils/animationUtils.js';\nimport { mobCore } from '../../../mobCore/index.js';\nimport { getMarkerWrapperStyle } from './parallaxPinUtils.js';\n\nexport class ParallaxPin {\n    constructor() {\n        /**\n         * @type{boolean}\n         */\n        this.trasponderActive = false;\n\n        /**\n         * @type{number}\n         */\n        this.scrollerHeight = 0;\n\n        /**\n         * @type{number}\n         */\n        this.start = 0;\n\n        /**\n         * @type{number}\n         */\n        this.startFromTop = 0;\n\n        /**\n         * @description\n         * @type {HTMLElement|Window}\n         */\n        this.scroller = window;\n\n        /**\n         * @type{boolean|undefined}\n         */\n        this.invertSide = undefined;\n\n        /**\n         * @type{number}\n         */\n        this.end = 0;\n\n        /**\n         * @type{() => number}\n         */\n        this.getStart = () => 0;\n\n        /**\n         * @type{() => number}\n         */\n        this.getEnd = () => 0;\n\n        /**\n         * @type{string}\n         */\n        this.direction = parallaxConstant.DIRECTION_VERTICAL;\n\n        /**\n         * @type{number}\n         */\n        this.compesateValue = 0;\n\n        /**\n         * @description\n         * @type {HTMLElement|null}\n         */\n        this.trigger = null;\n\n        /**\n         * @description\n         * @type {HTMLElement|undefined}\n         */\n        this.item = undefined;\n\n        /**\n         * @description\n         * @type {Object|undefined}\n         */\n        this.spring = undefined;\n\n        /**\n         * @description\n         * @type {HTMLElement|undefined}\n         */\n        this.wrapper = undefined;\n\n        /**\n         * @description\n         * @type {HTMLElement|undefined}\n         */\n        this.pin = undefined;\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.isOver = false;\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.isInner = false;\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.isUnder = false;\n\n        /**\n         * @description\n         * @type {Function}\n         */\n        this.unsubscribeScroll = () => {};\n\n        /**\n         * @description\n         * @type {Function}\n         */\n        this.unsubscribeScrollStart = () => {};\n\n        /**\n         * @description\n         * @type {Function}\n         */\n        this.unsubscribeSpring = () => {};\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.firstTime = true;\n\n        /**\n         * @description\n         * Item style applied to pin wrapper\n         *\n         * @type {Array<string>}\n         */\n        this.itemRequireStyleToWrapper = [\n            'flex',\n            'flex-shrink',\n            'flex-basis',\n            'float',\n            'display',\n            'grid-area',\n            'grid-column-start',\n            'grid-column-end',\n            'grid-row-start',\n            'grid-row-end',\n            'box-sizing',\n            'order',\n            'place-self',\n            'align-self',\n            'justify-self',\n        ];\n\n        /**\n         * @description\n         * Item style get and applied itself when transpond\n         *\n         * @type {Array<string>}\n         */\n        this.itemRequireStyleWhenTraspond = [\n            'font-size',\n            'padding',\n            'margin',\n            'line-height',\n            'white-space',\n        ];\n\n        /**\n         * @description\n         * Paerent style to applied to pin\n         *\n         * @type {Array<string>}\n         */\n        this.parentRequireStyle = ['text-align'];\n\n        /**\n         * @description\n         * Item style applied to pin\n         *\n         * @type {Array<string>}\n         */\n        this.itemRequireStyleToPin = ['z-index', 'pointer-events'];\n\n        /**\n         * @description\n         * Parent style that activate transpond\n         *\n         * @type {Array<string>}\n         */\n        this.styleToTranspond = [\n            'transform',\n            'position',\n            'translate',\n            'rotate',\n            'scale',\n        ];\n\n        /**\n         * @description\n         * Skip parent style to activate transpond above with this value\n         *\n         * @type {Array<string>}\n         */\n        this.nonRelevantRule = ['none', 'static'];\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.isInizialized = false;\n\n        /**\n         * @description\n         * @type {number}\n         */\n        this.prevScroll = 0;\n\n        /**\n         * @description\n         * @type {number}\n         */\n        this.prevscrollY = 0;\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.animatePin = false;\n\n        /**\n         * @description\n         * @type {number}\n         */\n        this.anticipateFactor = 1.5;\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.forceTranspond = false;\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.justPinned = false;\n\n        /**\n         * @description\n         * @type {number}\n         */\n        this.afterPinCounter = 0;\n\n        /**\n         * @description\n         * @type {number}\n         */\n        this.lastStep = 0;\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.afterJustPinned = false;\n\n        /**\n         * @description\n         * @type {number}\n         */\n        this.afterJustPinnedCounter = 0;\n\n        /**\n         * @description\n         * @type {number}\n         */\n        this.numeCycleToFreeze = 3;\n    }\n\n    /**\n     * @param {Object} data\n     */\n    init(data) {\n        this.item = data.item;\n        this.marker = data.marker;\n        this.trigger = data.trigger || data?.item;\n        this.scroller = data.scroller;\n        this.screen = data.screen;\n        this.animatePin = data.animatePin;\n        this.anticipatePinOnLoad = data.anticipatePinOnLoad;\n        this.forceTranspond = data.forceTranspond;\n        this.invertSide = data.invertSide;\n        this.direction = data.direction;\n        this.getStart = data.getStart;\n        this.getEnd = data.getEnd;\n        this.start = this.getStart();\n        this.end = this.getEnd();\n        this.prevscrollY = window.pageYOffset;\n        this.scrollerHeight = data?.scrollerHeight;\n        this.refreshCollisionPoint();\n        this.collisionTranslateProp =\n            this.direction === parallaxConstant.DIRECTION_VERTICAL ? 'Y' : 'X';\n\n        this.collisionStyleProp =\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? 'top'\n                : 'left';\n        this.isInizialized = true;\n        this.firstTime = true;\n\n        this.createPin();\n        this.addStyleFromPinToWrapper();\n        this.setPinSize();\n        this.setUpMotion();\n\n        /**\n         * Update pix top position when use custom screen ad scroll outside on window\n         */\n        this.unsubscribeScrollStart = mobCore.useScrollStart(() => {\n            if (!this.isInizialized) return;\n\n            if (this.screen !== window && this.isInner && this.pin) {\n                mobCore.useFrame(() => {\n                    if (this.pin)\n                        this.pin.style.transition = `transform .85s cubic-bezier(0, 0.68, 0.45, 1.1)`;\n                });\n            }\n        });\n\n        this.unsubscribeScroll = mobCore.useScroll(({ scrollY }) => {\n            if (!this.isInizialized) return;\n\n            if (\n                this.screen !== window &&\n                this.screen !== document.documentElement\n            ) {\n                if (this.direction === parallaxConstant.DIRECTION_VERTICAL) {\n                    this.refreshCollisionPoint();\n                }\n\n                const gap = scrollY - this.prevscrollY;\n                this.prevscrollY = scrollY;\n\n                if (this.isInner && this.pin) {\n                    const { verticalGap } = this.spring.get();\n                    const translateValue = verticalGap - gap;\n\n                    /**\n                     * No need animation update data and apply style directly\n                     */\n                    this.spring.setData({\n                        collision: 0,\n                        verticalGap: translateValue,\n                    });\n\n                    mobCore.useFrame(() => {\n                        if (this.pin)\n                            this.pin.style.transform = `translate(0px,${translateValue}px)`;\n                    });\n                }\n            }\n        });\n    }\n\n    setUpMotion() {\n        this.spring = new HandleSpring({\n            data: { collision: 0, verticalGap: 0 },\n            config: 'wobbly',\n        });\n\n        this.unsubscribeSpring = this.spring.subscribe(\n            ({ collision, verticalGap }) => {\n                if (\n                    this.direction === parallaxConstant.DIRECTION_VERTICAL &&\n                    this.pin\n                ) {\n                    /**\n                     * In vertical mode gap to translate when pin is in fixed position\n                     * on window scroll is the same of collision\n                     * The same axis reset the two prop\n                     */\n                    this.pin.style.transform = `translate(0px, ${collision}px)`;\n                } else if (this.pin) {\n                    this.pin.style.transform = `translate(${collision}px, ${verticalGap}px)`;\n                }\n            }\n        );\n    }\n\n    resetSpring() {\n        if (this.pin)\n            this.spring.set({ collision: 0, verticalGap: 0 }).catch(() => {});\n    }\n\n    createPin() {\n        if (!this.item) this.item = document.createElement('div');\n\n        /**\n         * Wrap pin element\n         * pin-wrapper , use to cache potion into dom flow when pin go to fixed\n         */\n        const wrapper = document.createElement('div');\n        wrapper.classList.add('pin-wrapper');\n\n        /**\n         * Pin wrap that go to fixed pos\n         */\n        const pin = document.createElement('div');\n        pin.classList.add('pin');\n        wrapper.append(pin);\n        const parentNode = this.item?.parentNode;\n\n        if (parentNode) parentNode.insertBefore(wrapper, this.item);\n\n        // @ts-ignore\n        pin.append(this.item);\n\n        // @ts-ignore\n        this.wrapper = this.item.closest('.pin-wrapper');\n\n        // @ts-ignore\n        this.pin = this.item.closest('.pin');\n\n        /**\n         * Get style from parent and add to pin, es text-align\n         */\n        const requiredStyleToadd = this.addRquiredStyle();\n\n        /**\n         * Get style from iem and add to pin, es z-index\n         */\n        const pinStyleFromItem = this.addPinStyleFromItem();\n\n        const markerWrapperStyle = getMarkerWrapperStyle({\n            marker: this.marker,\n            invertSide: this.invertSide,\n            direction: this.direction,\n        });\n\n        /**\n         * Add display table to avoid margin problem inside\n         */\n        const display = { display: 'table' };\n\n        mobCore.useFrame(() => {\n            if (!this.pin || !this.wrapper) return;\n\n            Object.assign(this.wrapper.style, { ...markerWrapperStyle });\n            Object.assign(this.pin.style, {\n                ...display,\n                ...pinStyleFromItem,\n                ...requiredStyleToadd,\n            });\n        });\n\n        this.checkIfShouldTranspond();\n    }\n\n    setPinSize() {\n        /*\n        Firse time ww don't use raf to apply basic\n        misureimmediatly on component creation\n        Otherwise we can have some wrong calculation after\n        */\n\n        if (!this.pin || !this.wrapper) return;\n        const height = this.wrapper.offsetHeight;\n        const width = this.wrapper.offsetWidth;\n        this.wrapper.style.height = `${height}px`;\n        this.wrapper.style.width = `${width}px`;\n        this.pin.style.height = `${height}px`;\n        this.pin.style.width = `${width}px`;\n    }\n\n    /**\n     * @description\n     * Get style from item and apply to wrapper ( es: flex)\n     */\n    addStyleFromPinToWrapper() {\n        if (!this.item) return;\n\n        const compStyles = window.getComputedStyle(this.item);\n        const style = this.itemRequireStyleToWrapper.reduce((p, c) => {\n            return { ...p, [c]: compStyles.getPropertyValue(c) };\n        }, {});\n\n        mobCore.useFrame(() => {\n            if (!this.wrapper) return;\n            Object.assign(this.wrapper.style, style);\n        });\n    }\n\n    /**\n     * @param {HTMLElement} target\n     * @param {string} rule\n     *\n     * @returns {object|undefined}\n     */\n    findStyle(target, rule) {\n        let node = target.parentNode;\n        if (!node) return;\n\n        while (node !== null && node !== document) {\n            // @ts-ignore\n            const style = getComputedStyle(node);\n\n            if (style[rule] && !this.nonRelevantRule.includes(style[rule])) {\n                return { [rule]: style[rule] };\n            }\n            node = node.parentNode;\n        }\n\n        return;\n    }\n\n    /**\n     * @returns {object}\n     */\n    addRquiredStyle() {\n        if (!this.pin) return {};\n\n        return this.parentRequireStyle\n            .map((item) => {\n                // @ts-ignore\n                return this.findStyle(this.pin, item);\n            })\n            .filter((item) => item !== null)\n            .reduce((p, c) => {\n                return { ...p, ...c };\n            }, {});\n    }\n\n    /**\n     * @returns {void}\n     */\n    checkIfShouldTranspond() {\n        if (this.forceTranspond) {\n            this.shoulTranspond = true;\n            return;\n        }\n\n        this.shoulTranspond = this.styleToTranspond\n            .map((item) => {\n                // @ts-ignore\n                const style = this.findStyle(this.wrapper, item);\n                if (!style) return false;\n\n                const [key] = Object.keys(style);\n                const [value] = Object.values(style);\n\n                if (key === 'position') {\n                    return value === 'fixed' || value === 'absolute'\n                        ? true\n                        : false;\n                } else {\n                    return true;\n                }\n            })\n            .includes(true);\n    }\n\n    /**\n     * @returns {void}\n     */\n    updateStartEndValue() {\n        this.start = this.getStart();\n        this.end = this.getEnd();\n    }\n\n    /**\n     * @returns {void}\n     */\n    refreshCollisionPoint() {\n        /**\n         * Align start && end value to paralllax current values\n         */\n        this.updateStartEndValue();\n\n        /**\n         * Update start position when use custom screen ad scroll outside on window\n         */\n        if (this.screen !== window) {\n            this.start -=\n                this.direction === parallaxConstant.DIRECTION_VERTICAL\n                    ? position(this.screen).top\n                    : position(this.screen).left;\n        }\n\n        this.startFromTop = this.invertSide\n            ? this.start\n            : this.scrollerHeight - this.start;\n\n        this.compesateValue = this.invertSide\n            ? -Math.trunc(this.end)\n            : Math.trunc(this.end);\n    }\n\n    /**\n     * @returns {void}\n     */\n    destroy() {\n        if (!this.isInizialized) return;\n\n        this.spring.stop();\n        this.unsubscribeSpring();\n        this.unsubscribeScroll();\n        this.unsubscribeScrollStart();\n        this.spring.destroy();\n        this.spring = null;\n        this.afterPinCounter = 0;\n        this.justPinned = false;\n        this.isUnder = false;\n        this.isInner = false;\n        this.isOver = false;\n\n        if (this.pin && this.wrapper) {\n            // @ts-ignore\n            this.wrapper.parentNode?.insertBefore(this.item, this.wrapper);\n            this.pin.remove();\n            this.wrapper.remove();\n            this.wrapper = undefined;\n            this.pin = undefined;\n            this.isInizialized = false;\n        }\n    }\n\n    /**\n     * @returns {number}\n     */\n    getGap() {\n        if (!this.wrapper) return 0;\n\n        return this.direction === parallaxConstant.DIRECTION_VERTICAL\n            ? position(this.wrapper).top - this.startFromTop\n            : position(this.wrapper).left - this.startFromTop;\n    }\n\n    /**\n     * @returns {void}\n     */\n    animateCollision() {\n        const gap = this.getGap();\n        this.tween(gap);\n    }\n\n    /**\n     * @returns {void}\n     */\n    animateCollisionBack() {\n        const gap = this.invertSide\n            ? this.getGap() - this.end\n            : this.getGap() + this.end;\n\n        this.tween(gap);\n    }\n\n    /**\n     * @param {number} gap\n     */\n    tween(gap) {\n        mobCore.useFrame(() => {\n            if (!this.pin || !this.collisionStyleProp) return;\n\n            this.pin.style[this.collisionStyleProp] = `${this.startFromTop}px`;\n        });\n\n        if (this.animatePin && !this.firstTime && this.pin) {\n            this.spring\n                .goFrom({ collision: gap })\n                .then(() => {\n                    this.resetPinTransform();\n                })\n                .catch(() => {});\n        }\n    }\n\n    /**\n     * @returns {void}\n     */\n    resetPinTransform() {\n        mobCore.useFrame(() => {\n            if (!this.pin) return;\n\n            this.pin.style.transform = `translate(0px, 0px)`;\n        });\n    }\n\n    /**\n     * @returns {void}\n     */\n    resetStyleWhenUnder() {\n        this.resetSpring();\n\n        mobCore.useFrame(() => {\n            if (!this.pin) return;\n\n            this.pin.style.transition = '';\n            this.pin.style.position = 'relative';\n            this.pin.style.top = ``;\n            this.pin.style.left = ``;\n        });\n    }\n\n    /**\n     * @returns {void}\n     */\n    resetStyleWhenOver() {\n        this.resetSpring();\n\n        mobCore.useFrame(() => {\n            if (!this.pin) return;\n\n            this.pin.style.transition = '';\n            this.pin.style.position = 'relative';\n\n            if (this.direction === parallaxConstant.DIRECTION_VERTICAL) {\n                this.pin.style.left = ``;\n                this.pin.style.top = `${this.compesateValue}px`;\n            } else {\n                this.pin.style.top = ``;\n                this.pin.style.left = `${this.compesateValue}px`;\n            }\n        });\n    }\n\n    /**\n     * @returns {void}\n     */\n    setFixedPosition() {\n        if (!this.pin) return;\n\n        const left =\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? position(this.pin).left\n                : position(this.pin).top;\n\n        const style =\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? 'left'\n                : 'top';\n\n        mobCore.useFrame(() => {\n            if (!this.pin) return;\n\n            this.pin.style.position = 'fixed';\n            this.pin.style[style] = `${left}px`;\n\n            /**\n             * Frezze pin for two frame so avoid possible visual jump\n             * Item stop can stop ain the middle of anticipate step\n             * and just after item jump to original position\n             */\n            this.justPinned = true;\n            this.afterJustPinned = true;\n        });\n    }\n\n    /**\n     * @returns {object}\n     */\n    addPinStyleFromItem() {\n        if (!this.item) return {};\n\n        const compStyles = window.getComputedStyle(this.item);\n        return this.itemRequireStyleToPin.reduce((p, c) => {\n            return { ...p, [c]: compStyles.getPropertyValue(c) };\n        }, {});\n    }\n\n    /**\n     * @returns {object}\n     */\n    addStyleToItem() {\n        if (!this.item) return {};\n\n        const compStyles = window.getComputedStyle(this.item);\n        return this.itemRequireStyleWhenTraspond.reduce((p, c) => {\n            return { ...p, [c]: compStyles.getPropertyValue(c) };\n        }, {});\n    }\n\n    /**\n     * @returns {object}\n     */\n    removeStyleToItem() {\n        return this.itemRequireStyleWhenTraspond.reduce((p, c) => {\n            return { ...p, [c]: '' };\n        }, {});\n    }\n\n    /**\n     * @returns {void}\n     */\n    activateTrasponder() {\n        if (this.shoulTranspond) {\n            /**\n             * Interrogato DOM before rendering, avoid recalculation sryle inside RAF\n             */\n            const requiredStyleToAdd = this.addRquiredStyle();\n            const pinStyleFromItem = this.addPinStyleFromItem();\n            const styleToAdd = this.addStyleToItem();\n\n            mobCore.useFrame(() => {\n                if (!this.pin) return;\n\n                Object.assign(this.pin.style, {\n                    ...pinStyleFromItem,\n                    ...requiredStyleToAdd,\n                });\n\n                if (this.item) Object.assign(this.item.style, styleToAdd);\n\n                document.body.append(this.pin);\n            });\n\n            this.trasponderActive = true;\n        }\n    }\n\n    /**\n     * @returns {void}\n     */\n    deactivateTrasponder() {\n        if (!this.shoulTranspond || !this.item || !this.wrapper) return;\n\n        mobCore.useFrame(() => {\n            if (!this.pin) return;\n\n            // @ts-ignore\n            Object.assign(this.item.style, this.removeStyleToItem());\n            this.wrapper?.append(this.pin);\n        });\n\n        this.trasponderActive = false;\n    }\n\n    /**\n     * @param {number} scrollTop\n     *\n     * @returns {number}\n     */\n    getAnticipate(scrollTop) {\n        /**\n         * If come just after pin use the last step to avoid glitch\n         * If item is pinned too soon\n         */\n        const step =\n            this.afterJustPinned && this.afterJustPinnedCounter < 3\n                ? this.lastStep\n                : clamp(Math.abs(scrollTop - this.prevScroll), 0, 250);\n\n        /**\n         * Reset afterJustPinned\n         */\n        if (\n            this.afterJustPinned &&\n            this.afterJustPinnedCounter < this.numeCycleToFreeze\n        ) {\n            this.afterJustPinnedCounter++;\n        } else {\n            this.afterJustPinnedCounter = 0;\n            this.afterJustPinned = false;\n        }\n\n        /**\n         * Cache previous stop\n         */\n        this.lastStep = step;\n        return step * this.anticipateFactor;\n    }\n\n    /**\n     * @param {number} scrollTop\n     * @param {string} scrollDirection\n     *\n     * @returns {{anticipateBottom:number,anticipateInnerIn:number,anticipateInnerOut:number}}\n     */\n    getAnticipateValue(scrollTop, scrollDirection) {\n        if (\n            (this.animatePin && !this.firstTime) ||\n            (this.firstTime && !this.anticipatePinOnLoad)\n        ) {\n            return {\n                anticipateBottom: 0,\n                anticipateInnerIn: 0,\n                anticipateInnerOut: 0,\n            };\n        }\n\n        const anticipate = this.getAnticipate(scrollTop);\n        const anticipateBottom =\n            scrollDirection === parallaxConstant.SCROLL_UP ? 0 : anticipate;\n        const anticipateInnerIn =\n            scrollDirection === parallaxConstant.SCROLL_UP ? 0 : anticipate * 2;\n        const anticipateInnerOut =\n            scrollDirection === parallaxConstant.SCROLL_UP ? anticipate : 0;\n\n        return {\n            anticipateBottom: anticipateBottom,\n            anticipateInnerIn: anticipateInnerIn,\n            anticipateInnerOut: anticipateInnerOut,\n        };\n    }\n\n    /**\n     * @param {number} scrollTop\n     * @param {string} scrollDirection\n     *\n     * @returns {{anticipateBottom:number,anticipateInnerIn:number,anticipateInnerOut:number}}\n     */\n    getAnticipateValueInverted(scrollTop, scrollDirection) {\n        if (\n            (this.animatePin && !this.firstTime) ||\n            (this.firstTime && !this.anticipatePinOnLoad)\n        ) {\n            return {\n                anticipateBottom: 0,\n                anticipateInnerIn: 0,\n                anticipateInnerOut: 0,\n            };\n        }\n\n        const anticipate = this.getAnticipate(scrollTop);\n        const anticipateBottom =\n            scrollDirection === parallaxConstant.SCROLL_UP ? anticipate : 0;\n        const anticipateInnerIn =\n            scrollDirection === parallaxConstant.SCROLL_UP ? anticipate * 2 : 0;\n        const anticipateInnerOut =\n            scrollDirection === parallaxConstant.SCROLL_UP ? 0 : anticipate;\n\n        return {\n            anticipateBottom: anticipateBottom,\n            anticipateInnerIn: anticipateInnerIn,\n            anticipateInnerOut: anticipateInnerOut,\n        };\n    }\n\n    /**\n     * @param {number} scrollTop\n     */\n    onScroll(scrollTop) {\n        if (!this.isInizialized || !this.wrapper) return;\n\n        /**\n         * Skip pin check for 3 scroll if is if just pinned\n         * this to prevent glitch if item is pinned too son and user stop scroll too soon\n         */\n        if (this.justPinned && this.afterPinCounter < this.numeCycleToFreeze) {\n            this.afterPinCounter++;\n            return;\n        } else {\n            this.afterPinCounter = 0;\n            this.justPinned = false;\n        }\n\n        const scrollDirection =\n            this.prevScroll > scrollTop\n                ? parallaxConstant.SCROLL_UP\n                : parallaxConstant.SCROLL_DOWN;\n\n        /**\n         * Set up scroll condition\n         */\n        const offsetTop =\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? position(this.wrapper).top\n                : position(this.wrapper).left;\n\n        /**\n         * Get anticipate value\n         */\n        const { anticipateBottom, anticipateInnerIn, anticipateInnerOut } = this\n            .invertSide\n            ? this.getAnticipateValueInverted(scrollTop, scrollDirection)\n            : this.getAnticipateValue(scrollTop, scrollDirection);\n\n        const bottomCondition = this.invertSide\n            ? offsetTop < this.start - anticipateBottom\n            : offsetTop > this.scrollerHeight - this.start + anticipateBottom;\n\n        const innerCondition = this.invertSide\n            ? offsetTop >= this.start - anticipateInnerIn &&\n              offsetTop <= this.start + anticipateInnerOut + this.end\n            : offsetTop <=\n                  this.scrollerHeight - this.start + anticipateInnerIn &&\n              this.scrollerHeight - offsetTop <=\n                  this.end + anticipateInnerOut + this.start;\n\n        if (bottomCondition) {\n            if (!this.isUnder) {\n                /**\n                 * Reset style\n                 */\n                this.resetStyleWhenUnder();\n                this.deactivateTrasponder();\n\n                this.isUnder = true;\n                this.isInner = false;\n                this.isOver = false;\n            }\n        } else if (innerCondition) {\n            if (!this.isInner) {\n                this.setFixedPosition();\n\n                const fireSpring =\n                    (scrollDirection === parallaxConstant.SCROLL_DOWN &&\n                        !this.invertSide) ||\n                    (scrollDirection === parallaxConstant.SCROLL_UP &&\n                        this.invertSide);\n\n                this.activateTrasponder();\n                if (fireSpring) {\n                    this.animateCollision();\n                } else {\n                    this.animateCollisionBack();\n                }\n\n                this.isUnder = false;\n                this.isInner = true;\n                this.isOver = false;\n            }\n        } else {\n            if (!this.isOver) {\n                this.resetStyleWhenOver();\n                this.deactivateTrasponder();\n                this.isUnder = false;\n                this.isInner = false;\n                this.isOver = true;\n            }\n        }\n\n        this.prevScroll = scrollTop;\n        this.firstTime = false;\n    }\n}\n", "export const parallaxWarningNoUnitMiusure = () => {\n    console.warn(\n        'parallax prop checker: value in start or end prop with no unit misure is not allowed, failed operation, use vh in vertical mode or vw in horizontal or px'\n    );\n};\n\nexport const parallaxWarningVhIsNotAllowed = () => {\n    console.warn(\n        'parallax prop checker: value in start or end in vh is not allowed in horizontal mode, use vw or px'\n    );\n};\n\nexport const parallaxWarningVwIsNotAllowed = () => {\n    console.warn(\n        'parallax prop checker: value in start or end in vw is not allowed in vertical mode, use vh or px'\n    );\n};\n", "// @ts-check\n\nimport {\n    getParallaxPositionFromContanst,\n    getStartEndUnitMisure,\n} from './getConstantFromRegex.js';\nimport {\n    exactMatchInsensitive,\n    exactMatchInsesitivePropArray,\n} from '../utils/regexValidation.js';\nimport { parallaxConstant } from './parallaxConstant.js';\nimport {\n    parallaxWarningNoUnitMiusure,\n    parallaxWarningVhIsNotAllowed,\n    parallaxWarningVwIsNotAllowed,\n} from './warning.js';\nimport { mobCore } from '../../../mobCore/index.js';\n\n/**\n * @description\n * Fail return with bad data\n *\n * @returns {import('./utilsType.js').scrollTriggerLimitValues}\n */\nconst returnWhenFail = () => {\n    return {\n        numberVal: 0,\n        unitMisure: '',\n        additionalVal: '',\n        position: '',\n    };\n};\n\n/**\n * @description\n * Get px value to add (es: top +100px)\n *\n * @param {object} obj\n * @param {boolean} obj.invert\n * @param {number} obj.endValInNumber\n * @param {number} obj.scrollerHeight\n * @param {number} obj.isNegative\n * @param {number} obj.startPoint\n * @param {boolean} obj.isFromTopLeft\n *\n * @returns number\n */\nconst getValueInPx = ({\n    invert,\n    endValInNumber,\n    scrollerHeight,\n    isNegative,\n    startPoint,\n    isFromTopLeft,\n}) => {\n    const valueFromTop = endValInNumber * isNegative - startPoint;\n    const valueFromBottom =\n        scrollerHeight - endValInNumber * isNegative - startPoint;\n\n    if (invert) {\n        return isFromTopLeft ? valueFromTop : valueFromBottom;\n    } else {\n        return isFromTopLeft ? valueFromBottom : valueFromTop;\n    }\n};\n\n/**\n * @description\n * Get vw/vh value to add (es: top +50vh)\n *\n * @param {object} obj\n * @param {boolean} obj.invert\n * @param {number} obj.endValInNumber\n * @param {number} obj.scrollerHeight\n * @param {number} obj.screenUnit\n * @param {number} obj.isNegative\n * @param {number} obj.startPoint\n * @param {boolean} obj.isFromTopLeft\n *\n * @returns number\n */\nconst getValueInVwVh = ({\n    invert,\n    scrollerHeight,\n    screenUnit,\n    endValInNumber,\n    isNegative,\n    startPoint,\n    isFromTopLeft,\n}) => {\n    if (invert) {\n        return isFromTopLeft\n            ? scrollerHeight -\n                  screenUnit * (100 - endValInNumber * isNegative) -\n                  startPoint\n            : screenUnit * (100 - endValInNumber * isNegative) - startPoint;\n    } else {\n        return isFromTopLeft\n            ? scrollerHeight -\n                  screenUnit * endValInNumber * isNegative -\n                  startPoint\n            : screenUnit * endValInNumber * isNegative - startPoint;\n    }\n};\n\n/**\n * @param {import('./utilsType.js').scrollTriggerIsInviewPort} obj\n *\n * @return { boolean }\n */\nexport const detectViewPortInterception = ({\n    offset,\n    height,\n    gap,\n    wScrollTop,\n    wHeight,\n}) => {\n    return (\n        offset + height > wScrollTop - gap &&\n        offset < wScrollTop + (wHeight + gap)\n    );\n};\n\n/**\n * @param  {array}  values spitted input value es: 100px +h => ['100px','+height', 'top']\n * @param  {string}  direction\n * @return {import('./utilsType.js').scrollTriggerLimitValues} return object with values or default\n *\n * @description\n * Filter input value with number in value and additional value\n *\n * @example\n *  { numberVal: '100px', additionalVal: '+height', position:\"top\" }\n *  default:  { numberVal: '0', additionalVal: '', position:\"bottom\" }\n */\nexport const getStartEndValue = (values, direction) => {\n    // Get number value if exist, check values array to find a item with almost 1 number ad get it\n    const numberInString = values.find((item) => {\n        return [...item].some((c) => !Number.isNaN(Number.parseFloat(c)));\n    });\n\n    // Get unit misure from nunmber case insensitive\n    const unitMisure = getStartEndUnitMisure(numberInString);\n\n    // Number without unit misure is not allowed\n    if (numberInString && !unitMisure) {\n        parallaxWarningNoUnitMiusure();\n        return returnWhenFail();\n    }\n\n    // Number in vh is not allowed in horizontal mode\n    if (\n        numberInString &&\n        unitMisure === parallaxConstant.VH &&\n        direction === parallaxConstant.DIRECTION_HORIZONTAL\n    ) {\n        parallaxWarningVhIsNotAllowed();\n        return returnWhenFail();\n    }\n\n    // Number in vw is not allowed in vertical mode\n    if (\n        numberInString &&\n        unitMisure === parallaxConstant.VW &&\n        direction === parallaxConstant.DIRECTION_VERTICAL\n    ) {\n        parallaxWarningVwIsNotAllowed();\n        return returnWhenFail();\n    }\n\n    // Get aditonal value +height +halfHeight -height -etc... if exist\n    const additionaChoice = [\n        parallaxConstant.PLUS_HEIGHT,\n        parallaxConstant.PLUS_HEIGHT_HALF,\n        parallaxConstant.PLUS_WIDTH,\n        parallaxConstant.PLUS_WIDTH_HALF,\n        parallaxConstant.MINUS_HEIGHT,\n        parallaxConstant.MINUS_HEIGHT_HALF,\n        parallaxConstant.MINUS_WIDTH,\n        parallaxConstant.MINUS_WIDTH_HALF,\n    ];\n    const getAdditionalVal = values.find((item) => {\n        return exactMatchInsesitivePropArray(additionaChoice, item);\n    });\n\n    // Get position top || bottom || left || right\n    const positionMap = [\n        parallaxConstant.POSITION_BOTTOM,\n        parallaxConstant.POSITION_TOP,\n        parallaxConstant.POSITION_LEFT,\n        parallaxConstant.POSITION_RIGHT,\n    ];\n    const getPosition = values.find((item) => {\n        return exactMatchInsesitivePropArray(positionMap, item);\n    });\n\n    return {\n        numberVal: numberInString || 0,\n        unitMisure,\n        additionalVal: getAdditionalVal ?? '',\n        position: getPosition ?? parallaxConstant.POSITION_BOTTOM,\n    };\n};\n\n/**\n * @description\n * Get start point withuot addition value\n *\n * @param {number} screenUnit\n * @param {string} data\n * @param {string} direction\n *\n * @returns {import('./utilsType.js').scrollTriggerStartEndPartials}\n *\n */\nexport const getStartPoint = (screenUnit, data, direction) => {\n    /**\n     * Split into chunk data\n     */\n    const str = String(data);\n    const values = str.split(' ');\n\n    /**\n     * Process split array\n     */\n    const { numberVal, unitMisure, additionalVal, position } = getStartEndValue(\n        values,\n        direction\n    );\n\n    /**\n     * Check if number is negative\n     */\n    const firstChar = String(numberVal).charAt(0);\n    const isNegative = firstChar === '-' ? -1 : 1;\n\n    /**\n     * Get number without px or vw etc..\n     */\n    const number = Number.parseFloat(\n        // @ts-ignore\n        String(numberVal).replaceAll(/^\\D+/g, '')\n    );\n    const startValInNumber = number ?? 0;\n\n    /**\n     * Get final value without height/halfHeight etc..\n     */\n    return unitMisure === parallaxConstant.PX\n        ? {\n              value: startValInNumber * isNegative,\n              additionalVal,\n              position: getParallaxPositionFromContanst(position),\n          }\n        : {\n              value: screenUnit * startValInNumber * isNegative,\n              additionalVal,\n              position: getParallaxPositionFromContanst(position),\n          };\n};\n\n/**\n * @description\n * Get end point withuot addition value\n *\n * @param {number} screenUnit\n * @param {string} data\n * @param {number} startPoint\n * @param {number} scrollerHeight\n * @param {boolean} invertSide\n * @param {string} direction\n *\n * @returns {import('./utilsType.js').scrollTriggerStartEndPartials}\n *\n */\nexport const getEndPoint = (\n    screenUnit,\n    data,\n    startPoint,\n    scrollerHeight,\n    invertSide,\n    direction\n) => {\n    /**\n     * Split into chunk data\n     */\n    const str = String(data);\n    const values = str.split(' ');\n\n    /**\n     * Process split array\n     */\n    const { numberVal, unitMisure, additionalVal, position } = getStartEndValue(\n        values,\n        direction\n    );\n\n    /**\n     * Check if number is negative\n     */\n    const firstChar = String(numberVal).charAt(0);\n    const isNegative = firstChar === '-' ? -1 : 1;\n\n    /**\n     * Get number without px or vw etc..\n     */\n    const number = Number.parseFloat(\n        // @ts-ignore\n        String(numberVal).replaceAll(/^\\D+/g, '')\n    );\n    const endValInNumber = number ?? 0;\n\n    /**\n     * Get position constant from prallax constant\n     */\n    const positionFromConstant = getParallaxPositionFromContanst(position);\n\n    /**\n     * Check direction\n     */\n    const isFromTopLeft =\n        positionFromConstant === parallaxConstant.POSITION_TOP ||\n        positionFromConstant === parallaxConstant.POSITION_LEFT;\n\n    /**\n     * Get final value without height/halfHeight etc..\n     */\n    return unitMisure === parallaxConstant.PX\n        ? {\n              value: invertSide\n                  ? getValueInPx({\n                        invert: true,\n                        endValInNumber,\n                        scrollerHeight,\n                        isNegative,\n                        startPoint,\n                        isFromTopLeft,\n                    })\n                  : getValueInPx({\n                        invert: false,\n                        endValInNumber,\n                        scrollerHeight,\n                        isNegative,\n                        startPoint,\n                        isFromTopLeft,\n                    }),\n              additionalVal,\n              position: positionFromConstant,\n          }\n        : {\n              value: invertSide\n                  ? getValueInVwVh({\n                        invert: true,\n                        scrollerHeight,\n                        screenUnit,\n                        endValInNumber,\n                        isNegative,\n                        startPoint,\n                        isFromTopLeft,\n                    })\n                  : getValueInVwVh({\n                        invert: false,\n                        scrollerHeight,\n                        screenUnit,\n                        endValInNumber,\n                        isNegative,\n                        startPoint,\n                        isFromTopLeft,\n                    }),\n              additionalVal,\n              position: positionFromConstant,\n          };\n};\n\n/**\n * @param {number} value\n * @param {string} stringValue\n * @param {number} height\n * @param {number} width\n *\n * @returns {number}\n *\n */\nexport const processFixedLimit = (value, stringValue, height, width) => {\n    const str = String(stringValue);\n\n    // plus\n    if (exactMatchInsensitive(str, parallaxConstant.PLUS_HEIGHT_HALF)) {\n        return value + height / 2;\n    }\n\n    if (exactMatchInsensitive(str, parallaxConstant.PLUS_HEIGHT)) {\n        return value + height;\n    }\n\n    if (exactMatchInsensitive(str, parallaxConstant.PLUS_WIDTH_HALF)) {\n        return value + width / 2;\n    }\n\n    if (exactMatchInsensitive(str, parallaxConstant.PLUS_WIDTH)) {\n        return value + width;\n    }\n\n    // minus\n    if (exactMatchInsensitive(str, parallaxConstant.MINUS_HEIGHT_HALF)) {\n        return value - height / 2;\n    }\n\n    if (exactMatchInsensitive(str, parallaxConstant.MINUS_HEIGHT)) {\n        return value - height;\n    }\n\n    if (exactMatchInsensitive(str, parallaxConstant.MINUS_WIDTH_HALF)) {\n        return value - width / 2;\n    }\n\n    if (exactMatchInsensitive(str, parallaxConstant.MINUS_WIDTH)) {\n        return value - width;\n    }\n\n    return value;\n};\n\n/**\n * @param {object} obj\n * @param {string|boolean} obj.switchPropierties\n * @param {boolean} obj.isReverse\n * @param {number} obj.value\n *\n * @returns {number}\n *\n */\nexport const getValueOnSwitch = ({ switchPropierties, isReverse, value }) => {\n    switch (switchPropierties) {\n        case parallaxConstant.IN_STOP: {\n            return (!isReverse && value > 0) || (isReverse && value < 0)\n                ? 0\n                : value;\n        }\n\n        case parallaxConstant.IN_BACK: {\n            return (!isReverse && value > 0) || (isReverse && value < 0)\n                ? -value\n                : value;\n        }\n\n        case parallaxConstant.OUT_STOP: {\n            return (!isReverse && value < 0) || (isReverse && value > 0)\n                ? 0\n                : value;\n        }\n\n        case parallaxConstant.OUT_BACK: {\n            return (!isReverse && value < 0) || (isReverse && value > 0)\n                ? -value\n                : value;\n        }\n\n        default: {\n            return value;\n        }\n    }\n};\n\n/**\n * @param {string} propierties\n * @param {number} val\n *\n * @returns {number}\n *\n */\nexport const getRetReverseValue = (propierties, val) => {\n    switch (propierties) {\n        case parallaxConstant.PROP_OPACITY: {\n            return 1 - val;\n        }\n\n        default: {\n            return -val;\n        }\n    }\n};\n\n/**\n * @param {Object} param\n * @param {import('../../../mobCore/events/scrollUtils/type.js').handleScrollCallback} param.callback\n * @param {boolean} param.pin\n * @param {boolean} param.ease\n * @param {boolean} param.useThrottle\n * @returns {Function}\n */\nexport const getScrollFunction = ({ callback, pin, ease, useThrottle }) => {\n    /**\n     * If use pin we have to get fresh value on scroll\n     * Otherwise we can optimize and fire scroll callback after requerst animationFrame\n     */\n    if (pin) return mobCore.useScrollImmediate(callback);\n\n    /**\n     * Use throttle if needed and there is a ease;\n     */\n    if (ease && useThrottle) return mobCore.useScrollThrottle(callback);\n\n    /**\n     * Default scroll\n     */\n    return mobCore.useScroll(callback);\n};\n", "// @ts-check\n\nimport { mq } from '../../utils/mediaManager.js';\nimport {\n    getTranslateValues,\n    offset,\n    position,\n} from '../../../mobCore/utils/index.js';\nimport HandleLerp from '../lerp/handleLerp.js';\nimport HandleSpring from '../spring/handleSpring.js';\nimport { clamp, getRoundedValue } from '../utils/animationUtils.js';\nimport { getRangeUnitMisure } from './getConstantFromRegex.js';\nimport {\n    breakpointIsValid,\n    breakpointTypeIsValid,\n    checkStringRangeOnPropierties,\n    domNodeIsValidAndReturnElOrWin,\n    domNodeIsValidAndReturnNull,\n    functionIsValidAndReturnDefault,\n    parallaxAlignIsValid,\n    directionIsValid,\n    parallaxDynamicRangeIsValid,\n    parallaxDynamicValueIsValid,\n    parallaxEaseTypeIsValid,\n    parallaxLerpConfigIsValid,\n    parallaxOnSwitchIsValid,\n    parallaxOpacityIsValid,\n    parallaxPropiertiesIsValid,\n    parallaxRangeIsValid,\n    parallaxSpringConfigIsValid,\n    parallaxTweenIsValid,\n    parallaxTypeIsValid,\n    valueIsBooleanAndReturnDefault,\n    valueIsNumberAndReturnDefault,\n    valueIsStringAndReturnDefault,\n} from '../utils/tweenAction/tweenValidation.js';\nimport { parallaxConstant } from './parallaxConstant.js';\nimport { parallaxEmitter } from './parallaxEmitter.js';\nimport { parallaxMarker } from './parallaxMarker.js';\nimport { ParallaxPin } from './parallaxPin.js';\nimport { mobCore } from '../../../mobCore/index.js';\nimport {\n    getEndPoint,\n    getRetReverseValue,\n    getStartPoint,\n    getValueOnSwitch,\n    detectViewPortInterception,\n    processFixedLimit,\n    getScrollFunction,\n} from './parallaxUtils.js';\nimport { parallaxEaseTypeSpringWarining } from '../utils/warning.js';\n\nexport default class ParallaxClass {\n    /**\n     * @param  { import('./type.js').parallaxCommonType & import('./type.js').parallaxType &  import('./type.js').scrollTriggerType} data\n     *\n     * @example\n     *\n     * ```javascript\n     *  Parallax property schema:\n     *\n     *\n     *  const myParallax = new ParallaxClass({\n     *      type: 'parallax',\n     *      item: String | Element,\n     *      applyTo: [ String | Element ],\n     *      trigger: [ String | Element ],\n     *      screen: [ String | Element ],\n     *      scroller: [ String | Element ],\n     *      breakpoint: [ String ],\n     *      queryType: [ String ],\n     *      direction: [ String ],\n     *      propierties: [ String ],\n     *      tween: [ HandleSequencer | ParallaxTween ],\n     *      range: [ String | Number ],\n     *      align: [ String ],\n     *      onSwitch: [ String ],\n     *      reverse: [ Boolean ],\n     *      ease: [ Boolean ],\n     *      easeType: [ String ],\n     *      lerpConfig: [ Number ],\n     *      springConfig: [ String ],\n     *      opacityEnd: [ Number ],\n     *      opacityStart: [ Number ],\n     *      limiterOff: [ Boolean ],\n     *      perspective: [ Number ],\n     *      disableForce3D: [ Boolean ],\n     *      useThrottle: [ Boolean ],\n     *  });\n     *\n     *\n     *\n     *  Scrolltrigger property schema:\n     *\n     *\n     *  const myScrollTrigger = new ParallaxClass({\n     *      item: String | Element,\n     *      applyTo: [ String | Element ],\n     *      trigger: [ String | Element ],\n     *      screen: [ String | Element ],\n     *      scroller: [ String | Element ],\n     *      breakpoint: [ String ],\n     *      queryType: [ String ],\n     *      direction: [ String ],\n     *      propierties: [ String ],\n     *      tween: [ HandleSequencer | ParallaxTween ],\n     *      range: [ String ],\n     *      dynamicRange: [ Function ],\n     *      fromTo: [ Boolean ],\n     *      start: [ String ],\n     *      dynamicStart: {\n     *         position: [ String ],\n     *         value: [ Function ]\n     *      },\n     *      end: [ String ],\n     *      dynamicEnd: {\n     *         position: [ String ],\n     *         value: [ Function ]\n     *      },\n     *      ease: [ Boolean ],\n     *      easeType: [ String ],\n     *      lerpConfig: [ Number ],\n     *      springConfig: [ String ],\n     *      pin: [ Boolean ],\n     *      animatePin: [ Boolean ],\n     *      anticipatePinOnLoad: [ Boolean ],\n     *      marker: [ String ],\n     *      forceTranspond: [ Boolean ],\n     *      animateAtStart: [ Boolean ],\n     *      disableForce3D: [ Boolean ],\n     *      onEnter: [ Function ],\n     *      onEnterBack: [ Function ],\n     *      onLeave: [ Function ],\n     *      onLeaveBack: [ Function ],\n     *      onTick: [ Function ],\n     *      perspective: [ Number ],\n     *      useThrottle: [ Boolean ],\n     *  });\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     *\n     * ```javascript\n     *\n     *\n     * myInstance.init()\n     * myInstance.destroy()\n     * myInstance.refresh()\n     * myInstance.move()\n     *\n     * ```\n     */\n\n    constructor(data) {\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.isInzialized = false;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.firstScroll = false;\n\n        /**\n         * @private\n         *\n         * @type {boolean}\n         */\n        this.willChangeIsActive = false;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.offset = 0;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.screenPosition = 0;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.endValue = 0;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.height = 0;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.width = 0;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.scrollerScroll = 0;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.scrollerHeight = 0;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.windowInnerWidth = window.innerWidth;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.windowInnerHeight = window.innerHeight;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.gap = 150;\n\n        /**\n         * @private\n         *\n         * @type {number}\n         */\n        this.numericRange = 0;\n\n        /**\n         * @private\n         * @type {Function}\n         */\n        this.unsubscribeResize = () => {};\n\n        /**\n         * @private\n         * @type {Function}\n         */\n        this.unsubscribeScroll = () => {};\n\n        /**\n         * @private\n         * @type {Function}\n         */\n        this.unsubscribeScrollStart = () => {};\n\n        /**\n         * @private\n         * @type {Function}\n         */\n        this.unsubscribeScrollEnd = () => {};\n\n        /**\n         * @private\n         * @type {Function}\n         */\n        this.unsubscribeMarker = () => {};\n\n        /**\n         * @private\n         * @type {Element|undefined}\n         */\n        this.startMarker = undefined;\n\n        /**\n         * @private\n         * @type {Element|undefined}\n         */\n        this.endMarker = undefined;\n\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.lastValue = undefined;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.prevFixedRawValue = 0;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.fixedShouldRender = false;\n\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.prevFixedClamp = undefined;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.firstTime = true;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.isInViewport = false;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.iSControlledFromOutside = false;\n\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.force3D = false;\n\n        /**\n         * @private\n         * @type {object|undefined}\n         */\n        this.pinInstance = undefined;\n\n        /**\n         * @private\n         * @type {string}\n         */\n        this.unitMisure = '';\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.startPoint = 0;\n\n        /**\n         * @private\n         * @type {number}\n         */\n        this.endPoint = 0;\n\n        /**\n         * @private\n         * @type {Function}\n         */\n        this.unsubscribeMotion = () => {};\n\n        /**\n         * @private\n         * @type {Function}\n         */\n        this.unsubscribeOnComplete = () => {};\n\n        /**\n         * Fixed prop\n         */\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.pin = valueIsBooleanAndReturnDefault(\n            data?.pin,\n            'Scrolltrigger pin propierties error:',\n            false\n        );\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.animatePin = valueIsBooleanAndReturnDefault(\n            data?.animatePin,\n            'Scrolltrigger animatePin propierties error:',\n            false\n        );\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.forceTranspond = valueIsBooleanAndReturnDefault(\n            data?.forceTranspond,\n            'Scrolltrigger forceTranspond propierties error:',\n            false\n        );\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.anticipatePinOnLoad = valueIsBooleanAndReturnDefault(\n            data?.anticipatePinOnLoad,\n            'Scrolltrigger anticipatePinOnLoad propierties error:',\n            false\n        );\n\n        /**\n         * @description\n         * @type {string}\n         */\n        this.start = valueIsStringAndReturnDefault(\n            data?.start,\n            'Scrolltrigger start propierties error:',\n            'bottom 0px'\n        );\n\n        /**\n         * @description\n         * @type {string}\n         */\n        this.end = valueIsStringAndReturnDefault(\n            data?.end,\n            'Scrolltrigger end propierties error:',\n            'top'\n        );\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.fromTo = valueIsBooleanAndReturnDefault(\n            data?.fromTo,\n            'Scrolltrigger fromTo propierties error:',\n            false\n        );\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.invertSide = valueIsBooleanAndReturnDefault(\n            data?.invertSide,\n            'Scrolltrigger invertSide propierties error:',\n            false\n        );\n\n        /**\n         * @description\n         * @type {string}\n         */\n        this.marker = valueIsStringAndReturnDefault(\n            data?.marker,\n            'Scrolltrigger marker propierties error:',\n            // eslint-disable-next-line unicorn/no-useless-undefined\n            undefined\n        );\n\n        /**\n         * @description\n         * @type {import('./type.js').dynamicStartType}\n         */\n        this.dynamicStart = data?.dynamicStart\n            ? parallaxDynamicValueIsValid(data.dynamicStart, 'dynamicStart')\n            : null;\n\n        /**\n         * @description\n         * @type {import('./type.js').dynamicEndType}\n         */\n        this.dynamicEnd = data?.dynamicEnd\n            ? parallaxDynamicValueIsValid(data.dynamicEnd, 'dynamicEnd')\n            : null;\n\n        /**\n         * @description\n         * @type {Function|undefined}\n         */\n        this.dynamicRange = parallaxDynamicRangeIsValid(data?.dynamicRange);\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.animateAtStart = valueIsBooleanAndReturnDefault(\n            data?.animateAtStart,\n            'Scrolltrigger animateAtStart propierties error:',\n            false\n        );\n\n        /**\n         * @description\n         * @type {Function}\n         */\n        this.onEnter = functionIsValidAndReturnDefault(\n            data?.onEnter,\n            false,\n            'Scrolltrigger onEnter propierties error'\n        );\n\n        /**\n         * @description\n         * @type {Function}\n         */\n        this.onEnterBack = functionIsValidAndReturnDefault(\n            data?.onEnterBack,\n            false,\n            'Scrolltrigger onEnterBack propierties error'\n        );\n\n        /**\n         * @description\n         * @type {Function}\n         */\n        this.onLeave = functionIsValidAndReturnDefault(\n            data?.onLeave,\n            false,\n            'Scrolltrigger onLeave propierties error'\n        );\n\n        /**\n         * @description\n         * @type {Function}\n         */\n        this.onLeaveBack = functionIsValidAndReturnDefault(\n            data?.onLeaveBack,\n            false,\n            'Scrolltrigger onLeaveBack propierties error'\n        );\n\n        /**\n         * @description\n         * @type {Function}\n         */\n        this.onTickCallback = functionIsValidAndReturnDefault(\n            data?.onTick,\n            false,\n            'Scrolltrigger onTickCallback propierties error'\n        );\n\n        /**\n         * @description\n         * @type {string|number}\n         */\n        this.align = parallaxAlignIsValid(data?.align);\n\n        /**\n         * @description\n         * @type {string|boolean}\n         */\n        this.onSwitch = parallaxOnSwitchIsValid(data?.onSwitch);\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.reverse = valueIsBooleanAndReturnDefault(\n            data?.reverse,\n            'Parallax reverse propierties error:',\n            false\n        );\n\n        /**\n         * @description\n         * @type {number}\n         */\n        this.opacityStart = parallaxOpacityIsValid(\n            data?.opacityStart,\n            'Parallax opacityStart propierties error:',\n            100\n        );\n\n        /**\n         * @description\n         * @type {number}\n         */\n        this.opacityEnd = parallaxOpacityIsValid(\n            data?.opacityEnd,\n            'Parallax opacityEnd propierties error:',\n            0\n        );\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.limiterOff = valueIsBooleanAndReturnDefault(\n            data?.limiterOff,\n            'Parallax|Scrolltrigger limiterOff propierties error:',\n            false\n        );\n\n        /**\n         * Common prop\n         */\n\n        /**\n         * @description\n         * @type {boolean|undefined}\n         */\n        this.useWillChange = data?.useWillChange;\n\n        /**\n         * @description\n         * @type {object}\n         */\n        this.tween = parallaxTweenIsValid(data?.tween);\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        const tweenIsSequencer =\n            this.tween?.getType &&\n            this.tween.getType() === parallaxConstant.TWEEN_TIMELINE;\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        const tweenIsParallaxTween =\n            this.tween?.getType &&\n            this.tween.getType() === parallaxConstant.TWEEN_TWEEN;\n        /**\n         *\n         */\n\n        /**\n         * @description\n         * @type {HTMLElement|null}\n         */\n        this.item = domNodeIsValidAndReturnElOrWin(data?.item, false);\n\n        /**\n         * @description\n         * @type {HTMLElement|Window|null}\n         */\n        this.scroller = domNodeIsValidAndReturnElOrWin(data?.scroller, true);\n\n        /**\n         * @description\n         * @type {HTMLElement|Window|null}\n         */\n        this.screen = domNodeIsValidAndReturnElOrWin(data?.screen, true);\n\n        /**\n         * @description\n         * @type {HTMLElement|null|undefined}\n         */\n        this.trigger = domNodeIsValidAndReturnNull(data?.trigger);\n\n        /**\n         * @description\n         * @type {HTMLElement|null|undefined}\n         */\n        this.applyTo = domNodeIsValidAndReturnNull(data?.applyTo);\n\n        /**\n         * @description\n         * @type {string}\n         */\n        this.direction = directionIsValid(\n            data?.direction,\n            'Parallax/Scrolltrigger'\n        );\n\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.disableForce3D = valueIsBooleanAndReturnDefault(\n            data?.disableForce3D,\n            'Parallax|Scrolltrigger disableForce3D propierties error:',\n            false\n        );\n\n        // With pin active no throttle is usable, pin need precision\n        /**\n         * @description\n         * @type {boolean}\n         */\n        this.useThrottle = valueIsBooleanAndReturnDefault(\n            data?.useThrottle,\n            'Parallax|Scrolltrigger useThrottle propierties error:',\n            false\n        );\n\n        /**\n         * @description\n         * @type {string}\n         */\n        this.type = parallaxTypeIsValid(data?.type);\n\n        /**\n         * @description\n         * @type {number}\n         */\n        this.perspective = valueIsNumberAndReturnDefault(\n            data?.perspective,\n            'Parallax|Scrolltrigger perspective propierties error:',\n            0\n        );\n\n        /**\n         * @description\n         * @type {string}\n         */\n        this.breakpoint = breakpointIsValid(\n            data?.breakpoint,\n            'breakpoint',\n            'parallax/scrolltrigger'\n        );\n\n        /**\n         * @description\n         * @type {string}\n         */\n        this.queryType = breakpointTypeIsValid(\n            data?.queryType,\n            'queryType',\n            'parallax/scrolltrigger'\n        );\n\n        /**\n         * @description\n         * Get properties, check if there is sequencer inside a Parallax,\n         * In case return y propierties\n         *\n         * In case of scrollTrigger if no propierties is specified skip render.\n         * Use scrollTrigger only for check events.\n         */\n        const { propierties, shouldTrackOnlyEvents } =\n            parallaxPropiertiesIsValid(\n                data?.propierties,\n                this.type,\n                tweenIsParallaxTween,\n                tweenIsSequencer\n            );\n\n        /**\n         * @type {string}\n         */\n        this.propierties = propierties;\n\n        /**\n         * @description\n         * Skip render and set a default 100px value for\n         * trigger the events.\n         *\n         * @type {boolean}\n         */\n        this.shouldTrackOnlyEvents = shouldTrackOnlyEvents;\n\n        /**\n         * @description\n         * @type {string|number}\n         */\n        this.range = shouldTrackOnlyEvents\n            ? '100px'\n            : parallaxRangeIsValid(data?.range, this.type);\n\n        /**\n         * @description\n         * Get properties, check if there is sequencer inside a Parallax,\n         * In case return y propierties\n         *\n         * @type {boolean}\n         */\n        this.ease = valueIsBooleanAndReturnDefault(\n            data?.ease,\n            'Parallax|Scrolltrigger ease propierties error:',\n            false\n        );\n\n        /**\n         * Check if ease is spring and tween is a sequencer.\n         * Not allowed.\n         */\n        if (tweenIsSequencer && data?.easeType === parallaxConstant.EASE_SPRING)\n            parallaxEaseTypeSpringWarining();\n\n        /**\n         * @description\n         * Get easeType properties, Check if a sequencer is used inside a scrollTrigger\n         * In case return a lerp\n         *\n         * @type {string}\n         */\n        this.easeType = tweenIsSequencer\n            ? parallaxConstant.EASE_LERP\n            : parallaxEaseTypeIsValid(data?.easeType);\n\n        /**\n         * @description\n         * Get easeType properties, Check if a sequencer is used inside a scrollTrigger\n         * In case return a lerp\n         *\n         * @type {string}\n         */\n        this.springConfig = parallaxSpringConfigIsValid(\n            data?.springConfig,\n            this.type\n        );\n\n        /**\n         * @description\n         * Get easeType properties, Check if a sequencer is used inside a scrollTrigger\n         * In case return a lerp\n         *\n         * @type {number}\n         */\n        this.lerpConfig = parallaxLerpConfigIsValid(\n            data?.lerpConfig,\n            this.type\n        );\n\n        /**\n         * @description\n         * Add more precision to motion spring/lerp to trigger better force3D\n         *\n         * @type {any}\n         */\n        this.motionParameters =\n            this.easeType === parallaxConstant.EASE_SPRING\n                ? { configProp: { precision: parallaxConstant.EASE_PRECISION } }\n                : { precision: parallaxConstant.EASE_PRECISION };\n\n        /**\n         * @description\n         * Add more precision to motion spring/lerp to trigger better force3D\n         *\n         * @type {object}\n         */\n        this.motion =\n            this.easeType === parallaxConstant.EASE_SPRING\n                ? new HandleSpring()\n                : new HandleLerp();\n    }\n\n    /**\n     * @description\n     * Initialize instance\n     */\n    init() {\n        if (this.isInzialized) {\n            console.warn(\n                'Parallax/scrollTrigger: The init() method cannot be launched more than once. If you are passing the instance to components like horizontalScroller or smoothScroller via the children property, they will initialize the instance.'\n            );\n            return;\n        }\n\n        this.isInzialized = true;\n        this.setMotion();\n        this.calcScreenPosition();\n        this.calcOffset();\n        this.calcHeight();\n        this.calcWidth();\n        this.getScreenHeight();\n        this.setPerspective();\n\n        if (this.propierties === parallaxConstant.PROP_TWEEN) {\n            this.range = this?.tween?.getDuration\n                ? this.tween.getDuration()\n                : 0;\n            this.dynamicRange = () => this.range;\n            this.tween?.inzializeStagger?.();\n        }\n\n        if (this.type == parallaxConstant.TYPE_SCROLLTRIGGER) {\n            this.limiterOff = true;\n            this.calcRangeAndUnitMiusure();\n            this.calcFixedLimit();\n        }\n\n        /**\n         * If scroller is !== window the instance is controlled by another component\n         * Use move() methods to control children\n         */\n        if (this.ease) {\n            /**\n             *  Force transform3D onscroll start\n             */\n            this.unsubscribeScrollStart = mobCore.useScrollStart(() => {\n                this.firstScroll = true;\n                if (!this.disableForce3D) this.force3D = true;\n            });\n\n            /**\n             * Avoid error with scroll module operation\n             * Clean render at the end of the scroll\n             */\n            this.unsubscribeScrollEnd = mobCore.useScrollEnd(() => {\n                mobCore.useFrame(() => {\n                    mobCore.useNextTick(() => {\n                        this.smoothParallaxJs();\n                    });\n                });\n            });\n\n            if (this.scroller === window) {\n                this.unsubscribeScroll = getScrollFunction({\n                    pin: this.pin,\n                    ease: this.ease,\n                    useThrottle: this.useThrottle,\n                    callback: () => {\n                        this.firstScroll = false;\n                        this.smoothParallaxJs();\n                    },\n                });\n            }\n\n            /**\n             * First render\n             */\n            this.smoothParallaxJs();\n        } else {\n            if (this.scroller === window) {\n                this.unsubscribeScroll = getScrollFunction({\n                    pin: this.pin,\n                    ease: this.ease,\n                    useThrottle: this.useThrottle,\n                    callback: () => {\n                        this.computeValue();\n                        this.noEasingRender();\n                    },\n                });\n            }\n\n            /**\n             * First render\n             */\n            this.computeValue();\n            this.noEasingRender();\n\n            /**\n             * Execute render on scrollEnd to remove 3Dtransform\n             */\n            this.unsubscribeScrollEnd = mobCore.useScrollEnd(() => {\n                /**\n                 * Force draw no 3d on scroll end with no ease.\n                 */\n                this.noEasingRender({ forceRender: true });\n            });\n        }\n\n        /**\n         * Initialize marker\n         */\n        if (this.scroller !== window && this.marker) {\n            this.unsubscribeMarker = mobCore.useScroll(() => {\n                // Refresh marker\n                this.calcFixedLimit();\n            });\n        }\n\n        /**\n         * Initialize refresh\n         */\n        this.unsubscribeResize = mobCore.useResize(({ horizontalResize }) => {\n            if (horizontalResize) this.refresh();\n        });\n\n        /**\n         * Initialize pin\n         */\n        if (this.pin) {\n            this.pinInstance = new ParallaxPin();\n\n            if (mq[this.queryType](this.breakpoint)) {\n                mobCore.useNextTick(() => {\n                    this.getScrollerOffset();\n                    this.pinInstance?.init(this.getPinParams());\n                    this.pinInstance?.onScroll(this.scrollerScroll);\n                });\n            }\n        }\n    }\n\n    getPinParams() {\n        return {\n            item: this.item,\n            marker: this.marker,\n            trigger: this.trigger,\n            scroller: this.scroller,\n            screen: this.screen,\n            animatePin: this.animatePin,\n            anticipatePinOnLoad: this.anticipatePinOnLoad,\n            forceTranspond: this.forceTranspond,\n            invertSide: this.invertSide,\n            direction: this.direction,\n            scrollerHeight: this.scrollerHeight,\n            getStart: () => this.startPoint,\n            getEnd: () => this.endPoint,\n            instance: this,\n        };\n    }\n\n    /**\n     * @description\n     *\n     * @param {HTMLElement|Window} scroller\n     */\n    setScroller(scroller) {\n        this.scroller = domNodeIsValidAndReturnElOrWin(scroller, true);\n    }\n\n    /**\n     * @description\n     *\n     * @param {HTMLElement|Window} screen\n     */\n    setScreen(screen) {\n        this.screen = domNodeIsValidAndReturnElOrWin(screen, true);\n    }\n\n    /**\n     * @description\n     *\n     * @param {string} direction\n     */\n    setDirection(direction) {\n        this.direction = directionIsValid(direction, 'Parallax/Scrolltrigger');\n    }\n\n    /**\n     * @description\n     *\n     * @param {string} breakpoint\n     */\n    setBreakPoint(breakpoint) {\n        this.breakpoint = breakpointIsValid(\n            breakpoint,\n            'breakpoint',\n            'Parallax/Scrolltrigger'\n        );\n    }\n\n    /**\n     * @description\n     *\n     * @param {string} queryType\n     */\n    setQueryType(queryType) {\n        this.queryType = breakpointTypeIsValid(\n            queryType,\n            'queryType',\n            'Parallax/Scrolltrigger'\n        );\n    }\n\n    /**\n     * @private\n     */\n    setPerspective() {\n        if (this.perspective && this.item && this.item.parentNode) {\n            const style = {\n                perspective: `${this.perspective}px`,\n                'transform-style': 'preserve-3d',\n            };\n            const parent = this.item.parentNode;\n            // @ts-ignore\n            Object.assign(parent.style, style);\n        }\n    }\n\n    /**\n     * @private\n     */\n    setMotion() {\n        const initialValue =\n            parallaxConstant.PROP_SCALE ||\n            parallaxConstant.PROP_SCALE_X ||\n            parallaxConstant.PROP_SCALE_Y ||\n            parallaxConstant.PROP_OPACITY\n                ? 1\n                : 0;\n\n        this.motion.setData({ val: initialValue });\n        this.unsubscribeMotion = this.motion.subscribe(({ val }) => {\n            if (val === this.lastValue) return;\n\n            if (\n                this.propierties === parallaxConstant.PROP_TWEEN &&\n                this.tween?.draw\n            ) {\n                this.tween.draw({\n                    partial: val,\n                    isLastDraw: false,\n                    useFrame: false,\n                });\n                this.lastValue = val;\n                this.firstTime = false;\n            } else {\n                this.updateStyle(val);\n            }\n\n            mobCore.useNextTick(() => {\n                if (this.onTickCallback)\n                    this.onTickCallback({ value: val, parentIsMoving: true });\n            });\n        });\n\n        this.unsubscribeOnComplete = this.motion.onComplete(({ val }) => {\n            this.force3D = false;\n\n            if (\n                this.propierties === parallaxConstant.PROP_TWEEN &&\n                this.tween?.draw\n            ) {\n                this.tween.draw({\n                    partial: val,\n                    isLastDraw: true,\n                    useFrame: false,\n                });\n            } else {\n                this.updateStyle(val);\n            }\n\n            mobCore.useNextTick(() => {\n                if (this.onTickCallback)\n                    this.onTickCallback({ value: val, parentIsMoving: false });\n            });\n        });\n\n        switch (this.easeType) {\n            case parallaxConstant.EASE_LERP: {\n                if (this.lerpConfig) {\n                    this.motion.updateVelocity(this.lerpConfig);\n                }\n                break;\n            }\n            case parallaxConstant.EASE_SPRING: {\n                if (this.springConfig) {\n                    this.motion.updateConfig(this.springConfig);\n                }\n                break;\n            }\n        }\n    }\n\n    /**\n     * @private\n     */\n    calcRangeAndUnitMiusure() {\n        if (this.dynamicRange) {\n            const range = this.dynamicRange();\n            this.numericRange = Number.isNaN(range)\n                ? 0\n                : Number.parseFloat(range);\n            this.unitMisure = parallaxConstant.PX;\n        } else {\n            const str = String(this.range);\n            const firstChar = str.charAt(0);\n            const isNegative = firstChar === '-' ? -1 : 1;\n\n            /**\n             * Check if px|vw|deg or other is associated with the right props\n             * Ex: rotate have a value like '45deg'\n             */\n            const strParsed = checkStringRangeOnPropierties(\n                str,\n                this.propierties\n            );\n\n            /**\n             * Extract number forms string\n             */\n            this.numericRange =\n                // @ts-ignore\n                Number.parseFloat(strParsed.replaceAll(/^\\D+/g, '')) *\n                isNegative;\n\n            /**\n             * Get px|vw|etc...\n             */\n            this.unitMisure = getRangeUnitMisure(strParsed);\n        }\n    }\n\n    /**\n     * @private\n     */\n    calcFixedLimit() {\n        const screenUnit = this.scrollerHeight / 100;\n\n        // Check if there is a function that return a start value dynamically\n        if (\n            this.dynamicStart &&\n            this.dynamicStart?.position &&\n            this.dynamicStart?.value?.()\n        ) {\n            const { position, value: fn } = this.dynamicStart;\n            const valueResult = fn();\n            if (!Number.isNaN(valueResult)) {\n                this.start = `${position} ${valueResult}px`;\n            }\n        }\n\n        // Get position ( es: 'bottom'),\n        // Get processed value ( based on px || vh || vw)\n        // Get additional val ( +height -halfHeight etc ..)\n        const {\n            value: startPoint,\n            additionalVal: additionalStartVal,\n            position: startPosition,\n        } = getStartPoint(screenUnit, this.start, this.direction);\n\n        // Check if come from top or left\n        this.invertSide =\n            startPosition === parallaxConstant.POSITION_TOP ||\n            startPosition === parallaxConstant.POSITION_LEFT;\n\n        // Add/subtract with height or half value\n        this.startPoint = processFixedLimit(\n            startPoint,\n            additionalStartVal,\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? this.height\n                : this.width,\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? this.width\n                : this.height\n        );\n\n        // Check if there is a function that return a end value dynamically\n        if (\n            this.dynamicEnd &&\n            this.dynamicEnd?.position &&\n            this.dynamicEnd?.value?.()\n        ) {\n            const { position, value: fn } = this.dynamicEnd;\n            const valueResult = fn();\n            if (!Number.isNaN(valueResult)) {\n                this.end = `${position} ${valueResult}px`;\n            }\n        }\n\n        // Get position ( es: 'bottom'),\n        // Get processed value ( based on px || vh || vw)\n        // Get additional val ( +height -halfHeight etc ..)\n        const {\n            value: endPoint,\n            additionalVal: additionalEndVal,\n            position: endPosition,\n        } = getEndPoint(\n            screenUnit,\n            this.end,\n            this.startPoint,\n            this.scrollerHeight,\n            this.invertSide,\n            this.direction\n        );\n\n        // Get positive or negative multiplier to add or subtract value basedto the position\n        const multiplier = (() => {\n            if (this.invertSide) {\n                return endPosition === parallaxConstant.POSITION_BOTTOM ||\n                    endPosition === parallaxConstant.POSITION_RIGHT\n                    ? -1\n                    : 1;\n            } else {\n                return endPosition === parallaxConstant.POSITION_BOTTOM ||\n                    endPosition === parallaxConstant.POSITION_RIGHT\n                    ? 1\n                    : -1;\n            }\n        })();\n\n        // Add/subtract with height or half value\n        this.endPoint = processFixedLimit(\n            endPoint,\n            additionalEndVal,\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? this.height * multiplier\n                : this.width * multiplier,\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? this.width * multiplier\n                : this.height * multiplier\n        );\n\n        this.setMarker();\n\n        // From left to right or top to bottom\n        // the botom or right side of item sollide with start point\n        if (this.invertSide) this.startPoint -= this.height;\n    }\n\n    /**\n     * @private\n     */\n    setMarker() {\n        if (this.marker) {\n            // Add Marker\n            const { startMarker, endMarker } = parallaxMarker({\n                startMarker: this.startMarker,\n                endMarker: this.endMarker,\n                startPoint: this.startPoint,\n                endPoint: this.endPoint,\n                screen: this.screen,\n                direction: this.direction,\n                invertSide: this.invertSide,\n                label: this.marker,\n            });\n\n            this.startMarker = startMarker;\n            this.endMarker = endMarker;\n        }\n    }\n\n    /**\n     * @private\n     */\n    calcOffset() {\n        const el = this.trigger ?? this.item;\n\n        if (!el) return;\n\n        let x = 0;\n        let y = 0;\n        let z = 0;\n\n        if (this.trigger) {\n            x = getTranslateValues(this.trigger).x;\n            y = getTranslateValues(this.trigger).y;\n            z = getTranslateValues(this.trigger).z;\n        }\n\n        /**\n         * Reset transform for get right offset value if transform is applied itself\n         * @ts-ignore all element is not window ( check the if statement ).\n         */\n        el.style.transform = '';\n\n        if (this.direction === parallaxConstant.DIRECTION_VERTICAL) {\n            this.offset =\n                this.scroller === window\n                    ? Math.trunc(offset(el).top)\n                    : // @ts-ignore\n                      Math.trunc(offset(el).top) - offset(this.scroller).top;\n        } else {\n            this.offset =\n                this.scroller === window\n                    ? Math.trunc(offset(el).left)\n                    : // @ts-ignore\n                      Math.trunc(offset(el).left) - offset(this.scroller).left;\n        }\n\n        if (this.screen && this.screen !== window) {\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? // @ts-ignore\n                  (this.offset -= Math.trunc(offset(this.screen).top))\n                : // @ts-ignore\n                  (this.offset -= Math.trunc(position(this.screen).left));\n        }\n\n        if (this.trigger && (x !== 0 || y !== 0 || z !== 0)) {\n            this.trigger.style.transform = `translate3D(${x}px, ${y}px, ${z}px)`;\n        }\n    }\n\n    /**\n     * @private\n     */\n    calcScreenPosition() {\n        if (this.screen === window || !this.screen) return;\n\n        /**\n         * @ts-ignore all element is not window ( check the if statement ).\n         */\n        this.screenPosition =\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? // @ts-ignore\n                  Number.parseInt(offset(this.screen).top)\n                : // @ts-ignore\n                  Number.parseInt(position(this.screen).left);\n    }\n\n    /**\n     * @private\n     */\n    calcHeight() {\n        const el = this.trigger ?? this.item;\n\n        if (!el) return;\n\n        this.height =\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? Math.trunc(el.offsetHeight)\n                : Math.trunc(el.offsetWidth);\n    }\n\n    /**\n     * @private\n     */\n    calcWidth() {\n        const el = this.trigger ?? this.item;\n\n        if (!el) return;\n\n        this.width =\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? Math.trunc(el.offsetWidth)\n                : Math.trunc(el.offsetHeight);\n    }\n\n    /**\n     * @private\n     */\n    getScrollerOffset() {\n        if (!this.scroller) return;\n\n        if (this.scroller === window) {\n            this.scrollerScroll =\n                this.direction === parallaxConstant.DIRECTION_VERTICAL\n                    ? this.scroller.scrollY\n                    : this.scroller.scrollX;\n        } else {\n            this.scrollerScroll =\n                this.direction === parallaxConstant.DIRECTION_VERTICAL\n                    ? // @ts-ignore\n                      -offset(this.scroller).top\n                    : // @ts-ignore\n                      -offset(this.scroller).left;\n        }\n    }\n\n    /**\n     * @private\n     */\n    getScreenHeight() {\n        if (!this.screen) return;\n\n        this.windowInnerWidth = window.innerWidth;\n        this.windowInnerHeight = window.innerHeight;\n\n        /**\n         * @ts-ignore all element is not window ( check the if statement ).\n         */\n        if (this.screen === window) {\n            this.scrollerHeight =\n                this.direction === parallaxConstant.DIRECTION_VERTICAL\n                    ? window.innerHeight\n                    : window.innerWidth;\n        } else {\n            this.scrollerHeight =\n                this.direction === parallaxConstant.DIRECTION_VERTICAL\n                    ? // @ts-ignore\n                      Math.trunc(this.screen.offsetHeight)\n                    : // @ts-ignore\n                      Math.trunc(this.screen.offsetWidth);\n        }\n    }\n\n    /**\n     * @description\n     * Recalculate positions and align all values\n     */\n    refresh() {\n        if (this.pin && this.pinInstance) this.pinInstance.destroy();\n\n        this.calcScreenPosition();\n        this.calcOffset();\n        this.calcHeight();\n        this.calcWidth();\n        this.getScreenHeight();\n\n        if (this.type == parallaxConstant.TYPE_SCROLLTRIGGER) {\n            this.calcFixedLimit();\n            if (this.dynamicRange) this.calcRangeAndUnitMiusure();\n\n            if (\n                this.pin &&\n                this.pinInstance &&\n                mq[this.queryType](this.breakpoint)\n            ) {\n                this.pinInstance?.init(this.getPinParams());\n            }\n        }\n        //\n        // reset value to update animation after resize\n        this.lastValue = undefined;\n        this.firstTime = true;\n        this.firstScroll = false;\n        //\n        if (mq[this.queryType](this.breakpoint)) {\n            if (this.ease) {\n                this.smoothParallaxJs();\n            } else {\n                this.computeValue();\n\n                // Disable 3d transform at first render after refresh.\n                this.noEasingRender({ forceRender: true });\n            }\n        } else {\n            if (this.ease) this.motion?.stop?.();\n\n            // Reset Style\n            // For tween is necessary reset inside tween callback\n            mobCore.useFrameIndex(() => {\n                if (this.applyTo) {\n                    this.resetTweenStyle(this.applyTo);\n                    Object.assign(this.applyTo.style, this.getResetStyle());\n                } else {\n                    this.resetTweenStyle(this.item);\n                    if (this.item)\n                        Object.assign(this.item.style, this.getResetStyle());\n                }\n            }, 3);\n        }\n    }\n\n    /**\n     * @description\n     * Method used to control the instance from the outside.\n     * The methods acceps two parameters:\n     *\n     * `value`: The scroll position of the parent.\n     * If no value is provided, the instance will calculate it autonomously.\n     *\n     * `parentIsMoving`: Value that indicates if the component using the method is moving.\n     * The value is used to manage the addition of the translate3D property.\n     * The default value is false\n     *\n     *\n     * @example\n     * ```javascript\n     *\n     *\n     * Control the instance from another scrollTrigger:\n     *\n     * const myScroller = mobbu.createScrollTrigger({\n     *     ...\n     *     onTick: ({ value, parentIsMoving }) => {\n     *         myInstance.move({ value, parentIsMoving });\n     *     },\n     *     ...\n     * });\n     * ```\n     *\n     * @param {import('./type.js').parallaxMoveType} obj\n     *\n     */\n    move({ value, parentIsMoving = false }) {\n        if (!mq[this.queryType](this.breakpoint) || !value) return;\n        this.iSControlledFromOutside = true;\n\n        const scrollVal = this.getScrollValueOnMove(value);\n\n        if (this.ease) {\n            this.smoothParallaxJs(scrollVal);\n        } else {\n            this.computeValue(scrollVal);\n            const forceRender =\n                this.isInViewport || this.firstTime || undefined;\n            this.noEasingRender({ forceRender, parentIsMoving });\n        }\n    }\n\n    /**\n     * @description\n     * Trigger scrollStart event\n     * Used by smoothScroll to activate 3D if child (this) have ease = true\n     */\n    triggerScrollStart() {\n        if (!this.ease) return;\n\n        this.firstScroll = true;\n        if (!this.disableForce3D) this.force3D = true;\n    }\n\n    /**\n     * @description\n     * Trigger scrollEnd event\n     * Used by smoothScroll to deactivate 3D if child (this) have ease = false\n     */\n    triggerScrollEnd() {\n        if (this.ease) return;\n\n        this.noEasingRender({ forceRender: true });\n    }\n\n    /**\n     * @private\n     *\n     * @param {number|undefined} value\n     */\n    getScrollValueOnMove(value) {\n        if (value === undefined) return;\n        if (this.screen !== window) return value + this.screenPosition;\n\n        return value;\n    }\n\n    /**\n     * @description\n     * Stop lerp|spring tween.\n     */\n    stopMotion() {\n        this.motion?.stop?.();\n    }\n\n    /**\n     * @private\n     *\n     * @param {number} [ scrollVal ]\n     */\n    smoothParallaxJs(scrollVal) {\n        if (!mq[this.queryType](this.breakpoint)) return;\n\n        this.computeValue(scrollVal);\n\n        // Skip motion fixed type\n        if (\n            !this.fixedShouldRender &&\n            !this.firstTime &&\n            this.type === parallaxConstant.TYPE_SCROLLTRIGGER\n        )\n            return;\n\n        // Skip motion default type\n        if (\n            !this.isInViewport &&\n            !this.firstTime &&\n            this.type === parallaxConstant.TYPE_PARALLAX\n        )\n            return;\n\n        // First time render with no easing\n        const action = this.firstTime && !this.animateAtStart ? 'set' : 'goTo';\n\n        // Maybe a destroy method is callad during animation, so check if exist.\n        if (!this.motion) return;\n\n        this.motion[action](\n            { val: this.endValue },\n            this.motionParameters\n        ).catch(() => {});\n    }\n\n    /**\n     * @private\n     *\n     * @param {number} [ scrollVal ]\n     */\n    computeValue(scrollVal) {\n        if (!mq[this.queryType](this.breakpoint)) return;\n\n        if (scrollVal) {\n            this.scrollerScroll = -scrollVal;\n        } else {\n            this.getScrollerOffset();\n        }\n\n        this.isInViewport = detectViewPortInterception({\n            offset: this.offset,\n            height: this.height,\n            gap: this.gap,\n            wScrollTop: this.scrollerScroll,\n            wHeight: this.scrollerHeight,\n        });\n\n        // Skip motion default with limiterOff not active\n        if (\n            !this.isInViewport &&\n            !this.limiterOff &&\n            this.type === parallaxConstant.TYPE_PARALLAX\n        )\n            return;\n\n        if (this.pin && this.pinInstance) {\n            this.pinInstance.onScroll(this.scrollerScroll);\n        }\n\n        switch (this.type) {\n            case parallaxConstant.TYPE_SCROLLTRIGGER: {\n                this.endValue = getRoundedValue(this.getFixedValue());\n                break;\n            }\n\n            default: {\n                switch (this.propierties) {\n                    case parallaxConstant.PROP_OPACITY: {\n                        this.endValue = getRoundedValue(this.getOpacityValue());\n                        break;\n                    }\n\n                    default: {\n                        this.endValue = Number.isNaN(\n                            // @ts-ignore\n                            Number.parseInt(this.align)\n                        )\n                            ? getRoundedValue(this.getIsNaNValue() / 2)\n                            : getRoundedValue(this.getIsANumberValue() / 2);\n                        break;\n                    }\n                }\n            }\n        }\n\n        /**\n         * Get reverse value\n         */\n        const reverseValue =\n            this.reverse && this.type !== parallaxConstant.TYPE_SCROLLTRIGGER\n                ? getRetReverseValue(this.propierties, this.endValue)\n                : this.endValue;\n\n        /**\n         * Get switch after 0 value for non scrolTrigger\n         */\n        this.endValue =\n            this.type === parallaxConstant.TYPE_SCROLLTRIGGER\n                ? reverseValue\n                : this.getSwitchAfterZeroValue(reverseValue);\n    }\n\n    /**\n     * @private\n     */\n    noEasingRender({ forceRender = false, parentIsMoving = false } = {}) {\n        if (!mq[this.queryType](this.breakpoint)) return;\n\n        mobCore.useFrame(() => {\n            this.cleanRender({ forceRender, parentIsMoving });\n        });\n    }\n\n    /**\n     * @private\n     */\n    cleanRender({ forceRender = false, parentIsMoving = false } = {}) {\n        /**\n         * Skip unnecessary rendering ( no control from outside )\n         */\n        if (\n            (this.endValue === this.lastValue && !forceRender) ||\n            (!this.isInViewport && !forceRender)\n        )\n            return;\n\n        /**\n         * Set force3D if is not control from outside.\n         */\n        if (!this.disableForce3D && !this.iSControlledFromOutside)\n            this.force3D = !forceRender;\n\n        /**\n         * Set force3D if is control from outside.\n         */\n        if (!this.disableForce3D && this.iSControlledFromOutside)\n            this.force3D = parentIsMoving && this.isInViewport;\n\n        /**\n         * Draw\n         */\n        if (this.propierties === parallaxConstant.PROP_TWEEN) {\n            this.tween.draw({\n                partial: this.endValue,\n                isLastDraw: !this.force3D,\n                useFrame: false,\n            });\n            this.lastValue = this.endValue;\n            this.firstTime = false;\n        } else {\n            this.updateStyle(this.endValue);\n        }\n\n        /**\n         * Children\n         */\n        mobCore.useNextTick(() => {\n            if (this.onTickCallback)\n                this.onTickCallback({\n                    value: this.endValue,\n                    parentIsMoving: this.force3D,\n                });\n        });\n    }\n\n    /**\n     * @private\n     *\n     * @param {number} value\n     */\n    updateStyle(value) {\n        if (this.applyTo) {\n            Object.assign(this.applyTo.style, this.getStyle(value));\n        } else if (this.item) {\n            Object.assign(this.item.style, this.getStyle(value));\n        }\n\n        this.lastValue = value;\n        this.firstTime = false;\n    }\n\n    /**\n     * @private\n     */\n    getFixedValue() {\n        const partials = this.invertSide\n            ? -(\n                  this.scrollerScroll +\n                  this.startPoint +\n                  this.endPoint -\n                  (this.offset + this.endPoint)\n              )\n            : -(\n                  this.scrollerScroll +\n                  this.scrollerHeight -\n                  this.startPoint -\n                  (this.offset + this.endPoint)\n              );\n\n        const maxVal = (this.endPoint / 100) * this.numericRange;\n        const partialVal = (partials / 100) * this.numericRange;\n\n        const valePerDirections = (() => {\n            if (this.fromTo) {\n                return this.invertSide ? maxVal - partialVal : partialVal;\n            } else {\n                return this.invertSide ? partialVal : maxVal - partialVal;\n            }\n        })();\n\n        const clampValue =\n            maxVal > 0\n                ? -clamp(valePerDirections, 0, maxVal)\n                : -clamp(valePerDirections, maxVal, 0);\n\n        this.fixedShouldRender = this.prevFixedClamp !== clampValue;\n        this.prevFixedClamp = clampValue;\n        if (!this.fixedShouldRender && !this.firstTime) return this.endValue;\n\n        const percentValue = (clampValue * 100) / this.endPoint;\n\n        // Fire callback if there is\n        if (\n            this.onEnter ||\n            this.onEnterBack ||\n            this.onLeave ||\n            this.onLeaveBack\n        ) {\n            parallaxEmitter({\n                prevValue: this.prevFixedRawValue,\n                value: valePerDirections,\n                maxVal: maxVal,\n                onEnter: this.onEnter,\n                onEnterBack: this.onEnterBack,\n                onLeave: this.onLeave,\n                onLeaveBack: this.onLeaveBack,\n            });\n        }\n\n        this.prevFixedRawValue = valePerDirections;\n\n        switch (this.propierties) {\n            case parallaxConstant.PROP_HORIZONTAL:\n            case parallaxConstant.PROP_VERTICAL: {\n                return this.getHVval(percentValue);\n            }\n\n            case parallaxConstant.PROP_SCALE:\n            case parallaxConstant.PROP_SCALE_X:\n            case parallaxConstant.PROP_SCALE_Y:\n            case parallaxConstant.PROP_OPACITY: {\n                return 1 - percentValue;\n            }\n\n            default: {\n                return -percentValue;\n            }\n        }\n    }\n\n    /**\n     * @private\n     *\n     * @param {number} percent\n     */\n    getHVval(percent) {\n        switch (this.unitMisure) {\n            case parallaxConstant.VW: {\n                return (this.windowInnerWidth / 100) * -percent;\n            }\n\n            case parallaxConstant.VH: {\n                return (this.windowInnerHeight / 100) * -percent;\n            }\n\n            case parallaxConstant.WPERCENT: {\n                return this.direction === parallaxConstant.DIRECTION_VERTICAL\n                    ? (this.width / 100) * -percent\n                    : (this.height / 100) * -percent;\n            }\n\n            case parallaxConstant.HPERCENT: {\n                return this.direction === parallaxConstant.DIRECTION_VERTICAL\n                    ? (this.height / 100) * -percent\n                    : (this.width / 100) * -percent;\n            }\n\n            default: {\n                return -percent;\n            }\n        }\n    }\n\n    /**\n     * @private\n     */\n    getOpacityValue() {\n        const vhLimit = (this.scrollerHeight / 100) * this.opacityEnd;\n        const vhStart =\n            this.scrollerHeight -\n            (this.scrollerHeight / 100) * this.opacityStart;\n\n        const value =\n            this.align == parallaxConstant.ALIGN_START\n                ? -this.scrollerScroll * -1\n                : (this.scrollerScroll + vhLimit - this.offset) * -1;\n\n        const valClamped =\n            this.align == parallaxConstant.ALIGN_START\n                ? 1 - value / this.offset\n                : 1 - value / (this.scrollerHeight - vhStart - vhLimit);\n\n        return clamp(valClamped, 0, 1);\n    }\n\n    /**\n     * @private\n     */\n    getIsNaNValue() {\n        const valuetoNumber = Number(this.range);\n        const rangeNumber = Number.isNaN(valuetoNumber) ? 0 : valuetoNumber;\n\n        const documentHeight =\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? document.documentElement.scrollHeight\n                : document.documentElement.scrollWidth;\n\n        // Prefixed align\n        switch (this.align) {\n            case parallaxConstant.ALIGN_START: {\n                return this.scrollerScroll / rangeNumber;\n            }\n\n            case parallaxConstant.ALIGN_TOP:\n            case parallaxConstant.ALIGN_LEFT: {\n                return (this.scrollerScroll - this.offset) / rangeNumber;\n            }\n\n            case parallaxConstant.ALIGN_CENTER: {\n                return (\n                    (this.scrollerScroll +\n                        (this.scrollerHeight / 2 - this.height / 2) -\n                        this.offset) /\n                    rangeNumber\n                );\n            }\n\n            case parallaxConstant.ALIGN_BOTTOM:\n            case parallaxConstant.ALIGN_RIGHT: {\n                return (\n                    (this.scrollerScroll +\n                        (this.scrollerHeight - this.height) -\n                        this.offset) /\n                    rangeNumber\n                );\n            }\n\n            case parallaxConstant.ALIGN_END: {\n                return (\n                    -(\n                        documentHeight -\n                        (this.scrollerScroll + this.scrollerHeight)\n                    ) / rangeNumber\n                );\n            }\n\n            default: {\n                return 0;\n            }\n        }\n    }\n\n    /**\n     * @private\n     * Here the value is a number.\n     */\n    getIsANumberValue() {\n        const align = Number(this.align);\n        const range = Number(this.range);\n\n        return (\n            (this.scrollerScroll +\n                (this.scrollerHeight / 100) * align -\n                this.offset) /\n            range\n        );\n    }\n\n    /**\n     * @private\n     *\n     * @param {number} value\n     */\n    getSwitchAfterZeroValue(value) {\n        return getValueOnSwitch({\n            switchPropierties: this.onSwitch,\n            isReverse: this.reverse,\n            value,\n        });\n    }\n\n    /**\n     * @private\n     *\n     * @param {number} value\n     */\n    getStyle(value) {\n        if (this.shouldTrackOnlyEvents) return;\n\n        const force3DStyle = this.force3D ? 'translate3D(0px, 0px, 0px)' : '';\n\n        /**\n         * If frame drop ia lot (2/5) activate 'will-change: transform;'\n         */\n        this.willChangeIsActive = this.useWillChange\n            ? mobCore.mustMakeSomething()\n            : false;\n        const shouldWill =\n            this.willChangeIsActive && this.force3D ? 'transform' : '';\n\n        /**\n         * If frame drop a little (1/5) remove decimal.\n         * Used by transform ( not scale ).\n         */\n        const valueParsed = mobCore.shouldMakeSomething()\n            ? Math.round(value)\n            : value;\n\n        switch (this.propierties) {\n            case parallaxConstant.PROP_VERTICAL: {\n                return {\n                    // translate: `0 ${val}px`,\n                    // transform: `${force3DStyle}`,\n                    transform: `${force3DStyle} translateY(${valueParsed}px)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case parallaxConstant.PROP_HORIZONTAL: {\n                return {\n                    transform: `${force3DStyle} translateX(${valueParsed}px)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case parallaxConstant.PROP_ROTATE: {\n                return {\n                    transform: `${force3DStyle} rotate(${valueParsed}deg)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case parallaxConstant.PROP_ROTATEY: {\n                return {\n                    transform: `${force3DStyle} rotateY(${valueParsed}deg)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case parallaxConstant.PROP_ROTATEX: {\n                return {\n                    transform: `${force3DStyle} rotateX(${valueParsed}deg)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case parallaxConstant.PROP_ROTATEZ: {\n                return {\n                    transform: `${force3DStyle} rotateZ(${valueParsed}deg)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case parallaxConstant.PROP_OPACITY: {\n                return { opacity: `${value}` };\n            }\n\n            case parallaxConstant.PROP_SCALE: {\n                const scaleVal =\n                    this.type === parallaxConstant.TYPE_SCROLLTRIGGER\n                        ? value\n                        : 1 + value / 1000;\n                return {\n                    transform: `${force3DStyle} scale(${scaleVal})`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case parallaxConstant.PROP_SCALE_X: {\n                const scaleVal =\n                    this.type === parallaxConstant.TYPE_SCROLLTRIGGER\n                        ? value\n                        : 1 + value / 1000;\n                return {\n                    transform: `${force3DStyle} scaleX(${scaleVal})`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case parallaxConstant.PROP_SCALE_Y: {\n                const scaleVal =\n                    this.type === parallaxConstant.TYPE_SCROLLTRIGGER\n                        ? value\n                        : 1 + value / 1000;\n                return {\n                    transform: `${force3DStyle} scaleY(${scaleVal})`,\n                    willChange: shouldWill,\n                };\n            }\n\n            default: {\n                return {\n                    [this.propierties.toLowerCase()]: `${value}px`,\n                };\n            }\n        }\n    }\n\n    /**\n     * @private\n     * Reset sequencer/parallaxTween style\n     *\n     * @param {HTMLElement|null} item\n     */\n    resetTweenStyle(item) {\n        // @ts-ignore\n        if (this.tween) item.style = '';\n    }\n\n    /**\n     * @private\n     * Reset default style\n     */\n    getResetStyle() {\n        if (this.shouldTrackOnlyEvents) return;\n\n        switch (this.propierties) {\n            case parallaxConstant.PROP_VERTICAL:\n            case parallaxConstant.PROP_HORIZONTAL:\n            case parallaxConstant.PROP_ROTATE:\n            case parallaxConstant.PROP_ROTATEY:\n            case parallaxConstant.PROP_ROTATEX:\n            case parallaxConstant.PROP_ROTATEZ:\n            case parallaxConstant.PROP_SCALE: {\n                return {\n                    transform: ``,\n                };\n            }\n\n            case parallaxConstant.PROP_OPACITY: {\n                return { opacity: `` };\n            }\n\n            default: {\n                return { [this.propierties.toLowerCase()]: `` };\n            }\n        }\n    }\n\n    /**\n     * @description\n     * Destroy instance\n     */\n    destroy() {\n        this.motion?.stop?.();\n        this.unsubscribeScroll();\n        this.unsubscribeScrollStart();\n        this.unsubscribeScrollEnd();\n        this.unsubscribeResize();\n        this.unsubscribeMotion();\n        this.unsubscribeOnComplete();\n        this.unsubscribeMarker();\n        this.motion?.destroy?.();\n        this.dynamicRange = () => {};\n        this.onEnter = () => {};\n        this.onEnterBack = () => {};\n        this.onLeave = () => {};\n        this.onLeaveBack = () => {};\n        this.onTickCallback = () => {};\n        if (this.pin && this.pinInstance) this.pinInstance?.destroy?.();\n        if (this.startMarker) this.startMarker?.remove?.();\n        if (this.endMarker) this.endMarker?.remove?.();\n        this.startMarker = undefined;\n        this.endMarker = undefined;\n        this.pinInstance = null;\n        this.endValue = 0;\n\n        // Remove style from element, if style prop exist.\n        const el = this.applyTo ?? this.item;\n        // @ts-ignore\n        if (el && 'style' in el) el.style = '';\n\n        /**\n         * Remove HTMLELement reference.\n         */\n        this.item = null;\n        this.scroller = null;\n        this.screen = null;\n        this.trigger = null;\n        this.applyTo = null;\n    }\n}\n", "// @ts-check\n\nimport { parallaxConstant } from './animation/parallax/parallaxConstant.js';\nimport ParallaxClass from './animation/parallax/parallax.js';\n\nexport const scroller = {\n    /**\n     * @param {import('./animation/parallax/type.js').parallaxCommonType & import('./animation/parallax/type.js').parallaxType} data\n     *\n     * @example\n     * ```javascript\n     *  Property schema:\n     *\n     *\n     *  const myParallax = scroller.createParallax({\n     *      item: String | Element,\n     *      applyTo: [ String | Element ],\n     *      trigger: [ String | Element ],\n     *      screen: [ String | Element ],\n     *      scroller: [ String | Element ],\n     *      breakpoint: [ String ],\n     *      queryType: [ String ],\n     *      direction: [ String ],\n     *      propierties: [ String ],\n     *      tween: [ HandleSequencer | ParallaxTween ],\n     *      range: [ String | Number ],\n     *      align: [ String ],\n     *      onSwitch: [ String ],\n     *      reverse: [ Boolean ],\n     *      ease: [ Boolean ],\n     *      easeType: [ String ],\n     *      lerpConfig: [ Number ],\n     *      springConfig: [ String ],\n     *      opacityEnd: [ Number ],\n     *      opacityStart: [ Number ],\n     *      limiterOff: [ Boolean ],\n     *      perspective: [ Number ],\n     *      disableForce3D: [ Boolean ],\n     *      useThrottle: [ Boolean ],\n     *  });\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     *\n     * ```javascript\n     *\n     *\n     * myParallax.init()\n     * myParallax.destroy()\n     * myParallax.refresh()\n     * myParallax.move()\n     *\n     * ```\n     *\n     */\n    createParallax(data) {\n        return new ParallaxClass({\n            ...data,\n            // @ts-ignore\n            type: parallaxConstant.TYPE_PARALLAX,\n        });\n    },\n\n    /**\n     * @param {import('./animation/parallax/type.js').parallaxCommonType & import('./animation/parallax/type.js').scrollTriggerType } data\n     *\n     * @example\n     *\n     * ```javascript\n     *   Property schema:\n     *\n     *\n     *   const myScrollTrigger = scroller.createScrollTrigger({\n     *       item: String | Element,\n     *       applyTo: [ String | Element ],\n     *       trigger: [ String | Element ],\n     *       screen: [ String | Element ],\n     *       scroller: [ String | Element ],\n     *       breakpoint: [ String ],\n     *       queryType: [ String ],\n     *       direction: [ String ],\n     *       propierties: [ String ],\n     *       tween: [ HandleSequencer | ParallaxTween ],\n     *       range: [ String ],\n     *       dynamicRange: [ Function ],\n     *       fromTo: [ Boolean ],\n     *       start: [ String ],\n     *       dynamicStart: {\n     *          position: [ String ],\n     *          value: [ Function ]\n     *       },\n     *       end: [ String ],\n     *       dynamicEnd: {\n     *          position: [ String ],\n     *          value: [ Function ]\n     *       },\n     *       ease: [ Boolean ],\n     *       easeType: [ String ],\n     *       lerpConfig: [ Number ],\n     *       springConfig: [ String ],\n     *       pin: [ Boolean ],\n     *       animatePin: [ Boolean ],\n     *       anticipatePinOnLoad: [ Boolean ],\n     *       marker: [ String ],\n     *       forceTranspond: [ Boolean ],\n     *       animateAtStart: [ Boolean ],\n     *       disableForce3D: [ Boolean ],\n     *       onEnter: [ Function ],\n     *       onEnterBack: [ Function ],\n     *       onLeave: [ Function ],\n     *       onLeaveBack: [ Function ],\n     *       onTick: [ Function ],\n     *       perspective: [ Number ],\n     *       useThrottle: [ Boolean ],\n     *   });\n     *\n     *\n     *\n     * ```\n     *\n     * @description\n     * Available methods:\n     *\n     * ```javascript\n     *\n     *\n     * myScrollTrigger.init()\n     * myScrollTrigger.destroy()\n     * myScrollTrigger.refresh()\n     * myScrollTrigger.move()\n     *\n     * ```\n     */\n    createScrollTrigger(data) {\n        return new ParallaxClass({\n            ...data,\n            // @ts-ignore\n            type: parallaxConstant.TYPE_SCROLLTRIGGER,\n        });\n    },\n};\n", "// @ts-check\n\n/**\n * @type {string};\n */\nexport const ATTR_IS_COMPONENT = 'data-mobjs';\n\n/**\n * @type {string};\n */\nexport const ATTR_IS_COMPONENT_VALUE = 'mobjs';\n\n/**\n * @type {string};\n */\nexport const ATTR_PROPS = 'staticprops';\n\n/**\n * @type {string};\n */\nexport const ATTR_DYNAMIC = 'bindprops';\n\n/**\n * @type {string};\n */\nexport const ATTR_INSTANCENAME = 'name';\n\n/**\n * @type {string};\n */\nexport const ATTR_COMPONENT_NAME = 'name';\n\n/**\n * @type {string};\n */\nexport const ATTR_SLOT = 'slot';\n\n/**\n * @type {string};\n */\nexport const ATTR_REPEATID = 'repeatid';\n\n/**\n * @type {string};\n */\nexport const ATTR_CHILD_REPEATID = 'repeaterchild';\n\n/**\n * @type {string};\n */\nexport const ATTR_KEY = 'key';\n\n/**\n * @type {string};\n */\nexport const ATTR_CURRENT_LIST_VALUE = 'currentRepeaterValue';\n\n/**\n * @type {string};\n */\nexport const ATTR_REPEATER_PROP_BIND = 'repeatPropBind';\n\n/**\n * @type {string};\n */\nexport const ATTR_REPEATER_CONTEXT = 'repeaterContextId';\n\n/**\n * @type {string};\n */\nexport const ATTR_BIND_EVENTS = 'bindevents';\n\n/**\n * @type {string};\n */\nexport const ATTR_WEAK_BIND_EVENTS = 'weakbindevents';\n\n/**\n * @type {string};\n */\nexport const ATTR_PARENT_ID = 'parentid';\n\n/**\n * @type {string};\n */\nexport const ATTR_REFS = 'ref';\n\n/**\n * @type {number};\n */\nexport const frameDelayAfterParse = 5;\n\n/**\n * @type {import(\"./temporaryData/currentRepeaterItemValue/type\").currentRepeaterState};\n */\nexport const DEFAULT_CURRENT_REPEATER_STATE = { current: {}, index: -1 };\n\n/**\n * @type {string};\n */\nexport const QUEQUE_TYPE_BINDPROPS = 'QUEQUE_BINDPROPS';\n\n/**\n * @type {string};\n */\nexport const QUEQUE_TYPE_REPEATER = 'QUEQUE_REPEATER';\n\n/**\n * @type {string};\n */\nexport const QUEQUE_TYPE_PARSE_WATCH_ASYNC = 'PARSE_WATCH_ASYNC';\n", "// @ts-check\n// https://stackfull.dev/applying-tree-traversal-algorithms-to-dom\n\n/**\n * @generator\n * @function walkPreOrder\n * @param {Element} node\n * @yields {HTMLElement}\n */\nexport function* walkPreOrder(node) {\n    if (!node) return;\n\n    yield node;\n    for (const child of node.children) {\n        yield* walkPreOrder(child);\n    }\n}\n\n/**\n * FUTURE COMPONENT\n */\n\n/**\n * @param {Element} root\n * @param {boolean} oneDepth\n * @returns {import(\"../webComponent/type\").userComponent[]}\n */\nfunction selectAll(root, oneDepth) {\n    const result = [];\n    for (const node of walkPreOrder(root)) {\n        /**\n         * Skip after first result.\n         * We are looking the first occurrence.\n         */\n        if (result.length > 0 && oneDepth) break;\n\n        if (node?.getIsPlaceholder?.()) {\n            result.push(node);\n        }\n    }\n    return result;\n}\n\n/**\n * @param {Element} node\n * @param {boolean} oneDepth\n * @returns {Array<import(\"../webComponent/type\").userComponent>}\n */\nexport const queryAllFutureComponent = (node, oneDepth = true) => {\n    let result = [];\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        result = [...result, ...selectAll(child, oneDepth)];\n    }\n\n    return result;\n};\n", "// @ts-check\n\n/**\n * Description\n * @type {Map<string,import(\"./type\").componentStoreTypes>}\n */\nexport const componentMap = new Map();\n", "// @ts-check\n\nimport {\n    ATTR_REPEATER_CONTEXT,\n    DEFAULT_CURRENT_REPEATER_STATE,\n} from '../../constant.js';\nimport { queryAllFutureComponent } from '../../query/queryAllFutureComponent.js';\nimport { componentMap } from '../store.js';\n\n/**\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {any} obj.value\n * @return { void }\n *\n * @description\n * Update element root from generic to real after conversion.\n */\nexport const setRepeaterStateById = ({ id = '', value }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    componentMap.set(id, {\n        ...item,\n        currentRepeaterState: value,\n    });\n};\n\n/**\n *\n * @param {object} obj\n * @param {string} obj.id\n * @return { void }\n *\n * @description\n * Update element root from generic to real after conversion.\n */\nexport const setIsRepeaterFirstChildNode = ({ id = '' }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    componentMap.set(id, {\n        ...item,\n        isRepeaterFirstChildNode: true,\n    });\n};\n\n/**\n *\n * @param {object} obj\n * @param {string} obj.id\n * @return { import('../../temporaryData/currentRepeaterItemValue/type.js').currentRepeaterState }\n *\n * @description\n * Update element root from generic to real after conversion.\n */\nexport const getRepeaterStateById = ({ id = '' }) => {\n    if (!id || id === '') return DEFAULT_CURRENT_REPEATER_STATE;\n\n    const item = componentMap.get(id);\n    const currentRepeaterState = item?.currentRepeaterState;\n    return currentRepeaterState;\n};\n\n/**\n *\n * @param {object} param\n * @param {import('../../webComponent/type.js').userComponent|HTMLElement} param.element\n * @param {string} param.id\n * @return { void }\n *\n * @description\n */\nexport const setRepeaterContext = ({ element, id }) => {\n    const children = queryAllFutureComponent(element, false);\n\n    children.forEach((child) => {\n        child.setAttribute(ATTR_REPEATER_CONTEXT, id);\n    });\n};\n\n/**\n *\n * @param {object} param\n * @param {string} param.contextId\n * @return { string[] }\n *\n * @description\n */\nexport const getComponentIdByRepeatercontext = ({ contextId }) => {\n    return [...componentMap.values()]\n        .filter(({ repeaterContextId }) => repeaterContextId === contextId)\n        .map(({ id }) => id);\n};\n\n/**\n *\n * @param {object} obj\n * @param {string} obj.id\n * @return {string}\n *\n * @description\n * Update element root from generic to real after conversion.\n */\nexport const getRepeaterPropBind = ({ id = '' }) => {\n    if (!id || id === '') return '';\n\n    const item = componentMap.get(id);\n    const repeatPropBind = item?.repeatPropBind;\n    return repeatPropBind;\n};\n", "// @ts-check\n\nimport { componentMap } from '../store';\n\n/**\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {HTMLElement|import(\"../../webComponent/type\").userComponent} obj.newElement\n * @return { void }\n *\n * @description\n * Update element root from generic to real after conversion.\n */\nexport const setElementById = ({\n    id = '',\n    newElement = document.createElement('div'),\n}) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    componentMap.set(id, { ...item, element: newElement });\n};\n\n/**\n *\n * @param {object} obj\n * @param {string} obj.id\n * @return {HTMLElement|undefined}\n *\n * @description\n * Get element by id\n */\nexport const getElementById = ({ id = '' }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const element = item?.element;\n    return element;\n};\n\n/**\n *\n * @param {object} obj\n * @param {HTMLElement|undefined} obj.element\n * @return {string|undefined}\n *\n * @description\n * Get element by id\n */\nexport const getIdByElement = ({ element }) => {\n    const item = [...componentMap.values()].find((item) => {\n        const currentElement = item?.element;\n        return currentElement === element;\n    });\n\n    return item?.id ?? '';\n};\n\n/**\n *\n * @param {object} obj\n * @param {string} obj.key\n * @param {string} obj.parentId\n * @param {HTMLElement} obj.container\n * @return {HTMLElement|undefined}\n *\n *\n * @description\n * Get element by key and parentId and child if specific HTMLElement\n */\nexport const getElementByKeyInContainer = ({\n    key = '',\n    parentId = '',\n    container = document.createElement('div'),\n}) => {\n    if (!key || key === '') return;\n\n    const value = componentMap.get(parentId ?? '');\n    if (!value) return;\n\n    const { child } = value;\n    if (!child) return;\n\n    /**\n     * Search in parent component a component that:\n     * - is inside container\n     * - has specific key.\n     */\n    const targetId =\n        Object.values(child ?? {})\n            .flat()\n            .find((id) => {\n                const value = componentMap.get(id);\n                if (!value) return;\n\n                const { element, key: currentKey } = value;\n                return (\n                    container.contains(element) && `${currentKey}` === `${key}`\n                );\n            }) ?? '';\n\n    /**\n     * Get HTMLElement\n     */\n    const targetValue = componentMap.get(targetId);\n    if (!targetValue) return;\n\n    const { element } = targetValue;\n\n    if (!element) {\n        console.warn(`getElementByKey failed no element found`);\n        return;\n    }\n\n    return element;\n};\n", "// @ts-check\n\n/**\n * @type {HTMLElement}\n */\nlet root = document.createElement('div');\n\n/**\n * @param {object} obj\n * @param {HTMLElement} obj.element\n * returns void\n *\n *\n * @description\n * Set root app.\n */\nexport const setRoot = ({ element }) => {\n    root = element;\n};\n\n/**\n * @returns { HTMLElement }\n *\n * @description\n * Set root app.\n */\nexport const getRoot = () => root;\n", "//@ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport { checkType } from '../../../mobCore/store/classVersion/storeType';\nimport { getRepeaterStateById } from '../../componentStore/action/currentRepeatValue';\nimport { getIdByElement } from '../../componentStore/action/element';\nimport {\n    ATTR_WEAK_BIND_EVENTS,\n    DEFAULT_CURRENT_REPEATER_STATE,\n} from '../../constant';\nimport { getRoot } from '../../mainStore/root';\n\n/**\n * @type {Map<string,Array<{[key:string]: () => void}>>}\n */\nexport const tempDelegateEventMap = new Map();\n\n/**\n * @type {WeakMap<object,import('./type').weakBindEventsDataArray | undefined>}\n */\nexport const eventDelegationMap = new WeakMap();\n\n/**\n * @type {string[]}\n */\nconst eventToAdd = [];\n\n/**\n * @type {string[]}\n */\nconst eventRegistered = [];\n\n/**\n * @param {( import('./type').delegateEventObject|import('./type').delegateEventObject[] )} [ eventsData ]\n * @return {string} props id in store.\n *\n * @description\n * Store props and return a unique identifier\n *\n */\nexport const setDelegateBindEvent = (eventsData = []) => {\n    const eventsDataParsed = checkType(Object, eventsData)\n        ? [eventsData]\n        : eventsData;\n\n    /**\n     * @type {string}\n     */\n    const id = mobCore.getUnivoqueId();\n    // @ts-ignore\n    tempDelegateEventMap.set(id, eventsDataParsed);\n\n    return id;\n};\n\n/**\n * @param {EventTarget|undefined} target\n * @returns {{ target:EventTarget|undefined,data:import('./type').weakBindEventsDataArray | undefined}}\n */\nconst findParentElementInMap = (target) => {\n    // @ts-ignore\n    let parent = target?.parentNode;\n\n    while (parent) {\n        if (eventDelegationMap.has(parent))\n            return { target: parent, data: eventDelegationMap.get(parent) };\n        parent = parent?.parentNode;\n    }\n\n    return { target: undefined, data: undefined };\n};\n\n/**\n * @param {EventTarget} target\n * @returns {{ target:EventTarget|undefined,data:import('./type').weakBindEventsDataArray | undefined}}\n */\nconst getItemFromTarget = (target) => {\n    const data = eventDelegationMap.get(target);\n    if (data) return { target, data: eventDelegationMap.get(target) };\n\n    /**\n     * Wall up DOM tree searcing first element in map.\n     * If event.target is inside element where eventi is applied.\n     **/\n    return findParentElementInMap(target);\n};\n\n/**\n * @param {string} eventKey\n * @param {Event} event\n * @returns {void}\n */\nfunction handleAction(eventKey, event) {\n    const target = event?.target;\n    if (!target) return;\n\n    const { target: targetParsed, data } = getItemFromTarget(target);\n\n    // @ts-ignore\n    if (!data || !document.contains(targetParsed)) return;\n\n    const currentEvent = data.find(({ event }) => event === eventKey);\n    if (!currentEvent) return;\n\n    /**\n     * Get callback.\n     */\n    const { callback } = currentEvent;\n\n    /**\n     * Get current repeater state if target is a component.\n     */\n    // @ts-ignore\n    const componentId = getIdByElement({ element: targetParsed });\n    const currentRepeaterState = componentId\n        ? getRepeaterStateById({\n              id: componentId,\n          })\n        : DEFAULT_CURRENT_REPEATER_STATE;\n\n    /**\n     * Replace target with new target\n     * ( parent of original target if event.tatget is inside )\n     */\n    Object.defineProperty(event, 'target', { value: targetParsed });\n\n    /**\n     * Fire callback.\n     */\n    callback(event, currentRepeaterState?.index);\n}\n\n/**\n * @param {HTMLElement} root\n * @return { void }\n *\n * @description\n * Store props and return a unique identifier\n *\n */\nexport const applyDelegationBindEvent = (root) => {\n    /**\n     * Get parent node of root ( root of parseComponentRecursive ).\n     */\n    const parent = root.parentNode;\n    const elements =\n        parent?.querySelectorAll(`[${ATTR_WEAK_BIND_EVENTS}]`) ?? [];\n\n    /**\n     * Create event object associated to DOM element.\n     */\n    [...elements].forEach((element) => {\n        const id = element.getAttribute(ATTR_WEAK_BIND_EVENTS) ?? '';\n        element.removeAttribute(ATTR_WEAK_BIND_EVENTS);\n        const data = tempDelegateEventMap.get(id);\n        tempDelegateEventMap.delete(id);\n\n        const dataParsed = data?.flatMap((item) => {\n            return Object.entries(item).map((current) => {\n                const [event, callback] = current;\n                if (!eventToAdd.includes(event)) eventToAdd.push(event);\n                return { event, callback };\n            });\n        });\n\n        eventDelegationMap.set(element, dataParsed);\n    });\n\n    const rootElement = getRoot();\n\n    /**\n     * Cycle all event and add a click if needed.\n     */\n    eventToAdd.forEach((eventKey) => {\n        if (eventRegistered.includes(eventKey)) return;\n        eventRegistered.push(eventKey);\n\n        rootElement.addEventListener(\n            eventKey,\n            handleAction.bind(null, eventKey)\n        );\n    });\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../mobCore';\n\n/**\n * @type {Map<string,object>}\n */\nexport const staticPropsMap = new Map();\n\n/**\n *\n * @param {object} [ props ]\n * @return {string} props id in store.\n *\n * @description\n * Store props and return a unique identifier\n *\n * @example\n * ```javascript\n *   <MyComponent\n *       data-staticprops=\"${staticProps({\n *           childState1: key,\n *           callBack: () => setState('parentState', key)\n *       })}\"\n *   ></MyComponent>\n * ```\n */\nexport const setStaticProps = (props = {}) => {\n    /**\n     * @type {string}\n     */\n    const id = mobCore.getUnivoqueId();\n    staticPropsMap.set(id, props);\n\n    return id;\n};\n\n/**\n * @property {string} id\n *\n * @return {object}\n *\n * @description\n * Return props by id\n */\nexport const getPropsFromParent = (id = '') => {\n    const props = staticPropsMap.get(id);\n    staticPropsMap.delete(id);\n\n    return props ?? {};\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.propsId\n * @return void\n *\n * @description\n * If slot is not used remove id reference orphans from store.\n *\n */\nexport const removeCurrentToPropsByPropsId = ({ propsId }) => {\n    if (!propsId) return;\n    staticPropsMap.delete(propsId);\n};\n\n/**\n * @return void\n *\n * @description\n * Delete all refs of props.\n * If slot in unused and a propsFromStore is unused remain in store\n * So when active parser counter is equal 0 ( no parser is running )\n * remove all reference\n */\nexport const removeOrphansPropsFromParent = () => {\n    staticPropsMap.clear();\n};\n", "// @ts-check\n\n/**\n * @param {object} obj\n * @param {{bind:Array<string>, props: Function}|undefined} obj.dynamicProps\n * @param {string|undefined} obj.stateToWatch\n * @returns {{bind:Array<string>, props: function}|undefined}\n *\n * @description\n * Remove watch state from bind.\n */\nexport const removeWatchFromDynamicProps = ({ dynamicProps, stateToWatch }) => {\n    if (!dynamicProps || !('bind' in dynamicProps) || !stateToWatch)\n        return dynamicProps;\n\n    const { bind } = dynamicProps;\n    const newBind = bind.filter(\n        (/** @type{string} */ state) => state !== stateToWatch\n    );\n\n    return { ...dynamicProps, bind: newBind };\n};\n\nexport const renderHtml = String.raw;\n", "//@ts-check\n\nimport { ATTR_REPEATID } from '../constant';\n\nexport const defineRepeaterComponent = () => {\n    customElements.define(\n        'mobjs-repeater',\n        class extends HTMLElement {\n            /**\n             * @type {string|undefined|null}\n             */\n            #repeatId;\n\n            constructor() {\n                super();\n                this.attachShadow({ mode: 'open' });\n                this.#repeatId = '';\n                this.isRepeaterPlaceholder = true;\n\n                // @ts-ignore\n                const { dataset } = this.shadowRoot?.host ?? {};\n\n                if (dataset) {\n                    this.#repeatId =\n                        this.shadowRoot?.host.getAttribute(ATTR_REPEATID);\n                }\n            }\n\n            removeCustomComponent() {\n                if (!this.shadowRoot) return;\n\n                // eslint-disable-next-line unicorn/prefer-dom-node-remove\n                this.parentElement?.removeChild(this);\n            }\n\n            getRepeatId() {\n                return this.#repeatId;\n            }\n        }\n    );\n};\n", "//@ts-check\n\nimport { ATTR_COMPONENT_NAME, ATTR_DYNAMIC, ATTR_PROPS } from '../constant';\n\nexport const defineSlotComponent = () => {\n    customElements.define(\n        'mobjs-slot',\n        class extends HTMLElement {\n            /**\n             * @type {string|undefined|null}\n             */\n            #slotName;\n\n            /**\n             * @type {string|undefined|null}\n             */\n            #staticProps;\n\n            /**\n             * @type {string|undefined|null}\n             */\n            #dynamicProps;\n\n            constructor() {\n                super();\n                this.attachShadow({ mode: 'open' });\n                this.#slotName = '';\n                this.isSlot = true;\n\n                // @ts-ignore\n                const { dataset } = this.shadowRoot?.host ?? {};\n\n                if (dataset) {\n                    this.#slotName =\n                        this.shadowRoot?.host.getAttribute(ATTR_COMPONENT_NAME);\n                    this.#staticProps =\n                        this.shadowRoot?.host.getAttribute(ATTR_PROPS);\n                    this.#dynamicProps =\n                        this.shadowRoot?.host.getAttribute(ATTR_DYNAMIC);\n                }\n            }\n\n            removeCustomComponent() {\n                if (!this.shadowRoot) return;\n\n                // eslint-disable-next-line unicorn/prefer-dom-node-remove\n                this.parentElement?.removeChild(this);\n            }\n\n            getSlotName() {\n                return this.#slotName;\n            }\n\n            getStaticProps() {\n                return this.#staticProps;\n            }\n\n            getDynamicProps() {\n                return this.#dynamicProps;\n            }\n        }\n    );\n};\n", "//@ts-check\n\nimport { mobCore } from '../../mobCore';\nimport {\n    ATTR_BIND_EVENTS,\n    ATTR_CHILD_REPEATID,\n    ATTR_CURRENT_LIST_VALUE,\n    ATTR_DYNAMIC,\n    ATTR_INSTANCENAME,\n    ATTR_KEY,\n    ATTR_PARENT_ID,\n    ATTR_PROPS,\n    ATTR_REPEATER_CONTEXT,\n    ATTR_REPEATER_PROP_BIND,\n    ATTR_SLOT,\n    ATTR_WEAK_BIND_EVENTS,\n} from '../constant';\n\n/**\n * @param {{[key:string]:import('../mainStore/type').componentListMapType}} componentList\n */\nexport const defineUserComponent = (componentList) => {\n    Object.entries(componentList).forEach(([key, value]) => {\n        const {\n            constructorCallback: _constructorCallback,\n            connectedCallback: _connectedCallBack,\n            disconnectedCallback: _disconnectedCallback,\n            adoptedCallback: _adoptedCallback,\n            attributeChangedCallback: _attributeChangedCallback,\n            style,\n            attributeToObserve,\n        } = value.componentParams;\n\n        customElements.define(\n            key,\n            class extends HTMLElement {\n                /**\n                 * @type {string}\n                 */\n                #componentname;\n\n                /**\n                 * @type {string}\n                 */\n                #componentId;\n\n                /**\n                 * @type {(prop: string) => void}\n                 */\n                #emit;\n\n                /**\n                 * @type {(prop: string) => Promise<{ success: boolean }>}\n                 */\n                #emitAsync;\n\n                /**\n                 * @type {(prop: string) => void}\n                 */\n                #freezeProp;\n\n                /**\n                 * @type {(componentName: string) => Array<string>}\n                 */\n                #getChildren;\n\n                /**\n                 * @type {() => string|undefined}\n                 */\n                #getParentId;\n\n                /**\n                 * @type {(arg0: string) => any}\n                 */\n                #getState;\n\n                /**\n                 * @type {() => void}\n                 */\n                #remove;\n\n                /**\n                 * @type {( prop: string, newValue: any, fireCallback?: boolean, clone?: boolean ) => void}\n                 */\n                #setState;\n\n                /**\n                 * @type {(arg0: { id: string }) => void}\n                 */\n                #unBind;\n\n                /**\n                 * @type {(prop: string) => void}\n                 */\n                #unFreezeProp;\n\n                /**\n                 * @type {(prop: string, callback: () => void) => void}\n                 */\n                #watch;\n\n                /**\n                 * @type {(prop: string, callback: () => void) => void}\n                 */\n                #watchSync;\n\n                /**\n                 * @type {(prop: string, callback: () => void) => void}\n                 */\n                #watchParent;\n\n                /**\n                 * @type {boolean}\n                 */\n                #isPlaceholder;\n\n                /**\n                 * @type {string|undefined|null}\n                 */\n                #name;\n\n                /**\n                 * @type {string|undefined|null}\n                 */\n                #staticPropsId;\n\n                /**\n                 * @type {string|undefined|null}\n                 */\n                #dynamicPropsId;\n\n                /**\n                 * @type {string|undefined|null}\n                 */\n                #bindEventsId;\n\n                /**\n                 * @type {string}\n                 */\n                #dynamicPropsFromSlotId;\n\n                /**\n                 * @type {string}\n                 */\n                #propsFromSlotId;\n\n                /**\n                 * @type {string|undefined|null}\n                 */\n                #currentRepeatValueId;\n\n                /**\n                 * @type {string|undefined|null}\n                 */\n                #slotPosition;\n\n                /**\n                 * @type {string|undefined|null}\n                 */\n                #currentKey;\n\n                /**\n                 * @type {string}\n                 */\n                #parentId;\n\n                /**\n                 * @type {string|undefined|null}\n                 */\n                #componentRepeatId;\n\n                /**\n                 * @type {string|undefined|null}\n                 */\n                #delegateEventId;\n\n                /**\n                 * @type {string|undefined|null}\n                 */\n                #repeatPropBind;\n\n                /**\n                 * @type {string|undefined|null}\n                 */\n                #repeaterContextId;\n\n                static get observedAttributes() {\n                    return attributeToObserve;\n                }\n\n                constructor() {\n                    super();\n                    this.attachShadow({ mode: 'open' });\n                    this.active = false;\n                    this.#componentId = mobCore.getUnivoqueId();\n                    this.#emit = () => {};\n                    this.#emitAsync = () => Promise.resolve({ success: true });\n                    this.#freezeProp = () => {};\n                    this.#freezeProp = () => {};\n                    this.#getChildren = () => [''];\n                    this.#getParentId = () => '';\n                    this.#getState = () => {};\n                    this.#remove = () => {};\n                    this.#setState = () => {};\n                    this.#unBind = () => {};\n                    this.#unFreezeProp = () => {};\n                    this.#watch = () => {};\n                    this.#watchSync = () => {};\n                    this.#watchParent = () => {};\n                    this.#componentname = key;\n\n                    //\n                    this.#isPlaceholder = true;\n                    this.#name = '';\n                    this.#staticPropsId = '';\n                    this.#dynamicPropsId = '';\n                    this.#bindEventsId = '';\n                    this.#dynamicPropsFromSlotId = '';\n                    this.#propsFromSlotId = '';\n                    this.#currentRepeatValueId = '';\n                    this.#slotPosition = '';\n                    this.#currentKey = '';\n                    this.#parentId = '';\n                    this.#componentRepeatId = '';\n                    this.#repeaterContextId = '';\n\n                    //\n                    this.isUserComponent = true;\n\n                    const host = this.shadowRoot?.host;\n                    if (!host) return;\n\n                    this.#name = host.getAttribute(ATTR_INSTANCENAME);\n                    this.#staticPropsId = host.getAttribute(ATTR_PROPS);\n                    this.#dynamicPropsId = host.getAttribute(ATTR_DYNAMIC);\n                    this.#currentKey = host.getAttribute(ATTR_KEY);\n                    this.#bindEventsId = host.getAttribute(ATTR_BIND_EVENTS);\n                    this.#currentRepeatValueId = host.getAttribute(\n                        ATTR_CURRENT_LIST_VALUE\n                    );\n                    this.#slotPosition = host.getAttribute(ATTR_SLOT);\n                    this.#parentId = host.getAttribute(ATTR_PARENT_ID) ?? '';\n                    this.#componentRepeatId =\n                        host.getAttribute(ATTR_CHILD_REPEATID);\n\n                    this.#delegateEventId = host.getAttribute(\n                        ATTR_WEAK_BIND_EVENTS\n                    );\n\n                    this.#repeatPropBind = host.getAttribute(\n                        ATTR_REPEATER_PROP_BIND\n                    );\n\n                    this.#repeaterContextId = host.getAttribute(\n                        ATTR_REPEATER_CONTEXT\n                    );\n\n                    /**\n                     * Placeholder element that will move to slot.\n                     * Add visibility hidden to avoid visiual jump before and after the sobstituition.\n                     */\n                    if (this.#slotPosition && !this.active) {\n                        this.style.visibility = 'hidden';\n                    }\n\n                    if (!this.shadowRoot) return;\n\n                    if (style) {\n                        const styleTag = document.createElement('style');\n                        styleTag.textContent = style;\n                        this.shadowRoot.append(styleTag);\n                    }\n\n                    /**\n                     * Slot content is accessible by external javascript.\n                     */\n                    const slot = document.createElement('slot');\n                    this.shadowRoot.append(slot);\n\n                    _constructorCallback?.({\n                        context: this,\n                    });\n                }\n\n                getComponentName() {\n                    return this.#componentname;\n                }\n\n                /**\n                 * @param { string } value\n                 */\n                setId(value) {\n                    this.#componentId = value;\n                }\n\n                getId() {\n                    return this.#componentId;\n                }\n\n                getParentId() {\n                    return this.#parentId;\n                }\n\n                /**\n                 * @param { string } id\n                 */\n                setParentId(id) {\n                    this.#parentId = id;\n                }\n\n                getIsPlaceholder() {\n                    return this.#isPlaceholder;\n                }\n\n                getInstanceName() {\n                    return this.#name;\n                }\n\n                getStaticPropsId() {\n                    return this.#staticPropsId;\n                }\n\n                getDynamicPropsid() {\n                    return this.#dynamicPropsId;\n                }\n\n                getBindEventsId() {\n                    return this.#bindEventsId;\n                }\n\n                getCurrentKey() {\n                    return this.#currentKey;\n                }\n\n                /**\n                 * @param {string} value\n                 */\n                setDynamicPropsFromSlotId(value) {\n                    this.#dynamicPropsFromSlotId = value;\n                }\n\n                getDynamicPropsFromSlotId() {\n                    return this.#dynamicPropsFromSlotId;\n                }\n\n                /**\n                 * @param {string} value\n                 */\n                setPropsFromSlotId(value) {\n                    this.#propsFromSlotId = value;\n                }\n\n                getPropsFromSlotId() {\n                    return this.#propsFromSlotId;\n                }\n\n                /**\n                 * @param {any} value\n                 */\n                setRepeatValue(value) {\n                    this.#currentRepeatValueId = value;\n                }\n\n                getRepeatValue() {\n                    return this.#currentRepeatValueId;\n                }\n\n                getSlotPosition() {\n                    return this.#slotPosition;\n                }\n\n                getDelegateEventId() {\n                    return this.#delegateEventId;\n                }\n\n                getRepeaterPropBind() {\n                    return this.#repeatPropBind ?? undefined;\n                }\n\n                /**\n                 * @param {string} value\n                 */\n                setRepeaterPropBind(value) {\n                    this.#repeatPropBind = value;\n                }\n\n                getComponentRepeatId() {\n                    return this.#componentRepeatId;\n                }\n\n                /**\n                 * @param {string} value\n                 */\n                setComponentRepeaterContext(value) {\n                    this.#repeaterContextId = value;\n                }\n\n                getComponentRepeatContext() {\n                    return this.#repeaterContextId ?? undefined;\n                }\n\n                #getData() {\n                    return {\n                        componentId: this.#componentId,\n                        emit: this.#emit,\n                        emitAsync: this.#emitAsync,\n                        freezeProp: this.#freezeProp,\n                        getChildren: this.#getChildren,\n                        getParentId: this.#getParentId,\n                        getState: this.#getState,\n                        remove: this.#remove,\n                        setState: this.#setState,\n                        unBind: this.#unBind,\n                        unFreezeProp: this.#unFreezeProp,\n                        watch: this.#watch,\n                        watchSync: this.#watchSync,\n                        watchParent: this.#watchParent,\n                    };\n                }\n\n                resetData() {\n                    this.active = false;\n                    this.#componentId = '';\n                    this.#emit = () => {};\n                    this.#emitAsync = () => Promise.resolve({ success: true });\n                    this.#freezeProp = () => {};\n                    this.#getChildren = () => [''];\n                    this.#getParentId = () => '';\n                    this.#getState = () => {};\n                    this.#remove = () => {};\n                    this.#setState = () => {};\n                    this.#unBind = () => {};\n                    this.#unFreezeProp = () => {};\n                    this.#watch = () => {};\n                    this.#watchSync = () => {};\n                    this.#watchParent = () => {};\n                }\n\n                /**\n                 * @param {object} data\n                 */\n                inizializeCustomComponent(data) {\n                    if (this.active) return;\n\n                    this.active = true;\n                    this.#componentId = data.id;\n                    this.#emit = data.emit;\n                    this.#emitAsync = data.emitAsync;\n                    this.#freezeProp = data.freezeProp;\n                    this.#getChildren = data.getChildren;\n                    this.#getParentId = data.getParentId;\n                    this.#getState = data.getState;\n                    this.#remove = data.remove;\n                    this.#setState = data.setState;\n                    this.#unBind = data.unBind;\n                    this.#unFreezeProp = data.unFreezeProp;\n                    this.#watch = data.watch;\n                    this.#watchSync = data.watchSync;\n                    this.#watchParent = data.watchParent;\n\n                    _connectedCallBack?.({\n                        context: this,\n                        data: this.#getData(),\n                    });\n\n                    this.#isPlaceholder = false;\n                }\n\n                disconnectedCallback() {\n                    if (!this.shadowRoot || !this.active) return;\n\n                    _disconnectedCallback?.({\n                        context: this,\n                        data: this.#getData(),\n                    });\n\n                    this.resetData();\n                }\n\n                removeCustomComponent() {\n                    if (!this.shadowRoot || !this.active) return;\n\n                    // eslint-disable-next-line unicorn/prefer-dom-node-remove\n                    this.parentElement?.removeChild(this);\n                }\n\n                adoptedCallback() {\n                    if (!this.shadowRoot || !this.active) return;\n\n                    _adoptedCallback?.({\n                        context: this,\n                        data: this.#getData(),\n                    });\n                }\n\n                /**\n                 * @param {string} name\n                 * @param {any} oldValue\n                 * @param {any} newValue\n                 */\n                attributeChangedCallback(name, oldValue, newValue) {\n                    if (!this.shadowRoot || !this.active) return;\n\n                    /**\n                     * Fire custom attribute change ( not id )\n                     */\n                    _attributeChangedCallback?.({\n                        name,\n                        oldValue,\n                        newValue,\n                        context: this,\n                        data: this.#getData(),\n                    });\n                }\n            }\n        );\n    });\n};\n", "// @ts-check\n\nimport { defineRepeaterComponent } from '../webComponent/repeater';\nimport { defineSlotComponent } from '../webComponent/slot';\nimport { defineUserComponent } from '../webComponent/userComponent';\n\n/**\n * @type {{[key:string]:import('./type').componentListMapType}}\n */\nlet componentListMap = {};\n\n/**\n * @type {Set<import('../type').createComponentReturnType>}\n */\nconst availableComponent = new Set();\n\n/**\n * @description\n * Inizalize components\n *\n * @returns void\n */\nexport const setComponentList = () => {\n    componentListMap = [...availableComponent.values()].reduce(\n        (previous, current) => ({ ...previous, ...current }),\n        {}\n    );\n\n    console.log(`component loaded:${Object.keys(componentListMap).length}`);\n\n    /**\n     * Register custom HTML tag component.\n     * Thios custom TAG will be converted in native DOM element during parse.\n     */\n\n    defineUserComponent(componentListMap);\n    defineRepeaterComponent();\n    defineSlotComponent();\n};\n\n/**\n * @description\n *\n * @returns {{[key:string]:import('./type').componentListMapType}}\n */\nexport const getComponentList = () => {\n    return componentListMap;\n};\n\n/**\n * @param {import('../type').createComponentReturnType[]} components\n * @returns {void}\n */\nexport const useComponent = (components) => {\n    components.forEach((component) => {\n        availableComponent.add(component);\n    });\n};\n", "// @ts-check\n\nimport { useComponent } from './mainStore/componentList';\n\nlet defaultComponent = {\n    scoped: false,\n    maxParseIteration: 5000,\n    debug: false,\n};\n\n/**\n * @param {import('./type').defaultComponent} obj\n * @returns {void}\n *\n * @description\n */\nexport const setDefaultComponent = (obj) => {\n    defaultComponent = { ...defaultComponent, ...obj };\n};\n\n/**\n * @returns {import('./type').defaultComponent}\n */\nexport const getDefaultComponent = () => defaultComponent;\n\n/**\n * @param {import('./type').createComponentType} param\n * @returns {import('./type').createComponentReturnType}\n *\n * @description\n * Format component definition in object key: value.\n * name, function, props, state\n */\nexport const createComponent = ({\n    name = '',\n    component = () => '',\n    state = {},\n    exportState = [],\n    scoped,\n    constructorCallback = () => {},\n    connectedCallback = () => {},\n    disconnectedCallback = () => {},\n    adoptedCallback = () => {},\n    attributeToObserve = [],\n    attributeChangedCallback = () => {},\n    style = '',\n    child = [],\n}) => {\n    /**\n     * Load child component.\n     * ( launch createComponent recursvly )\n     */\n    useComponent(child);\n\n    return {\n        [name]: {\n            componentFunction: component,\n            componentParams: {\n                exportState,\n                scoped,\n                state,\n                constructorCallback,\n                connectedCallback,\n                disconnectedCallback,\n                adoptedCallback,\n                attributeToObserve,\n                attributeChangedCallback,\n                style,\n                child,\n            },\n        },\n    };\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport { checkType } from '../../../mobCore/store/classVersion/storeType';\nimport { getRepeaterStateById } from '../../componentStore/action/currentRepeatValue';\n\n/**\n * @type {Map<string,Array<{[key:string]: (arg0: object, arg1: object) => {}}>>}\n */\nexport const bindEventMap = new Map();\n\n/**\n * @param {( import('./type').bindEventsObject|import('./type').bindEventsObject[] )} [ eventsData ]\n * @return {string} props id in store.\n *\n * @description\n * Store props and return a unique identifier\n *\n */\nexport const setBindEvents = (eventsData = []) => {\n    const eventsDataParsed = checkType(Object, eventsData)\n        ? [eventsData]\n        : eventsData;\n\n    /**\n     * @type {string}\n     */\n    const id = mobCore.getUnivoqueId();\n    // @ts-ignore\n    bindEventMap.set(id, eventsDataParsed);\n\n    return id;\n};\n\n/**\n * @param {object} obj\n * @param {HTMLElement|import(\"../../webComponent/type\").userComponent} obj.element\n * @param {string} obj.componentId\n * @param {string} obj.bindEventsId\n * @return {void}\n *\n * @description\n * Store props and return a unique identifier\n *\n */\nexport const applyBindEvents = ({ element, componentId, bindEventsId }) => {\n    const eventArray = bindEventMap.get(bindEventsId);\n    if (!eventArray) return;\n\n    eventArray.forEach((event) => {\n        const [eventName] = Object.keys(event);\n        const [callback] = Object.values(event);\n\n        if (!eventName || !callback) return;\n\n        element.addEventListener(eventName, (e) => {\n            /**\n             * Add current repeate list for dynamic list.\n             */\n            const currentRepeaterState = getRepeaterStateById({\n                id: componentId,\n            });\n\n            callback(e, currentRepeaterState?.index);\n        });\n    });\n\n    /**\n     * Remove props\n     */\n    bindEventMap.delete(bindEventsId);\n};\n\n/**\n * @return void\n *\n * @description\n * Delete all refs of events.\n * If slot in unused and a propsFromStore is unused remain in store\n * So when active parser counter is equal 0 ( no parser is running )\n * remove all reference\n */\nexport const removeOrphansBindEvent = () => {\n    bindEventMap.clear();\n};\n", "// @ts-check\n\nimport { mobCore } from '../../mobCore';\n\n/**\n * @param {object} obj\n * @param {{string: Array.<string>}|{}} obj.currentChild\n * @param {string} obj.id\n * @param {string} obj.componentName\n *\n * @return {{string: Array.<string>}|{}}\n *\n *\n * @description\n * Support getChildrenIdByName action.\n * Update child obj id, insert new child id in the array of same component family.\n *\n * [componentName] : [string, string, ...]\n */\nexport const updateChildrenArray = ({\n    currentChild,\n    id = '',\n    componentName = '',\n}) => {\n    const childGroupByName = currentChild?.[componentName] ?? [];\n    currentChild[componentName] = [...childGroupByName, id];\n    return currentChild;\n};\n\n/**\n * @param {object} obj\n * @param {{string: Array.<string>}|{}} obj.currentChild\n * @param {string} obj.id\n * @param {string} obj.componentName\n *\n * @return {{string: Array.<string>}|{}}\n *\n *\n * @description\n * Support getChildrenIdByName action.\n * Remove child obj id from  the array of same component family.\n *\n */\nexport const removeChildFromChildrenArray = ({\n    currentChild,\n    id = '',\n    componentName = '',\n}) => {\n    const childGroupByName = currentChild?.[componentName] ?? [];\n    currentChild[componentName] = childGroupByName.filter(\n        (/** @type {string} */ currentId) => {\n            return id !== currentId;\n        }\n    );\n    return currentChild;\n};\n\n/**\n * @param {object} obj\n * @param {object} obj.props\n * @param {object} obj.store - SimpleStore instance\n * @returns {object}\n */\nexport const addPropsToState = ({ props, store }) => {\n    Object.entries(props).forEach(([key, value]) => {\n        store.set(key, value);\n    });\n};\n\n/**\n * @description\n *\n * @returns {Promise<void>}\n */\nexport function awaitNextLoop() {\n    return new Promise((resolve) => mobCore.useNextLoop(() => resolve()));\n}\n", "// @ts-check\n\nimport { ATTR_IS_COMPONENT, ATTR_IS_COMPONENT_VALUE } from '../../constant';\nimport { queryAllFutureComponent } from '../../query/queryAllFutureComponent';\nimport { componentMap } from '../store';\nimport { updateChildrenArray } from '../utils';\n\n/**\n * @param {string} id\n * @returns {string|undefined}\n *\n * @description\n * Get parent id By id\n */\nexport const getParentIdById = (id = '') => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const parentId = item?.parentId;\n\n    if (!parentId) {\n        // console.warn(`getParentIdById failed no id found`);\n        return;\n    }\n\n    return parentId;\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.id\n *\n * @description\n * Update child id.\n * From current component id get parentID and then add to parent child id\n */\nexport const addSelfIdToParentComponent = ({ id = '' }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const parentId = item?.parentId;\n\n    const componentName = item?.componentName ?? '';\n    if (!parentId) return;\n\n    const value = componentMap.get(parentId);\n    if (!value) return;\n\n    const { child } = value;\n    if (!child) return;\n\n    componentMap.set(parentId, {\n        ...value,\n        child: {\n            ...child,\n            ...updateChildrenArray({\n                currentChild: child,\n                id,\n                componentName,\n            }),\n        },\n    });\n};\n\n/**\n * @returns void\n *\n * @description\n * Set a reference to parent component id for each component.\n */\nexport const setParentsIdFallback = ({ componentId }) => {\n    const item = componentMap.get(componentId);\n    if (!item) return;\n\n    const { element, parentId } = item;\n\n    /**\n     * Repeater has parentid from placeholder creation.\n     */\n    if (parentId && parentId.length > 0) return;\n\n    /**\n     * TODO: alternative solution for component that is not parsed inside other component\n     * So the non have id added by parent.\n     */\n    const parentNode = /** @type {HTMLElement|undefined} */ (\n        element?.parentNode\n    );\n\n    const parent = /** @type {HTMLElement|undefined} */ (\n        parentNode?.closest(`[${ATTR_IS_COMPONENT}]`)\n    );\n\n    const newItem =\n        parent && (!parentId || parentId === '')\n            ? {\n                  ...item,\n                  parentId: parent?.dataset[ATTR_IS_COMPONENT_VALUE] ?? '',\n              }\n            : item;\n\n    componentMap.set(componentId, newItem);\n};\n\n/**\n * @returns void\n *\n * @description\n * Add self id to future component.\n * If id is assigned to component nested in next cycle will be override.\n */\nexport const addParentIdToFutureComponent = ({ element, id }) => {\n    const children = queryAllFutureComponent(element, false);\n    children.forEach((child) => {\n        child.setParentId(id);\n    });\n};\n", "// @ts-check\n\nimport { componentMap } from '../store';\n\nexport const setDynamicPropsWatch = ({ id = '', unWatchArray = [] }) => {\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    const { parentPropsWatcher } = item;\n    if (!parentPropsWatcher) return;\n\n    componentMap.set(id, {\n        ...item,\n        parentPropsWatcher: [...parentPropsWatcher, ...unWatchArray],\n    });\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.id\n * @return void\n *\n *\n * @description\n * Unbind reactive props from component\n */\nexport const unBind = ({ id = '' }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const parentPropsWatcher = item?.parentPropsWatcher ?? [];\n\n    parentPropsWatcher.forEach((unwatch) => {\n        unwatch();\n    });\n};\n", "// @ts-check\n\nimport { getComponentList } from '../componentList';\n\n/**\n * @param {object} obj\n * @param {string} obj.componentName\n * @param {{string:any}|{}} obj.currentProps\n * @returns {{string:any}|{}}\n */\nexport const filterExportableStateFromObject = ({\n    componentName,\n    currentProps = {},\n}) => {\n    const componentList = getComponentList();\n\n    /**\n     * @type {string[]}\n     */\n    const exportableState =\n        componentList?.[componentName]?.componentParams?.exportState ?? [];\n\n    return Object.entries(currentProps)\n        .filter(([key]) => {\n            return exportableState.includes(key);\n        })\n        .reduce((previous, current) => {\n            const [key, value] = current;\n            return { ...previous, [key]: value };\n        }, {});\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.componentName\n * @param {string} obj.propName\n * @returns {boolean}\n */\nexport const checkIfStateIsExportable = ({ componentName, propName }) => {\n    const componentList = getComponentList();\n\n    const exportableState =\n        componentList?.[componentName]?.componentParams?.exportState ?? [];\n\n    return exportableState.includes(propName);\n};\n", "// @ts-check\n\nimport { componentMap } from '../store';\n\n/**\n * @param {string} id\n *\n * @description\n * get component name By id\n */\nexport const getComponentNameById = (id = '') => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const component = item?.componentName;\n\n    if (!component) {\n        console.warn(`getComponentNameById failed no id found`);\n        return null;\n    }\n\n    return component;\n};\n\n/**\n * @param {string} name\n * @returns {string|undefined}\n *\n * @description\n * Get id by user definition name.\n */\nexport const getIdByInstanceName = (name = '') => {\n    if (!name) return;\n\n    const instance = [...componentMap.values()].find(({ instanceName }) => {\n        return instanceName === name;\n    });\n\n    const id = instance?.id;\n    if (!id) {\n        console.warn(`getIdByName failed no name`);\n        return;\n    }\n\n    return id;\n};\n\n/**\n * @param {string} id\n *\n * @description\n * get component name By id\n */\nexport const componentHasKey = (id = '') => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const key = item?.key;\n\n    if (!key) {\n        return false;\n    }\n\n    return key !== '';\n};\n", "// @ts-check\n\nimport { componentMap } from '../store.js';\n\n/**\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.prop\n * @return { void }\n *\n * @description\n * Update element root from generic to real after conversion.\n */\nexport const freezePropById = ({ id = '', prop }) => {\n    if (!id || id === '') return;\n\n    // - new\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    const { freezedPros } = item;\n    if (!freezedPros) return;\n\n    componentMap.set(id, {\n        ...item,\n        freezedPros: [...freezedPros, prop],\n    });\n};\n\n/**\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.prop\n * @return { void }\n *\n * @description\n * Update element root from generic to real after conversion.\n */\nexport const unFreezePropById = ({ id = '', prop }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    const { freezedPros } = item;\n    if (!freezedPros) return;\n\n    componentMap.set(id, {\n        ...item,\n        freezedPros: freezedPros.filter((currentProp) => currentProp !== prop),\n    });\n};\n\n/**\n *\n * @param {Object} obj\n * @param {string} obj.id\n * @param {string} obj.prop\n * @return { boolean }\n *\n * @description\n * Update element root from generic to real after conversion.\n */\nexport const getFreezePropStatus = ({ id = '', prop }) => {\n    if (!id || id === '') return false;\n\n    const item = componentMap.get(id);\n    const freezedPros = item?.freezedPros;\n    if (!freezedPros) return false;\n\n    return freezedPros.includes(prop);\n};\n", "// @ts-check\n\nimport { checkIfStateIsExportable } from '../../mainStore/actions/exportState';\nimport { componentMap } from '../store';\nimport { getIdByInstanceName } from './component';\nimport { getFreezePropStatus } from './freeze';\n\n/**\n * @param {string} id\n * @return object\n *\n * @description\n * Get state\n */\nexport const getStateById = (id = '') => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const state = item?.state;\n    return state?.get();\n};\n\n/**\n * @param {string} name\n * @return object\n *\n * @description\n * Get state by name\n */\nexport const getStateByName = (name = '') => {\n    const id = getIdByInstanceName(name);\n    if (!id) console.warn(`component ${name}, not found`);\n\n    return getStateById(id);\n};\n\n/**\n * @param {string} id\n * @param {string} prop\n * @param {any} value\n * @param {boolean} fire\n * @returns {void}\n *\n * @description\n * Set state\n */\nexport const setStateById = (id = '', prop = '', value, fire = true) => {\n    if ((!id || id === '') && (!prop || prop === '') && !value) return;\n\n    const isFreezed = getFreezePropStatus({ id, prop });\n    if (isFreezed) {\n        return;\n    }\n\n    const item = componentMap.get(id);\n    const state = item?.state;\n    const componentName = item?.componentName ?? '';\n\n    const stateIsExportable = checkIfStateIsExportable({\n        componentName,\n        propName: prop,\n    });\n\n    if (!stateIsExportable) {\n        console.warn(\n            `setStateById failed ${prop} in: ${componentName} is not exportable, maybe a slot bind state that not exist here?`\n        );\n        return null;\n    }\n\n    if (!state) {\n        console.warn(`setStateById failed no id found on prop: ${prop}`);\n        return null;\n    }\n\n    state.set(prop, value, fire);\n};\n\n/**\n * @param {string} name\n * @returns {(prop:string, value:any, fire:(boolean|undefined)) => void}\n *\n * @description\n * Set state\n */\nexport const setStateByName = (name = '') => {\n    const id = getIdByInstanceName(name);\n    if (!id) console.warn(`component ${name}, not found`);\n\n    return (prop, value, fire) => setStateById(id, prop, value, fire);\n};\n", "// @ts-check\n\nimport { componentMap } from '../store';\n\n/**\n * @param {string} id\n * @param {string} prop\n * @param {(arg0: any) => void} cb\n * @returns {(( function():void )|undefined)}\n *\n * @description\n * Watch state\n */\nexport const watchById = (id = '', prop = '', cb = () => {}) => {\n    if ((!id || id === '') && (!prop || prop === '')) return;\n    const item = componentMap.get(id);\n    const state = item?.state;\n\n    return state?.watch(prop, cb);\n};\n", "// @ts-check\n\nimport { mobCore } from '../../mobCore';\nimport { awaitNextLoop } from './utils';\n\n/**\n * @type {Map<string,string>}\n */\nconst queque = new Map();\n\n/**\n * Limit queque size.\n * Prevent possible side effect\n */\nconst maxQueuqueSize = 1000;\n\n/**\n * @param {any} props\n * @returns {() => void}\n */\nexport const incrementTickQueuque = (props) => {\n    if (queque.size >= maxQueuqueSize) {\n        console.warn(`maximum loop event reached: (${maxQueuqueSize})`);\n\n        return () => {};\n    }\n\n    const id = mobCore.getUnivoqueId();\n    queque.set(id, props);\n\n    return () => queque.delete(id);\n};\n\n/**\n * @description\n *\n * @returns {boolean}\n */\nconst queueIsResolved = () => {\n    return queque.size === 0 || queque.size >= maxQueuqueSize;\n};\n\n/**\n * @description\n * Await that all bind props is completed\n *\n * @param {object} params\n * @param {boolean} [ params.debug ]\n * @param {(value: void | PromiseLike<void>) => void} [ params.previousResolve ]\n * @returns {Promise<void>}\n */\nexport const tick = async ({ debug = false, previousResolve } = {}) => {\n    await awaitNextLoop();\n\n    if (debug) {\n        queque.forEach((value) => {\n            console.log(value);\n        });\n    }\n\n    if (queueIsResolved() && previousResolve) {\n        previousResolve();\n        return;\n    }\n\n    return new Promise((resolve) => {\n        if (queueIsResolved()) {\n            resolve();\n            return;\n        }\n\n        tick({ debug, previousResolve: previousResolve ?? resolve });\n    });\n};\n", "// @ts-check\n\nimport { mobCore } from '../../mobCore';\nimport { awaitNextLoop } from './utils';\n\n/**\n * @type {Map<string,string>}\n */\nconst repeaterQueque = new Map();\n\n/**\n * @returns {boolean}\n */\nexport const repeaterQuequeIsEmpty = () => repeaterQueque.size === 0;\n\n/**\n * Limit queque size.\n * Prevent possible side effect\n */\nconst maxQueuqueSize = 1000;\n\n/**\n * @param {any} props\n * @returns {() => void}\n */\nexport const incrementRepeaterTickQueuque = (props) => {\n    if (repeaterQueque.size >= maxQueuqueSize) {\n        console.warn(`maximum loop event reached: (${maxQueuqueSize})`);\n\n        return () => {};\n    }\n\n    const id = mobCore.getUnivoqueId();\n    repeaterQueque.set(id, props);\n\n    return () => repeaterQueque.delete(id);\n};\n\n/**\n * @description\n *\n * @returns {boolean}\n */\nconst queueIsResolved = () => {\n    return repeaterQueque.size === 0 || repeaterQueque.size >= maxQueuqueSize;\n};\n\n/**\n * @description\n * Await that all bind props is completed\n *\n * @param {object} params\n * @param {boolean} [ params.debug ]\n * @param {(value: void | PromiseLike<void>) => void} [ params.previousResolve ]\n * @returns {Promise<void>}\n */\nexport const repeaterTick = async ({ debug = false, previousResolve } = {}) => {\n    await awaitNextLoop();\n\n    if (debug) {\n        repeaterQueque.forEach((value) => {\n            console.log(value);\n        });\n    }\n\n    if (queueIsResolved() && previousResolve) {\n        previousResolve();\n        return;\n    }\n\n    return new Promise((resolve) => {\n        if (queueIsResolved()) {\n            resolve();\n            return;\n        }\n\n        repeaterTick({ debug, previousResolve: previousResolve ?? resolve });\n    });\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport { getRepeaterStateById } from '../../componentStore/action/currentRepeatValue';\nimport { getParentIdById } from '../../componentStore/action/parent';\nimport { setDynamicPropsWatch } from '../../componentStore/action/props';\nimport { getStateById, setStateById } from '../../componentStore/action/state';\nimport { watchById } from '../../componentStore/action/watch';\nimport { incrementTickQueuque } from '../../componentStore/tick';\nimport { componentMap } from '../../componentStore/store';\nimport { QUEQUE_TYPE_BINDPROPS } from '../../constant';\nimport {\n    repeaterQuequeIsEmpty,\n    repeaterTick,\n} from '../../componentStore/tickRepeater';\nimport { componentHasKey } from '../../componentStore/action/component';\n\n/**\n * @type {Map<string,{'bind':Array<string>,'parentId':string|undefined,'componentId':string,'propsId':string,'props':object}>}\n */\nexport const dynamicPropsMap = new Map();\n\n/**\n * @param {{bind?:string[],parentId:string|undefined,props:{[key:string]: any}, forceParent? :boolean}} propsObj\n * @return {string|undefined} props id in store.\n *\n * @description\n * Store props and return a unique identifier\n *\n * @example\n * ```javascript\n *   <MyComponent\n *       data-bindprops=\"${bindProps({\n *           bind: ['state1', 'state1'],\n *           props: ({ state1, state2 }) => {\n *               return {\n *                   childState1: state1,\n *                   childState2: state2\n *               };\n *           },\n *       })}\"\n *   ></MyComponent>\n * ```\n */\nexport const setBindProps = (propsObj) => {\n    const propsIsValid = 'props' in propsObj;\n\n    const propsObjUpdates =\n        'bind' in propsObj ? propsObj : { ...propsObj, bind: [] };\n\n    if (!propsIsValid) {\n        console.warn(`bindProps not valid`);\n        return;\n    }\n\n    /**\n     * @type {string}\n     */\n    const id = mobCore.getUnivoqueId();\n    // @ts-ignore\n    dynamicPropsMap.set(id, {\n        ...propsObjUpdates,\n        componentId: '',\n        propsId: id,\n    });\n\n    return id;\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.componentId\n * @param {Array<string>} obj.bind\n * @param {(args0: object, index: number ) => object} obj.props\n * @param {string} obj.currentParentId\n * @param {boolean} obj.fireCallback\n * @return void\n *\n * @description\n * Store props and return a unique identifier\n *\n */\nconst setDynamicProp = ({\n    componentId,\n    bind,\n    props,\n    currentParentId,\n    fireCallback,\n}) => {\n    if (!currentParentId) return;\n\n    /**\n     * Check id all bind props exist in parent state.\n     */\n    const parentState = getStateById(currentParentId);\n    if (!parentState) return;\n\n    const parentStateKeys = Object.keys(parentState);\n    const bindArrayIsValid = bind.every((state) =>\n        parentStateKeys.includes(state)\n    );\n\n    if (!bindArrayIsValid) {\n        console.warn(\n            `bind props error: Some prop ${JSON.stringify(bind)} doesn't exist`\n        );\n    }\n\n    /*\n     * Use this to filter parent props that match with nind array\n     * Use instead parentState in newProps initialize.\n     *  It is more useful pass all parent state instead prop definited in bind array\n     *\n    const values = bind\n        .map((currentState) => {\n            return {\n                [currentState]: parentState[currentState],\n            };\n        })\n        .reduce((previous, current) => ({ ...previous, ...current }), {});\n    */\n\n    /**\n     * If element is deleted from list don't update state.\n     */\n    const componentExist = componentMap.has(componentId);\n    if (!componentExist) return;\n\n    const currentRepeaterState = getRepeaterStateById({\n        id: componentId,\n    });\n\n    const newProps = props?.(parentState, currentRepeaterState?.index);\n\n    if (!newProps) return;\n\n    Object.entries(newProps).forEach(([key, value]) => {\n        setStateById(componentId, key, value, fireCallback);\n    });\n};\n\n/**\n * @param {object} obj\n * @param {string|undefined} obj.propsId\n * @param {string|undefined} [ obj.repeatPropBind ]\n * @param {string} obj.componentId\n * @return void\n *\n * @description\n * Add componentId to dynamic props stored and initialize them.\n *\n */\nexport const addCurrentIdToDynamicProps = ({\n    propsId,\n    repeatPropBind,\n    componentId,\n}) => {\n    if (!propsId) return;\n\n    for (const [key, value] of dynamicPropsMap) {\n        if (key === propsId) {\n            dynamicPropsMap.set(key, { ...value, componentId });\n        }\n    }\n\n    applyDynamicProps({\n        componentId,\n        repeatPropBind,\n        inizilizeWatcher: false,\n    });\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.componentId\n * @return void\n *\n * @description\n * Remove dynamic prop reference by componentId.\n *\n */\nexport const removeCurrentIdToDynamicProps = ({ componentId }) => {\n    if (!componentId) return;\n\n    for (const [key, value] of dynamicPropsMap) {\n        const { componentId: currentComponentId } = value;\n        if (currentComponentId === componentId) {\n            dynamicPropsMap.delete(key);\n        }\n    }\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.propsId\n * @return void\n *\n * @description\n * If slot is not used remove id reference orphans from store.\n *\n */\nexport const removeCurrentToDynamicPropsByPropsId = ({ propsId }) => {\n    if (!propsId) return;\n\n    dynamicPropsMap.delete(propsId);\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.componentId\n * @param {string|undefined} [ obj.repeatPropBind ]\n * @param {boolean} obj.inizilizeWatcher\n * @return void\n *\n * @description\n * Update component state, if inizilizeWatcher === true\n * add watcher to parent ( or specific component ) state.\n *\n */\nexport const applyDynamicProps = async ({\n    componentId,\n    repeatPropBind,\n    inizilizeWatcher,\n}) => {\n    /**\n     *\n     * @description\n     * Get dynamic prop by component.\n     * Dynamic props can arrive from component || slot.\n     */\n    const dynamicPropsFilteredArray = [...dynamicPropsMap.values()].filter(\n        (item) => {\n            const currentComponentId = item?.componentId;\n            return currentComponentId === componentId;\n        }\n    );\n\n    /**\n     * If not return.\n     */\n    if (!dynamicPropsFilteredArray) return;\n\n    /**\n     * Cycle dynamicProps from component or from slot.\n     */\n    for (const dynamicpropsfiltered of dynamicPropsFilteredArray) {\n        const { bind, props, parentId } = dynamicpropsfiltered;\n\n        /**\n         * Merge watch state inside a repeater with bind array.\n         */\n        const bindUpdated =\n            repeatPropBind?.length > 0 && !bind.includes(repeatPropBind)\n                ? [...bind, repeatPropBind]\n                : [...bind];\n\n        /**\n         * Force parent id or get the natually parent id.\n         */\n        const currentParentId = parentId ?? getParentIdById(componentId);\n\n        /**\n         * Component inside a repeater has unique key\n         */\n        const hasKey = componentHasKey(componentId);\n\n        /**\n         * Normally props is initialized after repeater\n         * So on created we doesn't have the props ready\n         * Fire setDynamicProp once before repeater tick to\n         * add value in store and use it onCreated\n         *\n         * The values calculated here can refer to the previous\n         * state of the store, in the next step after the repeaters\n         * have been executed it will be updated with the latest\n         * state of the store.\n         * TODO: figure out how to avoid double passage\n         */\n        if (!inizilizeWatcher) {\n            setDynamicProp({\n                componentId,\n                bind: bindUpdated,\n                props,\n                currentParentId: currentParentId ?? '',\n                fireCallback: true,\n            });\n\n            if (!hasKey) return;\n        }\n\n        /**\n         * If repeater is running, update\n         * After repeater is end the state observer can change if key is used\n         * Ic case of not univoque element some item can be deleted from wtached satate.\n         * So update props.\n         */\n        if (!inizilizeWatcher && !repeaterQuequeIsEmpty() && hasKey) {\n            /**\n             * Initialize props after repater\n             * So we have the last value of currentValue && index\n             */\n            await repeaterTick();\n\n            /**\n             * Refresh state after repater created\n             */\n            setDynamicProp({\n                componentId,\n                bind: bindUpdated,\n                props,\n                currentParentId: currentParentId ?? '',\n                fireCallback: true,\n            });\n\n            return;\n        }\n\n        /**\n         * Watch props on change\n         */\n        let watchIsRunning = false;\n\n        const unWatchArray = bindUpdated.map((/** @type{string} */ state) => {\n            return watchById(currentParentId, state, async () => {\n                /**\n                 * Fire bindProps at least.\n                 */\n                await repeaterTick();\n\n                /**\n                 * Wait for all all props is settled.\n                 */\n                if (watchIsRunning) return;\n\n                /**\n                 * Add watcher to active queuqe operation.\n                 */\n                const decrementQueue = incrementTickQueuque({\n                    state,\n                    id: componentId,\n                    type: QUEQUE_TYPE_BINDPROPS,\n                });\n\n                /**\n                 * Fire watch only once if multiple props change.\n                 * Wait the end of current block.\n                 */\n                watchIsRunning = true;\n                mobCore.useNextLoop(() => {\n                    setDynamicProp({\n                        componentId,\n                        bind: bindUpdated,\n                        props,\n                        currentParentId: currentParentId ?? '',\n                        fireCallback: true,\n                    });\n\n                    watchIsRunning = false;\n\n                    /**\n                     * Remove watcher to active queuqe operation.\n                     */\n                    decrementQueue();\n                });\n            });\n        });\n\n        /**\n         * Add unwatch function to store.\n         * So we lounch them on destroy.\n         */\n        setDynamicPropsWatch({ id: componentId, unWatchArray });\n\n        /**\n         * Remove current dynamic prop from store.\n         */\n    }\n\n    /**\n     * If all watcher ( from component or from slot ) is initialized deleter all reference from store\n     */\n    if (!inizilizeWatcher) return;\n\n    for (const [key, value] of dynamicPropsMap) {\n        const { componentId: currentComponentId } = value;\n        if (currentComponentId === componentId) {\n            dynamicPropsMap.delete(key);\n        }\n    }\n};\n\n/**\n * @return void\n *\n * @description\n * Delete all refs of events.\n * If slot in unused and a propsFromStore is unused remain in store\n * So when active parser counter is equal 0 ( no parser is running )\n * remove all reference\n */\nexport const removeOrphansDynamicProps = () => {\n    dynamicPropsMap.clear();\n};\n", "//@ts-check\n\n/**\n */\nexport const repeaterTargetComponentMap = new Map();\n\n/**\n * @param {object} mainObject\n * @param {string} mainObject.repeatId\n * @param {string} mainObject.repeaterParentId\n * @param {string} mainObject.targetComponent\n *\n * @description\n * Add repeater target component.\n * When placeholder is created if has a repeaterId send information here.\n * So watchRepeater when react get the right target component.\n * All information is detected in constructor of userWebcomponent.\n *\n * - Information arrive from sync prop in repeater.\n * - Assume sync porp is used by the first depth compoenentr,\n *   so we detect the right component recative to repeater..\n * - RepeaterParentIs is used to clean map when parent is destroyed\n *\n * !Important.\n * A placeholder will become a component of the same type\n * ( eg. card-item will be a card-item )\n * But the component is recreated so id instance is different.\n * We can only get the type of component, not the specific instance id.\n */\nexport const addRepeatTargetComponent = ({\n    repeatId,\n    repeaterParentId,\n    targetComponent,\n}) => {\n    if (repeaterTargetComponentMap.has(repeatId)) return;\n\n    repeaterTargetComponentMap.set(repeatId, {\n        repeatId,\n        repeaterParentId,\n        targetComponent,\n    });\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.id\n * @return void\n *\n *\n * @description\n * Get targetComponent by repeaterId.\n */\nexport const getRepeaterComponentTarget = ({ id }) => {\n    const item = repeaterTargetComponentMap.get(id);\n    if (!item) return;\n\n    return item?.targetComponent;\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.id\n * @return void\n *\n *\n * @description\n * Remove targetComponent reference from Map when parent is destroyed.\n */\nexport const removeRepeaterComponentTargetByParentId = ({ id }) => {\n    for (const [key, value] of repeaterTargetComponentMap) {\n        const { repeaterParentId } = value;\n\n        if (repeaterParentId === id) {\n            repeaterTargetComponentMap.delete(key);\n        }\n    }\n};\n", "// @ts-check\n\nimport { removeOrphansBindEvent } from '../../temporaryData/bindEvents';\nimport {\n    removeCurrentIdToDynamicProps,\n    removeOrphansDynamicProps,\n} from '../../temporaryData/dynamicProps';\nimport { removeRepeaterComponentTargetByParentId } from '../../temporaryData/repeaterTargetComponent';\nimport { removeOrphansPropsFromParent } from '../../temporaryData/staticProps';\nimport { componentMap } from '../store';\nimport { removeChildFromChildrenArray } from '../utils';\n\n/**\n * @param {Object} param\n * @param {string|undefined} param.id\n * @param {string|undefined} param.parentId\n * @param {string} param.componentName\n */\nconst removeItselfFromParent = ({ id, parentId, componentName }) => {\n    if (!id) return;\n\n    const value = componentMap.get(parentId ?? '');\n    if (!value) return;\n\n    const { child } = value;\n    if (!parentId || !child) return;\n\n    componentMap.set(parentId, {\n        ...value,\n\n        child: {\n            ...child,\n            ...removeChildFromChildrenArray({\n                currentChild: child,\n                id,\n                componentName,\n            }),\n        },\n    });\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.id\n * @return void\n *\n *\n * @description\n * Remove component to store and destroy it.\n */\nexport const removeAndDestroyById = ({ id = '' }) => {\n    if (!id || id === '') return;\n\n    const instanceValue = componentMap.get(id);\n    if (!instanceValue) return;\n\n    const {\n        parentId,\n        componentName,\n        child,\n        element,\n        state,\n        destroy,\n        parentPropsWatcher,\n    } = instanceValue;\n\n    /**\n     * Destroy children.\n     */\n    Object.values(child ?? {})\n        .flat()\n        .forEach((childId) => {\n            removeAndDestroyById({ id: childId });\n        });\n\n    /**\n     * Remove itself from parent.\n     */\n    removeItselfFromParent({ id, parentId, componentName });\n\n    /**\n     * Destroy\n     */\n    destroy?.();\n    state.destroy();\n\n    if (parentPropsWatcher) parentPropsWatcher.forEach((unwatch) => unwatch());\n    removeRepeaterComponentTargetByParentId({ id });\n\n    /**\n     * Secure check: remove orphas reference from mainStore\n     */\n    removeCurrentIdToDynamicProps({ componentId: id });\n    componentMap.delete(id);\n\n    /**\n     * Remove component from dom\n     */\n    // @ts-ignore\n    element?.removeCustomComponent?.();\n    element?.remove();\n};\n\n/**\n * @param {Object} param\n * @param {string} param.id\n * @param {HTMLElement} param.container\n * @returns void\n *\n * @description\n * Remove all children od component inside a specific Node.\n */\nexport const destroyComponentInsideNodeById = ({ id, container }) => {\n    const instanceValue = componentMap.get(id);\n    const child = instanceValue?.child;\n    if (!child) return;\n\n    const allChild = Object.values(child ?? {}).flat();\n\n    allChild.forEach((id) => {\n        const state = componentMap.get(id);\n        const element = state?.element;\n\n        if (element && container.contains(element)) {\n            removeAndDestroyById({ id });\n        }\n    });\n};\n\n/**\n * @returns void\n *\n * @description\n * Remove non persistent component from store.\n * ( all component without element defined in wrapper ).\n */\nexport const removeCancellableComponent = () => {\n    const cancellableComponents2 = [...componentMap.values()].filter(\n        ({ isCancellable }) => isCancellable\n    );\n\n    cancellableComponents2.forEach(({ id }) => removeAndDestroyById({ id }));\n};\n\n/**\n * @returns void\n *\n * @description\n * Remove orphan omponent from store.\n * Secure check.\n */\nexport const removeOrphanComponent = () => {\n    const orphans = [...componentMap.values()].filter(\n        ({ element, isCancellable }) =>\n            isCancellable && !document.body.contains(element)\n    );\n\n    orphans.forEach(({ id }) => removeAndDestroyById({ id }));\n\n    /**\n     * Remove props reference.\n     * Async loading and interrupt can leave rubbish.\n     */\n    removeOrphansPropsFromParent();\n    removeOrphansBindEvent();\n    removeOrphansDynamicProps();\n};\n\n/**\n * @param {object} obj\n * @param {object} [ obj.cb ] destroy callback function\n * @param {object} [ obj.id ] component id\n *\n * @description\n * Update deestroy call back by id.\n */\nexport const setDestroyCallback = ({ cb = () => {}, id = null }) => {\n    if (!id) return;\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    componentMap.set(id, { ...item, destroy: cb });\n};\n", "export const MAIN_STORE_ACTIVE_ROUTE = 'activeRoute';\nexport const MAIN_STORE_ACTIVE_PARAMS = 'activeParams';\nexport const MAIN_STORE_BEFORE_ROUTE_LEAVES = 'beforeRouteLeave';\nexport const MAIN_STORE_BEFORE_ROUTE_CHANGE = 'beforeRouteChange';\nexport const MAIN_STORE_AFTER_ROUTE_CHANGE = 'afterRouteChange';\nexport const MAIN_STORE_ROUTE_IS_LOADING = 'routeIsLoading';\nexport const MAIN_STORE_REPEATER_PARSER_ROOT = 'repeaterParserRoot';\n", "// @ts-check\n\nimport { mobCore } from '../../mobCore';\nimport {\n    MAIN_STORE_ACTIVE_PARAMS,\n    MAIN_STORE_ACTIVE_ROUTE,\n    MAIN_STORE_AFTER_ROUTE_CHANGE,\n    MAIN_STORE_BEFORE_ROUTE_CHANGE,\n    MAIN_STORE_BEFORE_ROUTE_LEAVES,\n    MAIN_STORE_REPEATER_PARSER_ROOT,\n    MAIN_STORE_ROUTE_IS_LOADING,\n} from './constant';\n\n/**\n * @type {import('../../mobCore/store/type').mobStore<import('./type').MainStore>}\n */\nexport const mainStore = mobCore.createStore({\n    [MAIN_STORE_ACTIVE_ROUTE]: () => ({\n        value: '',\n        type: String,\n        skipEqual: false,\n    }),\n    [MAIN_STORE_ACTIVE_PARAMS]: () => ({\n        value: {},\n        type: 'any',\n        skipEqual: false,\n    }),\n    [MAIN_STORE_BEFORE_ROUTE_LEAVES]: () => ({\n        value: '',\n        type: String,\n        skipEqual: false,\n    }),\n    [MAIN_STORE_BEFORE_ROUTE_CHANGE]: () => ({\n        value: '',\n        type: String,\n        skipEqual: false,\n    }),\n    [MAIN_STORE_AFTER_ROUTE_CHANGE]: () => ({\n        value: '',\n        type: String,\n        skipEqual: false,\n    }),\n    [MAIN_STORE_ROUTE_IS_LOADING]: () => ({\n        value: false,\n        type: Boolean,\n    }),\n    [MAIN_STORE_REPEATER_PARSER_ROOT]: {\n        element: () => ({\n            value: document.createElement('div'),\n            type: HTMLElement,\n            skipEqual: false,\n        }),\n        parentId: () => ({\n            value: '',\n            type: String,\n            skipEqual: false,\n        }),\n    },\n});\n", "export const HISTORY_BACK = 'BACK';\nexport const HISTORY_NEXT = 'NEXT';\n", "import { HISTORY_BACK } from './constant';\n\n/**\n * @type {import('./type').historyType[]}\n */\nconst historyBack = [];\n\n/**\n * @type {import('./type').historyType[]}\n */\nlet historyNext = [];\n\n/**\n * @returns {void}\n */\nconst deleteLastHistoryBack = () => {\n    const arrayLenght = historyBack.length;\n    if (arrayLenght >= 1) historyBack.length = historyBack.length - 1;\n};\n\n/**\n * @returns {void}\n */\nconst deleteLastHistoryNext = () => {\n    const arrayLenght = historyNext.length;\n    if (arrayLenght >= 1) historyNext.length = historyNext.length - 1;\n};\n\n/**\n * @param {import('./type').historyType} value\n * @returns {void}\n */\nexport const setHistoryBack = (value) => {\n    historyBack.push(value);\n};\n\n/**\n * @param {import('./type').historyType} value\n * @returns {void}\n */\nexport const setHistoryNext = (value) => {\n    historyNext.push(value);\n};\n\n/**\n * @returns {void}\n */\nexport const resetNext = () => {\n    historyNext = [];\n};\n\n/**\n * @returns {number}\n */\nexport const historyBackSize = () => {\n    return historyBack.length;\n};\n\n/**\n * @returns {import('./type').historyType}\n */\nconst getLastHistoryBack = () => {\n    const value = historyBack.at(-1);\n    deleteLastHistoryBack();\n    return value;\n};\n\n/**\n * @returns {import('./type').historyType}\n */\nconst getPenultimateHistoryNext = () => {\n    const value = historyNext.at(-2);\n    deleteLastHistoryNext();\n    return value;\n};\n\nexport const getLastHistoryNext = () => {\n    const value = historyNext.at(-1);\n    return value;\n};\n\n/**\n * @param {string} direction\n * @returns {import('./type').historyType}\n */\nexport const getLastHistory = (direction) => {\n    if (direction === HISTORY_BACK) {\n        return getLastHistoryBack();\n    }\n\n    return getPenultimateHistoryNext();\n};\n", "// @ts-check\n\n/**\n * @type {import(\"../type\").routeType[]}\n */\nlet routeList = [];\n\n/**\n * @type {string}\n */\nlet indexPage = '';\n\n/**\n * @type {string}\n */\nlet pageNotFound = '';\n\n/**\n * @param {import(\"../type\").routeType[]} list\n * @returns void\n *\n * @description\n * Add route list to store.\n */\nexport const setRouteList = (list) => {\n    routeList = [...list];\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.routeName\n * @return {import(\"../type\").routeType}\n *\n * @description\n * Get route list to store.\n */\nexport const getRouteByName = ({ routeName = '' }) => {\n    return routeList.find(({ name }) => routeName === name);\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.routeName\n * @returns void\n *\n * @description\n * Set index route.\n */\nexport const setIndex = ({ routeName = '' }) => {\n    indexPage = routeName;\n};\n\n/**\n * @returns  string\n *\n * @description\n * Get index route.\n */\nexport const getIndex = () => indexPage;\n\n/**\n * @param {object} obj\n * @param {string} obj.routeName\n * @returns void\n *\n * @description\n * Set pageNotFound route.\n */\nexport const setPageNotFound = ({ routeName = '' }) => {\n    pageNotFound = routeName;\n};\n\n/**\n * @returns  string\n *\n * @description\n * Get pageNotFound route.\n */\nexport const getPageNotFound = () => pageNotFound;\n", "// @ts-check\n\n/**\n * @type {string}\n */\nlet domContentID = '';\n\n/**\n * @param {object} obj\n * @param {string} obj.contentId\n * returns void\n *\n *\n * @description\n * Set root app.\n */\nexport const setContentId = ({ contentId = '' }) => {\n    domContentID = contentId;\n};\n\n/**\n * @returns {string}\n *\n * @description\n * Set root app.\n */\nexport const getContentId = () => domContentID;\n", "// @ts-check\n\n/**\n * @type {import(\"../type\").pageTransition|(() => void)}\n */\nlet pageTransition = () => {};\n\n/**\n * @type {import(\"../type\").beforePageTransition|(() => void)}\n */\nlet beforePageTransition = () => {};\n\n/**\n * @param {object} obj\n * @param {import(\"../type\").beforePageTransition} [ obj.fn ]\n * returns void\n *\n *\n * @description\n */\nexport const setBeforePageTransition = ({ fn }) => {\n    if (!fn) return;\n\n    beforePageTransition = fn;\n};\n\n/**\n * @param {object} obj\n * @param {(import(\"../type\").pageTransition)} [ obj.fn ]\n * returns void\n *\n *\n * @description\n * Set root app.\n */\nexport const setPageTransition = ({ fn }) => {\n    if (!fn) return;\n\n    pageTransition = fn;\n};\n\n/**\n * @returns {import(\"../type\").beforePageTransition|(() => void)}\n *\n */\nexport const getBeforePageTransition = () => beforePageTransition;\n\n/**\n * @returns {import(\"../type\").pageTransition|(() => void)}\n *\n */\nexport const getPageTransition = () => pageTransition;\n", "// @ts-check\n\n/**\n * @type {number}\n */\nlet parserCounter = 0;\n\n/**\n * @return void\n *\n * @description\n * Increment the number of parser active.\n */\nexport const incrementParserCounter = () => {\n    parserCounter += 1;\n};\n\n/**\n * @return number - how many parser is active.\n *\n * @description\n * Decrement the number of parser active.\n */\nexport const decrementParserCounter = () => {\n    parserCounter -= 1;\n    return parserCounter;\n};\n\n/**\n * @return void\n *\n * @description\n * reset paresercounter;\n */\nexport const resetParserCounter = () => {\n    parserCounter = 0;\n};\n", "// @ts-check\n\nimport { walkPreOrder } from './queryAllFutureComponent';\n\n/**\n * FUTURE COMPONENT\n */\n\n/**\n * @param {Element} root\n * @returns {Array<HTMLElement>}\n */\nfunction selectAll(root) {\n    const result = [];\n    for (const node of walkPreOrder(root)) {\n        if (node?.isUserComponent && node?.getSlotPosition?.()) {\n            result.push(node);\n        }\n    }\n    return result;\n}\n\n/**\n * @param {Element} node\n * @returns {Array<Element>}\n */\nexport const queryComponentUseSlot = (node) => {\n    let result = [];\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        result = [...result, ...selectAll(child)];\n    }\n\n    return result;\n};\n", "// @ts-check\n\nimport { walkPreOrder } from './queryAllFutureComponent';\n\n/**\n * FUTURE COMPONENT\n */\n\n/**\n * @param {Element} root\n * @returns {import(\"../webComponent/type\").slotComponent[]}\n */\nfunction selectAll(root) {\n    const result = [];\n    for (const node of walkPreOrder(root)) {\n        if (node?.isSlot && node?.getSlotName?.()) {\n            result.push(node);\n        }\n    }\n    return result;\n}\n\n/**\n * @param {Element} node\n * @returns {import(\"../webComponent/type\").slotComponent[]}\n */\nexport const queryGenericSlot = (node) => {\n    let result = [];\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        result = [...result, ...selectAll(child)];\n    }\n\n    return result;\n};\n", "// @ts-check\n\nimport { walkPreOrder } from './queryAllFutureComponent';\n\n/**\n * FUTURE COMPONENT\n */\n\n/**\n * @param {Element} root\n * @param {string} slotName\n * @returns {import(\"../webComponent/type\").slotComponent|null}\n */\nfunction selectAll(root, slotName) {\n    for (const node of walkPreOrder(root)) {\n        if (node?.isSlot && node?.getSlotName?.() === slotName) {\n            return node;\n        }\n    }\n    return null;\n}\n\n/**\n * @param {Element} node\n * @param {string} slotName\n * @returns {import(\"../webComponent/type\").slotComponent|null}\n */\nexport const querySecificSlot = (node, slotName) => {\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        const result = selectAll(child, slotName);\n        if (result) return result;\n    }\n\n    return null;\n};\n", "// @ts-check\n\nimport { walkPreOrder } from './queryAllFutureComponent';\n\n/**\n * FUTURE COMPONENT\n */\n\n/**\n * @param {Element} root\n * @returns {import(\"../webComponent/type\").slotComponent|null}\n */\nfunction selectAll(root) {\n    for (const node of walkPreOrder(root)) {\n        if (node?.isSlot && !node?.getSlotName?.()) {\n            return node;\n        }\n    }\n    return null;\n}\n\n/**\n * @param {Element} node\n * @returns {import(\"../webComponent/type\").slotComponent|null}\n */\nexport const queryUnNamedSlot = (node) => {\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        const result = selectAll(child);\n        if (result) return result;\n    }\n\n    return null;\n};\n", "// @ts-check\n\nimport { ATTR_IS_COMPONENT, ATTR_WEAK_BIND_EVENTS } from '../constant';\nimport { getDefaultComponent } from '../createComponent';\nimport { queryComponentUseSlot } from '../query/queryComponentUseSlot';\nimport { queryGenericSlot } from '../query/queryGenericSlot';\nimport { querySecificSlot } from '../query/querySpecificSlot';\nimport { queryUnNamedSlot } from '../query/queryUnNamedSlot';\nimport { removeCurrentToDynamicPropsByPropsId } from '../temporaryData/dynamicProps';\nimport { removeCurrentToPropsByPropsId } from '../temporaryData/staticProps';\n\n/**\n * @param {object} obj\n * @param {import(\"../webComponent/type\").userComponent|HTMLElement} obj.element\n * @param {string} obj.content\n * @returns {HTMLElement|import(\"../webComponent/type\").userComponent|undefined}\n *\n * @description\n * Get new element from content ( render ).\n * Prevent accidentally return of element or component deleted runtime.\n * Check parentNode to insertAdjacentHTML possible error.\n */\nconst getNewElement = ({ element, content }) => {\n    const { debug } = getDefaultComponent();\n\n    if (element.parentNode) {\n        element.insertAdjacentHTML('afterend', content);\n\n        /**\n         * Add component name in debug mode\n         */\n        if (debug)\n            element.insertAdjacentHTML(\n                'afterend',\n                `<!--  ${element.tagName.toLowerCase()} --> `\n            );\n\n        return /** @type {HTMLElement} */ (element.nextElementSibling);\n    }\n\n    return;\n};\n\n/**\n * @param {object} obj\n * @param {HTMLElement} obj.element\n * @returns void\n *\n * @description\n * Remove unused slot placehodler.\n * ( no element have sustitute slot )\n * If slot is not used remove id reference orphans from store.\n */\nconst removeOrphanSlot = ({ element }) => {\n    const slots = queryGenericSlot(element);\n\n    slots.forEach((slot) => {\n        const dynamicPropsIdFromSlot = slot.getDynamicProps();\n        if (dynamicPropsIdFromSlot && dynamicPropsIdFromSlot !== '') {\n            removeCurrentToDynamicPropsByPropsId({\n                propsId: dynamicPropsIdFromSlot,\n            });\n        }\n\n        /**\n         * If slot is not used remove id reference orphans from store.\n         */\n        const staticPropsIdFromSlot = slot.getStaticProps();\n        if (staticPropsIdFromSlot && staticPropsIdFromSlot !== '') {\n            removeCurrentToPropsByPropsId({ propsId: staticPropsIdFromSlot });\n        }\n\n        slot?.removeCustomComponent();\n        slot?.remove();\n    });\n};\n\n/**\n * @param {object} obj\n * @param {HTMLElement} obj.element\n * @returns void\n *\n * @description\n * Move element to related slot if defined.\n * And delete original slot placehodler\n */\nconst addToSlot = ({ element }) => {\n    const componentWithSlot = queryComponentUseSlot(element);\n    if (componentWithSlot.length === 0) return;\n\n    const slots = [...componentWithSlot].map((component) => {\n        // @ts-ignore\n        const slotName = component?.getSlotPosition();\n\n        /**\n         * Find slot used by component.\n         */\n        const slot = querySecificSlot(element, slotName);\n\n        /**\n         * If no slot return;\n         */\n        if (!slot) return { slot: null, elementMoved: null };\n\n        /**\n         * Add component/element before slot.\n         */\n        slot.parentNode?.insertBefore(component, slot);\n        const elementMoved = /** @type {HTMLElement} */ (slot.previousSibling);\n\n        return { slot, elementMoved };\n    });\n\n    /**\n     * Delete slot.\n     */\n    slots.forEach(({ slot, elementMoved }) => {\n        if (!slot) return;\n\n        /**\n         * @type {string|undefined}\n         *\n         * @description\n         * Set props id from slot to component.\n         */\n        // @ts-ignore\n        const propsIdFromSlot = slot.getStaticProps();\n        if (propsIdFromSlot)\n            // @ts-ignore\n            elementMoved?.setPropsFromSlotId?.(propsIdFromSlot);\n\n        // @ts-ignore\n        const bindPropsIdFromSlot = slot.getDynamicProps();\n        if (bindPropsIdFromSlot)\n            // @ts-ignore\n            elementMoved?.setDynamicPropsFromSlotId?.(bindPropsIdFromSlot);\n\n        slot?.removeCustomComponent();\n        slot?.remove();\n    });\n};\n\n/**\n * @param {object} obj\n * @param {import(\"../webComponent/type\").userComponent|HTMLElement} obj.element\n * @param {string} obj.content\n * @returns {HTMLElement|import(\"../webComponent/type\").userComponent|undefined}\n */\nconst executeConversion = ({ element, content }) => {\n    /**\n     * Add real content from render function\n     */\n    const prevContent = element.innerHTML;\n    const newElement = getNewElement({ element, content });\n\n    /**\n     * Get inner content and copy data from provvisory component\n     */\n    if (newElement) {\n        // @ts-ignore\n        const id = element.getId();\n        // @ts-ignore\n        const delegateEventId = element.getDelegateEventId();\n\n        /**\n         * if unNamedSlot is used.\n         * Replace un-named slot with previous content.\n         */\n        const unNamedSlot = queryUnNamedSlot(newElement);\n\n        if (unNamedSlot) {\n            unNamedSlot.insertAdjacentHTML('afterend', prevContent);\n            unNamedSlot.remove();\n        } else {\n            newElement.insertAdjacentHTML('afterbegin', prevContent);\n        }\n\n        addToSlot({ element: newElement });\n        removeOrphanSlot({ element: newElement });\n\n        /**\n         * transfer delegateEventId if exist in placeholder element.\n         */\n        if (delegateEventId)\n            newElement.setAttribute(ATTR_WEAK_BIND_EVENTS, delegateEventId);\n\n        /**\n         * Add data-mobjs=\"id\" in debug mode.\n         */\n        const { debug } = getDefaultComponent();\n        if (debug) newElement.setAttribute(ATTR_IS_COMPONENT, id ?? '');\n    }\n\n    /**\n     * Delete provvisory component and add real component.\n     */\n    element.remove();\n\n    return newElement;\n};\n\n/**\n * @param {object} obj\n * @param {HTMLElement|import(\"../webComponent/type\").userComponent} obj.element\n * @param {string} obj.content\n * @returns { Promise<{newElement:( HTMLElement|import(\"../webComponent/type\").userComponent|undefined ) }> | {newElement:( HTMLElement|undefined ) } }\n *\n * @description\n * Add content to component\n *\n */\nexport const convertToRealElement = ({ element, content }) => {\n    return new Promise((resolve) => {\n        const newElement = executeConversion({\n            element,\n            content,\n        });\n\n        resolve({ newElement });\n    });\n};\n", "// @ts-check\n\nimport { queryAllFutureComponent } from '../query/queryAllFutureComponent';\n\n/**\n * @param {object} obj\n * @param {Element} obj.element\n * @param {Array<import(\"../webComponent/type\").userComponent>} obj.currentSelectors\n * @return {{componentToParse:import(\"../webComponent/type\").userComponent, parseSourceArray:Array<import(\"../webComponent/type\").userComponent> }}\n */\nexport const getParseSourceArray = ({ element, currentSelectors }) => {\n    if (currentSelectors.length > 0) {\n        const componentToParse = currentSelectors[0];\n        const parseSourceArray = currentSelectors.slice(1);\n\n        return { componentToParse, parseSourceArray };\n    } else {\n        const query = [...queryAllFutureComponent(element)];\n        const componentToParse = query?.[0];\n        const parseSourceArray = query.slice(1);\n\n        return { componentToParse, parseSourceArray };\n    }\n};\n", "import { getElementById } from '../../componentStore/action/element';\nimport { ATTR_REFS } from '../../constant';\n\n/**\n * @description\n * Get all reference per ref ( querySelectorAll )\n *\n * @param {HTMLElement|import(\"../../webComponent/type\").userComponent} element\n * @returns {{ [key: string ]: HTMLElement[] }}>}\n */\nexport const getRefs = (element) => {\n    const refs = element.querySelectorAll(`[${ATTR_REFS}]`);\n\n    return (\n        [...refs]\n            // @ts-ignore\n            .filter((item) => !item.getIsPlaceholder?.())\n            .reduce((previous, current) => {\n                const refKey = current.getAttribute(ATTR_REFS);\n                current.removeAttribute(ATTR_REFS);\n\n                const newRefsByKey =\n                    refKey in previous\n                        ? [...previous[refKey], current]\n                        : [current];\n\n                return { ...previous, [refKey]: newRefsByKey };\n            }, {})\n    );\n};\n\n/**\n * @description\n * Get an array `{ref, id}[]`\n * Get id reference for each placeholder component\n * After parse will be fransformed in real element.\n *\n * @param {HTMLElement|import(\"../../webComponent/type\").userComponent} element\n * @returns {{ ref: string, id:string }[]}\n */\nexport const getRefsComponent = (element) => {\n    const refs = element.querySelectorAll(`[${ATTR_REFS}]`);\n\n    return (\n        [...refs]\n            // @ts-ignore\n            .filter((item) => item.getIsPlaceholder?.())\n            .map((item) => {\n                const refKey = item.getAttribute(ATTR_REFS);\n                item.removeAttribute(ATTR_REFS);\n\n                return {\n                    ref: refKey,\n                    // @ts-ignore\n                    id: item.getId?.(),\n                };\n            })\n    );\n};\n\n/**\n * @description\n * Get only first element per ref ( ref )\n *\n * @param {{ [key: string ]: HTMLElement[] }} refs\n * @return {{ [key: string ]: HTMLElement }}\n */\nexport const parseRef = (refs) => {\n    return Object.entries(refs)\n        .map(([key, value]) => {\n            return { [key]: value[0] };\n        })\n        .reduce((previous, current) => {\n            return { ...previous, ...current };\n        }, {});\n};\n\n/**\n * @description\n * From an array of single pair `{ ref: id }[]`\n * return an array with ref: `{ref: element[]}`\n * Get element from placeholder id and organize in array\n *\n * @param { {ref: string, id:string }[]} refs\n * @return {{ [key: string ]: HTMLElement[] }}\n */\nexport const refsComponentToNewElement = (refs) => {\n    return refs\n        .map(({ ref, id }) => {\n            return {\n                ref,\n                element: getElementById({ id }),\n            };\n        })\n        .reduce((previous, current) => {\n            const { ref, element } = current;\n\n            const newRefsByKey =\n                ref in previous ? [...previous[ref], element] : [element];\n\n            return { ...previous, [ref]: newRefsByKey };\n        }, {});\n};\n", "// @ts-check\n\nimport { setDestroyCallback } from '../../componentStore/action/removeAndDestroy';\nimport { parseRef } from '../refs';\n\n/**\n * @type {Map<string,Function>}\n */\nexport const onMountCallbackMap = new Map();\n\n/**\n * @param {object} obj\n * @param {string} obj.id - random Id\n * @param {(arg0:{ element:HTMLElement,refs:{[key:string]:HTMLElement|HTMLElement[]} })=>void} obj.cb - OnMount callback\n * @return void\n *\n * @description\n * Add ouMount callback to store.\n */\nexport const addOnMoutCallback = ({ id, cb = () => {} }) => {\n    onMountCallbackMap.set(id, cb);\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.id - component id\n * @param {HTMLElement|import(\"../../webComponent/type\").userComponent} obj.element - root component HTMLElement.\n * @param {{ [key: string ]: HTMLElement[] }} obj.refsCollection\n *\n * @description\n * Fire onMount callback.\n */\nexport const fireOnMountCallBack = async ({ id, element, refsCollection }) => {\n    const callback = onMountCallbackMap.get(id);\n\n    /**\n     * @type {Function} destroy callback\n     *\n     * @description\n     * OnMount callback can be async.\n     * Pass root component HTMLElement as parameter.\n     */\n    const destroyCallback = await callback?.({\n        element,\n        ref: parseRef(refsCollection),\n        refs: refsCollection,\n    });\n\n    /**\n     * Update destroy callback\n     */\n    setDestroyCallback({ cb: destroyCallback, id });\n\n    /**\n     * Remove callback\n     */\n    onMountCallbackMap.delete(id);\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.id - random Id\n * @return void\n *\n * @description\n * Remove OnMount reference from main store.\n */\nexport const removeOnMountCallbackReference = ({ id }) => {\n    onMountCallbackMap.delete(id);\n};\n", "// @ts-check\n\nimport { walkPreOrder } from './queryAllFutureComponent';\n\n/**\n * FUTURE COMPONENT\n */\n\n/**\n * @param {Element} root\n * @param {string} repeatId\n * @returns {import(\"../webComponent/type\").repeaterComponent|null}\n */\nfunction selectAll(root, repeatId) {\n    for (const node of walkPreOrder(root)) {\n        if (node?.isRepeaterPlaceholder && node?.getRepeatId?.() === repeatId) {\n            return node;\n        }\n    }\n    return null;\n}\n\n/**\n * @param {Element} node\n * @param {string} repeatId\n * @returns {import(\"../webComponent/type\").repeaterComponent|null}\n */\nexport const querySecificRepeater = (node, repeatId) => {\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        const result = selectAll(child, repeatId);\n        if (result) return result;\n    }\n\n    return null;\n};\n", "// @ts-check\n\n/**\n * @type {Set<{'id':string,'state':string,'container':HTMLElement}>}\n */\nexport const activeRepeatMap = new Set();\n\n/**\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.state\n * @param {HTMLElement} obj.container\n * @return void\n *\n * @description\n * Set active repeat\n */\nexport const addActiveRepeat = ({ id, state, container }) => {\n    activeRepeatMap.add({ id, state, container });\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.state\n * @param {HTMLElement} obj.container\n * @return void\n *\n * @description\n * Remove active repeat\n */\nexport const removeActiveRepeat = ({ id, state, container }) => {\n    activeRepeatMap.forEach((repeat) => {\n        if (\n            id === repeat.id &&\n            state === repeat.state &&\n            container === repeat.container\n        ) {\n            activeRepeatMap.delete(repeat);\n        }\n    });\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.state\n * @param {HTMLElement} obj.container\n * @return {boolean}\n *\n * @description\n * Get active repeat\n */\nexport const getActiveRepeater = ({ id = '', state = '', container }) => {\n    const repeatIsActive = [...activeRepeatMap].some((repeat) => {\n        return (\n            id === repeat.id &&\n            state === repeat.state &&\n            container === repeat.container\n        );\n    });\n\n    return repeatIsActive;\n};\n", "// @ts-check\n\nimport { componentMap } from '../store';\nimport { getElementById } from './element';\n\n/**\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.componentName\n * @returns {Array.<string>}\n *\n * @description\n * Get children id.\n */\nexport const getChildrenIdByName = ({ id = '', componentName = '' }) => {\n    if (!id || id === '') return [];\n\n    const item = componentMap.get(id);\n    const child = item?.child;\n\n    if (!child) {\n        console.warn(`getChildIdById failed no id found`);\n        return [];\n    }\n\n    return child?.[componentName] ?? [];\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.componentName\n * @param {Array<HTMLElement|undefined>} [ obj.filterBy ]\n * @return void\n *\n *\n * @description\n * Update children order of a component\n */\nexport const updateChildrenOrder = ({ id, componentName, filterBy = [] }) => {\n    /*\n     * Get element\n     */\n    const element = getElementById({ id });\n    if (!element) return;\n\n    const components = getChildrenIdByName({ id, componentName });\n    const componentsIdFiltered = components\n        .map((id) => {\n            return { id, element: getElementById({ id }) };\n        })\n        .filter(({ element }) => {\n            return filterBy.length > 0 ? filterBy.includes(element) : true;\n        })\n        .sort(function (a, b) {\n            const { element: elementA } = a;\n            const { element: elementB } = b;\n            if (elementA === elementB || !elementA || !elementB) return 0;\n            if (elementA.compareDocumentPosition(elementB) & 2) {\n                // b comes before a\n                return 1;\n            }\n            return -1;\n        })\n        .map(({ id }) => id);\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    const { child } = item;\n    componentMap.set(id, {\n        ...item,\n        child: {\n            ...child,\n            [componentName]: componentsIdFiltered,\n        },\n    });\n};\n", "// @ts-check\n\nimport { getElementById } from '../componentStore/action/element';\n\n/**\n * @param {Array} current\n * @param {Array} previous\n * @param {string} key\n * @return {Array}\n *\n *\n * @description\n * Get new element of current array compare to previous.\n */\nexport const getNewElement = (current = [], previous = [], key = '') => {\n    return current.filter((el) => {\n        const value = el?.[key];\n        return !previous.some((a) => a?.[key] === value);\n    });\n};\n\n/**\n * @param {array} current\n * @param {array} previous\n * @param {string} key\n * @return {Array.<{isNewElement: boolean, key:string, index:number}>}\n *\n * @description\n * Mix previous and current data to manage the insertion of new component\n * in right position.\n */\nexport const mixPreviousAndCurrentData = (current, previous, key) => {\n    return current.map((el, index) => {\n        const value = el?.[key];\n        const isNewElement = !previous.some((a) => a?.[key] === value);\n        return isNewElement\n            ? { isNewElement: true, key: el?.[key], index }\n            : { isNewElement: false, key: el?.[key], index };\n    });\n};\n\n/**\n * @param {object} obj\n * @param {array} obj.arr\n * @param {string} obj.key\n * @return {boolean}\n *\n * @description\n * Check if all new item in list has key.\n */\nconst arrayhaskey = ({ arr = [], key = '' }) => {\n    return arr.every((/** @type {object} */ item) => {\n        return item?.[key];\n    });\n};\n\n/**\n * @param {object} obj\n * @param {array} obj.current\n * @param {array} obj.previous\n * @param {string} obj.key\n * @return {boolean}\n *\n * @description\n * Check if current and previous array has key.\n */\nexport const listKeyExist = ({ current, previous, key }) => {\n    return (\n        arrayhaskey({ arr: current, key }) &&\n        arrayhaskey({ arr: previous, key })\n    );\n};\n\n/**\n * @param {object} obj\n * @param {array} obj.data\n * @param {string} obj.key\n * @return {array}\n *\n * @description\n * Get univique array by key.\n */\nexport const getUnivoqueByKey = ({ data = [], key = '' }) => {\n    return data.filter(\n        (v, i, a) => a.findIndex((v2) => v2?.[key] === v?.[key]) === i\n    );\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.component\n * @param {(arg0: string)=> string[]} obj.getChildren\n * @param {HTMLElement} obj.element\n *\n * @return {Array.<string>}\n *\n * @description\n * Get children of component inside a element\n */\nexport const getChildrenInsideElement = ({\n    component,\n    getChildren,\n    element,\n}) => {\n    const children = getChildren(component);\n    if (!children || !element) return [];\n\n    return [...children].filter((id) => {\n        const child = getElementById({ id }) ?? null;\n        return element.contains(child);\n    });\n};\n", "// @ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport { DEFAULT_CURRENT_REPEATER_STATE } from '../../constant';\n\n/**\n * @type {Map<string,{'current':object, 'index':number}>}\n */\nexport const currentRepeaterValueMap = new Map();\n\n/**\n * @param {{ current:object, index:number}} current\n * @returns string\n */\nexport const setComponentRepeaterState = (current) => {\n    /**\n     * @type {string}\n     */\n    const id = mobCore.getUnivoqueId();\n    currentRepeaterValueMap.set(id, current);\n\n    return id;\n};\n\n/**\n * @param {( string | undefined )} id\n * @return {{ current:object, index:number}}\n */\nexport const getComponentRepeaterState = (id = '') => {\n    if (!id) return DEFAULT_CURRENT_REPEATER_STATE;\n\n    const value = currentRepeaterValueMap.get(id);\n    currentRepeaterValueMap.delete(id);\n\n    return value ?? DEFAULT_CURRENT_REPEATER_STATE;\n};\n", "// @ts-check\n\nimport {\n    getChildrenInsideElement,\n    getNewElement,\n    getUnivoqueByKey,\n    mixPreviousAndCurrentData,\n} from './utils';\nimport {\n    ATTR_CHILD_REPEATID,\n    ATTR_CURRENT_LIST_VALUE,\n    ATTR_KEY,\n    ATTR_REPEATER_PROP_BIND,\n} from '../constant';\nimport {\n    getElementById,\n    getElementByKeyInContainer,\n    getIdByElement,\n} from '../componentStore/action/element';\nimport { updateChildrenOrder } from '../componentStore/action/children';\nimport { removeAndDestroyById } from '../componentStore/action/removeAndDestroy';\nimport { setComponentRepeaterState } from '../temporaryData/currentRepeaterItemValue';\nimport { renderHtml } from '../creationStep/utils';\nimport { getDefaultComponent } from '../createComponent';\n\nconst BEFORE = 'beforebegin';\nconst AFTER = 'afterend';\n\n/**\n * @param {object} obj\n * @param {string} obj.state\n * @param {string} obj.targetComponent\n * @param {string} obj.key\n * @param {string} obj.repeatId\n * @param {array} obj.currentUnique\n * @param {number} obj.index\n * @param {Function} obj.render\n * @param {string} obj.id\n *\n * @return {string}\n *\n * @description\n * Get partial list to add from chunked array of components.\n */\nfunction getPartialsComponentList({\n    state,\n    key,\n    currentUnique,\n    index,\n    render,\n    repeatId,\n}) {\n    /**\n     * Execute prop function.\n     * Get current value and save in component store item.\n     */\n    const currentValue = currentUnique?.[index];\n\n    const sync = /* HTML */ ` ${ATTR_KEY}=\"${key}\"\n    ${ATTR_REPEATER_PROP_BIND}=\"${state}\"\n    ${ATTR_CURRENT_LIST_VALUE}=\"${setComponentRepeaterState({\n        current: currentValue,\n        index,\n    })}\"\n    ${ATTR_CHILD_REPEATID}=\"${repeatId}\"`;\n\n    return render({\n        sync,\n        index,\n        currentValue,\n        html: renderHtml,\n    });\n}\n\n/**\n * @param {object} obj\n * @param {string} obj.state\n * @param {array} obj.current\n * @param {array} obj.previous\n * @param {HTMLElement} obj.repeaterParentElement\n * @param {string} obj.targetComponent\n * @param {(arg0: string)=> string[]} obj.getChildren\n * @param {string} obj.key\n * @param {string} obj.id\n * @param {Function} obj.render\n * @param {string} obj.repeatId\n * @return {array}\n *\n * @description\n * Add new children by key.\n */\nexport const addWithKey = ({\n    state = '',\n    current = [],\n    previous = [],\n    repeaterParentElement = document.createElement('div'),\n    targetComponent = '',\n    getChildren,\n    key = '',\n    id = '',\n    render,\n    repeatId,\n}) => {\n    /**\n     * @description\n     * Get unique data array by key\n     */\n    const currentUnique = getUnivoqueByKey({ data: current, key });\n\n    /**\n     * Get element to delete before element is removed from dom in reorder list step.\n     */\n    const elementToRemoveObj = getNewElement(previous, currentUnique, key);\n\n    const elementToRemoveByKey = elementToRemoveObj.map((item) => {\n        const keyValue = item?.[key];\n        return getElementByKeyInContainer({\n            key: keyValue,\n            parentId: id,\n            container: repeaterParentElement,\n        });\n    });\n\n    /**\n     * Get set of data with the right sequence of new list element\n     * mark old and new element with isNewElement props.\n     */\n    const elementToAddObj = mixPreviousAndCurrentData(\n        currentUnique,\n        previous,\n        key\n    );\n\n    /**\n     * --------------------------\n     * REORDER PERSISTENT ELEMENT DI POSITION CHANGE\n     * --------------------------\n     */\n\n    /**\n     * Get an array with only old element that is not deleted\n     */\n    const newPersistentElementOrder = elementToAddObj\n        .filter(({ isNewElement }) => !isNewElement)\n        .map((item) => {\n            return getElementByKeyInContainer({\n                key: item.key,\n                parentId: id,\n                container: repeaterParentElement,\n            });\n        });\n\n    /**\n     * @type {HTMLElement|undefined}\n     *\n     * @description\n     * get parent element to reorder.\n     */\n    // @ts-ignore\n    const parent =\n        newPersistentElementOrder[0]?.parentNode ?? repeaterParentElement;\n\n    /**\n     * Remove the node and reinsert the old pers element in right position.\n     */\n    if (parent) parent.innerHTML = '';\n    newPersistentElementOrder.forEach((/** {HTMLElement} */ item) => {\n        if (parent && item) {\n            parent.append(item);\n\n            const { debug } = getDefaultComponent();\n\n            /**\n             * Add component name in debug mode\n             */\n            if (debug)\n                item.insertAdjacentHTML(\n                    'afterend',\n                    `<!--  ${targetComponent} --> `\n                );\n        }\n    });\n\n    /**\n     * --------------------------\n     * GET CHILD IN DOM IN RIGHT ORDER\n     * --------------------------\n     */\n\n    /**\n     * Now update the element order in store.\n     */\n    updateChildrenOrder({\n        id,\n        componentName: targetComponent,\n        filterBy: newPersistentElementOrder,\n    });\n\n    /**\n     * Filter children inside repeaterParentElement\n     */\n    const childrenFiltered = getChildrenInsideElement({\n        component: targetComponent,\n        getChildren,\n        element: repeaterParentElement,\n    });\n\n    /**\n     * --------------------------\n     * ADD NEW ELEMENT\n     * --------------------------\n     */\n\n    /**\n     * @type {Array.<Array.<{isNewElement: boolean, key:string, index:number}>>}\n     *\n     * @description\n     * Chunk the sequentially new element in group.\n     * So then insert the block of new element.\n     * Every persistent element go in index 0 of chunk\n     * This element is used to append new element.\n     */\n    const chunkedElementToAdd = elementToAddObj.reduce(\n        (/** @type {Array} */ previous, current) => {\n            return current.isNewElement\n                ? (() => {\n                      previous.at(-1).push(current);\n                      return previous;\n                  })()\n                : [...previous, [current]];\n        },\n        [[]]\n    );\n\n    /**\n     * Remove first empty array if nothig changed at begging of data.\n     */\n    if (!chunkedElementToAdd?.[0].length) chunkedElementToAdd.shift();\n\n    chunkedElementToAdd.forEach((item) => {\n        const firstEl = item[0];\n        const { isNewElement: firstElementIsNew } = firstEl;\n\n        /**\n         * @description\n         * 1 - If the first element of the list is new append before\n         * the first existing element\n         *\n         * 2 -Otherwise append to element at index 0 of current chank\n         * this element is persistent.\n         */\n        const previousOrNextExistingElement = firstElementIsNew\n            ? getElementById({\n                  id: childrenFiltered[0],\n              })\n            : getElementByKeyInContainer({\n                  key: item[0]?.key,\n                  parentId: id,\n                  container: repeaterParentElement,\n              });\n\n        /**\n         * Filter from chunk the new element and create the new placeholder component\n         */\n        const componentToAppend = item\n            .filter((element) => element.isNewElement)\n            .map((element) =>\n                getPartialsComponentList({\n                    state,\n                    targetComponent,\n                    key: element.key,\n                    currentUnique,\n                    index: element.index,\n                    render,\n                    id,\n                    repeatId,\n                })\n            )\n            .join('');\n\n        /**\n         * Check if append new component before or after componentToAppend.\n         */\n        const position = firstElementIsNew ? BEFORE : AFTER;\n\n        /**\n         * If the new data is not empty go normal\n         * Otherwise append children to parent listCOntainer.\n         */\n        if (previousOrNextExistingElement) {\n            previousOrNextExistingElement.insertAdjacentHTML(\n                position,\n                componentToAppend\n            );\n        } else {\n            repeaterParentElement.insertAdjacentHTML(\n                'afterbegin',\n                componentToAppend\n            );\n        }\n    });\n\n    /**\n     * --------------------------\n     * REMOVE ELEMENT\n     * --------------------------\n     */\n    elementToRemoveByKey.forEach((component) => {\n        const id = getIdByElement({ element: component });\n        if (!id) return;\n\n        removeAndDestroyById({ id });\n    });\n\n    return currentUnique;\n};\n", "// @ts-check\n\nimport { removeAndDestroyById } from '../componentStore/action/removeAndDestroy';\nimport {\n    ATTR_CHILD_REPEATID,\n    ATTR_CURRENT_LIST_VALUE,\n    ATTR_REPEATER_PROP_BIND,\n} from '../constant';\nimport { getChildrenInsideElement } from './utils';\nimport { getElementById } from '../componentStore/action/element';\nimport { setComponentRepeaterState } from '../temporaryData/currentRepeaterItemValue';\nimport { renderHtml } from '../creationStep/utils';\n\n/**\n * @param {object} obj\n * @param {string} obj.state\n * @param {array} obj.current\n * @param {array} obj.previous\n * @param {HTMLElement} obj.repeaterParentElement\n * @param {string} obj.targetComponent\n * @param {(arg0: string)=> string[]} obj.getChildren\n * @param {Function} obj.render\n * @param {string} obj.id\n * @param {string} obj.repeatId\n * @return {array}\n *\n * @description\n * Add new children.\n * This method a component with a unique list of the same component\n */\nexport const addWithoutKey = ({\n    state = '',\n    current = [],\n    previous = [],\n    repeaterParentElement = document.createElement('div'),\n    targetComponent = '',\n    getChildren,\n    render,\n    repeatId,\n}) => {\n    /**\n     * @type {number}\n     */\n    const currentLenght = current.length;\n\n    /**\n     * @type {number}\n     */\n    const previousLenght = previous.length;\n\n    /**\n     * @type {number}\n     */\n    const diff = currentLenght - previousLenght;\n\n    /**\n     * Add\n     */\n    if (diff > 0) {\n        /**\n         * Create palcehodler component\n         */\n        const elementToAdd = [...new Array(diff).keys()].map((_item, index) => {\n            const currentValue = current?.[index + previousLenght];\n            const currentIndex = index + previousLenght;\n\n            const sync = /* HTML */ `${ATTR_CURRENT_LIST_VALUE}=\"${setComponentRepeaterState(\n                {\n                    current: currentValue,\n                    index: currentIndex,\n                }\n            )}\"\n            ${ATTR_REPEATER_PROP_BIND}=\"${state}\"\n            ${ATTR_CHILD_REPEATID}=\"${repeatId}\"`;\n\n            return render({\n                sync,\n                index,\n                currentValue,\n                html: renderHtml,\n            });\n        });\n\n        /**\n         * Content of container list id deleted at start.\n         * Assume container is dedicated to children.\n         * So add simple, mix to simplest solution and efficence.\n         */\n        elementToAdd.forEach((element) => {\n            repeaterParentElement.insertAdjacentHTML('beforeend', element);\n        });\n    }\n\n    /**\n     * Remove\n     */\n\n    if (diff < 0) {\n        /**\n         * Filter children inside repeaterParentElement\n         */\n        const childrenFilteredToRemove = getChildrenInsideElement({\n            component: targetComponent,\n            getChildren,\n            element: repeaterParentElement,\n        });\n\n        /**\n         * element to remove\n         */\n        const childrenToRemoveByKey = childrenFilteredToRemove.filter(\n            (_child, i) => {\n                return i >= current.length;\n            }\n        );\n\n        /**\n         * Persistent element\n         */\n        const childrenPersistent = childrenFilteredToRemove.filter(\n            (_child, i) => {\n                return i < current.length;\n            }\n        );\n\n        /**\n         * Remove all dom component\n         * Web Component trick p1.\n         * Sure to remove host element.\n         */\n        repeaterParentElement.textContent = '';\n\n        /**\n         * Destroy\n         */\n        childrenToRemoveByKey.forEach((childId) => {\n            removeAndDestroyById({ id: childId });\n        });\n\n        /**\n         * Re-add persistent element\n         * Web component trick p2.\n         */\n        childrenPersistent.forEach((childId) => {\n            const element = getElementById({ id: childId });\n            if (element) repeaterParentElement.append(element);\n        });\n    }\n\n    return current;\n};\n", "// @ts-check\n\nimport { updateChildrenOrder } from '../componentStore/action/children';\nimport { MAIN_STORE_REPEATER_PARSER_ROOT } from '../mainStore/constant';\nimport { mainStore } from '../mainStore/mainStore';\nimport { addWithKey } from './addWithKey';\nimport { addWithoutKey } from './addWithoutKey';\nimport { listKeyExist } from './utils';\n\n/**\n * @param {object} obj\n * @param {string} obj.state\n * @param {HTMLElement} obj.repeaterParentElement\n * @param {string} obj.targetComponent\n * @param {array} obj.current\n * @param {array} obj.previous\n * @param {(arg0: string)=> string[]} obj.getChildren\n * @param {string} obj.key\n * @param {string} obj.id\n * @param {string} obj.repeatId\n * @param {Function} obj.render\n * @return {Promise.<Array.<object>>}\n *\n * @description\n * Update repater list.\n */\nexport const updateChildren = async ({\n    state = '',\n    repeaterParentElement = document.createElement('div'),\n    targetComponent = '',\n    current = [],\n    previous = [],\n    getChildren,\n    key = '',\n    id,\n    render,\n    repeatId,\n}) => {\n    /**\n     * Check if thereis a key\n     */\n    const hasKey = listKeyExist({ current, previous, key });\n\n    /**\n     * Filter right function\n     */\n    const fn = hasKey ? addWithKey : addWithoutKey;\n\n    /**\n     * Execute function.\n     * Get unique array of data ( current compared with previous )\n     */\n    const currentUnivoque = fn({\n        state,\n        current,\n        previous,\n        repeaterParentElement,\n        targetComponent,\n        getChildren,\n        key,\n        id,\n        render,\n        repeatId,\n    });\n\n    /**\n     * Parse inner component.\n     * Use pub/sub to avoid circular dependencies.\n     * Parse current HTMLDom to create inner component.\n     * Scan and await the end of possible noew component creation.\n     */\n    mainStore.set(\n        MAIN_STORE_REPEATER_PARSER_ROOT,\n        { element: repeaterParentElement, parentId: id },\n        false\n    );\n    await mainStore.emitAsync(MAIN_STORE_REPEATER_PARSER_ROOT);\n\n    updateChildrenOrder({\n        id,\n        componentName: targetComponent,\n    });\n\n    /**\n     * Return update current without duplicate fi needed by addWithkey.\n     */\n    return currentUnivoque;\n};\n", "// @ts-check\n\nimport { mobCore } from '../../mobCore';\nimport {\n    getComponentIdByRepeatercontext,\n    setRepeaterStateById,\n} from '../componentStore/action/currentRepeatValue';\nimport { getElementById } from '../componentStore/action/element';\nimport {\n    freezePropById,\n    unFreezePropById,\n} from '../componentStore/action/freeze';\nimport { removeAndDestroyById } from '../componentStore/action/removeAndDestroy';\nimport { incrementTickQueuque } from '../componentStore/tick';\nimport { incrementRepeaterTickQueuque } from '../componentStore/tickRepeater';\nimport { QUEQUE_TYPE_REPEATER } from '../constant';\nimport { querySecificRepeater } from '../query/querySecificRepeater';\nimport {\n    addActiveRepeat,\n    getActiveRepeater,\n    removeActiveRepeat,\n} from '../temporaryData/repeaterActions';\nimport { getRepeaterComponentTarget } from '../temporaryData/repeaterTargetComponent';\nimport { updateChildren } from './updateChildren';\nimport { getChildrenInsideElement } from './utils';\n\n/**\n * @param {import('../temporaryData/repeater/type').watchListType} param\n * @return {() => void}\n */\nexport const watchList = ({\n    state = '',\n    setState,\n    emit,\n    watch,\n    clean = false,\n    beforeUpdate = () => {},\n    afterUpdate = () => {},\n    getChildren,\n    key = '',\n    id = '',\n    repeaterParentElement,\n    repeatId = '',\n    render,\n}) => {\n    /**\n     * Remove repeater placeholder\n     */\n    const repeaterEl = querySecificRepeater(repeaterParentElement, repeatId);\n    repeaterEl?.remove();\n    repeaterEl?.removeCustomComponent();\n\n    const mainComponent = getElementById({ id });\n\n    /**\n     * First run use an empty previous array\n     * To run first emit from definition store.\n     */\n    let forceRepeater = true;\n\n    /**\n     * Watcher is destroyed with the component tahu implement list repeater.\n     * repater works if data is an array ( is a list so data must be an array )\n     */\n    watch(\n        state,\n        async (/** @type {Array} */ current, /** @type {Array} */ previous) => {\n            if (!mobCore.checkType(Array, current)) return;\n\n            /**\n             * Add watcher to active queuqe operation.\n             */\n            const descrementQueue = incrementTickQueuque({\n                state,\n                id,\n                type: QUEQUE_TYPE_REPEATER,\n            });\n\n            const descrementRepeaterQueue = incrementRepeaterTickQueuque({\n                state,\n                id,\n            });\n\n            /**\n             * Secure step 1.\n             * Avoid state mutation during list construction.\n             * Useful when list component is async.\n             */\n            freezePropById({ id, prop: state });\n\n            /**\n             * Secure step 2 ( if step 1 fail, but i don't think ).\n             * Check if the same repeat is running\n             * Id true, skip and revert the new state to previous without fire watch\n             * So the data is consistent with dom\n             *\n             */\n            const repeatIsRunning = getActiveRepeater({\n                id,\n                state,\n                container: repeaterParentElement,\n            });\n\n            if (repeatIsRunning) {\n                /**\n                 * If repater is running:\n                 * back to previous state without fire callback\n                 */\n                unFreezePropById({ id, prop: state });\n                setState(state, previous, false);\n\n                /**\n                 * Remove watcher to active queuqe operation.\n                 */\n                descrementQueue();\n                descrementRepeaterQueue();\n                return;\n            }\n\n            /**\n             * If clean is active remove previous children.\n             */\n            const targetComponentBeforeParse = getRepeaterComponentTarget({\n                id: repeatId,\n            });\n\n            if (targetComponentBeforeParse && (clean || forceRepeater)) {\n                const currentChildern = getChildrenInsideElement({\n                    component: targetComponentBeforeParse,\n                    getChildren,\n                    element: repeaterParentElement,\n                });\n\n                currentChildern.forEach((id) => {\n                    removeAndDestroyById({ id });\n                });\n\n                /**\n                 * Web component trick.\n                 * Sure to delete host element.\n                 */\n                repeaterParentElement.textContent = '';\n            }\n\n            /**\n             * Set current active repeater in mainStore.\n             */\n            addActiveRepeat({ id, state, container: repeaterParentElement });\n\n            /**\n             * Execute beforeUpdate function\n             */\n            if (mainComponent) {\n                beforeUpdate({\n                    element: mainComponent,\n                    container: repeaterParentElement,\n                    childrenId: getChildrenInsideElement({\n                        component: targetComponentBeforeParse,\n                        getChildren,\n                        element: repeaterParentElement,\n                    }),\n                });\n            }\n\n            /**\n             * Start main update list function\n             */\n            const currentUnivoque = await updateChildren({\n                state,\n                repeaterParentElement,\n                targetComponent: targetComponentBeforeParse,\n                current,\n                previous: clean || forceRepeater ? [] : previous,\n                getChildren,\n                key,\n                id,\n                render,\n                repeatId,\n            });\n\n            /**\n             * Now reset previous only with clean props.\n             */\n            forceRepeater = false;\n\n            const targetComponentAfterParse = getRepeaterComponentTarget({\n                id: repeatId,\n            });\n\n            /**\n             * Filter children inside repeaterParentElement\n             */\n            const childrenFiltered = getChildrenInsideElement({\n                component: targetComponentAfterParse,\n                getChildren,\n                element: repeaterParentElement,\n            });\n\n            /**\n             * Update children current value ( for \"immutable\" children ).\n             * - repeater without key: item persistence.\n             * - repeater with key: item moved.\n             * Update storeComponent currentRepeaterState\n             * propierties so bindPros get last current/index value when watch.\n             */\n            [...childrenFiltered].forEach((id, index) => {\n                const currentValue = currentUnivoque?.[index];\n                if (!currentValue) return;\n\n                /**\n                 * Store current value in store\n                 * to use in dynamicrops\n                 * FrstRepeaterChild\n                 */\n                setRepeaterStateById({\n                    id,\n                    value: { current: currentValue, index },\n                });\n\n                /**\n                 * Get id of children of FirstRepeaterChild\n                 */\n                const firstRepeaterchildChildren =\n                    getComponentIdByRepeatercontext({\n                        contextId: id,\n                    });\n\n                /**\n                 * Store current value in store\n                 * to use in dynamicrops\n                 * ( child if FirstRepeaterChild )\n                 */\n                firstRepeaterchildChildren.forEach((childId) => {\n                    setRepeaterStateById({\n                        id: childId,\n                        value: { current: currentValue, index },\n                    });\n                });\n            });\n\n            /**\n             * Fire onComplete next tick;\n             */\n            mobCore.useNextLoop(async () => {\n                /**\n                 * Execute afterUpdate function\n                 */\n                if (mainComponent) {\n                    afterUpdate({\n                        element: mainComponent,\n                        container: repeaterParentElement,\n                        childrenId: childrenFiltered,\n                    });\n                }\n\n                /**\n                 * Remove active repeater after all so avoid multiple\n                 * fire on the same repeater while running.\n                 *\n                 * Use 2 frmae after onMount/Fyre dynamic timing.\n                 */\n                removeActiveRepeat({\n                    id,\n                    state,\n                    container: repeaterParentElement,\n                });\n\n                unFreezePropById({ id, prop: state });\n\n                /**\n                 * Update watch state.\n                 * If key is used duplicated item is removed.\n                 */\n                setState(state, currentUnivoque, false);\n\n                /**\n                 * Remove watcher to active queuqe operation.\n                 */\n                descrementQueue();\n                descrementRepeaterQueue();\n            });\n        }\n    );\n\n    return () => emit(state);\n};\n", "// @ts-check\n\n/**\n * @type {Map<string,import(\"./type\").repeaterType>}\n */\nexport const repeatMap = new Map();\n\n/**\n * @param {object} mainObject\n * @param {string} mainObject.repeatId\n * @param {import(\"./type\").repeaterType} mainObject.obj\n *\n * @description\n * Add new repeater id and props.\n * The repeater will execute after component render.\n */\nexport const addRepeat = ({ repeatId, obj }) => {\n    repeatMap.set(repeatId, obj);\n};\n", "// @ts-check\n\nimport { watchList } from '../../repeater/watchList';\nimport { repeatMap } from './add';\n\n/**\n * @param {object} obj\n * @param {string} obj.repeatId - current unique id for repater.\n * - all repeat placeholder active in current parse.\n * @param {({ parent: HTMLElement; id: any; }|undefined)} obj.repeaterParent\n *\n * @returns {() => void}\n *\n * @description\n * Launch repeater from id. And find parent from placeholder.\n */\nexport const inizializeRepeat = ({ repeatId, repeaterParent }) => {\n    if (!repeatId || !repeaterParent) return;\n\n    const obj = repeatMap.get(repeatId);\n    if (!obj) return;\n\n    /**\n     * Run watch list\n     */\n    const fireFirstRepeat = watchList({\n        ...obj,\n        repeatId,\n        repeaterParentElement:\n            repeaterParent?.parent ?? document.createElement('div'),\n    });\n\n    repeatMap.delete(repeatId);\n\n    return fireFirstRepeat;\n};\n", "// @ts-check\n\nimport { mobCore } from '../../mobCore';\nimport { getChildrenIdByName } from '../componentStore/action/children';\nimport {\n    freezePropById,\n    unFreezePropById,\n} from '../componentStore/action/freeze';\nimport { getParentIdById } from '../componentStore/action/parent';\nimport { setDynamicPropsWatch, unBind } from '../componentStore/action/props';\nimport {\n    destroyComponentInsideNodeById,\n    removeAndDestroyById,\n} from '../componentStore/action/removeAndDestroy';\nimport { watchById } from '../componentStore/action/watch';\nimport {\n    ATTR_BIND_EVENTS,\n    ATTR_DYNAMIC,\n    ATTR_PROPS,\n    ATTR_REPEATID,\n    ATTR_WEAK_BIND_EVENTS,\n} from '../constant';\nimport { MAIN_STORE_REPEATER_PARSER_ROOT } from '../mainStore/constant';\nimport { mainStore } from '../mainStore/mainStore';\nimport { setBindEvents } from '../temporaryData/bindEvents';\nimport { setBindProps } from '../temporaryData/dynamicProps';\nimport { addOnMoutCallback } from '../temporaryData/onMount';\nimport { addRepeat } from '../temporaryData/repeater/add';\nimport { setStaticProps } from '../temporaryData/staticProps';\nimport { setDelegateBindEvent } from '../temporaryData/weakBindEvents';\nimport { renderHtml } from './utils';\n\n/**\n * @param {import('./type').getParamsForComponent} obj.state\n * @returns {import('../type').componentPropsType}\n *\n * @description\n * Create component\n * Reuturn all prosps/method for user function.\n */\nexport const getParamsForComponentFunction = ({\n    getState,\n    setState,\n    emit,\n    emitAsync,\n    computed,\n    watch,\n    id,\n    key,\n    bindEventsId,\n}) => {\n    /**\n     * Initialize repeatId collector.\n     */\n    const repeatIdArray = [];\n\n    return {\n        bindEventsId,\n        key,\n        id,\n        getState,\n        setState,\n        emit,\n        emitAsync,\n        computed,\n        watch,\n        repeatIdArray,\n        renderComponent: async ({\n            attachTo,\n            component,\n            position = 'afterbegin',\n            clean = true,\n        }) => {\n            /**\n             * Remove all children inside attachTo.\n             * If needed.\n             */\n            if (clean) {\n                destroyComponentInsideNodeById({ id, container: attachTo });\n                attachTo.textContent = '';\n            }\n\n            /**\n             * Attach new component\n             */\n            attachTo.insertAdjacentHTML(position, component);\n\n            /**\n             * Render\n             */\n            mainStore.set(\n                MAIN_STORE_REPEATER_PARSER_ROOT,\n                { element: attachTo, parentId: id },\n                false\n            );\n            return mainStore.emitAsync(MAIN_STORE_REPEATER_PARSER_ROOT);\n        },\n        getChildren: (/** @type{string} */ componentName) => {\n            return getChildrenIdByName({ id, componentName });\n        },\n        watchSync: (state, callback) => {\n            const unsubscribe = watch(state, callback);\n            emit(state);\n            return unsubscribe;\n        },\n        freezeProp: (/** @type{string} */ prop) => freezePropById({ id, prop }),\n        unFreezeProp: (/** @type{string} */ prop) =>\n            unFreezePropById({ id, prop }),\n        unBind: () => unBind({ id }),\n        bindProps: (obj) => {\n            return `${ATTR_DYNAMIC}=\"${setBindProps({\n                ...obj,\n                parentId: obj?.forceParent ? undefined : id,\n            })}\" `;\n        },\n        staticProps: (obj) => ` ${ATTR_PROPS}=\"${setStaticProps(obj)}\" `,\n        remove: () => {\n            removeAndDestroyById({ id });\n        },\n        removeDOM: (element) => {\n            destroyComponentInsideNodeById({ id, container: element });\n            element.textContent = '';\n        },\n        getParentId: () => getParentIdById(id),\n        watchParent: (prop, cb) => {\n            const unsubscribeParent = watchById(getParentIdById(id), prop, cb);\n            setDynamicPropsWatch({ id, unWatchArray: [unsubscribeParent] });\n        },\n        html: (strings, ...values) => {\n            return renderHtml(strings, ...values);\n        },\n\n        onMount: (cb) => addOnMoutCallback({ id, cb }),\n        bindEvents: (eventsData) => {\n            return `${ATTR_BIND_EVENTS}=\"${setBindEvents(eventsData)}\"`;\n        },\n        delegateEvents: (eventsData) => {\n            return `${ATTR_WEAK_BIND_EVENTS}=\"${setDelegateBindEvent(\n                eventsData\n            )}\"`;\n        },\n        repeat: ({\n            watch: stateToWatch, // use alias to maintain ured naming convention.\n            clean = false,\n            beforeUpdate = () => {},\n            afterUpdate = () => {},\n            key,\n            render,\n        }) => {\n            const currentRepeatId = mobCore.getUnivoqueId();\n            repeatIdArray.push(currentRepeatId);\n\n            addRepeat({\n                repeatId: currentRepeatId,\n                obj: {\n                    state: stateToWatch,\n                    setState,\n                    emit,\n                    watch,\n                    clean,\n                    beforeUpdate,\n                    afterUpdate,\n                    getChildren: (/** @type{string} */ componentName) => {\n                        return getChildrenIdByName({ id, componentName });\n                    },\n                    key,\n                    id,\n                    render,\n                },\n            });\n\n            return `<mobjs-repeater ${ATTR_REPEATID}=\"${currentRepeatId}\" style=\"display:none;\"></mobjs-repeater>`;\n        },\n    };\n};\n", "// @ts-check\n\nimport { walkPreOrder } from './queryAllFutureComponent';\n\n/**\n * FUTURE COMPONENT\n */\n\n/**\n * @param {Element} root\n * @returns {Array<import(\"../webComponent/type\").repeaterComponent>}\n */\nfunction selectAll(root) {\n    const result = [];\n    for (const node of walkPreOrder(root)) {\n        if (node?.isRepeaterPlaceholder && node?.getRepeatId?.()) {\n            result.push(node);\n        }\n    }\n    return result;\n}\n\n/**\n * @param {Element|import(\"../webComponent/type\").userComponent} node\n * @returns {import(\"../webComponent/type\").repeaterComponent[]}\n */\nexport const queryGenericRepeater = (node) => {\n    let result = [];\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        result = [...result, ...selectAll(child)];\n    }\n\n    return result;\n};\n", "// @ts-check\n\nimport { getComponentRepeaterState } from '../temporaryData/currentRepeaterItemValue';\nimport { getPropsFromParent } from '../temporaryData/staticProps';\nimport { filterExportableStateFromObject } from '../mainStore/actions/exportState';\nimport {\n    getRepeaterPropBind,\n    getRepeaterStateById,\n} from '../componentStore/action/currentRepeatValue';\n\n/**\n * @param {object} obj\n * @param {import(\"../webComponent/type\").userComponent} obj.element\n * @param {string|undefined} obj.parentIdForced\n * @returns {import('./type').componentDataType}\n *\n * @description\n * Create base DOM component from component tag.\n */\nexport const getParamsFromWebComponent = ({ element, parentIdForced }) => {\n    const id = element.getId();\n    const instanceName = element.getInstanceName();\n    const parentIdFromWebComponent = element.getParentId();\n\n    /**\n     * First choice is parentId passed directly in webComponent\n     * Second choice is parentId passed to initParseWatcher ( renderComponent: render component runtime ).\n     *\n     * After first level of Node will render, all childrn has the right parentID:\n     * `addParentIdToFutureComponent({ element: newElement, id });`\n     *\n     * So after first level of node tree parentIdFromWebComponent always win.\n     */\n    const parentId =\n        parentIdFromWebComponent && parentIdFromWebComponent.length > 0\n            ? parentIdFromWebComponent\n            : parentIdForced;\n\n    const propsId = element.getStaticPropsId();\n    const dynamicPropsId = element.getDynamicPropsid();\n    const bindEventsId = element.getBindEventsId();\n    const dynamicPropsIdFromSlot = element.getDynamicPropsFromSlotId();\n    const propsSlot = element.getPropsFromSlotId();\n    const currentRepeaterValueId = element.getRepeatValue();\n    const repeaterContextId = element.getComponentRepeatContext();\n    const componentRepeatId = element.getComponentRepeatId();\n    const key = element.getCurrentKey() ?? '';\n    const componentName = element.getComponentName();\n    const cleanProsId = propsId?.split(' ').join('');\n    const cleanProsFromSlot = propsSlot?.split(' ').join('');\n    const propsFromParent = getPropsFromParent(cleanProsId);\n    const propsFromSlot = getPropsFromParent(cleanProsFromSlot);\n    const baseProps = { ...element.dataset };\n\n    /**\n     * Get repeatPropBind from id ( firstChildNode)\n     * Or from firstChildRepeaterNode if is a child of forstChildRepeaterNode\n     *\n     */\n    const repeatPropBind =\n        repeaterContextId && repeaterContextId.length > 0\n            ? getRepeaterPropBind({ id: repeaterContextId })\n            : element.getRepeaterPropBind();\n\n    /**\n     * Get currentRepeatValue from id ( firstChildNode)\n     * Or from firstChildRepeaterNode if is a child of forstChildRepeaterNode\n     *\n     */\n    const currentRepeatValue =\n        repeaterContextId && repeaterContextId.length > 0\n            ? getRepeaterStateById({ id: repeaterContextId })\n            : getComponentRepeaterState(currentRepeaterValueId);\n\n    return {\n        element,\n        props: {\n            ...filterExportableStateFromObject({\n                componentName,\n                currentProps: baseProps,\n            }),\n            ...filterExportableStateFromObject({\n                componentName,\n                currentProps: propsFromParent,\n            }),\n            ...filterExportableStateFromObject({\n                componentName,\n                currentProps: propsFromSlot,\n            }),\n        },\n        id,\n        componentName,\n        instanceName,\n        key,\n        dynamicPropsId,\n        dynamicPropsIdFromSlot,\n        repeatPropBind,\n        bindEventsId,\n        currentRepeatValue,\n        parentId,\n        componentRepeatId,\n        repeaterContextId,\n    };\n};\n", "// @ts-check\n\nimport { mobCore } from '../../mobCore';\nimport { DEFAULT_CURRENT_REPEATER_STATE } from '../constant';\nimport { getFreezePropStatus } from './action/freeze';\nimport { componentMap } from './store';\nimport { addPropsToState } from './utils';\n\n/**\n * @param {import('./type').componentStoreInputTypes} params\n * @returns {import('./type').componentStoreReturnType}\n *\n *\n * @description\n * Add component to store.\n */\nexport const addComponentToStore = ({\n    element,\n    instanceName = '',\n    props = {},\n    state = {},\n    key = '',\n    currentRepeaterState = DEFAULT_CURRENT_REPEATER_STATE,\n    isRepeaterFirstChildNode = false,\n    repeatPropBind = '',\n    repeaterContextId = '',\n    parentPropsWatcher = [() => {}],\n    destroy = () => {},\n    freezedPros = [],\n    isCancellable = true,\n    child = {},\n    parentId = '',\n    id = '',\n    componentName = '',\n}) => {\n    const store = mobCore.createStore(state);\n    addPropsToState({ props, store });\n\n    componentMap.set(id, {\n        element,\n        componentName,\n        instanceName,\n        destroy,\n        parentPropsWatcher,\n        key,\n        currentRepeaterState,\n        isRepeaterFirstChildNode,\n        repeatPropBind,\n        repeaterContextId,\n        isCancellable,\n        id,\n        parentId,\n        freezedPros,\n        child,\n        state: store,\n    });\n\n    return {\n        getState: () => store.get(),\n        setState: (prop = '', value = {}, fire = true) => {\n            const isFreezed = getFreezePropStatus({ id, prop });\n            if (isFreezed) return;\n\n            store.set(prop, value, fire);\n        },\n        emit: (prop = '') => store.emit(prop),\n        emitAsync: async (prop = '') => await store.emitAsync(prop),\n        computed: (prop = '', keys = [], fn = () => {}) =>\n            store.computed(prop, keys, fn),\n        watch: (prop = '', cb = () => {}) => store.watch(prop, cb),\n    };\n};\n", "// @ts-check\n\nimport { setElementById } from '../componentStore/action/element';\nimport { convertToRealElement } from '../creationStep/convertToRealElement';\nimport { getComponentList } from '../mainStore/componentList';\n// import { removeOrphanComponent } from '../componentStore/action/removeAndDestroy';\nimport { getDefaultComponent } from '../createComponent';\nimport { getParseSourceArray } from './utils';\nimport { fireOnMountCallBack } from '../temporaryData/onMount';\nimport { applyBindEvents } from '../temporaryData/bindEvents';\nimport {\n    addCurrentIdToDynamicProps,\n    applyDynamicProps,\n} from '../temporaryData/dynamicProps';\nimport { decrementParserCounter } from '../temporaryData/parser/parser';\nimport { inizializeRepeat } from '../temporaryData/repeater/inizialize';\nimport { getParamsForComponentFunction } from '../creationStep/getParamsForComponent';\nimport { queryGenericRepeater } from '../query/queryGenericRepeater';\nimport {\n    addParentIdToFutureComponent,\n    addSelfIdToParentComponent,\n    setParentsIdFallback,\n} from '../componentStore/action/parent';\nimport {\n    getRefs,\n    getRefsComponent,\n    refsComponentToNewElement,\n} from '../temporaryData/refs';\nimport { applyDelegationBindEvent } from '../temporaryData/weakBindEvents';\nimport { getParamsFromWebComponent } from '../creationStep/getParamsFromWebComponent';\nimport { addComponentToStore } from '../componentStore/addComponentToStore';\nimport {\n    setIsRepeaterFirstChildNode,\n    setRepeaterContext,\n    setRepeaterStateById,\n} from '../componentStore/action/currentRepeatValue';\nimport { addRepeatTargetComponent } from '../temporaryData/repeaterTargetComponent';\n\n/**\n * @param {object} obj\n * @param {HTMLElement} obj.element\n * @param {boolean} [ obj.isCancellable ]\n * @param {Array<{onMount:Function, fireDynamic:function, fireFirstRepeat:function}>} [ obj.functionToFireAtTheEnd ]\n * @param {number} [ obj.currentIterationCounter ]\n * @param {Array<import(\"../webComponent/type\").userComponent>} [ obj.currentSelectors ]\n * @param {string} [ obj.parentIdForced ]\n * @return {Promise<void>}\n *\n * @description\n * Create all component from DOM.\n */\nexport const parseComponentsRecursive = async ({\n    element,\n    functionToFireAtTheEnd = [],\n    isCancellable = true,\n    currentIterationCounter = 0,\n    currentSelectors = [],\n    parentIdForced = '',\n}) => {\n    if (!element) return;\n\n    const componentList = getComponentList();\n\n    const { componentToParse, parseSourceArray } = getParseSourceArray({\n        element,\n        currentSelectors,\n    });\n\n    /**\n     * Check if max parse number is reached.\n     */\n    const parseLimitReached =\n        currentIterationCounter === getDefaultComponent().maxParseIteration;\n\n    if (parseLimitReached)\n        console.warn(\n            `dom parse reached max parse limit: ${currentIterationCounter}`\n        );\n\n    /**\n     * If there is no component or parse limit is reached.\n     */\n    if (!componentToParse || parseLimitReached) {\n        /**\n         * If all the parser is ended.\n         * ( remove active parser and return how many parser is active)\n         * Check if there is element in store that is not in real DOM and delete from store\n         * When component is deleted delete the nested component too.\n         * This is a additional level of security\n         */\n        const activeParser = decrementParserCounter();\n        if (!activeParser) {\n            // removeOrphanComponent();\n        }\n\n        /**\n         * Fire onMount queue.\n         * Wait parse is ended to fire onMount callback.\n         *\n         * Launch from the end so childn can initialize watch before parent.\n         * In case a watcher is watching a props initialized inside\n         * onMount state of parent.\n         */\n        for (const item of functionToFireAtTheEnd.reverse()) {\n            const { onMount, fireDynamic, fireFirstRepeat } = item;\n            await onMount();\n            fireDynamic();\n            fireFirstRepeat();\n        }\n\n        /**\n         * Reset reference.\n         */\n        functionToFireAtTheEnd.length = 0;\n        currentSelectors.length = 0;\n\n        applyDelegationBindEvent(element);\n\n        return;\n    }\n\n    /**\n     * Get component params from list definition.\n     */\n    const componentToParseName = componentToParse.getComponentName();\n    const userFunctionComponent =\n        componentList?.[componentToParseName]?.componentFunction;\n    const componentParams =\n        componentList?.[componentToParseName]?.componentParams;\n    const { scoped } = componentParams;\n\n    /**\n     * If componentToParse is not in list remove div component\n     */\n    if (!userFunctionComponent) {\n        console.warn(`${componentToParseName} component is not registered.`);\n\n        componentToParse.remove();\n        await parseComponentsRecursive({\n            element,\n            functionToFireAtTheEnd,\n            isCancellable,\n            currentIterationCounter: (currentIterationCounter += 1),\n            currentSelectors: parseSourceArray,\n            parentIdForced,\n        });\n\n        return;\n    }\n\n    /**\n     * Get all data from placeholder\n     */\n    const {\n        props,\n        id,\n        componentName,\n        instanceName,\n        key,\n        dynamicPropsId,\n        dynamicPropsIdFromSlot,\n        currentRepeatValue,\n        bindEventsId,\n        parentId,\n        componentRepeatId,\n        repeatPropBind,\n        repeaterContextId,\n    } = getParamsFromWebComponent({\n        element: componentToParse,\n        parentIdForced,\n    });\n\n    /**\n     * Get state from componentParams\n     */\n    const { state } = componentParams;\n\n    /**\n     * Add component to store\n     */\n    const { getState, setState, emit, emitAsync, computed, watch } =\n        addComponentToStore({\n            element: componentToParse,\n            props,\n            state,\n            id,\n            componentName,\n            instanceName,\n            key,\n            repeatPropBind,\n            isCancellable,\n            parentId,\n            repeaterContextId,\n        });\n\n    /**\n     * Update Parent id before render, do child can use immediately parentId.\n     * This step is necessary only if component come without parentId\n     * - In normal mode ( no repeat ) addSelfIdToFutureComponent() assign parent id before render\n     * - Repeater coem with parentId 'precompiled'\n     *\n     *  This is only a fallback.\n     */\n    setParentsIdFallback({ componentId: id });\n\n    /**\n     * Update to parent component child array.\n     */\n    addSelfIdToParentComponent({ id });\n\n    /**\n     * Add component type to repeaterTargetComponentMap\n     * So in watch callback of repeater will be filter the right child component.\n     * Use the component name of the first repeater child.\n     */\n    if (componentRepeatId && componentRepeatId !== '') {\n        addRepeatTargetComponent({\n            repeatId: componentRepeatId,\n            repeaterParentId: parentId ?? '',\n            targetComponent: componentName,\n        });\n    }\n\n    /**\n     * Is a component inside a repeater.\n     * We have the first currentRepeatValue\n     */\n    const shouldAddCurrentRepeaterValue = currentRepeatValue?.index !== -1;\n\n    /**\n     * Set initial currentRepeaterState for initialize dynamicProps.\n     * Only first child node of a repeater\n     *\n     * - update componentMap isRepeaterFirstChildNode\n     * - update componentMap currentRepeaterState\n     * - update child repeaterContextId\n     */\n    if (\n        shouldAddCurrentRepeaterValue &&\n        (!repeaterContextId || repeaterContextId === '')\n    ) {\n        setIsRepeaterFirstChildNode({ id });\n        setRepeaterStateById({ id, value: currentRepeatValue });\n        setRepeaterContext({ element: componentToParse, id });\n    }\n\n    /**\n     * Set initial currentRepeaterState for initialize dynamicProps.\n     * Only child of isRepeaterFirstChildNode\n     *\n     * - update repeaterContextId\n     */\n    if (\n        shouldAddCurrentRepeaterValue &&\n        repeaterContextId &&\n        repeaterContextId.length > 0\n    ) {\n        setRepeaterStateById({ id, value: currentRepeatValue });\n    }\n\n    /**\n     * Initialize dynamic props and\n     * set initial state.\n     */\n    addCurrentIdToDynamicProps({\n        propsId: dynamicPropsId,\n        repeatPropBind,\n        componentId: id,\n    });\n\n    addCurrentIdToDynamicProps({\n        propsId: dynamicPropsIdFromSlot,\n        componentId: id,\n    });\n\n    /**\n     * Prepare params for component function\n     */\n    const objectFromComponentFunction = getParamsForComponentFunction({\n        getState,\n        setState,\n        emit,\n        emitAsync,\n        computed,\n        watch,\n        id,\n        key,\n        bindEventsId,\n    });\n\n    /**\n     * Launch userFunctionComponent and wait for render function with custom DOM\n     * to add to component.\n     */\n    const content = await userFunctionComponent(objectFromComponentFunction);\n\n    /**\n     * Get all classes from placeholder component\n     */\n    const classList = componentToParse.classList;\n\n    /**\n     * Add custom DOM to basic component\n     */\n    const { newElement } = await convertToRealElement({\n        content,\n        // @ts-ignore\n        element: componentToParse,\n    });\n\n    /**\n     * copy all classes in new component.\n     */\n    newElement.classList.add(...classList);\n\n    /**\n     * Find all default node refs.\n     */\n    const refsCollection = newElement ? getRefs(newElement) : {};\n\n    /**\n     * Find all component node refs.\n     */\n    const refsCollectionComponent = newElement\n        ? getRefsComponent(newElement)\n        : [];\n\n    /**\n     * Set parentId to component inside current.\n     * Add self id to future component.\n     * If id is assigned to component nested in next cycle will be override by current component.\n     */\n    addParentIdToFutureComponent({ element: newElement, id });\n\n    /**\n     * If element wad destroyed during parse\n     * es: repat function fired with async component to fast\n     * return without render dom component.\n     */\n    if (!newElement) {\n        const activeParser = decrementParserCounter();\n        if (!activeParser) {\n            // removeOrphanComponent();\n        }\n\n        return;\n    }\n\n    /**\n     * Update last DOM element in store.\n     */\n    setElementById({ id, newElement });\n\n    /**\n     * Get all repeat placeholder to check the parent div for each list.\n     */\n    const repeaterNodeList = queryGenericRepeater(newElement);\n    const repeatersParents = [...repeaterNodeList].map((placeholder) => {\n        return {\n            parent: /** @type {HTMLElement} */ (placeholder.parentNode),\n            // @ts-ignore\n            id: placeholder.getRepeatId(),\n        };\n    });\n\n    /**\n     * Execute repeat List function\n     */\n    const repeatIdArray = objectFromComponentFunction?.repeatIdArray;\n    const firstRepeatEmitArray = repeatIdArray.map((repeatId) => {\n        return inizializeRepeat({\n            repeatId,\n            repeaterParent: repeatersParents.find(({ id }) => {\n                return id === repeatId;\n            }),\n        });\n    });\n\n    // const bindEventsId = objectFromComponentFunction?.bindEventsId;\n    if (bindEventsId) {\n        applyBindEvents({\n            element: newElement,\n            componentId: id,\n            bindEventsId,\n        });\n    }\n\n    /**\n     * Fire immediately onMount callback, scoped to current component DOM.\n     * Child is ignored.\n     */\n    const shoulBeScoped = scoped ?? getDefaultComponent().scoped;\n\n    if (shoulBeScoped) {\n        await fireOnMountCallBack({\n            id,\n            element: newElement,\n            refsCollection,\n        });\n    }\n\n    /**\n     * Initialize custom component.\n     */\n    // @ts-ignore\n    newElement?.inizializeCustomComponent?.(objectFromComponentFunction);\n\n    /**\n     * Store onMount callback.\n     * Fire :\n     * 1 - onMount callback.\n     * 2 - Dynamic props.\n     * 3 - First repat from current state.\n     */\n    functionToFireAtTheEnd.push({\n        onMount: async () => {\n            if (shoulBeScoped) return;\n\n            /**\n             * Normalize component refs in array like default refs\n             */\n            const refFromComponent = refsComponentToNewElement(\n                refsCollectionComponent\n            );\n\n            /**\n             * Fire onMount callback at the end of current parse.\n             */\n            await fireOnMountCallBack({\n                id,\n                element: newElement,\n                refsCollection: { ...refsCollection, ...refFromComponent },\n            });\n        },\n        fireDynamic: () => {\n            applyDynamicProps({\n                componentId: id,\n                repeatPropBind,\n                inizilizeWatcher: true,\n            });\n        },\n        fireFirstRepeat:\n            firstRepeatEmitArray.length > 0\n                ? () => {\n                      firstRepeatEmitArray.forEach((fn) => {\n                          fn?.();\n                      });\n                  }\n                : () => {},\n    });\n\n    // Check for another component\n    await parseComponentsRecursive({\n        element,\n        functionToFireAtTheEnd,\n        isCancellable,\n        currentIterationCounter: (currentIterationCounter += 1),\n        currentSelectors: parseSourceArray,\n        parentIdForced,\n    });\n};\n", "// @ts-check\n\nimport { incrementTickQueuque } from '../componentStore/tick';\nimport { QUEQUE_TYPE_PARSE_WATCH_ASYNC } from '../constant';\nimport { MAIN_STORE_REPEATER_PARSER_ROOT } from '../mainStore/constant';\nimport { mainStore } from '../mainStore/mainStore';\nimport { incrementParserCounter } from '../temporaryData/parser/parser';\nimport { parseComponentsRecursive } from './parseComponentRecursive';\n\n/**\n * @param {object} obj\n * @param {HTMLElement} obj.element\n * @param {boolean} [ obj.isCancellable ]\n * @param {string} [ obj.parentIdForced ]\n * @return {Promise<void>} A promise to the token.\n *\n * @description\n */\nexport const parseComponents = async ({\n    element,\n    isCancellable = true,\n    parentIdForced = '',\n}) => {\n    incrementParserCounter();\n\n    await parseComponentsRecursive({\n        element,\n        isCancellable,\n        currentIterationCounter: 0,\n        parentIdForced,\n    });\n};\n\n/**\n * @description\n * Parse component from inner component generated by first parseComponent.\n * Use pub/sub to avoid circular dependencies.\n *\n * @returns {void}\n */\nexport const initParseWatcher = () => {\n    mainStore.watch(\n        MAIN_STORE_REPEATER_PARSER_ROOT,\n        async ({ element, parentId }) => {\n            const decrementQueqe = incrementTickQueuque({\n                element,\n                type: QUEQUE_TYPE_PARSE_WATCH_ASYNC,\n            });\n\n            await parseComponents({\n                element,\n                parentIdForced: parentId ?? '',\n            });\n\n            decrementQueqe();\n        }\n    );\n};\n\n/**\n * @param {HTMLElement} element\n * @return {Promise<void>} A promise to the token.\n *\n * @description\n */\nexport const parseDom = async (element) => {\n    await parseComponents({\n        element,\n    });\n};\n", "// @ts-check\n\n/**\n * @type {boolean}\n */\nlet restoreScroll = true;\n\n/**\n * @param {boolean} value\n * @returns { void }\n *\n * @description\n */\nexport const setRestoreScroll = (value) => {\n    restoreScroll = value;\n};\n\n/**\n * @returns {boolean}\n *\n * @description\n */\nexport const getRestoreScroll = () => restoreScroll;\n", "// @ts-check\n\nimport {\n    removeCancellableComponent,\n    removeOrphanComponent,\n} from '../componentStore/action/removeAndDestroy';\nimport { getRouteByName } from '../mainStore/routeList';\nimport {\n    MAIN_STORE_ACTIVE_PARAMS,\n    MAIN_STORE_ACTIVE_ROUTE,\n    MAIN_STORE_AFTER_ROUTE_CHANGE,\n    MAIN_STORE_BEFORE_ROUTE_CHANGE,\n    MAIN_STORE_BEFORE_ROUTE_LEAVES,\n    MAIN_STORE_ROUTE_IS_LOADING,\n} from '../mainStore/constant';\nimport { getContentId } from '../mainStore/contendId';\nimport { mainStore } from '../mainStore/mainStore';\nimport {\n    getBeforePageTransition,\n    getPageTransition,\n} from '../mainStore/pageTransition';\nimport { parseComponents } from '../parseComponent/componentParse';\nimport { tick } from '../componentStore/tick';\nimport { getRestoreScroll } from '../mainStore/restoreScroll';\n\n/**\n * @param {object} param\n * @param {string} param.route\n * @param {{[key:string]: any}} param.params\n * @param {boolean} param.comeFromHistory\n * @param {number} param.scrollY\n *\n * @description\n * Load new route.\n */\nexport const loadRoute = async ({\n    route = '',\n    params = {},\n    scrollY,\n    comeFromHistory = false,\n}) => {\n    mainStore.set(MAIN_STORE_ROUTE_IS_LOADING, true);\n\n    /**\n     * Await that all operation is completed before load next route\n     */\n    await tick();\n\n    /**\n     *\n     */\n    const contentId = getContentId();\n\n    /**\n     * @type {HTMLElement|null}\n     */\n    const contentEl = document?.querySelector(contentId);\n    if (!contentEl) return;\n\n    /**\n     * Set before Route leave.\n     */\n    const { activeRoute } = mainStore.get();\n    mainStore.set(MAIN_STORE_BEFORE_ROUTE_LEAVES, activeRoute);\n\n    /**\n     * Set before Change props\n     */\n    mainStore.set(MAIN_STORE_BEFORE_ROUTE_CHANGE, route);\n\n    /**\n     * If another route change during loading current route\n     * ( async route with some delay or similar )\n     * skip fire after route change event\n     */\n    let skip = false;\n    const unWatchRouteChange = mainStore.watch(\n        MAIN_STORE_BEFORE_ROUTE_CHANGE,\n        () => {\n            skip = true;\n        }\n    );\n\n    /**\n     * Clean DOM\n     * Remove props reference.\n     * Async loading and interrupt can leave rubbish.\n     */\n    removeOrphanComponent();\n\n    /**\n     * Set new active route.\n     */\n    mainStore.set(MAIN_STORE_ACTIVE_ROUTE, route);\n    mainStore.set(MAIN_STORE_ACTIVE_PARAMS, params);\n\n    /**\n     * Get route.\n     */\n    const routeObejct = getRouteByName({ routeName: route });\n\n    /**\n     * Get route props,\n     */\n    const props = routeObejct?.props ?? {};\n\n    /**\n     * Get route DOM,\n     */\n    const content = (await routeObejct?.layout?.({ params, props })) ?? '';\n\n    /**\n     * Clone old route.\n     * Execute function to manipulate old Node.\n     */\n    const beforePageTransition = getBeforePageTransition();\n\n    /**\n     * @type {Node|null}\n     */\n    let clone = contentEl?.cloneNode(true);\n\n    if (beforePageTransition && clone && !comeFromHistory) {\n        await beforePageTransition({\n            // @ts-ignore\n            oldNode: clone,\n            oldRoute: activeRoute,\n            newRoute: route,\n        });\n        contentEl?.parentNode?.insertBefore(clone, contentEl);\n    }\n\n    /**\n     *\n     */\n    contentEl.innerHTML = '';\n    removeCancellableComponent();\n    contentEl.insertAdjacentHTML('afterbegin', content);\n\n    /**\n     * Wait for all render.\n     */\n    await parseComponents({ element: contentEl });\n\n    /**\n     * SKit after route change if another route is called.\n     */\n    if (!skip) mainStore.set(MAIN_STORE_AFTER_ROUTE_CHANGE, route);\n\n    /**\n     * Scroll to 0 or if use history from history scrollY value\n     */\n    if (getRestoreScroll()) scrollTo(0, scrollY);\n\n    /**\n     * Animate pgae teansition.\n     * Remove old route.\n     */\n    const pageTransition = getPageTransition();\n    if (pageTransition && !comeFromHistory) {\n        await pageTransition({\n            oldNode: clone,\n            newNode: contentEl,\n            oldRoute: activeRoute,\n            newRoute: route,\n        });\n        // @ts-ignore\n        clone.remove();\n    }\n\n    /**\n     * Destroy Clone.\n     */\n    clone = null;\n\n    /**\n     * Set active route to body data-route\n     */\n    document.body.dataset['route'] = route;\n\n    /**\n     * Remove watcher.\n     */\n    unWatchRouteChange?.();\n\n    mainStore.set(MAIN_STORE_ROUTE_IS_LOADING, false);\n};\n", "// @ts-check\n\nimport {\n    getIndex,\n    getPageNotFound,\n    getRouteByName,\n} from '../mainStore/routeList';\n\n/**\n * @param {object} obj\n * @param {string} obj.url\n * @returns {string}\n *\n * @description\n * Validate url, in not exist return pageNotFound.\n */\nexport const getRouteModule = ({ url = '' }) => {\n    const index = getIndex();\n    const pageNotFound = getPageNotFound();\n\n    if (url === '') return index;\n\n    return getRouteByName({ routeName: url }) ? url : pageNotFound;\n};\n", "// @ts-check\n\nimport { mobCore } from '../../mobCore';\nimport { mainStore } from '../mainStore/mainStore';\nimport { HISTORY_BACK, HISTORY_NEXT } from './constant';\nimport {\n    historyBackSize,\n    getLastHistory,\n    getLastHistoryNext,\n    resetNext,\n    setHistoryBack,\n    setHistoryNext,\n} from './historyScrollY';\nimport { loadRoute } from './loadRoute';\nimport { getRouteModule } from './utils';\n\nlet previousHash = '';\nlet previousParamsToPush = '';\nlet currentSearch;\nlet historyDirection = 'back';\n\n/**\n * @type {import('./type').historyType}\n */\nlet previousHistory;\n\n/**\n * @type {import('./type').historyType}\n */\nlet currentHistory;\n\n/**\n * @param {string} value\n * @returns {string}\n */\nconst sanitizeParams = (value) => {\n    return value.replace('?', '').replace('/', '');\n};\n\n/**\n * @param {string} value\n * @returns {string}\n */\nconst sanitizeHash = (value) => {\n    return value.replace('#', '').replace('/', '').replace('.', '');\n};\n\n/**\n * @param {string} value\n * @returns {{[key:string]:any}}\n */\nconst getParams = (value) => {\n    return value.split('&').reduce((previous, current) => {\n        const currentParams = current.split('=');\n        const key = sanitizeParams(currentParams?.[0] ?? '');\n        const value = currentParams?.[1];\n\n        return key && key.length > 0 ? { ...previous, [key]: value } : previous;\n    }, {});\n};\n\n/**\n * @description\n * Get hash from url and load new route.\n */\nconst hashHandler = async () => {\n    const historyObejct = { time: mobCore.getTime(), scrollY: window.scrollY };\n\n    /**\n     * Prevent multiple routes start at same time.\n     */\n    const { routeIsLoading } = mainStore.get();\n    if (routeIsLoading) {\n        /**\n         * Restore previous hash/params.\n         */\n        history.replaceState(\n            { nextId: historyObejct },\n            '',\n            `#${previousHash}${previousParamsToPush}`\n        );\n        return;\n    }\n\n    const hashOriginal = window.location.hash.slice(1);\n    const parts = hashOriginal.split('?');\n    const search = sanitizeParams(parts?.[1] ?? '');\n\n    /**\n     * Get final hash/params value.\n     */\n    const hash = sanitizeHash(parts?.[0] ?? '');\n    const params = getParams(currentSearch ?? search);\n\n    /**\n     * Update browser history.\n     */\n    const paramsToPush =\n        currentSearch || Object.keys(search).length > 0\n            ? `?${currentSearch ?? search}`\n            : '';\n\n    /**\n     * set unique id to route.\n     * Useful in poState to check if come from backButton\n     */\n    if (!currentHistory)\n        history.replaceState(\n            { nextId: historyObejct },\n            '',\n            `#${hash}${paramsToPush}`\n        );\n\n    /**\n     * Reset last search value ( id come form loadUrl function ).\n     */\n    currentSearch = undefined;\n\n    /**\n     * Store previous hash.\n     */\n    previousHash = hash;\n\n    /**\n     * Store previous paramsToPush.\n     */\n    previousParamsToPush = paramsToPush;\n\n    // modalita standard\n    // salvo il vaslore dello scroll corrente\n    if (!currentHistory) {\n        setHistoryBack(historyObejct);\n    }\n\n    // salvo il vaslore dello scroll corrente\n    if (currentHistory && historyDirection === HISTORY_BACK) {\n        setHistoryNext(historyObejct);\n    }\n\n    // salvo il vaslore corrente di next in back\n    if (currentHistory && historyDirection === HISTORY_NEXT) {\n        setHistoryBack(getLastHistoryNext());\n    }\n\n    /**\n     * Load.\n     */\n    await loadRoute({\n        route: getRouteModule({ url: hash }),\n        params,\n        scrollY: currentHistory ? getLastHistory(historyDirection)?.scrollY : 0,\n        comeFromHistory: currentHistory ? true : false,\n    });\n};\n\n/**\n * @description\n * Initialize router.\n */\nexport const router = () => {\n    hashHandler();\n\n    window.addEventListener('popstate', (event) => {\n        currentHistory = event?.state?.nextId;\n\n        /**\n         * First back\n         */\n        if (currentHistory && !previousHistory && historyBackSize() > 0) {\n            previousHistory = currentHistory;\n            historyDirection = HISTORY_BACK;\n            return;\n        }\n\n        /**\n         * Next\n         */\n        if (\n            currentHistory &&\n            previousHistory?.time > currentHistory?.time &&\n            historyBackSize() > 0\n        ) {\n            previousHistory = currentHistory;\n            historyDirection = HISTORY_BACK;\n            return;\n        }\n\n        /**\n         * prev\n         */\n        if (currentHistory && previousHistory?.time < currentHistory?.time) {\n            previousHistory = currentHistory;\n            historyDirection = HISTORY_NEXT;\n            return;\n        }\n\n        previousHistory = undefined;\n        historyDirection = '';\n\n        /**\n         * Normal mode reset next\n         */\n        resetNext();\n    });\n\n    window.addEventListener('hashchange', () => {\n        hashHandler();\n    });\n};\n\n/**\n * @description\n * Set hash in current browser url.\n */\nexport const loadUrl = ({ url = '' }) => {\n    const parts = url.split('?');\n\n    /**\n     * Isolate hash, without # character.\n     */\n    const hash = sanitizeHash(parts?.[0] ?? '');\n\n    /**\n     * Extract current params, to use later ( in getHash function ).\n     */\n    const search = sanitizeParams(parts?.[1] ?? '');\n    if (search.length > 0) currentSearch = search;\n\n    /**\n     * Update hash without params.\n     */\n    window.location.hash = hash;\n\n    /**\n     * If we want reload same route from same hash, maybe params is different.\n     */\n    if (hash === previousHash || previousHash === '') {\n        window.dispatchEvent(new HashChangeEvent('hashchange'));\n    }\n};\n", "import {\n    MAIN_STORE_ACTIVE_ROUTE,\n    MAIN_STORE_AFTER_ROUTE_CHANGE,\n    MAIN_STORE_BEFORE_ROUTE_CHANGE,\n    MAIN_STORE_BEFORE_ROUTE_LEAVES,\n} from '../mainStore/constant';\nimport { mainStore } from '../mainStore/mainStore';\n\nexport const debugRoute = () => {\n    /**\n     * Some event test.\n     */\n    mainStore.watch(MAIN_STORE_BEFORE_ROUTE_LEAVES, (current) => {\n        console.log('----------------');\n        console.log(`before route leave`, current);\n    });\n\n    mainStore.watch(MAIN_STORE_BEFORE_ROUTE_CHANGE, (current, previous) => {\n        console.log('before route change:');\n        console.log(`previous:`, previous);\n        console.log(`current:`, current);\n    });\n\n    mainStore.watch(MAIN_STORE_ACTIVE_ROUTE, (current) => {\n        console.log(`active route:`, current);\n    });\n\n    mainStore.watch(MAIN_STORE_AFTER_ROUTE_CHANGE, (current) => {\n        console.log(`after route change`, current);\n        console.log('----------------');\n    });\n};\n", "// @ts-check\n\nimport { mobCore } from '../../mobCore';\nimport { frameDelayAfterParse } from '../constant';\nimport { setComponentList } from '../mainStore/componentList';\nimport {\n    setIndex,\n    setPageNotFound,\n    setRouteList,\n} from '../mainStore/routeList';\nimport {\n    initParseWatcher,\n    parseComponents,\n} from '../parseComponent/componentParse';\nimport { router } from './router';\nimport { debugRoute } from './test';\nimport { setContentId } from '../mainStore/contendId';\nimport { setRoot } from '../mainStore/root';\nimport {\n    setBeforePageTransition,\n    setPageTransition,\n} from '../mainStore/pageTransition';\nimport { setRestoreScroll } from '../mainStore/restoreScroll';\n\n/**\n * @type {( arg0: import('../type').inizializeApp) => Promise<void>}\n *\n * @description\n * Inizializa default route.\n */\nexport const inizializeApp = async ({\n    rootId,\n    wrapper,\n    contentId,\n    routes = [],\n    afterInit = () => {},\n    index = 'home',\n    pageNotFound = 'pageNotFound',\n    beforePageTransition,\n    pageTransition,\n    restoreScroll = true,\n}) => {\n    /**\n     * @type {HTMLElement|null}\n     */\n    const rootEl = /** @type{HTMLElement} */ document.querySelector(rootId);\n    const wrapperDOM = await wrapper();\n\n    /**\n     * Validate initial data.\n     * Else skip.\n     */\n    if (!contentId || !rootEl) return;\n\n    /**\n     *\n     */\n    setContentId({ contentId });\n    setRoot({ element: rootEl });\n    setPageTransition({ fn: pageTransition });\n    setBeforePageTransition({ fn: beforePageTransition });\n    setRestoreScroll(restoreScroll);\n\n    /**\n     * Init parse watcher.\n     */\n    initParseWatcher();\n\n    /**\n     *\n     */\n    setComponentList();\n\n    /**\n     *\n     */\n    setRouteList(routes);\n\n    /**\n     * Set idnex route\n     */\n    setIndex({ routeName: index });\n\n    /**\n     * Set idnex route\n     */\n    setPageNotFound({ routeName: pageNotFound });\n\n    /**\n     * Add wrapper to root node.\n     */\n    rootEl.insertAdjacentHTML('afterbegin', wrapperDOM);\n\n    /**\n     * Render common layout component.\n     * Initialize js on common layout component.\n     * All component here is persistent, so isCancellable is set to false.\n     */\n    await parseComponents({ element: rootEl, isCancellable: false });\n\n    /**\n     * First callback after parse index.html first time.\n     * Wait 5 frames, so browser can clear gargbage collector created in parse step.\n     */\n    mobCore.useFrameIndex(() => {\n        mobCore.useNextTick(() => {\n            afterInit();\n        });\n    }, frameDelayAfterParse);\n\n    /**\n     * Debug\n     */\n    debugRoute();\n\n    /**\n     * Start router.\n     */\n    router();\n};\n", "// @ts-check\n\nimport { ATTR_PROPS } from './constant';\nimport { setStaticProps } from './temporaryData/staticProps';\n\n/**\n * @param {{[key:string]:any}} props\n * @returns {string}\n *\n * @description\n * Set static props\n *\n * @example\n * ```javascript\n * <MyComponent\n *     ${staticProps({\n *         gutter: 1,\n *         ...\n *     })}\n * ></MyComponent>\n *\n * ```\n *\n */\nexport const staticProps = (props = {}) => {\n    return `${ATTR_PROPS}=\"${setStaticProps(props)}\"`;\n};\n", "// @ts-check\n\nimport { componentMap } from '../store';\n\n/**\n * @param {Object} param\n * @param {[string, import('../type').componentStoreTypes][]} param.chunk\n */\nconst getTreeRecursive = ({ chunk }) => {\n    // @ts-ignore\n    return chunk.reduce((previous, current) => {\n        const [key, value] = current;\n        const { child, componentName, instanceName } = value;\n\n        /**\n         * Create an array of children\n         */\n        const childrenId = new Set(Object.values(child ?? {}).flat());\n        const childrenChunk = [...componentMap.entries()].filter(([key]) =>\n            childrenId.has(key)\n        );\n\n        return [\n            ...previous,\n            {\n                id: key,\n                componentName,\n                instanceName,\n                children: getTreeRecursive({\n                    chunk: childrenChunk,\n                }),\n            },\n        ];\n    }, []);\n};\n\n/**\n * @param {Object} param\n * @param {string} param.parentId\n */\nexport const getTree = () => {\n    /**\n     * Get first level component with parentId = ''\n     */\n    const chunk = [...componentMap.entries()].filter(\n        ([, value]) => !value?.parentId || value?.parentId === ''\n    );\n\n    return getTreeRecursive({ chunk });\n};\n", "//@ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport { motionCore } from '../../../mobMotion';\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').AnimationTitle>}\n */\nexport const AnimationTitleFn = ({ html, onMount, watchSync }) => {\n    onMount(({ element, ref }) => {\n        if (motionCore.mq('max', 'desktop')) return;\n\n        const { titleEl } = ref;\n\n        watchSync('align', (value) => {\n            element.classList.remove('is-left');\n            element.classList.remove('is-right');\n            element.classList.add(`is-${value}`);\n        });\n\n        watchSync('title', (value) => {\n            titleEl.innerHTML = value;\n        });\n\n        watchSync('color', (value) => {\n            titleEl.classList.remove('is-white');\n            titleEl.classList.remove('is-black');\n            titleEl.classList.remove('is-highlight');\n            titleEl.classList.add(`is-${value}`);\n        });\n\n        mobCore.useFrame(() => {\n            titleEl.classList.add('visible');\n        });\n\n        return () => {};\n    });\n\n    return html`<div class=\"c-animation-title\">\n        <h4 ref=\"titleEl\"></h4>\n    </div>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { AnimationTitleFn } from './animationTitle';\n\nexport const AnimationTitle = createComponent({\n    name: 'animation-title',\n    component: AnimationTitleFn,\n    exportState: ['title', 'align', 'color'],\n    state: {\n        title: () => ({\n            value: '',\n            type: String,\n        }),\n        align: () => ({\n            value: 'left',\n            type: String,\n            validate: (value) => {\n                return ['left', 'right'].includes(value);\n            },\n        }),\n        color: () => ({\n            value: 'white',\n            type: String,\n            validate: (value) => {\n                return ['white', 'black', 'highlight'].includes(value);\n            },\n        }),\n    },\n});\n", "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg width=\"700pt\" height=\"700pt\" version=\"1.1\" viewBox=\"0 0 700 700\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n <g>\n  <path d=\"m221.2 367.92-102.48-85.684 102.48-85.117c7.2812-6.1602 8.3984-16.801 2.2383-24.078-3.3594-3.9219-8.3984-6.1602-13.441-6.1602-3.9219 0-7.8398 1.1211-11.199 3.9219l-117.6 98.555c-3.9219 3.3594-6.1602 7.8398-6.1602 13.441 0 5.6016 2.2383 10.078 6.1602 13.441l118.16 98.559c3.3594 2.8008 6.7188 3.9219 11.199 3.9219 5.0391 0 10.078-2.2383 13.441-6.1602 5.6016-7.8438 4.4805-18.484-2.8008-24.641z\"/>\n  <path d=\"m623.28 288.96c0-5.0391-2.2383-10.078-6.1602-13.441l-118.72-98.559c-3.3594-2.8008-7.2812-3.9219-11.199-3.9219-5.0391 0-10.078 2.2383-13.441 6.1602-6.1602 7.2812-5.0391 17.922 2.2383 24.078l102.48 85.68-101.92 85.684c-7.2812 6.1602-8.3984 16.801-2.2383 24.078 3.3594 3.9219 7.8398 6.1602 13.441 6.1602 3.9219 0 7.8398-1.6797 11.199-3.9219l118.16-98.559c3.918-3.3594 6.1602-8.3984 6.1602-13.438z\"/>\n  <path d=\"m408.8 72.801c-1.6797-0.55859-3.3594-0.55859-5.0391-0.55859-7.2812 0-14 4.4805-16.238 12.32l-124.88 399.84c-2.8008 8.9609 2.2383 18.48 11.199 21.281 1.6797 0.55859 3.3594 0.55859 5.0391 0.55859 7.8398 0 14-5.0391 16.238-12.32l124.32-400.4c3.3633-8.3984-1.6758-17.918-10.637-20.719z\"/>\n </g>\n</svg>\n", "//@ts-check\n\nimport { mobCore } from '../../../../mobCore';\n\n/**\n * @description\n * Navigation store utils.\n *\n * @type {import('../../../../mobCore/store/type').mobStore<import('./type').NavigationStore>}\n */\nexport const navigationStore = mobCore.createStore({\n    closeAllAccordion: () => {},\n    refreshScroller: () => {},\n    openNavigation: () => {},\n    closeNavigation: () => {},\n    goToTop: () => {},\n    activeSection: () => ({\n        value: '',\n        type: String,\n        skipEqual: false,\n    }),\n    navigationIsOpen: () => ({\n        value: false,\n        type: Boolean,\n    }),\n});\n", "//@ts-check\n\n// @ts-ignore\nimport codeIcon from '../../../../svg/icon-code.svg';\nimport { setStateByName } from '../../../mobjs';\nimport { navigationStore } from '../../layout/navigation/store/navStore';\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').CodeButton>}\n */\nexport const CodeButtonFn = ({\n    getState,\n    watchSync,\n    onMount,\n    html,\n    delegateEvents,\n}) => {\n    /**\n     * @type {import('../../../mobjs/type').SetStateByName<import('../codeOverlay/type').CodeOverlay>}\n     */\n    const setCodeOvrlayState = setStateByName('codeOverlay');\n\n    onMount(({ element }) => {\n        watchSync('color', (value) => {\n            if (value === 'black') {\n                element.classList.remove('c-code-btn--white');\n                element.classList.add('c-code-btn--black');\n            }\n\n            if (value === 'white') {\n                element.classList.add('c-code-btn--white');\n                element.classList.remove('c-code-btn--black');\n            }\n        });\n\n        watchSync('drawers', (value) => {\n            const isActive = value.length > 0;\n            element.classList.toggle('active', isActive);\n        });\n\n        const unsubscribeOpenNav = navigationStore.watch(\n            'openNavigation',\n            () => {\n                element.classList.remove('active');\n            }\n        );\n\n        const unsubscribeCloseNav = navigationStore.watch(\n            'closeNavigation',\n            () => {\n                const { drawers } = getState();\n                if (drawers.length === 0) return;\n\n                element.classList.add('active');\n            }\n        );\n\n        return () => {\n            unsubscribeCloseNav();\n            unsubscribeOpenNav();\n            element.remove();\n        };\n    });\n\n    return html`\n        <button\n            class=\"c-code-btn\"\n            ${delegateEvents({\n                click: () => {\n                    const { drawers } = getState();\n                    setCodeOvrlayState('urls', drawers);\n                },\n            })}\n        >\n            <span class=\"c-code-btn__icon\">${codeIcon}</span>\n        </button>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { CodeButtonFn } from './codeButton';\n\nexport const CodeButton = createComponent({\n    name: 'code-button',\n    component: CodeButtonFn,\n    exportState: ['drawers', 'color'],\n    state: {\n        drawers: () => ({\n            value: [],\n            type: Array,\n        }),\n        color: () => ({\n            value: 'black',\n            type: String,\n        }),\n    },\n});\n", "//@ts-check\n\nimport { tween } from '../../../mobMotion';\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent<import('./type').Loader>}\n */\nexport const LoaderFn = ({ onMount, html, watch, remove, getState }) => {\n    const { position } = getState();\n\n    onMount(({ element }) => {\n        let tweenOut = tween.createTween({\n            data: { opacity: 1, scale: 1 },\n            duration: 500,\n        });\n\n        tweenOut.subscribe(({ opacity, scale }) => {\n            element.style.opacity = opacity;\n            element.style.transform = `scale(${scale})`;\n        });\n\n        watch('shouldRemove', async (shouldRemove) => {\n            if (!shouldRemove) return;\n\n            await tweenOut.goTo({ opacity: 0, scale: 0.9 });\n            remove();\n        });\n\n        return () => {\n            tweenOut.destroy();\n            // @ts-ignore\n            tweenOut = null;\n        };\n    });\n\n    return html`\n        <div class=\"c-loader ${position}\">\n            <span class=\"c-loader__inner\"></span>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { LoaderFn } from './loader';\n\nexport const Loader = createComponent({\n    name: 'mob-loader',\n    component: LoaderFn,\n    exportState: ['position', 'shouldRemove'],\n    state: {\n        shouldRemove: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        position: () => ({\n            value: 'center-viewport',\n            type: String,\n            validate: (val) => {\n                return ['center-viewport', 'center-component'].includes(val);\n            },\n        }),\n    },\n});\n", "// https://nodejs.org/api/packages.html#packages_writing_dual_packages_while_avoiding_or_minimizing_hazards\nimport HighlightJS from '../lib/core.js';\nexport { HighlightJS };\nexport default HighlightJS;\n", "const IDENT_RE = '[A-Za-z$_][0-9A-Za-z$_]*';\nconst KEYWORDS = [\n  \"as\", // for exports\n  \"in\",\n  \"of\",\n  \"if\",\n  \"for\",\n  \"while\",\n  \"finally\",\n  \"var\",\n  \"new\",\n  \"function\",\n  \"do\",\n  \"return\",\n  \"void\",\n  \"else\",\n  \"break\",\n  \"catch\",\n  \"instanceof\",\n  \"with\",\n  \"throw\",\n  \"case\",\n  \"default\",\n  \"try\",\n  \"switch\",\n  \"continue\",\n  \"typeof\",\n  \"delete\",\n  \"let\",\n  \"yield\",\n  \"const\",\n  \"class\",\n  // JS handles these with a special rule\n  // \"get\",\n  // \"set\",\n  \"debugger\",\n  \"async\",\n  \"await\",\n  \"static\",\n  \"import\",\n  \"from\",\n  \"export\",\n  \"extends\"\n];\nconst LITERALS = [\n  \"true\",\n  \"false\",\n  \"null\",\n  \"undefined\",\n  \"NaN\",\n  \"Infinity\"\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\nconst TYPES = [\n  // Fundamental objects\n  \"Object\",\n  \"Function\",\n  \"Boolean\",\n  \"Symbol\",\n  // numbers and dates\n  \"Math\",\n  \"Date\",\n  \"Number\",\n  \"BigInt\",\n  // text\n  \"String\",\n  \"RegExp\",\n  // Indexed collections\n  \"Array\",\n  \"Float32Array\",\n  \"Float64Array\",\n  \"Int8Array\",\n  \"Uint8Array\",\n  \"Uint8ClampedArray\",\n  \"Int16Array\",\n  \"Int32Array\",\n  \"Uint16Array\",\n  \"Uint32Array\",\n  \"BigInt64Array\",\n  \"BigUint64Array\",\n  // Keyed collections\n  \"Set\",\n  \"Map\",\n  \"WeakSet\",\n  \"WeakMap\",\n  // Structured data\n  \"ArrayBuffer\",\n  \"SharedArrayBuffer\",\n  \"Atomics\",\n  \"DataView\",\n  \"JSON\",\n  // Control abstraction objects\n  \"Promise\",\n  \"Generator\",\n  \"GeneratorFunction\",\n  \"AsyncFunction\",\n  // Reflection\n  \"Reflect\",\n  \"Proxy\",\n  // Internationalization\n  \"Intl\",\n  // WebAssembly\n  \"WebAssembly\"\n];\n\nconst ERROR_TYPES = [\n  \"Error\",\n  \"EvalError\",\n  \"InternalError\",\n  \"RangeError\",\n  \"ReferenceError\",\n  \"SyntaxError\",\n  \"TypeError\",\n  \"URIError\"\n];\n\nconst BUILT_IN_GLOBALS = [\n  \"setInterval\",\n  \"setTimeout\",\n  \"clearInterval\",\n  \"clearTimeout\",\n\n  \"require\",\n  \"exports\",\n\n  \"eval\",\n  \"isFinite\",\n  \"isNaN\",\n  \"parseFloat\",\n  \"parseInt\",\n  \"decodeURI\",\n  \"decodeURIComponent\",\n  \"encodeURI\",\n  \"encodeURIComponent\",\n  \"escape\",\n  \"unescape\"\n];\n\nconst BUILT_IN_VARIABLES = [\n  \"arguments\",\n  \"this\",\n  \"super\",\n  \"console\",\n  \"window\",\n  \"document\",\n  \"localStorage\",\n  \"sessionStorage\",\n  \"module\",\n  \"global\" // Node.js\n];\n\nconst BUILT_INS = [].concat(\n  BUILT_IN_GLOBALS,\n  TYPES,\n  ERROR_TYPES\n);\n\n/*\nLanguage: JavaScript\nDescription: JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.\nCategory: common, scripting, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/JavaScript\n*/\n\n\n/** @type LanguageFn */\nfunction javascript(hljs) {\n  const regex = hljs.regex;\n  /**\n   * Takes a string like \"<Booger\" and checks to see\n   * if we can find a matching \"</Booger\" later in the\n   * content.\n   * @param {RegExpMatchArray} match\n   * @param {{after:number}} param1\n   */\n  const hasClosingTag = (match, { after }) => {\n    const tag = \"</\" + match[0].slice(1);\n    const pos = match.input.indexOf(tag, after);\n    return pos !== -1;\n  };\n\n  const IDENT_RE$1 = IDENT_RE;\n  const FRAGMENT = {\n    begin: '<>',\n    end: '</>'\n  };\n  // to avoid some special cases inside isTrulyOpeningTag\n  const XML_SELF_CLOSING = /<[A-Za-z0-9\\\\._:-]+\\s*\\/>/;\n  const XML_TAG = {\n    begin: /<[A-Za-z0-9\\\\._:-]+/,\n    end: /\\/[A-Za-z0-9\\\\._:-]+>|\\/>/,\n    /**\n     * @param {RegExpMatchArray} match\n     * @param {CallbackResponse} response\n     */\n    isTrulyOpeningTag: (match, response) => {\n      const afterMatchIndex = match[0].length + match.index;\n      const nextChar = match.input[afterMatchIndex];\n      if (\n        // HTML should not include another raw `<` inside a tag\n        // nested type?\n        // `<Array<Array<number>>`, etc.\n        nextChar === \"<\" ||\n        // the , gives away that this is not HTML\n        // `<T, A extends keyof T, V>`\n        nextChar === \",\"\n        ) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<something>`\n      // Quite possibly a tag, lets look for a matching closing tag...\n      if (nextChar === \">\") {\n        // if we cannot find a matching closing tag, then we\n        // will ignore it\n        if (!hasClosingTag(match, { after: afterMatchIndex })) {\n          response.ignoreMatch();\n        }\n      }\n\n      // `<blah />` (self-closing)\n      // handled by simpleSelfClosing rule\n\n      let m;\n      const afterMatch = match.input.substring(afterMatchIndex);\n\n      // some more template typing stuff\n      //  <T = any>(key?: string) => Modify<\n      if ((m = afterMatch.match(/^\\s*=/))) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<From extends string>`\n      // technically this could be HTML, but it smells like a type\n      // NOTE: This is ugh, but added specifically for https://github.com/highlightjs/highlight.js/issues/3276\n      if ((m = afterMatch.match(/^\\s+extends\\s+/))) {\n        if (m.index === 0) {\n          response.ignoreMatch();\n          // eslint-disable-next-line no-useless-return\n          return;\n        }\n      }\n    }\n  };\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS,\n    literal: LITERALS,\n    built_in: BUILT_INS,\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n\n  // https://tc39.es/ecma262/#sec-literals-numeric-literals\n  const decimalDigits = '[0-9](_?[0-9])*';\n  const frac = `\\\\.(${decimalDigits})`;\n  // DecimalIntegerLiteral, including Annex B NonOctalDecimalIntegerLiteral\n  // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n  const decimalInteger = `0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*`;\n  const NUMBER = {\n    className: 'number',\n    variants: [\n      // DecimalLiteral\n      { begin: `(\\\\b(${decimalInteger})((${frac})|\\\\.)?|(${frac}))` +\n        `[eE][+-]?(${decimalDigits})\\\\b` },\n      { begin: `\\\\b(${decimalInteger})\\\\b((${frac})\\\\b|\\\\.)?|(${frac})\\\\b` },\n\n      // DecimalBigIntegerLiteral\n      { begin: `\\\\b(0|[1-9](_?[0-9])*)n\\\\b` },\n\n      // NonDecimalIntegerLiteral\n      { begin: \"\\\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\\\b\" },\n      { begin: \"\\\\b0[bB][0-1](_?[0-1])*n?\\\\b\" },\n      { begin: \"\\\\b0[oO][0-7](_?[0-7])*n?\\\\b\" },\n\n      // LegacyOctalIntegerLiteral (does not include underscore separators)\n      // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n      { begin: \"\\\\b0[0-7]+n?\\\\b\" },\n    ],\n    relevance: 0\n  };\n\n  const SUBST = {\n    className: 'subst',\n    begin: '\\\\$\\\\{',\n    end: '\\\\}',\n    keywords: KEYWORDS$1,\n    contains: [] // defined later\n  };\n  const HTML_TEMPLATE = {\n    begin: 'html`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'xml'\n    }\n  };\n  const CSS_TEMPLATE = {\n    begin: 'css`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'css'\n    }\n  };\n  const GRAPHQL_TEMPLATE = {\n    begin: 'gql`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'graphql'\n    }\n  };\n  const TEMPLATE_STRING = {\n    className: 'string',\n    begin: '`',\n    end: '`',\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      SUBST\n    ]\n  };\n  const JSDOC_COMMENT = hljs.COMMENT(\n    /\\/\\*\\*(?!\\/)/,\n    '\\\\*/',\n    {\n      relevance: 0,\n      contains: [\n        {\n          begin: '(?=@[A-Za-z]+)',\n          relevance: 0,\n          contains: [\n            {\n              className: 'doctag',\n              begin: '@[A-Za-z]+'\n            },\n            {\n              className: 'type',\n              begin: '\\\\{',\n              end: '\\\\}',\n              excludeEnd: true,\n              excludeBegin: true,\n              relevance: 0\n            },\n            {\n              className: 'variable',\n              begin: IDENT_RE$1 + '(?=\\\\s*(-)|$)',\n              endsParent: true,\n              relevance: 0\n            },\n            // eat spaces (not newlines) so we can find\n            // types or variables\n            {\n              begin: /(?=[^\\n])\\s/,\n              relevance: 0\n            }\n          ]\n        }\n      ]\n    }\n  );\n  const COMMENT = {\n    className: \"comment\",\n    variants: [\n      JSDOC_COMMENT,\n      hljs.C_BLOCK_COMMENT_MODE,\n      hljs.C_LINE_COMMENT_MODE\n    ]\n  };\n  const SUBST_INTERNALS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    HTML_TEMPLATE,\n    CSS_TEMPLATE,\n    GRAPHQL_TEMPLATE,\n    TEMPLATE_STRING,\n    // Skip numbers when they are part of a variable name\n    { match: /\\$\\d+/ },\n    NUMBER,\n    // This is intentional:\n    // See https://github.com/highlightjs/highlight.js/issues/3288\n    // hljs.REGEXP_MODE\n  ];\n  SUBST.contains = SUBST_INTERNALS\n    .concat({\n      // we need to pair up {} inside our subst to prevent\n      // it from ending too early by matching another }\n      begin: /\\{/,\n      end: /\\}/,\n      keywords: KEYWORDS$1,\n      contains: [\n        \"self\"\n      ].concat(SUBST_INTERNALS)\n    });\n  const SUBST_AND_COMMENTS = [].concat(COMMENT, SUBST.contains);\n  const PARAMS_CONTAINS = SUBST_AND_COMMENTS.concat([\n    // eat recursive parens in sub expressions\n    {\n      begin: /\\(/,\n      end: /\\)/,\n      keywords: KEYWORDS$1,\n      contains: [\"self\"].concat(SUBST_AND_COMMENTS)\n    }\n  ]);\n  const PARAMS = {\n    className: 'params',\n    begin: /\\(/,\n    end: /\\)/,\n    excludeBegin: true,\n    excludeEnd: true,\n    keywords: KEYWORDS$1,\n    contains: PARAMS_CONTAINS\n  };\n\n  // ES6 classes\n  const CLASS_OR_EXTENDS = {\n    variants: [\n      // class Car extends vehicle\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1,\n          /\\s+/,\n          /extends/,\n          /\\s+/,\n          regex.concat(IDENT_RE$1, \"(\", regex.concat(/\\./, IDENT_RE$1), \")*\")\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\",\n          5: \"keyword\",\n          7: \"title.class.inherited\"\n        }\n      },\n      // class Car\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\"\n        }\n      },\n\n    ]\n  };\n\n  const CLASS_REFERENCE = {\n    relevance: 0,\n    match:\n    regex.either(\n      // Hard coded exceptions\n      /\\bJSON/,\n      // Float32Array, OutT\n      /\\b[A-Z][a-z]+([A-Z][a-z]*|\\d)*/,\n      // CSSFactory, CSSFactoryT\n      /\\b[A-Z]{2,}([A-Z][a-z]+|\\d)+([A-Z][a-z]*)*/,\n      // FPs, FPsT\n      /\\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\\d)*([A-Z][a-z]*)*/,\n      // P\n      // single letters are not highlighted\n      // BLAH\n      // this will be flagged as a UPPER_CASE_CONSTANT instead\n    ),\n    className: \"title.class\",\n    keywords: {\n      _: [\n        // se we still get relevance credit for JS library classes\n        ...TYPES,\n        ...ERROR_TYPES\n      ]\n    }\n  };\n\n  const USE_STRICT = {\n    label: \"use_strict\",\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use (strict|asm)['\"]/\n  };\n\n  const FUNCTION_DEFINITION = {\n    variants: [\n      {\n        match: [\n          /function/,\n          /\\s+/,\n          IDENT_RE$1,\n          /(?=\\s*\\()/\n        ]\n      },\n      // anonymous function\n      {\n        match: [\n          /function/,\n          /\\s*(?=\\()/\n        ]\n      }\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    label: \"func.def\",\n    contains: [ PARAMS ],\n    illegal: /%/\n  };\n\n  const UPPER_CASE_CONSTANT = {\n    relevance: 0,\n    match: /\\b[A-Z][A-Z_0-9]+\\b/,\n    className: \"variable.constant\"\n  };\n\n  function noneOf(list) {\n    return regex.concat(\"(?!\", list.join(\"|\"), \")\");\n  }\n\n  const FUNCTION_CALL = {\n    match: regex.concat(\n      /\\b/,\n      noneOf([\n        ...BUILT_IN_GLOBALS,\n        \"super\",\n        \"import\"\n      ]),\n      IDENT_RE$1, regex.lookahead(/\\(/)),\n    className: \"title.function\",\n    relevance: 0\n  };\n\n  const PROPERTY_ACCESS = {\n    begin: regex.concat(/\\./, regex.lookahead(\n      regex.concat(IDENT_RE$1, /(?![0-9A-Za-z$_(])/)\n    )),\n    end: IDENT_RE$1,\n    excludeBegin: true,\n    keywords: \"prototype\",\n    className: \"property\",\n    relevance: 0\n  };\n\n  const GETTER_OR_SETTER = {\n    match: [\n      /get|set/,\n      /\\s+/,\n      IDENT_RE$1,\n      /(?=\\()/\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      { // eat to avoid empty params\n        begin: /\\(\\)/\n      },\n      PARAMS\n    ]\n  };\n\n  const FUNC_LEAD_IN_RE = '(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)|' + hljs.UNDERSCORE_IDENT_RE + ')\\\\s*=>';\n\n  const FUNCTION_VARIABLE = {\n    match: [\n      /const|var|let/, /\\s+/,\n      IDENT_RE$1, /\\s*/,\n      /=\\s*/,\n      /(async\\s*)?/, // async is optional\n      regex.lookahead(FUNC_LEAD_IN_RE)\n    ],\n    keywords: \"async\",\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      PARAMS\n    ]\n  };\n\n  return {\n    name: 'JavaScript',\n    aliases: ['js', 'jsx', 'mjs', 'cjs'],\n    keywords: KEYWORDS$1,\n    // this will be extended by TypeScript\n    exports: { PARAMS_CONTAINS, CLASS_REFERENCE },\n    illegal: /#(?![$_A-z])/,\n    contains: [\n      hljs.SHEBANG({\n        label: \"shebang\",\n        binary: \"node\",\n        relevance: 5\n      }),\n      USE_STRICT,\n      hljs.APOS_STRING_MODE,\n      hljs.QUOTE_STRING_MODE,\n      HTML_TEMPLATE,\n      CSS_TEMPLATE,\n      GRAPHQL_TEMPLATE,\n      TEMPLATE_STRING,\n      COMMENT,\n      // Skip numbers when they are part of a variable name\n      { match: /\\$\\d+/ },\n      NUMBER,\n      CLASS_REFERENCE,\n      {\n        className: 'attr',\n        begin: IDENT_RE$1 + regex.lookahead(':'),\n        relevance: 0\n      },\n      FUNCTION_VARIABLE,\n      { // \"value\" container\n        begin: '(' + hljs.RE_STARTERS_RE + '|\\\\b(case|return|throw)\\\\b)\\\\s*',\n        keywords: 'return throw case',\n        relevance: 0,\n        contains: [\n          COMMENT,\n          hljs.REGEXP_MODE,\n          {\n            className: 'function',\n            // we have to count the parens to make sure we actually have the\n            // correct bounding ( ) before the =>.  There could be any number of\n            // sub-expressions inside also surrounded by parens.\n            begin: FUNC_LEAD_IN_RE,\n            returnBegin: true,\n            end: '\\\\s*=>',\n            contains: [\n              {\n                className: 'params',\n                variants: [\n                  {\n                    begin: hljs.UNDERSCORE_IDENT_RE,\n                    relevance: 0\n                  },\n                  {\n                    className: null,\n                    begin: /\\(\\s*\\)/,\n                    skip: true\n                  },\n                  {\n                    begin: /\\(/,\n                    end: /\\)/,\n                    excludeBegin: true,\n                    excludeEnd: true,\n                    keywords: KEYWORDS$1,\n                    contains: PARAMS_CONTAINS\n                  }\n                ]\n              }\n            ]\n          },\n          { // could be a comma delimited list of params to a function call\n            begin: /,/,\n            relevance: 0\n          },\n          {\n            match: /\\s+/,\n            relevance: 0\n          },\n          { // JSX\n            variants: [\n              { begin: FRAGMENT.begin, end: FRAGMENT.end },\n              { match: XML_SELF_CLOSING },\n              {\n                begin: XML_TAG.begin,\n                // we carefully check the opening tag to see if it truly\n                // is a tag and not a false positive\n                'on:begin': XML_TAG.isTrulyOpeningTag,\n                end: XML_TAG.end\n              }\n            ],\n            subLanguage: 'xml',\n            contains: [\n              {\n                begin: XML_TAG.begin,\n                end: XML_TAG.end,\n                skip: true,\n                contains: ['self']\n              }\n            ]\n          }\n        ],\n      },\n      FUNCTION_DEFINITION,\n      {\n        // prevent this from getting swallowed up by function\n        // since they appear \"function like\"\n        beginKeywords: \"while if switch catch for\"\n      },\n      {\n        // we have to count the parens to make sure we actually have the correct\n        // bounding ( ).  There could be any number of sub-expressions inside\n        // also surrounded by parens.\n        begin: '\\\\b(?!function)' + hljs.UNDERSCORE_IDENT_RE +\n          '\\\\(' + // first parens\n          '[^()]*(\\\\(' +\n            '[^()]*(\\\\(' +\n              '[^()]*' +\n            '\\\\)[^()]*)*' +\n          '\\\\)[^()]*)*' +\n          '\\\\)\\\\s*\\\\{', // end parens\n        returnBegin:true,\n        label: \"func.def\",\n        contains: [\n          PARAMS,\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1, className: \"title.function\" })\n        ]\n      },\n      // catch ... so it won't trigger the property rule below\n      {\n        match: /\\.\\.\\./,\n        relevance: 0\n      },\n      PROPERTY_ACCESS,\n      // hack: prevents detection of keywords in some circumstances\n      // .keyword()\n      // $keyword = x\n      {\n        match: '\\\\$' + IDENT_RE$1,\n        relevance: 0\n      },\n      {\n        match: [ /\\bconstructor(?=\\s*\\()/ ],\n        className: { 1: \"title.function\" },\n        contains: [ PARAMS ]\n      },\n      FUNCTION_CALL,\n      UPPER_CASE_CONSTANT,\n      CLASS_OR_EXTENDS,\n      GETTER_OR_SETTER,\n      {\n        match: /\\$[(.]/ // relevance booster for a pattern common to JS libs: `$(something)` and `$.something`\n      }\n    ]\n  };\n}\n\nexport { javascript as default };\n", "export function detectSafari() {\n    const userAgentString = navigator.userAgent;\n    let safariAgent = userAgentString.includes('Safari');\n    const chromeAgent = userAgentString.includes('Chrome');\n    if (chromeAgent && safariAgent) safariAgent = false;\n\n    return safariAgent;\n}\n\nexport function detectFirefox() {\n    const userAgentString = navigator.userAgent;\n    let firefixAgent = userAgentString.includes('Firefox');\n    const chromeAgent = userAgentString.includes('Chrome');\n    if (chromeAgent && firefixAgent) firefixAgent = false;\n\n    return firefixAgent;\n}\n\nexport function setBrowserClass() {\n    const userAgent = navigator.userAgent;\n    const body = document.body;\n\n    if (/chrome|chromium|crios/i.test(userAgent)) {\n        body.classList.add('is-chrome');\n        return;\n    }\n\n    if (/firefox|fxios/i.test(userAgent)) {\n        body.classList.add('is-firefox');\n        return;\n    }\n\n    if (/safari/i.test(userAgent)) {\n        body.classList.add('is-safari');\n        return;\n    }\n\n    if (/edg/i.test(userAgent)) {\n        body.classList.add('is-edge');\n        return;\n    }\n}\n\nexport const loadTextContent = async ({ source }) => {\n    const response = await fetch(source);\n    if (!response.ok) {\n        console.warn(`${source} not found`);\n\n        return {\n            success: false,\n            data: '',\n        };\n    }\n    const data = await response.text();\n    return {\n        success: true,\n        data,\n    };\n};\n\nexport const loadJsonContent = async ({ source }) => {\n    const response = await fetch(source);\n    if (!response.ok) {\n        console.warn(`${source} not found`);\n        return {\n            success: false,\n            data: '',\n        };\n    }\n\n    const data = await response.json();\n\n    return {\n        success: true,\n        data,\n    };\n};\n", "//@ts-check\n\nimport hljs from 'highlight.js/lib/core';\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport { loadTextContent } from '../../../utils/utils';\n\nhljs.registerLanguage('javascript', javascript);\n\nconst loadSnippet = async ({ ref, source }) => {\n    /**\n     * Get snippet data.\n     */\n    const { success, data } = await loadTextContent({ source });\n    if (!success) {\n        ref.textContent = `something went wrong`;\n        return;\n    }\n\n    /**\n     * Add contento to dom.\n     */\n    ref.textContent = data;\n\n    /**\n     * Apply highlight.\n     */\n    hljs.highlightElement(ref);\n    ref.style.height = '';\n};\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent<import('./type').Snippet>}\n */\nexport const SnippetFn = ({ html, onMount, getState }) => {\n    const { source, isFull, hasBorder, hasOverflow, numLines } = getState();\n    const isFullClass = isFull ? 'is-full' : '';\n    const hasBorderClass = hasBorder ? 'has-border' : '';\n    const hasOverflowClass = hasOverflow ? 'has-overflow' : '';\n\n    /**\n     * Get pre rem font size.\n     * Calculate full size of snippet before load.\n     */\n    const remValue = getComputedStyle(\n        document.documentElement\n    ).getPropertyValue('--snippet-rem-value');\n\n    const lineHeight = getComputedStyle(\n        document.documentElement\n    ).getPropertyValue('--snippet-line-height-value');\n\n    onMount(async ({ ref }) => {\n        const { codeEl } = ref;\n        const { awaitLoad } = getState();\n\n        if (awaitLoad) {\n            await loadSnippet({ ref: codeEl, source });\n        } else {\n            loadSnippet({ ref: codeEl, source });\n        }\n\n        return () => {};\n    });\n\n    return html`<div class=\"snippet\">\n        <code class=\"${isFullClass} ${hasBorderClass}\">\n            <pre\n                class=\"${isFullClass} ${hasOverflowClass}\"\n                ref=\"codeEl\"\n                style=\"height:${numLines *\n                Number(lineHeight) *\n                Number(remValue)}rem;\"\n            >\nLoading snippet ...</pre\n            >\n        </code>\n    </div>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { SnippetFn } from './snippet';\n\nexport const Snippet = createComponent({\n    name: 'mob-snippet',\n    component: SnippetFn,\n    exportState: [\n        'source',\n        'isFull',\n        'hasOverflow',\n        'hasBorder',\n        'numLines',\n        'awaitLoad',\n    ],\n    state: {\n        source: () => ({\n            value: '',\n            type: String,\n        }),\n        contentIsLoaded: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        isFull: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        hasOverflow: () => ({\n            value: true,\n            type: Boolean,\n        }),\n        hasBorder: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        numLines: () => ({\n            value: 1,\n            type: Number,\n        }),\n        awaitLoad: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n});\n", "//@ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport { mainStore, MAIN_STORE_BEFORE_ROUTE_CHANGE } from '../../../mobjs';\n\n/**\n * @type {import('../../../mobCore/store/type').mobStore<import('./type').AnchorStore>}\n */\nexport const anchorStore = mobCore.createStore({\n    items: () => ({\n        value: [],\n        type: Array,\n    }),\n    computedItems: () => ({\n        value: [],\n        type: Array,\n    }),\n    activeLabelFromObeserver: () => ({\n        value: '',\n        type: String,\n    }),\n});\n\n/**\n * Await that all anchor is populated then update once.\n * Store is populated by spacer component.\n */\nanchorStore.computed('computedItems', ['items'], ({ items }) => {\n    return items;\n});\n\n/**\n * Clean anchor on route change.\n */\nmainStore.watch(MAIN_STORE_BEFORE_ROUTE_CHANGE, () => {\n    anchorStore.set('items', []);\n});\n", "//@ts-check\n\nimport { anchorStore } from '../scrollTo/scrollToStore';\n\nfunction hasAnchor({ id }) {\n    return id && id.length > 0;\n}\n\nconst options = {\n    root: null,\n    rootMargin: '0% 0% -100% 0%',\n    threshold: 0.5,\n};\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent<import('./type').SpacerAnchor>}\n */\nexport const SpacerAnchorFn = async ({ html, getState, onMount }) => {\n    const { style, line, id, label } = getState();\n    const lineClass = line ? 'spacer--line' : '';\n\n    onMount(({ element }) => {\n        const shouldAddToAnchor = hasAnchor({ id });\n        if (!shouldAddToAnchor) return;\n\n        anchorStore.set('items', (val) => {\n            return [...val, { id, label, element }];\n        });\n\n        const observer = new IntersectionObserver((entries) => {\n            entries.map((entry) => {\n                if (entry.isIntersecting) {\n                    anchorStore.set('activeLabelFromObeserver', label);\n                }\n            });\n        });\n\n        // @ts-ignore\n        observer.observe(element, options);\n\n        return () => {\n            observer.unobserve(element);\n        };\n    });\n\n    return html`<div class=\"spacer spacer--${style} ${lineClass}\">\n        <span></span>\n    </div>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { SpacerAnchorFn } from './spacerAnchor';\n\nexport const SpacerAnchor = createComponent({\n    name: 'mob-spacer',\n    component: SpacerAnchorFn,\n    exportState: ['style', 'line', 'id', 'label'],\n    state: {\n        style: () => ({\n            value: 'medium',\n            type: String,\n            validate: (val) => ['small', 'medium', 'big'].includes(val),\n            strict: true,\n        }),\n        line: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        id: () => ({\n            value: '',\n            type: String,\n        }),\n        label: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n});\n", "//@ts-check\n\nimport { html } from '../../../../mobjs';\n\nconst getList = ({ items }) => {\n    return items.map((item) => html` <li>${item}</li> `).join('');\n};\n\n/**\n * @type {import(\"../../../../mobjs/type\").mobComponent<import('./type').List>}\n */\nexport const ListFn = ({ html, getState }) => {\n    const { style, color, items, dots } = getState();\n\n    const colorClass = `is-${color}`;\n    const dotsClass = dots ? '' : `hide-dots`;\n\n    return html`<ul class=\"ul ul--${style} ${colorClass} ${dotsClass}\">\n        ${getList({ items })}\n    </ul>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { ListFn } from './list';\n\nexport const List = createComponent({\n    name: 'mob-list',\n    component: ListFn,\n    exportState: ['style', 'color', 'items', 'dots'],\n    state: {\n        style: () => ({\n            value: 'medium',\n            type: String,\n            validate: (val) => ['small', 'medium', 'big'].includes(val),\n            strict: true,\n        }),\n        dots: () => ({\n            value: true,\n            type: Boolean,\n        }),\n        color: () => ({\n            value: 'black',\n            type: String,\n            validate: (val) => {\n                return ['white', 'black', 'grey', 'hightlight'].includes(val);\n            },\n        }),\n        items: () => ({\n            value: [],\n            type: Array,\n        }),\n    },\n});\n", "//@ts-check\n\n/**\n * @type {import(\"../../../../mobjs/type\").mobComponent<import(\"./type\").Paragraph>}\n */\nexport const ParagraphFn = ({ html, getState }) => {\n    const { style, color } = getState();\n    const colorClass = `is-${color}`;\n\n    return html`<p class=\"p p--${style} ${colorClass}\">\n        <mobjs-slot />\n    </p>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { ParagraphFn } from './paragraph';\n\nexport const Paragraph = createComponent({\n    name: 'mob-paragraph',\n    component: ParagraphFn,\n    exportState: ['style', 'color'],\n    state: {\n        style: () => ({\n            value: 'medium',\n            type: String,\n            validate: (val) => ['small', 'medium', 'big'].includes(val),\n            strict: true,\n        }),\n        color: () => ({\n            value: 'black',\n            type: String,\n            validate: (val) => {\n                return ['white', 'grey', 'black', 'highlight'].includes(val);\n            },\n        }),\n    },\n});\n", "//@ts-check\n\n/**\n * @type {import(\"../../../../mobjs/type\").mobComponent<import(\"./type\").Title>}\n */\nexport const TitleFn = ({ html, getState }) => {\n    const { tag, color, isBold } = getState();\n    const colorClass = `is-${color}`;\n    const boldClass = isBold ? `is-bold` : '';\n\n    return html`<${tag} class=\"mob-title ${colorClass} ${boldClass}\">\n        <mobjs-slot/>\n    </${tag}>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { TitleFn } from './title';\n\nexport const Title = createComponent({\n    name: 'mob-title',\n    component: TitleFn,\n    exportState: ['tag', 'color', 'isBold'],\n    state: {\n        tag: () => ({\n            value: 'h1',\n            type: String,\n        }),\n        color: () => ({\n            value: 'black',\n            type: String,\n            validate: (val) => {\n                return ['white', 'hightlight', 'black'].includes(val);\n            },\n        }),\n        isBold: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n});\n", "//@ts-check\n\nimport { html } from '../../../mobjs';\nimport { loadJsonContent } from '../../../utils/utils';\n\nconst getComponents = ({ data, staticProps, awaitLoadSnippet }) => {\n    return data\n        .map((item) => {\n            const { component, props, content } = item;\n\n            return html`\n                <${component} ${staticProps({ ...props, awaitLoad: awaitLoadSnippet })}>\n                    ${content ?? ''}\n                </${component}>\n            `;\n        })\n        .join('');\n};\n\n/**\n * Get data from props or fetch.\n */\nconst getData = async ({ source, data }) => {\n    if (data && data.length > 0) return data;\n\n    const { success, data: currentData } = await loadJsonContent({ source });\n    if (!success) return [];\n\n    return currentData.data;\n};\n\n/**\n * @param {object} param\n * @param {any} param.data\n * @param {import('../../../mobjs/type').BindProps<import('./type').HtmlContent,import('../loader/type').Loader>} param.bindProps\n */\nconst getLoader = ({ data, bindProps }) => {\n    if (data && data.length > 0) return '';\n\n    return html`\n        <mob-loader\n            ${bindProps({\n                bind: ['contentIsLoaded'],\n                props: ({ contentIsLoaded }) => {\n                    return { shouldRemove: contentIsLoaded };\n                },\n            })}\n        ></mob-loader>\n    `;\n};\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent<import('./type').HtmlContent>}\n */\nexport const HtmlContentFn = async ({\n    html,\n    getState,\n    setState,\n    staticProps,\n    bindProps,\n    onMount,\n}) => {\n    const { source, data } = getState();\n    const currentData = await getData({ source, data });\n\n    const { useMinHeight, useMaxWidth, awaitLoadSnippet } = getState();\n    const useMinHeightClass = useMinHeight ? 'is-min-100' : '';\n    const useMaxWidthClass = useMaxWidth ? 'is-max-width' : '';\n\n    onMount(async () => {\n        setState('contentIsLoaded', true);\n\n        return () => {};\n    });\n\n    return html`\n        <section class=\"html-content ${useMinHeightClass} ${useMaxWidthClass}\">\n            ${getLoader({ data, bindProps })}\n            ${getComponents({\n                data: currentData,\n                staticProps,\n                awaitLoadSnippet,\n            })}\n        </section>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { Loader } from '../loader/definition';\nimport { Snippet } from '../snippet/definition';\nimport { SpacerAnchor } from '../spacerAnchor/definition';\nimport { List } from '../typography/list/definition';\nimport { Paragraph } from '../typography/paragraph/definition';\nimport { Title } from '../typography/titles/definition';\nimport { HtmlContentFn } from './htmlContent';\n\nexport const HtmlContent = createComponent({\n    name: 'html-content',\n    component: HtmlContentFn,\n    exportState: [\n        'source',\n        'useMinHeight',\n        'useMaxWidth',\n        'data',\n        'awaitLoadSnippet',\n    ],\n    state: {\n        source: () => ({\n            value: '',\n            type: String,\n        }),\n        data: () => ({\n            value: [],\n            type: Array,\n        }),\n        contentIsLoaded: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        useMinHeight: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        useMaxWidth: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        awaitLoadSnippet: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n    child: [List, Paragraph, Title, Loader, Snippet, SpacerAnchor],\n});\n", "import HandleLerp from '../../animation/lerp/handleLerp.js';\nimport HandleSpring from '../../animation/spring/handleSpring.js';\nimport { clamp } from '../../animation/utils/animationUtils.js';\nimport { mq } from '../../utils/mediaManager.js';\nimport { NOOP } from '../../utils/functionsUtils.js';\nimport { parallaxConstant } from '../../animation/parallax/parallaxConstant.js';\nimport {\n    breakpointIsValid,\n    breakpointTypeIsValid,\n    directionIsValid,\n    genericEaseTypeIsValid,\n    valueIsBooleanAndReturnDefault,\n    valueIsFunctionAndReturnDefault,\n    valueIsNumberAndReturnDefault,\n} from '../../animation/utils/tweenAction/tweenValidation.js';\nimport { mobCore } from '../../../mobCore/index.js';\nimport {\n    isDescendant,\n    outerHeight,\n    outerWidth,\n} from '../../../mobCore/utils/index.js';\n\n/**\n * @typedef {Object} smoothScrollerType\n * @prop {('vertical'|'horizontal')} [ direction = 'vertical' ]\n    Defines the scroll direction\n * @prop {('spring'|'lerp')} [ easeType = 'lerp']\n    Defines the type of easing. The default is `lerp`.\n * @prop {( string|Element )} scroller\n   The node that will have to scroll\n * @prop {( string|Element )} [ screen ]\n    The scroller container.\n    The default value is `document.documentElement`.\n * @prop {boolean} scopedEvent\n   Use event ( scroll,wheel,etc.. ) on scroller or on document.\n   If the events are used on the scroller they will have the passive property set to true (better performance).\n   Otherwise, based on the general value of the passive property, the listener attached to the document will use the `preventDefault()` function.\n   This will prevent the page from scrolling in turn when scrolling over the component.\n   To set the global passive property use:\n   `core.setDefault({ usePassive: true|false })`;\n * @prop {number} speed\n   You can adjust the speed of the wheel event.\n   The default value is `60`.\n * @prop {boolean} drag\n   It is possible to enable and disable the drag functionality.\n   The default value is `false`.\n * @prop {function({value:number, percent:number, parentIsMoving:boolean}):void} [ onTick = null ]\n   Function that is launched at each tick.\n   The function will have an Object as input parameter.\n   `value`: scroll value\n   `percent`: scroll value in percent\n   `parentIsMoving`: A boolean value indicating whether the scroller has stopped ( last tick )\n * @prop {function({value:number, percent:number, parentIsMoving:boolean}):void} [ onUpdate = null ]\n   Function that is launched at each update value ( non easing value ).\n   The function will have an Object as input parameter.\n   `value`: scroll value\n   `percent`: scroll value in percent\n * @prop {function():void} [ afterRefresh = null ]\n   Function that is launched after refresh\n * @prop {function():void} [ afterInit = null ]\n   Function that is launched after initialization\n * @prop {function():void} [ afterDestroy = null ]\n   Function that is launched after destroy\n * @prop {Array.<ParallaxClass>} children\n   An array of instances of the ParallaxClass class used within the scroller.\n   Es:\n   const parallax = mobbu.createParallax({ ... })\n   const scrolltrigger = mobbu.createScrollTrigger({ ... })\n   ...\n   children: [parallax, scrolltrigger],\n   ...\n\n   The instances contained in the array will be:\n   Drive.\n   Updated.\n   Destroyed.\n\n   The `scroller`,`screen`, `direction`,`branckPoint`,`queryType` properties\n   will be automatically aligned.\n */\n\n/**\n * @typedef {Object} mqTypeObject\n * @prop {import('../../utils/type.js').mqAction} [ queryType = \"min\" ] - Defines whether the defined breakpoint will be a max-with or a min-width. The default is 'min-width'.\n **/\n\n/**\n * @typedef {Object} breackPointTypeObj\n * @prop {import('../../utils/type.js').mqValues} [ breakpoint ]\n */\n\n/**\n * @typedef  { smoothScrollerType & breackPointTypeObj & mqTypeObject } smoothScrollerConstructorType\n */\nexport default class SmoothScroller {\n    /**\n     * @param { smoothScrollerConstructorType } data\n     *\n     * @description\n     *\n       Create new SmoothScroller instance.\n\n       Available methods:\n       mySmoothScroll.init();\n       mySmoothScroll.refresh();\n       mySmoothScroll.destroy();\n       mySmoothScroll.move();\n       mySmoothScroll.set();\n\n     * @example\n       ```javascript\n       const mySmoothScroller = new SmoothScroller({\n           screen: [String | Element],\n           scroller: [String | Element],\n           direction: [String],\n           speed: [Number],\n           drag: [Boolean],\n           scopedEvent: [Boolean],\n           children: [child1,child2, ...],\n           ease: [Boolean],\n           easeType: [String],\n           afterInit: () => {\n               ...\n           },\n           onTick: ({ value, parentIsMoving, percent }) => {\n               ...\n           },\n           onUpdate: ({ value, percent }) => {\n               ...\n           },\n           afterRefresh: () => {\n               ...\n           },\n           afterDestroy: () => {\n               ...\n           },\n       });\n\n       mySmoothScroller.init();\n       ```\n     */\n    constructor(data = {}) {\n        /**\n         * @private\n         */\n        this.propsIsValid = true;\n\n        /**\n         * @private\n         */\n        this.endValue = 0;\n\n        /**\n         * @private\n         */\n        this.percent = 0;\n\n        /**\n         * @private\n         */\n        this.screenWidth = 0;\n\n        /**\n         * @private\n         */\n        this.screenHeight = 0;\n\n        /**\n         * @private\n         */\n        this.firstTouchValue = 0;\n\n        /**\n         * @private\n         */\n        this.threshold = 30;\n\n        /**\n         * @private\n         */\n        this.maxValue = 0;\n\n        /**\n         * @private\n         */\n        this.minValue = 0;\n\n        /**\n         * @private\n         */\n        this.dragEnable = null;\n\n        /**\n         * @private\n         */\n        this.touchend = null;\n\n        /**\n         * @private\n         */\n        this.touchmove = null;\n\n        /**\n         * @private\n         */\n        this.prevTouchVal = 0;\n\n        /**\n         * @private\n         */\n        this.touchVal = 0;\n\n        /**\n         * @private\n         */\n        this.onUpdateScrollBar = NOOP;\n\n        /**\n         * @private\n         */\n        this.subscribeResize = NOOP;\n\n        /**\n         * @private\n         */\n        this.subscribeScrollStart = NOOP;\n\n        /**\n         * @private\n         */\n        this.subscribeScrollEnd = NOOP;\n\n        /**\n         * @private\n         */\n        this.subscribeTouchStart = NOOP;\n\n        /**\n         * @private\n         */\n        this.subscribeTouchEnd = NOOP;\n\n        /**\n         * @private\n         */\n        this.subscribeMouseDown = NOOP;\n\n        /**\n         * @private\n         */\n        this.subscribeMouseUp = NOOP;\n\n        /**\n         * @private\n         */\n        this.subscribeMouseWheel = NOOP;\n\n        /**\n         * @private\n         */\n        this.subscribeMouseMove = NOOP;\n\n        /**\n         * @private\n         */\n        this.subscribeTouchMove = NOOP;\n\n        /**\n         * @private\n         */\n        this.subscribeMouseClick = NOOP;\n\n        /**\n         * @private\n         */\n        this.motion = null;\n\n        /**\n         * @private\n         */\n        this.unsubscribeMotion = NOOP;\n\n        /**\n         * @private\n         */\n        this.unsubscribeOnComplete = NOOP;\n\n        /**\n         * @private\n         */\n        this.scrollbarIsRunning = false;\n\n        /**\n         * @private\n         */\n        this.direction = directionIsValid(data?.direction, 'SmoothScroller');\n\n        /**\n         * @private\n         */\n        this.easeType = genericEaseTypeIsValid(\n            data?.easeType,\n            'SmoothScroller'\n        );\n\n        /**\n         * @private\n         */\n        this.breakpoint = breakpointIsValid(\n            data?.breakpoint,\n            'breakpoint',\n            'SmoothScroller'\n        );\n\n        /**\n         * @private\n         */\n        this.queryType = breakpointTypeIsValid(\n            data?.queryType,\n            'queryType',\n            'SmoothScroller'\n        );\n\n        /**\n         * @private\n         */\n        this.scroller = mobCore.checkType(String, data?.scroller)\n            ? document.querySelector(data.scroller)\n            : data.scroller;\n\n        if (!this.scroller) {\n            console.warn('SmoothScroller: scroller node not found');\n            this.propsIsValid = false;\n            return;\n        }\n\n        /**\n         * @private\n         */\n        this.screen = data?.screen\n            ? (() => {\n                  return mobCore.checkType(String, data.screen)\n                      ? document.querySelector(data.screen)\n                      : data.screen;\n              })()\n            : document.documentElement;\n\n        if (!this.screen) {\n            this.propsIsValid = false;\n            console.warn('SmoothScroller: screen node not found');\n            return;\n        }\n\n        /**\n         * @private\n         */\n        this.scopedEvent = valueIsBooleanAndReturnDefault(\n            data?.scopedEvent,\n            'SmoothScroller: scopedEvent',\n            false\n        );\n\n        /**\n         * @private\n         */\n        this.speed = valueIsNumberAndReturnDefault(\n            data?.speed,\n            'SmoothScroller: speed',\n            60\n        );\n\n        /**\n         * @private\n         */\n        this.drag = valueIsBooleanAndReturnDefault(\n            data?.drag,\n            'SmoothScroller: drag',\n            false\n        );\n\n        /**\n         * @private\n         */\n        this.onTickCallback = valueIsFunctionAndReturnDefault(\n            data?.onTick,\n            'SmoothScroller: onTick',\n            null\n        );\n\n        /**\n         * @private\n         */\n        this.onUpdateCallback = valueIsFunctionAndReturnDefault(\n            data?.onUpdate,\n            'SmoothScroller: onUpdate',\n            null\n        );\n\n        /**\n         * @private\n         */\n        this.onAfterRefresh = valueIsFunctionAndReturnDefault(\n            data?.afterRefresh,\n            'SmoothScroller: afterRefresh',\n            NOOP\n        );\n\n        /**\n         * @private\n         */\n        this.afterInit = valueIsFunctionAndReturnDefault(\n            data?.afterInit,\n            'SmoothScroller: afterInit',\n            NOOP\n        );\n\n        /**\n         * @private\n         */\n        this.children = data?.children || [];\n        this.children.forEach((element) => {\n            element.setScroller(this.scroller);\n            element.setDirection(this.direction);\n            element.setScreen(this.screen);\n            element.setBreakPoint(this.breakpoint);\n            element.setQueryType(this.queryType);\n            element.init();\n        });\n\n        /**\n         * Scoped event\n         */\n        this.scopedWhell = (e) => {\n            const { spinY } = mobCore.normalizeWheel(e);\n            this.onScopedWhell({\n                target: e.target,\n                spinY,\n            });\n        };\n\n        /**\n         * @private\n         */\n        this.scopedTouchMove = (e) => {\n            const { clientX, clientY } = e.touches ? e.touches[0] : e;\n\n            this.onScopedTouchMove({\n                client: {\n                    x: clientX,\n                    y: clientY,\n                },\n            });\n        };\n    }\n\n    /**\n     * @description\n     * Initialize insatance\n     *\n     * @example\n     * myInstance.init()\n     */\n    init() {\n        if (!this.propsIsValid) return;\n\n        switch (this.easeType) {\n            case parallaxConstant.EASE_SPRING: {\n                this.motion = new HandleSpring();\n                break;\n            }\n\n            default: {\n                this.motion = new HandleLerp();\n                break;\n            }\n        }\n\n        /**\n         * scoped event\n         */\n        if (this.scopedEvent) {\n            this.scroller.addEventListener('wheel', this.scopedWhell, {\n                passive: true,\n            });\n\n            this.scroller.addEventListener('mousemove', this.scopedTouchMove, {\n                passive: true,\n            });\n\n            this.scroller.addEventListener('touchmove', this.scopedTouchMove, {\n                passive: true,\n            });\n        } else {\n            this.subscribeMouseWheel = mobCore.useMouseWheel((data) =>\n                this.onWhell(data)\n            );\n\n            this.subscribeMouseMove = mobCore.useMouseMove((data) =>\n                this.onTouchMove(data)\n            );\n            this.subscribeTouchMove = mobCore.useTouchMove((data) =>\n                this.onTouchMove(data)\n            );\n        }\n\n        /**\n         * Common event\n         */\n        this.subscribeResize = mobCore.useResize(() => this.refresh());\n        this.subscribeScrollStart = mobCore.useScrollStart(() =>\n            this.refreshScroller()\n        );\n        this.subscribeScrollEnd = mobCore.useScrollEnd(() =>\n            this.refreshScroller()\n        );\n        this.subscribeTouchStart = mobCore.useTouchStart((data) =>\n            this.onMouseDown(data)\n        );\n        this.subscribeTouchEnd = mobCore.useTouchEnd((data) =>\n            this.onMouseUp(data)\n        );\n        this.subscribeMouseDown = mobCore.useMouseDown((data) =>\n            this.onMouseDown(data)\n        );\n        this.subscribeMouseUp = mobCore.useMouseUp((data) =>\n            this.onMouseUp(data)\n        );\n\n        if (this.drag) {\n            this.subscribeMouseClick = mobCore.useMouseClick(\n                ({ target, preventDefault }) => {\n                    this.preventChecker({ target, preventDefault });\n                }\n            );\n        }\n\n        this.initMotion();\n\n        if (mq[this.queryType](this.breakpoint)) {\n            this.setScrolerStyle();\n            this.refreshScroller();\n        }\n\n        mobCore.useFrameIndex(() => {\n            mobCore.useNextTick(() => {\n                this.afterInit?.();\n                this.children.forEach((element) => {\n                    element.refresh();\n                });\n            });\n        }, 3);\n    }\n\n    /**\n     * @private\n     */\n    setScrolerStyle() {\n        this.scroller.style['user-select'] = 'none';\n\n        const activeElement = this.scroller.querySelectorAll('a, button');\n        [...activeElement].forEach((item) => {\n            item.setAttribute('draggable', false);\n            item.style['user-select'] = 'none';\n        });\n    }\n\n    /**\n     * @private\n     */\n    removeScrolerStyle() {\n        this.scroller.style['user-select'] = '';\n\n        const activeElement = this.scroller.querySelectorAll('a, button');\n        [...activeElement].forEach((item) => {\n            item.removeAttribute('draggable');\n            item.style['user-select'] = '';\n        });\n    }\n\n    /**\n     * @private\n     */\n    initMotion() {\n        this.motion.setData({ val: 0 });\n\n        this.unsubscribeMotion = this.motion.subscribe(({ val }) => {\n            this.scroller.style.transform =\n                this.direction == parallaxConstant.DIRECTION_VERTICAL\n                    ? `translate3d(0px, 0px, 0px) translateY(${-val}px)`\n                    : `translate3d(0px, 0px, 0px) translateX(${-val}px)`;\n\n            /**\n             * TODO Move to scroll Start (scopedEvent or not , wheel touch etc...)\n             * Used by instance with ease = true;\n             */\n            this.children.forEach((element) => {\n                element.triggerScrollStart();\n            });\n\n            mobCore.useNextTick(() => {\n                if (this.onTickCallback)\n                    this.onTickCallback({\n                        value: -val,\n                        percent: this.percent,\n                        parentIsMoving: true,\n                    });\n\n                this.children.forEach((element) => {\n                    element.move({\n                        value: -val,\n                        parentIsMoving: true,\n                    });\n                });\n            });\n        });\n\n        this.unsubscribeOnComplete = this.motion.onComplete(({ val }) => {\n            this.scroller.style.transform =\n                this.direction == parallaxConstant.DIRECTION_VERTICAL\n                    ? `translateY(${-val}px)`\n                    : `translateX(${-val}px)`;\n\n            mobCore.useNextTick(() => {\n                if (this.onTickCallback)\n                    this.onTickCallback({\n                        value: -val,\n                        percent: this.percent,\n                        parentIsMoving: false,\n                    });\n\n                this.children.forEach((element) => {\n                    element.triggerScrollEnd();\n                    element.move({\n                        value: -val,\n                        parentIsMoving: false,\n                    });\n                });\n            });\n        });\n    }\n\n    /**\n     * @private\n     */\n    refreshScroller() {\n        this.screenWidth =\n            this.screen === document.documentElement\n                ? window.innerWidth\n                : outerWidth(this.screen);\n\n        this.screenHeight =\n            this.screen === document.documentElement\n                ? window.innerHeight\n                : outerHeight(this.screen);\n\n        this.maxValue =\n            this.direction === parallaxConstant.DIRECTION_VERTICAL\n                ? this.scroller.offsetHeight - this.screenHeight\n                : this.scroller.offsetWidth - this.screenWidth;\n\n        this.calculateValue();\n    }\n\n    /**\n     * @private\n     */\n    onScopedTouchMove({ client }) {\n        if (!this.dragEnable || !this.drag) return;\n\n        this.prevTouchVal = this.touchVal;\n        this.touchVal = this.getMousePos(client);\n        this.endValue += Number.parseInt(this.prevTouchVal - this.touchVal);\n        this.calculateValue();\n        this.scrollbarIsRunning = false;\n    }\n\n    /**\n     * @private\n     */\n    onScopedWhell({ spinY }) {\n        if (!mq[this.queryType](this.breakpoint)) return;\n\n        this.dragEnable = false;\n        this.endValue += spinY * this.speed;\n        this.calculateValue();\n        this.scrollbarIsRunning = false;\n    }\n\n    /**\n     * Listener related event.\n     * Global\n     */\n\n    /**\n     * @private\n     */\n    onMouseDown({ target, client }) {\n        if (!mq[this.queryType](this.breakpoint)) return;\n\n        if (target === this.scroller || isDescendant(this.scroller, target)) {\n            this.firstTouchValue = this.endValue;\n            this.dragEnable = true;\n            this.prevTouchVal = this.getMousePos(client);\n            this.touchVal = this.getMousePos(client);\n            this.scrollbarIsRunning = false;\n        }\n    }\n\n    /**\n     * @private\n     */\n    onMouseUp() {\n        this.dragEnable = false;\n        this.scrollbarIsRunning = false;\n    }\n\n    /**\n     * @private\n     */\n    onTouchMove({ target, client, preventDefault }) {\n        if (\n            (target === this.scroller || isDescendant(this.scroller, target)) &&\n            this.dragEnable &&\n            this.drag\n        ) {\n            preventDefault();\n\n            this.prevTouchVal = this.touchVal;\n            this.touchVal = this.getMousePos(client);\n\n            const result = Number.parseInt(this.prevTouchVal - this.touchVal);\n            this.endValue += result;\n\n            this.calculateValue();\n            this.scrollbarIsRunning = false;\n        }\n    }\n\n    onWhell({ target, spinY, preventDefault }) {\n        const bodyIsOverflow =\n            document.body.style.overflow === 'hidden' &&\n            this.direction === parallaxConstant.DIRECTION_VERTICAL;\n\n        if (!mq[this.queryType](this.breakpoint) || bodyIsOverflow) return;\n\n        if (target === this.scroller || isDescendant(this.scroller, target)) {\n            this.dragEnable = false;\n            preventDefault();\n            this.endValue += spinY * this.speed;\n            this.calculateValue();\n            this.scrollbarIsRunning = false;\n        }\n    }\n\n    /**\n     * @description\n     * Move scroller\n     *\n     * @prop {number} new position in percent, from 0 to 100\n     *\n     * @example\n     * myInstance.move(val);\n     */\n    move(percent) {\n        if (!mq[this.queryType](this.breakpoint)) return;\n\n        this.scrollbarIsRunning = true;\n        this.percent = percent;\n        this.endValue = (this.percent * this.maxValue) / 100;\n        this.motion.goTo({ val: this.endValue }).catch(() => {});\n    }\n\n    /**\n     *\n     * @description\n     * Move scroller immediatr\n     *\n     * @prop {number} new position in percent, from 0 to 100\n     *\n     * @example\n     * myInstance.set(val);\n     */\n    set(percent) {\n        if (!mq[this.queryType](this.breakpoint)) return;\n\n        this.scrollbarIsRunning = true;\n        this.percent = percent;\n        this.endValue = (this.percent * this.maxValue) / 100;\n        this.motion.set({ val: this.endValue }).catch(() => {});\n    }\n\n    /**\n     * Utils\n     */\n    calculateValue() {\n        const percentValue = (this.endValue * 100) / this.maxValue;\n        this.percent = clamp(percentValue, 0, 100);\n        this.endValue = clamp(this.endValue, 0, this.maxValue);\n        this.motion.goTo({ val: this.endValue }).catch(() => {});\n\n        /**\n         * Fire on update callback\n         */\n        if (this.onUpdateCallback)\n            this.onUpdateCallback({\n                value: -this.endValue,\n                percent: this.percent,\n                parentIsMoving: true,\n            });\n    }\n\n    /**\n     * @private\n     */\n    preventChecker({ target, preventDefault }) {\n        if (\n            mq[this.queryType](this.breakpoint) &&\n            (target === this.scroller || isDescendant(this.scroller, target)) &&\n            Math.abs(this.endValue - this.firstTouchValue) > this.threshold\n        ) {\n            preventDefault();\n        }\n    }\n\n    getMousePos(client) {\n        const { x, y } = client;\n        return this.direction === parallaxConstant.DIRECTION_VERTICAL ? y : x;\n    }\n\n    /**\n     * @description\n     * Refresh instance\n     *\n     * @example\n     * myInstance.refresh()\n     */\n    refresh() {\n        if (!mq[this.queryType](this.breakpoint)) {\n            this.removeScrolerStyle();\n            this.motion?.stop?.();\n            mobCore.useFrame(() => {\n                mobCore.useNextTick(() => {\n                    this.scroller.style.transform = '';\n                });\n            });\n            return;\n        }\n\n        this.refreshScroller();\n        this.setScrolerStyle();\n\n        mobCore.useFrameIndex(() => {\n            mobCore.useNextTick(() => {\n                if (this.onAfterRefresh) this.onAfterRefresh();\n\n                this.children.forEach((element) => {\n                    element?.refresh?.();\n                });\n            });\n        }, 2);\n    }\n\n    /**\n     * @description\n     * Destroy instance\n     *\n     * @example\n     * myInstance.destroy()\n     */\n    destroy() {\n        this.removeScrolerStyle();\n        this.subscribeResize();\n        this.subscribeScrollStart();\n        this.subscribeScrollEnd();\n        this.subscribeTouchStart();\n        this.subscribeTouchEnd();\n        this.subscribeMouseDown();\n        this.subscribeMouseUp();\n        this.subscribeMouseWheel();\n        this.subscribeMouseMove();\n        this.subscribeTouchMove();\n        this.subscribeMouseClick();\n        this.unsubscribeMotion();\n        this.unsubscribeOnComplete();\n        this.onUpdateScrollBar = () => {};\n        this.motion?.destroy();\n        this.motion = null;\n        this.children.forEach((element) => {\n            element?.destroy?.();\n            element = null;\n        });\n        this.children = [];\n        this.onTickCallback = [];\n        this.onUpdateCallback = [];\n        this.onAfterRefresh = [];\n        this.afterInit = [];\n\n        if (this.scopedEvent) {\n            this.scroller.removeEventListener('wheel', this.scopedWhell);\n            this.scroller.removeEventListener(\n                'mousemove',\n                this.scopedTouchMove\n            );\n            this.scroller.removeEventListener(\n                'touchmove',\n                this.scopedTouchMove\n            );\n        }\n\n        mobCore.useFrameIndex(() => {\n            mobCore.useNextTick(() => {\n                this.afterDestroy?.();\n                this.afterDestroy = [];\n                this.scroller = null;\n                this.screen = null;\n            });\n        }, 3);\n    }\n}\n", "import { mobCore } from '../../../mobCore/index.js';\nimport HandleTween from '../../animation/tween/handleTween.js';\nimport {\n    easeTweenIsValid,\n    valueIsBooleanAndReturnDefault,\n    valueIsNumberAndReturnDefault,\n} from '../../animation/utils/tweenAction/tweenValidation.js';\nimport { offset, isNode } from '../../../mobCore/utils/index.js';\n\n/**\n * @description\n * Scroll body to values or element.\n */\nexport const bodyScroll = (() => {\n    const defaultPreset = 'easeOutQuad';\n    const tween = new HandleTween({ ease: defaultPreset, data: { val: 0 } });\n    let isRunning = false;\n    let overflow = false;\n    let ease = defaultPreset;\n\n    tween.subscribe(({ val }) => {\n        window.scrollTo({\n            top: val,\n            left: 0,\n            behavior: 'auto',\n        });\n    });\n\n    /**\n     * Restore settings\n     */\n    function onComplete() {\n        if (overflow) document.body.style.overflow = '';\n        if (ease) tween.updateEase(defaultPreset);\n    }\n\n    /**\n     * Stop scrolling on mouseWheel, MouseDown, TouchStart.\n     */\n    mobCore.useMouseWheel(() => {\n        if (!isRunning) return;\n\n        tween.stop();\n        onComplete();\n    });\n\n    mobCore.useMouseDown(() => {\n        if (!isRunning) return;\n\n        tween.stop();\n        onComplete();\n    });\n\n    mobCore.useTouchStart(() => {\n        if (!isRunning) return;\n\n        tween.stop();\n        onComplete();\n    });\n\n    /**\n     * @description\n     *\n     * @example\n     *```javascript\n       bodyScroll.to(0, {\n           duration: 1000,\n           overflow: true,\n           ease: 'easeInExpo',\n       });\n\n       bodyScroll.to(myDomElement, {\n           duration: 1000,\n           overflow: true,\n           ease: 'easeInExpo',\n       });\n\n     *```\n     *\n     * @param {(Number|Element)} target\n     * @param {import('./type.js').bodyScrollType} data\n     */\n    function to(target = null, data = {}) {\n        if (typeof window !== 'undefined') {\n            const targetParsed = (() => {\n                if (!target) return 0;\n\n                const isValid =\n                    isNode(target) || mobCore.checkType(Number, target);\n\n                if (!isValid) {\n                    console.warn(\n                        `bodyScroll ${target} is not valid target, must be a node or a number`\n                    );\n                    return 0;\n                }\n\n                return isNode(target) ? offset(target).top : target;\n            })();\n\n            /**\n             * Props\n             */\n            const duration = valueIsNumberAndReturnDefault(\n                data?.duration,\n                'bodyScroll: duration',\n                500\n            );\n\n            overflow = valueIsBooleanAndReturnDefault(\n                data?.overflow,\n                'bodyScroll: overflow',\n                false\n            );\n\n            ease = data?.ease ? easeTweenIsValid(data?.ease) : null;\n            if (overflow) document.body.style.overflow = 'hidden';\n\n            /**\n             * Update easeType\n             */\n            if (ease) tween?.updateEase?.(ease);\n\n            /**\n             * Get current scroll value.\n             */\n            const scrollNow = window.pageYOffset;\n\n            return new Promise((resolve, reject) => {\n                isRunning = true;\n                tween\n                    .goFromTo(\n                        { val: scrollNow },\n                        { val: targetParsed },\n                        { duration }\n                    )\n                    .then(() => {\n                        onComplete();\n                        isRunning = false;\n                        resolve();\n                    })\n                    .catch(() => {\n                        isRunning = false;\n                        reject(mobCore.ANIMATION_STOP_REJECT);\n                    });\n            });\n        }\n    }\n\n    return {\n        to,\n    };\n})();\n", "import { mobCore } from '../../../mobCore/index.js';\nimport { outerHeight } from '../../../mobCore/utils/index.js';\nimport HandleTween from '../../animation/tween/handleTween.js';\n\n/**\n * @description\n * Slide up-down utils.\n * It is essentially a small store where you can subscribe to dom elements and manage them.\n *\n * @example\n *\n * ```javascript\n * Subscribe target in store:\n * const unsubscribe = slide.subscribe(target);\n *\n * Reset target:\n * slide.reset(target);\n *\n * Slide up-down:\n * slide.up(target).then(() => { ... });\n * slide.down(target).then(() => { ... });\n *\n * Remove item from store:\n * unsubscribe();\n * ```\n */\nexport const slide = (() => {\n    let slideItems = [];\n    let slideId = 0;\n\n    /**\n     * @private\n     */\n    function isNode(target) {\n        const isValid = mobCore.checkType(Element, target);\n\n        if (!isValid)\n            console.warn(`slide utils ${target} is not a valid Dom element`);\n\n        return isValid;\n    }\n\n    /**\n     * @private\n     */\n    function setSlideData(target) {\n        const data = {};\n        data.item = target;\n        data.id = slideId;\n        data.tween = new HandleTween({ ease: 'easeOutQuad' });\n        data.unsubscribe = data.tween.subscribe(({ val }) => {\n            data.item.style.height = `${val}px`;\n        });\n\n        data.tween.setData({ val: 0 });\n        return data;\n    }\n\n    /**\n     * @description\n     * Subscribe element to internal store.\n     *\n     * @param {Element} target - Dom node.\n     * @returns {Function} Unsubscribe function.\n     */\n    function subscribe(target) {\n        if (!isNode(target)) return;\n        /**\n         * Check if target is already subscribed to slide utils\n         */\n        const alreadySubscribe = slideItems.find(({ item }) => item === target);\n        if (alreadySubscribe) {\n            console.warn(`slide utils ${target} is alredysubscribed`);\n            return;\n        }\n\n        /**\n         * Update items Array\n         */\n        const data = setSlideData(target);\n        slideItems.push(data);\n\n        const prevId = slideId;\n        slideId++;\n        slideItems.push(data);\n\n        /**\n         * Return unsubscribe\n         */\n        return () => {\n            data.unsubscribe();\n            data.tween = null;\n            data.item = null;\n            slideItems = slideItems.filter(({ id }) => id !== prevId);\n        };\n    }\n\n    /**\n     * @description\n     * Reset target height ( 0px ) .\n     * Set `overflow: hidden` to target.\n     *\n     * @param {Element} target - Dom node.\n     */\n    function reset(target) {\n        if (!isNode(target)) return;\n\n        target.style.height = 0;\n        target.style.overflow = 'hidden';\n    }\n\n    /**\n     * @description\n     * Slide up target.\n     * Return a promise.\n     *\n     * @example\n     * ```javascript\n     * slide.up(myELement)\n     *      .then(() => { ... })\n     *      .catch(() => { ... })\n     * ```\n     *\n     * @param {Element} target - Dom node.\n     * @returns {Promise} Promise fired on animation ends.\n     */\n    function up(target) {\n        return new Promise((res, reject) => {\n            if (!isNode(target)) {\n                res();\n                return;\n            }\n\n            // Reject of target not exist in store\n            const currentItem = slideItems.find(({ item }) => item === target);\n            if (!currentItem)\n                reject(new Error('slide element not exist in slide store'));\n\n            // height of item may be change once opened outside tween control\n            // use fromTo in this case\n            const { item, tween } = currentItem;\n            const currentHeight = outerHeight(item);\n\n            tween\n                .goFromTo({ val: currentHeight }, { val: 0 }, { duration: 500 })\n                .then(() => {\n                    res();\n                });\n        });\n    }\n\n    /**\n     * @description\n     * Slide down target.\n     * Return a promise.\n     *\n     * @example\n     * ```javascript\n     * slide.down(myELement)\n     *      .then(() => { ... })\n     *      .catch(() => { ... })\n     * ```\n     *\n     * @param {Element} target - Dom node.\n     * @returns {Promise} Promise fired on animation ends.\n     */\n    function down(target) {\n        return new Promise((res, reject) => {\n            if (!isNode(target)) {\n                res();\n                return;\n            }\n\n            // Reject of target not exist in store\n            const currentItem = slideItems.find(({ item }) => item === target);\n            if (!currentItem)\n                reject(new Error('slide element not exist in slide store'));\n\n            const { item, tween } = currentItem;\n            const { val: currentHeight } = tween.get();\n            item.style.height = `auto`;\n            const height = outerHeight(item);\n            item.style.height = `${currentHeight}px`;\n\n            tween.goTo({ val: height }, { duration: 500 }).then(() => {\n                item.style.height = `auto`;\n                res();\n            });\n        });\n    }\n\n    return { subscribe, reset, up, down };\n})();\n", "export const horizontalScrollerContstant = {\n    END: 'END',\n    START: 'START',\n    CENTER: 'CENTER',\n};\n", "// let horizontalCustomCssIsAlive = false;\nimport { mq } from '../../../utils/mediaManager.js';\nimport { horizontalScrollerContstant } from './horizontalScrollerConstant.js';\n\nconst getAlign = (columnAlign) => {\n    switch (columnAlign) {\n        case horizontalScrollerContstant.END: {\n            return 'align-items:flex-end;';\n        }\n\n        case horizontalScrollerContstant.CENTER: {\n            return 'align-items:center;';\n        }\n\n        default: {\n            return 'align-items:flex-start;';\n        }\n    }\n};\n\nexport const horizontalScrollerCss = ({\n    mainContainer,\n    queryType,\n    breakpoint,\n    container,\n    trigger,\n    row,\n    column,\n    shadow,\n    useSticky,\n    columnHeight,\n    columnWidth,\n    columnAlign,\n}) => {\n    // if (horizontalCustomCssIsAlive) return;\n    // horizontalCustomCssIsAlive = true;\n    const media = mq.getBreackpoint(breakpoint);\n\n    /**\n     * Add if\n     */\n    const userSelect = `user-select:none`;\n\n    const triggerPosition = useSticky ? 'relative' : 'absolute';\n    const rowSticky = useSticky ? 'position:sticky;top:0;' : '';\n    const align = getAlign(columnAlign);\n\n    const width = columnWidth ? `width:${columnWidth}vw;` : '';\n\n    const css = `\n      @media (${queryType}-width:${media}px){${container}{position:relative;${userSelect}}}@media (${queryType}-width:${media}px){${trigger}{z-index:10;position:${triggerPosition};pointer-events:none;overflow:hidden;top:0;left:0;right:0}}@media (${queryType}-width:${media}px){${row}{--sectionheight:${columnHeight}vh}}@media (${queryType}-width:${media}px){${row}{display:flex;height:100vh;${rowSticky}${align}}}@media (${queryType}-width:${media}px){${column}{height:var(--sectionheight);flex:0 0 auto;${width}}}.${shadow}{display:none}@media (${queryType}-width:${media}px){.${shadow}{width:100%;display:block;pointer-events:none}}.${shadow}{display:none}@media (${queryType}-width:${media}px){.${shadow}{pointer-events:none;display:block;position:absolute;left:0;right:0}.${shadow}--end,.${shadow}--in-center,.${shadow}--left,.${shadow}--out-center{opacity:0;border:1px red dashed;width:25%}.${shadow}--end.debug,.${shadow}--in-center.debug,.${shadow}--left.debug,.${shadow}--out-center.debug{opacity:1}.${shadow}--in-center{position:absolute;top:0;right:0;padding:0 40px;text-align:center}.${shadow}--out-center{position:absolute;top:0;right:0;padding:0 40px;text-align:center}.${shadow}--left{position:absolute;top:0;left:50%;transform:translateX(-50%);padding:0 40px;text-align:center}.${shadow}--end{position:absolute;top:0;left:0;padding-left:40px}}`;\n\n    const styleDiv = document.createElement('div');\n    styleDiv.classList.add('scroller-style');\n    const style = document.createElement('style');\n    style.append(document.createTextNode(css));\n    styleDiv.append(style);\n    mainContainer.prepend(styleDiv);\n};\n", "import ParallaxClass from '../../../animation/parallax/parallax';\nimport {\n    getTranslateValues,\n    offset,\n    outerHeight,\n    outerWidth,\n} from '../../../../mobCore/utils/index.js';\nimport { horizontalScrollerCss } from './horizontalScrollerCss.js';\nimport { mq } from '../../../utils/mediaManager.js';\nimport { horizontalScrollerContstant } from './horizontalScrollerConstant';\nimport { NOOP, pipe } from '../../../utils/functionsUtils';\nimport {\n    breakpointIsValid,\n    breakpointTypeIsValid,\n    genericEaseTypeIsValid,\n    valueIsBooleanAndReturnDefault,\n    valueIsFunctionAndReturnDefault,\n    valueIsNumberAndReturnDefault,\n} from '../../../animation/utils/tweenAction/tweenValidation';\nimport { mobCore } from '../../../../mobCore';\n\n/**\n * @typedef {Object} horizontalScrollerType\n\n * @prop {boolean} [ useDrag = false ]\n    Enable drag.\n * @prop {number} [ threshold = 30 ]\n    Modify threshold value for click action.\n    Default value is `30`.\n * @prop {boolean} [ ease = false ]\n    Defines whether the animation will have ease.\n    The default value is `false`.\n * @prop {boolean} [ animateAtStart = false ]\n    The element will animate with easing (if used) on loading the page or animation.\n    The default value is `false`.\n * @prop {('spring'|'lerp')} [ easeType = 'lerp']\n    Defines the type of easing. The default is `lerp`.\n * @prop {boolean} [ useThrottle = false ]\n    Enable a Throttle function on the scroll.\n    The option will not be enabled with the presence of an active pin to maintain accuracy.\n    The default value is `false`.\n * @prop {boolean} [ forceTranspond = false ]\n    Property valid only with `useSticky = false`.\n    The element will always be appended to the document body.\n    The default value is false.\n * @prop {function():void} [ onEnter = null ] -\n * @prop {function():void} [ onEnterBack = null ] -\n * @prop {function():void} [ onLeave = null ] -\n * @prop {function():void} [ onLeaveBack = null ]-\n * @prop {function({value:number, percent:number, parentIsMoving:boolean}):void} [ onTick = null ]\n   Function that is launched at each tick.\n   The function will have an Object as input parameter.\n   `value`: scroll value\n   `percent`: scroll value in percent\n   `parentIsMoving`: A boolean value indicating whether the scroller has stopped ( last tick )\n * @prop {function():void} [ afterRefresh = null ]\n   Function that is launched after refresh\n * @prop {function():void} [ afterInit = null ]\n   Function that is launched after initialization\n * @prop {function():void} [ afterDestroy = null ]\n   Function that is launched after destroy\n * @prop {boolean} [ useWillChange ]\n    Enable the css property will-change: transform; when the frame rate falls below 3/5 of the optimal value.\n    The property remains active for 4 sedonds.\n    If after the previous value the fps value is back to normal the will-change property is disabled.\n    `Use with CAUTION only if necessary.`\n    The default value is `false`.\n * @prop {boolean} [ animatePin = false ]\n    Property valid only with `useSticky = false`.\n    A spring animation will be applied to the pinned element on state change.\n\n * @prop {Object} [ useSticky ]\n    Use native `position: sticky` to pin the scroller or use scrolleTrigger pin.\n    Default value is `false`.\n * @prop {boolean} [ addCss ]\n    Generate scoped css.\n    Default value is `true`.\n * @prop {number} [columnHeight]\n    If the addCss property is active, it is possible to define a default height for the columns.\n    The value must be a number between 0 and 100.\n    The unit of measure used in vh\n    The default value is `100`.\n * @prop {number} [columnWidth]\n    If the addCss property is active, it is possible to define a default width for the columns.\n    The value must be a number between 0 and 100.\n    The unit of measure used in `vh`\n    The default value is null ( no value will be applied ).\n* @prop {('start'|'center'|'end')} columnAlign\n    If the addCss property is active, it is possible to define the vertical alignment of the columns.\n    The default value is `start`.\n* @prop {string} root\n    Root element.\n    Accept only a unique class in the form of a string (dot included)\n    It is necessary to provide a string in order to create the necessary css.\n* @prop {string} container\n    Container element.\n    Accept only a unique class in the form of a string (dot included)\n    It is necessary to provide a string in order to create the necessary css.\n* @prop {string} row\n    Row element.\n    Accept only a unique class in the form of a string (dot included)\n    It is necessary to provide a string in order to create the necessary css.\n* @prop {string} column\n    Column element.\n    Accept only a unique class in the form of a string (dot included)\n    It is necessary to provide a string in order to create the necessary css.\n* @prop {string} trigger\n    Trigger element.\n    Accept only a unique class in the form of a string (dot included)\n    It is necessary to provide a string in order to create the necessary css.\n* @prop {string} shadowClass\n    The name of the class that will be used to create vertical shadow elements.\n    In this case the dot is optional.\n* @prop {Array.<ParallaxClass>} children\n    An array of instances of the ParallaxClass class used within the scroller.\n    Es:\n    const parallax = mobbu.createParallax({ ... })\n    const scrolltrigger = mobbu.createScrollTrigger({ ... })\n    ...\n    children: [parallax, scrolltrigger],\n    ...\n\n    The instances contained in the array will be:\n    Drive.\n    Updated.\n    Destroyed.\n\n    The `scroller`,`direction`,`branckPoint`,`queryType` properties\n    will be automatically aligned.\n  */\n\n/**\n * @typedef {Object} mqTypeObject\n * @prop {import('../../../utils/type.js').mqAction} [ queryType = \"min\" ] - Defines whether the defined breakpoint will be a max-with or a min-width. The default is 'min-width'.\n **/\n\n/**\n * @typedef {Object} breackPointTypeObj\n * @prop {import('../../../utils/type.js').mqValues} [ breakpoint ]\n */\n\n/**\n * @typedef  { horizontalScrollerType & breackPointTypeObj & mqTypeObject } horizontalScrollerConstructorType\n */\n\nexport class HorizontalScroller {\n    /**\n     * @param  { horizontalScrollerConstructorType } data\n    *\n    * @description\n    *\n    * Create new HorizontalScroller instance.\n    *\n    * Special attributes to handle shadow elements:\n    * Apply the following data-attributes to any element\n    *\n    * `data-shadow=\"<String>\"`\n    * Create a vertical shadow element with a custom className.\n    *\n    * `data-debug`\n    * Makes the shadow element visible\n    *\n    * Available methods:\n    * myHorizontalScroller.init();\n    * myHorizontalScroller.refresh();\n    * myHorizontalScroller.destroy();\n    *\n    * @example\n    *\n    ```html\n        HTML:\n        <div class=\"root\">\n            <div class=\"container\">\n                <div class=\"row\">\n                    <section class=\"column\" data-shadow=\"section1\">\n                        <h1>title</h1>\n                    </section>\n                    <section class=\"column\">\n                        <h1 data-shadow=\"title\" data-debug>title</h1>\n                    </section>\n                    ...\n                </div>\n                <div class=\"trigger\"></div>\n            </div>\n        </div>\n    ```\n    ```javascript\n        JS:\n        const myHorizontalScroller = new HorizontalScroller({\n            root: '.root',\n            container: '.container',\n            row: '.row',\n            column: '.column',\n            trigger: '.trigger',\n            shadowClass: '.myShadowClass,\n            useThrottle: [ Boolean ],\n            useSticky: [ Boolean ],\n            animatePin: [ Boolean ],\n            forceTranspond: [ Boolean ],\n            useWillChange: [ Boolean ],\n            animateAtStart: [ Boolean ],\n            queryType: [ String ],\n            breakpoint: [ String ],\n            ease: [ Boolean ],\n            easeType: [ String ],\n            addCss: [ Boolean ],\n            columnHeight: [ Number ],\n            columnWidth: [ Number ],\n            columnAlign: [ String ],\n            children: [child1,child2, ...],\n            onEnter: () => {\n                ...\n            },\n            onEnterBack: () => {\n                ...\n            },\n            onLeave: () => {\n                ...\n            },\n            onLeaveBack: () => {\n                ...\n            },\n            afterInit: () => {\n                ...\n            },\n            onTick: ({ value, parentIsMoving, percent }) => {\n                ...\n            },\n            afterRefresh: () => {\n                ...\n            },\n            afterDestroy: () => {\n                ...\n            },\n        });\n    ```\n    *\n     */\n    constructor(data = {}) {\n        /**\n         * @private\n         */\n        this.propsisValid = true;\n\n        /**\n         * @private\n         */\n        this.triggerTopPosition = 0;\n\n        /**\n         * @private\n         */\n        this.touchActive = false;\n\n        /**\n         * @private\n         */\n        this.lastTouchValueX = 0;\n\n        /**\n         * @private\n         */\n        this.dragSecureAreaBottom = 100;\n\n        /**\n         * @private\n         */\n        this.dragSecureAreaTop = 100;\n\n        /**\n         * @private\n         */\n        this.shouldDragValue = false;\n\n        /**\n         * @private\n         */\n        this.button = [];\n\n        /**\n         * @private\n         */\n        this.scrollValue = 0;\n\n        /**\n         * @private\n         */\n        this.unsubscribeScroll = () => {};\n\n        /**\n         * @private\n         */\n        this.useDrag = valueIsBooleanAndReturnDefault(\n            data?.useDrag,\n            'HorizontalScroller: useDrag',\n            false\n        );\n\n        /**\n         * @private\n         */\n        this.threshold = valueIsNumberAndReturnDefault(\n            data?.threshold,\n            'HorizontalScroller: threshold',\n            30\n        );\n\n        /**\n         * @private\n         */\n        this.useWillChange = valueIsBooleanAndReturnDefault(\n            data?.useWillChange,\n            'HorizontalScroller: useWillChange',\n            false\n        );\n\n        /**\n         * @private\n         */\n        this.breakpoint = breakpointIsValid(\n            data?.breakpoint,\n            'breakpoint',\n            'horizontalScroller'\n        );\n\n        /**\n         * @private\n         */\n        this.queryType = breakpointTypeIsValid(\n            data?.queryType,\n            'queryType',\n            'horizontalScroller'\n        );\n\n        /**\n         * @private\n         */\n        this.forceTranspond = valueIsBooleanAndReturnDefault(\n            data?.forceTranspond,\n            'HorizontalScroller: forceTranspond',\n            false\n        );\n\n        /**\n         * @private\n         */\n        this.addCss = valueIsBooleanAndReturnDefault(\n            data?.addCss,\n            'HorizontalScroller: addCss',\n            true\n        );\n\n        /**\n         * @private\n         */\n        this.animateAtStart = valueIsBooleanAndReturnDefault(\n            data?.animateAtStart,\n            'HorizontalScroller: animateAtStart',\n            false\n        );\n\n        /**\n         * @private\n         */\n        this.ease = valueIsBooleanAndReturnDefault(\n            data?.ease,\n            'HorizontalScroller: ease',\n            false\n        );\n\n        /**\n         * @private\n         */\n        this.easeType = genericEaseTypeIsValid(\n            data?.easeType,\n            'HorizontalScroller'\n        );\n\n        /**\n         * @private\n         */\n        this.useSticky = valueIsBooleanAndReturnDefault(\n            data?.useSticky,\n            'HorizontalScroller: useSticky',\n            false\n        );\n\n        /**\n         * @private\n         */\n        this.animatePin = valueIsBooleanAndReturnDefault(\n            data?.animatePin,\n            'HorizontalScroller: animatePin',\n            false\n        );\n\n        /**\n         * @private\n         */\n        this.reverse = valueIsBooleanAndReturnDefault(\n            data?.reverse,\n            'HorizontalScroller: reverse',\n            false\n        );\n\n        /**\n         * @private\n         */\n        this.useThrottle = valueIsBooleanAndReturnDefault(\n            data?.useThrottle,\n            'HorizontalScroller: useThrottle',\n            false\n        );\n\n        /**\n         * @private\n         */\n        this.columnHeight = valueIsNumberAndReturnDefault(\n            data?.columnHeight,\n            'HorizontalScroller: columnHeight',\n            100\n        );\n\n        /**\n         * @private\n         */\n        this.columnWidth = valueIsNumberAndReturnDefault(\n            data?.columnWidth,\n            'HorizontalScroller: columnWidth',\n            null\n        );\n\n        /**\n         * @private\n         */\n        this.columnAlign = data?.columnAlign\n            ? data.columnAlign.toUpperCase()\n            : horizontalScrollerContstant.START;\n\n        // Methods\n\n        /**\n         * @private\n         */\n        this.onEnter = valueIsFunctionAndReturnDefault(\n            data?.onEnter,\n            'HorizontalScroller: onEnter',\n            NOOP\n        );\n\n        /**\n         * @private\n         */\n        this.onEnterBack = valueIsFunctionAndReturnDefault(\n            data?.onEnterBack,\n            'HorizontalScroller: onEnterBack',\n            NOOP\n        );\n\n        /**\n         * @private\n         */\n        this.onLeave = valueIsFunctionAndReturnDefault(\n            data?.onLeave,\n            'HorizontalScroller: onLeave',\n            NOOP\n        );\n\n        /**\n         * @private\n         */\n        this.onLeaveBack = valueIsFunctionAndReturnDefault(\n            data?.onLeaveBack,\n            'HorizontalScroller: onLeaveBack',\n            NOOP\n        );\n\n        /**\n         * @private\n         */\n        this.afterInit = valueIsFunctionAndReturnDefault(\n            data?.afterInit,\n            'HorizontalScroller: afterInit',\n            NOOP\n        );\n\n        /**\n         * @private\n         */\n        this.afterRefresh = valueIsFunctionAndReturnDefault(\n            data?.afterRefresh,\n            'HorizontalScroller: afterRefresh',\n            NOOP\n        );\n\n        /**\n         * @private\n         */\n        this.afterDestroy = valueIsFunctionAndReturnDefault(\n            data?.afterDestroy,\n            'HorizontalScroller: afterDestroy',\n            NOOP\n        );\n\n        /**\n         * @private\n         */\n        this.onTick = valueIsFunctionAndReturnDefault(\n            data?.onTick,\n            'HorizontalScroller: onTick',\n            null\n        );\n        /**\n         * Dom element\n         */\n\n        /**\n         * @private\n         */\n        this.mainContainer = mobCore.checkType(String, data.root)\n            ? document.querySelector(data.root)\n            : data.root;\n\n        if (!this.mainContainer) {\n            this.propsisValid = false;\n            console.warn('horizontal custom: root node not found');\n            return;\n        }\n\n        /**\n         * @private\n         */\n        this.container = data?.container;\n        const scrollerTester = this.mainContainer.querySelector(this.container);\n        if (!scrollerTester) {\n            this.propsisValid = false;\n            console.warn('horizontal custom: container node not found');\n            return;\n        }\n\n        /**\n         * @private\n         */\n        this.trigger = this.mainContainer.querySelector(data.trigger);\n        if (!this.trigger) {\n            this.propsisValid = false;\n            console.warn('horizontal custom: trigger node not found');\n            return;\n        }\n\n        /**\n         * @private\n         */\n        this.row = this.mainContainer.querySelector(data.row);\n        if (!this.row) {\n            this.propsisValid = false;\n            console.warn('horizontal custom: row node not found');\n            return;\n        }\n\n        /**\n         * @private\n         */\n        this.column = this.mainContainer.querySelectorAll(data.column);\n        if (this.column.length === 0) {\n            this.propsisValid = false;\n            console.warn('horizontal custom: column nodeList not found');\n            return;\n        }\n\n        /**\n         * @private\n         */\n        this.shadow = this.mainContainer.querySelectorAll('[data-shadow]');\n        const originalShadowClass = data?.shadowClass || 'shadow';\n\n        /**\n         * @private\n         */\n        this.shadowMainClassTransition = originalShadowClass.replace('.', '');\n\n        /**\n         * @private\n         */\n        this.button = this.row.querySelectorAll('a, button');\n\n        /**\n         * @private\n         */\n        this.moduleisActive = false;\n        /**\n         * @private\n         */\n        this.horizontalWidth = 0;\n\n        /**\n         * @private\n         */\n        this.scrollTriggerInstance = {};\n\n        /**\n         * @private\n         */\n        this.percentRange = 0;\n\n        /**\n         * @private\n         *\n         * @description\n         * Initialize children.\n         */\n        this.children = data?.children || [];\n        this.children.forEach((element) => {\n            element.setScroller(this.row);\n            element.setDirection('horizontal');\n            element.setBreakPoint(this.breakpoint);\n            element.setQueryType(this.queryType);\n            element.init();\n        });\n\n        if (this.addCss)\n            horizontalScrollerCss({\n                mainContainer: this.mainContainer,\n                queryType: this.queryType,\n                breakpoint: this.breakpoint,\n                container: this.container,\n                trigger: data?.trigger ?? 'trigger',\n                row: data.row,\n                column: data.column,\n                shadow: this.shadowMainClassTransition,\n                useSticky: this.useSticky,\n                columnHeight: this.columnHeight,\n                columnWidth: this.columnWidth,\n                columnAlign: this.columnAlign,\n            });\n\n        /**\n         * Scoped event.\n         */\n        this.onMouseMove = (e) => {\n            if (!this.touchActive) return;\n\n            const { movementX } = e;\n            const value = this.reverse ? movementX : -movementX;\n            this.onDrag(value);\n            this.touchStart = false;\n        };\n\n        this.onMouseDown = () => {\n            if (!mq[this.queryType](this.breakpoint)) return;\n\n            if (this.shouldDragValue) this.row.style.cursor = 'move';\n            this.touchActive = true;\n            this.firstTouchValue = this.scrollValue;\n        };\n\n        this.onMouseUp = () => {\n            this.touchActive = false;\n            mobCore.useFrame(() => (this.row.style.cursor = ''));\n        };\n\n        this.onMouseLeave = () => {\n            this.touchActive = false;\n            mobCore.useFrame(() => (this.row.style.cursor = ''));\n        };\n\n        this.onTouchStart = (e) => {\n            if (!mq[this.queryType](this.breakpoint)) return;\n\n            this.lastTouchValueX = -e.touches[0].clientX;\n            this.touchActive = true;\n            this.firstTouchValue = this.scrollValue;\n        };\n\n        this.onTouchEnd = () => {\n            this.touchActive = false;\n        };\n\n        this.onTouchMove = (e) => {\n            const touchValueX = -e.touches[0].clientX;\n            const gapX = this.reverse\n                ? -touchValueX + this.lastTouchValueX\n                : touchValueX - this.lastTouchValueX;\n\n            this.onDrag(gapX);\n            this.lastTouchValueX = touchValueX;\n\n            if (this.shouldDragValue && e.cancelable) e.preventDefault();\n        };\n\n        this.preventFireClick = (e) => {\n            if (\n                Math.abs(this.scrollValue - this.firstTouchValue) >\n                this.threshold\n            )\n                e.preventDefault();\n        };\n    }\n\n    /**\n     * @description\n     * Initialize insatance\n     *\n     * @example\n     * myInstance.init()\n     */\n    init() {\n        if (!this.propsisValid) return;\n\n        pipe(\n            this.getWidth.bind(this),\n            this.setDimension.bind(this),\n            this.createShadow.bind(this),\n            this.updateShadow.bind(this)\n        )().then(() => {\n            this.initScroller();\n            if (this.useDrag) this.addDragListener();\n\n            mobCore.useResize(({ horizontalResize }) =>\n                this.onResize(horizontalResize)\n            );\n\n            mobCore.useFrameIndex(() => {\n                mobCore.useNextTick(() => {\n                    this.afterInit?.();\n                    this.children.forEach((element) => {\n                        element.refresh();\n                    });\n                });\n            }, 3);\n        });\n    }\n\n    /**\n     * @private\n     */\n    setLinkAttribute() {\n        [...this.button].forEach((item) =>\n            item.setAttribute('draggable', false)\n        );\n    }\n\n    /**\n     * @private\n     */\n    removeLinkAttribute() {\n        [...this.button].forEach((item) => item.removeAttribute('draggable'));\n    }\n\n    /**\n     * @private\n     */\n    onDrag(value) {\n        if (!this.shouldDragValue) return;\n        mobCore.useFrame(() =>\n            window.scrollBy({ top: value, left: 0, behavior: 'instant' })\n        );\n    }\n\n    shouldDrag() {\n        const documentScrollTop = window.scrollY;\n\n        this.shouldDragValue =\n            this.triggerTopPosition - this.dragSecureAreaTop <\n                documentScrollTop &&\n            this.triggerTopPosition +\n                this.dragSecureAreaBottom +\n                this.horizontalWidth >\n                documentScrollTop + window.innerHeight;\n    }\n\n    addDragListener() {\n        this.unsubscribeScroll = mobCore.useScroll(() => this.shouldDrag());\n        this.shouldDrag();\n\n        this.row.addEventListener('click', this.preventFireClick, {\n            passive: false,\n        });\n\n        this.row.addEventListener('mousedown', this.onMouseDown, {\n            passive: true,\n        });\n\n        this.row.addEventListener('mouseup', this.onMouseUp, {\n            passive: true,\n        });\n\n        this.row.addEventListener('mouseleave', this.onMouseLeave, {\n            passive: true,\n        });\n\n        this.row.addEventListener('touchstart', this.onTouchStart, {\n            passive: true,\n        });\n\n        this.row.addEventListener('touchend', this.onTouchEnd, {\n            passive: true,\n        });\n\n        this.row.addEventListener('mousemove', this.onMouseMove, {\n            passive: true,\n        });\n\n        this.row.addEventListener('touchmove', this.onTouchMove, {\n            passive: true,\n        });\n    }\n\n    removeDragListener() {\n        this.unsubscribeScroll();\n        this.row.removeEventListener('click', this.preventFireClick);\n        this.row.removeEventListener('mousedown', this.onMouseDown);\n        this.row.removeEventListener('mouseup', this.onMouseUp);\n        this.row.removeEventListener('mouseleave', this.onMouseLeave);\n        this.row.removeEventListener('touchstart', this.onTouchStart);\n        this.row.removeEventListener('touchend', this.onTouchEnd);\n        this.row.removeEventListener('mousemove', this.onMouseMove);\n        this.row.removeEventListener('touchmove', this.onTouchMove);\n    }\n\n    /**\n     * @private\n     */\n    setDimension() {\n        if (!this.trigger || !this.mainContainer || !this.row) {\n            return new Promise((resolve) => {\n                resolve();\n            });\n        }\n\n        return new Promise((resolve) => {\n            mobCore.useFrame(() => {\n                const width = this.horizontalWidth;\n                this.percentRange = (100 * (width - window.innerWidth)) / width;\n\n                if (width > 0) {\n                    this.trigger.style.height = `${width}px`;\n                    this.mainContainer.style.height = `${width}px`;\n                    this.row.style.width = `${width}px`;\n                }\n\n                resolve();\n            });\n        });\n    }\n\n    /**\n     * @private\n     */\n    getWidth() {\n        return new Promise((resolve) => {\n            mobCore.useFrame(() => {\n                if (!mq[this.queryType](this.breakpoint)) {\n                    resolve();\n                    return;\n                }\n\n                this.horizontalWidth = [...this.column]\n                    .map((item) => {\n                        return outerWidth(item);\n                    })\n                    .reduce((a, b) => a + b, 0);\n\n                resolve();\n            });\n        });\n    }\n\n    /**\n     * @private\n     */\n    createShadow() {\n        if (!this.trigger) {\n            return new Promise((resolve) => {\n                resolve();\n            });\n        }\n\n        return new Promise((resolve) => {\n            mobCore.useFrame(() => {\n                if (!mq[this.queryType](this.breakpoint)) {\n                    resolve();\n                    return;\n                }\n\n                const shadowsTransition = [...this.shadow]\n                    .map((item) => {\n                        const shadowClass = item.dataset.shadow;\n                        const debug = item.dataset.debug ? 'debug' : '';\n                        const left = item.dataset.debug\n                            ? `left left : ${shadowClass}`\n                            : '';\n                        const inCenter = item.dataset.debug\n                            ? `in center : ${shadowClass}`\n                            : '';\n                        const outCenter = item.dataset.debug\n                            ? `center out : ${shadowClass}`\n                            : '';\n                        const end = item.dataset.debug\n                            ? `in out : ${shadowClass}`\n                            : '';\n\n                        return `\n                            <div class='${this.shadowMainClassTransition} ${this.shadowMainClassTransition}--${shadowClass}' data-shadow='${shadowClass}'>\n                                <span class=\"${this.shadowMainClassTransition}--in-center ${debug}\">\n                                    ${inCenter}\n                                </span>\n                                <span class=\"${this.shadowMainClassTransition}--out-center ${debug}\">\n                                    ${outCenter}\n                                </span>\n                                <span class=\"${this.shadowMainClassTransition}--left ${debug}\">\n                                    ${left}\n                                </span>\n                                <span class=\"${this.shadowMainClassTransition}--end ${debug}\">\n                                    ${end}\n                                </span>\n                            </div>`;\n                    })\n                    .join('');\n\n                this.trigger.innerHTML = shadowsTransition;\n                resolve();\n            });\n        });\n    }\n\n    /**\n     * @private\n     */\n    removeShadow() {\n        if (this.trigger) this.trigger.innerHTML = '';\n    }\n\n    /**\n     * @private\n     */\n    updateShadow() {\n        return new Promise((resolve) => {\n            if (!mq[this.queryType](this.breakpoint)) {\n                resolve();\n                return;\n            }\n\n            mobCore.useFrame(() => {\n                [...this.shadow].forEach((item) => {\n                    const percentrange = this.percentRange / 100;\n                    const shadowData = item.dataset.shadow;\n                    const width = outerWidth(item);\n                    const height = outerHeight(this.row);\n                    const { x } = getTranslateValues(this.row);\n                    const offset = this.reverse\n                        ? this.horizontalWidth -\n                          (item.getBoundingClientRect().right - x)\n                        : item.getBoundingClientRect().left - x;\n                    const screenRatio = window.innerWidth / window.innerHeight;\n                    const windowDifference =\n                        window.innerWidth - window.innerHeight;\n                    const widthAmount = offset / screenRatio;\n                    const diffAmount = offset - offset / screenRatio;\n                    const shadowTransitionEl = this.mainContainer.querySelector(\n                        `.${this.shadowMainClassTransition}[data-shadow=\"${shadowData}\"]`\n                    );\n\n                    const inCenterMarker = shadowTransitionEl.querySelector(\n                        `.${this.shadowMainClassTransition}--in-center`\n                    );\n                    const outCenterMarker = shadowTransitionEl.querySelector(\n                        `.${this.shadowMainClassTransition}--out-center`\n                    );\n                    const leftMarker = shadowTransitionEl.querySelector(\n                        `.${this.shadowMainClassTransition}--left`\n                    );\n                    const endMarker = shadowTransitionEl.querySelector(\n                        `.${this.shadowMainClassTransition}--end`\n                    );\n\n                    // Strength shadow end item to bottom of page\n                    const plusFull =\n                        window.innerWidth > window.innerHeight\n                            ? window.innerHeight\n                            : 0;\n\n                    // Strength center in out item to bottom of page\n                    const plusHalf =\n                        window.innerWidth > window.innerHeight\n                            ? window.innerHeight / 2\n                            : 0;\n\n                    const start = (() => {\n                        switch (offset) {\n                            case 0: {\n                                return 0;\n                            }\n\n                            default: {\n                                return (\n                                    widthAmount +\n                                    diffAmount / percentrange -\n                                    windowDifference / percentrange\n                                );\n                            }\n                        }\n                    })();\n\n                    const left = (() => {\n                        const val =\n                            window.innerWidth > window.innerHeight\n                                ? windowDifference / percentrange\n                                : windowDifference / percentrange +\n                                  window.innerWidth / screenRatio;\n\n                        switch (offset) {\n                            case 0: {\n                                return 0;\n                            }\n\n                            default: {\n                                return val;\n                            }\n                        }\n                    })();\n\n                    const end = (() => {\n                        const val1 = width / screenRatio;\n                        const val2 =\n                            (width - width / screenRatio) / percentrange;\n                        return val1 + val2 + left;\n                    })();\n\n                    const inCenter = (() => {\n                        return end / 2 + plusHalf;\n                    })();\n\n                    if (this.useSticky) {\n                        this.trigger.style['margin-top'] = `-${height}px`;\n                    }\n\n                    shadowTransitionEl.style.top = `${start}px`;\n                    inCenterMarker.style.height = `${inCenter}px`;\n                    outCenterMarker.style.height = `${inCenter}px`;\n                    outCenterMarker.style.top = `${inCenter}px`;\n                    leftMarker.style.height = `${left}px`;\n                    endMarker.style.height = `${end + plusFull}px`;\n                    shadowTransitionEl.style.height = `${left}px`;\n                });\n\n                resolve();\n            });\n        });\n    }\n\n    /**\n     * @private\n     */\n    initScroller() {\n        if (!this.trigger || !mq[this.queryType](this.breakpoint)) return;\n\n        const scrollTriggerInstance = new ParallaxClass({\n            type: 'scrolltrigger',\n            item: this.row,\n            useWillChange: this.useWillChange,\n            trigger: this.trigger,\n            propierties: 'x',\n            breakpoint: 'xSmall',\n            pin: !this.useSticky,\n            animatePin: this.animatePin,\n            ease: this.ease,\n            forceTranspond: this.forceTranspond,\n            useThrottle: this.useThrottle,\n            easeType: this.easeType,\n            springConfig: 'scroller',\n            animateAtStart: this.animateAtStart,\n            fromTo: this.reverse,\n            dynamicRange: () => {\n                return -(this.horizontalWidth - window.innerWidth);\n            },\n            dynamicStart: {\n                position: 'bottom',\n                value: () => {\n                    return window.innerHeight;\n                },\n            },\n            dynamicEnd: {\n                position: 'bottom',\n                value: () => {\n                    return this.horizontalWidth;\n                },\n            },\n            onTick: ({ value, parentIsMoving }) => {\n                const percent = Math.abs(\n                    -Number.parseInt(\n                        (value * 100) /\n                            (this.horizontalWidth - window.innerWidth)\n                    )\n                );\n\n                this.scrollValue = value;\n\n                // onTick standalone methods.\n                if (this.onTick)\n                    this.onTick({\n                        value,\n                        parentIsMoving,\n                        percent: this.reverse ? 100 - percent : percent,\n                    });\n\n                // Builtin children onTick;\n                this.children.forEach((element) => {\n                    element.move({ value, parentIsMoving });\n                });\n            },\n            onEnter: this.onEnter,\n            onEnterBack: this.onEnterBack,\n            onLeave: this.onLeave,\n            onLeaveBack: this.onLeaveBack,\n        });\n        scrollTriggerInstance.init();\n\n        this.moduleisActive = true;\n        this.scrollTriggerInstance = scrollTriggerInstance;\n        this.triggerTopPosition = offset(this.trigger).top;\n        this.setLinkAttribute();\n    }\n\n    /**\n     * @private\n     */\n    createScroller() {\n        pipe(\n            this.getWidth.bind(this),\n            this.setDimension.bind(this),\n            this.createShadow.bind(this),\n            this.updateShadow.bind(this)\n        )().then(() => {\n            this.initScroller();\n            this.refreshChildren();\n        });\n    }\n\n    /**\n     * @private\n     */\n    refreshChildren() {\n        mobCore.useFrameIndex(() => {\n            mobCore.useNextTick(() => {\n                this.afterRefresh?.();\n                this.children.forEach((element) => {\n                    element?.refresh?.();\n                });\n            });\n        }, 3);\n    }\n\n    /**\n     * @description\n     * Refresh instance\n     *\n     * @example\n     * myInstance.refresh()\n     */\n    refresh() {\n        if (!this.moduleisActive || !mq[this.queryType](this.breakpoint))\n            return;\n\n        return new Promise((resolve) => {\n            pipe(\n                this.getWidth.bind(this),\n                this.setDimension.bind(this),\n                this.updateShadow.bind(this)\n            )().then(() => {\n                this.scrollTriggerInstance?.stopMotion?.();\n                this.triggerTopPosition = offset(this.trigger).top;\n\n                if (this.moduleisActive) {\n                    this.scrollTriggerInstance?.refresh?.();\n                    this.refreshChildren();\n                }\n                resolve();\n            });\n        });\n    }\n\n    /**\n     * @private\n     */\n    killScroller({ destroyAll = false }) {\n        if (this.moduleisActive || destroyAll) {\n            this.scrollTriggerInstance?.destroy?.();\n            this.scrollTriggerInstance = null;\n            if (this.trigger) this.trigger.style.height = '';\n            if (this.mainContainer) this.mainContainer.style.height = '';\n            if (this.trigger) this.trigger.style.marginTop = '';\n            this.removeShadow();\n            this.removeLinkAttribute();\n            this.moduleisActive = false;\n\n            // Make sure that if component is running with ease the style is removed.\n            mobCore.useFrameIndex(() => {\n                this.row.style = '';\n\n                if (destroyAll && this.mainContainer) {\n                    if (this.useDrag) this.removeDragListener();\n\n                    const styleDiv =\n                        this.mainContainer.querySelector('.scroller-style');\n                    if (styleDiv) styleDiv.remove();\n\n                    this.mainContainer = null;\n                    this.trigger = null;\n                    this.row = [];\n                    this.column = [];\n                    this.shadow = [];\n                    this.afterInit = null;\n                    this.afterRefresh = null;\n                    this.onTick = null;\n                    this.onEnter = null;\n                    this.onEnterBack = null;\n                    this.onLeave = null;\n                    this.onLeaveBack = null;\n                    this.scrollTriggerInstance = null;\n                    this.moduleisActive = false;\n                    this.button = [];\n\n                    this.mainContainer = null;\n                    this.container = null;\n                    this.trigger = null;\n                    this.row = null;\n\n                    mobCore.useNextTick(() => {\n                        this.afterDestroy?.();\n                        this.afterDestroy = null;\n                        this.children.forEach((element) => {\n                            element?.destroy?.();\n                            element = null;\n                        });\n                        this.children = [];\n                    });\n                }\n            }, 3);\n        }\n    }\n\n    /**\n     * @private\n     */\n    onResize(horizontalResize) {\n        if (this.moduleisActive && mq[this.queryType](this.breakpoint)) {\n            if (horizontalResize) this.refresh();\n        } else if (\n            !this.moduleisActive &&\n            mq[this.queryType](this.breakpoint)\n        ) {\n            this.createScroller();\n        } else if (\n            this.moduleisActive &&\n            !mq[this.queryType](this.breakpoint)\n        ) {\n            this.killScroller({ destroyAll: false });\n        }\n    }\n\n    /**\n     * @description\n     * Destroy instance\n     *\n     * @example\n     * myInstance.destroy()\n     */\n    destroy() {\n        this.killScroller({ destroyAll: true });\n    }\n}\n", "// @ts-nocheck\nimport { outerHeight, outerWidth } from '../../../../mobCore/utils';\nimport { SmoothScroller } from '../../../../mobMotion/plugin';\n\nexport const overlayScroller = ({ screen, scroller, scrollbar }) => {\n    const instance = new SmoothScroller({\n        screen,\n        scroller,\n        direction: 'vertical',\n        drag: true,\n        scopedEvent: true,\n        breakpoint: 'xSmall',\n        onTick: ({ percent }) => {\n            scrollbar.value = percent;\n        },\n    });\n\n    instance.init();\n\n    return {\n        updateScroller: () => {\n            /**\n             * Get thumb width.\n             */\n            const scrollerHeight = outerHeight(scroller);\n            const screenHeight = outerHeight(screen);\n            const scrollBarHeight = outerWidth(scrollbar);\n            const thumbWidth =\n                (screenHeight / scrollerHeight) * scrollBarHeight;\n            scrollbar.style.setProperty('--thumb-width', `${thumbWidth}px`);\n\n            /**\n             * Refresh scroller instance.\n             */\n            instance.refresh();\n        },\n        move: (val) => instance.move(val),\n        goToTop: () => instance.set(0),\n    };\n};\n", "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><!-- Generator: Gravit.io --><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"isolation:isolate\" viewBox=\"0 0 466.726 466.722\" width=\"466.726pt\" height=\"466.722pt\"><defs><clipPath id=\"_clipPath_NGPjDQvH1wIrClzh8RPwl8j4Z0sPfcPA\"><rect width=\"466.726\" height=\"466.722\"/></clipPath></defs><g clip-path=\"url(#_clipPath_NGPjDQvH1wIrClzh8RPwl8j4Z0sPfcPA)\"><path d=\" M 64.164 0 C 28.918 0 0 28.918 0 64.164 L 0 306.614 C 0 341.86 28.918 370.778 64.164 370.778 L 306.614 370.778 C 341.86 370.778 370.778 341.86 370.778 306.614 L 370.778 64.164 C 370.778 28.918 341.86 0 306.614 0 L 64.164 0 Z  M 64.164 34.969 L 306.614 34.969 C 323.075 34.969 335.723 47.703 335.723 64.164 L 335.723 306.614 C 335.723 323.075 323.075 335.723 306.614 335.723 L 64.164 335.723 C 47.703 335.723 34.969 323.075 34.969 306.614 L 34.969 64.164 C 34.969 47.703 47.703 34.969 64.164 34.969 Z \" fill-rule=\"evenodd\" /><path d=\" M 353.214 95.945 C 348.577 95.949 344.132 97.793 340.855 101.07 C 337.578 104.347 335.734 108.793 335.73 113.429 C 335.734 118.062 337.578 122.507 340.855 125.784 C 344.132 129.061 348.578 130.905 353.214 130.913 L 402.566 130.913 C 418.882 130.913 431.675 143.792 431.675 160.108 L 431.675 402.558 C 431.675 418.874 418.882 431.667 402.566 431.667 L 160.116 431.667 C 143.8 431.667 130.921 418.874 130.921 402.558 L 130.917 353.292 C 130.937 348.643 129.105 344.175 125.823 340.878 C 122.542 337.581 118.085 335.726 113.432 335.722 C 108.78 335.726 104.323 337.581 101.045 340.878 C 97.764 344.175 95.928 348.643 95.948 353.292 L 95.948 402.558 C 95.948 437.792 124.882 466.722 160.112 466.722 L 402.562 466.722 C 437.796 466.722 466.726 437.788 466.726 402.558 L 466.726 160.108 C 466.726 124.874 437.792 95.944 402.562 95.944 L 353.214 95.945 Z \" /></g></svg>\n", "//@ts-check\n\nimport { overlayScroller } from './animation/overlayScroller';\n// @ts-ignore\nimport copyIcon from '../../../../svg/icon-copy.svg';\nimport {\n    html,\n    mainStore,\n    MAIN_STORE_BEFORE_ROUTE_LEAVES,\n} from '../../../mobjs';\n\n/**\n * @param {Object} param\n * @param {import('../../../mobjs/type').GetState<import('./type').CodeOverlay>} param.getState\n */\nconst copyToClipboard = ({ getState }) => {\n    const { rawContent } = getState();\n    navigator.clipboard.writeText(rawContent);\n};\n\n/**\n * @param {Object} param\n * @param {string} param.sync\n * @param {import('../../../mobjs/type').BindProps<import('./type').CodeOverlay,import('./type').CodeOverlayButton>} param.bindProps\n * @param {import('../../../mobjs/type').SetState<import('./type').CodeOverlay>} param.setState\n * @param {import('../../../mobjs/type').GetState<import('./type').CodeOverlay>} param.getState\n * @param {import('../../../mobjs/type').DelegateEvents} param.delegateEvents\n * @returns {string}\n */\nfunction getRepeaterCard({\n    sync,\n    bindProps,\n    setState,\n    delegateEvents,\n    getState,\n}) {\n    return html`\n        <code-overlay-button\n            ${sync}\n            ${bindProps({\n                bind: ['activeContent'],\n                props: ({ activeContent, urls }, index) => {\n                    const { label, source } = urls[index];\n\n                    return {\n                        key: label,\n                        disable: !source || source.length === 0,\n                        selected: label === activeContent,\n                    };\n                },\n            })}\n            ${delegateEvents({\n                click: (_e, index) => {\n                    const { urls } = getState();\n                    const { label } = urls[index];\n                    setState('activeContent', label);\n                },\n            })}\n        >\n        </code-overlay-button>\n    `;\n}\n\n/**\n * @param {Object} param\n * @param {import('../../../mobjs/type').SetState<import('./type').CodeOverlay>} param.setState\n * @param {import('../../../mobjs/type').GetState<import('./type').CodeOverlay>} param.getState\n * @param {import('../../../mobjs/type').StaticProps<import('../htmlContent/type').HtmlContent>} param.staticProps\n * @param {HTMLElement} param.codeEl\n * @param {string} param.currentKey\n * @param {() => void} param.updateScroller\n * @param {() => void} param.goToTop\n * @param {import('../../../mobjs/type').RenderComponent} param.renderComponent\n * @returns {Promise<any>}\n */\nconst printContent = async ({\n    setState,\n    getState,\n    codeEl,\n    currentKey,\n    updateScroller,\n    goToTop,\n    staticProps,\n    renderComponent,\n}) => {\n    const { urls } = getState();\n    const currentItem = urls.find(({ label }) => {\n        return label === currentKey;\n    });\n\n    const source = currentItem?.source;\n\n    /**\n     * If url id not defined or is an empty string return\n     * On overlay close url is empty.\n     */\n    if (!source?.length) return;\n\n    const htmlContent = html`<html-content\n        ${staticProps({ source, useMinHeight: true, awaitLoadSnippet: true })}\n    ></html-content>`;\n\n    /**\n     * Render component.\n     */\n    await renderComponent({\n        attachTo: codeEl,\n        component: htmlContent,\n    });\n\n    /**\n     * Save raw data.\n     */\n    setState('rawContent', codeEl?.textContent ?? '');\n\n    updateScroller();\n    goToTop();\n};\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').CodeOverlay>}\n */\nexport const CodeOverlayFn = ({\n    onMount,\n    setState,\n    getState,\n    repeat,\n    html,\n    bindProps,\n    delegateEvents,\n    watch,\n    renderComponent,\n    removeDOM,\n    staticProps,\n}) => {\n    onMount(({ element, ref }) => {\n        const { screenEl, scrollerEl, codeEl, scrollbar } = ref;\n\n        const { updateScroller, move, goToTop } = overlayScroller({\n            screen: screenEl,\n            scroller: scrollerEl,\n            scrollbar,\n        });\n\n        scrollbar.addEventListener('input', () => {\n            // @ts-ignore\n            move(scrollbar.value);\n        });\n\n        mainStore.watch(MAIN_STORE_BEFORE_ROUTE_LEAVES, () => {\n            setState('urls', []);\n        });\n\n        /**\n         * Update current content.\n         */\n        watch('activeContent', (currentKey) => {\n            printContent({\n                staticProps,\n                setState,\n                getState,\n                codeEl,\n                currentKey,\n                updateScroller,\n                goToTop,\n                renderComponent,\n            });\n        });\n\n        /**\n         * Open/Close overlay when the database change.\n         */\n        watch('urls', async (urls) => {\n            /**\n             * Check if should open or close\n             */\n            const shouldOpen = urls.length > 0;\n\n            if (shouldOpen) {\n                element.classList.add('active');\n                document.body.style.overflow = 'hidden';\n\n                /**\n                 * Get first active item.\n                 */\n                const firstActiveItem = urls?.[0]?.label;\n                if (!firstActiveItem) return;\n\n                setState('activeContent', firstActiveItem);\n                return;\n            }\n\n            element.classList.remove('active');\n            document.body.style.overflow = '';\n\n            /**\n             * Reset buttons state on overlay close.\n             */\n            setState('activeContent', '');\n            removeDOM(codeEl);\n            goToTop();\n        });\n\n        return () => {};\n    });\n\n    return html`\n        <div class=\"c-code-overlay js-overlay\">\n            <span\n                class=\"c-code-overlay__background\"\n                ${delegateEvents({\n                    click: () => {\n                        setState('urls', []);\n                    },\n                })}\n            ></span>\n            <div class=\"c-code-overlay__wrap js-overlay-wrap\">\n                <button\n                    type=\"button\"\n                    class=\"c-code-overlay__close\"\n                    ${delegateEvents({\n                        click: () => {\n                            setState('urls', []);\n                        },\n                    })}\n                ></button>\n                <button\n                    type=\"button\"\n                    class=\"c-code-overlay__copy\"\n                    ${delegateEvents({\n                        click: () => {\n                            copyToClipboard({ getState });\n                        },\n                    })}\n                >\n                    ${copyIcon}\n                </button>\n                <div class=\"c-code-overlay__header\">\n                    ${repeat({\n                        clean: true,\n                        watch: 'urls',\n                        render: ({ sync }) => {\n                            return getRepeaterCard({\n                                sync,\n                                bindProps,\n                                delegateEvents,\n                                setState,\n                                getState,\n                            });\n                        },\n                    })}\n                </div>\n                <input\n                    type=\"range\"\n                    id=\"test\"\n                    name=\"test\"\n                    min=\"0\"\n                    max=\"100\"\n                    value=\"0\"\n                    step=\".5\"\n                    ref=\"scrollbar\"\n                    class=\"c-code-overlay__scrollbar\"\n                />\n                <div class=\"c-code-overlay__content\" ref=\"screenEl\">\n                    <div ref=\"scrollerEl\">\n                        <div\n                            class=\"c-code-overlay__content__description\"\n                            ref=\"codeEl\"\n                        ></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent<import(\"./type\").CodeOverlayButton>}\n */\nexport const CodeOverlayButtonFn = ({ onMount, watchSync, html, getState }) => {\n    const { key, disable } = getState();\n\n    onMount(({ element }) => {\n        /**\n         * Set selected class.\n         */\n        const unwatchSelected = watchSync('selected', (selected) => {\n            element.classList.toggle('selected', selected);\n        });\n\n        return () => {\n            unwatchSelected();\n        };\n    });\n\n    const isDisable = disable ? 'disable' : '';\n\n    /**\n     * First render button is disabled.\n     */\n    return html`\n        <button class=\"c-code-overlay__button ${isDisable}\">${key}</button>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { HtmlContent } from '../htmlContent/definition';\nimport { CodeOverlayFn } from './codeOverlay';\nimport { CodeOverlayButtonFn } from './codeOverlayButton';\n\n/**\n * Button state ( each for every drawer ).\n */\nexport const CodeOverlayButton = createComponent({\n    name: 'code-overlay-button',\n    component: CodeOverlayButtonFn,\n    exportState: ['key', 'selected', 'disable'],\n    state: {\n        key: '',\n        selected: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        disable: () => ({\n            value: true,\n            type: Boolean,\n        }),\n    },\n});\n\n/**\n * Overlay state\n */\nexport const CodeOverlay = createComponent({\n    name: 'code-overlay',\n    component: CodeOverlayFn,\n    exportState: ['urls', 'activeContent'],\n    state: {\n        urls: () => ({\n            value: [],\n            type: Array,\n            skipEqual: false,\n        }),\n        activeContent: () => ({\n            value: '',\n            type: String,\n            skipEqual: true,\n        }),\n        rawContent: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n    child: [CodeOverlayButton, HtmlContent],\n});\n", "//@ts-check\n\nimport {\n    componentMap,\n    eventDelegationMap,\n    getTree,\n    mainStore,\n    tempDelegateEventMap,\n} from '../../../mobjs';\nimport { bindEventMap } from '../../../mobjs/temporaryData/bindEvents';\nimport { currentRepeaterValueMap } from '../../../mobjs/temporaryData/currentRepeaterItemValue';\nimport { dynamicPropsMap } from '../../../mobjs/temporaryData/dynamicProps';\nimport { onMountCallbackMap } from '../../../mobjs/temporaryData/onMount';\nimport { repeatMap } from '../../../mobjs/temporaryData/repeater/add';\nimport { activeRepeatMap } from '../../../mobjs/temporaryData/repeaterActions';\nimport { repeaterTargetComponentMap } from '../../../mobjs/temporaryData/repeaterTargetComponent';\nimport { staticPropsMap } from '../../../mobjs/temporaryData/staticProps';\n\n/**\n * @type {import('../../../mobjs/type').mobComponent}\n */\nexport const DebugButtonFn = ({ html, delegateEvents }) => {\n    return html`\n        <button\n            type=\"button\"\n            class=\"c-btn-debug\"\n            ${delegateEvents({\n                click: () => {\n                    mainStore.debugStore();\n                    console.log('componentMap', componentMap);\n                    console.log('Tree structure:', getTree());\n                    console.log('bindEventMap', bindEventMap);\n                    console.log('currentListValueMap', currentRepeaterValueMap);\n                    console.log('activeRepeatMap', activeRepeatMap);\n                    console.log('repeatMap', repeatMap);\n                    console.log('onMountCallbackMap', onMountCallbackMap);\n                    console.log('staticPropsMap', staticPropsMap);\n                    console.log('dynamicPropsMap', dynamicPropsMap);\n                    console.log(\n                        'repeaterTargetComponent',\n                        repeaterTargetComponentMap\n                    );\n                    console.log('eventDelegationMap', eventDelegationMap);\n                    console.log('tempDelegateEventMap', tempDelegateEventMap);\n                },\n            })}\n        >\n            Debug\n        </button>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { DebugButtonFn } from './debugButton';\n\nexport const CebugButton = createComponent({\n    name: 'debug-button',\n    component: DebugButtonFn,\n});\n", "//@ts-check\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').MLogo1>}\n */\nexport const Mlogo1Fn = ({ html, onMount, getState, watchSync }) => {\n    const { svg, active } = getState();\n    const activeClass = active ? 'active' : '';\n\n    onMount(({ ref }) => {\n        const { logo } = ref;\n\n        watchSync('active', (isActive) => {\n            logo.classList.toggle('active', isActive);\n        });\n\n        return () => {};\n    });\n\n    return html`<div>\n        <div class=\"m-logo-1 ${activeClass}\" ref=\"logo\">${svg}</div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { Mlogo1Fn } from './mLogo1';\n\nexport const MLogo1 = createComponent({\n    name: 'm-logo-1',\n    component: Mlogo1Fn,\n    exportState: ['svg', 'active'],\n    state: {\n        svg: () => ({\n            value: '',\n            type: String,\n        }),\n        active: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n});\n", "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\n<svg width=\"50.51\" height=\"51.18\" version=\"1.1\" viewBox=\"0 0 13.364 13.541\" xmlns=\"http://www.w3.org/2000/svg\">\n <g transform=\"translate(-6.0855 -4.2559)\">\n  <path d=\"m7.5846 9.2554h10.366l-5.1892 7.0421z\" color=\"#000000\" stroke-linejoin=\"round\" stroke-width=\"3\" style=\"-inkscape-stroke:none\"/>\n  <path d=\"m7.584 7.7559a1.5002 1.5002 0 0 0-1.207 2.3887l5.1758 7.041a1.5002 1.5002 0 0 0 2.416 2e-3l5.1895-7.043a1.5002 1.5002 0 0 0-1.207-2.3887zm2.9648 3h4.4316l-2.2188 3.0117z\" color=\"#000000\" style=\"-inkscape-stroke:none\"/>\n  <path d=\"m10.712 5.7557h4.1113v4.4858h-4.1113z\" color=\"#000000\" stroke-linejoin=\"round\" stroke-width=\"3\" style=\"-inkscape-stroke:none\"/>\n  <path d=\"m10.711 4.2559a1.5002 1.5002 0 0 0-1.5 1.5v4.4863a1.5002 1.5002 0 0 0 1.5 1.5h4.1113a1.5002 1.5002 0 0 0 1.5-1.5v-4.4863a1.5002 1.5002 0 0 0-1.5-1.5zm1.5 3h1.1113v1.4863h-1.1113z\" color=\"#000000\" style=\"-inkscape-stroke:none\"/>\n </g>\n</svg>\n", "//@ts-check\n\n// @ts-ignore\nimport arrow from '../../../../svg/scroll_arrow.svg';\nimport { motionCore } from '../../../mobMotion';\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').QuickNav>}\n */\nexport const QuickNavFn = ({ getState, onMount, html, watchSync }) => {\n    const { active } = getState();\n    const activeClass = active ? 'active' : '';\n\n    onMount(({ element, ref }) => {\n        if (motionCore.mq('max', 'desktop')) return;\n\n        const { prev, next } = ref;\n\n        watchSync('active', (isActive) => {\n            element.classList.toggle('active', isActive);\n        });\n\n        watchSync('nextRoute', (route) => {\n            next.classList.toggle('is-disable', !route);\n            // @ts-ignore\n            next.href = route;\n        });\n\n        watchSync('prevRoute', (route) => {\n            prev.classList.toggle('is-disable', !route);\n            // @ts-ignore\n            prev.href = route;\n        });\n\n        watchSync('color', (color) => {\n            if (color === 'white') {\n                element.classList.remove('fill-black');\n                element.classList.add('fill-white');\n                return;\n            }\n\n            if (color === 'black') {\n                element.classList.remove('fill-white');\n                element.classList.add('fill-black');\n                return;\n            }\n        });\n\n        return () => {};\n    });\n\n    return html`<div class=\"c-quick-nav-container ${activeClass}\">\n        <a class=\"c-quick-nav c-quick-nav--prev\" ref=\"prev\">${arrow}</a>\n        <a class=\"c-quick-nav c-quick-nav--next\" ref=\"next\">${arrow}</a>\n    </div>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { QuickNavFn } from './nextPage';\n\nexport const QuickNav = createComponent({\n    name: 'quick-nav',\n    component: QuickNavFn,\n    exportState: ['color', 'active', 'prevRoute', 'nextRoute'],\n    state: {\n        color: () => ({\n            value: 'white',\n            type: String,\n            validate: (value) => {\n                return ['white', 'black'].includes(value);\n            },\n        }),\n        active: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        prevRoute: () => ({\n            value: '',\n            type: String,\n        }),\n        nextRoute: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n});\n", "//@ts-check\n\nimport {\n    mainStore,\n    MAIN_STORE_AFTER_ROUTE_CHANGE,\n    MAIN_STORE_BEFORE_ROUTE_CHANGE,\n} from '../../../mobjs';\nimport { tween } from '../../../mobMotion';\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent<import('./type').RouteLoader>}\n */\nexport const RouteLoaderFn = ({ html, onMount }) => {\n    onMount(({ element }) => {\n        element.classList.add('disable');\n\n        let tweenOut = tween.createTween({\n            data: { opacity: 1, scale: 1 },\n            duration: 500,\n        });\n\n        tweenOut.subscribe(({ opacity, scale }) => {\n            element.style.opacity = opacity;\n            element.style.transform = `scale(${scale})`;\n        });\n\n        mainStore.watch(MAIN_STORE_BEFORE_ROUTE_CHANGE, () => {\n            element.classList.remove('disable');\n            tweenOut.goTo({ opacity: 1, scale: 1 });\n        });\n\n        mainStore.watch(MAIN_STORE_AFTER_ROUTE_CHANGE, async () => {\n            await tweenOut.goTo({ opacity: 0, scale: 0.9 });\n            element.classList.add('disable');\n        });\n\n        return () => {\n            tweenOut.destroy();\n            // @ts-ignore\n            tweenOut = null;\n        };\n    });\n\n    return html`\n        <div class=\"c-loader center-viewport\">\n            <span class=\"c-loader__inner\"></span>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { RouteLoaderFn } from './routeLoader';\n\nexport const RouteLoader = createComponent({\n    name: 'route-loader',\n    component: RouteLoaderFn,\n    state: {\n        isLoading: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n});\n", "//@ts-check\n\n// @ts-ignore\nimport arrow from '../../../../svg/scroll_arrow.svg';\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent<import('./type').ScrollDownLabel>}\n */\nexport const ScrollDownLabelFn = ({ html, onMount, getState, watchSync }) => {\n    const { active } = getState();\n    const activeClass = active ? 'active' : '';\n\n    onMount(({ element }) => {\n        watchSync('active', (isActive) => {\n            element.classList.toggle('active', isActive);\n        });\n\n        return () => {};\n    });\n\n    return html`\n        <div class=\"c-scroller-down-label ${activeClass}\">\n            <h1>Scroll down</h1>\n            ${arrow}\n        </div>\n    `;\n};\n", "import { createComponent } from '../../../mobjs';\nimport { ScrollDownLabelFn } from './scrolldownLabel';\n\nexport const ScrollDownLabel = createComponent({\n    name: 'scroll-down-label',\n    component: ScrollDownLabelFn,\n    exportState: ['active'],\n    state: {\n        active: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n});\n", "//@ts-check\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent}\n */\nexport const FooterFn = ({ html }) => {\n    return html`\n        <footer class=\"l-footer\">\n            <div class=\"l-footer__container\">\n                <footer-nav></footer-nav>\n                <mobjs-slot name=\"debug\"></mobjs-slot>\n            </div>\n        </footer>\n    `;\n};\n", "//@ts-check\n\nimport { navigationStore } from '../../navigation/store/navStore';\n\n/**\n * @type {import(\"../../../../mobjs/type\").mobComponent<import('./type').FooterNavButton>}\n */\nexport const FooterNavButtonFn = ({ html, onMount, getState }) => {\n    const { label, section } = getState();\n\n    onMount(({ element }) => {\n        navigationStore.watch('activeSection', (current) => {\n            const isActiveSection = current === section;\n            element.classList.toggle('current', isActiveSection);\n        });\n\n        return () => {};\n    });\n\n    return html`\n        <button type=\"button\" class=\"footer-nav__button\">${label}</button>\n    `;\n};\n", "//@ts-check\n\nimport { html, loadUrl } from '../../../../mobjs';\nimport { motionCore } from '../../../../mobMotion';\n\nconst data = [\n    {\n        label: 'About',\n        url: 'about',\n        section: 'about',\n    },\n    {\n        label: 'Canvas 2d',\n        url: 'canvas-overview',\n        section: 'canvas',\n    },\n    {\n        label: 'Illustration',\n        url: 'svg-overview',\n        section: 'svg',\n    },\n    {\n        label: 'MobCore',\n        url: 'mobCore-overview',\n        section: 'mobCore',\n    },\n    {\n        label: 'MobJs',\n        url: 'mobJs-overview',\n        section: 'mobJs',\n    },\n    {\n        label: 'MobMotion',\n        url: 'mobMotion-overview',\n        section: 'mobMotion',\n    },\n    {\n        label: 'Plugin',\n        url: 'plugin-overview',\n        section: 'plugin',\n    },\n];\n\nconst getItems = ({ delegateEvents, staticProps }) => {\n    return data\n        .map(({ label, url, section }) => {\n            return html`<li class=\"footer-nav__item\">\n                <footer-nav-button\n                    ${delegateEvents({\n                        click: () => {\n                            loadUrl({ url });\n                        },\n                    })}\n                    ${staticProps({\n                        label,\n                        section,\n                    })}\n                ></footer-nav-button>\n            </li> `;\n        })\n        .join('');\n};\n\n/**\n * @type {import(\"../../../../mobjs/type\").mobComponent}\n */\nexport const FooterNavFn = ({ html, delegateEvents, staticProps }) => {\n    if (motionCore.mq('max', 'desktop')) return html` <span></span> `;\n\n    return html`\n        <ul class=\"footer-nav\">\n            ${getItems({ delegateEvents, staticProps })}\n        </ul>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { FooterNavButtonFn } from './footerButton';\nimport { FooterNavFn } from './footerNav';\n\nexport const FooterNavButton = createComponent({\n    name: 'footer-nav-button',\n    component: FooterNavButtonFn,\n    exportState: ['label', 'section'],\n    state: {\n        label: () => ({\n            value: '',\n            type: String,\n        }),\n        section: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n});\n\nexport const FooterNav = createComponent({\n    name: 'footer-nav',\n    component: FooterNavFn,\n    child: [FooterNavButton],\n});\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { FooterFn } from './footer';\nimport { FooterNav } from './footerNav/definition';\n\nexport const Footer = createComponent({\n    name: 'mob-footer',\n    component: FooterFn,\n    child: [FooterNav],\n});\n", "//@ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport {\n    loadUrl,\n    mainStore,\n    MAIN_STORE_BEFORE_ROUTE_CHANGE,\n} from '../../../mobjs';\nimport { navigationStore } from '../navigation/store/navStore';\n\nfunction openInfo({ navInfo }) {\n    mobCore.useFrame(() => {\n        navInfo.classList.add('open');\n    });\n}\n\nfunction closeInfo({ navInfo }) {\n    mobCore.useFrame(() => {\n        navInfo.classList.remove('open');\n    });\n}\n\nfunction titleHandler() {\n    loadUrl({ url: '#home' });\n    navigationStore.set('navigationIsOpen', false);\n    navigationStore.emit('closeNavigation');\n    navigationStore.emit('closeAllAccordion');\n    navigationStore.emit('goToTop');\n}\n\n/**\n * @type {import('../../../mobjs/type').mobComponent}\n */\nexport const HeaderFn = ({ html, onMount, delegateEvents }) => {\n    onMount(({ ref }) => {\n        const { navInfo, title, beta } = ref;\n\n        navigationStore.watch('openNavigation', () => openInfo({ navInfo }));\n        navigationStore.watch('closeNavigation', () => closeInfo({ navInfo }));\n\n        mainStore.watch(MAIN_STORE_BEFORE_ROUTE_CHANGE, (route) => {\n            title.classList.toggle('visible', route !== 'home');\n            beta.classList.toggle('visible', route !== 'home');\n        });\n\n        return () => {};\n    });\n\n    return html`\n        <header class=\"l-header\">\n            <div class=\"l-header__container\">\n                <div class=\"l-header__grid\">\n                    <div class=\"l-header__toggle\">\n                        <mob-header-toggle></mob-header-toggle>\n                    </div>\n                    <button\n                        type=\"button\"\n                        class=\"l-header__title\"\n                        ref=\"titleLink\"\n                        ${delegateEvents({\n                            click: () => {\n                                titleHandler();\n                            },\n                        })}\n                    >\n                        <div class=\"l-header__title-container\">\n                            <h3 ref=\"title\"><span>Mob</span>Project</h3>\n                            <h5 ref=\"beta\">beta 0.0.1</h5>\n                        </div>\n                    </button>\n                    <div class=\"l-header__utils\">\n                        <mob-header-nav></mob-header-nav>\n                    </div>\n                </div>\n                <div class=\"l-header__navinfo\" ref=\"navInfo\">\n                    <p class=\"p--small\"></p>\n                </div>\n            </div>\n        </header>\n    `;\n};\n", "<svg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 24 24\"><path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\"/></svg>\n\n", "//@ts-check\n\n// @ts-ignore\nimport githubIcon from '../../../../svg/icon-github.svg';\nimport { getCommonData } from '../../../data';\nimport { html, loadUrl } from '../../../mobjs';\nimport { navigationStore } from '../navigation/store/navStore';\n\nconst icon = {\n    github: githubIcon,\n};\n\nconst onClick = ({ event }) => {\n    const button = event.target;\n    console.log(button);\n    const { url } = button.dataset;\n    loadUrl({ url });\n\n    const { navigationIsOpen } = navigationStore.get();\n    if (!navigationIsOpen) return;\n\n    navigationStore.set('navigationIsOpen', false);\n    navigationStore.emit('closeNavigation');\n};\n\nfunction additems({ delegateEvents }) {\n    const { header } = getCommonData();\n    const { links } = header;\n\n    return links\n        .map((link) => {\n            const { svg, url, internal } = link;\n\n            return html`<li class=\"l-header__sidenav__item\">\n                ${internal\n                    ? html`\n                          <button\n                              type=\"button\"\n                              data-url=\"${url}\"\n                              class=\"l-header__sidenav__link\"\n                              ${delegateEvents({\n                                  click: (event) => {\n                                      console.log('click');\n                                      onClick({ event });\n                                  },\n                              })}\n                          >\n                              ${icon[svg]}\n                          </button>\n                      `\n                    : html`\n                          <a\n                              href=\"${url}\"\n                              target=\"_blank\"\n                              class=\"l-header__sidenav__link\"\n                          >\n                              ${icon[svg]}\n                          </a>\n                      `}\n            </li>`;\n        })\n        .join('');\n}\n\n/**\n * @type {import('../../../mobjs/type').mobComponent}\n */\nexport const HeadernavFn = ({ html, delegateEvents }) => {\n    return html`\n        <ul class=\"l-header__sidenav\">\n            ${additems({ delegateEvents })}\n        </ul>\n    `;\n};\n", "//@ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport { navigationStore } from '../navigation/store/navStore';\n\nconst hanburgerHandler = () => {\n    const { navigationIsOpen } = navigationStore.get();\n    navigationStore.set('navigationIsOpen', (state) => !state);\n\n    if (navigationIsOpen) {\n        navigationStore.emit('closeNavigation');\n        return;\n    }\n\n    navigationStore.emit('openNavigation');\n};\n\n/**\n * @type {import('../../../mobjs/type').mobComponent}\n */\nexport const HeaderToggleFn = ({ onMount, html, delegateEvents }) => {\n    onMount(({ element }) => {\n        navigationStore.watch('closeNavigation', () => {\n            mobCore.useFrame(() => {\n                element.classList.remove('is-open');\n            });\n        });\n\n        navigationStore.watch('openNavigation', () => {\n            mobCore.useFrame(() => {\n                element.classList.add('is-open');\n            });\n        });\n\n        return () => {};\n    });\n\n    return html`\n        <button\n            class=\"hamburger hamburger--squeeze\"\n            type=\"button\"\n            ${delegateEvents({\n                click: () => hanburgerHandler(),\n            })}\n        >\n            <div class=\"hamburger-box\">\n                <div class=\"hamburger-inner\"></div>\n            </div>\n        </button>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { HeaderFn } from './header';\nimport { HeadernavFn } from './headernav';\nimport { HeaderToggleFn } from './headerToggle';\n\nexport const HeaderNav = createComponent({\n    name: 'mob-header-nav',\n    component: HeadernavFn,\n});\n\nexport const HeaderToggle = createComponent({\n    name: 'mob-header-toggle',\n    component: HeaderToggleFn,\n});\n\nexport const Header = createComponent({\n    name: 'mob-header',\n    component: HeaderFn,\n    child: [HeaderNav, HeaderToggle],\n});\n", "// @ts-nocheck\nimport { outerHeight } from '../../../../mobCore/utils';\nimport { SmoothScroller } from '../../../../mobMotion/plugin';\nimport { navigationStore } from '../store/navStore';\n\nlet currentPercent = 0;\n\nexport const initNavigationScoller = ({ root }) => {\n    const screenEl = root.querySelector('.l-navcontainer__wrap');\n    const scrollerEl = root.querySelector('.l-navcontainer__scroll');\n    const percentEl = root.querySelector('.l-navcontainer__percent');\n    const setDelay = 200;\n\n    /**\n     * Initialize Scroller.\n     */\n    const navScroller = new SmoothScroller({\n        screen: screenEl,\n        scroller: scrollerEl,\n        direction: 'vertical',\n        drag: true,\n        scopedEvent: true,\n        breakpoint: 'tablet',\n        onUpdate: ({ percent }) => {\n            const { navigationIsOpen } = navigationStore.get();\n            if (!navigationIsOpen) return;\n\n            currentPercent = Number.parseInt(percent) / 100;\n            percentEl.style.transform = `translateZ(0) scaleX(${currentPercent})`;\n        },\n    });\n\n    navScroller.init();\n\n    /**\n     * Aign menu to current active main section label\n     */\n    navigationStore.watch('activeSection', (section) => {\n        const currentSection = document.querySelector(\n            `[data-sectionname='${section}']`\n        );\n        if (!currentSection) return;\n\n        const header = document.querySelector('.l-header');\n        const navHeight = outerHeight(scrollerEl);\n        const headerHeight = outerHeight(header);\n        const percent =\n            (100 * currentSection.offsetTop) /\n            (navHeight - window.innerHeight + headerHeight);\n\n        /**\n         * Clap value to 100;\n         */\n        const maxValue = Math.min(percent, 100);\n        navScroller.move(maxValue);\n    });\n\n    /**\n     * Refresh scroller on navigation open.\n     * Exact dimension after automac accordion close\n     */\n    navigationStore.watch('refreshScroller', () => navScroller.refresh());\n\n    /**\n     * Close nav.\n     */\n    navigationStore.watch('closeNavigation', () => {\n        percentEl.style.transform = `translateZ(0) scaleX(0)`;\n    });\n\n    /**\n     * Open nav.\n     */\n    navigationStore.watch('openNavigation', () => {\n        percentEl.style.transform = `translateZ(0) scaleX(${currentPercent})`;\n    });\n\n    /**\n     * Scroll to top.\n     */\n    navigationStore.watch('goToTop', () => {\n        setTimeout(() => {\n            navScroller.move(0);\n\n            /**\n             * Reset active section to scroll.\n             */\n            navigationStore.set('activeSection', 'no-section');\n        }, setDelay);\n    });\n};\n", "//@ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport { motionCore } from '../../../mobMotion';\nimport { bodyScroll } from '../../../mobMotion/plugin';\nimport { initNavigationScoller } from './animation/navScroller';\nimport { navigationStore } from './store/navStore';\n\nfunction closeNavigation({ element, main }) {\n    mobCore.useFrame(() => {\n        document.body.style.overflow = '';\n        element.classList.remove('active');\n        main.classList.remove('shift');\n    });\n}\n\nfunction openNavigation({ element, main }) {\n    navigationStore.emit('refreshScroller');\n\n    mobCore.useFrame(() => {\n        document.body.style.overflow = 'hidden';\n        element.classList.add('active');\n        main.classList.add('shift');\n    });\n}\n\nfunction addHandler({ main, toTopBtn }) {\n    main.addEventListener('click', () => {\n        const { navigationIsOpen } = navigationStore.get();\n        if (!navigationIsOpen) return;\n        navigationStore.set('navigationIsOpen', false);\n        navigationStore.emit('closeNavigation');\n    });\n\n    toTopBtn.addEventListener('click', () => {\n        navigationStore.emit('closeAllAccordion');\n        navigationStore.emit('goToTop');\n\n        const { navigationIsOpen } = navigationStore.get();\n        if (!navigationIsOpen) bodyScroll.to(0);\n    });\n}\n\n/**\n * @type {import('../../../mobjs/type').mobComponent}\n */\nexport const NavigationContainerFn = ({ html, onMount }) => {\n    onMount(({ element, ref }) => {\n        const main = document.querySelector('main.main');\n        let lastMq = '';\n        const { toTopBtn, wrap } = ref;\n\n        /**\n         * Open navigation.\n         */\n        navigationStore.watch('openNavigation', () =>\n            openNavigation({ element, main })\n        );\n\n        /**\n         * Close navigation.\n         */\n        navigationStore.watch('closeNavigation', () =>\n            closeNavigation({ element, main })\n        );\n\n        /**\n         * Reset scrollPositon from mobile to desktop.\n         */\n        mobCore.useResize(() => {\n            const isDesktop = motionCore.mq('max', 'desktop');\n            const currentMq = isDesktop ? 'desk' : 'mob';\n            if (currentMq !== lastMq) wrap.scrollTo(0, 0);\n            lastMq = currentMq;\n        });\n\n        addHandler({ main, toTopBtn });\n        initNavigationScoller({ root: element });\n\n        return () => {};\n    });\n\n    return html`\n        <div class=\"l-navcontainer\">\n            <div class=\"l-navcontainer__side\">\n                <div class=\"l-navcontainer__percent\"></div>\n                <button class=\"l-navcontainer__totop\" ref=\"toTopBtn\"></button>\n            </div>\n            <div class=\"l-navcontainer__wrap\" ref=\"wrap\">\n                <div class=\"l-navcontainer__scroll\">\n                    <mob-navigation name=\"main_navigation\"></mob-navigation>\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { getCommonData } from '../../../data';\nimport { html } from '../../../mobjs';\nimport { navigationStore } from './store/navStore';\n\n/**\n * @description\n * Create first level items.\n *\n * @param {object} param\n * @param {any} param.data\n * @param {import('../../../mobjs/type').StaticProps} param.staticProps\n * @param {import('../../../mobjs/type').SetState<import('./type').Navigation>} param.setState\n * @param {import('../../../mobjs/type').BindProps<import('./type').Navigation,import('./type').NavigationSubmenu>} param.bindProps\n * @param {import('../../../mobjs/type').BindEvents} param.bindEvents\n *\n */\nfunction getItems({ data, staticProps, setState, bindProps, bindEvents }) {\n    return data\n        .map((item, index) => {\n            const {\n                label,\n                url,\n                activeId,\n                children,\n                section,\n                sectioName,\n                scrollToSection,\n            } = item;\n\n            if (section) {\n                return html`\n                    <mob-navigation-label\n                        ${staticProps({ label, sectioName })}\n                    ></mob-navigation-label>\n                `;\n            }\n\n            return children\n                ? html`\n                      <mob-navigation-submenu\n                          ${staticProps({\n                              headerButton: {\n                                  label,\n                                  url,\n                              },\n                              children,\n                              callback: () =>\n                                  setState('currentAccordionId', index),\n                          })}\n                          ${bindProps({\n                              bind: ['currentAccordionId'],\n                              props: ({ currentAccordionId }) => {\n                                  return {\n                                      isOpen: currentAccordionId === index,\n                                  };\n                              },\n                          })}\n                      >\n                      </mob-navigation-submenu>\n                  `\n                : html`\n                      <li class=\"l-navigation__item\">\n                          <mob-navigation-button\n                              ${bindEvents({\n                                  click: () => {\n                                      // Close accordion if click first level button.\n                                      //setState('currentAccordionId', -1);\n                                  },\n                              })}\n                              ${staticProps({\n                                  label,\n                                  url,\n                                  scrollToSection:\n                                      scrollToSection ?? 'no-scroll',\n                                  activeId: activeId ?? -1,\n                              })}\n                          ></mob-navigation-button>\n                      </li>\n                  `;\n        })\n        .join('');\n}\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').Navigation>}\n */\nexport const NavigationFn = ({\n    html,\n    staticProps,\n    setState,\n    bindProps,\n    bindEvents,\n}) => {\n    const { navigation: data } = getCommonData();\n\n    /**\n     * Close all accordion.\n     */\n    navigationStore.watch('closeAllAccordion', () => {\n        setState('currentAccordionId', -1);\n    });\n\n    return html`\n        <nav class=\"l-navigation\">\n            <ul class=\"l-navigation__list\">\n                ${getItems({\n                    data,\n                    staticProps,\n                    setState,\n                    bindProps,\n                    bindEvents,\n                })}\n            </ul>\n        </nav>\n    `;\n};\n", "//@ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport { loadUrl, mainStore, MAIN_STORE_ACTIVE_ROUTE } from '../../../mobjs';\nimport { navigationStore } from './store/navStore';\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').NavigationButton>}\n */\nexport const NavigationButtonFn = ({\n    getState,\n    html,\n    onMount,\n    watch,\n    delegateEvents,\n}) => {\n    const {\n        label,\n        url,\n        arrowClass,\n        subMenuClass,\n        fireRoute,\n        callback,\n        scrollToSection,\n        activeId,\n    } = getState();\n\n    onMount(({ element }) => {\n        /**\n         * Is a toggle accordion.\n         */\n        watch('isOpen', (isOpen) => {\n            mobCore.useFrame(() => {\n                element.classList.toggle('active', isOpen);\n            });\n        });\n\n        /**\n         * Is a link button.\n         */\n        mainStore.watch(MAIN_STORE_ACTIVE_ROUTE, (current) => {\n            mobCore.useFrame(() => {\n                const urlParsed = url.split('?');\n\n                /**\n                 * Get hash.\n                 */\n                const hash = urlParsed?.[0] ?? '';\n\n                /**\n                 * Check is activeId match with route\n                 */\n                const { activeParams } = mainStore.get();\n                const paramsMatch =\n                    activeId === -1 || activeParams?.['activeId'] === activeId;\n\n                const isActiveRoute = current === hash && paramsMatch;\n                element.classList.toggle('current', isActiveRoute);\n\n                /**\n                 * Set current accordion menu open state.\n                 * On load route, or if route is loaded outside menu.\n                 */\n                if (isActiveRoute && fireRoute) {\n                    callback();\n\n                    /**\n                     * Aign menu to current active main section label\n                     */\n                    navigationStore.set('activeSection', scrollToSection);\n                }\n            });\n        });\n\n        return () => {};\n    });\n\n    return html`\n        <button\n            type=\"button\"\n            class=\"l-navigation__link  ${arrowClass} ${subMenuClass}\"\n            ${delegateEvents({\n                click: () => {\n                    /**\n                     * Set current accordion menu open state.\n                     * On Submenu label click.\n                     */\n                    callback();\n                    if (!fireRoute) return;\n\n                    /**\n                     * Fire page transition if button is cliccable.\n                     */\n                    loadUrl({ url });\n                    navigationStore.set('navigationIsOpen', false);\n                    navigationStore.emit('closeNavigation');\n                },\n            })}\n        >\n            ${label}\n        </button>\n    `;\n};\n", "//@ts-check\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').NavigationLabel>}\n */\nexport const NavigationLabelFn = ({ getState, html }) => {\n    const { label, sectioName } = getState();\n\n    return html`\n        <div class=\"l-navigation__label\" data-sectionname=\"${sectioName}\">\n            ${label}\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { html, setStateByName } from '../../../mobjs';\nimport { slide } from '../../../mobMotion/plugin';\nimport { navigationStore } from './store/navStore';\n\nfunction getSubmenu({ children, staticProps, callback }) {\n    return children\n        .map((child) => {\n            const { label, url, scrollToSection, activeId } = child;\n\n            return html`\n                <li class=\"l-navigation__submenu__item\">\n                    <mob-navigation-button\n                        ${staticProps({\n                            callback,\n                            label,\n                            url,\n                            subMenuClass: 'l-navigation__link--submenu',\n                            scrollToSection,\n                            activeId: activeId ?? -1,\n                        })}\n                    ></mob-navigation-button>\n                </li>\n            `;\n        })\n        .join('');\n}\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent<import('./type').NavigationSubmenu>}\n */\nexport const NavigationSubmenuFn = ({\n    onMount,\n    html,\n    getState,\n    setState,\n    staticProps,\n    bindProps,\n    watchSync,\n}) => {\n    const { children, headerButton, callback } = getState();\n    const { label, url, activeId } = headerButton;\n\n    /**\n     * @type {import('../../../mobjs/type').SetStateByName<import('./type').Navigation>}\n     */\n    const setNavigationState = setStateByName('main_navigation');\n\n    onMount(({ ref }) => {\n        /**\n         * Accordion\n         */\n        const { content } = ref;\n\n        slide.subscribe(content);\n        slide.reset(content);\n\n        watchSync('isOpen', async (isOpen) => {\n            const action = isOpen ? 'down' : 'up';\n\n            await slide[action](content);\n            navigationStore.emit('refreshScroller');\n\n            /**\n             * When accordion is closed form element itSelf\n             * Need to reset currentAccordionId without fire callback.\n             */\n            if (!isOpen) {\n                setNavigationState('currentAccordionId', -1, false);\n            }\n        });\n\n        return () => {};\n    });\n\n    return html`\n        <li class=\"l-navigation__item has-child\">\n            <mob-navigation-button\n                ${staticProps({\n                    label,\n                    url,\n                    arrowClass: 'l-navigation__link--arrow',\n                    fireRoute: false,\n                    activeId: activeId ?? -1,\n                    callback: () => {\n                        setState('isOpen', (prev) => !prev);\n                        const { isOpen } = getState();\n                        if (isOpen) callback();\n                    },\n                })}\n                ${bindProps({\n                    bind: ['isOpen'],\n                    /** @returns {Partial<import('./type').NavigationButton>} */\n                    props: ({ isOpen }) => {\n                        return { isOpen };\n                    },\n                })}\n            ></mob-navigation-button>\n            <ul class=\"l-navigation__submenu\" ref=\"content\">\n                ${getSubmenu({ children, staticProps, callback })}\n            </ul>\n        </li>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { NavigationContainerFn } from './navContainer';\nimport { NavigationFn } from './navigation';\nimport { NavigationButtonFn } from './navigationButton';\nimport { NavigationLabelFn } from './navigationLabel';\nimport { NavigationSubmenuFn } from './navigationSubmenu';\n\nexport const NavigationButton = createComponent({\n    name: 'mob-navigation-button',\n    component: NavigationButtonFn,\n    exportState: [\n        'label',\n        'url',\n        'arrowClass',\n        'subMenuClass',\n        'fireRoute',\n        'callback',\n        'isOpen',\n        'scrollToSection',\n        'activeId',\n    ],\n    state: {\n        label: () => ({\n            value: '',\n            type: String,\n        }),\n        url: () => ({\n            value: '',\n            type: String,\n        }),\n        activeId: () => ({\n            value: -1,\n            type: Number,\n        }),\n        scrollToSection: () => ({\n            value: '',\n            type: String,\n        }),\n        arrowClass: () => ({\n            value: '',\n            type: String,\n        }),\n        subMenuClass: () => ({\n            value: '',\n            type: String,\n        }),\n        fireRoute: () => ({\n            value: true,\n            type: Boolean,\n        }),\n        callback: () => ({\n            value: () => {},\n            type: Function,\n        }),\n        isOpen: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n});\n\nexport const NavigationLabel = createComponent({\n    name: 'mob-navigation-label',\n    component: NavigationLabelFn,\n    exportState: ['label', 'sectioName'],\n    state: {\n        label: () => ({\n            value: '',\n            type: String,\n        }),\n        sectioName: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n});\n\nexport const NavigationSubmenu = createComponent({\n    name: 'mob-navigation-submenu',\n    component: NavigationSubmenuFn,\n    exportState: ['children', 'headerButton', 'isOpen', 'callback'],\n    state: {\n        callback: () => ({\n            value: () => {},\n            type: Function,\n        }),\n        headerButton: () => ({\n            value: {},\n            type: 'Any',\n        }),\n        children: () => ({\n            value: [],\n            type: Array,\n        }),\n        isOpen: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n    child: [NavigationButton],\n});\n\nexport const Navigation = createComponent({\n    name: 'mob-navigation',\n    component: NavigationFn,\n    exportState: ['currentAccordionId'],\n    state: {\n        currentAccordionId: () => ({\n            value: -1,\n            type: Number,\n            skipEqual: false,\n        }),\n    },\n    child: [NavigationLabel, NavigationSubmenu, NavigationButton],\n});\n\nexport const NavigationContainer = createComponent({\n    name: 'mob-navigation-container',\n    component: NavigationContainerFn,\n    child: [Navigation],\n});\n", "import { AnimationTitle } from '../component/common/animationTitle/definition';\nimport { CodeButton } from '../component/common/codeButton/definition';\nimport { CodeOverlay } from '../component/common/codeOverlay/definition';\nimport { CebugButton } from '../component/common/debug/definition';\nimport { MLogo1 } from '../component/common/mLogo1/definition';\nimport { QuickNav } from '../component/common/nextPage/definition';\nimport { RouteLoader } from '../component/common/routeLoader/definition';\nimport { ScrollDownLabel } from '../component/common/scrolldownLabel/definition';\nimport { Footer } from '../component/layout/footer/definition';\nimport { Header } from '../component/layout/header/definition';\nimport { NavigationContainer } from '../component/layout/navigation/definition';\nimport { html, staticProps, useComponent } from '../mobjs';\nimport { loadTextContent } from '../utils/utils';\n\nuseComponent([\n    CodeOverlay,\n    Header,\n    NavigationContainer,\n    Footer,\n    QuickNav,\n    RouteLoader,\n    AnimationTitle,\n    MLogo1,\n    ScrollDownLabel,\n    CodeButton,\n    CebugButton,\n]);\n\nexport const wrapper = async () => {\n    const { data: svg } = await loadTextContent({\n        source: './asset/svg/logo.svg',\n    });\n\n    return html`\n        <!-- <div class=\"test-grid\"> -->\n        <!--     <div class=\"test-grid__grid\"> -->\n        <!--         <span></span><span></span><span></span><span></span><span></span -->\n        <!--         ><span></span><span></span><span></span><span></span -->\n        <!--         ><span></span><span></span><span></span> -->\n        <!--     </div> -->\n        <!--     <div class=\"test-grid__cont\"><span>test</span></div> -->\n        <!-- </div> -->\n\n        <code-overlay name=\"codeOverlay\"></code-overlay>\n        <mob-header></mob-header>\n        <mob-navigation-container></mob-navigation-container>\n        <main class=\"main\">\n            <div class=\"container\">\n                <div class=\"inner-wrap\">\n                    <div id=\"content\"></div>\n                </div>\n            </div>\n        </main>\n        <mob-footer>\n            <debug-button slot=\"debug\"></debug-button>\n        </mob-footer>\n        <quick-nav name=\"quick_nav\"></quick-nav>\n        <route-loader></route-loader>\n        <animation-title name=\"animation_title\"></animation-title>\n        <m-logo-1 name=\"m1_logo\" ${staticProps({ svg })}></m-logo-1>\n        <scroll-down-label name=\"scroll_down_label\"></scroll-down-label>\n        <code-button name=\"global-code-button\"></code-button>\n    `;\n};\n", "import { mobCore } from '../mobCore';\n\nconst setValue = () => {\n    const value = window.innerWidth - document.documentElement.clientWidth;\n\n    document.documentElement.style.setProperty(\n        '--scrollbar-with',\n        `${value}px`\n    );\n};\n\nexport const getScrollbarWith = () => {\n    setValue();\n\n    mobCore.useResize(() => {\n        setValue();\n    });\n};\n", "import { mainStore, MAIN_STORE_BEFORE_ROUTE_CHANGE } from '../mobjs';\nimport { motionCore, timeline, tween } from '../mobMotion';\n\nlet scrollY = 0;\n\nmainStore.watch(MAIN_STORE_BEFORE_ROUTE_CHANGE, () => {\n    scrollY = window.scrollY;\n});\n\n/**\n * @type {import('../mobjs/type').beforePageTransition}\n */\nexport const beforePageTransition = async ({ oldNode }) => {\n    oldNode.classList.remove('current-route');\n    oldNode.classList.add('fake-content');\n    oldNode.style.position = 'fixed';\n    oldNode.style.zIndex = 10;\n    oldNode.style.top = 'var(--header-height)';\n    oldNode.style.left = '0';\n    oldNode.style.width = '100vw';\n    oldNode.style.transform = `translate(calc(var(--header-height) / 2), -${scrollY}px)`;\n    oldNode.style.minHeight =\n        'calc(100vh - var(--header-height) - var(--footer-height))';\n};\n\n/**\n * @type {import('../mobjs/type').pageTransition}\n */\nexport const pageTransition = async ({\n    oldNode,\n    newNode,\n    oldRoute,\n    newRoute,\n}) => {\n    if (motionCore.mq('max', 'desktop') || oldRoute === newRoute) return;\n\n    newNode.style.opacity = 0;\n\n    const oldNodeTween = tween.createTween({\n        data: { opacity: 1 },\n        duration: 300,\n    });\n\n    const newNodeTween = tween.createTween({\n        data: { opacity: 0 },\n        duration: 500,\n    });\n\n    oldNodeTween.subscribe(({ opacity }) => {\n        oldNode.style.opacity = opacity;\n    });\n\n    newNodeTween.subscribe(({ opacity }) => {\n        newNode.style.opacity = opacity;\n    });\n\n    let tl = timeline\n        .createAsyncTimeline({ repeat: 1 })\n        .createGroup({ waitComplete: true })\n        .goTo(oldNodeTween, { opacity: 0 })\n        .goTo(newNodeTween, { opacity: 1 })\n        .closeGroup();\n\n    await tl.play();\n\n    tl.destroy();\n    tl = null;\n\n    newNode.style.removeProperty('opacity');\n    newNode.classList.add('current-route');\n};\n", "import { Title } from '../../component/common/typography/titles/definition';\nimport { html, staticProps, useComponent } from '../../mobjs';\n\nuseComponent([Title]);\n\nexport const pageNotFound = () => {\n    return html`\n        <div class=\"page-not-found\">\n            <mob-title ${staticProps({ tag: 'h3', color: 'highlight' })}>\n                Page not found\n            </mob-title>\n            <a href=\"./#home\">back to home</a>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { setStateByName } from '../../../mobjs';\n\n/**\n * @type {import('../../../mobjs/type').mobComponent}\n */\nexport const DocContainerFn = ({ html, onMount }) => {\n    /**\n     * @type {import('../../../mobjs/type').SetStateByName<import('../mLogo1/type').MLogo1>}\n     */\n    const setLogoState = setStateByName('m1_logo');\n\n    onMount(() => {\n        setLogoState('active', true);\n\n        return () => {\n            setLogoState('active', false);\n        };\n    });\n\n    return html`\n        <div class=\"c-doc-container\">\n            <div class=\"c-doc-container__content\">\n                <mobjs-slot name=\"docs\"></mobjs-slot>\n            </div>\n            <div class=\"c-doc-container__side\">\n                <mobjs-slot name=\"section-title-small\"></mobjs-slot>\n                <mobjs-slot name=\"section-title\"></mobjs-slot>\n                <mobjs-slot name=\"section-links\"></mobjs-slot>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { DocContainerFn } from './docContainer';\n\nexport const DocContainer = createComponent({\n    name: 'doc-container',\n    component: DocContainerFn,\n});\n", "//@ts-check\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent}\n */\nexport const DocTitleFn = ({ html }) => {\n    return html`\n        <div class=\"c-doc-title\">\n            <h2><mobjs-slot /></h2>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { DocTitleFn } from './docSide';\n\nexport const DocTitle = createComponent({\n    name: 'doc-title',\n    component: DocTitleFn,\n    state: {},\n});\n", "//@ts-check\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent}\n */\nexport const DocTitleSmallFn = ({ html }) => {\n    return html`\n        <div class=\"c-doc-title-small\">\n            <mobjs-slot />\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { DocTitleSmallFn } from './docSide';\n\nexport const DocsTitleSmall = createComponent({\n    name: 'doc-title-small',\n    component: DocTitleSmallFn,\n    state: {},\n});\n", "//@ts-check\n\n/**\n * @type {import(\"../../../../mobjs/type\").mobComponent<import(\"./type\").ScrollToButton>}\n */\nexport const ScrollToButtonFn = ({ html, getState, onMount, watchSync }) => {\n    const { label } = getState();\n\n    onMount(({ element }) => {\n        watchSync('active', (val) => {\n            element.classList.toggle('active', val);\n        });\n\n        return () => {};\n    });\n\n    return html`\n        <button type=\"button\">\n            <span ref=\"labelRef\"> ${label} </span>\n        </button>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { ScrollToButtonFn } from './scrollToButton';\n\nexport const ScrollToButton = createComponent({\n    name: 'scroll-to-button',\n    component: ScrollToButtonFn,\n    exportState: ['label', 'active'],\n    state: {\n        label: () => ({\n            value: '',\n            type: String,\n        }),\n        active: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n});\n", "//@ts-check\n\nimport { offset } from '../../../mobCore/utils';\nimport { tick } from '../../../mobjs';\nimport { motionCore } from '../../../mobMotion';\nimport { bodyScroll } from '../../../mobMotion/plugin';\nimport { anchorStore } from './scrollToStore';\n\nlet disableObservereffect = false;\n\n/**\n * @param {Object} param\n * @param {any} param.html\n * @param {import('../../../mobjs/type').DelegateEvents} param.delegateEvents\n * @param {string} param.sync\n * @param {import('../../../mobjs/type').SetState<import('./type').ScrollTo>} param.setState\n * @param {import('../../../mobjs/type').GetState<import('./type').ScrollTo>} param.getState\n * @param {import('../../../mobjs/type').BindProps<import('./type').ScrollTo,import('./button/type').ScrollToButton>} param.bindProps\n * @returns {string}\n */\nfunction addScrollButton({\n    html,\n    delegateEvents,\n    sync,\n    setState,\n    bindProps,\n    getState,\n}) {\n    return html`<li>\n        <scroll-to-button\n            ${delegateEvents({\n                click: async (_e, index) => {\n                    const { anchorItems } = getState();\n                    const { id: scroll, label, element } = anchorItems[index];\n\n                    const offsetTop =\n                        scroll === 'start' ? 0 : offset(element).top - 50;\n\n                    /**\n                     * Disable spacerAnchor observer effect during scroll.\n                     */\n                    disableObservereffect = true;\n                    setState('activeLabel', label);\n                    await bodyScroll.to(offsetTop);\n\n                    /**\n                     * back to enable spacerAnchor observer.\n                     */\n                    disableObservereffect = false;\n                },\n            })}\n            ${bindProps({\n                bind: ['activeLabel'],\n                props: ({ activeLabel, anchorItems }, index) => {\n                    return {\n                        active: activeLabel === anchorItems[index]?.label,\n                        label: anchorItems[index]?.label,\n                    };\n                },\n            })}\n            ${sync}\n        >\n        </scroll-to-button>\n    </li> `;\n}\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent<import('./type').ScrollTo>}\n */\nexport const ScrollToFn = ({\n    html,\n    onMount,\n    delegateEvents,\n    bindProps,\n    setState,\n    getState,\n    repeat,\n}) => {\n    onMount(() => {\n        if (motionCore.mq('max', 'large')) return;\n\n        const unWatchStoreComputed = anchorStore.watch(\n            'computedItems',\n            async (val) => {\n                setState('anchorItems', val.reverse());\n                await tick();\n\n                console.log('resolve sctollto tick');\n            }\n        );\n\n        const unWatchStoreActive = anchorStore.watch(\n            'activeLabelFromObeserver',\n            (label) => {\n                if (disableObservereffect) return;\n\n                setState('activeLabel', label);\n            }\n        );\n\n        return () => {\n            unWatchStoreComputed();\n            unWatchStoreActive();\n        };\n    });\n\n    return html`\n        <div class=\"c-scroll-to\">\n            <ul ref=\"list\">\n                ${repeat({\n                    clean: false,\n                    watch: 'anchorItems',\n                    key: 'id',\n                    render: ({ html, sync }) => {\n                        return addScrollButton({\n                            html,\n                            delegateEvents,\n                            bindProps,\n                            setState,\n                            getState,\n                            sync,\n                        });\n                    },\n                })}\n            </ul>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { ScrollToButton } from './button/definition';\nimport { ScrollToFn } from './scrollTo';\n\nexport const ScrollTo = createComponent({\n    name: 'scroll-to',\n    component: ScrollToFn,\n    exportState: ['activeId'],\n    state: {\n        activeLabel: () => ({\n            value: '',\n            type: String,\n        }),\n        anchorItems: () => ({\n            value: [],\n            type: Array,\n        }),\n    },\n    child: [ScrollToButton],\n});\n", "import { DocContainer } from '../../component/common/docsContainer/definition';\nimport { DocTitle } from '../../component/common/doctitle/definition';\nimport { DocsTitleSmall } from '../../component/common/doctitleSmall/definition';\nimport { HtmlContent } from '../../component/common/htmlContent/definition';\nimport { ScrollTo } from '../../component/common/scrollTo/definition';\nimport { html, staticProps, useComponent } from '../../mobjs';\nimport { loadJsonContent } from '../../utils/utils';\n\nuseComponent([DocContainer, DocsTitleSmall, ScrollTo, DocTitle, HtmlContent]);\n\nconst getBreadCrumbs = ({ breadCrumbs, section }) => {\n    if (breadCrumbs.length > 0) {\n        return html` <a href=\"${breadCrumbs}\">${section}</a> / `;\n    }\n\n    return ``;\n};\n\nexport const layoutSidebarAnchor = async ({ props }) => {\n    const { source, title, section, breadCrumbs } = props;\n    const { data } = await loadJsonContent({ source });\n\n    return html` <doc-container>\n        <html-content\n            slot=\"docs\"\n            ${staticProps({\n                data: data.data,\n                useMaxWidth: true,\n            })}\n        ></html-content>\n        <doc-title-small slot=\"section-title-small\"\n            >${getBreadCrumbs({\n                breadCrumbs,\n                section,\n            })}${title}</doc-title-small\n        >\n        <scroll-to slot=\"section-links\"></scroll-to>\n        <doc-title slot=\"section-title\">${title}</doc-title>\n    </doc-container>`;\n};\n", "//@ts-check\n\nexport const items = [\n    {\n        label: 'html',\n        url: 'mobJs-html',\n    },\n    {\n        label: 'onMount',\n        url: 'mobJs-onMount',\n    },\n    {\n        label: 'getState',\n        url: 'mobJs-getState',\n    },\n    {\n        label: 'setState',\n        url: 'mobJs-setState',\n    },\n    {\n        label: 'watch',\n        url: 'mobJs-watch',\n    },\n    {\n        label: 'watchSync',\n        url: 'mobJs-watchSync',\n    },\n    {\n        label: 'staticProps',\n        url: 'mobJs-staticProps',\n    },\n    {\n        label: 'bindProps',\n        url: 'mobJs-bindProps',\n    },\n    {\n        label: 'bindEvents',\n        url: 'mobJs-bindEvents',\n    },\n    {\n        label: 'delegateEvents',\n        url: 'mobJs-delegateEvents',\n    },\n    {\n        label: 'reactive list: (repeat)',\n        url: 'mobJs-repeat',\n    },\n    {\n        label: 'unBind',\n        url: 'mobJs-unBind',\n    },\n    {\n        label: 'emit',\n        url: 'mobJs-emit',\n    },\n    {\n        label: 'emitAsync',\n        url: 'mobJs-emitAsync',\n    },\n    {\n        label: 'computed',\n        url: 'mobJs-computed',\n    },\n    {\n        label: 'renderComponent',\n        url: 'mobJs-renderComponent',\n    },\n    {\n        label: 'removeDOM',\n        url: 'mobJs-removeDom',\n    },\n    {\n        label: 'remove',\n        url: 'mobJs-remove',\n    },\n    {\n        label: 'getChildren',\n        url: 'mobJs-getChildren',\n    },\n    {\n        label: 'freezeProp',\n        url: 'mobJs-freezeProp',\n    },\n    {\n        label: 'unFreezeProp',\n        url: 'mobJs-unFreezeProp',\n    },\n    {\n        label: 'getParentId',\n        url: 'mobJs-getParentId',\n    },\n    {\n        label: 'watchParent',\n        url: 'mobJs-watchParent',\n    },\n];\n", "//@ts-check\n\nimport { html } from '../../../mobjs';\nimport { items } from './data';\n\nconst data = {\n    mobjs: items,\n};\n\n/**\n * @param {object} param\n * @param {Array<{label: string, url: string}>} param.data\n * @param {import('../../../mobjs/type').StaticProps} param.staticProps\n */\nconst getItems = ({ data, staticProps }) => {\n    return data\n        .map((item) => {\n            const { label, url } = item;\n            return html`<li>\n                <links-mobjs-button\n                    ${staticProps({\n                        label,\n                        url,\n                    })}\n                ></links-mobjs-button>\n            </li>`;\n        })\n        .join('');\n};\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').LinksMobJs>}\n */\nexport const LinksMobJsFn = ({ html, staticProps, getState }) => {\n    const { section } = getState();\n\n    return html`<div class=\"c-params-mobjs\">\n        <ul>\n            ${getItems({ staticProps, data: data?.[section] ?? [] })}\n        </ul>\n    </div>`;\n};\n", "//@ts-check\n\nimport { mainStore } from '../../../mobjs';\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').LinksMobJsButton>}\n */\nexport const LinksMobJsButtonFn = ({ html, getState }) => {\n    const { label, url } = getState();\n    const { activeRoute } = mainStore.get();\n    const currentClass = activeRoute === url ? 'current' : '';\n\n    return html`<a href=\"./#${url}\" class=\"${currentClass}\">${label}</a>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { LinksMobJsFn } from './linksMobJs';\nimport { LinksMobJsButtonFn } from './linksMobJsButton';\n\nexport const LinksMobJsButton = createComponent({\n    name: 'links-mobjs-button',\n    component: LinksMobJsButtonFn,\n    exportState: ['label', 'url'],\n    state: {\n        label: () => ({\n            value: '',\n            type: String,\n        }),\n        url: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n});\n\nexport const LinksMobJs = createComponent({\n    name: 'links-mobjs',\n    component: LinksMobJsFn,\n    exportState: ['section'],\n    state: {\n        section: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n    child: [LinksMobJsButton],\n});\n", "import { DocContainer } from '../../component/common/docsContainer/definition';\nimport { DocTitle } from '../../component/common/doctitle/definition';\nimport { DocsTitleSmall } from '../../component/common/doctitleSmall/definition';\nimport { HtmlContent } from '../../component/common/htmlContent/definition';\nimport { LinksMobJs } from '../../component/common/linksMobJs/definition';\nimport { html, staticProps, useComponent } from '../../mobjs';\nimport { loadJsonContent } from '../../utils/utils';\n\nuseComponent([DocContainer, DocsTitleSmall, DocTitle, HtmlContent, LinksMobJs]);\n\nconst getBreadCrumbs = ({ breadCrumbs }) =>\n    breadCrumbs\n        .map((item) => html` <a href=\"${item.url}\">${item.title}</a> / `)\n        .join('');\n\nexport const layoutSidebarLinks = async ({ props }) => {\n    const { source, title, section, breadCrumbs } = props;\n    const { data } = await loadJsonContent({ source });\n\n    return html` <doc-container>\n        <html-content\n            slot=\"docs\"\n            ${staticProps({\n                data: data.data,\n                useMaxWidth: true,\n            })}\n        ></html-content>\n        <doc-title-small slot=\"section-title-small\"\n            >${getBreadCrumbs({\n                breadCrumbs,\n            })}<span>${title}</span></doc-title-small\n        >\n        <links-mobjs\n            ${staticProps({ section })}\n            slot=\"section-links\"\n        ></links-mobjs>\n        <doc-title slot=\"section-title\">${title}</doc-title>\n    </doc-container>`;\n};\n", "//@ts-check\n\nimport { mobCore } from '../../../mobCore';\nimport { html } from '../../../mobjs';\nimport { motionCore } from '../../../mobMotion';\n\nconst content = html`\n    <div class=\"only-desktop\">\n        <h3>This content is available only on desktop</h3>\n        <h4>Need page reload on a screen size up to 1024px</h4>\n    </div>\n`;\n\nconst onResize = ({ element }) => {\n    element.textContent = '';\n    if (motionCore.mq('min', 'desktop')) return;\n\n    element.textContent = '';\n    element.insertAdjacentHTML('afterbegin', content);\n};\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent}\n */\nexport const OnlyDesktopFn = ({ html, onMount }) => {\n    onMount(({ element }) => {\n        onResize({ element });\n\n        mobCore.useResize(() => {\n            onResize({ element });\n        });\n\n        return () => {};\n    });\n\n    return html` <div class=\"only-desktop-container\" ref=\"container\"></div> `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { OnlyDesktopFn } from './onlyDesktop';\n\nexport const OnlyDesktop = createComponent({\n    name: 'only-desktop',\n    component: OnlyDesktopFn,\n    state: {},\n});\n", "export const canvasBackground = '#000000';\n\nexport const getCanvasContext = ({ disableOffcanvas }) => {\n    const useOffscreen = 'OffscreenCanvas' in window && !disableOffcanvas;\n    const context = useOffscreen ? 'bitmaprenderer' : '2d';\n    return { useOffscreen, context };\n};\n\nexport const getOffsetCanvas = ({ useOffscreen, canvas }) => {\n    const offscreen = useOffscreen\n        ? new OffscreenCanvas(canvas.width, canvas.height)\n        : null;\n    const offScreenCtx = useOffscreen ? offscreen.getContext('2d') : null;\n\n    return { offscreen, offScreenCtx };\n};\n\nexport const copyCanvasBitmap = ({ useOffscreen, offscreen, ctx }) => {\n    if (useOffscreen) {\n        const bitmap = offscreen.transferToImageBitmap();\n        ctx.transferFromImageBitmap(bitmap);\n    }\n};\n\nexport const roundRectIsSupported = (ctx) => 'roundRect' in ctx;\n\nexport const roundRectCustom = (ctx, x, y, w, h, r) => {\n    if (w < 2 * r) r = w / 2;\n    if (h < 2 * r) r = h / 2;\n    ctx.beginPath();\n    ctx.moveTo(x + r, y);\n    ctx.arcTo(x + w, y, x + w, y + h, r);\n    ctx.arcTo(x + w, y + h, x, y + h, r);\n    ctx.arcTo(x, y + h, x, y, r);\n    ctx.arcTo(x, y, x + w, y, r);\n    ctx.closePath();\n};\n\nexport const createGrid = ({\n    canvas,\n    numberOfRow,\n    numberOfColumn,\n    cellWidth,\n    cellHeight,\n    gutter,\n}) => {\n    return [\n        ...new Array(numberOfRow * numberOfColumn + numberOfRow).keys(),\n    ].reduce(\n        (previous) => {\n            const { row, col, items: previousItems } = previous;\n            const newCol = col < numberOfColumn ? col + 1 : 0;\n            const newRow = newCol === 0 ? row + 1 : row;\n\n            const x = (cellWidth + gutter) * newCol;\n            const y = (cellHeight + gutter) * newRow;\n\n            return {\n                row: newRow,\n                col: newCol,\n                items: [\n                    ...previousItems,\n                    {\n                        width: cellWidth,\n                        height: cellHeight,\n                        x,\n                        y,\n                        centerX: x + cellWidth / 2,\n                        centerY: y + cellHeight / 2,\n                        offsetXCenter: getOffsetXCenter({\n                            canvasWidth: canvas.width,\n                            width: cellWidth,\n                            gutter,\n                            numberOfColumn,\n                        }),\n                        offsetYCenter: getOffsetYCenter({\n                            canvasHeight: canvas.height,\n                            height: cellHeight,\n                            gutter,\n                            numberOfRow,\n                        }),\n                        gutter,\n                        numberOfColumn,\n                    },\n                ],\n            };\n        },\n        { row: 0, col: -1, items: [] }\n    );\n};\n\nexport const getOffsetXCenter = ({\n    canvasWidth,\n    width,\n    gutter,\n    numberOfColumn,\n}) => {\n    return (\n        canvasWidth / 2 - ((width + gutter) * numberOfColumn) / 2 - width / 2\n    );\n};\n\nexport const getOffsetYCenter = ({\n    canvasHeight,\n    height,\n    gutter,\n    numberOfRow,\n}) => {\n    return (\n        canvasHeight / 2 -\n        ((height + gutter) * (numberOfRow + 1)) / 2 -\n        height / 2\n    );\n};\n", "import { timeline, tween } from '../../../../../mobMotion';\nimport { mainStore } from '../../../../../mobjs';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    createGrid,\n    getCanvasContext,\n    getOffsetCanvas,\n    getOffsetXCenter,\n    getOffsetYCenter,\n} from '../../../../../utils/canvasUtils';\nimport { navigationStore } from '../../../../layout/navigation/store/navStore';\nimport { mobCore } from '../../../../../mobCore';\n\nexport const animatedPatternN0Animation = ({\n    canvas,\n    numberOfRow,\n    numberOfColumn,\n    cellWidth,\n    cellHeight,\n    gutter,\n    fill,\n    disableOffcanvas,\n    stagger,\n    reorder,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let gridData = [];\n    let data = [];\n    let gridTween = {};\n    let gridTimeline = {};\n    let ctx = canvas.getContext(context, { alpha: false });\n    const { activeRoute } = mainStore.get();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     * Create basic grid.\n     */\n    gridData = createGrid({\n        canvas,\n        numberOfRow,\n        numberOfColumn,\n        cellWidth,\n        cellHeight,\n        gutter,\n    }).items;\n\n    /**\n     * Add props to transform.\n     * Order byy hasFill, so is like z-index: -1.\n     */\n    data = reorder\n        ? gridData\n              .map((item, i) => {\n                  return {\n                      ...item,\n                      scale: 1,\n                      rotate: 0,\n                      hasFill: fill.includes(i),\n                  };\n              })\n              .sort((value) => (value.hasFill ? -1 : 1))\n              .reverse()\n        : gridData.map((item, i) => {\n              const hasFill = fill.includes(i);\n              return {\n                  ...item,\n                  scale: 1,\n                  rotate: 0,\n                  hasFill,\n              };\n          });\n\n    /**\n     * Create tween\n     */\n    gridTween = tween.createTween({\n        ease: 'easeInOutQuad',\n        stagger,\n        data: { scale: 1, rotate: 0 },\n    });\n\n    /**\n     * Subscribe to tween\n     */\n    data.forEach((item) => {\n        gridTween.subscribeCache(item, ({ scale, rotate }) => {\n            item.rotate = rotate;\n            item.scale = scale;\n        });\n    });\n\n    /**\n     * Main draw function.\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen ? offScreenCtx : ctx;\n\n        /**\n         * Clear rpevious render.\n         */\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        data.forEach(\n            ({\n                x,\n                y,\n                centerX,\n                centerY,\n                width,\n                height,\n                rotate,\n                scale,\n                hasFill,\n                offsetXCenter,\n                offsetYCenter,\n            }) => {\n                const rotation = (Math.PI / 180) * rotate;\n                const xx = Math.cos(rotation) * scale;\n                const xy = Math.sin(rotation) * scale;\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(\n                    xx,\n                    xy,\n                    -xy,\n                    xx,\n                    Math.round(centerX + offsetXCenter),\n                    Math.round(centerY + offsetYCenter)\n                );\n\n                /**\n                 * Draw.\n                 */\n                context.beginPath();\n                context.rect(\n                    Math.round(-centerX + x),\n                    Math.round(-centerY + y),\n                    width,\n                    height\n                );\n\n                if (hasFill) {\n                    context.fillStyle = '#fff';\n                    context.fill();\n                } else {\n                    context.fillStyle = '#000';\n                    context.fill();\n                    context.strokeStyle = '#333';\n                    context.stroke();\n                }\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Create timeline.\n     */\n    gridTimeline = timeline\n        .createAsyncTimeline({ repeat: -1, yoyo: true })\n        .label({ name: 'label1' })\n        .goTo(gridTween, { scale: 1.5, rotate: 90 }, { duration: 1000 })\n        .goTo(gridTween, { scale: 0.5 }, { duration: 500 })\n        .goTo(gridTween, { rotate: 180, scale: 1.2 }, { duration: 500 })\n        .goTo(gridTween, { scale: 1.3 }, { duration: 500 })\n        .goTo(gridTween, { scale: 1 }, { duration: 1200 });\n\n    gridTimeline.onLoopEnd(({ direction, loop }) => {\n        console.log(`loop end: ${direction}, ${loop}`);\n    });\n\n    /**\n     * Start timeline.\n     */\n    gridTimeline.play();\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n\n        if (!isActive) return;\n        mobCore.useNextFrame(() => loop());\n    };\n\n    /**\n     * Start loop.\n     */\n    mobCore.useFrame(({ time }) => {\n        loop({ time });\n    });\n\n    const unsubscribeResize = mobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n\n        /**\n         * Update offset position to center grid in canvas.\n         */\n        data.forEach((item) => {\n            const { width, height, gutter, numberOfColumn } = item;\n\n            item.offsetXCenter = getOffsetXCenter({\n                canvasWidth: canvas.width,\n                width,\n                gutter,\n                numberOfColumn,\n            });\n\n            item.offsetYCenter = getOffsetYCenter({\n                canvasHeight: canvas.height,\n                height,\n                gutter,\n                numberOfRow,\n            });\n        });\n\n        /**\n         * Render.\n         */\n        mobCore.useFrame(() => draw());\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('openNavigation', () => {\n        gridTimeline?.stop();\n        isActive = false;\n    });\n\n    const unWatchResume = navigationStore.watch('closeNavigation', () =>\n        setTimeout(async () => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const { activeRoute: currentRoute } = mainStore.get();\n            if (currentRoute !== activeRoute) return;\n\n            /**\n             * Restart loop\n             */\n            gridTimeline?.play();\n            mobCore.useFrame(() => loop());\n        }, 500)\n    );\n\n    /**\n     * Destroy.\n     */\n    return () => {\n        gridTween.destroy();\n        gridTimeline.destroy();\n        unsubscribeResize();\n        unWatchResume();\n        unWatchPause();\n        gridTween = null;\n        gridTimeline = null;\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        gridData = [];\n        data = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\nimport { getLegendData } from '../../../../data';\nimport { mobCore } from '../../../../mobCore';\nimport { setStateByName } from '../../../../mobjs';\nimport { motionCore } from '../../../../mobMotion';\nimport { animatedPatternN0Animation } from './animation/animation';\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type').AnimatedPatternN0>}\n */\nexport const AnimatedPatternN0Fn = ({ onMount, html, getState }) => {\n    const { prevRoute, nextRoute, title } = getState();\n    document.body.style.background = '#000000';\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/nextPage/type').QuickNav>}\n     */\n    const setQuickNavState = setStateByName('quick_nav');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/animationTitle/type').AnimationTitle>}\n     */\n    const setMainTitleState = setStateByName('animation_title');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/codeButton/type').CodeButton>}\n     */\n    const setCodeButtonState = setStateByName('global-code-button');\n\n    onMount(({ ref }) => {\n        if (motionCore.mq('max', 'desktop')) {\n            document.body.style.background = '';\n            return;\n        }\n\n        const { wrap, canvas } = ref;\n\n        /**\n         * Quicknav\n         */\n        setQuickNavState('active', true);\n        setQuickNavState('prevRoute', prevRoute);\n        setQuickNavState('nextRoute', nextRoute);\n        setQuickNavState('color', 'white');\n\n        /**\n         * Title.\n         */\n        setMainTitleState('align', 'left');\n        setMainTitleState('color', 'white');\n        setMainTitleState('title', title);\n\n        /**\n         * Code button\n         */\n        const { animatedPatternN0 } = getLegendData();\n        const { source } = animatedPatternN0;\n        setCodeButtonState('drawers', [\n            {\n                label: 'description',\n                source: source.description,\n            },\n            {\n                label: 'definition',\n                source: source.definition,\n            },\n            {\n                label: 'component',\n                source: source.component,\n            },\n            {\n                label: 'animation',\n                source: source.animation,\n            },\n        ]);\n        setCodeButtonState('color', 'white');\n\n        const destroyAnimation = animatedPatternN0Animation({\n            canvas,\n            ...getState(),\n        });\n\n        mobCore.useFrame(() => {\n            wrap.classList.add('active');\n        });\n\n        return () => {\n            destroyAnimation();\n            setQuickNavState('active', false);\n            setQuickNavState('prevRoute', '');\n            setQuickNavState('nextRoute', '');\n            setMainTitleState('align', '');\n            setMainTitleState('title', '');\n            setCodeButtonState('drawers', []);\n            document.body.style.background = '';\n        };\n    });\n\n    return html`\n        <div>\n            <only-desktop></only-desktop>\n            <div class=\"c-canvas\">\n                <div class=\"c-canvas__wrap\" ref=\"wrap\">\n                    <canvas ref=\"canvas\"></canvas>\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { detectFirefox, detectSafari } from '../../../../utils/utils';\nimport { OnlyDesktop } from '../../../common/onlyDesktop/definition';\nimport { AnimatedPatternN0Fn } from './animatedPatternN0';\n\nexport const AnimatedPatternN0 = createComponent({\n    name: 'animatedpattern-n0',\n    component: AnimatedPatternN0Fn,\n    exportState: [\n        'title',\n        'nextRoute',\n        'prevRoute',\n        'numberOfRow',\n        'numberOfColumn',\n        'cellWidth',\n        'cellHeight',\n        'gutter',\n        'fill',\n        'stagger',\n        'reorder',\n        'disableOffcanvas',\n    ],\n    state: {\n        title: () => ({\n            value: '',\n            type: String,\n        }),\n        nextRoute: () => ({\n            value: '',\n            type: String,\n        }),\n        prevRoute: () => ({\n            value: '',\n            type: String,\n        }),\n        numberOfRow: () => ({\n            value: 10,\n            type: Number,\n        }),\n        numberOfColumn: () => ({\n            value: 10,\n            type: Number,\n        }),\n        cellWidth: () => ({\n            value: 65,\n            type: Number,\n        }),\n        cellHeight: () => ({\n            value: 65,\n            type: Number,\n        }),\n        gutter: () => ({\n            value: 1,\n            type: Number,\n        }),\n        fill: () => ({\n            value: [16, 27, 38, 49, 60, 71, 82, 93],\n            type: Array,\n        }),\n        stagger: () => ({\n            value: {\n                each: 5,\n                grid: { col: 11, row: 11, direction: 'row' },\n                waitComplete: false,\n            },\n            type: 'any',\n        }),\n        reorder: () => ({\n            value: true,\n            type: Boolean,\n        }),\n        disableOffcanvas: () => ({\n            value: detectFirefox() || detectSafari() ? true : false,\n            type: Boolean,\n        }),\n    },\n    child: [OnlyDesktop],\n});\n", "export const animatedPatternN0Params = [\n    {\n        title: 'Animated pattern N.0 v0',\n        animation: {},\n        nav: {\n            prevRoute: '#caterpillarN2',\n            nextRoute: '#animatedPatternN0?version=1&activeId=1',\n        },\n    },\n    {\n        title: 'Animated pattern N.0 v1',\n        animation: {\n            fill: [\n                0, 13, 20, 45, 65, 71, 72, 73, 74, 75, 76, 77, 83, 92, 96, 113,\n                117, 134, 138, 155, 156, 157, 158, 159, 189, 209,\n            ],\n            gutter: 1,\n            numberOfColumn: 20,\n            numberOfRow: 10,\n            cellWidth: 50,\n            cellHeight: 50,\n            stagger: {\n                each: 2,\n                from: 'random',\n                waitComplete: false,\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#animatedPatternN0?version=0&activeId=0',\n            nextRoute: '#animatedPatternN0?version=2&activeId=2',\n        },\n    },\n    {\n        title: 'Animated pattern N.0 v2',\n        animation: {\n            fill: [\n                0, 13, 20, 45, 65, 71, 72, 73, 74, 75, 76, 77, 83, 92, 96, 113,\n                117, 134, 138, 155, 156, 157, 158, 159, 189, 209,\n            ],\n            gutter: 1,\n            numberOfColumn: 10,\n            numberOfRow: 10,\n            cellWidth: 50,\n            cellHeight: 50,\n            stagger: {\n                each: 10,\n                from: 'edges',\n                waitComplete: false,\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#animatedPatternN0?version=1&activeId=1',\n            nextRoute: '#animatedPatternN0?version=3&activeId=3',\n        },\n    },\n    {\n        title: 'Animated pattern N.0 v3',\n        animation: {\n            fill: [],\n            gutter: 1,\n            numberOfColumn: 12,\n            numberOfRow: 13,\n            cellWidth: 50,\n            cellHeight: 50,\n            stagger: {\n                each: 20,\n                from: { x: 6, y: 6 },\n                grid: {\n                    col: 13,\n                    row: 13,\n                    direction: 'radial',\n                },\n                waitComplete: false,\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#animatedPatternN0?version=2&activeId=2',\n            nextRoute: '#animatedPatternN1',\n        },\n    },\n];\n", "import { AnimatedPatternN0 } from '../../../component/pages/animatedPattern/animatedPatternN0/definition';\nimport { html, staticProps, useComponent } from '../../../mobjs';\nimport { animatedPatternN0Params } from './animatedPatternN0Params';\n\nuseComponent([AnimatedPatternN0]);\n\nexport const animatedPatternN0 = ({ params }) => {\n    const { version } = params;\n\n    const props =\n        animatedPatternN0Params[\n            Math.max(\n                0,\n                Math.min(Number(version), animatedPatternN0Params.length - 1)\n            )\n        ];\n\n    return html`<div class=\"l-padding\">\n        <animatedpattern-n0\n            ${staticProps({\n                ...props.animation,\n                prevRoute: props.nav.prevRoute,\n                nextRoute: props.nav.nextRoute,\n                title: props.title,\n            })}\n        ></animatedpattern-n0>\n    </div>`;\n};\n", "import { timeline, tween } from '../../../../../mobMotion';\nimport { clamp } from '../../../../../mobMotion/animation/utils/animationUtils';\nimport { mainStore } from '../../../../../mobjs';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    createGrid,\n    getCanvasContext,\n    getOffsetCanvas,\n    getOffsetXCenter,\n    getOffsetYCenter,\n} from '../../../../../utils/canvasUtils';\nimport { navigationStore } from '../../../../layout/navigation/store/navStore';\nimport { offset } from '../../../../../mobCore/utils';\nimport { mobCore } from '../../../../../mobCore';\n\nexport const animatedPatternN1Animation = ({\n    canvas,\n    numberOfRow,\n    numberOfColumn,\n    cellWidth,\n    cellHeight,\n    gutter,\n    fill,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let gridData = [];\n    let data = [];\n    let centerTween = {};\n    let gridTween = {};\n    let gridTimeline = {};\n    let { top, left } = offset(canvas);\n    let ctx = canvas.getContext(context, { alpha: false });\n\n    const { activeRoute } = mainStore.get();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     * Create basic grid.\n     */\n    gridData = createGrid({\n        canvas,\n        numberOfRow,\n        numberOfColumn,\n        cellWidth,\n        cellHeight,\n        gutter,\n    }).items;\n\n    /**\n     * Add props to transform.\n     */\n    data = gridData\n        .map((item, i) => {\n            return {\n                ...item,\n                scale: 0,\n                mouseX: 0,\n                mouseY: 0,\n                hasFill: fill.includes(i),\n            };\n        })\n        .sort((value) => (value.hasFill ? -1 : 1));\n\n    /**\n     * Create mouse tween.\n     */\n    centerTween = tween.createLerp({\n        data: { mouseX: 0, mouseY: 0 },\n    });\n\n    /**\n     * Subscribe rect to mouse tween.\n     */\n    data.forEach((item) => {\n        centerTween.subscribeCache(item, ({ mouseX, mouseY }) => {\n            item.mouseX = mouseX;\n            item.mouseY = mouseY;\n        });\n    });\n\n    /**\n     * Create tween\n     */\n    gridTween = tween.createTween({\n        ease: 'easeInOutSine',\n        stagger: {\n            each: 5,\n            from: 'center',\n            // grid: { col: 15, row: 7, direction: 'row' },\n            waitComplete: false,\n        },\n        data: { scale: 0 },\n    });\n\n    /**\n     * Subscribe to tween\n     */\n    data.forEach((item) => {\n        gridTween.subscribeCache(item, ({ scale }) => {\n            item.scale = scale;\n        });\n    });\n\n    /**\n     * Main draw function.\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen ? offScreenCtx : ctx;\n\n        /**\n         * Clear rpevious render.\n         */\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        data.forEach(\n            ({\n                x,\n                y,\n                centerX,\n                centerY,\n                width,\n                height,\n                mouseX,\n                mouseY,\n                scale,\n                hasFill,\n                offsetXCenter,\n                offsetYCenter,\n            }) => {\n                /**\n                 * X difference in px form mouse to square.\n                 */\n                const mouseXparsed =\n                    mouseX -\n                    (canvas.width - (width + gutter) * numberOfColumn) / 2;\n\n                /**\n                 * Y difference in px form mouse to square.\n                 */\n                const mouseYparsed =\n                    mouseY -\n                    (canvas.height - (height + gutter) * numberOfRow) / 2;\n\n                /**\n                 * Scale value\n                 */\n                const xScale = (x - mouseXparsed) / 250;\n                const yScale = (y - mouseYparsed) / 250;\n\n                /**\n                 * Scale factor y and x together.\n                 */\n                const delta = Math.sqrt(\n                    Math.pow(Math.abs(xScale), 2) +\n                        Math.pow(Math.abs(yScale), 2)\n                );\n\n                /**\n                 * Clamp scale factor between .1 and 1.\n                 */\n                const scaleFactor = clamp(Math.abs(delta), 0, 2);\n\n                /**\n                 * Basic data for setTransform.\n                 */\n                const rotation = 0;\n                const xx = Math.cos(rotation) * (scaleFactor + scale);\n                const xy = Math.sin(rotation) * (scaleFactor + scale);\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(\n                    xx,\n                    xy,\n                    -xy,\n                    xx,\n                    Math.round(centerX + offsetXCenter),\n                    Math.round(centerY + offsetYCenter)\n                );\n\n                /**\n                 * Draw.\n                 */\n                context.beginPath();\n                context.rect(\n                    Math.round(-centerX + x),\n                    Math.round(-centerY + y),\n                    width,\n                    height\n                );\n\n                if (hasFill) {\n                    context.fillStyle = '#fff';\n                    context.fill();\n                } else {\n                    context.fillStyle = '#000';\n                    context.fill();\n                }\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Create timeline.\n     */\n    gridTimeline = timeline\n        .createAsyncTimeline({ repeat: -1, yoyo: true })\n        .goTo(gridTween, { scale: 0.3 }, { duration: 1000 });\n\n    /**\n     * Start timeline.\n     */\n    gridTimeline.play();\n\n    const move = ({ x, y }) => {\n        centerTween.goTo({ mouseX: x - left, mouseY: y - top });\n    };\n\n    const unsubscribeMouseMove = mobCore.useMouseMove(({ client }) => {\n        const { x, y } = client;\n        move({ x, y });\n    });\n\n    const unsubscribeTouchMove = mobCore.useTouchMove(({ client }) => {\n        const { x, y } = client;\n        move({ x, y });\n    });\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n\n        if (!isActive) return;\n        mobCore.useNextFrame(() => loop());\n    };\n\n    /**\n     * Start loop.\n     */\n    mobCore.useFrame(({ time }) => {\n        loop({ time });\n    });\n\n    /**\n     * On resize.\n     */\n    const unsubscribeResize = mobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n        top = offset(canvas).top;\n        left = offset(canvas).left;\n\n        /**\n         * Update offset position to center grid in canvas.\n         */\n        data.forEach((item) => {\n            const { width, height, gutter, numberOfColumn } = item;\n\n            item.offsetXCenter = getOffsetXCenter({\n                canvasWidth: canvas.width,\n                width,\n                gutter,\n                numberOfColumn,\n            });\n\n            item.offsetYCenter = getOffsetYCenter({\n                canvasHeight: canvas.height,\n                height,\n                gutter,\n                numberOfRow,\n            });\n        });\n\n        /**\n         * Render.\n         */\n        mobCore.useFrame(() => draw());\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('openNavigation', () => {\n        gridTimeline?.stop();\n        isActive = false;\n    });\n\n    const unWatchResume = navigationStore.watch('closeNavigation', () =>\n        setTimeout(async () => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const { activeRoute: currentRoute } = mainStore.get();\n            if (currentRoute !== activeRoute) return;\n\n            /**\n             * Restart loop\n             */\n            gridTimeline?.play();\n            mobCore.useFrame(() => loop());\n        }, 500)\n    );\n\n    /**\n     * Destroy.\n     */\n    return () => {\n        gridTween.destroy();\n        gridTimeline.destroy();\n        centerTween.destroy();\n        unsubscribeResize();\n        unsubscribeMouseMove();\n        unsubscribeTouchMove();\n        unWatchResume();\n        unWatchPause();\n        gridTween = null;\n        gridTimeline = null;\n        centerTween = null;\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        gridData = [];\n        data = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\nimport { getLegendData } from '../../../../data';\nimport { mobCore } from '../../../../mobCore';\nimport { setStateByName } from '../../../../mobjs';\nimport { motionCore } from '../../../../mobMotion';\nimport { animatedPatternN1Animation } from './animation/animation';\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type').AnimatedPatternN1>}\n */\nexport const AnimatedPatternN1Fn = ({ onMount, html, getState }) => {\n    document.body.style.background = '#000000';\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/nextPage/type').QuickNav>}\n     */\n    const setQuickNavState = setStateByName('quick_nav');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/animationTitle/type').AnimationTitle>}\n     */\n    const setMainTitleState = setStateByName('animation_title');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/codeButton/type').CodeButton>}\n     */\n    const setCodeButtonState = setStateByName('global-code-button');\n\n    onMount(({ ref }) => {\n        if (motionCore.mq('max', 'desktop')) {\n            document.body.style.background = '';\n            return;\n        }\n\n        const { wrap, canvas } = ref;\n\n        /**\n         * Quicknav\n         */\n        setQuickNavState('active', true);\n        setQuickNavState(\n            'prevRoute',\n            '#animatedPatternN0?version=3&activeId=3'\n        );\n        setQuickNavState('nextRoute', '#scrollerN0?version=0&activeId=0');\n        setQuickNavState('color', 'white');\n\n        /**\n         * Title.\n         */\n        setMainTitleState('align', 'left');\n        setMainTitleState('color', 'white');\n        setMainTitleState('title', 'Animated pattern N1');\n\n        /**\n         * Code button\n         */\n        const { animatedPatternN1 } = getLegendData();\n        const { source } = animatedPatternN1;\n        setCodeButtonState('drawers', [\n            {\n                label: 'description',\n                source: source.description,\n            },\n            {\n                label: 'definition',\n                source: source.definition,\n            },\n            {\n                label: 'component',\n                source: source.component,\n            },\n            {\n                label: 'animation',\n                source: source.animation,\n            },\n        ]);\n        setCodeButtonState('color', 'white');\n\n        const destroyAnimation = animatedPatternN1Animation({\n            canvas,\n            ...getState(),\n        });\n\n        mobCore.useFrame(() => {\n            wrap.classList.add('active');\n        });\n\n        return () => {\n            setQuickNavState('active', false);\n            setQuickNavState('prevRoute', '');\n            setQuickNavState('nextRoute', '');\n            setMainTitleState('align', '');\n            setMainTitleState('title', '');\n            setCodeButtonState('drawers', []);\n            document.body.style.background = '';\n            destroyAnimation();\n        };\n    });\n\n    return html`\n        <div>\n            <only-desktop></only-desktop>\n            <div class=\"c-canvas\">\n                <div class=\"c-canvas__wrap c-canvas__wrap--wrapped\" ref=\"wrap\">\n                    <canvas ref=\"canvas\"></canvas>\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { detectFirefox, detectSafari } from '../../../../utils/utils';\nimport { OnlyDesktop } from '../../../common/onlyDesktop/definition';\nimport { AnimatedPatternN1Fn } from './animatedPatternN1';\n\nexport const AnimatedPatternN1 = createComponent({\n    name: 'animatedpattern-n1',\n    component: AnimatedPatternN1Fn,\n    exportState: [\n        'numberOfRow',\n        'numberOfColumn',\n        'cellWidth',\n        'cellHeight',\n        'gutter',\n        'fill',\n        'disableOffcanvas',\n    ],\n    state: {\n        numberOfRow: 7,\n        numberOfColumn: 15,\n        cellWidth: 70,\n        cellHeight: 70,\n        gutter: 10,\n        fill: [\n            2, 18, 10, 27, 21, 22, 23, 24, 25, 25, 26, 37, 42, 53, 58, 69, 74,\n            85, 86, 87, 88, 89, 90, 44, 60, 65, 66,\n        ],\n        disableOffcanvas: () => ({\n            value: detectFirefox() || detectSafari() ? true : false,\n            type: Boolean,\n        }),\n    },\n    child: [OnlyDesktop],\n});\n", "import { AnimatedPatternN1 } from '../../../component/pages/animatedPattern/animatedPatternN1/definition';\nimport { html, useComponent } from '../../../mobjs';\n\nuseComponent([AnimatedPatternN1]);\n\nexport const animatedPatternN1 = () => {\n    return html`<div class=\"l-padding\">\n        <animatedpattern-n1></animatedpattern-n1>\n    </div>`;\n};\n", "import { tween } from '../../../../../mobMotion';\nimport { mainStore } from '../../../../../mobjs';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    getCanvasContext,\n    getOffsetCanvas,\n    // roundRectIsSupported,\n} from '../../../../../utils/canvasUtils';\nimport { navigationStore } from '../../../../layout/navigation/store/navStore';\nimport { offset } from '../../../../../mobCore/utils';\nimport { mobCore } from '../../../../../mobCore';\n// import { detectSafari } from '../../../../../utils/utils';\n\nfunction getWithRounded({ width, relativeIndex, amountOfPath }) {\n    return (\n        Math.sqrt(\n            Math.pow(width * relativeIndex, 2) -\n                Math.pow(\n                    ((width * relativeIndex) / amountOfPath) * relativeIndex,\n                    2\n                )\n        ) * 2\n    );\n}\n\nfunction getHeightRounded({ height, relativeIndex, amountOfPath }) {\n    return (\n        Math.sqrt(\n            Math.pow(height * relativeIndex, 2) -\n                Math.pow(\n                    ((height * relativeIndex) / amountOfPath) * relativeIndex,\n                    2\n                )\n        ) * 2\n    );\n}\n\nexport const caterpillarN0Animation = ({\n    canvas,\n    amountOfPath,\n    width,\n    height,\n    fill,\n    stroke,\n    opacity,\n    spacerY,\n    intialRotation,\n    perpetualRatio,\n    mouseMoveRatio,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let ctx = canvas.getContext(context, { alpha: false });\n    let stemData = [];\n    let steamDataReorded = [];\n    let mainTween = {};\n    let { left } = offset(canvas);\n    const { activeRoute } = mainStore.get();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n\n    // let wichContext = useOffscreen ? offScreenCtx : ctx;\n    // const useRadius = roundRectIsSupported(wichContext) && !detectSafari();\n    // wichContext = null;\n    const useRadius = false;\n\n    /**\n     * Initial misure.\n     */\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     * Setup data.\n     */\n    stemData = [...new Array(amountOfPath).keys()].map((_item, i) => {\n        const count = i;\n        const index = count < amountOfPath / 2 ? amountOfPath - count : count;\n        const relativeIndex = index - (amountOfPath - index);\n\n        return {\n            width: Math.floor(\n                getWithRounded({ width, relativeIndex, amountOfPath })\n            ),\n            height: Math.floor(\n                getHeightRounded({ height, relativeIndex, amountOfPath })\n            ),\n            fill,\n            stroke,\n            opacity: relativeIndex * opacity,\n            rotate: 0,\n            y: 0,\n            relativeIndex,\n            index: i,\n        };\n    });\n\n    /**\n     * Subdived oginal array in half and reverse the half section.\n     */\n    steamDataReorded = stemData\n        .splice(0, stemData.length / 2)\n        // eslint-disable-next-line unicorn/prefer-spread\n        .concat(stemData.reverse());\n\n    /**\n     * Create tween.\n     */\n    mainTween = tween.createSpring({\n        data: { rotate: 0, y: 0 },\n        stagger: { each: 5, from: 'center' },\n    });\n\n    /**\n     * Subscribe rect to rotation tween.\n     */\n    [...steamDataReorded].forEach((item) => {\n        mainTween.subscribeCache(item, ({ rotate }) => {\n            item.rotate = rotate;\n        });\n    });\n\n    /**\n     * Main draw function.\n     */\n    const draw = ({ time = 0 }) => {\n        if (!ctx) return;\n\n        if (useOffscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen ? offScreenCtx : ctx;\n\n        /**\n         * Get center of canvas.\n         */\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n\n        /**\n         * Clear rpevious render.\n         */\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        steamDataReorded.forEach(\n            ({ width, height, opacity, rotate, relativeIndex, index: i }) => {\n                /**\n                 * Pertual movement based on timeframe.\n                 */\n                const offset =\n                    Math.sin(time / 1000) * perpetualRatio * relativeIndex;\n\n                /**\n                 * Invert perpetual movement by the two half of array and set multiplier.\n                 */\n                const offsetInverse =\n                    i < amountOfPath / 2\n                        ? offset + (15 * relativeIndex) / 2\n                        : -offset - (15 * relativeIndex) / 2;\n\n                /**\n                 * Space between tho half\n                 */\n                const centerDirection = i < amountOfPath / 2 ? -1 : 1;\n\n                /**\n                 * Center canvas in the screen\n                 */\n\n                const scale = 1;\n                const rotation = (Math.PI / 180) * (rotate - intialRotation);\n                const xx = Math.cos(rotation) * scale;\n                const xy = Math.sin(rotation) * scale;\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(\n                    xx,\n                    xy,\n                    -xy,\n                    xx,\n                    centerX,\n                    centerY + height / 2\n                );\n\n                if (useRadius) {\n                    context.beginPath();\n                    context.roundRect(\n                        -(width * centerDirection) / 2,\n                        -height / 2 +\n                            offsetInverse +\n                            spacerY(i < amountOfPath / 2),\n                        width,\n                        height,\n                        [200, 0]\n                    );\n                } else {\n                    context.beginPath();\n                    context.rect(\n                        -(width * centerDirection) / 2,\n                        -height / 2 +\n                            offsetInverse +\n                            spacerY(i < amountOfPath / 2),\n                        width,\n                        height\n                    );\n                }\n\n                /**\n                 * Color.\n                 */\n                context.strokeStyle = `rgba(255, 255, 255, ${opacity})`;\n                context.fillStyle = `rgba(26, 27, 38, ${opacity})`;\n                context.stroke();\n                context.fill();\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Loop\n     */\n    const loop = ({ time = 0 }) => {\n        draw({ time });\n\n        if (!isActive) return;\n\n        mobCore.useNextFrame(({ time }) => loop({ time }));\n    };\n\n    /**\n     * Start loop.\n     */\n    mobCore.useFrame(({ time }) => {\n        loop({ time });\n    });\n\n    /**\n     * Resize canvas.\n     */\n    const unsubscribeResize = mobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n        left = offset(canvas).left;\n        mobCore.useFrame(({ time }) => {\n            draw({ time });\n        });\n    });\n\n    const move = ({ x }) => {\n        const xCenter = x - canvas.width / 2 - left;\n        mainTween.goTo({\n            rotate: xCenter / mouseMoveRatio,\n        });\n    };\n\n    /**\n     * Mouse move.\n     */\n    const unsubscribeMouseMove = mobCore.useMouseMove(({ client }) => {\n        const { x } = client;\n        move({ x });\n    });\n\n    const unsubscribeTouchMove = mobCore.useTouchMove(({ client }) => {\n        const { x } = client;\n        move({ x });\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('openNavigation', () => {\n        isActive = false;\n    });\n\n    const unWatchResume = navigationStore.watch('closeNavigation', () => {\n        setTimeout(() => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const { activeRoute: currentRoute } = mainStore.get();\n            if (currentRoute !== activeRoute) return;\n\n            /**\n             * Restart loop\n             */\n            mobCore.useFrame(({ time }) => loop({ time }));\n        }, 500);\n    });\n\n    return () => {\n        mainTween.destroy();\n        unsubscribeResize();\n        unsubscribeMouseMove();\n        unsubscribeTouchMove();\n        unWatchResume();\n        unWatchPause();\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        mainTween = null;\n        steamDataReorded = [];\n        stemData = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\nimport { getLegendData } from '../../../../data';\nimport { mobCore } from '../../../../mobCore';\nimport { setStateByName } from '../../../../mobjs';\nimport { motionCore } from '../../../../mobMotion';\nimport { caterpillarN0Animation } from './animation/animation';\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type').CaterpillarN0>}\n */\nexport const CaterpillarN0Fn = ({ onMount, html, getState }) => {\n    document.body.style.background = '#000000';\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/nextPage/type').QuickNav>}\n     */\n    const setQuickNavState = setStateByName('quick_nav');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/animationTitle/type').AnimationTitle>}\n     */\n    const setMainTitleState = setStateByName('animation_title');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/codeButton/type').CodeButton>}\n     */\n    const setCodeButtonState = setStateByName('global-code-button');\n\n    onMount(({ ref }) => {\n        if (motionCore.mq('max', 'desktop')) {\n            document.body.style.background = '';\n            return;\n        }\n\n        const { wrap, canvas } = ref;\n\n        /**\n         * Quicknav\n         */\n        setQuickNavState('active', true);\n        setQuickNavState('nextRoute', '#caterpillarN1');\n        setQuickNavState('color', 'white');\n\n        /**\n         * Title.\n         */\n        setMainTitleState('align', 'left');\n        setMainTitleState('color', 'white');\n        setMainTitleState('title', 'Caterpillar N0');\n\n        /**\n         * Code button\n         */\n        const { caterpillarN0 } = getLegendData();\n        const { source } = caterpillarN0;\n        setCodeButtonState('drawers', [\n            {\n                label: 'description',\n                source: source.description,\n            },\n            {\n                label: 'definition',\n                source: source.definition,\n            },\n            {\n                label: 'component',\n                source: source.component,\n            },\n            {\n                label: 'animation',\n                source: source.animation,\n            },\n        ]);\n        setCodeButtonState('color', 'white');\n\n        /**\n         * Animation.\n         */\n        const destroyAnimation = caterpillarN0Animation({\n            canvas,\n            ...getState(),\n        });\n\n        mobCore.useFrame(() => {\n            wrap.classList.add('active');\n        });\n\n        return () => {\n            destroyAnimation();\n            setQuickNavState('active', false);\n            setQuickNavState('prevRoute', '');\n            setQuickNavState('nextRoute', '');\n            setMainTitleState('align', '');\n            setMainTitleState('title', '');\n            setCodeButtonState('drawers', []);\n            document.body.style.background = '';\n        };\n    });\n\n    return html`\n        <div>\n            <only-desktop></only-desktop>\n            <div class=\"c-canvas\">\n                <div\n                    class=\"c-canvas__wrap c-canvas__wrap--wrapped c-canvas__wrap--border\"\n                    ref=\"wrap\"\n                >\n                    <canvas ref=\"canvas\"></canvas>\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { detectFirefox, detectSafari } from '../../../../utils/utils';\nimport { OnlyDesktop } from '../../../common/onlyDesktop/definition';\nimport { CaterpillarN0Fn } from './caterpillarN0';\n\nexport const CaterpillarN0 = createComponent({\n    name: 'caterpillar-n0',\n    component: CaterpillarN0Fn,\n    exportState: [\n        'nextRoute',\n        'prevRoute',\n        'amountOfPath',\n        'width',\n        'height',\n        'radius',\n        'fill',\n        'stroke',\n        'opacity',\n        'spacerY',\n        'intialRotation',\n        'perpetualRatio',\n        'mouseMoveRatio',\n        'disableOffcanvas',\n    ],\n    state: {\n        nextRoute: () => ({\n            value: '',\n            type: String,\n        }),\n        prevRoute: () => ({\n            value: '',\n            type: String,\n        }),\n        amountOfPath: 17,\n        width: 30,\n        height: 30,\n        radius: 0,\n        fill: '',\n        stroke: '#fff',\n        opacity: 0.05,\n        spacerY: (condition) => (condition ? 300 : -400),\n        intialRotation: 33,\n        perpetualRatio: 6,\n        mouseMoveRatio: 10,\n        disableOffcanvas: () => ({\n            value: detectFirefox() || detectSafari() ? true : false,\n            type: Boolean,\n        }),\n    },\n    child: [OnlyDesktop],\n});\n", "import { CaterpillarN0 } from '../../../component/pages/canvas/caterpillarN0/definition';\nimport { html, useComponent } from '../../../mobjs';\n\nuseComponent([CaterpillarN0]);\n\nexport const caterpillarN0 = () => {\n    return html`<div class=\"l-padding\">\n        <caterpillar-n0></caterpillar-n0>\n    </div>`;\n};\n", "import { timeline, tween } from '../../../../../mobMotion';\nimport { clamp } from '../../../../../mobMotion/animation/utils/animationUtils';\nimport { mainStore } from '../../../../../mobjs';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    getCanvasContext,\n    getOffsetCanvas,\n    // roundRectIsSupported,\n} from '../../../../../utils/canvasUtils';\nimport { navigationStore } from '../../../../layout/navigation/store/navStore';\nimport { offset } from '../../../../../mobCore/utils';\nimport { mobCore } from '../../../../../mobCore';\n// import { detectSafari } from '../../../../../utils/utils';\n\nexport const caterpillarN1Animation = ({\n    canvas,\n    numItems,\n    width,\n    height,\n    fill,\n    opacity,\n    radius,\n    rotationDuration,\n    rotationEach,\n    centerEach,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let ctx = canvas.getContext(context, { alpha: false });\n    let squareData = [];\n    let rotationTween = {};\n    let centerTween = {};\n    let rectTimeline = {};\n    let { top, left } = offset(canvas);\n    const { activeRoute } = mainStore.get();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n    // let wichContext = useOffscreen ? offScreenCtx : ctx;\n    // const useRadius = roundRectIsSupported(wichContext) && !detectSafari();\n    // wichContext = null;\n\n    const useRadius = false;\n\n    /**\n     * Initial misure.\n     */\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     *\n     */\n    squareData = [...new Array(numItems).keys()].map((_item, i) => {\n        const relativeIndex =\n            i >= numItems / 2 ? numItems / 2 + (numItems / 2 - i) : i;\n\n        const opacityVal = fill.includes(i) ? 1 : relativeIndex * opacity;\n\n        return {\n            width: relativeIndex * width,\n            height: relativeIndex * height,\n            x: 0,\n            y: 0,\n            hasFill: fill.includes(i),\n            opacity: opacityVal,\n            radius,\n            rotate: 0,\n            relativeIndex,\n        };\n    });\n\n    /**\n     * Create rotation tween.\n     */\n    rotationTween = tween.createTween({\n        data: { rotate: 0 },\n        stagger: { each: rotationEach, from: 'center' },\n        ease: 'easeLinear',\n        relative: true,\n    });\n\n    /**\n     * Subscribe rect to rotation tween.\n     */\n    [...squareData].forEach((item) => {\n        rotationTween.subscribeCache(item, ({ rotate }) => {\n            item.rotate = rotate;\n        });\n    });\n\n    /**\n     * Create rotation tween.\n     */\n    centerTween = tween.createSpring({\n        data: { x: 0, y: 0 },\n        stagger: { each: centerEach, from: 'end' },\n    });\n\n    /**\n     * Subscribe rect to rotation tween.\n     */\n    [...squareData].forEach((item) => {\n        centerTween.subscribeCache(item, ({ x, y }) => {\n            item.x = x;\n            item.y = y;\n        });\n    });\n\n    /**\n     * Draw\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen ? offScreenCtx : ctx;\n\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n        squareData.forEach(\n            ({ width, height, x, y, opacity, rotate, hasFill }, i) => {\n                const unitInverse = squareData.length - i;\n                const centerX = canvas.width / 2;\n                const centerY = canvas.height / 2;\n\n                /**\n                 * Center canvas\n                 */\n\n                const scale = 1;\n                const rotation = (Math.PI / 180) * rotate;\n                const xx = Math.cos(rotation) * scale;\n                const xy = Math.sin(rotation) * scale;\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(\n                    xx,\n                    xy,\n                    -xy,\n                    xx,\n                    centerX + x + (unitInverse * x) / 20,\n                    centerY + y + (unitInverse * y) / 20\n                );\n\n                if (useRadius) {\n                    context.beginPath();\n                    context.roundRect(\n                        Number.parseInt(-width / 2),\n                        Number.parseInt(-height / 2),\n                        width,\n                        height,\n                        [200, 0]\n                    );\n                } else {\n                    context.beginPath();\n                    context.rect(\n                        Number.parseInt(-width / 2),\n                        Number.parseInt(-height / 2),\n                        width,\n                        height\n                    );\n                }\n\n                if (hasFill) {\n                    context.fillStyle = `rgba(255, 255, 255, 1)`;\n                } else {\n                    context.fillStyle = `rgba(26, 27, 38, ${opacity})`;\n                    context.strokeStyle = `rgba(255, 255, 255, ${opacity})`;\n                    context.stroke();\n                }\n                context.fill();\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Create timeline\n     */\n    rectTimeline = timeline.createAsyncTimeline({\n        repeat: -1,\n        yoyo: false,\n    });\n\n    /**\n     * Anim timeline.\n     */\n    rectTimeline.goTo(\n        rotationTween,\n        { rotate: 360 },\n        { duration: rotationDuration }\n    );\n\n    /**\n     * Play\n     */\n    rectTimeline.play();\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n\n        if (!isActive) return;\n        mobCore.useNextFrame(() => loop());\n    };\n\n    mobCore.useFrame(() => loop());\n\n    /**\n     * Resize canvas.\n     */\n    const unsubscribeResize = mobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n        top = offset(canvas).top;\n        left = offset(canvas).left;\n        draw();\n    });\n\n    const move = ({ x, y }) => {\n        const winWidth = window.innerWidth;\n        const winHeight = window.innerHeight;\n        const xCenter = x - canvas.width / 2 - left;\n        const yCenter = y - canvas.height / 2 - top;\n        centerTween.goTo({\n            x: clamp(\n                xCenter,\n                -winWidth / 2 + 400 + left,\n                winWidth / 2 - 400 - left\n            ),\n            y: clamp(\n                yCenter,\n                -winHeight / 2 + 200 + top,\n                winHeight / 2 - 200 - top\n            ),\n        });\n    };\n\n    const unsubscribeMouseMove = mobCore.useMouseMove(({ client }) => {\n        const { x, y } = client;\n        move({ x, y });\n    });\n\n    const unsubscribeTouchMove = mobCore.useTouchMove(({ client }) => {\n        const { x, y } = client;\n        move({ x, y });\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('openNavigation', () => {\n        isActive = false;\n        rectTimeline?.pause();\n    });\n\n    const unWatchResume = navigationStore.watch('closeNavigation', () =>\n        setTimeout(() => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const { activeRoute: currentRoute } = mainStore.get();\n            if (currentRoute !== activeRoute) return;\n\n            /**\n             * Restart loop\n             */\n            rectTimeline?.resume();\n            mobCore.useFrame(() => loop());\n        }, 500)\n    );\n\n    return () => {\n        rotationTween.destroy();\n        centerTween.destroy();\n        rectTimeline.destroy();\n        unsubscribeResize();\n        unsubscribeMouseMove();\n        unsubscribeTouchMove();\n        unWatchPause();\n        unWatchResume();\n        rotationTween = null;\n        centerTween = null;\n        rectTimeline = null;\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        squareData = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\nimport { getLegendData } from '../../../../data';\nimport { mobCore } from '../../../../mobCore';\nimport { setStateByName } from '../../../../mobjs';\nimport { motionCore } from '../../../../mobMotion';\nimport { caterpillarN1Animation } from './animation/animation';\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type').CaterpillarN1>}\n */\nexport const CaterpillarN1Fn = ({ onMount, html, getState }) => {\n    document.body.style.background = '#000000';\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/nextPage/type').QuickNav>}\n     */\n    const setQuickNavState = setStateByName('quick_nav');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/animationTitle/type').AnimationTitle>}\n     */\n    const setMainTitleState = setStateByName('animation_title');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/codeButton/type').CodeButton>}\n     */\n    const setCodeButtonState = setStateByName('global-code-button');\n\n    onMount(({ ref }) => {\n        if (motionCore.mq('max', 'desktop')) {\n            document.body.style.background = '';\n            return;\n        }\n\n        const { wrap, canvas } = ref;\n\n        /**\n         * Quicknav\n         */\n        setQuickNavState('active', true);\n        setQuickNavState('prevRoute', '#caterpillarN0');\n        setQuickNavState('nextRoute', '#caterpillarN2');\n        setQuickNavState('color', 'white');\n\n        /**\n         * Title.\n         */\n        setMainTitleState('align', 'left');\n        setMainTitleState('color', 'white');\n        setMainTitleState('title', 'Caterpillar N1');\n\n        /**\n         * Code button\n         */\n        const { caterpillarN1 } = getLegendData();\n        const { source } = caterpillarN1;\n        setCodeButtonState('drawers', [\n            {\n                label: 'description',\n                source: source.description,\n            },\n            {\n                label: 'definition',\n                source: source.definition,\n            },\n            {\n                label: 'component',\n                source: source.component,\n            },\n            {\n                label: 'animation',\n                source: source.animation,\n            },\n        ]);\n        setCodeButtonState('color', 'white');\n\n        const destroyAnimation = caterpillarN1Animation({\n            canvas,\n            ...getState(),\n        });\n\n        mobCore.useFrame(() => {\n            wrap.classList.add('active');\n        });\n\n        return () => {\n            destroyAnimation();\n            setQuickNavState('active', false);\n            setQuickNavState('prevRoute', '');\n            setQuickNavState('nextRoute', '');\n            setMainTitleState('align', '');\n            setMainTitleState('title', '');\n            setCodeButtonState('drawers', []);\n            document.body.style.background = '';\n        };\n    });\n\n    return html`\n        <div>\n            <only-desktop></only-desktop>\n            <div class=\"c-canvas\">\n                <div\n                    class=\"c-canvas__wrap c-canvas__wrap--wrapped c-canvas__wrap--border\"\n                    ref=\"wrap\"\n                >\n                    <canvas ref=\"canvas\"></canvas>\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { detectFirefox, detectSafari } from '../../../../utils/utils';\nimport { OnlyDesktop } from '../../../common/onlyDesktop/definition';\nimport { CaterpillarN1Fn } from './caterpillarN1';\n\nexport const CaterpillarN1 = createComponent({\n    name: 'caterpillar-n1',\n    component: CaterpillarN1Fn,\n    exportState: [\n        'numItems',\n        'width',\n        'height',\n        'fill',\n        'opacity',\n        'radius',\n        'rotationEach',\n        'centerEach',\n        'rotationDuration',\n        'disableOffcanvas',\n    ],\n    state: {\n        numItems: 20,\n        width: 40,\n        height: 40,\n        fill: [14],\n        opacity: 0.05,\n        radius: 0,\n        rotationEach: 15,\n        centerEach: 3,\n        rotationDuration: 5000,\n        disableOffcanvas: () => ({\n            value: detectFirefox() || detectSafari() ? true : false,\n            type: Boolean,\n        }),\n    },\n    child: [OnlyDesktop],\n});\n", "import { CaterpillarN1 } from '../../../component/pages/canvas/caterpillarN1/definition';\nimport { html, useComponent } from '../../../mobjs';\n\nuseComponent([CaterpillarN1]);\n\nexport const caterpillarN1 = () => {\n    return html`<div class=\"l-padding\">\n        <caterpillar-n1></caterpillar-n1>\n    </div>`;\n};\n", "import { timeline, tween } from '../../../../../mobMotion';\nimport { mainStore } from '../../../../../mobjs';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    getCanvasContext,\n    getOffsetCanvas,\n    // roundRectIsSupported,\n} from '../../../../../utils/canvasUtils';\nimport { navigationStore } from '../../../../layout/navigation/store/navStore';\nimport { mobCore } from '../../../../../mobCore';\n// import { detectSafari } from '../../../../../utils/utils';\n\nconst logAddMethods = ({ value, direction, isForced }) => {\n    if (isForced) return;\n    console.log(`current: ${value}, direction: ${direction}`);\n};\n\nexport const caterpillarN2Animation = ({\n    canvas,\n    numItems,\n    width,\n    height,\n    radius,\n    fill,\n    opacity,\n    xAmplitude,\n    yAmplitude,\n    duration,\n    friction,\n    rotationDefault,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let ctx = canvas.getContext(context, { alpha: false });\n    let squareData = [];\n    let userRotation = rotationDefault;\n    const { activeRoute } = mainStore.get();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n    // let wichContext = useOffscreen ? offScreenCtx : ctx;\n    // const useRadius = roundRectIsSupported(wichContext) && !detectSafari();\n    // wichContext = null;\n\n    const useRadius = false;\n\n    /**\n     *\n     */\n    squareData = [...new Array(numItems).keys()].map((_item, i) => {\n        const relativeIndex =\n            i >= numItems / 2 ? numItems / 2 + (numItems / 2 - i) : i;\n\n        const itemWidth = width + (width / 3) * relativeIndex;\n        const itemHeight = height + (height / 3) * relativeIndex;\n        const opacityVal = fill.includes(i) ? 1 : (numItems - i) * opacity;\n\n        return {\n            width: itemWidth,\n            height: itemHeight,\n            x: 0,\n            y: 0,\n            hasFill: fill.includes(i),\n            opacity: opacityVal,\n            radius,\n            rotate: 0,\n        };\n    });\n\n    /**\n     * Initial misure.\n     */\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     * Create sequencer.\n     */\n    const infiniteTween = tween\n        .createSequencer({\n            stagger: { each: 6 },\n            data: { x: duration / 4, rotate: 0 },\n            duration,\n        })\n        .goTo(\n            { x: duration + duration / 4 },\n            { start: 0, end: duration, ease: 'easeLinear' }\n        )\n        .goTo(\n            { rotate: () => -userRotation },\n            { start: 0, end: 5, ease: 'easeInOutBack' }\n        )\n        .goTo({ rotate: 0 }, { start: 5, end: duration, ease: 'easeInOutBack' })\n        .label('mylabel', 2)\n        .add(({ isForced, direction }) => {\n            logAddMethods({ isForced, direction, value: 1 });\n        }, 1)\n        .add(({ isForced, direction }) => {\n            logAddMethods({ isForced, direction, value: 5 });\n        }, 5)\n        .add(({ isForced, direction }) => {\n            logAddMethods({ isForced, direction, value: 9 });\n        }, 9);\n\n    /**\n     * Subscribe sequencer to timeline.\n     */\n    squareData.forEach((item) => {\n        infiniteTween.subscribeCache(item, ({ x, rotate }) => {\n            const val = x / friction;\n            const factor = 2 / (3 - Math.cos(2 * val));\n            const xr = factor * Math.cos(val) * xAmplitude;\n            const yr = ((factor * Math.sin(2 * val)) / 2) * yAmplitude;\n            item.x = xr;\n            item.y = yr;\n            item.rotate = rotate;\n        });\n    });\n\n    /**\n     * Create timeline.\n     */\n    const syncTimeline = timeline\n        .createSyncTimeline({\n            repeat: -1,\n            yoyo: false,\n            duration: 4000,\n        })\n        .add(infiniteTween);\n\n    syncTimeline.onLoopEnd(({ loop, direction }) => {\n        console.log(`loop end: ${loop} , ${direction}`);\n    });\n\n    /**\n     * Draw\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen ? offScreenCtx : ctx;\n\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        squareData.forEach(\n            ({ width, height, x, y, radius, rotate, hasFill, opacity }) => {\n                const centerX = canvas.width / 2;\n                const centerY = canvas.height / 2;\n\n                /**\n                 * Center canvas\n                 */\n\n                const scale = 1;\n                const rotation = (Math.PI / 180) * rotate;\n                const xx = Math.cos(rotation) * scale;\n                const xy = Math.sin(rotation) * scale;\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(xx, xy, -xy, xx, centerX + x, centerY + y);\n\n                /**\n                 * Shape\n                 */\n                if (useRadius) {\n                    context.beginPath();\n                    context.roundRect(\n                        Number.parseInt(-width / 2),\n                        Number.parseInt(-height / 2),\n                        width,\n                        height,\n                        [150, 0]\n                    );\n                } else {\n                    context.beginPath();\n                    context.rect(\n                        Number.parseInt(-width / 2),\n                        Number.parseInt(-height / 2),\n                        width,\n                        height,\n                        radius\n                    );\n                }\n\n                if (hasFill) {\n                    context.fillStyle = `rgba(255, 255, 255, 1)`;\n                } else {\n                    context.fillStyle = `rgba(26, 27, 38, ${opacity})`;\n                    context.strokeStyle = `rgba(255, 255, 255, ${opacity})`;\n                    context.stroke();\n                }\n                context.fill();\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n\n        if (!isActive) return;\n        mobCore.useNextFrame(() => loop());\n    };\n\n    mobCore.useFrame(() => loop());\n\n    /**\n     * Play timeline.\n     */\n    syncTimeline.play();\n\n    /**\n     * Resize canvas.\n     */\n    const unsubscribeResize = mobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n        draw();\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('openNavigation', () => {\n        isActive = false;\n        syncTimeline?.pause();\n    });\n\n    const unWatchResume = navigationStore.watch('closeNavigation', () =>\n        setTimeout(() => {\n            isActive = true;\n            /**\n             * If close nav but change route skip.\n             */\n            const { activeRoute: currentRoute } = mainStore.get();\n            if (currentRoute !== activeRoute) return;\n\n            /**\n             * Restart loop\n             */\n            syncTimeline?.resume();\n            mobCore.useFrame(() => loop());\n        }, 500)\n    );\n\n    return {\n        destroy: () => {\n            isActive = false;\n            unsubscribeResize();\n            unWatchPause();\n            unWatchResume();\n            infiniteTween.destroy();\n            syncTimeline.destroy();\n            ctx = null;\n            offscreen = null;\n            offScreenCtx = null;\n            squareData = [];\n        },\n        play: () => {\n            syncTimeline.stop();\n            syncTimeline.play();\n        },\n        playReverse: () => {\n            syncTimeline.stop();\n            syncTimeline.playReverse();\n        },\n        playUseCurrent: () => syncTimeline.play({ useCurrent: true }),\n        playReverseUseCurrent: () =>\n            syncTimeline.playReverse({ useCurrent: true }),\n        playFromLabel: () => {\n            syncTimeline.stop();\n            syncTimeline.playFrom('mylabel');\n        },\n        plaFromLabelReverse: () => {\n            syncTimeline.stop();\n            syncTimeline.playFromReverse('mylabel');\n        },\n        stop: () => syncTimeline.stop(),\n        pause: () => syncTimeline.pause(),\n        resume: () => syncTimeline.resume(),\n        reverse: () => syncTimeline.reverse(),\n        setRotation: (value) => (userRotation = value),\n    };\n};\n", "//@ts-check\n\nimport { getLegendData } from '../../../../data';\nimport { mobCore } from '../../../../mobCore';\nimport { html, setStateByName } from '../../../../mobjs';\nimport { motionCore } from '../../../../mobMotion';\nimport { caterpillarN2Animation } from './animation/animation';\n\nfunction getControls({ buttons }) {\n    return Object.entries(buttons)\n        .map(([className, value]) => {\n            const { label } = value;\n\n            return html` <li class=\"c-canvas__controls__item\">\n                <button\n                    type=\"button\"\n                    class=\"c-canvas__controls__btn ${className}\"\n                >\n                    ${label}\n                </button>\n            </li>`;\n        })\n        .join('');\n}\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type').CaterpillarN2>}\n */\nexport const CaterpillarN2Fn = ({ onMount, html, getState }) => {\n    const { buttons, rotationDefault } = getState();\n    document.body.style.background = '#000000';\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/nextPage/type').QuickNav>}\n     */\n    const setQuickNavState = setStateByName('quick_nav');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/animationTitle/type').AnimationTitle>}\n     */\n    const setMainTitleState = setStateByName('animation_title');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/codeButton/type').CodeButton>}\n     */\n    const setCodeButtonState = setStateByName('global-code-button');\n\n    onMount(({ element, ref }) => {\n        if (motionCore.mq('max', 'desktop')) {\n            document.body.style.background = '';\n            return;\n        }\n\n        const { wrap, canvas, rangeValue, rotationButton } = ref;\n\n        /**\n         * Quicknav\n         */\n        setQuickNavState('active', true);\n        setQuickNavState('prevRoute', '#caterpillarN1');\n        setQuickNavState(\n            'nextRoute',\n            '#animatedPatternN0?version=0&activeId=0'\n        );\n        setQuickNavState('color', 'black');\n\n        /**\n         * Title.\n         */\n        setMainTitleState('align', 'left');\n        setMainTitleState('color', 'white');\n        setMainTitleState('title', 'Caterpillar N2');\n\n        /**\n         * Code button\n         */\n        const { caterpillarN2 } = getLegendData();\n        const { source } = caterpillarN2;\n        setCodeButtonState('drawers', [\n            {\n                label: 'description',\n                source: source.description,\n            },\n            {\n                label: 'definition',\n                source: source.definition,\n            },\n            {\n                label: 'component',\n                source: source.component,\n            },\n            {\n                label: 'animation',\n                source: source.animation,\n            },\n        ]);\n        setCodeButtonState('color', 'white');\n\n        /**\n         * Inizializa animation and get anima methods.\n         */\n        const animationMethods = caterpillarN2Animation({\n            canvas,\n            ...getState(),\n        });\n\n        /**\n         * Get destroy methods.\n         */\n        const { destroy, setRotation } = animationMethods;\n\n        /**\n         * Inizalize controls handler.\n         */\n        Object.entries(buttons).forEach(([className, value]) => {\n            const { method } = value;\n            const btn = element.querySelector(`.${className}`);\n            btn?.addEventListener('click', () => animationMethods?.[method]());\n        });\n\n        /**\n         * Rotation handler\n         */\n        rotationButton.addEventListener('change', () => {\n            // @ts-ignore\n            const value = rotationButton.value;\n            setRotation(value);\n            rangeValue.textContent = value;\n        });\n\n        mobCore.useFrame(() => {\n            wrap.classList.add('active');\n        });\n\n        return () => {\n            setQuickNavState('active', false);\n            setQuickNavState('prevRoute', '');\n            setQuickNavState('nextRoute', '');\n            setMainTitleState('align', '');\n            setMainTitleState('title', '');\n            setCodeButtonState('drawers', []);\n            document.body.style.background = '';\n            destroy();\n        };\n    });\n\n    return html`\n        <div>\n            <only-desktop></only-desktop>\n            <div class=\"c-canvas\">\n                <div class=\"c-canvas__wrap c-canvas__wrap--wrapped\" ref=\"wrap\">\n                    <ul class=\"c-canvas__controls\">\n                        ${getControls({ buttons })}\n                        <li class=\"c-canvas__controls__item\">\n                            <label class=\"c-canvas__controls__label\">\n                                change rotation:\n                                <span class=\"js-range-value\" ref=\"rangeValue\"\n                                    >${rotationDefault}</span\n                                >\n                            </label>\n                            <div class=\"c-canvas__controls__range\">\n                                <input\n                                    type=\"range\"\n                                    min=\"0\"\n                                    max=\"720\"\n                                    value=\"${rotationDefault}\"\n                                    step=\"1\"\n                                    ref=\"rotationButton\"\n                                />\n                            </div>\n                        </li>\n                    </ul>\n                    <canvas ref=\"canvas\"></canvas>\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { detectFirefox, detectSafari } from '../../../../utils/utils';\nimport { OnlyDesktop } from '../../../common/onlyDesktop/definition';\nimport { CaterpillarN2Fn } from './caterpillarN2';\n\nconst duration = 10;\n\nconst buttons = {\n    'js-CN2-play': {\n        label: 'play',\n        method: 'play',\n    },\n    'js-CN2-playReverse': {\n        label: 'play reverse',\n        method: 'playReverse',\n    },\n    'js-CN2-play-current': {\n        label: 'go forward if is backward',\n        method: 'playUseCurrent',\n    },\n    'js-CN2-playReverse-current': {\n        label: 'go backward if is forward',\n        method: 'playReverseUseCurrent',\n    },\n    'js-CN2-play-label': {\n        label: 'play from label',\n        method: 'playFromLabel',\n    },\n    'js-CN2-playReverse-label': {\n        label: 'play from label reverse',\n        method: 'plaFromLabelReverse',\n    },\n    'js-CN2-reverse': {\n        label: 'reverse',\n        method: 'reverse',\n    },\n    'js-CN2-stop': {\n        label: 'stop',\n        method: 'stop',\n    },\n    'js-CN2-pause': {\n        label: 'pause',\n        method: 'pause',\n    },\n    'js-CN2-resume': {\n        label: 'resume',\n        method: 'resume',\n    },\n};\n\nexport const CaterpillarN2 = createComponent({\n    name: 'caterpillar-n2',\n    component: CaterpillarN2Fn,\n    exportState: [\n        'numItems',\n        'width',\n        'height',\n        'radius',\n        'fill',\n        'opacity',\n        'xAmplitude',\n        'yAmplitude',\n        'duration',\n        'rotationDefault',\n        'friction',\n        'disableOffcanvas',\n    ],\n    state: {\n        numItems: 20,\n        width: 80,\n        height: 80,\n        radius: 0,\n        fill: [2],\n        opacity: 0.02,\n        xAmplitude: 500,\n        yAmplitude: 400,\n        duration: 10,\n        rotationDefault: 360,\n        friction: duration / 2 / Math.PI,\n        disableOffcanvas: () => ({\n            value: detectFirefox() || detectSafari() ? true : false,\n            type: Boolean,\n        }),\n        buttons: () => ({\n            value: buttons,\n            type: 'Any',\n        }),\n    },\n    child: [OnlyDesktop],\n});\n", "import { CaterpillarN2 } from '../../../component/pages/canvas/caterpillarN2/definition';\nimport { html, useComponent } from '../../../mobjs';\n\nuseComponent([CaterpillarN2]);\n\nexport const caterpillarN2 = () => {\n    return html`<div class=\"l-padding\">\n        <caterpillar-n2></caterpillar-n2>\n    </div>`;\n};\n", "import { DocContainer } from '../../../component/common/docsContainer/definition';\nimport { DocTitle } from '../../../component/common/doctitle/definition';\nimport { DocsTitleSmall } from '../../../component/common/doctitleSmall/definition';\nimport { HtmlContent } from '../../../component/common/htmlContent/definition';\nimport { ScrollTo } from '../../../component/common/scrollTo/definition';\nimport { html, staticProps, useComponent } from '../../../mobjs';\nimport { loadJsonContent } from '../../../utils/utils';\n\nuseComponent([DocContainer, DocsTitleSmall, ScrollTo, DocTitle, HtmlContent]);\n\nexport const canvas_overview = async () => {\n    const { data } = await loadJsonContent({\n        source: './data/canvas/overview.json',\n    });\n\n    return html` <doc-container>\n        <html-content\n            slot=\"docs\"\n            ${staticProps({\n                data: data.data,\n                useMaxWidth: true,\n            })}\n        ></html-content>\n        <doc-title-small slot=\"section-title-small\">Canvas </doc-title-small>\n        <scroll-to slot=\"section-links\"></scroll-to>\n        <doc-title slot=\"section-title\">Canvas</doc-title>\n    </doc-container>`;\n};\n", "// @ts-nocheck\nimport { scroller, tween } from '../../../../../mobMotion';\nimport { mainStore } from '../../../../../mobjs';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    createGrid,\n    getCanvasContext,\n    getOffsetCanvas,\n    getOffsetXCenter,\n    getOffsetYCenter,\n    roundRectCustom,\n    roundRectIsSupported,\n} from '../../../../../utils/canvasUtils';\nimport { navigationStore } from '../../../../layout/navigation/store/navStore';\nimport { outerHeight } from '../../../../../mobCore/utils';\nimport { mobCore } from '../../../../../mobCore';\n\nexport const scrollerN0Animation = ({\n    canvas,\n    canvasScroller,\n    numberOfRow,\n    numberOfColumn,\n    cellWidth,\n    cellHeight,\n    gutter,\n    fill,\n    stagger,\n    reorder,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let gridData = [];\n    let data = [];\n    let masterSequencer = tween.createMasterSequencer();\n    let ctx = canvas.getContext(context, { alpha: false });\n    const { activeRoute } = mainStore.get();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n    let wichContext = useOffscreen ? offScreenCtx : ctx;\n    const useRadius = roundRectIsSupported(wichContext);\n    wichContext = null;\n\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     * Create basic grid.\n     */\n    gridData = createGrid({\n        canvas,\n        numberOfRow,\n        numberOfColumn,\n        cellWidth,\n        cellHeight,\n        gutter,\n    }).items;\n\n    /**\n     * Add props to transform.\n     * Order by hasFill, so is like z-index: -1.\n     */\n    data = reorder\n        ? gridData\n              .map((item, i) => {\n                  return {\n                      ...item,\n                      scale: 0,\n                      rotate: 0,\n                      hasFill: fill.includes(i),\n                  };\n              })\n              .sort((value) => (value.hasFill ? -1 : 1))\n        : gridData.map((item, i) => {\n              return {\n                  ...item,\n                  scale: 0,\n                  rotate: 0,\n                  hasFill: fill.includes(i),\n              };\n          });\n\n    /**\n     * Create staggers array.\n     */\n    let staggers = tween.createStaggers({\n        items: data,\n        stagger,\n    });\n\n    /**\n     * Create sequencer instances from staggera array\n     */\n\n    let sequencersInstances = staggers.map(({ item, start, end }) => {\n        const scale = item.hasFill ? 1.1 : 1;\n\n        const sequencer = tween\n            .createSequencer({ data: { scale: 0 } })\n            .goTo({ scale }, { start, end, ease: 'easeInOutQuad' });\n\n        const unsubscribe = sequencer.subscribe(({ scale }) => {\n            item.scale = scale;\n        });\n\n        masterSequencer.add(sequencer);\n        return { sequencer, unsubscribe };\n    });\n\n    /**\n     * Main draw function.\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen ? offScreenCtx : ctx;\n\n        /**\n         * Clear rpevious render.\n         */\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        data.forEach(\n            ({\n                x,\n                y,\n                centerX,\n                centerY,\n                width,\n                height,\n                rotate,\n                scale,\n                hasFill,\n                offsetXCenter,\n                offsetYCenter,\n            }) => {\n                const rotation = (Math.PI / 180) * rotate;\n                const xx = Math.cos(rotation) * scale;\n                const xy = Math.sin(rotation) * scale;\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(\n                    xx,\n                    xy,\n                    -xy,\n                    xx,\n                    Math.round(centerX + offsetXCenter),\n                    Math.round(centerY + offsetYCenter)\n                );\n\n                /**\n                 * Draw.\n                 */\n                roundRectCustom(\n                    context,\n                    Math.round(-centerX + x),\n                    Math.round(-centerY + y),\n                    width,\n                    height,\n                    5\n                );\n\n                if (useRadius) {\n                    context.beginPath();\n                    context.roundRect(\n                        Math.round(-centerX + x),\n                        Math.round(-centerY + y),\n                        width,\n                        height,\n                        5\n                    );\n                } else {\n                    context.beginPath();\n                    context.rect(\n                        Math.round(-centerX + x),\n                        Math.round(-centerY + y),\n                        width,\n                        height\n                    );\n                }\n\n                if (hasFill) {\n                    context.fillStyle = '#fff';\n                    context.fill();\n                } else {\n                    context.fillStyle = '#000';\n                    context.fill();\n                    context.strokeStyle = '#333';\n                    context.stroke();\n                }\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Create scrollTrigger.\n     */\n    let scrollerInstance = scroller.createScrollTrigger({\n        trigger: canvasScroller,\n        propierties: 'tween',\n        tween: masterSequencer,\n        dynamicStart: {\n            position: 'bottom',\n            value: () => window.innerHeight,\n        },\n        dynamicEnd: {\n            position: 'bottom',\n            value: () => outerHeight(canvasScroller),\n        },\n        fromTo: true,\n        ease: true,\n        easeType: 'lerp',\n    });\n\n    /**\n     * Initialize scrollTrigger.\n     */\n    scrollerInstance.init();\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n\n        if (!isActive) return;\n        mobCore.useNextFrame(() => loop());\n    };\n\n    /**\n     * Start loop.\n     */\n    mobCore.useFrame(({ time }) => {\n        loop({ time });\n    });\n\n    const unsubscribeResize = mobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n\n        /**\n         * Update offset position to center grid in canvas.\n         */\n        data.forEach((item) => {\n            const { width, height, gutter, numberOfColumn } = item;\n\n            item.offsetXCenter = getOffsetXCenter({\n                canvasWidth: canvas.width,\n                width,\n                gutter,\n                numberOfColumn,\n            });\n\n            item.offsetYCenter = getOffsetYCenter({\n                canvasHeight: canvas.height,\n                height,\n                gutter,\n                numberOfRow,\n            });\n        });\n\n        /**\n         * Render.\n         */\n        mobCore.useFrame(() => draw());\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('openNavigation', () => {\n        isActive = false;\n    });\n\n    const unWatchResume = navigationStore.watch('closeNavigation', () =>\n        setTimeout(async () => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const { activeRoute: currentRoute } = mainStore.get();\n            if (currentRoute !== activeRoute) return;\n\n            /**\n             * Restart loop\n             */\n            mobCore.useFrame(() => loop());\n        }, 500)\n    );\n\n    /**\n     * Destroy.\n     */\n    return () => {\n        unsubscribeResize();\n        unWatchResume();\n        unWatchPause();\n        sequencersInstances.forEach(({ sequencer, unsubscribe }) => {\n            sequencer.destroy();\n            unsubscribe();\n        });\n        sequencersInstances = [];\n        masterSequencer.destroy();\n        masterSequencer = null;\n        staggers = [];\n        scrollerInstance.destroy();\n        scrollerInstance = null;\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        gridData = [];\n        data = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\nimport { getLegendData } from '../../../../data';\nimport { mobCore } from '../../../../mobCore';\nimport { setStateByName } from '../../../../mobjs';\nimport { motionCore } from '../../../../mobMotion';\nimport { scrollerN0Animation } from './animation/animation';\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type').ScrollerN0>}\n */\nexport const ScrollerN0Fn = ({ onMount, html, getState }) => {\n    const { prevRoute, nextRoute, title } = getState();\n    document.body.style.background = '#000000';\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/scrolldownLabel/type').ScrollDownLabel>}\n     */\n    const setScrollDownState = setStateByName('scroll_down_label');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/nextPage/type').QuickNav>}\n     */\n    const setQuickNavState = setStateByName('quick_nav');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/animationTitle/type').AnimationTitle>}\n     */\n    const setMainTitleState = setStateByName('animation_title');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/codeButton/type').CodeButton>}\n     */\n    const setCodeButtonState = setStateByName('global-code-button');\n\n    onMount(({ ref }) => {\n        if (motionCore.mq('max', 'desktop')) {\n            document.body.style.background = '';\n            return;\n        }\n\n        /**\n         * Show scroll down label.\n         */\n        setScrollDownState('active', true);\n\n        /**\n         * Quicknav\n         */\n        setQuickNavState('active', true);\n        setQuickNavState('prevRoute', prevRoute);\n        setQuickNavState('nextRoute', nextRoute);\n\n        /**\n         * Title.\n         */\n        setMainTitleState('align', 'left');\n        setMainTitleState('color', 'white');\n        setMainTitleState('title', title);\n\n        /**\n         * Code button\n         */\n        const { scrollerN0 } = getLegendData();\n        const { source } = scrollerN0;\n        setCodeButtonState('drawers', [\n            {\n                label: 'description',\n                source: source.description,\n            },\n            {\n                label: 'definition',\n                source: source.definition,\n            },\n            {\n                label: 'component',\n                source: source.component,\n            },\n            {\n                label: 'animation',\n                source: source.animation,\n            },\n        ]);\n        setCodeButtonState('color', 'white');\n\n        /**\n         * Refs\n         */\n        const { wrap, canvas, canvasScroller } = ref;\n\n        /**\n         * Prevent landing at bottom of the page.\n         */\n        window.scrollTo(0, 0);\n\n        const destroyAnimation = scrollerN0Animation({\n            canvas,\n            canvasScroller,\n            ...getState(),\n        });\n\n        mobCore.useFrame(() => {\n            wrap.classList.add('active');\n        });\n\n        return () => {\n            destroyAnimation();\n\n            /**\n             * Hide scroll down label.\n             */\n            setScrollDownState('active', false);\n            setQuickNavState('active', false);\n            setQuickNavState('prevRoute', '');\n            setQuickNavState('nextRoute', '');\n            setMainTitleState('align', '');\n            setMainTitleState('title', '');\n            setCodeButtonState('drawers', []);\n            document.body.style.background = '';\n        };\n    });\n\n    /**\n     * Skip mobile.\n     */\n    if (motionCore.mq('max', 'desktop'))\n        return html`<div><only-desktop></only-desktop></div>`;\n\n    /**\n     * Desktop\n     */\n    return html`\n        <div>\n            <only-desktop></only-desktop>\n            <div class=\"c-canvas c-canvas--fixed \">\n                <div class=\"c-canvas__wrap c-canvas__wrap--wrapped\" ref=\"wrap\">\n                    <canvas ref=\"canvas\"></canvas>\n                </div>\n            </div>\n            <div class=\"c-canvas-scroller\" ref=\"canvasScroller\"></div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { detectFirefox, detectSafari } from '../../../../utils/utils';\nimport { OnlyDesktop } from '../../../common/onlyDesktop/definition';\nimport { ScrollerN0Fn } from './scrollerN0';\n\nexport const ScrollerN0 = createComponent({\n    name: 'scroller-n0',\n    component: ScrollerN0Fn,\n    exportState: [\n        'title',\n        'nextRoute',\n        'prevRoute',\n        'numberOfRow',\n        'numberOfColumn',\n        'cellWidth',\n        'cellHeight',\n        'gutter',\n        'fill',\n        'stagger',\n        'reorder',\n        'disableOffcanvas',\n    ],\n    state: {\n        title: () => ({\n            value: '',\n            type: String,\n        }),\n        nextRoute: () => ({\n            value: '',\n            type: String,\n        }),\n        prevRoute: () => ({\n            value: '',\n            type: String,\n        }),\n        numberOfRow: () => ({\n            value: 10,\n            type: Number,\n        }),\n        numberOfColumn: () => ({\n            value: 10,\n            type: Number,\n        }),\n        cellWidth: () => ({\n            value: 65,\n            type: Number,\n        }),\n        cellHeight: () => ({\n            value: 65,\n            type: Number,\n        }),\n        gutter: () => ({\n            value: 1,\n            type: Number,\n        }),\n        fill: () => ({\n            value: [\n                36, 37, 38, 39, 40, 47, 51, 58, 62, 69, 73, 80, 81, 82, 83, 84,\n            ],\n            type: Array,\n        }),\n        stagger: () => ({\n            value: {\n                type: 'equal',\n                each: 6,\n                from: 'random',\n            },\n            type: 'Any',\n        }),\n        reorder: () => ({\n            value: true,\n            type: Boolean,\n        }),\n        disableOffcanvas: () => ({\n            value: detectFirefox() || detectSafari() ? true : false,\n            type: Boolean,\n        }),\n    },\n    child: [OnlyDesktop],\n});\n", "export const scrollerParams = [\n    {\n        title: 'Scroller N.0 v0',\n        animation: {},\n        nav: {\n            prevRoute: '#animatedPatternN1',\n            nextRoute: '#scrollerN0?version=1&activeId=1',\n        },\n    },\n    {\n        title: 'Scroller N.0 v1',\n        animation: {\n            stagger: {\n                type: 'end',\n                each: 1,\n                from: { x: 0, y: 0 },\n                grid: { col: 11, row: 10, direction: 'radial' },\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#scrollerN0?version=0&activeId=0',\n            nextRoute: '#scrollerN0?version=2&activeId=2',\n        },\n    },\n    {\n        title: 'Scroller N.0 v2',\n        animation: {\n            stagger: {\n                type: 'equal',\n                each: 7,\n                from: 'center',\n                grid: { col: 11, row: 10, direction: 'col' },\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#scrollerN0?version=1&activeId=1',\n            nextRoute: '#scrollerN0?version=3&activeId=3',\n        },\n    },\n    {\n        title: 'Scroller N.0 v3',\n        animation: {\n            stagger: {\n                type: 'equal',\n                each: 3,\n                from: 'end',\n                grid: { col: 11, row: 10, direction: 'row' },\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#scrollerN0?version=2&activeId=2',\n            nextRoute: '#scrollerN0?version=4&activeId=4',\n        },\n    },\n    {\n        title: 'Scroller N.0 v4',\n        animation: {\n            stagger: {\n                type: 'equal',\n                each: 2,\n                from: 'end',\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#scrollerN0?version=3&activeId=3',\n            nextRoute: '#scrollerN1',\n        },\n    },\n];\n", "import { ScrollerN0 } from '../../../component/pages/scroller/ScrollerN0/definition';\nimport { html, staticProps, useComponent } from '../../../mobjs';\nimport { scrollerParams } from './scrollerParams';\n\nuseComponent([ScrollerN0]);\n\nexport const scrollerN0 = ({ params }) => {\n    const { version } = params;\n\n    const props =\n        scrollerParams[\n            Math.max(0, Math.min(Number(version), scrollerParams.length - 1))\n        ];\n\n    return html`<div>\n        <scroller-n0\n            ${staticProps({\n                ...props.animation,\n                prevRoute: props.nav.prevRoute,\n                nextRoute: props.nav.nextRoute,\n                title: props.title,\n            })}\n        ></scroller-n0>\n    </div>`;\n};\n", "// @ts-nocheck\nimport { tween, scroller } from '../../../../../mobMotion';\nimport { mainStore } from '../../../../../mobjs';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    getCanvasContext,\n    getOffsetCanvas,\n    // roundRectIsSupported,\n} from '../../../../../utils/canvasUtils';\nimport { navigationStore } from '../../../../layout/navigation/store/navStore';\nimport { outerHeight } from '../../../../../mobCore/utils';\nimport { mobCore } from '../../../../../mobCore';\n// import { detectSafari } from '../../../../../utils/utils';\n\nfunction getWithRounded({ width, relativeIndex, amountOfPath }) {\n    return (\n        Math.sqrt(\n            Math.pow(width * relativeIndex, 2) -\n                Math.pow(\n                    ((width * relativeIndex) / amountOfPath) * relativeIndex,\n                    2\n                )\n        ) * 2\n    );\n}\n\nfunction getHeightRounded({ height, relativeIndex, amountOfPath }) {\n    return (\n        Math.sqrt(\n            Math.pow(height * relativeIndex, 2) -\n                Math.pow(\n                    ((height * relativeIndex) / amountOfPath) * relativeIndex,\n                    2\n                )\n        ) * 2\n    );\n}\n\nexport const scrollerN1Animation = ({\n    canvas,\n    canvasScroller,\n    amountOfPath,\n    width,\n    height,\n    radius,\n    opacity,\n    intialRotation,\n    endRotation,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let ctx = canvas.getContext(context, { alpha: false });\n    let stemData = [];\n    const { activeRoute } = mainStore.get();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n    // let wichContext = useOffscreen ? offScreenCtx : ctx;\n    // const useRadius = roundRectIsSupported(wichContext) && !detectSafari();\n    // wichContext = null;\n\n    const useRadius = false;\n\n    /**\n     * Initial misure.\n     */\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     * Setup data.\n     */\n    stemData = [...new Array(amountOfPath).keys()].map((_item, i) => {\n        const relativeIndex =\n            i >= amountOfPath / 2\n                ? amountOfPath / 2 + (amountOfPath / 2 - i)\n                : i;\n\n        return {\n            width: Math.floor(\n                getWithRounded({ width, relativeIndex, amountOfPath })\n            ),\n            height: Math.floor(\n                getHeightRounded({ height, relativeIndex, amountOfPath })\n            ),\n            opacity: relativeIndex * opacity,\n            rotate: 0,\n            relativeIndex,\n            index: i,\n        };\n    });\n\n    /**\n     * Create tween.\n     */\n    let scrollerTween = tween.createScrollerTween({\n        from: { rotate: 0 },\n        to: { rotate: endRotation },\n        stagger: { each: 5, from: 'center' },\n    });\n\n    /**\n     * Subscribe rect to rotation tween.\n     */\n    [...stemData].forEach((item) => {\n        scrollerTween.subscribeCache(item, ({ rotate }) => {\n            item.rotate = rotate;\n        });\n    });\n\n    /**\n     * Main draw function.\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen ? offScreenCtx : ctx;\n\n        /**\n         * Get center of canvas.\n         */\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n\n        /**\n         * Clear rpevious render.\n         */\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        stemData.forEach(({ width, height, opacity, rotate, index }) => {\n            const unitInverse = stemData.length / 2 - index;\n\n            /**\n             * Center canvas in the screen\n             *\n             */\n\n            const scale = 1;\n            const rotation = (Math.PI / 180) * (rotate - intialRotation);\n            const xx = Math.cos(rotation) * scale;\n            const xy = Math.sin(rotation) * scale;\n\n            /**\n             * Apply scale/rotation/scale all together.\n             */\n            context.setTransform(\n                xx,\n                xy,\n                -xy,\n                xx,\n                centerX,\n                centerY + unitInverse * 19\n            );\n\n            /**\n             * Shape\n             */\n            if (useRadius) {\n                context.beginPath();\n                context.roundRect(\n                    -width / 2,\n                    -height / 2 + unitInverse * 19,\n                    width,\n                    height,\n                    150\n                );\n            } else {\n                context.beginPath();\n                context.rect(\n                    Number.parseInt(-width / 2),\n                    Number.parseInt(-height / 2),\n                    width,\n                    height,\n                    radius\n                );\n            }\n\n            /**\n             * Color.\n             */\n            context.strokeStyle = `rgba(255, 255, 255, ${opacity})`;\n            context.fillStyle = `rgba(26, 27, 38, ${opacity})`;\n            context.stroke();\n            context.fill();\n\n            /**\n             * Reset all transform instead save() restore().\n             */\n            context.setTransform(1, 0, 0, 1, 0, 0);\n        });\n\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Create scrollTrigger.\n     */\n    let scrollerInstance = scroller.createScrollTrigger({\n        trigger: canvasScroller,\n        propierties: 'tween',\n        tween: scrollerTween,\n        dynamicStart: {\n            position: 'bottom',\n            value: () => window.innerHeight,\n        },\n        dynamicEnd: {\n            position: 'bottom',\n            value: () => outerHeight(canvasScroller),\n        },\n        ease: true,\n        easeType: 'spring',\n    });\n\n    /**\n     * Initialize scrollTrigger.\n     */\n    scrollerInstance.init();\n\n    /**\n     * Loop\n     */\n    const loop = ({ time = 0 }) => {\n        draw({ time });\n\n        if (!isActive) return;\n\n        mobCore.useNextFrame(({ time }) => loop({ time }));\n    };\n\n    /**\n     * Start loop.\n     */\n    mobCore.useFrame(({ time }) => {\n        loop({ time });\n    });\n\n    /**\n     * Resize canvas.\n     */\n    const unsubscribeResize = mobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n\n        mobCore.useFrame(() => {\n            draw();\n        });\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('openNavigation', () => {\n        isActive = false;\n    });\n\n    const unWatchResume = navigationStore.watch('closeNavigation', () => {\n        setTimeout(() => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const { activeRoute: currentRoute } = mainStore.get();\n            if (currentRoute !== activeRoute) return;\n\n            /**\n             * Restart loop\n             */\n            mobCore.useFrame(({ time }) => loop({ time }));\n        }, 500);\n    });\n\n    return () => {\n        scrollerTween.destroy();\n        unsubscribeResize();\n        unWatchResume();\n        unWatchPause();\n        scrollerTween.destroy();\n        scrollerTween = null;\n        scrollerInstance.destroy();\n        scrollerInstance = null;\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        scrollerTween = null;\n        stemData = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\nimport { getLegendData } from '../../../../data';\nimport { mobCore } from '../../../../mobCore';\nimport { setStateByName } from '../../../../mobjs';\nimport { motionCore } from '../../../../mobMotion';\nimport { scrollerN1Animation } from './animation/animation';\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type.t').ScrollerN1>}\n */\nexport const ScrollerN1Fn = ({ onMount, html, getState }) => {\n    document.body.style.background = '#000000';\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/scrolldownLabel/type').ScrollDownLabel>}\n     */\n    const setScrollDownState = setStateByName('scroll_down_label');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/nextPage/type').QuickNav>}\n     */\n    const setQuickNavState = setStateByName('quick_nav');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/animationTitle/type').AnimationTitle>}\n     */\n    const setMainTitleState = setStateByName('animation_title');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/codeButton/type').CodeButton>}\n     */\n    const setCodeButtonState = setStateByName('global-code-button');\n\n    onMount(({ ref }) => {\n        if (motionCore.mq('max', 'desktop')) {\n            document.body.style.background = '';\n            return;\n        }\n\n        /**\n         * Show scroll down label.\n         */\n        setScrollDownState('active', true);\n\n        /**\n         * Quicknav\n         */\n        setQuickNavState('active', true);\n        setQuickNavState('nextRoute', '');\n        setQuickNavState('prevRoute', '#scrollerN0?version=4&activeId=4');\n\n        /**\n         * Title.\n         */\n        setMainTitleState('align', 'left');\n        setMainTitleState('color', 'white');\n        setMainTitleState('title', 'Scroller N1');\n\n        /**\n         * Code button\n         */\n        const { scrollerN1 } = getLegendData();\n        const { source } = scrollerN1;\n        setCodeButtonState('drawers', [\n            {\n                label: 'description',\n                source: source.description,\n            },\n            {\n                label: 'definition',\n                source: source.definition,\n            },\n            {\n                label: 'component',\n                source: source.component,\n            },\n            {\n                label: 'animation',\n                source: source.animation,\n            },\n        ]);\n        setCodeButtonState('color', 'white');\n\n        /**\n         * Refs\n         */\n        const { wrap, canvas, canvasScroller } = ref;\n\n        const destroyAnimation = scrollerN1Animation({\n            canvas,\n            canvasScroller,\n            ...getState(),\n        });\n\n        mobCore.useFrame(() => {\n            wrap.classList.add('active');\n        });\n\n        return () => {\n            destroyAnimation();\n\n            /**\n             * Hide scroll down label.\n             */\n            setScrollDownState('active', false);\n            setQuickNavState('active', false);\n            setQuickNavState('prevRoute', '');\n            setQuickNavState('nextRoute', '');\n            setMainTitleState('align', '');\n            setMainTitleState('title', '');\n            setCodeButtonState('drawers', []);\n            document.body.style.background = '';\n        };\n    });\n\n    /**\n     * Skip mobile.\n     */\n    if (motionCore.mq('max', 'desktop'))\n        return html`<div><only-desktop></only-desktop></div>`;\n\n    /**\n     * Desktop\n     */\n    return html`\n        <div>\n            <only-desktop></only-desktop>\n            <div class=\"c-canvas c-canvas--fixed \">\n                <div class=\"c-canvas__wrap c-canvas__wrap--wrapped\" ref=\"wrap\">\n                    <canvas ref=\"canvas\"></canvas>\n                </div>\n            </div>\n            <div class=\"c-canvas-scroller\" ref=\"canvasScroller\"></div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { detectFirefox, detectSafari } from '../../../../utils/utils';\nimport { OnlyDesktop } from '../../../common/onlyDesktop/definition';\nimport { ScrollerN1Fn } from './scrollerN1';\n\nexport const ScrollerN1 = createComponent({\n    name: 'scroller-n1',\n    component: ScrollerN1Fn,\n    exportState: [\n        'amountOfPath',\n        'width',\n        'height',\n        'radius',\n        'opacity',\n        'intialRotation',\n        'endRotation',\n        'disableOffcanvas',\n    ],\n    state: {\n        amountOfPath: 17,\n        width: 15,\n        height: 40,\n        radius: 0,\n        opacity: 0.05,\n        intialRotation: 33,\n        endRotation: 720,\n        disableOffcanvas: () => ({\n            value: detectFirefox() || detectSafari() ? true : false,\n            type: Boolean,\n        }),\n    },\n    child: [OnlyDesktop],\n});\n", "import { ScrollerN1 } from '../../../component/pages/scroller/ScrollerN1/definition';\nimport { html, useComponent } from '../../../mobjs';\n\nuseComponent([ScrollerN1]);\n\nexport const scrollerN1 = () => {\n    return html`<div class=\"l-padding\">\n        <scroller-n1></scroller-n1>\n    </div>`;\n};\n", "//@ts-check\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type').DynamicListButton>}\n */\nexport const DynamicListButtonFn = ({ html, getState, onMount, watchSync }) => {\n    const { label } = getState();\n\n    onMount(({ element }) => {\n        watchSync('active', (value) => {\n            element.classList.toggle('active', value);\n        });\n\n        return () => {};\n    });\n\n    return html`\n        <button type=\"button\" class=\"c-dynamic-list-button\">${label}</button>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { DynamicListButtonFn } from './dynamicListButton';\n\nexport const DynamicListButton = createComponent({\n    name: 'dynamic-list-button',\n    component: DynamicListButtonFn,\n    exportState: ['active', 'label'],\n    state: {\n        label: () => ({\n            value: '',\n            type: String,\n        }),\n        active: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n});\n", "//@ts-check\n\nexport const startData = [\n    {\n        key: 'a',\n        label: 'A',\n    },\n    {\n        key: 'b',\n        label: 'B',\n    },\n    {\n        key: 'c',\n        label: 'C',\n    },\n    {\n        key: 'd',\n        label: 'D',\n    },\n];\n\nexport const state1 = [\n    {\n        key: 'f',\n        label: 'F',\n    },\n    {\n        key: 'b',\n        label: 'B',\n    },\n    {\n        key: 'e',\n        label: 'E',\n    },\n    {\n        key: 'c',\n        label: 'C',\n    },\n    {\n        key: 'a',\n        label: 'A',\n    },\n    {\n        key: 'g',\n        label: 'G',\n    },\n    {\n        key: 'h',\n        label: 'H',\n    },\n    {\n        key: 'd',\n        label: 'D',\n    },\n    {\n        key: 'b',\n        label: 'B',\n    },\n];\n\nexport const state2 = [\n    {\n        key: 'm',\n        label: 'M',\n    },\n    {\n        key: 'q',\n        label: 'Q',\n    },\n    {\n        key: 'z',\n        label: 'Z',\n    },\n    {\n        key: 'i',\n        label: 'I',\n    },\n    {\n        key: 'b',\n        label: 'B',\n    },\n    {\n        key: 'e',\n        label: 'E',\n    },\n    {\n        key: 'n',\n        label: 'N',\n    },\n    {\n        key: 'a',\n        label: 'A',\n    },\n    {\n        key: 'g',\n        label: 'G',\n    },\n    {\n        key: 'h',\n        label: 'H',\n    },\n    {\n        key: 'l',\n        label: 'L',\n    },\n    {\n        key: 'j',\n        label: 'J',\n    },\n    {\n        key: 'd',\n        label: 'D',\n    },\n];\n\nexport const state3 = [\n    {\n        key: 'h',\n        label: 'H',\n    },\n    {\n        key: 'f',\n        label: 'F',\n    },\n    {\n        key: 'a',\n        label: 'A',\n    },\n    {\n        key: 'd',\n        label: 'D',\n    },\n];\n", "//@ts-check\n\nimport { getLegendData } from '../../../data';\nimport { html, setStateByName, tick } from '../../../mobjs';\nimport { startData, state1, state2, state3 } from './data';\n\nconst buttons = [\n    {\n        buttonLabel: 'sample1',\n        data: state1,\n    },\n    {\n        buttonLabel: 'salmple2',\n        data: state2,\n    },\n    {\n        buttonLabel: 'sample3',\n        data: state3,\n    },\n    {\n        buttonLabel: 'Initial',\n        data: startData,\n    },\n];\n\nconst repeaters = [\n    {\n        label: 'dynamic list with key',\n        key: 'key',\n        clean: false,\n    },\n    {\n        label: 'dynamic list without key',\n        key: '',\n        clean: false,\n    },\n    {\n        label: 'dynamic list clear',\n        key: '',\n        clean: true,\n    },\n];\n\n/**\n * @param {object} param\n * @param {import('../../../mobjs/type').SetState<import('./type').DynamicList>} param.setState\n * @param {import('../../../mobjs/type').StaticProps} param.staticProps\n * @param {import('../../../mobjs/type').DelegateEvents} param.delegateEvents\n * @param {import('../../../mobjs/type').BindProps<import('./type').DynamicList,import('./button/type').DynamicListButton>} param.bindProps\n */\nfunction getButton({ setState, staticProps, delegateEvents, bindProps }) {\n    return buttons\n        .map((column, index) => {\n            const { data, buttonLabel } = column;\n\n            return html`\n                <dynamic-list-button\n                    ${staticProps({ label: buttonLabel })}\n                    ${delegateEvents({\n                        click: async () => {\n                            setState('data', data);\n                            setState('activeSample', index);\n\n                            await tick();\n                            console.log('resolve list update');\n                        },\n                    })}\n                    ${bindProps({\n                        bind: ['activeSample'],\n                        props: ({ activeSample }) => {\n                            return {\n                                active: index === activeSample,\n                            };\n                        },\n                    })}\n                ></dynamic-list-button>\n            `;\n        })\n        .join('');\n}\n\n/**\n * @param {object} param\n * @param {import('../../../mobjs/type').StaticProps} param.staticProps\n * @param {import('../../../mobjs/type').BindProps<import('./type').DynamicList, import('./repeaters/type').DynamicListRepeater>} param.bindProps\n */\nfunction getRepeaters({ bindProps, staticProps }) {\n    return repeaters\n        .map((item, index) => {\n            const { key, clean, label } = item;\n\n            return html`\n                <dynamic-list-repeater\n                    ${staticProps({ listId: index, key, clean, label })}\n                    ${bindProps({\n                        bind: ['data', 'counter'],\n                        props: ({ data, counter }) => {\n                            return { data, counter };\n                        },\n                    })}\n                ></dynamic-list-repeater>\n            `;\n        })\n        .join('');\n}\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').DynamicList>}\n */\nexport const DynamicListFn = async ({\n    setState,\n    html,\n    onMount,\n    staticProps,\n    bindProps,\n    delegateEvents,\n    watchSync,\n}) => {\n    /**\n     * @type {import('../../../mobjs/type').SetStateByName<import('../../common/codeButton/type').CodeButton>}\n     */\n    const setCodeButtonState = setStateByName('global-code-button');\n\n    onMount(({ refs }) => {\n        const { counterEl } = refs;\n\n        /**\n         * Code button\n         */\n        const { repeater } = getLegendData();\n        const { source } = repeater;\n        setCodeButtonState('drawers', [\n            {\n                label: 'description',\n                source: source.description,\n            },\n            {\n                label: 'definition',\n                source: source.definition,\n            },\n            {\n                label: 'main',\n                source: source.mainComponent,\n            },\n            {\n                label: 'repeater',\n                source: source.repeaters,\n            },\n            {\n                label: 'buttons',\n                source: source.buttons,\n            },\n            {\n                label: 'cards',\n                source: source.cards,\n            },\n            {\n                label: 'data',\n                source: source.data,\n            },\n        ]);\n        setCodeButtonState('color', 'black');\n\n        watchSync('counter', (value) => {\n            // @ts-ignore\n            counterEl.textContent = `${value}`;\n        });\n\n        return () => {\n            setCodeButtonState('drawers', []);\n        };\n    });\n\n    return html`\n        <div class=\"c-dynamic-list\">\n            <only-desktop></only-desktop>\n            <div class=\"c-dynamic-list__header\">\n                <div class=\"c-dynamic-list__top\">\n                    ${getButton({\n                        setState,\n                        delegateEvents,\n                        staticProps,\n                        bindProps,\n                    })}\n                    <dynamic-list-button\n                        ${staticProps({ label: 'increase counter' })}\n                        ${delegateEvents({\n                            click: async () => {\n                                setState('counter', (prev) => (prev += 1));\n                                await tick();\n\n                                console.log('resolve increment');\n                            },\n                        })}\n                    ></dynamic-list-button>\n                </div>\n            </div>\n\n            <div class=\"c-dynamic-list__counter\">\n                <h4>List counter</h4>\n                <span ref=\"counterEl\"></span>\n            </div>\n\n            <div class=\"c-dynamic-list__container\">\n                <div class=\"c-dynamic-list__grid\">\n                    ${getRepeaters({ bindProps, staticProps })}\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type').DynamicCounter>}\n */\nexport const DynamicListCounterFn = async ({\n    watch,\n    onMount,\n    html,\n    getState,\n}) => {\n    const { parentListId, counter } = getState();\n\n    onMount(({ ref }) => {\n        const { counterValueEl } = ref;\n\n        watch('counter', (value) => {\n            counterValueEl.textContent = `${value}`;\n        });\n\n        return () => {};\n    });\n\n    return html`<div class=\"dynamic-counter\">\n        <p class=\"c-dynamic-counter__title\">Nested:</p>\n        <p class=\"c-dynamic-counter__subtitle\">(slotted)</p>\n        <p class=\"c-dynamic-counter__list\">list index: ${parentListId}</p>\n        <span ref=\"counterValueEl\">${counter}</span>\n    </div>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { DynamicListCounterFn } from './dynamicListCounter';\n\nexport const DynamicCounter = createComponent({\n    name: 'dynamic-list-counter',\n    component: DynamicListCounterFn,\n    exportState: ['counter', 'parentListId'],\n    state: {\n        parentListId: () => ({\n            value: -1,\n            type: Number,\n        }),\n        counter: () => ({\n            value: 0,\n            type: Number,\n        }),\n    },\n});\n", "//@ts-check\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent}\n */\nexport const DynamicListEmptyFn = async ({ html }) => {\n    return html`<div class=\"c-dynamic-list-empty\">\n        <p>empty comp</p>\n        <mobjs-slot name=\"empty-slot\"></mobjs-slot>\n    </div>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { DynamicListEmptyFn } from './dynamicListEmpty';\n\nexport const DynamicListEmpty = createComponent({\n    name: 'dynamic-list-empty',\n    component: DynamicListEmptyFn,\n});\n", "//@ts-check\n\nimport { mobCore } from '../../../../mobCore';\n\n// function wait() {\n//     return new Promise((resolve) => {\n//         setTimeout(() => {\n//             resolve();\n//         }, 1000);\n//     });\n// }\n\nfunction updateContent(label, val) {\n    return `${label}: ${val}`;\n}\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type').DynamicListCard>}\n */\nexport const DynamicListCardFn = ({\n    getState,\n    html,\n    onMount,\n    key,\n    staticProps,\n    bindProps,\n    watch,\n    id,\n}) => {\n    const { isFull, parentListId, index, label, counter } = getState();\n\n    onMount(({ element, ref }) => {\n        const { indexEl, labelEl, counterEl } = ref;\n\n        element.addEventListener('click', () => {\n            element.classList.toggle('is-selected');\n        });\n\n        watch('index', (val) => {\n            indexEl.textContent = updateContent('index', val);\n        });\n\n        watch('label', (val) => {\n            labelEl.textContent = updateContent('label', val);\n        });\n\n        watch('counter', (val) => {\n            counterEl.textContent = updateContent('counter', val);\n        });\n\n        mobCore.useFrame(() => {\n            element.classList.add('active');\n        });\n\n        return () => {};\n    });\n\n    const isFullClass = isFull ? 'is-full' : '';\n\n    return html`\n        <div class=\"c-dynamic-card ${isFullClass}\">\n            <div class=\"c-dynamic-card__container\">\n                <p class=\"c-dynamic-card__title\">card content</p>\n                <div class=\"id\">id: ${id}</div>\n                <div class=\"parentId\">list index: ${parentListId}</div>\n                <div class=\"index\" ref=\"indexEl\">\n                    ${updateContent('index', index)}\n                </div>\n                <div class=\"label\" ref=\"labelEl\">\n                    ${updateContent('label', label)}\n                </div>\n                <div class=\"counter\" ref=\"counterEl\">\n                    ${updateContent('counter', counter)}\n                </div>\n                <div class=\"key\">key: ${key.length > 0 ? key : 'no-key'}</div>\n                <mobjs-slot name=\"card-label-slot\"></mobjs-slot>\n                <dynamic-list-empty>\n                    <dynamic-list-counter\n                        slot=\"empty-slot\"\n                        ${staticProps({\n                            parentListId,\n                        })}\n                        ${bindProps({\n                            bind: ['counter'],\n                            /** @return {import('../counter/type').DynamicCounter|{}} */\n                            props: ({ counter }) => {\n                                return { counter };\n                            },\n                        })}\n                    />\n                </dynamic-list-empty>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { DynamicCounter } from '../counter/definition';\nimport { DynamicListEmpty } from '../empty/definition';\nimport { DynamicListCardFn } from './dynamicListCard';\n\nexport const DynamicListCard = createComponent({\n    name: 'dynamic-list-card',\n    component: DynamicListCardFn,\n    exportState: ['isFull', 'label', 'index', 'counter', 'parentListId'],\n    state: {\n        parentListId: () => ({\n            value: -1,\n            type: Number,\n        }),\n        isFull: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        label: () => ({\n            value: '-',\n            type: String,\n        }),\n        index: () => ({\n            value: -1,\n            type: Number,\n        }),\n        counter: () => ({\n            value: 0,\n            type: Number,\n        }),\n    },\n    child: [DynamicCounter, DynamicListEmpty],\n});\n", "//@ts-check\n\nfunction setContent(value) {\n    return `slotted: ${value}`;\n}\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type').DynamicListSlottedLabel>}\n */\nexport const DynamicListSlottedLabelFn = async ({\n    html,\n    onMount,\n    watch,\n    getState,\n}) => {\n    const { label } = getState();\n\n    onMount(({ ref }) => {\n        const { contentEl } = ref;\n\n        watch('label', (value) => {\n            contentEl.innerHTML = setContent(value);\n        });\n\n        return () => {};\n    });\n\n    return html`<div class=\"c-dynamic-list-slotted-label\">\n        <p class=\"content\" ref=\"contentEl\">${setContent(label)}</p>\n    </div>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { DynamicListSlottedLabelFn } from './dynamicListSlottedLabel';\n\nexport const DynamicListSlottedLabel = createComponent({\n    name: 'dynamic-slotted-label',\n    component: DynamicListSlottedLabelFn,\n    exportState: ['label'],\n    state: {\n        label: () => ({\n            value: undefined,\n            type: 'Any',\n        }),\n    },\n});\n", "//@ts-check\n\nimport { html } from '../../../../mobjs';\n\n/**\n * @param {object} param\n * @param {string} param.sync\n * @param {import('../../../../mobjs/type').StaticProps<import('../card/type').DynamicListCard>} param.staticProps\n * @param {import('../../../../mobjs/type').GetState<import('./type').DynamicListRepeater>} param.getState\n * @param {import('../../../../mobjs/type').BindProps<import('./type').DynamicListRepeater>} param.bindProps\n * @param {number} param.listId\n * @param {import('../../../../mobjs/type').DelegateEvents} param.delegateEvents\n */\nfunction getRepeaterCard({\n    sync,\n    staticProps,\n    bindProps,\n    listId,\n    delegateEvents,\n    getState,\n}) {\n    return html`\n        <dynamic-list-card\n            ${staticProps({\n                parentListId: listId,\n            })}\n            ${bindProps({\n                bind: ['counter'],\n                /** @returns {Partial<import('../card/type').DynamicListCard>} */\n                props: ({ counter, data }, index) => {\n                    return {\n                        counter,\n                        label: data[index].label,\n                        index: index,\n                    };\n                },\n            })}\n            ${delegateEvents({\n                mousedown: (_e, index) => {\n                    const { data } = getState();\n                    const current = data[index].label;\n\n                    console.log(current, index);\n                },\n            })}\n            ${sync}\n        >\n            <dynamic-slotted-label\n                slot=\"card-label-slot\"\n                ${bindProps({\n                    bind: ['counter'],\n                    /** @returns {Partial<import('../slottedLabel/type').DynamicListSlottedLabel>} */\n                    props: ({ data, counter }, index) => {\n                        return {\n                            label: `label: ${data[index].label} <br/> counter: ${counter}`,\n                        };\n                    },\n                })}\n            >\n            </dynamic-slotted-label>\n        </dynamic-list-card>\n    `;\n}\n\nfunction updateNewElement(id) {\n    return `<strong>Current cards id:</strong> ${id\n        .join(',')\n        .replaceAll(',', ' | ')}`;\n}\n\nfunction afterUpdateList({ element, className, childrenId }) {\n    const newElement = element.querySelector(className);\n    newElement.textContent = '';\n    newElement.insertAdjacentHTML('afterbegin', updateNewElement(childrenId));\n}\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./type').DynamicListRepeater>}\n */\nexport const DynamicListRepeaterFn = ({\n    getState,\n    html,\n    repeat,\n    staticProps,\n    bindProps,\n    delegateEvents,\n}) => {\n    const { listId, key, clean, label } = getState();\n    const keyParsed = key.length > 0 ? key : undefined;\n\n    return html`\n        <div class=\"c-dynamic-list-repeater\">\n            <h4 class=\"c-dynamic-list-repeater__title\">${label}</h4>\n            <p class=\"c-dynamic-list-repeater__new js-list\"></p>\n            <div class=\"c-dynamic-list-repeater__list\">\n                ${repeat({\n                    watch: 'data',\n                    clean,\n                    key: keyParsed,\n                    afterUpdate: ({ childrenId, element }) => {\n                        afterUpdateList({\n                            className: `.js-list`,\n                            childrenId,\n                            element,\n                        });\n                    },\n                    render: ({ sync }) => {\n                        return getRepeaterCard({\n                            sync,\n                            staticProps,\n                            getState,\n                            bindProps,\n                            delegateEvents,\n                            listId,\n                        });\n                    },\n                })}\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { DynamicListCard } from '../card/definition';\nimport { DynamicListSlottedLabel } from '../slottedLabel/definition';\nimport { DynamicListRepeaterFn } from './dynamicListRepeater';\n\nexport const DynamicListRepeater = createComponent({\n    name: 'dynamic-list-repeater',\n    component: DynamicListRepeaterFn,\n    exportState: [\n        'label',\n        'clean',\n        'data',\n        'listId',\n        'key',\n        'listId',\n        'counter',\n    ],\n    state: {\n        data: () => ({\n            value: [],\n            type: Array,\n        }),\n        key: () => ({\n            value: '',\n            type: String,\n        }),\n        clean: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        listId: () => ({\n            value: -1,\n            type: Number,\n        }),\n        counter: () => ({\n            value: -1,\n            type: Number,\n        }),\n        label: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n    child: [DynamicListCard, DynamicListSlottedLabel],\n});\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { OnlyDesktop } from '../../common/onlyDesktop/definition';\nimport { DynamicListButton } from './button/definition';\nimport { startData } from './data';\nimport { DynamicListFn } from './dynamicList';\nimport { DynamicListRepeater } from './repeaters/definition';\n\nexport const DynamicList = createComponent({\n    name: 'dynamic-list',\n    component: DynamicListFn,\n    state: {\n        counter: () => ({\n            value: 0,\n            type: Number,\n        }),\n        data: () => ({\n            value: startData,\n            type: Array,\n        }),\n        activeSample: () => ({\n            value: 3,\n            type: Number,\n        }),\n    },\n    child: [DynamicListButton, DynamicListRepeater, OnlyDesktop],\n});\n", "import { DynamicList } from '../../component/pages/dynamicList/definition';\nimport { html, useComponent } from '../../mobjs';\n\nuseComponent([DynamicList]);\n\nexport const dynamic_list = () => {\n    return html` <dynamic-list> </dynamic-list> `;\n};\n", "import { timeline, tween } from '../../../mobMotion';\n\nexport const simpleIntroAnimation = ({ refs }) => {\n    let introTween = tween.createTween({\n        data: { opacity: 0, scale: 0.5 },\n        duration: 2000,\n        ease: 'easeOutQuart',\n        stagger: { each: 8, from: 'end' },\n    });\n\n    let loopTween = tween.createTween({\n        data: { scale: 1 },\n        duration: 6000,\n        ease: 'easeInOutQuad',\n        stagger: { each: 12, from: 'end' },\n    });\n\n    refs.forEach((item) => {\n        introTween.subscribeCache(item, ({ scale, opacity }) => {\n            item.style.scale = `${scale}`;\n            item.style.opacity = opacity;\n        });\n\n        loopTween.subscribe(({ scale }) => {\n            item.style.scale = `${scale}`;\n        });\n    });\n\n    let introTl = timeline.createAsyncTimeline({ repeat: 1 }).goTo(introTween, {\n        opacity: 1,\n        scale: 1,\n    });\n\n    let loopTimeline = timeline\n        .createAsyncTimeline({ repeat: -1, yoyo: true })\n        .goTo(loopTween, {\n            scale: 1.1,\n        });\n\n    return {\n        playIntro: () => introTl?.play(),\n        playSvg: () => {\n            loopTimeline?.play();\n        },\n        destroy: () => {\n            introTween.destroy();\n            introTween = null;\n            introTl.destroy();\n            introTl = null;\n            loopTween.destroy();\n            loopTween = null;\n            loopTimeline.destroy();\n            loopTimeline = null;\n        },\n    };\n};\n", "import { tween } from '../../../../mobMotion';\n\nexport const homeTextAnimation = ({ refs }) => {\n    let textTween = tween.createTween({\n        data: { y: 100 },\n        duration: 500,\n        ease: 'easeOutCubic',\n        stagger: { each: 10 },\n    });\n\n    refs.forEach((item) => {\n        textTween.subscribe(({ y }) => {\n            item.style.translate = `0px ${y}%`;\n        });\n    });\n\n    return {\n        playText: () => textTween.goTo({ y: 0 }),\n        destroyText: () => {\n            textTween.destroy();\n            textTween = null;\n        },\n    };\n};\n", "//@ts-check\n\nimport { getLegendData } from '../../../data';\nimport { setStateByName } from '../../../mobjs';\nimport { simpleIntroAnimation } from '../../lib/animation/simpleIntro';\nimport { homeTextAnimation } from './animation/text';\n\nconst playAnimation = async ({ playIntro, playText, playSvg }) => {\n    playText();\n    await playIntro();\n    playSvg();\n};\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').HomeComponent>}\n */\nexport const HomeComponentFn = ({ html, onMount, getState }) => {\n    const { svg } = getState();\n\n    /**\n     * @type {import('../../../mobjs/type').SetStateByName<import('../../common/codeButton/type').CodeButton>}\n     */\n    const setCodeButtonState = setStateByName('global-code-button');\n\n    onMount(async ({ refs }) => {\n        const { textStagger, svg_group } = refs;\n\n        const { destroy, playIntro, playSvg } = simpleIntroAnimation({\n            refs: svg_group,\n        });\n\n        const { playText, destroyText } = homeTextAnimation({\n            refs: textStagger,\n        });\n\n        playAnimation({ playIntro, playText, playSvg });\n\n        /**\n         * Code button\n         */\n        const { home } = getLegendData();\n        const { source } = home;\n        setCodeButtonState('drawers', [\n            {\n                label: 'description',\n                source: source.description,\n            },\n            {\n                label: 'definition',\n                source: source.definition,\n            },\n            {\n                label: 'component',\n                source: source.component,\n            },\n            {\n                label: 'Logo animation',\n                source: source.logoAnimation,\n            },\n            {\n                label: 'text animation',\n                source: source.textAnimation,\n            },\n        ]);\n        setCodeButtonState('color', 'black');\n\n        return () => {\n            destroy();\n            destroyText();\n            setCodeButtonState('drawers', []);\n        };\n    });\n\n    return html`<div>\n        <div class=\"l-index__content\">\n            <a class=\"l-index__item\" href=\"./#mobCore-overview\">\n                <div class=\"l-index__inner-content\">\n                    <h1 class=\"l-index__stagger\" ref=\"textStagger\">\n                        <span>Mob</span>Core\n                    </h1>\n                </div>\n                <div class=\"l-index__inner-content\">\n                    <h2 class=\"l-index__stagger\" ref=\"textStagger\">\n                        store & window events\n                    </h2>\n                </div>\n            </a>\n            <a class=\"l-index__item\" href=\"./#mobJs-overview\">\n                <div class=\"l-index__inner-content\">\n                    <h1 class=\"l-index__stagger\" ref=\"textStagger\">\n                        <span>Mob</span>Js\n                    </h1>\n                </div>\n                <div class=\"l-index__inner-content\">\n                    <h2 class=\"l-index__stagger\" ref=\"textStagger\">\n                        js component library\n                    </h2>\n                </div>\n            </a>\n            <a class=\"l-index__item\" href=\"./#mobMotion-overview\">\n                <div class=\"l-index__inner-content\">\n                    <h1 class=\"l-index__stagger\" ref=\"textStagger\">\n                        <span>Mob</span>Motion\n                    </h1>\n                </div>\n                <div class=\"l-index__inner-content\">\n                    <h2 class=\"l-index__stagger\" ref=\"textStagger\">\n                        js animation library\n                    </h2>\n                </div>\n            </a>\n        </div>\n\n        <div class=\"l-index__logo\">${svg}</div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { HomeComponentFn } from './home';\n\nexport const HomeComponent = createComponent({\n    name: 'home-component',\n    component: HomeComponentFn,\n    exportState: ['svg'],\n    state: {\n        svg: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n});\n", "import { HomeComponent } from '../../component/pages/homepage/definition';\nimport { html, staticProps, useComponent } from '../../mobjs';\nimport { loadTextContent } from '../../utils/utils';\n\nuseComponent([HomeComponent]);\n\nexport const home = async () => {\n    const { data: svg } = await loadTextContent({\n        source: './asset/svg/ms.svg',\n    });\n\n    return html`<div class=\"l-index\">\n        <home-component ${staticProps({ svg })}></home-component>\n    </div>`;\n};\n", "//@ts-check\n\nimport { mobCore } from '../../../mobCore';\n\n/**\n * @type {import(\"../../../mobjs/type\").mobComponent<import('./type').FooterShapeV1>}\n */\nexport const FooterShapeV1Fn = ({ html, onMount, getState }) => {\n    const { svg, position } = getState();\n    const positionClass = `shape-v1--${position}`;\n\n    onMount(({ element }) => {\n        mobCore.useFrame(() => {\n            element.classList.add('active');\n        });\n\n        return () => {};\n    });\n\n    return html` <div class=\"shape-v1 ${positionClass}\">${svg}</div> `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { FooterShapeV1Fn } from './footerShapeV1';\n\nexport const FooterShapeV1 = createComponent({\n    name: 'footer-shape-v1',\n    component: FooterShapeV1Fn,\n    exportState: ['position', 'svg'],\n    state: {\n        position: () => ({\n            value: 'left',\n            type: String,\n        }),\n        svg: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n});\n", "// @ts-nocheck\nimport { mobCore } from '../../../../mobCore';\nimport { outerWidth } from '../../../../mobCore/utils';\nimport { scroller } from '../../../../mobMotion';\nimport { HorizontalScroller } from '../../../../mobMotion/plugin';\n\nlet sideWidth = 0;\n\nconst createPins = ({ indicators, setState }) => {\n    return [...indicators].map((button, i) => {\n        return scroller.createScrollTrigger({\n            item: button,\n            pin: true,\n            animateAtStart: false,\n            animatePin: true,\n            dynamicStart: {\n                position: 'right',\n                value: () => {\n                    return (\n                        window.innerWidth +\n                        sideWidth -\n                        outerWidth(button) * (i + 1)\n                    );\n                },\n            },\n            dynamicEnd: {\n                position: 'right',\n                value: () => {\n                    const relativeIndex = indicators.length - (i - 2);\n                    return (window.innerWidth / 10) * 9 * relativeIndex;\n                },\n            },\n            onEnter: () => {\n                setState('currentId', -1);\n                setState('currentIdFromScroll', i);\n            },\n            onLeaveBack: () => {\n                // setState('currentId', -1);\n                setState('currentIdFromScroll', i - 1);\n            },\n        });\n    });\n};\n\n/**\n * Refresh pins position\n */\nconst refreshPins = ({ pins }) => {\n    pins.forEach((pin) => pin.refresh());\n};\n\n/**\n * Create parallax titles\n */\nconst createParallax = ({ titles }) => {\n    return [...titles].map((title) => {\n        return scroller.createParallax({\n            item: title,\n            propierties: 'x',\n            reverse: true,\n            range: 9,\n        });\n    });\n};\n\n/**\n * Hide navigation on scroll unpin\n */\nconst showNav = ({ nav }) => {\n    nav.classList.add('active');\n\n    const indicators = document.querySelectorAll('.js-indicator');\n    [...indicators].forEach((indicator) => {\n        indicator.classList.add('active');\n    });\n};\n\n/**\n * Shor navigation on scroll pin\n */\nconst hideNav = ({ nav }) => {\n    nav.classList.remove('active');\n\n    const indicators = document.querySelectorAll('.js-indicator');\n    [...indicators].forEach((indicator) => {\n        indicator.classList.remove('active');\n    });\n};\n\n/**\n * Create main scroller.\n */\nexport const horizontalScrollerAnimation = ({\n    indicators,\n    titles,\n    nav,\n    animatePin,\n    setState,\n    rootRef,\n}) => {\n    let pins = createPins({ indicators, setState });\n    let titlesParallax = createParallax({ titles });\n\n    const side = document.querySelector('.l-navcontainer__side');\n    // @ts-ignore\n    sideWidth = outerWidth(side) / 2;\n\n    const unsubscribeResize = mobCore.useResize(() => {\n        // @ts-ignore\n        sideWidth = outerWidth(side) / 2;\n    });\n\n    let horizontalCustom = new HorizontalScroller({\n        root: rootRef,\n        container: '.js-container',\n        row: '.js-row',\n        column: '.js-column',\n        trigger: '.js-trigger',\n        shadowClass: '.shadowClass',\n        useWillChange: true,\n        useDrag: true,\n        useSticky: !animatePin,\n        animateAtStart: false,\n        ease: true,\n        addCss: true,\n        columnHeight: 70,\n        columnWidth: 100,\n        columnAlign: 'center',\n        pin: animatePin,\n        animatePin,\n        breakpoint: 'tablet',\n        children: [...pins, ...titlesParallax],\n        onEnter: () => {\n            showNav({ nav, indicators });\n        },\n        onEnterBack: () => {\n            /**\n             * With fast scroll forward bottom of the page pin can lost position.\n             * So upodate when scroller back active.\n             */\n            refreshPins({ pins });\n            showNav({ nav, indicators });\n        },\n        onLeave: () => {\n            hideNav({ nav, indicators });\n        },\n        onLeaveBack: () => {\n            hideNav({ nav, indicators });\n        },\n    });\n\n    horizontalCustom.init();\n\n    return {\n        destroy: () => {\n            /**\n             * Destroy pin.\n             */\n            pins.forEach((pin) => {\n                pin?.destroy();\n            });\n            pins = [];\n\n            /**\n             * Destroy titles.\n             */\n            titlesParallax.forEach((item) => {\n                item?.destroy();\n            });\n            titlesParallax = [];\n\n            /**\n             * Destroy timelines.\n             */\n            horizontalCustom.destroy();\n            horizontalCustom = null;\n            unsubscribeResize();\n        },\n        refresh: () => horizontalCustom.refresh(),\n    };\n};\n", "//@ts-check\n\nimport { getLegendData } from '../../../data';\nimport { offset, outerHeight } from '../../../mobCore/utils';\nimport { html, setStateByName } from '../../../mobjs';\nimport { motionCore } from '../../../mobMotion';\nimport { bodyScroll } from '../../../mobMotion/plugin';\nimport { horizontalScrollerAnimation } from './animation/animation';\n\nconst getColumns = ({ numOfCol, pinIsVisible, staticProps }) => {\n    const pinClass = pinIsVisible ? '' : 'hidden';\n\n    return [...new Array(numOfCol).keys()]\n        .map((_col, i) => {\n            return html`\n                <horizontal-scroller-section\n                    ${staticProps({\n                        id: i,\n                        pinClass,\n                    })}\n                ></horizontal-scroller-section>\n            `;\n        })\n        .join('');\n};\n\n/**\n * @param {object} param\n * @param {number} param.numOfCol\n * @param {import('../../../mobjs/type').SetState<import('./type').HorizontalScroller>} param.setState\n * @param {import('../../../mobjs/type').BindProps<import('./type').HorizontalScroller, import('./horizontalScrollerButton/type').HorizontalScrollerButton>} param.bindProps\n * @param {import('../../../mobjs/type').StaticProps} param.staticProps\n * @param {import('../../../mobjs/type').DelegateEvents} param.delegateEvents\n */\nconst getNav = ({\n    numOfCol,\n    setState,\n    bindProps,\n    staticProps,\n    delegateEvents,\n}) => {\n    return [...new Array(numOfCol).keys()]\n        .map((_col, i) => {\n            return html`\n                <horizontal-scroller-button\n                    ${staticProps({\n                        id: i,\n                    })}\n                    ${delegateEvents({\n                        click: () => setState('currentId', i),\n                    })}\n                    ${bindProps({\n                        bind: ['currentId', 'currentIdFromScroll'],\n                        props: ({ currentId, currentIdFromScroll }) => {\n                            return {\n                                active:\n                                    currentId === i ||\n                                    currentIdFromScroll === i,\n                            };\n                        },\n                    })}\n                ></horizontal-scroller-button>\n            `;\n        })\n        .join('');\n};\n\n/**\n * @type {import('../../../mobjs/type').mobComponent<import('./type').HorizontalScroller>}\n */\nexport const HorizontalScrollerFn = ({\n    onMount,\n    html,\n    getState,\n    setState,\n    watch,\n    staticProps,\n    bindProps,\n    delegateEvents,\n}) => {\n    const { animatePin, svgLeft, svgRight, prevRoute, nextRoute } = getState();\n\n    /**\n     * @type {import('../../../mobjs/type').SetStateByName<import('../../common/nextPage/type').QuickNav>}\n     */\n    const setQuickNavState = setStateByName('quick_nav');\n\n    /**\n     * @type {import('../../../mobjs/type').SetStateByName<import('../../common/animationTitle/type').AnimationTitle>}\n     */\n    const setMainTitleState = setStateByName('animation_title');\n\n    /**\n     * @type {import('../../../mobjs/type').SetStateByName<import('../../common/codeButton/type').CodeButton>}\n     */\n    const setCodeButtonState = setStateByName('global-code-button');\n\n    onMount(({ element, ref }) => {\n        if (motionCore.mq('max', 'desktop')) return;\n\n        const indicators = element.querySelectorAll('.js-indicator');\n        const nav = element.querySelector('.js-nav');\n        const titles = element.querySelectorAll('.js-title h1');\n        const { destroy } = horizontalScrollerAnimation({\n            rootRef: ref['js_root'],\n            indicators,\n            titles,\n            nav,\n            ...getState(),\n            setState,\n        });\n\n        /**\n         * Quicknav\n         */\n        setQuickNavState('active', true);\n        setQuickNavState('prevRoute', prevRoute);\n        setQuickNavState('nextRoute', nextRoute);\n        setQuickNavState('color', 'white');\n\n        /**\n         * Title.\n         */\n        setMainTitleState('align', 'right');\n        setMainTitleState('color', 'white');\n        setMainTitleState('title', 'HorizontalScroller');\n\n        /**\n         * Code button\n         */\n        const { horizontalScroller } = getLegendData();\n        const { source } = horizontalScroller;\n        setCodeButtonState('drawers', [\n            {\n                label: 'description',\n                source: source.description,\n            },\n            {\n                label: 'definition',\n                source: source.definition,\n            },\n            {\n                label: 'scroller',\n                source: source.scroller,\n            },\n            {\n                label: 'section',\n                source: source.section,\n            },\n            {\n                label: 'buttons',\n                source: source.buttons,\n            },\n            {\n                label: 'animation',\n                source: source.animation,\n            },\n        ]);\n        setCodeButtonState('color', 'white');\n\n        /**\n         * Prevent landing at bottom of the page.\n         */\n        window.scrollTo(0, 0);\n\n        watch('currentId', (id) => {\n            if (id === -1) return;\n\n            /**\n             * Hre the nav is open so on route landing the offset is wrong\n             * So, refresh scroller and the scroll to item.\n             */\n\n            /**\n             * Get item shadow element.\n             */\n            const shadowCenter = element.querySelector(\n                `.shadowClass--section-${id} .shadowClass--in-center`\n            );\n\n            /**\n             * Get scroll value.\n             */\n            // @ts-ignore\n            const { top } = offset(shadowCenter);\n            // @ts-ignore\n            const height = outerHeight(shadowCenter);\n            const scrollValue =\n                /**\n                 * Need previous and current value difference > 0 so add 1px.\n                 *                              active: currentId || currentIdFromScroll\n                 * ( onLeaveBack issue )\n                 */\n                // @ts-ignore\n                Number.parseInt(id) === 0\n                    ? window.innerHeight + 1\n                    : top + height - window.innerHeight;\n\n            /**\n             * Scroll\n             */\n            // @ts-ignore\n            bodyScroll.to(scrollValue, { duration: 2000 });\n        });\n\n        return () => {\n            destroy();\n            setQuickNavState('active', false);\n            setQuickNavState('prevRoute', '');\n            setQuickNavState('nextRoute', '');\n            setQuickNavState('color', 'black');\n            setMainTitleState('align', '');\n            setMainTitleState('title', '');\n            setCodeButtonState('drawers', []);\n        };\n    });\n\n    /**\n     * Skip mobile.\n     */\n    if (motionCore.mq('max', 'desktop'))\n        return html`<div><only-desktop></only-desktop></div>`;\n\n    /**\n     * Desktop\n     */\n    return html`<div class=\"l-h-scroller\">\n        <only-desktop></only-desktop>\n        <div class=\"l-h-scroller__top\">scroll down</div>\n        <ul class=\"l-h-scroller__nav js-nav\" ref=\"js_nav\">\n            ${getNav({\n                numOfCol: 10,\n                setState,\n                bindProps,\n                staticProps,\n                delegateEvents,\n            })}\n        </ul>\n        <div class=\"l-h-scroller__root js-root\" ref=\"js_root\">\n            <div\n                class=\"l-h-scroller__container js-container\"\n                ref=\"js_container\"\n            >\n                <div class=\"l-h-scroller__row js-row\" ref=\"js_row\">\n                    ${getColumns({\n                        numOfCol: 10,\n                        pinIsVisible: !animatePin,\n                        staticProps,\n                    })}\n                    <section\n                        class=\"l-h-scroller__fakeColumn js-column\"\n                        ref=\"js_column\"\n                    ></section>\n                </div>\n                <div\n                    class=\"l-h-scroller__trigger js-trigger\"\n                    ref=\"js_trigger\"\n                ></div>\n            </div>\n        </div>\n        <div class=\"l-h-scroller__bottom\">scroll up</div>\n\n        <footer-shape-v1\n            ${staticProps({ position: 'left', svg: svgLeft })}\n        ></footer-shape-v1>\n        <footer-shape-v1\n            ${staticProps({ position: 'right', svg: svgRight })}\n        ></footer-shape-v1>\n    </div>`;\n};\n", "//@ts-check\n\n/**\n * @type {import(\"../../../../mobjs/type\").mobComponent<import(\"./type\").HorizontalScrollerButton>}\n */\nexport const HorizontalScrollerButtonFn = ({\n    getState,\n    watch,\n    html,\n    onMount,\n}) => {\n    const { id } = getState();\n\n    onMount(({ ref }) => {\n        const { button } = ref;\n\n        watch('active', (active) => {\n            button.classList.toggle('active', active);\n        });\n\n        return () => {};\n    });\n\n    return html`\n        <li>\n            <button\n                type=\"button\"\n                data-id=\"${id}\"\n                class=\"l-h-scroller__nav__btn\"\n                ref=\"button\"\n            >\n                ${id}\n            </button>\n        </li>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { HorizontalScrollerButtonFn } from './horizontalScrollerButton';\n\nexport const HorizontalScrollerButton = createComponent({\n    name: 'horizontal-scroller-button',\n    component: HorizontalScrollerButtonFn,\n    exportState: ['id', 'active'],\n    state: {\n        id: () => ({\n            value: -1,\n            type: Number,\n        }),\n        active: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n});\n", "//@ts-check\n\n/**\n * @type {import(\"../../../../mobjs/type\").mobComponent<import(\"./type\").HorizontalScrollerSection>}\n */\nexport const HorizontalScrollerSectionFn = ({ html, getState }) => {\n    const { id, pinClass } = getState();\n\n    return html`\n        <section\n            class=\"l-h-scroller__column js-column\"\n            data-shadow=\"section-${id}\"\n        >\n            <div class=\"l-h-scroller__wrap\">\n                <span class=\"l-h-scroller__indicator js-indicator ${pinClass}\">\n                    <span></span>\n                </span>\n                <div class=\"l-h-scroller__title js-title\">\n                    <h1>${id}</h1>\n                </div>\n            </div>\n        </section>\n    `;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { HorizontalScrollerSectionFn } from './horizontalScrollerSection';\n\nexport const HorizontalScrollerSection = createComponent({\n    name: 'horizontal-scroller-section',\n    component: HorizontalScrollerSectionFn,\n    exportState: ['id', 'pinClass'],\n    state: {\n        id: () => ({\n            id: -1,\n            type: Number,\n        }),\n        pinClass: () => ({\n            id: '',\n            type: String,\n        }),\n    },\n});\n", "//@ts-check\n\nimport { createComponent } from '../../../mobjs';\nimport { FooterShapeV1 } from '../../common/shapes/definition';\nimport { HorizontalScrollerFn } from './horizontalScroller';\nimport { HorizontalScrollerButton } from './horizontalScrollerButton/definition';\nimport { HorizontalScrollerSection } from './horizontalScrollerSection/definition';\n\nexport const HorizontalScroller = createComponent({\n    name: 'horizontal-scroller',\n    component: HorizontalScrollerFn,\n    exportState: [\n        'nextRoute',\n        'prevRoute',\n        'currentId',\n        'currentIdFromScroll',\n        'animatePin',\n        'svgLeft',\n        'svgRight',\n    ],\n    state: {\n        nextRoute: () => ({\n            value: '',\n            type: String,\n        }),\n        prevRoute: () => ({\n            value: '',\n            type: String,\n        }),\n        svgLeft: () => ({\n            value: 0,\n            type: '',\n        }),\n        svgRight: () => ({\n            value: 0,\n            type: '',\n        }),\n        currentId: () => ({\n            value: 0,\n            type: Number,\n        }),\n        currentIdFromScroll: () => ({\n            value: 0,\n            type: Number,\n        }),\n        animatePin: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n    child: [HorizontalScrollerButton, HorizontalScrollerSection, FooterShapeV1],\n});\n", "export const horizontalScrollerParams = [\n    {\n        title: 'horizontalScroller with fixed pin',\n        animatePin: false,\n        nav: {\n            prevRoute: '',\n            nextRoute: '#horizontalScroller?version=1&activeId=1',\n        },\n    },\n    {\n        title: 'horizontalScroller with animated pin',\n        animatePin: true,\n        nav: {\n            prevRoute: '#horizontalScroller?version=0&activeId=0',\n            nextRoute: '',\n        },\n    },\n];\n", "import { HorizontalScroller } from '../../../component/pages/horizontalScroller/definition';\nimport { html, staticProps, useComponent } from '../../../mobjs';\nimport { loadTextContent } from '../../../utils/utils';\nimport { horizontalScrollerParams } from './horizontalScrollerParams';\n\nuseComponent([HorizontalScroller]);\n\nexport const horizontalScroller = async ({ params }) => {\n    const { version } = params;\n\n    const props =\n        horizontalScrollerParams[\n            Math.max(\n                0,\n                Math.min(Number(version), horizontalScrollerParams.length - 1)\n            )\n        ];\n\n    const { data: data_left } = await loadTextContent({\n        source: './asset/svg/footer_shape_left.svg',\n    });\n\n    const { data: data_right } = await loadTextContent({\n        source: './asset/svg/footer_shape_right.svg',\n    });\n\n    return html`<div>\n        <horizontal-scroller\n            ${staticProps({\n                animatePin: props.animatePin,\n                svgLeft: data_left,\n                svgRight: data_right,\n                prevRoute: props.nav.prevRoute,\n                nextRoute: props.nav.nextRoute,\n            })}\n        ></horizontal-scroller>\n    </div>`;\n};\n", "import { mobCore } from '../../../../../mobCore';\nimport { timeline, tween } from '../../../../../mobMotion';\nimport { detectSafari } from '../../../../../utils/utils';\n\nexport const childAnimations = ({ groups, trails }) => {\n    const RAD2DEG = 180 / Math.PI;\n\n    /**\n     * Generic utils.\n     */\n    let windowWidth = window.innerWidth;\n    let windowHeight = window.innerHeight;\n\n    /**\n     * Rotation utils.\n     */\n    let lastY = 0;\n    let lastX = 0;\n    let lastRotation = 0;\n    let loopToAdd = 0;\n\n    /**\n     * Enable trail.\n     */\n    let trailCanMove = false;\n\n    /**\n     * Get trail path.\n     */\n    let tranilRotateElement = trails.map((item) => {\n        return item.querySelector('svg');\n    });\n\n    /**\n     * Create position tween.\n     */\n    let mouseTween = tween.createSpring({\n        data: { x: 0, y: 0 },\n        stagger: { each: 3, from: 'start' },\n    });\n\n    trails.forEach((item) => {\n        mouseTween.subscribe(({ x, y }) => {\n            item.style.translate = `${x}px ${y}px`;\n        });\n    });\n\n    /**\n     * Create rotation tween.\n     */\n    let mouseTweenRotate = tween.createSpring({\n        data: { rotation: 0 },\n        stagger: { each: 8, from: 'start' },\n    });\n\n    tranilRotateElement.forEach((item) => {\n        mouseTweenRotate.subscribeCache(item, ({ rotation }) => {\n            item.style.rotate = `${rotation}deg`;\n        });\n    });\n\n    /**\n     * Create trail intro tween.\n     */\n    let trailIntro = tween.createTween({\n        data: { opacity: 0, scale: 1.4 },\n    });\n\n    trails.forEach((item) => {\n        trailIntro.subscribe(({ scale, opacity }) => {\n            item.style.scale = `${scale}`;\n            item.style.opacity = opacity;\n        });\n    });\n\n    /**\n     * Resize event.\n     */\n    const unsubScribeResize = mobCore.useResize(() => {\n        windowWidth = window.innerWidth;\n        windowHeight = window.innerHeight;\n    });\n\n    /**\n     * Mouse move.\n     */\n    const unsubscribeMouseMove = mobCore.useMouseMove(({ client }) => {\n        if (!trailCanMove) return;\n\n        const { x, y } = client;\n\n        /**\n         * Get X\n         */\n        /**\n         * Get Rad\n         */\n        const yDiff = y - lastY;\n        const xDiff = x - lastX;\n\n        /**\n         * Rotation tween.\n         */\n        if (Math.abs(xDiff) > 10 || Math.abs(yDiff) > 10) {\n            lastY = y;\n            lastX = x;\n            const rotationBase = Math.atan2(yDiff, xDiff) * RAD2DEG;\n            const rotationParsed = rotationBase + 180;\n            const difference = Math.abs(lastRotation - rotationParsed);\n\n            /**\n             * Fix 360 to 0;\n             */\n            if (difference > 180 && lastRotation < rotationParsed)\n                loopToAdd -= difference;\n\n            /**\n             * Fix 360 to 0;\n             */\n            if (difference > 180 && lastRotation > rotationParsed)\n                loopToAdd += difference;\n\n            /**\n             * Add or remove 360.\n             */\n            const rotationDef = rotationParsed + loopToAdd + 90;\n            mouseTweenRotate.goTo({ rotation: rotationDef });\n            lastRotation = rotationParsed;\n        }\n\n        mouseTween.goTo({ x: x - windowWidth / 2, y: y - windowHeight / 2 });\n    });\n\n    /**\n     * Intro tween.\n     */\n    let introTween = tween.createTween({\n        data: { opacity: 0, scale: 0.95 },\n        duration: 2000,\n        ease: 'easeOutQuart',\n        stagger: { waitComplete: true, each: 5, from: 'center' },\n    });\n\n    groups.forEach((item) => {\n        introTween.subscribeCache(item, ({ scale, opacity }) => {\n            item.style.scale = `${scale}`;\n            item.style.opacity = opacity;\n        });\n    });\n\n    let introTl = timeline\n        .createAsyncTimeline({ repeat: 1 })\n        .createGroup()\n        .goTo(introTween, {\n            opacity: 1,\n            scale: 1,\n        })\n        .goTo(trailIntro, {\n            scale: 1,\n            opacity: 1,\n        })\n        .closeGroup();\n\n    return {\n        playIntro: async () => {\n            return introTl.play().then(() => {\n                const timeOutValue = detectSafari() ? 500 : 0;\n\n                setTimeout(() => {\n                    trailCanMove = true;\n                }, timeOutValue);\n            });\n        },\n        destroy: () => {\n            introTween.destroy();\n            introTween = null;\n            introTl.destroy();\n            introTl = null;\n            mouseTween.destroy();\n            mouseTween = null;\n            mouseTweenRotate.destroy();\n            mouseTweenRotate = null;\n            trailIntro.destroy();\n            trailIntro = null;\n            unsubScribeResize();\n            unsubscribeMouseMove();\n            windowWidth = null;\n            windowHeight = null;\n            lastY = null;\n            lastX = null;\n            lastRotation = null;\n            loopToAdd = null;\n            tranilRotateElement = null;\n        },\n    };\n};\n", "//@ts-check\n\nimport { html, setStateByName } from '../../../../mobjs';\nimport { motionCore } from '../../../../mobMotion';\nimport { childAnimations } from './animation/animation';\n\nconst numberOfStar = 10;\n\nconst playAnimation = async ({ playIntro }) => {\n    await playIntro();\n};\n\nconst getTrail = ({ star }) => {\n    return [...new Array(numberOfStar).keys()]\n        .map((_item, index) => {\n            return html`\n                <div\n                    class=\"child-trail child-trail--${index}\"\n                    ref=\"trail${index}\"\n                >\n                    ${star}\n                </div>\n            `;\n        })\n        .join('');\n};\n\n/**\n * @type {import(\"../../../../mobjs/type\").mobComponent<import('./type').SvgChild>}\n */\nexport const SvgChild = ({ onMount, html, getState }) => {\n    const isDesktop = motionCore.mq('min', 'desktop');\n\n    const { svg, star } = isDesktop ? getState() : { svg: '', star: '' };\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/nextPage/type').QuickNav>}\n     */\n    const setQuickNavState = setStateByName('quick_nav');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/animationTitle/type').AnimationTitle>}\n     */\n    const setMainTitleState = setStateByName('animation_title');\n\n    onMount(({ refs, ref }) => {\n        if (!isDesktop) return;\n\n        /**\n         * Quicknav\n         */\n        setQuickNavState('active', true);\n        setQuickNavState('nextRoute', '#mv1');\n        setQuickNavState('color', 'black');\n\n        /**\n         * Title.\n         */\n        setMainTitleState('align', 'left');\n        setMainTitleState('color', 'black');\n        setMainTitleState('title', 'Child');\n\n        const { stagger } = refs;\n\n        const {\n            trail0,\n            trail1,\n            trail2,\n            trail3,\n            trail4,\n            trail5,\n            trail6,\n            trail7,\n            trail8,\n            trail9,\n        } = ref;\n\n        const childMethods = childAnimations({\n            groups: stagger,\n            trails: [\n                trail0,\n                trail1,\n                trail2,\n                trail3,\n                trail4,\n                trail5,\n                trail6,\n                trail7,\n                trail8,\n                trail9,\n            ],\n        });\n\n        const { playIntro, destroy } = childMethods;\n        playAnimation({ playIntro });\n\n        return () => {\n            setQuickNavState('active', false);\n            setQuickNavState('prevRoute', '');\n            setQuickNavState('nextRoute', '');\n            setMainTitleState('align', '');\n            setMainTitleState('title', '');\n            destroy();\n        };\n    });\n\n    /**\n     * Desktop\n     */\n    return html`<div class=\"svg-child-container\">\n        <only-desktop></only-desktop>\n        <div class=\"svg-child\">${svg}</div>\n        ${getTrail({ star })}\n    </div>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { OnlyDesktop } from '../../../common/onlyDesktop/definition';\nimport { SvgChild } from './child';\n\nexport const svgChild = createComponent({\n    name: 'svg-child',\n    component: SvgChild,\n    exportState: ['svg', 'star'],\n    state: {\n        star: () => ({\n            value: '',\n            type: String,\n        }),\n        svg: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n    child: [OnlyDesktop],\n});\n", "import { svgChild } from '../../../component/pages/svg/child/definition';\nimport { html, staticProps, useComponent } from '../../../mobjs';\nimport { loadTextContent } from '../../../utils/utils';\n\nuseComponent([svgChild]);\n\nexport const child = async () => {\n    const { data: svg } = await loadTextContent({\n        source: './asset/svg/child.svg',\n    });\n\n    const { data: star } = await loadTextContent({\n        source: './asset/svg/star.svg',\n    });\n\n    return html`<div>\n        <svg-child ${staticProps({ svg, star })}></svg-child>\n    </div>`;\n};\n", "import { timeline, tween } from '../../../../../mobMotion';\n\nexport const mv1Animation = ({ logoRefs, around }) => {\n    const logoRefsByKey = logoRefs.map((item) => {\n        const [key, value] = Object.entries(item)[0];\n        return { key, item: value };\n    });\n\n    /**\n     * Intro tween.\n     */\n    let logoIntroTween = tween.createTween({\n        data: { opacity: 0, scale: 0.5, x: -10 },\n        duration: 2000,\n        ease: 'easeOutQuart',\n        stagger: { each: 8, from: 'end' },\n    });\n\n    /**\n     * Intro default tween.\n     */\n    let logoTween = tween.createTween({\n        data: { scale: 1, x: 0 },\n        duration: 4000,\n        ease: 'easeInOutQuad',\n        stagger: { each: 40, from: 'end' },\n    });\n\n    /**\n     * Side tween.\n     */\n    let aroundIntroTween = tween.createTween({\n        data: { scale: 0.5, opacity: 0 },\n        duration: 1000,\n        ease: 'easeInOutQuad',\n        stagger: { each: 4 },\n    });\n\n    /**\n     * Side tween.\n     */\n    let aroundTween = tween.createTween({\n        data: { scale: 1 },\n        duration: 4000,\n        ease: 'easeInOutQuad',\n        stagger: { each: 20 },\n    });\n\n    /**\n     * Subscribe intro tween.\n     */\n    logoRefsByKey.forEach(({ key, item }) => {\n        logoTween.subscribe(({ scale, x }) => {\n            item.style.scale = `${scale}`;\n\n            if (key !== 'M_right' && key !== 'M_left') return;\n            const xVal = key === 'M_right' ? -x : x;\n            item.style.translate = `${xVal}px 0px`;\n        });\n    });\n\n    /**\n     * Subscribe default tween.\n     */\n    logoRefsByKey.forEach(({ key, item }) => {\n        logoIntroTween.subscribe(({ scale, x, opacity }) => {\n            item.style.scale = `${scale}`;\n            item.style.opacity = opacity;\n\n            if (key !== 'M_right' && key !== 'M_left') return;\n            const xVal = key === 'M_right' ? -x : x;\n            item.style.translate = `${xVal}px 0px`;\n        });\n    });\n\n    /**\n     * Subscribe intro side tween.\n     */\n    around.forEach((item) => {\n        aroundIntroTween.subscribe(({ scale, opacity }) => {\n            item.style.scale = `${scale}`;\n            item.style.opacity = opacity;\n        });\n    });\n\n    /**\n     * Subscribe default side tween.\n     */\n    around.forEach((item) => {\n        aroundTween.subscribe(({ scale }) => {\n            item.style.scale = `${scale}`;\n        });\n    });\n\n    /**\n     * Default timeline.\n     */\n    let introTl = timeline\n        .createAsyncTimeline({ repeat: 1 })\n        .createGroup({ waitComplete: true })\n        .goTo(logoIntroTween, {\n            opacity: 1,\n            scale: 1,\n            x: 0,\n        })\n        .goTo(aroundIntroTween, {\n            opacity: 1,\n            scale: 1,\n        })\n        .closeGroup();\n\n    /**\n     * Default timeline.\n     */\n    let tl = timeline\n        .createAsyncTimeline({ repeat: -1, yoyo: true })\n        .createGroup({ waitComplete: false })\n        .goTo(logoTween, {\n            scale: 0.95,\n            x: 0.5,\n        })\n        .goTo(aroundTween, {\n            scale: 0.95,\n        })\n        .closeGroup()\n        .createGroup({ waitComplete: false })\n        .goTo(logoTween, {\n            scale: 1.05,\n            x: -0.5,\n        })\n        .goTo(aroundTween, {\n            scale: 1.05,\n        })\n        .closeGroup();\n\n    return {\n        playIntro: async () => {\n            return introTl.play();\n        },\n        playSvg: () => tl.play(),\n        destroySvg: () => {\n            tl.stop();\n            logoTween.destroy();\n            tl.destroy();\n            introTl.destroy();\n            aroundIntroTween.destroy();\n            logoTween = null;\n            logoIntroTween = null;\n            aroundTween = null;\n            aroundIntroTween = null;\n            tl = null;\n            introTl = null;\n        },\n    };\n};\n", "//@ts-check\n\nimport { setStateByName } from '../../../../mobjs';\nimport { motionCore } from '../../../../mobMotion';\nimport { mv1Animation } from './animation';\n\nconst playAnimation = async ({ playIntro, playSvg }) => {\n    await playIntro();\n    playSvg();\n};\n\n/**\n * @type {import('../../../../mobjs/type').mobComponent<import('./style').Mv1Def>}\n */\nexport const Mv1Component = ({ html, onMount, getState }) => {\n    const isDesktop = motionCore.mq('min', 'desktop');\n    const { logo, sideShape } = isDesktop\n        ? getState()\n        : { logo: '', sideShape: '' };\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/nextPage/type').QuickNav>}\n     */\n    const setQuickNavState = setStateByName('quick_nav');\n\n    /**\n     * @type {import('../../../../mobjs/type').SetStateByName<import('../../../common/animationTitle/type').AnimationTitle>}\n     */\n    const setMainTitleState = setStateByName('animation_title');\n\n    onMount(({ refs, ref }) => {\n        if (!isDesktop) return;\n\n        /**\n         * Quicknav\n         */\n        setQuickNavState('active', true);\n        setQuickNavState('prevRoute', '#child');\n        setQuickNavState('color', 'black');\n\n        /**\n         * Title.\n         */\n        setMainTitleState('align', 'left');\n        setMainTitleState('color', 'white');\n        setMainTitleState('title', 'Mv1');\n\n        const {\n            block1,\n            block2,\n            block3,\n            block4,\n            block5,\n            block6,\n            block7,\n            block8,\n            M_left,\n            M_right,\n        } = ref;\n\n        const { around } = refs;\n\n        const { playIntro, playSvg, destroySvg } = mv1Animation({\n            logoRefs: [\n                { block1 },\n                { block2 },\n                { block3 },\n                { block4 },\n                { block5 },\n                { block6 },\n                { block7 },\n                { block8 },\n                { M_left },\n                { M_right },\n            ],\n            around,\n        });\n\n        playAnimation({ playIntro, playSvg });\n\n        return () => {\n            setQuickNavState('active', false);\n            setQuickNavState('prevRoute', '');\n            setQuickNavState('nextRoute', '');\n            setMainTitleState('align', '');\n            setMainTitleState('title', '');\n            destroySvg();\n        };\n    });\n\n    return html`<div class=\"mv1\">\n        <only-desktop></only-desktop>\n        <div class=\"mv1__top-left\">${sideShape}</div>\n        <div class=\"mv1__logo\">${logo}</div>\n        <div class=\"mv1__top-right\">${sideShape}</div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { createComponent } from '../../../../mobjs';\nimport { OnlyDesktop } from '../../../common/onlyDesktop/definition';\nimport { Mv1Component } from './mv1';\n\nexport const Mv1Def = createComponent({\n    name: 'mv1-component',\n    component: Mv1Component,\n    exportState: ['logo', 'sideShape'],\n    state: {\n        logo: () => ({\n            value: '',\n            type: String,\n        }),\n        sideShape: () => ({\n            value: '',\n            type: String,\n        }),\n    },\n    child: [OnlyDesktop],\n});\n", "import { Mv1Def } from '../../../component/pages/svg/mv1/definition';\nimport { html, staticProps, useComponent } from '../../../mobjs';\nimport { loadTextContent } from '../../../utils/utils';\n\nuseComponent([Mv1Def]);\n\nexport const mv1 = async () => {\n    const { data: logo } = await loadTextContent({\n        source: './asset/svg/logo-color.svg',\n    });\n\n    const { data: sideShape } = await loadTextContent({\n        source: './asset/svg/piece-arrow.svg',\n    });\n\n    return html`<div>\n        <mv1-component ${staticProps({ logo, sideShape })}></mv1-component>\n    </div>`;\n};\n", "import { pageNotFound } from './404';\nimport { layoutSidebarAnchor } from './Layout/layoutSidebarAnchor';\nimport { layoutSidebarLinks } from './Layout/layoutSidebarLinks';\nimport { animatedPatternN0 } from './canvas/animatedPatternN0';\nimport { animatedPatternN1 } from './canvas/animatedPatternN1';\nimport { caterpillarN0 } from './canvas/caterpillarN0';\nimport { caterpillarN1 } from './canvas/caterpillarN1';\nimport { caterpillarN2 } from './canvas/caterpillarN2';\nimport { canvas_overview } from './canvas/overview';\nimport { scrollerN0 } from './canvas/scroller';\nimport { scrollerN1 } from './canvas/scrollerN1';\nimport { dynamic_list } from './dynamicList';\nimport { home } from './home';\nimport { horizontalScroller } from './plugin/horizontalScroller';\nimport { child } from './svg/child';\nimport { mv1 } from './svg/mv1';\n\nconst mobJsComponentBreadCrumbs = [\n    {\n        url: './#mobJs-overview',\n        title: 'mobJs',\n    },\n    {\n        url: './#mobJs-component',\n        title: 'component',\n    },\n];\n\n/**\n * @type {import('../mobjs/type').routeType[]}\n */\nexport const routes = [\n    {\n        name: 'pageNotFound',\n        layout: pageNotFound,\n        props: {},\n    },\n    {\n        name: 'about',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/about.json',\n            title: 'About',\n            section: '',\n            breadCrumbs: '',\n        },\n    },\n    {\n        name: 'animatedPatternN0',\n        layout: animatedPatternN0,\n        props: {},\n    },\n    {\n        name: 'animatedPatternN1',\n        layout: animatedPatternN1,\n        props: {},\n    },\n    {\n        name: 'caterpillarN0',\n        layout: caterpillarN0,\n        props: {},\n    },\n    {\n        name: 'caterpillarN1',\n        layout: caterpillarN1,\n        props: {},\n    },\n    {\n        name: 'caterpillarN2',\n        layout: caterpillarN2,\n        props: {},\n    },\n    {\n        name: 'canvas-overview',\n        layout: canvas_overview,\n        props: {},\n    },\n    {\n        name: 'scrollerN0',\n        layout: scrollerN0,\n        props: {},\n    },\n    {\n        name: 'scrollerN1',\n        layout: scrollerN1,\n        props: {},\n    },\n    {\n        name: 'dynamic-list',\n        layout: dynamic_list,\n        props: {},\n    },\n    {\n        name: 'home',\n        layout: home,\n        props: {},\n    },\n    {\n        name: 'mobCore-overview',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobCore/overview.json',\n            title: 'mobCore',\n            section: '',\n            breadCrumbs: '',\n        },\n    },\n    {\n        name: 'mobCore-defaults',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobCore/defaults.json',\n            title: 'Defaults',\n            section: 'mobCore',\n            breadCrumbs: './#mobCore-overview',\n        },\n    },\n    {\n        name: 'mobCore-events',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobCore/events.json',\n            title: 'Events',\n            section: 'mobCore',\n            breadCrumbs: './#mobCore-overview',\n        },\n    },\n    {\n        name: 'mobCore-store',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobCore/store.json',\n            title: 'Store',\n            section: 'mobCore',\n            breadCrumbs: './#mobCore-overview',\n        },\n    },\n    {\n        name: 'mobJs-overview',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/overview.json',\n            title: 'mobJs',\n            section: '',\n            breadCrumbs: '',\n        },\n    },\n    {\n        name: 'mobJs-initialization',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/initialization.json',\n            title: 'initialization',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-component',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/component.json',\n            title: 'component',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-web-component',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/webComponent.json',\n            title: 'webComponent',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-routing',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/routing.json',\n            title: 'routing',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-class-list',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/classList.json',\n            title: 'classList',\n            section: 'classList',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-refs',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/refs.json',\n            title: 'refs',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-slot',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/slot.json',\n            title: 'slot',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-runtime',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/runtime.json',\n            title: 'runtime',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-instanceName',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/instanceName.json',\n            title: 'instanceName',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-setStateByName',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/setStateByName.json',\n            title: 'setStateByName',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-tick',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/tick.json',\n            title: 'tick',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-utils',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/utils.json',\n            title: 'utils',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-debug',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobJs/debug.json',\n            title: 'debug',\n            section: 'mobJs',\n            breadCrumbs: './#mobJs-overview',\n        },\n    },\n    {\n        name: 'mobJs-html',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/html.json',\n            title: 'html',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-onMount',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/onMount.json',\n            title: 'onMount',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-getState',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/getState.json',\n            title: 'getState',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-setState',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/setState.json',\n            title: 'setState',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-watch',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/watch.json',\n            title: 'watch',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-watchSync',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/watchSync.json',\n            title: 'watchSync',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-staticProps',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/staticProps.json',\n            title: 'staticProps',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-bindProps',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/bindProps.json',\n            title: 'bindProps',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-bindEvents',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/bindEvents.json',\n            title: 'bindEvents',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-delegateEvents',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/delegateEvents.json',\n            title: 'delegateEvents',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-repeat',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/repeat.json',\n            title: 'repeat',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-unBind',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/unBind.json',\n            title: 'unBind',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-emit',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/emit.json',\n            title: 'emit',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-emitAsync',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/emitAsync.json',\n            title: 'emitAsync',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-computed',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/computed.json',\n            title: 'computed',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-renderComponent',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/renderDom.json',\n            title: 'renderDom',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-removeDom',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/removeDom.json',\n            title: 'removeDom',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-remove',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/remove.json',\n            title: 'remove',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-getChildren',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/getChildren.json',\n            title: 'getChildren',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-freezeProp',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/freezeProp.json',\n            title: 'freezeProp',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-unFreezeProp',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/unFreezeProp.json',\n            title: 'unFreezeProp',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-getParentId',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/getParentId.json',\n            title: 'getParentId',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobJs-watchParent',\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mobJs/watchParent.json',\n            title: 'watchParent',\n            section: 'mobjs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n        },\n    },\n    {\n        name: 'mobMotion-stagger',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobMotion/stagger.json',\n            title: 'Stagger',\n            section: 'mobMotion',\n            breadCrumbs: './#mobMotion-overview',\n        },\n    },\n    {\n        name: 'mobMotion-defaults',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobMotion/defaults.json',\n            title: 'Defaults',\n            section: 'mobMotion',\n            breadCrumbs: './#mobMotion-overview',\n        },\n    },\n    {\n        name: 'mobMotion-overview',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobMotion/overview.json',\n            title: 'mobMotion',\n            section: '',\n            breadCrumbs: '',\n        },\n    },\n    {\n        name: 'mobMotion-parallax',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobMotion/parallax.json',\n            title: 'Parallax',\n            section: 'mobMotion',\n            breadCrumbs: './#mobMotion-overview',\n        },\n    },\n    {\n        name: 'mobMotion-sequencer',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobMotion/sequencer.json',\n            title: 'Sequencer',\n            section: 'mobMotion',\n            breadCrumbs: './#mobMotion-overview',\n        },\n    },\n    {\n        name: 'mobMotion-scrolltrigger',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobMotion/scrollTrigger.json',\n            title: 'ScrollTrigger',\n            section: 'mobMotion',\n            breadCrumbs: './#mobMotion-overview',\n        },\n    },\n    {\n        name: 'mobMotion-sync-timeline',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobMotion/syncTimeline.json',\n            title: 'Sync timeline',\n            section: 'mobMotion',\n            breadCrumbs: './#mobMotion-overview',\n        },\n    },\n    {\n        name: 'mobMotion-create-stagger',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobMotion/createStagger.json',\n            title: 'CreateStagger',\n            section: 'mobMotion',\n            breadCrumbs: './#mobMotion-overview',\n        },\n    },\n    {\n        name: 'mobMotion-async-timeline',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobMotion/asyncTimeline.json',\n            title: 'Async timeline',\n            section: 'mobMotion',\n            breadCrumbs: './#mobMotion-overview',\n        },\n    },\n    {\n        name: 'mobMotion-tween-spring-lerp',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mobMotion/tweenSpringLerp.json',\n            title: 'Tween Spring Lerp',\n            section: 'mobMotion',\n            breadCrumbs: './#mobMotion-overview',\n        },\n    },\n    {\n        name: 'horizontalScroller',\n        layout: horizontalScroller,\n        props: {},\n    },\n    {\n        name: 'plugin-overview',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/plugin/overview.json',\n            title: 'Plugin',\n            section: '',\n            breadCrumbs: '',\n        },\n    },\n    {\n        name: 'child',\n        layout: child,\n        props: {},\n    },\n    {\n        name: 'mv1',\n        layout: mv1,\n        props: {},\n    },\n    {\n        name: 'svg-overview',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/svg/overview.json',\n            title: 'Svg',\n            section: '',\n            breadCrumbs: '',\n        },\n    },\n];\n", "// @ts-check\n\nimport { loadData } from './data';\nimport { motionCore, tween } from './mobMotion';\nimport { inizializeApp, setDefaultComponent } from './mobjs';\nimport { wrapper } from './wrapper';\nimport { mobCore } from './mobCore';\nimport { setBrowserClass } from './utils/utils';\nimport { getScrollbarWith } from './utils/scrollbarWith';\nimport { beforePageTransition, pageTransition } from './pageTransition';\nimport { routes } from './pages';\n// import { stateTest } from './test/mapTest/mapTest';\n// import { initTestMapStore } from './test/mapStore';\n// import { storeTest } from './test/storeTest';\n\n/**\n * Set default\n */\nmobCore.useLoad(() => {\n    setBrowserClass();\n\n    motionCore.setDefault({\n        deferredNextTick: true,\n        usePassive: true,\n        mq: {\n            desktop: 1024,\n        },\n        spring: {\n            config: {\n                customSpring: {\n                    friction: 1,\n                    mass: 1,\n                    precision: 0.01,\n                    tension: 180,\n                    velocity: 0,\n                },\n            },\n        },\n    });\n\n    motionCore.printDefault();\n\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    const init = async () => {\n        const jsMainLoader = document.body.querySelector('.js-main-loader');\n        const jsMainLoaderBackground = document.body.querySelector(\n            '.js-main-loader-background'\n        );\n\n        let loaderTween = tween.createTween({\n            data: { opacity: 1, scale: 1 },\n            duration: 1000,\n        });\n\n        if (jsMainLoader && jsMainLoaderBackground) {\n            [jsMainLoader, jsMainLoaderBackground].forEach((item) => {\n                loaderTween?.subscribe(({ opacity, scale }) => {\n                    // @ts-ignore\n                    item.style.opacity = opacity;\n                    // @ts-ignore\n                    item.style.transform = `scale(${scale})`;\n                });\n            });\n        }\n\n        await loadData();\n\n        setDefaultComponent({\n            scoped: false,\n            maxParseIteration: 1000,\n            debug: true,\n        });\n\n        inizializeApp({\n            rootId: '#root',\n            contentId: '#content',\n            wrapper,\n            routes,\n            index: 'home',\n            pageNotFound: 'pageNotFound',\n            beforePageTransition,\n            pageTransition,\n            afterInit: async () => {\n                await loaderTween.goTo({ opacity: 0, scale: 0.9 });\n                jsMainLoader?.remove();\n                jsMainLoaderBackground?.remove();\n                // @ts-ignore\n                loaderTween = null;\n                getScrollbarWith();\n            },\n            restoreScroll: true,\n        });\n    };\n\n    init();\n\n    // storeTest();\n    // initTestMapStore();\n    // stateTest();\n});\n"],
  "mappings": "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AAQ,MAAM,QAAUG,EACxBH,EAAQ,MAAM,UAAY,SAASI,CAAK,GAC5C,CAAC,EAEDR,EAAM,eAAgB,MAAOS,GAAiB,CACrCA,IAEL,MAAMJ,EAAS,KAAK,CAAE,QAAS,EAAG,MAAO,EAAI,CAAC,EAC9CJ,EAAO,EACX,CAAC,EAEM,IAAM,CACTI,EAAS,QAAQ,EAEjBA,EAAW,IACf,CACJ,CAAC,EAEMN;AAAA,+BACoBI,CAAQ;AAAA;AAAA;AAAA,KAIvC,ECnCO,IAAMO,GAASC,EAAgB,CAClC,KAAM,aACN,UAAWC,GACX,YAAa,CAAC,WAAY,cAAc,EACxC,MAAO,CACH,aAAc,KAAO,CACjB,MAAO,GACP,KAAM,OACV,GACA,SAAU,KAAO,CACb,MAAO,kBACP,KAAM,OACN,SAAWC,GACA,CAAC,kBAAmB,kBAAkB,EAAE,SAASA,CAAG,CAEnE,EACJ,CACJ,CAAC,ECrBD,IAAAC,GAAwB,WAExB,IAAOC,GAAQ,GAAAC,QCHf,IAAMC,GAAW,2BACXC,GAAW,CACf,KACA,KACA,KACA,KACA,MACA,QACA,UACA,MACA,MACA,WACA,KACA,SACA,OACA,OACA,QACA,QACA,aACA,OACA,QACA,OACA,UACA,MACA,SACA,WACA,SACA,SACA,MACA,QACA,QACA,QAIA,WACA,QACA,QACA,SACA,SACA,OACA,SACA,SACF,EACMC,GAAW,CACf,OACA,QACA,OACA,YACA,MACA,UACF,EAGMC,GAAQ,CAEZ,SACA,WACA,UACA,SAEA,OACA,OACA,SACA,SAEA,SACA,SAEA,QACA,eACA,eACA,YACA,aACA,oBACA,aACA,aACA,cACA,cACA,gBACA,iBAEA,MACA,MACA,UACA,UAEA,cACA,oBACA,UACA,WACA,OAEA,UACA,YACA,oBACA,gBAEA,UACA,QAEA,OAEA,aACF,EAEMC,GAAc,CAClB,QACA,YACA,gBACA,aACA,iBACA,cACA,YACA,UACF,EAEMC,GAAmB,CACvB,cACA,aACA,gBACA,eAEA,UACA,UAEA,OACA,WACA,QACA,aACA,WACA,YACA,qBACA,YACA,qBACA,SACA,UACF,EAEMC,GAAqB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ACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,CACJ,EAEaC,GAAS,CAClB,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,CACJ,EAEaC,GAAS,CAClB,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,CACJ,EAEaC,GAAS,CAClB,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,EACA,CACI,IAAK,IACL,MAAO,GACX,CACJ,EC9HA,IAAMC,GAAU,CACZ,CACI,YAAa,UACb,KAAMC,EACV,EACA,CACI,YAAa,WACb,KAAMC,EACV,EACA,CACI,YAAa,UACb,KAAMC,EACV,EACA,CACI,YAAa,UACb,KAAMC,EACV,CACJ,EAEMC,GAAY,CACd,CACI,MAAO,wBACP,IAAK,MACL,MAAO,EACX,EACA,CACI,MAAO,2BACP,IAAK,GACL,MAAO,EACX,EACA,CACI,MAAO,qBACP,IAAK,GACL,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CACJ,EACA,CACI,KAAM,cACN,OAAQA,GACR,MAAO,CACH,OAAQ,0BACR,MAAO,QACP,QAAS,QACT,YAAa,mBACjB,CACJ,EACA,CACI,KAAM,aACN,OAAQW,GACR,MAAO,CACH,OAAQ,yBACR,MAAO,OACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,gBACN,OAAQc,GACR,MAAO,CACH,OAAQ,4BACR,MAAO,UACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,iBACN,OAAQc,GACR,MAAO,CACH,OAAQ,6BACR,MAAO,WACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,iBACN,OAAQc,GACR,MAAO,CACH,OAAQ,6BACR,MAAO,WACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,cACN,OAAQc,GACR,MAAO,CACH,OAAQ,0BACR,MAAO,QACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,kBACN,OAAQc,GACR,MAAO,CACH,OAAQ,8BACR,MAAO,YACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,oBACN,OAAQc,GACR,MAAO,CACH,OAAQ,gCACR,MAAO,cACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,kBACN,OAAQc,GACR,MAAO,CACH,OAAQ,8BACR,MAAO,YACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,mBACN,OAAQc,GACR,MAAO,CACH,OAAQ,+BACR,MAAO,aACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,uBACN,OAAQc,GACR,MAAO,CACH,OAAQ,mCACR,MAAO,iBACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,eACN,OAAQc,GACR,MAAO,CACH,OAAQ,2BACR,MAAO,SACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,eACN,OAAQc,GACR,MAAO,CACH,OAAQ,2BACR,MAAO,SACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,aACN,OAAQc,GACR,MAAO,CACH,OAAQ,yBACR,MAAO,OACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,kBACN,OAAQc,GACR,MAAO,CACH,OAAQ,8BACR,MAAO,YACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,iBACN,OAAQc,GACR,MAAO,CACH,OAAQ,6BACR,MAAO,WACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,wBACN,OAAQc,GACR,MAAO,CACH,OAAQ,8BACR,MAAO,YACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,kBACN,OAAQc,GACR,MAAO,CACH,OAAQ,8BACR,MAAO,YACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,eACN,OAAQc,GACR,MAAO,CACH,OAAQ,2BACR,MAAO,SACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,oBACN,OAAQc,GACR,MAAO,CACH,OAAQ,gCACR,MAAO,cACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,mBACN,OAAQc,GACR,MAAO,CACH,OAAQ,+BACR,MAAO,aACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,qBACN,OAAQc,GACR,MAAO,CACH,OAAQ,iCACR,MAAO,eACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,oBACN,OAAQc,GACR,MAAO,CACH,OAAQ,gCACR,MAAO,cACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,oBACN,OAAQc,GACR,MAAO,CACH,OAAQ,gCACR,MAAO,cACP,QAAS,QACT,YAAad,EACjB,CACJ,EACA,CACI,KAAM,oBACN,OAAQG,GACR,MAAO,CACH,OAAQ,gCACR,MAAO,UACP,QAAS,YACT,YAAa,uBACjB,CACJ,EACA,CACI,KAAM,qBACN,OAAQA,GACR,MAAO,CACH,OAAQ,iCACR,MAAO,WACP,QAAS,YACT,YAAa,uBACjB,CACJ,EACA,CACI,KAAM,qBACN,OAAQA,GACR,MAAO,CACH,OAAQ,iCACR,MAAO,YACP,QAAS,GACT,YAAa,EACjB,CACJ,EACA,CACI,KAAM,qBACN,OAAQA,GACR,MAAO,CACH,OAAQ,iCACR,MAAO,WACP,QAAS,YACT,YAAa,uBACjB,CACJ,EACA,CACI,KAAM,sBACN,OAAQA,GACR,MAAO,CACH,OAAQ,kCACR,MAAO,YACP,QAAS,YACT,YAAa,uBACjB,CACJ,EACA,CACI,KAAM,0BACN,OAAQA,GACR,MAAO,CACH,OAAQ,sCACR,MAAO,gBACP,QAAS,YACT,YAAa,uBACjB,CACJ,EACA,CACI,KAAM,0BACN,OAAQA,GACR,MAAO,CACH,OAAQ,qCACR,MAAO,gBACP,QAAS,YACT,YAAa,uBACjB,CACJ,EACA,CACI,KAAM,2BACN,OAAQA,GACR,MAAO,CACH,OAAQ,sCACR,MAAO,gBACP,QAAS,YACT,YAAa,uBACjB,CACJ,EACA,CACI,KAAM,2BACN,OAAQA,GACR,MAAO,CACH,OAAQ,sCACR,MAAO,iBACP,QAAS,YACT,YAAa,uBACjB,CACJ,EACA,CACI,KAAM,8BACN,OAAQA,GACR,MAAO,CACH,OAAQ,wCACR,MAAO,oBACP,QAAS,YACT,YAAa,uBACjB,CACJ,EACA,CACI,KAAM,qBACN,OAAQY,GACR,MAAO,CAAC,CACZ,EACA,CACI,KAAM,kBACN,OAAQZ,GACR,MAAO,CACH,OAAQ,8BACR,MAAO,SACP,QAAS,GACT,YAAa,EACjB,CACJ,EACA,CACI,KAAM,QACN,OAAQa,GACR,MAAO,CAAC,CACZ,EACA,CACI,KAAM,MACN,OAAQC,GACR,MAAO,CAAC,CACZ,EACA,CACI,KAAM,eACN,OAAQd,GACR,MAAO,CACH,OAAQ,2BACR,MAAO,MACP,QAAS,GACT,YAAa,EACjB,CACJ,CACJ,EChnBAe,EAAQ,QAAQ,IAAM,CAClBC,GAAgB,EAEhBC,EAAW,WAAW,CAClB,iBAAkB,GAClB,WAAY,GACZ,GAAI,CACA,QAAS,IACb,EACA,OAAQ,CACJ,OAAQ,CACJ,aAAc,CACV,SAAU,EACV,KAAM,EACN,UAAW,IACX,QAAS,IACT,SAAU,CACd,CACJ,CACJ,CACJ,CAAC,EAEDA,EAAW,aAAa,GAGX,SAAY,CACrB,IAAMC,EAAe,SAAS,KAAK,cAAc,iBAAiB,EAC5DC,EAAyB,SAAS,KAAK,cACzC,4BACJ,EAEIC,EAAcC,EAAM,YAAY,CAChC,KAAM,CAAE,QAAS,EAAG,MAAO,CAAE,EAC7B,SAAU,GACd,CAAC,EAEGH,GAAgBC,GAChB,CAACD,EAAcC,CAAsB,EAAE,QAASG,GAAS,CACrDF,GAAa,UAAU,CAAC,CAAE,QAAAG,EAAS,MAAAC,CAAM,IAAM,CAE3CF,EAAK,MAAM,QAAUC,EAErBD,EAAK,MAAM,UAAY,SAASE,CAAK,GACzC,CAAC,CACL,CAAC,EAGL,MAAMC,GAAS,EAEfC,GAAoB,CAChB,OAAQ,GACR,kBAAmB,IACnB,MAAO,EACX,CAAC,EAEDC,GAAc,CACV,OAAQ,QACR,UAAW,WACX,QAAAC,GACA,OAAAC,GACA,MAAO,OACP,aAAc,eACd,qBAAAC,GACA,eAAAC,GACA,UAAW,SAAY,CACnB,MAAMX,EAAY,KAAK,CAAE,QAAS,EAAG,MAAO,EAAI,CAAC,EACjDF,GAAc,OAAO,EACrBC,GAAwB,OAAO,EAE/BC,EAAc,KACdY,GAAiB,CACrB,EACA,cAAe,EACnB,CAAC,CACL,GAEK,CAKT,CAAC",
  "names": ["require_core", "__commonJSMin", "exports", "module", "deepFreeze", "obj", "name", "prop", "type", "Response", "mode", "escapeHTML", "value", "inherit$1", "original", "objects", "result", "key", "SPAN_CLOSE", "emitsWrappingTags", "node", "scopeToCSSClass", "prefix", "pieces", "x", "i", "HTMLRenderer", "parseTree", "options", "text", "className", "newNode", "opts", "TokenTree", "_TokenTree", "scope", "builder", "child", "el", "TokenTreeEmitter", "emitter", "source", "re", "lookahead", "concat", "anyNumberOfTimes", "optional", "args", "stripOptionsFromArgs", "either", "countMatchGroups", "startsWith", "lexeme", "match", "BACKREF_RE", "_rewriteBackreferences", "regexps", "joinWith", "numCaptures", "regex", "offset", "out", "MATCH_NOTHING_RE", "IDENT_RE", "UNDERSCORE_IDENT_RE", "NUMBER_RE", "C_NUMBER_RE", "BINARY_NUMBER_RE", "RE_STARTERS_RE", "SHEBANG", "beginShebang", "m", "resp", "BACKSLASH_ESCAPE", "APOS_STRING_MODE", "QUOTE_STRING_MODE", "PHRASAL_WORDS_MODE", "COMMENT", "begin", "end", "modeOptions", "ENGLISH_WORD", "C_LINE_COMMENT_MODE", "C_BLOCK_COMMENT_MODE", "HASH_COMMENT_MODE", "NUMBER_MODE", "C_NUMBER_MODE", "BINARY_NUMBER_MODE", "REGEXP_MODE", "TITLE_MODE", "UNDERSCORE_TITLE_MODE", "METHOD_GUARD", "END_SAME_AS_BEGIN", "MODES", "skipIfHasPrecedingDot", "response", "scopeClassName", "_parent", "beginKeywords", "parent", "compileIllegal", "compileMatch", "compileRelevance", "beforeMatchExt", "originalMode", "COMMON_KEYWORDS", "DEFAULT_KEYWORD_SCOPE", "compileKeywords", "rawKeywords", "caseInsensitive", "scopeName", "compiledKeywords", "compileList", "keywordList", "keyword", "pair", "scoreForKeyword", "providedScore", "commonKeyword", "seenDeprecations", "error", "message", "warn", "deprecated", "version", "MultiClassError", "remapScopeNames", "regexes", "scopeNames", "emit", "positions", "beginMultiClass", "endMultiClass", "scopeSugar", "MultiClass", "compileLanguage", "language", "langRe", "global", "MultiRegex", "terminators", "s", "matchData", "ResumableMultiRegex", "index", "matcher", "m2", "buildModeRegex", "mm", "term", "compileMode", "cmode", "ext", "keywordPattern", "c", "expandOrCloneMode", "dependencyOnParent", "variant", "HTMLInjectionError", "reason", "html", "escape", "inherit", "NO_MATCH", "MAX_KEYWORD_HITS", "HLJS", "hljs", "languages", "aliases", "plugins", "SAFE_MODE", "LANGUAGE_NOT_FOUND", "PLAINTEXT_LANGUAGE", "shouldNotHighlight", "languageName", "blockLanguage", "block", "classes", "getLanguage", "_class", "highlight", "codeOrLanguageName", "optionsOrCode", "ignoreIllegals", "code", "context", "fire", "_highlight", "codeToHighlight", "continuation", "keywordHits", "keywordData", "matchText", "processKeywords", "top", "modeBuffer", "lastIndex", "buf", "word", "data", "kind", "keywordRelevance", "relevance", "cssClass", "emitKeyword", "processSubLanguage", "continuations", "highlightAuto", "processBuffer", "emitMultiClass", "max", "klass", "startNewMode", "endOfMode", "matchPlusRemainder", "matched", "doIgnore", "resumeScanAtSamePosition", "doBeginMatch", "newMode", "beforeCallbacks", "cb", "doEndMatch", "endMode", "origin", "processContinuations", "list", "current", "item", "lastMatch", "processLexeme", "textBeforeMatch", "err", "processed", "iterations", "md", "beforeMatch", "processedCount", "justTextHighlightResult", "languageSubset", "plaintext", "results", "autoDetection", "sorted", "a", "b", "best", "secondBest", "updateClassName", "element", "currentLang", "resultLang", "highlightElement", "configure", "userOptions", "initHighlighting", "highlightAll", "initHighlightingOnLoad", "wantsHighlight", "boot", "registerLanguage", "languageDefinition", "lang", "error$1", "registerAliases", "unregisterLanguage", "alias", "listLanguages", "aliasList", "upgradePluginAPI", "plugin", "addPlugin", "removePlugin", "event", "deprecateHighlightBlock", "commonData", "legendData", "getCommonData", "getLegendData", "loadData", "response", "data", "error", "ANIMATION_STOP_REJECT", "catchAnimationReject", "outerHeight", "element", "height", "style", "outerWidth", "width", "offset", "rect", "position", "isDescendant", "parent", "child", "node", "getTranslateValues", "element", "style", "matrix", "matrixType", "matrixValues", "isNode", "getUnivoqueId", "useNextLoop", "fn", "TYPE_IS_ANY", "UNTYPED", "STRING", "NUMBER", "OBJECT", "FUNCTION", "ARRAY", "BOOLEAN", "ELEMENT", "HTMLELEMENT", "NODELIST", "SET", "MAP", "storeType", "value", "getTypeName", "type", "checkType", "mapsAreEqual", "m1", "m2", "key", "setsAreEqual", "a", "b", "value", "arrayAreEquals", "elements", "x", "count1", "e", "count2", "objectAreEqual", "obj1", "obj2", "checkDataOrder", "_obj1", "_obj2", "obj1Props", "obj2Props", "prop", "val1", "val2", "checkEquality", "type", "oldValue", "newValue", "TYPE_IS_ANY", "ARRAY", "SET", "MAP", "runCallbackQueqe", "callBackWatcher", "prop", "newValue", "oldValue", "validationValue", "currentProp", "fn", "runCallbackQueqeAsync", "logStyle", "getLogStyle", "storeMap", "getStateFromMainMap", "id", "updateMainMap", "state", "removeStateFromMainMap", "TYPE_IS_ANY", "UNTYPED", "STRING", "NUMBER", "OBJECT", "FUNCTION", "ARRAY", "BOOLEAN", "ELEMENT", "HTMLELEMENT", "NODELIST", "SET", "MAP", "storeType", "value", "getTypeName", "type", "checkType", "storeDepthWarning", "data", "style", "storeSetWarning", "prop", "style", "storeSetPropValWarning", "val", "storeSetPropPropWarning", "storeSetPropTypeWarning", "type", "getTypeName", "storeSetObjectValWarning", "storeSetObjectPropWarning", "storeSetObjKeysWarning", "key", "storeSetObjDepthWarning", "storeSetObjTypeWarning", "subProp", "subVal", "storeGetPropWarning", "storeEmitWarning", "storeComputedKeyUsedWarning", "keys", "storeWatchWarning", "storeObjectIsNotAnyWarning", "CUSTOM_OBJECT", "maxDepth", "object", "storeType", "values", "value", "getDataRecursive", "data", "shouldRecursive", "p", "c", "key", "functionResult", "getPropRecursive", "prop", "fallback", "propParsed", "inizializeStoreData", "depth", "logStyle", "storeDepthWarning", "inizializeSpecificProp", "cloneValueOrGet", "checkType", "setProp", "instanceId", "state", "prop", "val", "fireCallback", "useStrict", "type", "store", "fnValidate", "strict", "validationStatusObject", "skipEqual", "callBackWatcher", "logStyle", "getLogStyle", "isCustomObject", "TYPE_IS_ANY", "storeType", "storeSetPropValWarning", "storeSetPropPropWarning", "checkType", "storeSetPropTypeWarning", "oldVal", "isValidated", "checkEquality", "runCallbackQueqe", "addToComputedWaitLsit", "setObj", "storeSetObjectValWarning", "storeSetObjectPropWarning", "valKeys", "propKeys", "item", "storeSetObjKeysWarning", "subProp", "subVal", "typeResponse", "storeSetObjTypeWarning", "strictObjectResult", "subValOld", "strictCheck", "newValParsedByStrict", "key", "validateResult", "storeObjectIsNotAnyWarning", "oldObjectValues", "newObjectValues", "value", "maxDepth", "storeSetObjDepthWarning", "storeSetAction", "clone", "storeSetWarning", "previousValue", "cloneValueOrGet", "valueParsed", "storeSetEntryPoint", "getStateFromMainMap", "newState", "updateMainMap", "storeQuickSetEntrypoint", "fireComputed", "lastestPropsChanged", "callBackComputed", "keys", "current", "fn", "valuesToObject", "previous", "computedValue", "stateAfterComputed", "computedRunning", "useNextLoop", "storeComputedAction", "storeComputedKeyUsedWarning", "storeComputedEntryPoint", "callback", "inizializeValidation", "initialState", "store", "validationStatusObject", "previous", "current", "key", "value", "storeType", "inizializeAllProps", "instanceId", "item", "prop", "state", "getStateFromMainMap", "newState", "storeSetAction", "updateMainMap", "storeWatchAction", "state", "prop", "callback", "store", "callBackWatcher", "logStyle", "getLogStyle", "storeWatchWarning", "id", "getUnivoqueId", "unsubScribeWatch", "instanceId", "unsubscribeId", "getStateFromMainMap", "updateMainMap", "watchEntryPoint", "newState", "inizializeInstance", "data", "dataDepth", "maxDepth", "inizializeStoreData", "getLogStyle", "inizializeSpecificProp", "UNTYPED", "storeGetEntryPoint", "instanceId", "store", "getStateFromMainMap", "storeGetPropEntryPoint", "prop", "storeGetPropWarning", "getLogStyle", "storeEmitEntryPoint", "instanceId", "prop", "store", "callBackWatcher", "validationStatusObject", "getStateFromMainMap", "runCallbackQueqe", "storeEmitWarning", "getLogStyle", "storeEmitAsyncEntryPoint", "runCallbackQueqeAsync", "storeGetValidationEntryPoint", "instanceId", "validationStatusObject", "getStateFromMainMap", "storeDebugStoreEntryPoint", "store", "storeDebugValidateEntryPoint", "storeDebugEntryPoint", "state", "mobStore", "data", "instanceId", "getUnivoqueId", "initialState", "inizializeInstance", "stateUpdated", "inizializeValidation", "updateMainMap", "inizializeAllProps", "storeGetEntryPoint", "prop", "storeGetPropEntryPoint", "value", "fireCallback", "clone", "storeSetEntryPoint", "storeQuickSetEntrypoint", "callback", "watchEntryPoint", "keys", "storeComputedEntryPoint", "storeEmitEntryPoint", "storeEmitAsyncEntryPoint", "storeGetValidationEntryPoint", "storeDebugEntryPoint", "storeDebugStoreEntryPoint", "storeDebugValidateEntryPoint", "removeStateFromMainMap", "eventStore", "mobStore", "initialized", "callbacks", "handler", "value", "init", "addCallback", "cb", "id", "getUnivoqueId", "handleLoad", "normalizeWheel", "event", "sX", "sY", "pX", "pY", "getPageData", "type", "e", "getClientData", "handleMouse", "event", "initialized", "callbacks", "usePassive", "eventStore", "handler", "init", "pageX", "pageY", "clientX", "clientY", "target", "mouseData", "spinX", "spinY", "pixelX", "pixelY", "normalizeWheel", "value", "cb", "id", "getUnivoqueId", "handleMouseClick", "handleMouseDown", "handleTouchStart", "handleMouseMove", "handleTouchMove", "handleMouseUp", "handleTouchEnd", "handleMouseWheel", "cacheCoutner", "subscriberMap", "add", "el", "fn", "id", "getUnivoqueId", "item", "frameToSubstract", "update", "callBackObject", "frame", "currentFrame", "eventStore", "data", "remove", "clean", "get", "fire", "frameCounter", "value", "fireObject", "obj", "getCacheCounter", "updateFrameId", "maxFramecounter", "key", "newMap", "object", "handleCache", "initialized", "callbacks", "handler", "visibilityData", "value", "init", "addCb", "cb", "id", "getUnivoqueId", "handleVisibilityChange", "callbacks", "add", "cb", "priority", "fire", "time", "fps", "a", "b", "handleNextTick", "callbacks", "add", "callBack", "get", "callBackArray", "handleNextFrame", "indexCallbackMap", "updateKeys", "currentFrameLimit", "oldMapToArray", "index", "value", "fire", "currentFrame", "time", "fps", "callabacks", "item", "add", "callback", "frameIndex", "eventStore", "getAmountOfFrameToFire", "handleFrameIndex", "loadFpsIsReady", "loadFps", "duration", "instantFps", "eventStore", "resolve", "frameTimes", "frameCursor", "numFrames", "totalFPS", "then", "frameCounter", "render", "now", "deltaTime", "rawFps", "fps", "averageFPS", "getTime", "defaultTimestep", "loadFps", "currentFrameLimit", "firstRunDuration", "frameIsRuning", "callback", "time", "getTime", "startTime", "rawTime", "timeElapsed", "lastTime", "timeLost", "isStopped", "fps", "maxFps", "frames", "fpsPrevTime", "currentFrame", "mustMakeSomethingIsActive", "shouldMakeSomethingIsActive", "mustMakeSomethingCheck", "shouldMakeSomethingCheck", "mustMakeSomethingStart", "shouldMakeSomethingStart", "handleVisibilityChange", "visibilityState", "catchAnimationReject", "eventStore", "initFrame", "nextTickFn", "handleFrameIndex", "handleCache", "handleNextTick", "handleNextFrame", "render", "timestamp", "frameDuration", "timeToSubsctract", "item", "useNextLoop", "defaultTimestep", "handleFrame", "cb", "arr", "debounceFuncion", "fn", "time", "timeout", "functionCall", "initialized", "callbacks", "debouceFunctionReference", "previousWindowHeight", "previousWindowWidth", "handler", "windowsHeight", "windowsWidth", "verticalResize", "horizontalResize", "resizeData", "value", "init", "debounceFuncion", "addCb", "cb", "id", "getUnivoqueId", "handleResize", "initialized", "callbacks", "UP", "DOWN", "prev", "val", "direction", "scrollData", "handler", "value", "init", "addCb", "cb", "id", "getUnivoqueId", "handleScrollImmediate", "initialized", "callbacks", "unsubscribe", "handler", "scrollData", "handleFrame", "handleNextTick", "value", "init", "handleScrollImmediate", "addCb", "cb", "id", "getUnivoqueId", "handleScroll", "throttle", "func", "limit", "lastFunc", "lastRan", "context", "args", "getTime", "initialized", "callbacks", "throttleFunctionReference", "unsubscribe", "handler", "scrollData", "handleFrame", "handleNextTick", "value", "init", "throttle", "eventStore", "handleScrollImmediate", "addCb", "cb", "id", "getUnivoqueId", "handleScrollThrottle", "unsubscribeScrollStart", "unsubscribeScrollEnd", "debouceFunctionReference", "handleScrollUtils", "type", "initialized", "callbacks", "isScrolling", "handler", "handleFrame", "handleNextTick", "scrollData", "value", "init", "debounceFuncion", "handleScrollImmediate", "scrollY", "cb", "id", "getUnivoqueId", "handleScrollStart", "handleScrollEnd", "mobCore", "data", "mobStore", "eventStore", "handleFrame", "callback", "handleNextTick", "handleNextFrame", "frame", "handleFrameIndex", "obj", "loadFps", "handleLoad", "handleCache", "handleResize", "handleVisibilityChange", "handleMouseClick", "handleMouseDown", "handleTouchStart", "handleMouseMove", "handleTouchMove", "handleMouseUp", "handleTouchEnd", "handleMouseWheel", "handleScroll", "handleScrollImmediate", "handleScrollThrottle", "handleScrollStart", "handleScrollEnd", "type", "value", "checkType", "getTypeName", "getUnivoqueId", "getTime", "fn", "useNextLoop", "normalizeWheel", "ANIMATION_STOP_REJECT", "springPresetConfig", "easeReference", "MQ_MIN", "MQ_MAX", "defaultMqValueDefault", "easeDefault", "springConfigDefault", "mqDefault", "sequencerDurationDefault", "lerpConfigDefault", "markerStartDefault", "markerItemDefault", "parallaxRangeDefault", "parallaxTweenDurationDefault", "tweenDurationDefault", "tweenRealtiveDefault", "springRealtiveDefault", "lerpRelativeDefault", "lerpPrecisionDefault", "lerpVelocityDefault", "setupValidation", "obj", "deferredNextTick", "checkSetUpType", "mobCore", "usePassive", "throttle", "mq", "checkSetUpMq", "defaultMqValue", "defaultMqType", "sequencerDuration", "sequencerEase", "checkSetUpEase", "scrollTriggerSpringConfig", "scrollTriggerLerpConfig", "scrollTriggerMarkerEnd", "scrollTriggerMarkerItem", "parallaxRange", "parallaxSpringConfig", "parallaxLerpConfig", "parallaxTweenDuration", "parallaxTweenEase", "tweenDuration", "tweenEase", "tweenRelative", "springRelative", "lerpRelative", "lerpPrecision", "lerpVelocity", "springPresetConfig", "prop", "value", "defaultValue", "type", "isValid", "label", "mergeDeep", "target", "source", "isMergingArrays", "obj", "cloneObj", "isObject", "key", "targetValue", "sourceValue", "x", "i", "getData", "mobCore", "mqDefault", "defaultMqValueDefault", "MQ_MIN", "sequencerDurationDefault", "easeDefault", "springConfigDefault", "lerpConfigDefault", "markerStartDefault", "markerItemDefault", "parallaxRangeDefault", "parallaxTweenDurationDefault", "tweenDurationDefault", "tweenRealtiveDefault", "springPresetConfig", "handleSetUp", "data", "obj", "setupValidation", "mergeDeep", "prop", "max", "breakpoint", "handleSetUp", "min", "getBreackpoint", "mq", "motionCore", "props", "handleSetUp", "prop", "action", "breakpoint", "mq", "getRoundedValue", "x", "mobCore", "e", "clamp", "num", "min", "max", "lerp", "start", "end", "amt", "compareKeys", "a", "b", "aKeys", "bKeys", "element", "index", "sliceIntoChunks", "arr", "chunkSize", "res", "i", "chunk", "arrayColumn", "n", "setFromByCurrent", "arr", "item", "setFromCurrentByTo", "setFromToByCurrent", "setReverseValues", "obj", "keysTorevert", "fromValue", "toValue", "setRelative", "relative", "setRelativeTween", "arr", "relative", "item", "DIRECTION_ROW", "DIRECTION_COL", "DIRECTION_RADIAL", "STAGGER_START", "STAGGER_END", "STAGGER_CENTER", "STAGGER_EDGES", "STAGGER_RANDOM", "MERGE_FROM_UP", "MERGE_FROM_DOWN", "STAGGER_TYPE_EQUAL", "STAGGER_TYPE_START", "STAGGER_TYPE_END", "STAGGER_TYPE_CENTER", "STAGGER_DEFAULT_OBJ", "STAGGER_DEFAULT_INDEX_OBJ", "parallaxConstant", "possibleChoice", "choice", "item", "compareKeysWarning", "label", "fromObj", "toObj", "staggerIsOutOfRangeWarning", "max", "dataTweenValueIsNotValidWarning", "sequencerRangeStartWarning", "val", "sequencerRangeEndWarning", "relativePropInsideTimelineWarning", "timelineSuspendWarning", "timelineReverseGoFromWarning", "timelineSetTweenArrayWarining", "items", "timelineSetTweenLabelWarining", "timelineSetTweenLabelNotFoundWarining", "timelineSetTweenFailWarining", "syncTimelineLabelWarning", "syncTimelineAddFnWarning", "fn", "syncTimelineAddTimeWarning", "time", "springPresetWarning", "preset", "springConfigPropWarning", "springConfigSpecificPropWarning", "config", "tweenEaseWarning", "staggerEachWarning", "staggerRowColGenericWarining", "staggerWaitCompleteWarning", "staggerGridDirectionWarning", "staggerColRowWarning", "staggerFromGenericWarning", "from", "durationWarining", "value", "durationNumberOrFunctionWarining", "repeatWarining", "initialDataPropWarining", "prop", "initialDataValueWarining", "value", "createStaggerItemsWarning", "createStaggerItemsTypeWarning", "createStaggerTypeWarning", "STAGGER_TYPE_EQUAL", "STAGGER_START", "STAGGER_TYPE_END", "STAGGER_TYPE_CENTER", "createStaggerEachWarning", "eachProportion", "relativeWarining", "val", "tweenType", "booleanWarning", "label", "stringWarning", "naumberWarning", "functionWarning", "lerpVelocityWarining", "lerpPrecisionWarining", "asyncTimelineMetodsInsideGroupWarining", "methodName", "valueStringWarning", "asyncTimelineTweenWaring", "asyncTimelineDelayWarning", "playLabelWarining", "addAsyncFunctionWarining", "parallaxDirectionWarining", "component", "parallaxConstant", "parallaxDynmicValueWarining", "parallaxDynmicRangeValueWarining", "parallaxTweenWarning", "parallaxAlignWarining", "choice", "possibleChoice", "parallaxOnSwitchWarining", "parallaxOpacityWarning", "parallaxTypeWarining", "parallaxPropiertiesWarining", "parallaxEaseTypeWarining", "genericEaseTypeWarining", "parallaxEaseTypeSpringWarining", "parallaxSpringCongifWarining", "parallaxRangeNumberWarning", "parallaxRangeStringWarning", "breakpointWarning", "mq", "parallaxUseSequencerWarining", "parallaxLerpConfigWarning", "parallaxNoTweenDefinedWarning", "parallaxUseTweenButNotProsDefinedWarning", "functionIsValidAndReturnDefaultWarining", "scrollTriggerRangeWarning", "string", "properties", "scrollTriggerCustomRangeWarning", "scrollTriggerRangeScaleWarning", "tweenConfig", "easeReference", "elapsed", "initialValue", "amountOfChange", "duration", "s", "p", "a", "getTweenFn", "prop", "tweenConfig", "tweenEaseWarning", "handleSetUp", "escapeRegExp", "text", "checkIfIsOnlyNumberPositiveNegative", "pattern", "checkIfIsOnlyNumber", "exactMatchInsensitive", "string", "regex", "exactMatchInsesitiveNumberProp", "exactMatchInsesitiveNumberPropArray", "arr", "unitMisure", "exactMatchInsesitivePropArray", "getPropiertiesValueFromConstant", "value", "exactMatchInsensitive", "parallaxConstant", "getStartEndUnitMisure", "pattern", "exactMatchInsesitiveNumberProp", "getParallaxPositionFromContanst", "position", "getRangeUnitMisure", "string", "dataTweenValueIsValid", "val", "mobCore", "sequencerRangeValidate", "start", "end", "startIsValid", "endIsValid", "sequencerRangeStartWarning", "sequencerRangeEndWarning", "durationIsValid", "duration", "isValid", "durationWarining", "handleSetUp", "repeatIsValid", "repeat", "repeatWarining", "easeIsValid", "ease", "tweenConfig", "tweenEaseWarning", "easeParallaxTweenIsValid", "getTweenFn", "initialDataPropValidate", "prop", "value", "propIsValid", "valueIsValid", "initialDataPropWarining", "initialDataValueWarining", "validateStaggerEach", "each", "eachIsValid", "staggerEachWarning", "validateStaggerFrom", "from", "fromIsAValidString", "STAGGER_START", "STAGGER_END", "STAGGER_CENTER", "STAGGER_EDGES", "STAGGER_RANDOM", "fromIsANumber", "fromIsAValidObject", "fromIsValid", "staggerFromGenericWarning", "validateStaggerColRow", "valIsValid", "staggerRowColGenericWarining", "validateStaggerDirection", "direction", "directionisValid", "DIRECTION_RADIAL", "DIRECTION_ROW", "DIRECTION_COL", "staggerGridDirectionWarning", "validateStaggerWaitComplete", "waitComplete", "staggerWaitCompleteWarning", "validateStaggerItems", "arr", "createStaggerItemsWarning", "staggerItemsIsValid", "validateStaggerType", "type", "STAGGER_TYPE_EQUAL", "STAGGER_TYPE_START", "STAGGER_TYPE_END", "STAGGER_TYPE_CENTER", "createStaggerTypeWarning", "relativeIsValid", "val", "tweenType", "isValid", "mobCore", "relativeWarining", "handleSetUp", "easeTweenIsValidGetFunction", "ease", "tweenConfig", "tweenEaseWarning", "getTweenFn", "easeTweenIsValid", "springConfigIsValidAndGetNew", "config", "allConfig", "isInConfig", "obj", "isValidPropsValue", "prop", "springPresetWarning", "springConfigSpecificPropWarning", "springConfigIsValid", "springConfigPropIsValid", "springConfigPropWarning", "durationIsNumberOrFunctionIsValid", "duration", "durationResult", "durationNumberOrFunctionWarining", "valueIsBooleanAndTrue", "value", "label", "booleanWarning", "valueIsBooleanAndReturnDefault", "defaultValue", "valueIsStringAndReturnDefault", "stringWarning", "valueIsNumberAndReturnDefault", "naumberWarning", "valueIsFunctionAndReturnDefault", "functionWarning", "lerpVelocityIsValid", "lerpVelocityWarining", "lerpPrecisionIsValid", "lerpPrecisionWarining", "valueStringIsValid", "valueStringWarning", "asyncTimelineDelayIsValid", "asyncTimelineDelayWarning", "asyncTimelineTweenIsValid", "instance", "asyncTimelineTweenWaring", "playLabelIsValid", "index", "playLabelWarining", "functionIsValidAndReturnDefault", "fn", "functionIsValidAndReturnDefaultWarining", "addAsyncFunctionIsValid", "addAsyncFunctionWarining", "resolve", "timelineSetTweenArrayIsValid", "arr", "timelineSetTweenArrayWarining", "timelineSetTweenLabelIsValid", "timelineSetTweenLabelWarining", "domNodeIsValidAndReturnElOrWin", "element", "returnWindow", "realEl", "domNodeIsValidAndReturnNull", "directionIsValid", "direction", "component", "parallaxConstant", "parallaxDirectionWarining", "parallaxDynamicValueIsValid", "positionChoice", "valueIsObject", "positionIsValid", "valueIsValid", "parallaxDynmicValueWarining", "parallaxDynamicRangeIsValid", "parallaxDynmicRangeValueWarining", "parallaxTweenIsValid", "parallaxTweenWarning", "parallaxAlignIsValid", "choice", "parallaxAlignWarining", "parallaxOnSwitchIsValid", "parallaxOnSwitchWarining", "parallaxOpacityIsValid", "parallaxOpacityWarning", "parallaxTypeIsValid", "valueLowerCase", "parallaxTypeWarining", "parallaxRangeIsValid", "type", "isOnlyNumber", "checkIfIsOnlyNumber", "parallaxRangeNumberWarning", "parallaxRangeStringWarning", "breakpointIsValid", "mq", "defaultMq", "mqObj", "breakpointWarning", "breakpointTypeIsValid", "defaultType", "MQ_MAX", "MQ_MIN", "parallaxPropiertiesIsValid", "tweenIsParallaxTween", "tweenIsSequencer", "shouldTrackOnlyEvents", "parallaxPropiertiesWarining", "notParallaxTweenInsideParallax", "parallaxNoTweenDefinedWarning", "parallaxUseTweenButNotProsDefinedWarning", "parallaxUseSequencerWarining", "valueParsed", "valueFromConstant", "getPropiertiesValueFromConstant", "parallaxEaseTypeIsValid", "parallaxEaseTypeWarining", "fallback", "genericEaseTypeIsValid", "genericEaseTypeWarining", "parallaxSpringConfigIsValid", "defaultConfig", "springDefaultConfig", "parallaxSpringCongifWarining", "parallaxLerpConfigIsValid", "parallaxLerpConfigWarning", "checkStringRangeOnPropierties", "properties", "parallalxXYRangeChoice", "exactMatchInsesitiveNumberPropArray", "scrollTriggerRangeWarning", "checkIfIsOnlyNumberPositiveNegative", "scrollTriggerRangeScaleWarning", "scrollTriggerCustomRangeWarning", "getEachByFps", "each", "instantFps", "mobCore", "eachByFps", "getStaggerFromProps", "props", "validateStaggerType", "STAGGER_DEFAULT_OBJ", "validateStaggerEach", "validateStaggerFrom", "STAGGER_TYPE_START", "validateStaggerColRow", "validateStaggerDirection", "DIRECTION_COL", "validateStaggerWaitComplete", "getStaggerArray", "callbackCache", "callbackDefault", "isOdd", "num", "getRandomInt", "max", "getRandomChoice", "arrayChunk", "each", "index", "previousFrame", "item", "_item", "i", "x", "getStaggerIndex", "arraylenght", "stagger", "randomChoice", "from", "eachByFps", "getEachByFps", "STAGGER_RANDOM", "STAGGER_START", "STAGGER_END", "STAGGER_CENTER", "half", "STAGGER_EDGES", "checkType", "getItemsByRow", "arrayDefault", "chunckSizeCol", "DIRECTION_ROW", "chunkByCol", "sliceIntoChunks", "p", "_c", "arrayColumn", "getDefaultStagger", "arrayOnStop", "slowlestStagger", "fastestStagger", "chunckSizeRow", "staggerArray", "staggerArrayOnComplete", "chunksize", "chunked", "firstChunk", "frame", "chunkItem", "getRadialY", "arr", "x", "y", "total", "row", "i", "offset", "newRow", "p", "c", "getRadialX", "chunk", "_row", "xStart", "xEnd", "isAvailableIntoChunk", "newRowFiltered", "item", "i2", "getRadialArray", "stagger", "col", "sliceIntoChunks", "radialArrY", "radialArrX", "radialXY", "_c", "arrayLength", "MERGE_FROM_UP", "MERGE_FROM_DOWN", "previous", "_current", "index", "merged", "downRow", "upRow", "current", "getRadial", "arrayDefault", "arrayOnStop", "stagger", "slowlestStagger", "fastestStagger", "mobCore", "cleanCb", "getRadialArray", "counter", "chunk", "i", "item", "eachByFps", "getEachByFps", "frame", "cleanEndCb", "cleanArray", "staggerArray", "endstaggerArray", "getDefault", "fromList", "STAGGER_START", "STAGGER_END", "STAGGER_CENTER", "STAGGER_EDGES", "STAGGER_RANDOM", "staggerColRowWarning", "getDefaultStagger", "setStagger", "result", "DIRECTION_RADIAL", "staggerArrayOnComplete", "fastestStaggerUpdated", "slowlestStaggerUpdated", "defaultCallback", "stagger", "callback", "callbackCache", "callBackObject", "useStagger", "mobCore", "cb", "frame", "defaultCallbackOnComplete", "onComplete", "callbackOnComplete", "slowlestStagger", "fastestStagger", "index", "callBackStore", "mobCore", "setCallBack", "currentCallback", "arrayOfCallback", "id", "callBackStore", "arrayOfCallbackUpdated", "prevId", "cb", "index", "frame", "setCallBackCache", "item", "unsubscribeCacheArray", "cacheId", "unsubscribe", "mobCore", "goToUtils", "obj", "item", "dataTweenValueIsValid", "dataTweenValueIsNotValidWarning", "toValue", "mobCore", "goFromUtils", "value", "goFromToUtils", "fromObj", "toObj", "fromValue", "setUtils", "initRaf", "callbackPauseArray", "rafFunction", "pauseFunction", "resolve", "mobCore", "time", "fps", "prevent", "cb", "fpsLoadedLog", "label", "fps", "shouldInizializzeStagger", "each", "firstRun", "arrayToCompare1", "arrayToCompare2", "mobCore", "staggerEachWarning", "resume", "rafFunction", "resolveFunction", "mobCore", "time", "fps", "getValueObj", "arr", "key", "item", "p", "c", "getValueObjToNative", "getValueObjFromNative", "mergeArray", "newData", "data", "item", "itemToMerge", "newItem", "mergeArrayTween", "lerpGetValuesOnDraw", "values", "fps", "velocity", "precision", "item", "currentValue", "toValue", "lerpValue", "lerp", "newCurrentValue", "getRoundedValue", "HandleLerp", "data", "getStaggerFromProps", "relativeIsValid", "lerpVelocityIsValid", "lerpPrecisionIsValid", "mobCore", "STAGGER_DEFAULT_INDEX_OBJ", "props", "_time", "fps", "res", "lerpGetValuesOnDraw", "callBackObject", "getValueObj", "defaultCallback", "item", "onComplete", "cbObjectSettled", "defaultCallbackOnComplete", "time", "shouldInizializzeStagger", "averageFPS", "fpsLoadedLog", "cb", "getStaggerArray", "staggerIsOutOfRangeWarning", "staggerArray", "staggerArrayOnComplete", "fastestStagger", "slowlestStagger", "setStagger", "reject", "initRaf", "clearCache", "setFromToByCurrent", "setFromByCurrent", "resume", "obj", "prop", "value", "mergeDeep", "newProps", "velocity", "precision", "relative", "goToUtils", "goFromUtils", "fromObj", "toObj", "compareKeys", "compareKeysWarning", "goFromToUtils", "setUtils", "mergeArray", "reverse", "immediate", "immediateNoPromise", "valueIsBooleanAndTrue", "setReverseValues", "setRelative", "setFromCurrentByTo", "getValueObjFromNative", "getValueObjToNative", "arrayOfCallbackUpdated", "unsubscribeCb", "setCallBack", "fn", "unsubscribeCache", "setCallBackCache", "unsubscribe", "syncCallback", "each", "useStagger", "isLastDraw", "callBackObject", "callback", "callbackCache", "callbackOnStop", "mobCore", "cb", "frame", "ParallaxTween", "data", "easeParallaxTweenIsValid", "durationIsValid", "getStaggerFromProps", "props", "cb", "getStaggerArray", "staggerIsOutOfRangeWarning", "staggerArray", "staggerArrayOnComplete", "setStagger", "STAGGER_DEFAULT_INDEX_OBJ", "partial", "isLastDraw", "item", "toIsFn", "toFn", "toValue", "fromIsFn", "fromFn", "fromValue", "toValueParsed", "fromValueParsed", "toValFinal", "currentValue", "getRoundedValue", "callBackObject", "getValueObj", "mobCore", "syncCallback", "obj", "valToArray", "prop", "value", "newData", "itemToMerge", "newItem", "goToUtils", "arrayOfCallbackUpdated", "unsubscribeCb", "setCallBack", "fn", "unsubscribeCache", "setCallBackCache", "unsubscribe", "HandleMasterSequencer", "partial", "isLastDraw", "useFrame", "item", "val", "goToSyncUtils", "obj", "ease", "item", "dataTweenValueIsValid", "getTweenFn", "dataTweenValueIsNotValidWarning", "goFromSyncUtils", "goFromToSyncUtils", "fromObj", "toObj", "directionConstant", "propToSet", "getFirstValidValueBack", "arr", "index", "prop", "propToFind", "previous", "valuesForward", "result", "propToCompare", "active", "checkIsLastUsableProp", "partial", "p", "start", "values", "nextItem", "sequencerGetValusOnDraw", "timeline", "valuesState", "partial", "valueItem", "item", "previous", "start", "end", "values", "index", "currentValuesItem", "prop", "toValue", "fromValue", "ease", "checkIsLastUsableProp", "newToValue", "mobCore", "newFromValue", "duration", "inactivePosition", "newCurrentValue", "newCurrentValueSanitize", "currentValueRoudned", "getRoundedValue", "setPropFromAncestor", "timeline", "activeProp", "item", "index", "values", "propToFind", "newValues", "valueItem", "prop", "active", "previousValidValue", "getFirstValidValueBack", "propToSet", "orderByProp", "arr", "prop", "a", "b", "insertNewRow", "timeline", "values", "start", "end", "duration", "propToFind", "priority", "newTimeline", "timelineOrderByStart", "orderByProp", "mergeNewValues", "data", "values", "item", "itemToMerge", "newItem", "HandleSequencer", "data", "durationIsValid", "easeIsValid", "getStaggerFromProps", "props", "cb", "getStaggerArray", "staggerIsOutOfRangeWarning", "staggerArray", "staggerArrayOnComplete", "setStagger", "STAGGER_DEFAULT_INDEX_OBJ", "partial", "isLastDraw", "useFrame", "direction", "directionConstant", "mobCore", "item", "sequencerGetValusOnDraw", "callBackObject", "getValueObj", "syncCallback", "time", "fn", "fnTime", "mustFireForward", "mustFireBackward", "duration", "stretchFactor", "start", "end", "getRoundedValue", "obj", "prop", "value", "isValid", "initialDataPropValidate", "valueSanitized", "getTweenFn", "handleSetUp", "propMerged", "ease", "sequencerRangeValidate", "goToSyncUtils", "newValues", "mergeNewValues", "activeProp", "newTimeline", "insertNewRow", "setPropFromAncestor", "goFromSyncUtils", "fromObj", "toObj", "compareKeys", "compareKeysWarning", "goFromToSyncUtils", "name", "fnIsValid", "timeIsValid", "addIsValid", "syncTimelineAddFnWarning", "syncTimelineAddTimeWarning", "arrayOfCallbackUpdated", "unsubscribeCb", "setCallBack", "unsubscribeCache", "setCallBackCache", "val", "unsubscribe", "springGetValuesOndraw", "values", "tension", "friction", "mass", "precision", "fps", "item", "currentValue", "toValue", "velocity", "tensionForce", "dampingForce", "acceleration", "newVelocity", "rawCurrentValue", "newCurrentValue", "getRoundedValue", "isVelocity", "isDisplacement", "HandleSpring", "data", "getStaggerFromProps", "relativeIsValid", "springConfigIsValidAndGetNew", "mobCore", "STAGGER_DEFAULT_INDEX_OBJ", "props", "_time", "fps", "res", "tension", "friction", "mass", "precision", "springGetValuesOndraw", "callBackObject", "getValueObj", "defaultCallback", "item", "onComplete", "cbObjectSettled", "defaultCallbackOnComplete", "time", "shouldInizializzeStagger", "averageFPS", "fpsLoadedLog", "cb", "getStaggerArray", "staggerIsOutOfRangeWarning", "staggerArray", "staggerArrayOnComplete", "fastestStagger", "slowlestStagger", "setStagger", "reject", "initRaf", "clearCache", "setFromToByCurrent", "setFromByCurrent", "resume", "obj", "prop", "value", "mergeDeep", "allPresetConfig", "handleSetUp", "newConfigPreset", "springConfigIsValid", "configPropsToMerge", "springConfigPropIsValid", "newConfigProps", "newProps", "configProps", "relative", "goToUtils", "goFromUtils", "fromObj", "toObj", "compareKeys", "compareKeysWarning", "goFromToUtils", "setUtils", "mergeArray", "reverse", "immediate", "immediateNoPromise", "valueIsBooleanAndTrue", "setReverseValues", "setRelative", "setFromCurrentByTo", "getValueObjFromNative", "getValueObjToNative", "configProp", "configToMerge", "config", "arrayOfCallbackUpdated", "unsubscribeCb", "setCallBack", "fn", "unsubscribeCache", "setCallBackCache", "unsubscribe", "tweenGetValueOnDraw", "values", "timeElapsed", "duration", "ease", "item", "rawCurrentValue", "getRoundedValue", "HandleTween", "data", "easeTweenIsValidGetFunction", "durationIsNumberOrFunctionIsValid", "relativeIsValid", "getStaggerFromProps", "mobCore", "easeTweenIsValid", "STAGGER_DEFAULT_INDEX_OBJ", "props", "time", "res", "tweenGetValueOnDraw", "isSettled", "callBackObject", "getValueObj", "defaultCallback", "defaultCallbackOnComplete", "item", "_fps", "shouldInizializzeStagger", "averageFPS", "fpsLoadedLog", "cb", "getStaggerArray", "staggerIsOutOfRangeWarning", "staggerArray", "staggerArrayOnComplete", "fastestStagger", "slowlestStagger", "setStagger", "reject", "initRaf", "clearCache", "setFromToByCurrent", "obj", "prop", "value", "mergeDeep", "newProps", "ease", "duration", "relative", "goToUtils", "goFromUtils", "fromObj", "toObj", "compareKeys", "compareKeysWarning", "goFromToUtils", "setUtils", "mergeArrayTween", "reverse", "immediate", "immediateNoPromise", "valueIsBooleanAndTrue", "setReverseValues", "setRelativeTween", "setFromCurrentByTo", "getValueObjFromNative", "getValueObjToNative", "arrayOfCallbackUpdated", "unsubscribeCb", "setCallBack", "fn", "unsubscribeCache", "setCallBackCache", "unsubscribe", "getStaggerEqual", "each", "duration", "numItem", "index", "eachByNumItem", "stepDuration", "start", "getRoundedValue", "end", "staggerDuration", "remainSpace", "validNumItem", "staggerStart", "getStaggerSpecial", "type", "cleanStart", "gap", "STAGGER_TYPE_START", "STAGGER_TYPE_CENTER", "space", "STAGGER_TYPE_END", "createStaggers", "data", "items", "staggerItemsIsValid", "stagger", "getStaggerFromProps", "durationIsValid", "eachProportion", "fallBack", "item", "i", "validateStaggerItems", "staggerIsOutOfRangeWarning", "mobCore", "createStaggerEachWarning", "staggerArray", "setStagger", "STAGGER_DEFAULT_INDEX_OBJ", "staggerArrayFiltered", "createStaggerItemsTypeWarning", "frameArray", "frame", "frameSet", "a", "STAGGER_TYPE_EQUAL", "tween", "data", "ParallaxTween", "HandleSequencer", "HandleMasterSequencer", "createStaggers", "HandleTween", "HandleSpring", "HandleLerp", "NOOP", "pipe", "functions", "input", "chain", "func", "asyncReduceData", "data", "activeData", "item", "prop", "val", "valueIsValid", "active", "p", "c", "asyncReduceTween", "tweenList", "tween", "index", "currentId", "initialData", "p", "c", "currentFirstData", "syncProp", "from", "to", "currentTween", "data", "currentValueTo", "propsInUse", "asyncReduceData", "resolveTweenPromise", "reject", "res", "isStopped", "startOnDelay", "previousSessionId", "currentSessionId", "isInPause", "tween", "fn", "action", "addToActiveTween", "unsubscribeActiveTween", "unsubscribeTweenStartInPause", "NOOP", "HandleAsyncTimeline", "data", "repeatIsValid", "valueIsBooleanAndReturnDefault", "currentTweelist", "lastAction", "item", "tween", "valuesTo", "prevValueSettled", "values", "propsInUse", "asyncReduceData", "tweenPromises", "action", "valuesFrom", "tweenProps", "syncProp", "id", "newTweenProps", "labelIsActive", "labelIndex", "isImmediate", "relativePropInsideTimelineWarning", "prevActionIsCurrent", "prevId", "prevAction", "fn", "res", "from", "to", "direction", "sessionId", "reject", "valueIsValid", "mobCore", "timelineSuspendWarning", "sholudSuspend", "delay", "previousSessionId", "start", "resolveTweenPromise", "promiseType", "labelIsReverse", "starterFunction", "starterFunctionIsActive", "tweenPromise", "asyncReduceTween", "resolve", "cb", "handleNextFrame", "handleNextTick", "deltaTimeOnpause", "current", "delta", "tweenId", "NOOP", "prevActiveTweenCounter", "group", "prevValueTo", "currentValueTo", "timelineReverseGoFromWarning", "obj", "rowIndex", "uniqueId", "valuesSet", "asyncTimelineTweenIsValid", "asyncTimelineDelayIsValid", "mergedObj", "functionIsValidAndReturnDefault", "asyncTimelineMetodsInsideGroupWarining", "addAsyncFunctionIsValid", "fromIsTween", "groupProps", "labelProps", "valueStringIsValid", "setValueTo", "label", "items", "itemsIsArray", "timelineSetTweenArrayIsValid", "labelIsString", "timelineSetTweenLabelIsValid", "itemsId", "tweens", "index", "firstItem", "timelineSetTweenLabelNotFoundWarining", "resolveTween", "rejectTween", "timelineSetTweenFailWarining", "isReverse", "playLabelIsValid", "forceYoYo", "resolveFromReverse", "rejectFromReverse", "resolveInUse", "rejectInUse", "forceYoYonow", "clearCache", "directionConstant", "cbId", "HandleSyncTimeline", "data", "durationIsValid", "valueIsBooleanAndReturnDefault", "repeatIsValid", "time", "fps", "frameThreshold", "partial", "clamp", "item", "cb", "direction", "mobCore", "endTime", "label", "labelObj", "previous", "current", "currentName", "syncTimelineLabelWarning", "props", "resolve", "reject", "useCurrent", "value", "labelTime", "averageFPS", "fpsLoadedLog", "clearCache", "sequencer", "duration", "directionConstant", "cbId", "timeline", "data", "HandleSyncTimeline", "HandleAsyncTimeline", "action", "prevValue", "value", "maxVal", "parallaxConstant", "parallaxEmitter", "onEnter", "onEnterBack", "onLeave", "onLeaveBack", "getMarker", "startMarker", "endMarker", "label", "labelSanitized", "startMarkerEL", "endMarkerEL", "startMarkerGenerated", "endMarkerElGenerated", "getPosition", "screen", "rect", "getStartStyle", "startPoint", "direction", "invertSide", "top", "bottom", "left", "right", "parallaxConstant", "getEndStyle", "endPoint", "parallaxMarker", "lastStartMarker", "lastEndMarkerEl", "startStyle", "endStyle", "style", "handleSetUp", "mobCore", "getMarkerWrapperStyle", "marker", "direction", "invertSide", "borderStyle", "handleSetUp", "parallaxConstant", "ParallaxPin", "parallaxConstant", "data", "mobCore", "scrollY", "gap", "verticalGap", "translateValue", "HandleSpring", "collision", "wrapper", "pin", "parentNode", "requiredStyleToadd", "pinStyleFromItem", "markerWrapperStyle", "getMarkerWrapperStyle", "display", "height", "width", "compStyles", "style", "p", "c", "target", "rule", "node", "item", "key", "value", "position", "left", "requiredStyleToAdd", "styleToAdd", "scrollTop", "step", "clamp", "scrollDirection", "anticipate", "anticipateBottom", "anticipateInnerIn", "anticipateInnerOut", "offsetTop", "bottomCondition", "innerCondition", "fireSpring", "parallaxWarningNoUnitMiusure", "parallaxWarningVhIsNotAllowed", "parallaxWarningVwIsNotAllowed", "returnWhenFail", "getValueInPx", "invert", "endValInNumber", "scrollerHeight", "isNegative", "startPoint", "isFromTopLeft", "valueFromTop", "valueFromBottom", "getValueInVwVh", "screenUnit", "detectViewPortInterception", "offset", "height", "gap", "wScrollTop", "wHeight", "getStartEndValue", "values", "direction", "numberInString", "item", "c", "unitMisure", "getStartEndUnitMisure", "parallaxWarningNoUnitMiusure", "parallaxConstant", "parallaxWarningVhIsNotAllowed", "parallaxWarningVwIsNotAllowed", "additionaChoice", "getAdditionalVal", "exactMatchInsesitivePropArray", "positionMap", "getPosition", "getStartPoint", "data", "numberVal", "additionalVal", "position", "startValInNumber", "getParallaxPositionFromContanst", "getEndPoint", "invertSide", "positionFromConstant", "processFixedLimit", "value", "stringValue", "width", "str", "exactMatchInsensitive", "getValueOnSwitch", "switchPropierties", "isReverse", "getRetReverseValue", "propierties", "val", "getScrollFunction", "callback", "pin", "ease", "useThrottle", "mobCore", "ParallaxClass", "data", "valueIsBooleanAndReturnDefault", "valueIsStringAndReturnDefault", "parallaxDynamicValueIsValid", "parallaxDynamicRangeIsValid", "functionIsValidAndReturnDefault", "parallaxAlignIsValid", "parallaxOnSwitchIsValid", "parallaxOpacityIsValid", "parallaxTweenIsValid", "tweenIsSequencer", "parallaxConstant", "tweenIsParallaxTween", "domNodeIsValidAndReturnElOrWin", "domNodeIsValidAndReturnNull", "directionIsValid", "parallaxTypeIsValid", "valueIsNumberAndReturnDefault", "breakpointIsValid", "breakpointTypeIsValid", "propierties", "shouldTrackOnlyEvents", "parallaxPropiertiesIsValid", "parallaxRangeIsValid", "parallaxEaseTypeSpringWarining", "parallaxEaseTypeIsValid", "parallaxSpringConfigIsValid", "parallaxLerpConfigIsValid", "HandleSpring", "HandleLerp", "mobCore", "getScrollFunction", "horizontalResize", "ParallaxPin", "mq", "scroller", "screen", "direction", "breakpoint", "queryType", "style", "parent", "initialValue", "val", "range", "str", "isNegative", "strParsed", "checkStringRangeOnPropierties", "getRangeUnitMisure", "screenUnit", "position", "fn", "valueResult", "startPoint", "additionalStartVal", "startPosition", "getStartPoint", "processFixedLimit", "endPoint", "additionalEndVal", "endPosition", "getEndPoint", "multiplier", "startMarker", "endMarker", "parallaxMarker", "el", "x", "y", "z", "getTranslateValues", "offset", "value", "parentIsMoving", "scrollVal", "forceRender", "action", "detectViewPortInterception", "getRoundedValue", "reverseValue", "getRetReverseValue", "partials", "maxVal", "partialVal", "valePerDirections", "clampValue", "clamp", "percentValue", "parallaxEmitter", "percent", "vhLimit", "vhStart", "valClamped", "valuetoNumber", "rangeNumber", "documentHeight", "align", "getValueOnSwitch", "force3DStyle", "shouldWill", "valueParsed", "scaleVal", "item", "scroller", "data", "ParallaxClass", "parallaxConstant", "ATTR_IS_COMPONENT", "ATTR_IS_COMPONENT_VALUE", "ATTR_PROPS", "ATTR_DYNAMIC", "ATTR_INSTANCENAME", "ATTR_COMPONENT_NAME", "ATTR_SLOT", "ATTR_REPEATID", "ATTR_CHILD_REPEATID", "ATTR_KEY", "ATTR_CURRENT_LIST_VALUE", "ATTR_REPEATER_PROP_BIND", "ATTR_REPEATER_CONTEXT", "ATTR_BIND_EVENTS", "ATTR_WEAK_BIND_EVENTS", "ATTR_PARENT_ID", "ATTR_REFS", "DEFAULT_CURRENT_REPEATER_STATE", "QUEQUE_TYPE_BINDPROPS", "QUEQUE_TYPE_REPEATER", "QUEQUE_TYPE_PARSE_WATCH_ASYNC", "walkPreOrder", "node", "child", "selectAll", "root", "oneDepth", "result", "queryAllFutureComponent", "componentMap", "setRepeaterStateById", "id", "value", "item", "componentMap", "setIsRepeaterFirstChildNode", "getRepeaterStateById", "DEFAULT_CURRENT_REPEATER_STATE", "setRepeaterContext", "element", "queryAllFutureComponent", "child", "ATTR_REPEATER_CONTEXT", "getComponentIdByRepeatercontext", "contextId", "repeaterContextId", "getRepeaterPropBind", "setElementById", "id", "newElement", "item", "componentMap", "getElementById", "getIdByElement", "element", "getElementByKeyInContainer", "key", "parentId", "container", "value", "child", "targetId", "currentKey", "targetValue", "root", "setRoot", "element", "getRoot", "tempDelegateEventMap", "eventDelegationMap", "eventToAdd", "eventRegistered", "setDelegateBindEvent", "eventsData", "eventsDataParsed", "checkType", "id", "mobCore", "findParentElementInMap", "target", "parent", "getItemFromTarget", "handleAction", "eventKey", "event", "targetParsed", "data", "currentEvent", "callback", "componentId", "getIdByElement", "currentRepeaterState", "getRepeaterStateById", "DEFAULT_CURRENT_REPEATER_STATE", "applyDelegationBindEvent", "root", "ATTR_WEAK_BIND_EVENTS", "element", "dataParsed", "item", "current", "rootElement", "getRoot", "staticPropsMap", "setStaticProps", "props", "id", "mobCore", "getPropsFromParent", "removeCurrentToPropsByPropsId", "propsId", "removeOrphansPropsFromParent", "renderHtml", "defineRepeaterComponent", "#repeatId", "dataset", "ATTR_REPEATID", "defineSlotComponent", "#slotName", "#staticProps", "#dynamicProps", "dataset", "ATTR_COMPONENT_NAME", "ATTR_PROPS", "ATTR_DYNAMIC", "defineUserComponent", "componentList", "key", "value", "_constructorCallback", "_connectedCallBack", "_disconnectedCallback", "_adoptedCallback", "_attributeChangedCallback", "style", "attributeToObserve", "#componentname", "#componentId", "#emit", "#emitAsync", "#freezeProp", "#getChildren", "#getParentId", "#getState", "#remove", "#setState", "#unBind", "#unFreezeProp", "#watch", "#watchSync", "#watchParent", "#isPlaceholder", "#name", "#staticPropsId", "#dynamicPropsId", "#bindEventsId", "#dynamicPropsFromSlotId", "#propsFromSlotId", "#currentRepeatValueId", "#slotPosition", "#currentKey", "#parentId", "#componentRepeatId", "#delegateEventId", "#repeatPropBind", "#repeaterContextId", "mobCore", "host", "ATTR_INSTANCENAME", "ATTR_PROPS", "ATTR_DYNAMIC", "ATTR_KEY", "ATTR_BIND_EVENTS", "ATTR_CURRENT_LIST_VALUE", "ATTR_SLOT", "ATTR_PARENT_ID", "ATTR_CHILD_REPEATID", "ATTR_WEAK_BIND_EVENTS", "ATTR_REPEATER_PROP_BIND", "ATTR_REPEATER_CONTEXT", "styleTag", "slot", "id", "#getData", "data", "name", "oldValue", "newValue", "componentListMap", "availableComponent", "setComponentList", "previous", "current", "defineUserComponent", "defineRepeaterComponent", "defineSlotComponent", "getComponentList", "useComponent", "components", "component", "defaultComponent", "setDefaultComponent", "obj", "getDefaultComponent", "createComponent", "name", "component", "state", "exportState", "scoped", "constructorCallback", "connectedCallback", "disconnectedCallback", "adoptedCallback", "attributeToObserve", "attributeChangedCallback", "style", "child", "useComponent", "bindEventMap", "setBindEvents", "eventsData", "eventsDataParsed", "checkType", "id", "mobCore", "applyBindEvents", "element", "componentId", "bindEventsId", "eventArray", "event", "eventName", "callback", "e", "currentRepeaterState", "getRepeaterStateById", "removeOrphansBindEvent", "updateChildrenArray", "currentChild", "id", "componentName", "childGroupByName", "removeChildFromChildrenArray", "currentId", "addPropsToState", "props", "store", "key", "value", "awaitNextLoop", "resolve", "mobCore", "getParentIdById", "id", "parentId", "componentMap", "addSelfIdToParentComponent", "item", "componentName", "value", "child", "updateChildrenArray", "setParentsIdFallback", "componentId", "element", "parent", "ATTR_IS_COMPONENT", "newItem", "ATTR_IS_COMPONENT_VALUE", "addParentIdToFutureComponent", "queryAllFutureComponent", "setDynamicPropsWatch", "id", "unWatchArray", "item", "componentMap", "parentPropsWatcher", "unBind", "unwatch", "filterExportableStateFromObject", "componentName", "currentProps", "exportableState", "getComponentList", "key", "previous", "current", "value", "checkIfStateIsExportable", "propName", "getIdByInstanceName", "name", "id", "componentMap", "instanceName", "componentHasKey", "key", "freezePropById", "id", "prop", "item", "componentMap", "freezedPros", "unFreezePropById", "currentProp", "getFreezePropStatus", "getStateById", "id", "componentMap", "setStateById", "id", "prop", "value", "fire", "getFreezePropStatus", "item", "componentMap", "state", "componentName", "checkIfStateIsExportable", "setStateByName", "name", "getIdByInstanceName", "watchById", "id", "prop", "cb", "componentMap", "queque", "maxQueuqueSize", "incrementTickQueuque", "props", "id", "mobCore", "queueIsResolved", "tick", "debug", "previousResolve", "awaitNextLoop", "value", "resolve", "repeaterQueque", "repeaterQuequeIsEmpty", "maxQueuqueSize", "incrementRepeaterTickQueuque", "props", "id", "mobCore", "queueIsResolved", "repeaterTick", "debug", "previousResolve", "awaitNextLoop", "value", "resolve", "dynamicPropsMap", "setBindProps", "propsObj", "propsIsValid", "propsObjUpdates", "id", "mobCore", "setDynamicProp", "componentId", "bind", "props", "currentParentId", "fireCallback", "parentState", "getStateById", "parentStateKeys", "state", "componentMap", "currentRepeaterState", "getRepeaterStateById", "newProps", "key", "value", "setStateById", "addCurrentIdToDynamicProps", "propsId", "repeatPropBind", "applyDynamicProps", "removeCurrentIdToDynamicProps", "currentComponentId", "removeCurrentToDynamicPropsByPropsId", "inizilizeWatcher", "dynamicPropsFilteredArray", "item", "dynamicpropsfiltered", "parentId", "bindUpdated", "getParentIdById", "hasKey", "componentHasKey", "repeaterQuequeIsEmpty", "repeaterTick", "watchIsRunning", "unWatchArray", "watchById", "decrementQueue", "incrementTickQueuque", "QUEQUE_TYPE_BINDPROPS", "setDynamicPropsWatch", "removeOrphansDynamicProps", "repeaterTargetComponentMap", "addRepeatTargetComponent", "repeatId", "repeaterParentId", "targetComponent", "getRepeaterComponentTarget", "id", "item", "removeRepeaterComponentTargetByParentId", "key", "value", "removeItselfFromParent", "id", "parentId", "componentName", "value", "componentMap", "child", "removeChildFromChildrenArray", "removeAndDestroyById", "instanceValue", "element", "state", "destroy", "parentPropsWatcher", "childId", "unwatch", "removeRepeaterComponentTargetByParentId", "removeCurrentIdToDynamicProps", "destroyComponentInsideNodeById", "container", "removeCancellableComponent", "isCancellable", "removeOrphanComponent", "removeOrphansPropsFromParent", "removeOrphansBindEvent", "removeOrphansDynamicProps", "setDestroyCallback", "cb", "item", "MAIN_STORE_ACTIVE_ROUTE", "MAIN_STORE_ACTIVE_PARAMS", "MAIN_STORE_BEFORE_ROUTE_LEAVES", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "MAIN_STORE_AFTER_ROUTE_CHANGE", "MAIN_STORE_ROUTE_IS_LOADING", "MAIN_STORE_REPEATER_PARSER_ROOT", "mainStore", "mobCore", "MAIN_STORE_ACTIVE_ROUTE", "MAIN_STORE_ACTIVE_PARAMS", "MAIN_STORE_BEFORE_ROUTE_LEAVES", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "MAIN_STORE_AFTER_ROUTE_CHANGE", "MAIN_STORE_ROUTE_IS_LOADING", "MAIN_STORE_REPEATER_PARSER_ROOT", "HISTORY_BACK", "HISTORY_NEXT", "historyBack", "historyNext", "deleteLastHistoryBack", "deleteLastHistoryNext", "setHistoryBack", "value", "setHistoryNext", "resetNext", "historyBackSize", "getLastHistoryBack", "getPenultimateHistoryNext", "getLastHistoryNext", "getLastHistory", "direction", "HISTORY_BACK", "routeList", "indexPage", "pageNotFound", "setRouteList", "list", "getRouteByName", "routeName", "name", "setIndex", "getIndex", "setPageNotFound", "getPageNotFound", "domContentID", "setContentId", "contentId", "getContentId", "pageTransition", "beforePageTransition", "setBeforePageTransition", "fn", "setPageTransition", "getBeforePageTransition", "getPageTransition", "parserCounter", "incrementParserCounter", "decrementParserCounter", "selectAll", "root", "result", "node", "walkPreOrder", "queryComponentUseSlot", "child", "selectAll", "root", "result", "node", "walkPreOrder", "queryGenericSlot", "child", "selectAll", "root", "slotName", "node", "walkPreOrder", "querySecificSlot", "child", "result", "selectAll", "root", "node", "walkPreOrder", "queryUnNamedSlot", "child", "result", "getNewElement", "element", "content", "debug", "getDefaultComponent", "removeOrphanSlot", "queryGenericSlot", "slot", "dynamicPropsIdFromSlot", "removeCurrentToDynamicPropsByPropsId", "staticPropsIdFromSlot", "removeCurrentToPropsByPropsId", "addToSlot", "componentWithSlot", "queryComponentUseSlot", "component", "slotName", "querySecificSlot", "elementMoved", "propsIdFromSlot", "bindPropsIdFromSlot", "executeConversion", "prevContent", "newElement", "id", "delegateEventId", "unNamedSlot", "queryUnNamedSlot", "ATTR_WEAK_BIND_EVENTS", "ATTR_IS_COMPONENT", "convertToRealElement", "resolve", "getParseSourceArray", "element", "currentSelectors", "componentToParse", "parseSourceArray", "query", "queryAllFutureComponent", "getRefs", "element", "ATTR_REFS", "item", "previous", "current", "refKey", "newRefsByKey", "getRefsComponent", "parseRef", "refs", "key", "value", "refsComponentToNewElement", "ref", "id", "getElementById", "onMountCallbackMap", "addOnMoutCallback", "id", "cb", "fireOnMountCallBack", "element", "refsCollection", "destroyCallback", "parseRef", "setDestroyCallback", "selectAll", "root", "repeatId", "node", "walkPreOrder", "querySecificRepeater", "child", "result", "activeRepeatMap", "addActiveRepeat", "id", "state", "container", "removeActiveRepeat", "repeat", "getActiveRepeater", "getChildrenIdByName", "id", "componentName", "child", "componentMap", "updateChildrenOrder", "filterBy", "getElementById", "componentsIdFiltered", "element", "a", "b", "elementA", "elementB", "item", "getNewElement", "current", "previous", "key", "el", "value", "a", "mixPreviousAndCurrentData", "index", "arrayhaskey", "arr", "item", "listKeyExist", "getUnivoqueByKey", "data", "v", "i", "v2", "getChildrenInsideElement", "component", "getChildren", "element", "children", "id", "child", "getElementById", "currentRepeaterValueMap", "setComponentRepeaterState", "current", "id", "mobCore", "getComponentRepeaterState", "DEFAULT_CURRENT_REPEATER_STATE", "value", "BEFORE", "AFTER", "getPartialsComponentList", "state", "key", "currentUnique", "index", "render", "repeatId", "currentValue", "sync", "ATTR_KEY", "ATTR_REPEATER_PROP_BIND", "ATTR_CURRENT_LIST_VALUE", "setComponentRepeaterState", "ATTR_CHILD_REPEATID", "renderHtml", "addWithKey", "current", "previous", "repeaterParentElement", "targetComponent", "getChildren", "id", "getUnivoqueByKey", "elementToRemoveByKey", "getNewElement", "item", "keyValue", "getElementByKeyInContainer", "elementToAddObj", "mixPreviousAndCurrentData", "newPersistentElementOrder", "isNewElement", "parent", "debug", "getDefaultComponent", "updateChildrenOrder", "childrenFiltered", "getChildrenInsideElement", "chunkedElementToAdd", "firstEl", "firstElementIsNew", "previousOrNextExistingElement", "getElementById", "componentToAppend", "element", "position", "component", "getIdByElement", "removeAndDestroyById", "addWithoutKey", "state", "current", "previous", "repeaterParentElement", "targetComponent", "getChildren", "render", "repeatId", "currentLenght", "previousLenght", "diff", "_item", "index", "currentValue", "currentIndex", "sync", "ATTR_CURRENT_LIST_VALUE", "setComponentRepeaterState", "ATTR_REPEATER_PROP_BIND", "ATTR_CHILD_REPEATID", "renderHtml", "element", "childrenFilteredToRemove", "getChildrenInsideElement", "childrenToRemoveByKey", "_child", "i", "childrenPersistent", "childId", "removeAndDestroyById", "getElementById", "updateChildren", "state", "repeaterParentElement", "targetComponent", "current", "previous", "getChildren", "key", "id", "render", "repeatId", "currentUnivoque", "listKeyExist", "addWithKey", "addWithoutKey", "mainStore", "MAIN_STORE_REPEATER_PARSER_ROOT", "updateChildrenOrder", "watchList", "state", "setState", "emit", "watch", "clean", "beforeUpdate", "afterUpdate", "getChildren", "key", "id", "repeaterParentElement", "repeatId", "render", "repeaterEl", "querySecificRepeater", "mainComponent", "getElementById", "forceRepeater", "current", "previous", "mobCore", "descrementQueue", "incrementTickQueuque", "QUEQUE_TYPE_REPEATER", "descrementRepeaterQueue", "incrementRepeaterTickQueuque", "freezePropById", "getActiveRepeater", "unFreezePropById", "targetComponentBeforeParse", "getRepeaterComponentTarget", "getChildrenInsideElement", "removeAndDestroyById", "addActiveRepeat", "currentUnivoque", "updateChildren", "targetComponentAfterParse", "childrenFiltered", "index", "currentValue", "setRepeaterStateById", "getComponentIdByRepeatercontext", "childId", "removeActiveRepeat", "repeatMap", "addRepeat", "repeatId", "obj", "inizializeRepeat", "repeatId", "repeaterParent", "obj", "repeatMap", "fireFirstRepeat", "watchList", "getParamsForComponentFunction", "getState", "setState", "emit", "emitAsync", "computed", "watch", "id", "key", "bindEventsId", "repeatIdArray", "attachTo", "component", "position", "clean", "destroyComponentInsideNodeById", "mainStore", "MAIN_STORE_REPEATER_PARSER_ROOT", "componentName", "getChildrenIdByName", "state", "callback", "unsubscribe", "prop", "freezePropById", "unFreezePropById", "unBind", "obj", "ATTR_DYNAMIC", "setBindProps", "ATTR_PROPS", "setStaticProps", "removeAndDestroyById", "element", "getParentIdById", "cb", "unsubscribeParent", "watchById", "setDynamicPropsWatch", "strings", "values", "renderHtml", "addOnMoutCallback", "eventsData", "ATTR_BIND_EVENTS", "setBindEvents", "ATTR_WEAK_BIND_EVENTS", "setDelegateBindEvent", "stateToWatch", "beforeUpdate", "afterUpdate", "render", "currentRepeatId", "mobCore", "addRepeat", "ATTR_REPEATID", "selectAll", "root", "result", "node", "walkPreOrder", "queryGenericRepeater", "child", "getParamsFromWebComponent", "element", "parentIdForced", "id", "instanceName", "parentIdFromWebComponent", "parentId", "propsId", "dynamicPropsId", "bindEventsId", "dynamicPropsIdFromSlot", "propsSlot", "currentRepeaterValueId", "repeaterContextId", "componentRepeatId", "key", "componentName", "cleanProsId", "cleanProsFromSlot", "propsFromParent", "getPropsFromParent", "propsFromSlot", "baseProps", "repeatPropBind", "getRepeaterPropBind", "currentRepeatValue", "getRepeaterStateById", "getComponentRepeaterState", "filterExportableStateFromObject", "addComponentToStore", "element", "instanceName", "props", "state", "key", "currentRepeaterState", "DEFAULT_CURRENT_REPEATER_STATE", "isRepeaterFirstChildNode", "repeatPropBind", "repeaterContextId", "parentPropsWatcher", "destroy", "freezedPros", "isCancellable", "child", "parentId", "id", "componentName", "store", "mobCore", "addPropsToState", "componentMap", "prop", "value", "fire", "getFreezePropStatus", "keys", "fn", "cb", "parseComponentsRecursive", "element", "functionToFireAtTheEnd", "isCancellable", "currentIterationCounter", "currentSelectors", "parentIdForced", "componentList", "getComponentList", "componentToParse", "parseSourceArray", "getParseSourceArray", "parseLimitReached", "getDefaultComponent", "activeParser", "decrementParserCounter", "item", "onMount", "fireDynamic", "fireFirstRepeat", "applyDelegationBindEvent", "componentToParseName", "userFunctionComponent", "componentParams", "scoped", "props", "id", "componentName", "instanceName", "key", "dynamicPropsId", "dynamicPropsIdFromSlot", "currentRepeatValue", "bindEventsId", "parentId", "componentRepeatId", "repeatPropBind", "repeaterContextId", "getParamsFromWebComponent", "state", "getState", "setState", "emit", "emitAsync", "computed", "watch", "addComponentToStore", "setParentsIdFallback", "addSelfIdToParentComponent", "addRepeatTargetComponent", "shouldAddCurrentRepeaterValue", "setIsRepeaterFirstChildNode", "setRepeaterStateById", "setRepeaterContext", "addCurrentIdToDynamicProps", "objectFromComponentFunction", "getParamsForComponentFunction", "content", "classList", "newElement", "convertToRealElement", "refsCollection", "getRefs", "refsCollectionComponent", "getRefsComponent", "addParentIdToFutureComponent", "setElementById", "repeatersParents", "queryGenericRepeater", "placeholder", "firstRepeatEmitArray", "repeatId", "inizializeRepeat", "applyBindEvents", "shoulBeScoped", "fireOnMountCallBack", "refFromComponent", "refsComponentToNewElement", "applyDynamicProps", "fn", "parseComponents", "element", "isCancellable", "parentIdForced", "incrementParserCounter", "parseComponentsRecursive", "initParseWatcher", "mainStore", "MAIN_STORE_REPEATER_PARSER_ROOT", "parentId", "decrementQueqe", "incrementTickQueuque", "QUEQUE_TYPE_PARSE_WATCH_ASYNC", "restoreScroll", "setRestoreScroll", "value", "getRestoreScroll", "loadRoute", "route", "params", "scrollY", "comeFromHistory", "mainStore", "MAIN_STORE_ROUTE_IS_LOADING", "tick", "contentId", "getContentId", "contentEl", "activeRoute", "MAIN_STORE_BEFORE_ROUTE_LEAVES", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "skip", "unWatchRouteChange", "removeOrphanComponent", "MAIN_STORE_ACTIVE_ROUTE", "MAIN_STORE_ACTIVE_PARAMS", "routeObejct", "getRouteByName", "props", "content", "beforePageTransition", "getBeforePageTransition", "clone", "removeCancellableComponent", "parseComponents", "MAIN_STORE_AFTER_ROUTE_CHANGE", "getRestoreScroll", "pageTransition", "getPageTransition", "getRouteModule", "url", "index", "getIndex", "pageNotFound", "getPageNotFound", "getRouteByName", "previousHash", "previousParamsToPush", "currentSearch", "historyDirection", "previousHistory", "currentHistory", "sanitizeParams", "value", "sanitizeHash", "getParams", "previous", "current", "currentParams", "key", "hashHandler", "historyObejct", "mobCore", "routeIsLoading", "mainStore", "parts", "search", "hash", "params", "paramsToPush", "setHistoryBack", "HISTORY_BACK", "setHistoryNext", "HISTORY_NEXT", "getLastHistoryNext", "loadRoute", "getRouteModule", "getLastHistory", "router", "event", "historyBackSize", "resetNext", "loadUrl", "url", "debugRoute", "mainStore", "MAIN_STORE_BEFORE_ROUTE_LEAVES", "current", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "previous", "MAIN_STORE_ACTIVE_ROUTE", "MAIN_STORE_AFTER_ROUTE_CHANGE", "inizializeApp", "rootId", "wrapper", "contentId", "routes", "afterInit", "index", "pageNotFound", "beforePageTransition", "pageTransition", "restoreScroll", "rootEl", "wrapperDOM", "setContentId", "setRoot", "setPageTransition", "setBeforePageTransition", "setRestoreScroll", "initParseWatcher", "setComponentList", "setRouteList", "setIndex", "setPageNotFound", "parseComponents", "mobCore", "debugRoute", "router", "staticProps", "props", "ATTR_PROPS", "setStaticProps", "getTreeRecursive", "chunk", "previous", "current", "key", "value", "child", "componentName", "instanceName", "childrenId", "childrenChunk", "componentMap", "getTree", "AnimationTitleFn", "html", "onMount", "watchSync", "element", "ref", "motionCore", "titleEl", "value", "mobCore", "AnimationTitle", "createComponent", "AnimationTitleFn", "value", "icon_code_default", "navigationStore", "mobCore", "CodeButtonFn", "getState", "watchSync", "onMount", "html", "delegateEvents", "setCodeOvrlayState", "setStateByName", "element", "value", "isActive", "unsubscribeOpenNav", "navigationStore", "unsubscribeCloseNav", "drawers", "icon_code_default", "CodeButton", "createComponent", "CodeButtonFn", "LoaderFn", "onMount", "html", "watch", "remove", "getState", "position", "element", "tweenOut", "tween", "opacity", "scale", "shouldRemove", "Loader", "createComponent", "LoaderFn", "val", "import_core", "core_default", "HighlightJS", "IDENT_RE", "KEYWORDS", "LITERALS", "TYPES", "ERROR_TYPES", "BUILT_IN_GLOBALS", "BUILT_IN_VARIABLES", "BUILT_INS", "javascript", "hljs", "regex", "hasClosingTag", "match", "after", "tag", "IDENT_RE$1", "FRAGMENT", "XML_SELF_CLOSING", "XML_TAG", "response", "afterMatchIndex", "nextChar", "m", "afterMatch", "KEYWORDS$1", "decimalDigits", "frac", "decimalInteger", "NUMBER", "SUBST", "HTML_TEMPLATE", "CSS_TEMPLATE", "GRAPHQL_TEMPLATE", "TEMPLATE_STRING", "COMMENT", "SUBST_INTERNALS", "SUBST_AND_COMMENTS", "PARAMS_CONTAINS", "PARAMS", "CLASS_OR_EXTENDS", "CLASS_REFERENCE", "USE_STRICT", "FUNCTION_DEFINITION", "UPPER_CASE_CONSTANT", "noneOf", "list", "FUNCTION_CALL", "PROPERTY_ACCESS", "GETTER_OR_SETTER", "FUNC_LEAD_IN_RE", "FUNCTION_VARIABLE", "detectSafari", "userAgentString", "safariAgent", "detectFirefox", "firefixAgent", "setBrowserClass", "userAgent", "body", "loadTextContent", "source", "response", "loadJsonContent", "core_default", "javascript", "loadSnippet", "ref", "source", "success", "data", "loadTextContent", "SnippetFn", "html", "onMount", "getState", "isFull", "hasBorder", "hasOverflow", "numLines", "isFullClass", "hasBorderClass", "hasOverflowClass", "remValue", "lineHeight", "codeEl", "awaitLoad", "Snippet", "createComponent", "SnippetFn", "anchorStore", "mobCore", "items", "mainStore", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "hasAnchor", "id", "options", "SpacerAnchorFn", "html", "getState", "onMount", "style", "line", "label", "lineClass", "element", "anchorStore", "val", "observer", "entries", "entry", "SpacerAnchor", "createComponent", "SpacerAnchorFn", "val", "getList", "items", "item", "renderHtml", "ListFn", "html", "getState", "style", "color", "dots", "colorClass", "List", "createComponent", "ListFn", "val", "ParagraphFn", "html", "getState", "style", "color", "colorClass", "Paragraph", "createComponent", "ParagraphFn", "val", "TitleFn", "html", "getState", "tag", "color", "isBold", "colorClass", "Title", "createComponent", "TitleFn", "val", "getComponents", "data", "staticProps", "awaitLoadSnippet", "item", "component", "props", "content", "renderHtml", "getData", "source", "success", "currentData", "loadJsonContent", "getLoader", "bindProps", "contentIsLoaded", "HtmlContentFn", "html", "getState", "setState", "onMount", "useMinHeight", "useMaxWidth", "useMinHeightClass", "useMaxWidthClass", "HtmlContent", "createComponent", "HtmlContentFn", "List", "Paragraph", "Title", "Loader", "Snippet", "SpacerAnchor", "SmoothScroller", "data", "NOOP", "directionIsValid", "genericEaseTypeIsValid", "breakpointIsValid", "breakpointTypeIsValid", "mobCore", "valueIsBooleanAndReturnDefault", "valueIsNumberAndReturnDefault", "valueIsFunctionAndReturnDefault", "element", "e", "spinY", "clientX", "clientY", "parallaxConstant", "HandleSpring", "HandleLerp", "target", "preventDefault", "mq", "item", "val", "outerWidth", "outerHeight", "client", "isDescendant", "result", "bodyIsOverflow", "percent", "percentValue", "clamp", "x", "y", "bodyScroll", "defaultPreset", "tween", "HandleTween", "isRunning", "overflow", "ease", "val", "onComplete", "mobCore", "to", "target", "data", "targetParsed", "isNode", "offset", "duration", "valueIsNumberAndReturnDefault", "valueIsBooleanAndReturnDefault", "easeTweenIsValid", "scrollNow", "resolve", "reject", "slide", "slideItems", "slideId", "isNode", "target", "isValid", "mobCore", "setSlideData", "data", "HandleTween", "val", "subscribe", "item", "prevId", "id", "reset", "up", "res", "reject", "currentItem", "tween", "currentHeight", "outerHeight", "down", "height", "horizontalScrollerContstant", "getAlign", "columnAlign", "horizontalScrollerContstant", "horizontalScrollerCss", "mainContainer", "queryType", "breakpoint", "container", "trigger", "row", "column", "shadow", "useSticky", "columnHeight", "columnWidth", "media", "mq", "userSelect", "triggerPosition", "rowSticky", "align", "width", "css", "styleDiv", "style", "HorizontalScroller", "data", "valueIsBooleanAndReturnDefault", "valueIsNumberAndReturnDefault", "breakpointIsValid", "breakpointTypeIsValid", "genericEaseTypeIsValid", "horizontalScrollerContstant", "valueIsFunctionAndReturnDefault", "NOOP", "mobCore", "originalShadowClass", "element", "horizontalScrollerCss", "e", "movementX", "value", "mq", "touchValueX", "gapX", "pipe", "horizontalResize", "item", "documentScrollTop", "resolve", "width", "outerWidth", "a", "b", "shadowsTransition", "shadowClass", "debug", "left", "inCenter", "outCenter", "end", "percentrange", "shadowData", "height", "outerHeight", "x", "getTranslateValues", "offset", "screenRatio", "windowDifference", "widthAmount", "diffAmount", "shadowTransitionEl", "inCenterMarker", "outCenterMarker", "leftMarker", "endMarker", "plusFull", "plusHalf", "start", "val", "val1", "val2", "scrollTriggerInstance", "ParallaxClass", "parentIsMoving", "percent", "destroyAll", "styleDiv", "overlayScroller", "screen", "scroller", "scrollbar", "instance", "SmoothScroller", "percent", "scrollerHeight", "outerHeight", "screenHeight", "scrollBarHeight", "outerWidth", "thumbWidth", "val", "icon_copy_default", "copyToClipboard", "getState", "rawContent", "getRepeaterCard", "sync", "bindProps", "setState", "delegateEvents", "renderHtml", "activeContent", "urls", "index", "label", "source", "_e", "printContent", "codeEl", "currentKey", "updateScroller", "goToTop", "staticProps", "renderComponent", "htmlContent", "CodeOverlayFn", "onMount", "repeat", "html", "watch", "removeDOM", "element", "ref", "screenEl", "scrollerEl", "scrollbar", "move", "overlayScroller", "mainStore", "MAIN_STORE_BEFORE_ROUTE_LEAVES", "firstActiveItem", "icon_copy_default", "CodeOverlayButtonFn", "onMount", "watchSync", "html", "getState", "key", "disable", "element", "unwatchSelected", "selected", "CodeOverlayButton", "createComponent", "CodeOverlayButtonFn", "CodeOverlay", "CodeOverlayFn", "HtmlContent", "DebugButtonFn", "html", "delegateEvents", "mainStore", "componentMap", "getTree", "bindEventMap", "currentRepeaterValueMap", "activeRepeatMap", "repeatMap", "onMountCallbackMap", "staticPropsMap", "dynamicPropsMap", "repeaterTargetComponentMap", "eventDelegationMap", "tempDelegateEventMap", "CebugButton", "createComponent", "DebugButtonFn", "Mlogo1Fn", "html", "onMount", "getState", "watchSync", "svg", "active", "activeClass", "ref", "logo", "isActive", "MLogo1", "createComponent", "Mlogo1Fn", "scroll_arrow_default", "QuickNavFn", "getState", "onMount", "html", "watchSync", "active", "activeClass", "element", "ref", "motionCore", "prev", "next", "isActive", "route", "color", "scroll_arrow_default", "QuickNav", "createComponent", "QuickNavFn", "value", "RouteLoaderFn", "html", "onMount", "element", "tweenOut", "tween", "opacity", "scale", "mainStore", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "MAIN_STORE_AFTER_ROUTE_CHANGE", "RouteLoader", "createComponent", "RouteLoaderFn", "ScrollDownLabelFn", "html", "onMount", "getState", "watchSync", "active", "activeClass", "element", "isActive", "scroll_arrow_default", "ScrollDownLabel", "createComponent", "ScrollDownLabelFn", "FooterFn", "html", "FooterNavButtonFn", "html", "onMount", "getState", "label", "section", "element", "navigationStore", "current", "isActiveSection", "data", "getItems", "delegateEvents", "staticProps", "label", "url", "section", "renderHtml", "loadUrl", "FooterNavFn", "html", "motionCore", "FooterNavButton", "createComponent", "FooterNavButtonFn", "FooterNav", "FooterNavFn", "Footer", "createComponent", "FooterFn", "FooterNav", "openInfo", "navInfo", "mobCore", "closeInfo", "titleHandler", "loadUrl", "navigationStore", "HeaderFn", "html", "onMount", "delegateEvents", "ref", "title", "beta", "mainStore", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "route", "icon_github_default", "icon", "icon_github_default", "onClick", "event", "button", "url", "loadUrl", "navigationIsOpen", "navigationStore", "additems", "delegateEvents", "header", "getCommonData", "links", "link", "svg", "internal", "renderHtml", "HeadernavFn", "html", "hanburgerHandler", "navigationIsOpen", "navigationStore", "state", "HeaderToggleFn", "onMount", "html", "delegateEvents", "element", "mobCore", "HeaderNav", "createComponent", "HeadernavFn", "HeaderToggle", "HeaderToggleFn", "Header", "HeaderFn", "currentPercent", "initNavigationScoller", "root", "screenEl", "scrollerEl", "percentEl", "setDelay", "navScroller", "SmoothScroller", "percent", "navigationIsOpen", "navigationStore", "section", "currentSection", "header", "navHeight", "outerHeight", "headerHeight", "maxValue", "closeNavigation", "element", "main", "mobCore", "openNavigation", "navigationStore", "addHandler", "toTopBtn", "navigationIsOpen", "bodyScroll", "NavigationContainerFn", "html", "onMount", "ref", "lastMq", "wrap", "currentMq", "motionCore", "initNavigationScoller", "getItems", "data", "staticProps", "setState", "bindProps", "bindEvents", "item", "index", "label", "url", "activeId", "children", "section", "sectioName", "scrollToSection", "renderHtml", "currentAccordionId", "NavigationFn", "html", "getCommonData", "navigationStore", "NavigationButtonFn", "getState", "html", "onMount", "watch", "delegateEvents", "label", "url", "arrowClass", "subMenuClass", "fireRoute", "callback", "scrollToSection", "activeId", "element", "isOpen", "mobCore", "mainStore", "MAIN_STORE_ACTIVE_ROUTE", "current", "hash", "activeParams", "paramsMatch", "isActiveRoute", "navigationStore", "loadUrl", "NavigationLabelFn", "getState", "html", "label", "sectioName", "getSubmenu", "children", "staticProps", "callback", "child", "label", "url", "scrollToSection", "activeId", "renderHtml", "NavigationSubmenuFn", "onMount", "html", "getState", "setState", "bindProps", "watchSync", "headerButton", "setNavigationState", "setStateByName", "ref", "content", "slide", "isOpen", "navigationStore", "prev", "NavigationButton", "createComponent", "NavigationButtonFn", "NavigationLabel", "NavigationLabelFn", "NavigationSubmenu", "NavigationSubmenuFn", "Navigation", "NavigationFn", "NavigationContainer", "NavigationContainerFn", "useComponent", "CodeOverlay", "Header", "NavigationContainer", "Footer", "QuickNav", "RouteLoader", "AnimationTitle", "MLogo1", "ScrollDownLabel", "CodeButton", "CebugButton", "wrapper", "svg", "loadTextContent", "renderHtml", "staticProps", "setValue", "value", "getScrollbarWith", "mobCore", "scrollY", "mainStore", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "beforePageTransition", "oldNode", "pageTransition", "newNode", "oldRoute", "newRoute", "motionCore", "oldNodeTween", "tween", "newNodeTween", "opacity", "tl", "timeline", "useComponent", "Title", "pageNotFound", "renderHtml", "staticProps", "DocContainerFn", "html", "onMount", "setLogoState", "setStateByName", "DocContainer", "createComponent", "DocContainerFn", "DocTitleFn", "html", "DocTitle", "createComponent", "DocTitleFn", "DocTitleSmallFn", "html", "DocsTitleSmall", "createComponent", "DocTitleSmallFn", "ScrollToButtonFn", "html", "getState", "onMount", "watchSync", "label", "element", "val", "ScrollToButton", "createComponent", "ScrollToButtonFn", "disableObservereffect", "addScrollButton", "html", "delegateEvents", "sync", "setState", "bindProps", "getState", "_e", "index", "anchorItems", "scroll", "label", "element", "offsetTop", "offset", "bodyScroll", "activeLabel", "ScrollToFn", "onMount", "repeat", "motionCore", "unWatchStoreComputed", "anchorStore", "val", "tick", "unWatchStoreActive", "ScrollTo", "createComponent", "ScrollToFn", "ScrollToButton", "useComponent", "DocContainer", "DocsTitleSmall", "ScrollTo", "DocTitle", "HtmlContent", "getBreadCrumbs", "breadCrumbs", "section", "renderHtml", "layoutSidebarAnchor", "props", "source", "title", "data", "loadJsonContent", "staticProps", "items", "data", "items", "getItems", "staticProps", "item", "label", "url", "renderHtml", "LinksMobJsFn", "html", "getState", "section", "LinksMobJsButtonFn", "html", "getState", "label", "url", "activeRoute", "mainStore", "LinksMobJsButton", "createComponent", "LinksMobJsButtonFn", "LinksMobJs", "LinksMobJsFn", "useComponent", "DocContainer", "DocsTitleSmall", "DocTitle", "HtmlContent", "LinksMobJs", "getBreadCrumbs", "breadCrumbs", "item", "renderHtml", "layoutSidebarLinks", "props", "source", "title", "section", "data", "loadJsonContent", "staticProps", "content", "renderHtml", "onResize", "element", "motionCore", "OnlyDesktopFn", "html", "onMount", "mobCore", "OnlyDesktop", "createComponent", "OnlyDesktopFn", "canvasBackground", "getCanvasContext", "disableOffcanvas", "useOffscreen", "getOffsetCanvas", "canvas", "offscreen", "offScreenCtx", "copyCanvasBitmap", "ctx", "bitmap", "roundRectIsSupported", "roundRectCustom", "x", "y", "w", "h", "r", "createGrid", "numberOfRow", "numberOfColumn", "cellWidth", "cellHeight", "gutter", "previous", "row", "col", "previousItems", "newCol", "newRow", "getOffsetXCenter", "getOffsetYCenter", "canvasWidth", "width", "canvasHeight", "height", "animatedPatternN0Animation", "canvas", "numberOfRow", "numberOfColumn", "cellWidth", "cellHeight", "gutter", "fill", "disableOffcanvas", "stagger", "reorder", "useOffscreen", "context", "getCanvasContext", "isActive", "gridData", "data", "gridTween", "gridTimeline", "ctx", "activeRoute", "mainStore", "offscreen", "offScreenCtx", "getOffsetCanvas", "createGrid", "item", "i", "value", "hasFill", "tween", "scale", "rotate", "draw", "canvasBackground", "x", "y", "centerX", "centerY", "width", "height", "offsetXCenter", "offsetYCenter", "rotation", "xx", "xy", "copyCanvasBitmap", "timeline", "direction", "loop", "mobCore", "time", "unsubscribeResize", "getOffsetXCenter", "getOffsetYCenter", "unWatchPause", "navigationStore", "unWatchResume", "currentRoute", "AnimatedPatternN0Fn", "onMount", "html", "getState", "prevRoute", "nextRoute", "title", "setQuickNavState", "setStateByName", "setMainTitleState", "setCodeButtonState", "ref", "motionCore", "wrap", "canvas", "animatedPatternN0", "getLegendData", "source", "destroyAnimation", "animatedPatternN0Animation", "mobCore", "AnimatedPatternN0", "createComponent", "AnimatedPatternN0Fn", "detectFirefox", "detectSafari", "OnlyDesktop", "animatedPatternN0Params", "useComponent", "AnimatedPatternN0", "animatedPatternN0", "params", "version", "props", "animatedPatternN0Params", "renderHtml", "staticProps", "animatedPatternN1Animation", "canvas", "numberOfRow", "numberOfColumn", "cellWidth", "cellHeight", "gutter", "fill", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "gridData", "data", "centerTween", "gridTween", "gridTimeline", "top", "left", "offset", "ctx", "activeRoute", "mainStore", "offscreen", "offScreenCtx", "getOffsetCanvas", "createGrid", "item", "i", "value", "tween", "mouseX", "mouseY", "scale", "draw", "canvasBackground", "x", "y", "centerX", "centerY", "width", "height", "hasFill", "offsetXCenter", "offsetYCenter", "mouseXparsed", "mouseYparsed", "xScale", "yScale", "delta", "scaleFactor", "clamp", "rotation", "xx", "xy", "copyCanvasBitmap", "timeline", "move", "unsubscribeMouseMove", "mobCore", "client", "unsubscribeTouchMove", "loop", "time", "unsubscribeResize", "getOffsetXCenter", "getOffsetYCenter", "unWatchPause", "navigationStore", "unWatchResume", "currentRoute", "AnimatedPatternN1Fn", "onMount", "html", "getState", "setQuickNavState", "setStateByName", "setMainTitleState", "setCodeButtonState", "ref", "motionCore", "wrap", "canvas", "animatedPatternN1", "getLegendData", "source", "destroyAnimation", "animatedPatternN1Animation", "mobCore", "AnimatedPatternN1", "createComponent", "AnimatedPatternN1Fn", "detectFirefox", "detectSafari", "OnlyDesktop", "useComponent", "AnimatedPatternN1", "animatedPatternN1", "renderHtml", "getWithRounded", "width", "relativeIndex", "amountOfPath", "getHeightRounded", "height", "caterpillarN0Animation", "canvas", "fill", "stroke", "opacity", "spacerY", "intialRotation", "perpetualRatio", "mouseMoveRatio", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "ctx", "stemData", "steamDataReorded", "mainTween", "left", "offset", "activeRoute", "mainStore", "offscreen", "offScreenCtx", "getOffsetCanvas", "useRadius", "_item", "i", "count", "index", "tween", "item", "rotate", "draw", "time", "centerX", "centerY", "canvasBackground", "offsetInverse", "centerDirection", "scale", "rotation", "xx", "xy", "copyCanvasBitmap", "loop", "mobCore", "unsubscribeResize", "move", "x", "xCenter", "unsubscribeMouseMove", "client", "unsubscribeTouchMove", "unWatchPause", "navigationStore", "unWatchResume", "currentRoute", "CaterpillarN0Fn", "onMount", "html", "getState", "setQuickNavState", "setStateByName", "setMainTitleState", "setCodeButtonState", "ref", "motionCore", "wrap", "canvas", "caterpillarN0", "getLegendData", "source", "destroyAnimation", "caterpillarN0Animation", "mobCore", "CaterpillarN0", "createComponent", "CaterpillarN0Fn", "condition", "detectFirefox", "detectSafari", "OnlyDesktop", "useComponent", "CaterpillarN0", "caterpillarN0", "renderHtml", "caterpillarN1Animation", "canvas", "numItems", "width", "height", "fill", "opacity", "radius", "rotationDuration", "rotationEach", "centerEach", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "ctx", "squareData", "rotationTween", "centerTween", "rectTimeline", "top", "left", "offset", "activeRoute", "mainStore", "offscreen", "offScreenCtx", "getOffsetCanvas", "useRadius", "_item", "i", "relativeIndex", "opacityVal", "tween", "item", "rotate", "x", "y", "draw", "canvasBackground", "hasFill", "unitInverse", "centerX", "centerY", "scale", "rotation", "xx", "xy", "copyCanvasBitmap", "timeline", "loop", "mobCore", "unsubscribeResize", "move", "winWidth", "winHeight", "xCenter", "yCenter", "clamp", "unsubscribeMouseMove", "client", "unsubscribeTouchMove", "unWatchPause", "navigationStore", "unWatchResume", "currentRoute", "CaterpillarN1Fn", "onMount", "html", "getState", "setQuickNavState", "setStateByName", "setMainTitleState", "setCodeButtonState", "ref", "motionCore", "wrap", "canvas", "caterpillarN1", "getLegendData", "source", "destroyAnimation", "caterpillarN1Animation", "mobCore", "CaterpillarN1", "createComponent", "CaterpillarN1Fn", "detectFirefox", "detectSafari", "OnlyDesktop", "useComponent", "CaterpillarN1", "caterpillarN1", "renderHtml", "logAddMethods", "value", "direction", "isForced", "caterpillarN2Animation", "canvas", "numItems", "width", "height", "radius", "fill", "opacity", "xAmplitude", "yAmplitude", "duration", "friction", "rotationDefault", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "ctx", "squareData", "userRotation", "activeRoute", "mainStore", "offscreen", "offScreenCtx", "getOffsetCanvas", "useRadius", "_item", "i", "relativeIndex", "itemWidth", "itemHeight", "opacityVal", "infiniteTween", "tween", "item", "x", "rotate", "val", "factor", "xr", "yr", "syncTimeline", "timeline", "loop", "draw", "canvasBackground", "y", "hasFill", "centerX", "centerY", "scale", "rotation", "xx", "xy", "copyCanvasBitmap", "mobCore", "unsubscribeResize", "unWatchPause", "navigationStore", "unWatchResume", "currentRoute", "getControls", "buttons", "className", "value", "label", "renderHtml", "CaterpillarN2Fn", "onMount", "html", "getState", "rotationDefault", "setQuickNavState", "setStateByName", "setMainTitleState", "setCodeButtonState", "element", "ref", "motionCore", "wrap", "canvas", "rangeValue", "rotationButton", "caterpillarN2", "getLegendData", "source", "animationMethods", "caterpillarN2Animation", "destroy", "setRotation", "method", "mobCore", "duration", "buttons", "CaterpillarN2", "createComponent", "CaterpillarN2Fn", "detectFirefox", "detectSafari", "OnlyDesktop", "useComponent", "CaterpillarN2", "caterpillarN2", "renderHtml", "useComponent", "DocContainer", "DocsTitleSmall", "ScrollTo", "DocTitle", "HtmlContent", "canvas_overview", "data", "loadJsonContent", "renderHtml", "staticProps", "scrollerN0Animation", "canvas", "canvasScroller", "numberOfRow", "numberOfColumn", "cellWidth", "cellHeight", "gutter", "fill", "stagger", "reorder", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "gridData", "data", "masterSequencer", "tween", "ctx", "activeRoute", "mainStore", "offscreen", "offScreenCtx", "getOffsetCanvas", "wichContext", "useRadius", "roundRectIsSupported", "createGrid", "item", "i", "value", "staggers", "sequencersInstances", "start", "end", "scale", "sequencer", "unsubscribe", "draw", "canvasBackground", "x", "centerX", "centerY", "width", "height", "rotate", "hasFill", "offsetXCenter", "offsetYCenter", "rotation", "xx", "xy", "roundRectCustom", "copyCanvasBitmap", "scrollerInstance", "scroller", "outerHeight", "loop", "mobCore", "time", "unsubscribeResize", "getOffsetXCenter", "getOffsetYCenter", "unWatchPause", "navigationStore", "unWatchResume", "currentRoute", "ScrollerN0Fn", "onMount", "html", "getState", "prevRoute", "nextRoute", "title", "setScrollDownState", "setStateByName", "setQuickNavState", "setMainTitleState", "setCodeButtonState", "ref", "motionCore", "scrollerN0", "getLegendData", "source", "wrap", "canvas", "canvasScroller", "destroyAnimation", "scrollerN0Animation", "mobCore", "ScrollerN0", "createComponent", "ScrollerN0Fn", "detectFirefox", "detectSafari", "OnlyDesktop", "scrollerParams", "useComponent", "ScrollerN0", "scrollerN0", "params", "version", "props", "scrollerParams", "renderHtml", "staticProps", "getWithRounded", "width", "relativeIndex", "amountOfPath", "getHeightRounded", "height", "scrollerN1Animation", "canvas", "canvasScroller", "radius", "opacity", "intialRotation", "endRotation", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "ctx", "stemData", "activeRoute", "mainStore", "offscreen", "offScreenCtx", "getOffsetCanvas", "useRadius", "_item", "i", "scrollerTween", "tween", "item", "rotate", "draw", "centerX", "centerY", "canvasBackground", "index", "unitInverse", "scale", "rotation", "xx", "xy", "copyCanvasBitmap", "scrollerInstance", "scroller", "outerHeight", "loop", "time", "mobCore", "unsubscribeResize", "unWatchPause", "navigationStore", "unWatchResume", "currentRoute", "ScrollerN1Fn", "onMount", "html", "getState", "setScrollDownState", "setStateByName", "setQuickNavState", "setMainTitleState", "setCodeButtonState", "ref", "motionCore", "scrollerN1", "getLegendData", "source", "wrap", "canvas", "canvasScroller", "destroyAnimation", "scrollerN1Animation", "mobCore", "ScrollerN1", "createComponent", "ScrollerN1Fn", "detectFirefox", "detectSafari", "OnlyDesktop", "useComponent", "ScrollerN1", "scrollerN1", "renderHtml", "DynamicListButtonFn", "html", "getState", "onMount", "watchSync", "label", "element", "value", "DynamicListButton", "createComponent", "DynamicListButtonFn", "startData", "state1", "state2", "state3", "buttons", "state1", "state2", "state3", "startData", "repeaters", "getButton", "setState", "staticProps", "delegateEvents", "bindProps", "column", "index", "data", "buttonLabel", "renderHtml", "tick", "activeSample", "getRepeaters", "item", "key", "clean", "label", "counter", "DynamicListFn", "html", "onMount", "watchSync", "setCodeButtonState", "setStateByName", "refs", "counterEl", "repeater", "getLegendData", "source", "value", "prev", "DynamicListCounterFn", "watch", "onMount", "html", "getState", "parentListId", "counter", "ref", "counterValueEl", "value", "DynamicCounter", "createComponent", "DynamicListCounterFn", "DynamicListEmptyFn", "html", "DynamicListEmpty", "createComponent", "DynamicListEmptyFn", "updateContent", "label", "val", "DynamicListCardFn", "getState", "html", "onMount", "key", "staticProps", "bindProps", "watch", "id", "isFull", "parentListId", "index", "counter", "element", "ref", "indexEl", "labelEl", "counterEl", "mobCore", "DynamicListCard", "createComponent", "DynamicListCardFn", "DynamicCounter", "DynamicListEmpty", "setContent", "value", "DynamicListSlottedLabelFn", "html", "onMount", "watch", "getState", "label", "ref", "contentEl", "DynamicListSlottedLabel", "createComponent", "DynamicListSlottedLabelFn", "getRepeaterCard", "sync", "staticProps", "bindProps", "listId", "delegateEvents", "getState", "renderHtml", "counter", "data", "index", "_e", "current", "updateNewElement", "id", "afterUpdateList", "element", "className", "childrenId", "newElement", "DynamicListRepeaterFn", "html", "repeat", "key", "clean", "label", "keyParsed", "DynamicListRepeater", "createComponent", "DynamicListRepeaterFn", "DynamicListCard", "DynamicListSlottedLabel", "DynamicList", "createComponent", "DynamicListFn", "startData", "DynamicListButton", "DynamicListRepeater", "OnlyDesktop", "useComponent", "DynamicList", "dynamic_list", "renderHtml", "simpleIntroAnimation", "refs", "introTween", "tween", "loopTween", "item", "scale", "opacity", "introTl", "timeline", "loopTimeline", "homeTextAnimation", "refs", "textTween", "tween", "item", "y", "playAnimation", "playIntro", "playText", "playSvg", "HomeComponentFn", "html", "onMount", "getState", "svg", "setCodeButtonState", "setStateByName", "refs", "textStagger", "svg_group", "destroy", "simpleIntroAnimation", "destroyText", "homeTextAnimation", "home", "getLegendData", "source", "HomeComponent", "createComponent", "HomeComponentFn", "useComponent", "HomeComponent", "home", "svg", "loadTextContent", "renderHtml", "staticProps", "FooterShapeV1Fn", "html", "onMount", "getState", "svg", "position", "positionClass", "element", "mobCore", "FooterShapeV1", "createComponent", "FooterShapeV1Fn", "sideWidth", "createPins", "indicators", "setState", "button", "i", "scroller", "outerWidth", "relativeIndex", "refreshPins", "pins", "pin", "createParallax", "titles", "title", "showNav", "nav", "indicator", "hideNav", "horizontalScrollerAnimation", "animatePin", "rootRef", "titlesParallax", "side", "unsubscribeResize", "mobCore", "horizontalCustom", "HorizontalScroller", "item", "getColumns", "numOfCol", "pinIsVisible", "staticProps", "pinClass", "_col", "i", "renderHtml", "getNav", "setState", "bindProps", "delegateEvents", "currentId", "currentIdFromScroll", "HorizontalScrollerFn", "onMount", "html", "getState", "watch", "animatePin", "svgLeft", "svgRight", "prevRoute", "nextRoute", "setQuickNavState", "setStateByName", "setMainTitleState", "setCodeButtonState", "element", "ref", "motionCore", "indicators", "nav", "titles", "destroy", "horizontalScrollerAnimation", "horizontalScroller", "getLegendData", "source", "id", "shadowCenter", "top", "offset", "height", "outerHeight", "scrollValue", "bodyScroll", "HorizontalScrollerButtonFn", "getState", "watch", "html", "onMount", "id", "ref", "button", "active", "HorizontalScrollerButton", "createComponent", "HorizontalScrollerButtonFn", "HorizontalScrollerSectionFn", "html", "getState", "id", "pinClass", "HorizontalScrollerSection", "createComponent", "HorizontalScrollerSectionFn", "HorizontalScroller", "createComponent", "HorizontalScrollerFn", "HorizontalScrollerButton", "HorizontalScrollerSection", "FooterShapeV1", "horizontalScrollerParams", "useComponent", "HorizontalScroller", "horizontalScroller", "params", "version", "props", "horizontalScrollerParams", "data_left", "loadTextContent", "data_right", "renderHtml", "staticProps", "childAnimations", "groups", "trails", "RAD2DEG", "windowWidth", "windowHeight", "lastY", "lastX", "lastRotation", "loopToAdd", "trailCanMove", "tranilRotateElement", "item", "mouseTween", "tween", "x", "y", "mouseTweenRotate", "rotation", "trailIntro", "scale", "opacity", "unsubScribeResize", "mobCore", "unsubscribeMouseMove", "client", "yDiff", "xDiff", "rotationParsed", "difference", "rotationDef", "introTween", "introTl", "timeline", "timeOutValue", "detectSafari", "numberOfStar", "playAnimation", "playIntro", "getTrail", "star", "_item", "index", "renderHtml", "SvgChild", "onMount", "html", "getState", "isDesktop", "motionCore", "svg", "setQuickNavState", "setStateByName", "setMainTitleState", "refs", "ref", "stagger", "trail0", "trail1", "trail2", "trail3", "trail4", "trail5", "trail6", "trail7", "trail8", "trail9", "childMethods", "childAnimations", "destroy", "svgChild", "createComponent", "SvgChild", "OnlyDesktop", "useComponent", "svgChild", "child", "svg", "loadTextContent", "star", "renderHtml", "staticProps", "mv1Animation", "logoRefs", "around", "logoRefsByKey", "item", "key", "value", "logoIntroTween", "tween", "logoTween", "aroundIntroTween", "aroundTween", "scale", "x", "xVal", "opacity", "introTl", "timeline", "tl", "playAnimation", "playIntro", "playSvg", "Mv1Component", "html", "onMount", "getState", "isDesktop", "motionCore", "logo", "sideShape", "setQuickNavState", "setStateByName", "setMainTitleState", "refs", "ref", "block1", "block2", "block3", "block4", "block5", "block6", "block7", "block8", "M_left", "M_right", "around", "destroySvg", "mv1Animation", "Mv1Def", "createComponent", "Mv1Component", "OnlyDesktop", "useComponent", "Mv1Def", "mv1", "logo", "loadTextContent", "sideShape", "renderHtml", "staticProps", "mobJsComponentBreadCrumbs", "routes", "pageNotFound", "layoutSidebarAnchor", "animatedPatternN0", "animatedPatternN1", "caterpillarN0", "caterpillarN1", "caterpillarN2", "canvas_overview", "scrollerN0", "scrollerN1", "dynamic_list", "home", "layoutSidebarLinks", "horizontalScroller", "child", "mv1", "mobCore", "setBrowserClass", "motionCore", "jsMainLoader", "jsMainLoaderBackground", "loaderTween", "tween", "item", "opacity", "scale", "loadData", "setDefaultComponent", "inizializeApp", "wrapper", "routes", "beforePageTransition", "pageTransition", "getScrollbarWith"]
}
