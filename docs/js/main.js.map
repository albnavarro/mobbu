{
  "version": 3,
  "sources": ["../../node_modules/highlight.js/lib/core.js", "../../src/js/mob/mob-core/modules.js", "../../src/js/mob/mob-core/utils/index.js", "../../src/js/mob/mob-core/utils/next-tick.js", "../../src/js/mob/mob-core/store/store-type.js", "../../src/js/mob/mob-core/store/check-equality.js", "../../src/js/mob/mob-core/store/constant.js", "../../src/js/mob/mob-core/store/current-key.js", "../../src/js/mob/mob-core/store/fire-queque.js", "../../src/js/mob/mob-core/store/log-style.js", "../../src/js/mob/mob-core/store/store-map.js", "../../src/js/mob/mob-core/store/store-warining.js", "../../src/js/mob/mob-core/store/store-utils.js", "../../src/js/mob/mob-core/store/store-set.js", "../../src/js/mob/mob-core/store/initial-validation.js", "../../src/js/mob/mob-core/store/watch.js", "../../src/js/mob/mob-core/store/inizialize-instance.js", "../../src/js/mob/mob-core/store/store-get.js", "../../src/js/mob/mob-core/store/store-emit.js", "../../src/js/mob/mob-core/store/store-debug.js", "../../src/js/mob/mob-core/store/proxi.js", "../../src/js/mob/mob-core/store/bind-store.js", "../../src/js/mob/mob-core/store/destroy.js", "../../src/js/mob/mob-core/store/index.js", "../../src/js/mob/mob-core/events/event-store.js", "../../src/js/mob/mob-core/events/load-utils/handle-load.js", "../../src/js/mob/mob-core/events/mouse-utils/normalize-whell.js", "../../src/js/mob/mob-core/events/mouse-utils/handle-mouse.js", "../../src/js/mob/mob-core/events/raf-utils/handle-cache.js", "../../src/js/mob/mob-core/events/visibility-change/handle-visibility-change.js", "../../src/js/mob/mob-core/events/raf-utils/handle-next-tick.js", "../../src/js/mob/mob-core/events/raf-utils/handle-next-frame.js", "../../src/js/mob/mob-core/events/raf-utils/handle-frame-index.js", "../../src/js/mob/mob-core/events/error-handler/catch-animation-reject.js", "../../src/js/mob/mob-core/events/raf-utils/load-fps.js", "../../src/js/mob/mob-core/events/raf-utils/time.js", "../../src/js/mob/mob-core/events/raf-utils/handle-frame.js", "../../src/js/mob/mob-core/events/debounce.js", "../../src/js/mob/mob-core/events/resize-utils/handle-resize.js", "../../src/js/mob/mob-core/events/scroll-utils/handle-scroll-immediate.js", "../../src/js/mob/mob-core/events/scroll-utils/handle-scroll.js", "../../src/js/mob/mob-core/events/throttle.js", "../../src/js/mob/mob-core/events/scroll-utils/handle-scroll-throttle.js", "../../src/js/mob/mob-core/events/scroll-utils/handle-scroll-utils.js", "../../src/js/mob/mob-core/events/pointer-event/handle-pointer.js", "../../src/js/mob/mob-js/modules.js", "../../src/js/mob/mob-js/main-store/constant.js", "../../src/js/mob/mob-js/main-store/main-store.js", "../../src/js/mob/mob-js/main-store/main-store-api.js", "../../src/js/mob/mob-js/component/component-map.js", "../../src/js/mob/mob-js/modules/repeater/repeat-id-placeholder-map.js", "../../src/js/mob/mob-js/modules/repeater/action/set-repeat-component-children.js", "../../src/js/mob/mob-js/component/weak-element-map.js", "../../src/js/mob/mob-js/component/action/element.js", "../../src/js/mob/mob-js/constant.js", "../../src/js/mob/mob-js/modules/repeater/repeat-id-host-map.js", "../../src/js/mob/mob-js/modules/repeater/action/get-repeater-parent.js", "../../src/js/mob/mob-js/component/action/repeater.js", "../../src/js/mob/mob-js/component/action/children.js", "../../src/js/mob/mob-js/route/dom-ref/content.js", "../../src/js/mob/mob-js/component/instance-map.js", "../../src/js/mob/mob-js/component/action/component.js", "../../src/js/mob/mob-js/component/action/get-tree.js", "../../src/js/mob/mob-js/component/action/methods.js", "../../src/js/mob/mob-js/query/query-all-future-component.js", "../../src/js/mob/mob-js/modules/user-component/index.js", "../../src/js/mob/mob-js/component/utils.js", "../../src/js/mob/mob-js/component/action/parent.js", "../../src/js/mob/mob-js/modules/bind-props/bind-props-map.js", "../../src/js/mob/mob-js/modules/bind-props/remove-current-id-to-bind-props.js", "../../src/js/mob/mob-js/component/action/watch.js", "../../src/js/mob/mob-js/modules/static-props/index.js", "../../src/js/mob/mob-js/utils.js", "../../src/js/mob/mob-js/modules/bind-object/index.js", "../../src/js/mob/mob-js/component/action/state/get-state-by-id.js", "../../src/js/mob/mob-js/modules/bind-text/index.js", "../../src/js/mob/mob-js/modules/invalidate/invalidate-function-map.js", "../../src/js/mob/mob-js/modules/invalidate/invalidate-id-placeholder-map.js", "../../src/js/mob/mob-js/modules/invalidate/action/remove-invalidate-id.js", "../../src/js/mob/mob-js/modules/repeater/repeat-function-map.js", "../../src/js/mob/mob-js/modules/repeater/action/remove-repeater-id.js", "../../src/js/mob/mob-js/component/action/remove-and-destroy/remove-itself-from-parent.js", "../../src/js/mob/mob-js/component/non-persisitent-set.js", "../../src/js/mob/mob-js/component/action/remove-and-destroy/cancellable-component/remove-persisitent-component.js", "../../src/js/mob/mob-js/component/action/remove-and-destroy/remove-and-destroy-by-id.js", "../../src/js/mob/mob-js/component/action/state/get-state-by-name.js", "../../src/js/mob/mob-js/component/action/freeze.js", "../../src/js/mob/mob-js/modules/repeater/action/set-parent-repeater.js", "../../src/js/mob/mob-js/web-component/repeat.js", "../../src/js/mob/mob-js/modules/invalidate/invalidate-id-host-map.js", "../../src/js/mob/mob-js/modules/invalidate/action/set-parent-invalidate.js", "../../src/js/mob/mob-js/web-component/invalidate.js", "../../src/js/mob/mob-js/modules/slot/index.js", "../../src/js/mob/mob-js/web-component/slot.js", "../../src/js/mob/mob-js/component/in-memory-element-set.js", "../../src/js/mob/mob-js/web-component/user-component.js", "../../src/js/mob/mob-js/web-component/bind-text.js", "../../src/js/mob/mob-js/web-component/bind-object.js", "../../src/js/mob/mob-js/component/component-list.js", "../../src/js/mob/mob-js/component/action/state/check-if-state-is-exportable.js", "../../src/js/mob/mob-js/component/action/state/set-state-by-id.js", "../../src/js/mob/mob-js/component/action/state/set-state-by-name.js", "../../src/js/mob/mob-js/component/action/state/update-state-by-id.js", "../../src/js/mob/mob-js/component/action/state/update-state-by-name.js", "../../src/js/mob/mob-js/component/create-component/index.js", "../../src/js/mob/mob-js/route/route-list/index.js", "../../src/js/mob/mob-js/query/query-component-use-slot.js", "../../src/js/mob/mob-js/query/query-generic-slot.js", "../../src/js/mob/mob-js/query/query-specific-slot.js", "../../src/js/mob/mob-js/query/query-unnamed-slot.js", "../../src/js/mob/mob-js/modules/repeater/repeater-value/index.js", "../../src/js/mob/mob-js/parse/steps/constant.js", "../../src/js/mob/mob-js/parse/steps/utils.js", "../../src/js/mob/mob-js/parse/steps/convert-to-real-element.js", "../../src/js/mob/mob-js/parse/utils.js", "../../src/js/mob/mob-js/component/action/remove-and-destroy/set-destroy-callback.js", "../../src/js/mob/mob-js/modules/on-mount/index.js", "../../src/js/mob/mob-js/queque/utils.js", "../../src/js/mob/mob-js/queque/tick.js", "../../src/js/mob/mob-js/modules/common-event.js", "../../src/js/mob/mob-js/modules/bind-events/index.js", "../../src/js/mob/mob-js/component/action/props.js", "../../src/js/mob/mob-js/queque/tick-repeater.js", "../../src/js/mob/mob-js/queque/tick-invalidate.js", "../../src/js/mob/mob-js/modules/bind-props/index.js", "../../src/js/mob/mob-js/component/action/remove-and-destroy/destroy-component-inside-node-by-id.js", "../../src/js/mob/mob-js/modules/bind-effetc/index.js", "../../src/js/mob/mob-js/modules/bind-refs/index.js", "../../src/js/mob/mob-js/route/dom-ref/root.js", "../../src/js/mob/mob-js/modules/delegate-events/index.js", "../../src/js/mob/mob-js/modules/common-repeat-invalidate.js", "../../src/js/mob/mob-js/modules/repeater/action/remove-repeat-by-repeat-id.js", "../../src/js/mob/mob-js/modules/repeater/action/destroy-nested-repeat.js", "../../src/js/mob/mob-js/modules/repeater/action/inizialize-nested-repeat.js", "../../src/js/mob/mob-js/modules/invalidate/action/add-invalidate-unsubcribe.js", "../../src/js/mob/mob-js/modules/invalidate/action/remove-invalidate-by-invalidate-id.js", "../../src/js/mob/mob-js/modules/invalidate/action/destroy-nested-invalidate.js", "../../src/js/mob/mob-js/modules/invalidate/action/get-invalidate-parent.js", "../../src/js/mob/mob-js/modules/invalidate/action/inizialize-nested-invalidate.js", "../../src/js/mob/mob-js/modules/invalidate/action/inizialize-invalidate-watch.js", "../../src/js/mob/mob-js/modules/invalidate/action/parse-bindprop-invalidate.js", "../../src/js/mob/mob-js/modules/invalidate/action/set-invalidate-function.js", "../../src/js/mob/mob-js/modules/invalidate/action/set-invalidate-placeholder-map-initialized.js", "../../src/js/mob/mob-js/modules/invalidate/action/set-invalidate-placeholder-map-scoped-id.js", "../../src/js/mob/mob-js/modules/repeater/action/add-repeat-unsubcribe.js", "../../src/js/mob/mob-js/modules/repeater/active-repeater/index.js", "../../src/js/mob/mob-js/modules/repeater/utils.js", "../../src/js/mob/mob-js/modules/repeater/action/get-repeat-placeholder-map-current-data.js", "../../src/js/mob/mob-js/modules/repeater/update/get-proxi.js", "../../src/js/mob/mob-js/modules/repeater/update/utils.js", "../../src/js/mob/mob-js/modules/repeater/action/set-repeat-native-dom-children.js", "../../src/js/mob/mob-js/modules/repeater/action/set-repeat-placeholder-map-current-data.js", "../../src/js/mob/mob-js/modules/repeater/update/add-with-key.js", "../../src/js/mob/mob-js/modules/repeater/update/add-without-key.js", "../../src/js/mob/mob-js/modules/repeater/update/index.js", "../../src/js/mob/mob-js/modules/repeater/watch/index.js", "../../src/js/mob/mob-js/modules/repeater/action/inizialize-repeat-watch.js", "../../src/js/mob/mob-js/modules/repeater/action/set-repeat-function.js", "../../src/js/mob/mob-js/modules/repeater/action/set-repeater-placeholder-map-initialized.js", "../../src/js/mob/mob-js/modules/repeater/action/set-repeater-placeholder-map-initial-render.js", "../../src/js/mob/mob-js/modules/repeater/action/initialize-repeater-placeholder-map.js", "../../src/js/mob/mob-js/parse/steps/get-params-for-component.js", "../../src/js/mob/mob-js/component/action/state/export-state.js", "../../src/js/mob/mob-js/parse/steps/get-params-from-web-component.js", "../../src/js/mob/mob-js/component/action/remove-and-destroy/cancellable-component/add-persisitent-component.js", "../../src/js/mob/mob-js/component/index.js", "../../src/js/mob/mob-js/modules/invalidate/action/get-invalidate-functions.js", "../../src/js/mob/mob-js/modules/repeater/action/get-repeat-functions.js", "../../src/js/mob/mob-js/parse/parse-function-while.js", "../../src/js/mob/mob-js/parse/index.js", "../../src/js/mob/mob-js/route/constant.js", "../../src/js/mob/mob-js/route/history/index.js", "../../src/js/mob/mob-js/component/action/remove-and-destroy/remove-orphan-temp-ids.js", "../../src/js/mob/mob-js/route/page-transition/index.js", "../../src/js/mob/mob-js/route/scroll/index.js", "../../src/js/mob/mob-js/component/action/remove-and-destroy/cancellable-component/destroy-all-non-persisitent-component.js", "../../src/js/mob/mob-js/route/load-route/index.js", "../../src/js/mob/mob-js/route/redirect/index.js", "../../src/js/mob/mob-js/route/utils.js", "../../src/js/mob/mob-js/route/index.js", "../../src/js/mob/mob-js/initialize-app/index.js", "../../src/js/mob/mob-js/modules/invalidate/action/get-number-of-active-invalidate.js", "../../src/js/mob/mob-js/modules/repeater/action/get-number-of-active-repeater.js", "../../src/js/mob/mob-motion/core.js", "../../src/js/mob/mob-motion/animation/spring/spring-config.js", "../../src/js/mob/mob-motion/animation/utils/set-up/set-up-validation.js", "../../src/js/mob/mob-motion/utils/merge-deep.js", "../../src/js/mob/mob-motion/setup.js", "../../src/js/mob/mob-motion/utils/media-manager.js", "../../src/js/mob/mob-motion/animation/utils/animation-utils.js", "../../src/js/mob/mob-motion/tween.js", "../../src/js/mob/mob-motion/animation/utils/tween-action/set-values.js", "../../src/js/mob/mob-motion/animation/utils/stagger/stagger-costant.js", "../../src/js/mob/mob-motion/animation/scroller/mob-scroller-constant.js", "../../src/js/mob/mob-motion/animation/utils/warning.js", "../../src/js/mob/mob-motion/animation/tween/tween-config.js", "../../src/js/mob/mob-motion/animation/utils/regex-validation.js", "../../src/js/mob/mob-motion/animation/scroller/get-constant-from-regex.js", "../../src/js/mob/mob-motion/animation/utils/tween-action/tween-validation.js", "../../src/js/mob/mob-motion/animation/utils/stagger/stagger-utils.js", "../../src/js/mob/mob-motion/animation/utils/stagger/get-default-stagger.js", "../../src/js/mob/mob-motion/animation/utils/stagger/get-radial-stagger.js", "../../src/js/mob/mob-motion/animation/utils/stagger/set-stagger.js", "../../src/js/mob/mob-motion/animation/utils/callbacks/default-callback.js", "../../src/js/mob/mob-motion/animation/utils/callbacks/call-back-store.js", "../../src/js/mob/mob-motion/animation/utils/callbacks/set-callback.js", "../../src/js/mob/mob-motion/animation/utils/tween-action/actions.js", "../../src/js/mob/mob-motion/animation/utils/init-raf.js", "../../src/js/mob/mob-motion/animation/utils/fps-log-inizialization.js", "../../src/js/mob/mob-motion/animation/utils/stagger/should-inizialize.js", "../../src/js/mob/mob-motion/animation/utils/resume-tween.js", "../../src/js/mob/mob-motion/animation/utils/tween-action/get-values.js", "../../src/js/mob/mob-motion/animation/utils/tween-action/merge-array.js", "../../src/js/mob/mob-motion/animation/lerp/get-values-on-draw.js", "../../src/js/mob/mob-motion/animation/lerp/mob-lerp.js", "../../src/js/mob/mob-motion/animation/utils/callbacks/sync-callback.js", "../../src/js/mob/mob-motion/animation/scroller/mob-scroller-tween.js", "../../src/js/mob/mob-motion/animation/sequencer/mob-master-sequencer.js", "../../src/js/mob/mob-motion/animation/sequencer/sync-actions.js", "../../src/js/mob/mob-motion/animation/utils/timeline/timeline-constant.js", "../../src/js/mob/mob-motion/animation/sequencer/reduce-function.js", "../../src/js/mob/mob-motion/animation/sequencer/get-values-on-draw.js", "../../src/js/mob/mob-motion/animation/sequencer/set-prop-from-ancestor.js", "../../src/js/mob/mob-motion/animation/sequencer/order-row.js", "../../src/js/mob/mob-motion/animation/sequencer/insert-new-row.js", "../../src/js/mob/mob-motion/animation/sequencer/merge-new-values.js", "../../src/js/mob/mob-motion/animation/sequencer/mob-sequencer.js", "../../src/js/mob/mob-motion/animation/spring/get-values-on-draw.js", "../../src/js/mob/mob-motion/animation/spring/mob-spring.js", "../../src/js/mob/mob-motion/animation/tween/get-values-on-draw.js", "../../src/js/mob/mob-motion/animation/tween/mob-time-tween.js", "../../src/js/mob/mob-motion/animation/sequencer/mob-create-stagger.js", "../../src/js/mob/mob-motion/timeline.js", "../../src/js/mob/mob-motion/utils/functions-utils.js", "../../src/js/mob/mob-motion/animation/async-timeline/fitler-active-props.js", "../../src/js/mob/mob-motion/animation/async-timeline/reduce-tween-until-index.js", "../../src/js/mob/mob-motion/animation/async-timeline/loop-callback.js", "../../src/js/mob/mob-motion/animation/async-timeline/async-timeline.js", "../../src/js/mob/mob-motion/animation/sync-timeline/mob-sync-timeline.js", "../../src/js/mob/mob-motion/scroller.js", "../../src/js/mob/mob-motion/animation/scroller/mob-scroller-emitter.js", "../../src/js/mob/mob-motion/animation/scroller/mob-scroller-marker.js", "../../src/js/mob/mob-motion/animation/scroller/mob-scroller-pin-utils.js", "../../src/js/mob/mob-motion/animation/scroller/mob-scroller-pin.js", "../../src/js/mob/mob-motion/animation/scroller/warning.js", "../../src/js/mob/mob-motion/animation/scroller/mob-scroller-utils.js", "../../src/js/mob/mob-motion/animation/scroller/mob-scroller.js", "../../src/js/component/layout/navigation/store/nav-store.js", "../../src/js/mob/mob-motion/plugin/page-scroll/page-scroller.js", "../../src/js/mob/mob-motion/plugin/body-scroll/body-scroll.js", "../../src/js/mob/mob-motion/plugin/horizontal-scroller/js/horizontal-scroller-constant.js", "../../src/js/mob/mob-motion/plugin/horizontal-scroller/js/horizontal-scroller-css.js", "../../src/js/mob/mob-motion/plugin/horizontal-scroller/js/horizontal-scroller.js", "../../src/js/mob/mob-motion/plugin/slide/slide.js", "../../src/js/mob/mob-motion/plugin/smooth-scroller/smooth-scroller.js", "../../src/js/utils/page-scroll.js", "../../src/js/utils/utils.js", "../../src/js/data/index.js", "../../src/js/page-transition/index.js", "../../src/js/pages/404/index.js", "../../src/js/component/pages/layout-links/animation/links-scroller.js", "../../src/js/component/pages/layout-links/layout-links.js", "../../src/js/component/pages/layout-links/definition.js", "../../src/js/pages/layout/layout-links.js", "../../src/js/component/instance-name.js", "../../src/js/component/common/doc-container/doc-container.js", "../../src/js/component/common/doc-container/definition.js", "../../src/js/component/common/doc-title/doc-side.js", "../../src/js/component/common/doc-title/definition.js", "../../src/js/component/common/doc-title-small/doc-title-small.js", "../../src/js/component/common/doc-title-small/definition.js", "../../src/js/component/common/loader/loader.js", "../../src/js/component/common/loader/definition.js", "../../node_modules/highlight.js/es/core.js", "../../node_modules/highlight.js/es/languages/javascript.js", "../../src/js/component/common/snippet/snippet.js", "../../src/js/component/common/snippet/definition.js", "../../src/js/component/common/spacer-anchor/spacer-anchor.js", "../../src/js/component/common/spacer-anchor/definition.js", "../../src/js/component/common/typography/anchor-button/anchor-button.js", "../../src/js/component/common/typography/anchor-button/definition.js", "../../src/js/component/common/typography/list/list.js", "../../src/js/component/common/typography/list/definition.js", "../../src/js/component/common/typography/paragraph/paragraph.js", "../../src/js/component/common/typography/paragraph/definition.js", "../../src/js/component/lib/utils/get-triangle.js", "../../src/js/component/common/typography/titles/animation/pin-animation.js", "../../src/js/component/common/typography/titles/title.js", "../../src/js/component/common/typography/titles/definition.js", "../../src/js/component/common/html-content/html-content.js", "../../src/js/component/common/doc-svg/doc-svg.js", "../../src/js/component/common/doc-svg/definition.js", "../../src/js/component/common/html-content/definition.js", "../../src/js/component/common/scroll-to/button/scroll-to-button.js", "../../src/js/component/common/scroll-to/button/definition.js", "../../src/js/component/common/scroll-to/scroll-to.js", "../../src/js/component/common/scroll-to/definition.js", "../../src/js/pages/layout/utils.js", "../../src/js/pages/layout/layout-sidebar-anchor.js", "../../src/js/pages/layout/layout-sidebar-links.js", "../../src/js/component/pages/about/animation/inspiration.js", "../../src/js/component/pages/about/animation/path-animation.js", "../../src/js/component/pages/about/animation/section1.js", "../../src/js/component/pages/about/animation/section-content.js", "../../src/js/component/pages/about/animation/index.js", "../../src/js/component/pages/about/animation/svg-animation.js", "../../src/js/component/pages/about/about.js", "../../src/js/component/pages/about/definition.js", "../../src/js/pages/about/layout-about.js", "../../src/js/component/pages/benchmark/fake-component/benchmark-fake-component.js", "../../src/js/component/pages/benchmark/fake-component/definition.js", "../../src/js/component/pages/benchmark/partials/definition-partial.js", "../../src/js/component/pages/benchmark/partials/bench-mark-list-partial.js", "../../src/js/component/pages/benchmark/invalidate/benchmark-invalidate.js", "../../src/js/component/pages/benchmark/invalidate/definition.js", "../../src/js/component/pages/benchmark/partials/bench-mark-garbage-partial.js", "../../src/js/component/pages/benchmark/repeat-key/benchmark-repeat-with-key.js", "../../src/js/component/pages/benchmark/repeat-key/definition.js", "../../src/js/component/pages/benchmark/repeat-key-nested/benchmark-repeat-with-key-nested.js", "../../src/js/component/pages/benchmark/repeat-key-nested/definition.js", "../../src/js/component/pages/benchmark/repeat-no-key/benchmark-repeat-no-key.js", "../../src/js/component/pages/benchmark/repeat-no-key/definition.js", "../../src/js/component/pages/benchmark/repeat-no-key-bind-store/store.js", "../../src/js/component/pages/benchmark/repeat-no-key-bind-store/bench-mark-list-external-partial.js", "../../src/js/component/pages/benchmark/repeat-no-key-bind-store/benchmark-repeat-no-key-bind-store.js", "../../src/js/component/pages/benchmark/repeat-no-key-bind-store/definition.js", "../../src/js/component/pages/benchmark/repeat-no-key-nested/benchmark-repeat-with-key-nested.js", "../../src/js/component/pages/benchmark/repeat-no-key-nested/definition.js", "../../src/js/pages/benchmark/index.js", "../../src/js/component/common/quick-nav/utils.js", "../../src/js/utils/canvas-utils.js", "../../src/js/component/pages/animated-pattern/n0/animation/animation.js", "../../src/js/component/pages/animated-pattern/n0/animated-pattern-n0.js", "../../src/js/component/common/animation-title/animation-title.js", "../../src/js/component/common/animation-title/definition.js", "../../src/js/component/pages/animated-pattern/n0/definition.js", "../../src/js/pages/canvas/animated-pattern-n0/animated-pattern-n0-params.js", "../../src/js/pages/canvas/animated-pattern-n0/index.js", "../../src/js/component/pages/animated-pattern/n1/animation/animation.js", "../../src/js/component/pages/animated-pattern/n1/animated-pattern-n1.js", "../../src/js/component/pages/animated-pattern/n1/definition.js", "../../src/js/pages/canvas/animate-pattern-n1/index.js", "../../src/js/component/pages/canvas/n0/animation/animation.js", "../../src/js/component/pages/canvas/n0/caterpillar-n0.js", "../../src/js/component/pages/canvas/n0/definition.js", "../../src/js/pages/canvas/caterpillar-n0/index.js", "../../src/js/component/pages/canvas/n1/animation/animation.js", "../../src/js/component/pages/canvas/n1/caterpillar-n1.js", "../../src/js/component/pages/canvas/n1/definition.js", "../../src/js/pages/canvas/caterpillar-n1/index.js", "../../src/js/component/pages/canvas/n2/animation/animation.js", "../../src/js/component/pages/canvas/n2/caterpillar-n2.js", "../../src/js/component/pages/canvas/n2/definition.js", "../../src/js/pages/canvas/caterpillar-n2/index.js", "../../src/js/component/common/scroll-down-label/utils.js", "../../src/js/component/pages/scroller/n0/animation/animation.js", "../../src/js/component/pages/scroller/n0/scroller-n0.js", "../../src/js/component/pages/scroller/n0/definition.js", "../../src/js/pages/canvas/scroller/scroller-params.js", "../../src/js/pages/canvas/scroller/index.js", "../../src/js/component/pages/scroller/n1/animation/animation.js", "../../src/js/component/pages/scroller/n1/scroller-n1.js", "../../src/js/component/pages/scroller/n1/definition.js", "../../src/js/pages/canvas/scroller-n1/index.js", "../../src/js/component/pages/dynamic-list/button/dynamic-list-button.js", "../../src/js/component/pages/dynamic-list/button/definition.js", "../../src/js/component/pages/dynamic-list/card/innerCard/dynamic-list-card-inner.js", "../../src/js/component/pages/dynamic-list/card/innerCard/definition.js", "../../src/js/component/pages/dynamic-list/data/index.js", "../../src/js/component/pages/dynamic-list/dynamic-list.js", "../../src/js/component/pages/dynamic-list/counter/dynamic-list-counter.js", "../../src/js/component/pages/dynamic-list/counter/definition.js", "../../src/js/component/pages/dynamic-list/empty/dynamic-list-empty.js", "../../src/js/component/pages/dynamic-list/empty/definition.js", "../../src/js/component/pages/dynamic-list/card/dynamic-list-card.js", "../../src/js/component/pages/dynamic-list/card/definition.js", "../../src/js/component/pages/dynamic-list/slotted-label/dynamic-list-slotted-label.js", "../../src/js/component/pages/dynamic-list/slotted-label/definition.js", "../../src/js/component/pages/dynamic-list/repeaters/dynamic-list-repeater.js", "../../src/js/component/pages/dynamic-list/repeaters/definition.js", "../../src/js/component/pages/dynamic-list/definition.js", "../../src/js/pages/dynamic-list/index.js", "../../src/js/component/lib/animation/simple-intro.js", "../../src/js/component/pages/homepage/home.js", "../../src/js/component/pages/homepage/definition.js", "../../src/js/pages/home/index.js", "../../src/js/component/pages/matrioska/matrioska.js", "../../src/js/component/pages/matrioska/item/matrioska-item.js", "../../src/js/component/pages/matrioska/item/definition.js", "../../src/js/component/pages/matrioska/definition.js", "../../src/js/pages/matrioska/index.js", "../../src/js/component/pages/horizontal-scroller/animation/animation.js", "../../src/js/component/pages/horizontal-scroller/horizontal-scroller.js", "../../src/js/component/pages/horizontal-scroller/button/horizontal-scroller-button.js", "../../src/js/component/pages/horizontal-scroller/button/definition.js", "../../src/js/component/pages/horizontal-scroller/section/horizontal-scroller-section.js", "../../src/js/component/pages/horizontal-scroller/section/definition.js", "../../src/js/component/pages/horizontal-scroller/definition.js", "../../src/js/pages/plugin/horizontal-scroller/index.js", "../../src/js/component/common/svg-shape/star/star-svg.js", "../../src/js/component/common/svg-shape/star/definition.js", "../../src/js/component/pages/move-3d/move-3d-page.js", "../../src/js/component/common/move-3d/partials/recursive-3d-shape.js", "../../src/js/component/common/move-3d/utils.js", "../../src/js/component/common/move-3d/move-3d.js", "../../src/js/component/common/move-3d/move-3d-item/utils.js", "../../src/js/component/common/move-3d/move-3d-item/move-3d-item.js", "../../src/js/component/common/move-3d/move-3d-item/definition.js", "../../src/js/component/common/move-3d/definition.js", "../../src/js/component/pages/move-3d/definition.js", "../../src/js/pages/plugin/move-3d/index.js", "../../src/js/component/common/move-3d/shape/shape1.js", "../../src/js/pages/plugin/move-3d/props.js", "../../src/js/component/common/any-component/any-component.js", "../../src/js/component/common/any-component/definition.js", "../../src/js/utils/parse-svg.js", "../../src/js/pages/svg/lettering-01/lettering-01-data.js", "../../src/js/pages/svg/lettering-01/index.js", "../../src/js/component/common/only-desktop-cta/only-desktop-cta.js", "../../src/js/component/common/only-desktop-cta/definition.js", "../../src/js/pages/onlyDesktop/index.js", "../../src/js/component/pages/async-timeline/animation/animation.js", "../../src/js/component/pages/async-timeline/async-timeline.js", "../../src/js/component/pages/async-timeline/definition.js", "../../src/js/pages/canvas/async-timeline/index.js", "../../src/js/pages/index.js", "../../src/js/utils/scrollbar-with.js", "../../src/js/component/common/debug/debug-overlay/constant.js", "../../src/js/component/lib/animation/vertical-scroller.js", "../../src/js/component/common/debug/debug-overlay/store/debug-active-component.js", "../../src/js/component/common/debug/debug-overlay/debug-component/debug-component.js", "../../src/js/component/common/debug/debug-overlay/debug-component/definition.js", "../../src/js/component/common/debug/debug-overlay/debug-filter/head/debug-filter-head.js", "../../src/js/component/common/debug/debug-overlay/debug-filter/head/definition.js", "../../src/js/component/common/debug/debug-overlay/debug-filter/list/debug-filter-list.js", "../../src/js/component/common/debug/debug-overlay/debug-filter/list/item/debug-filter-list-item.js", "../../src/js/component/common/debug/debug-overlay/debug-filter/list/item/definition.js", "../../src/js/component/common/debug/debug-overlay/debug-filter/list/definition.js", "../../src/js/component/common/debug/debug-overlay/head/debug-head.js", "../../src/js/component/common/debug/debug-overlay/head/search/debug-search.js", "../../src/js/component/common/debug/debug-overlay/head/search/definition.js", "../../src/js/component/common/debug/debug-overlay/head/definition.js", "../../src/js/component/common/debug/console-log.js", "../../src/js/component/common/debug/debug-overlay/debug-overlay.js", "../../src/js/component/common/debug/debug-overlay/tree/recursive-tree.js", "../../src/js/component/common/debug/debug-overlay/tree/debug-tree.js", "../../src/js/component/common/debug/debug-overlay/tree/item/debug-tree-item.js", "../../src/js/component/common/debug/debug-overlay/tree/item/definition.js", "../../src/js/component/common/debug/debug-overlay/tree/definition.js", "../../src/js/component/common/debug/debug-overlay/definition.js", "../../src/js/component/common/links-mob-js/links-mobjs.js", "../../src/js/component/common/links-mob-js/links-mobjs-button.js", "../../src/js/component/common/links-mob-js/definition.js", "../../src/svg/scroll_arrow.svg", "../../src/js/component/common/quick-nav/next-page.js", "../../src/js/component/common/quick-nav/definition.js", "../../src/js/component/common/route-loader/route-loader.js", "../../src/js/component/common/route-loader/definition.js", "../../src/js/component/common/scroll-down-label/scroll-down-label.js", "../../src/js/component/common/scroll-down-label/definition.js", "../../src/js/component/common/scroll-to-top/triangles.js", "../../src/js/component/common/scroll-to-top/scroll-to-top.js", "../../src/js/component/common/scroll-to-top/definition.js", "../../src/js/component/common/test-scss-grid/test-scss-grid.js", "../../src/js/component/common/test-scss-grid/definition.js", "../../src/js/component/layout/footer/footer.js", "../../src/js/component/layout/footer/footer-nav/footer-button.js", "../../src/js/component/layout/footer/footer-nav/footer-nav.js", "../../src/js/component/layout/footer/footer-nav/definition.js", "../../src/js/component/common/debug/debug-button.js", "../../src/js/component/common/debug/definition.js", "../../src/js/component/layout/footer/definition.js", "../../src/js/component/layout/header/header.js", "../../src/svg/icon-github.svg", "../../src/js/component/layout/header/header-nav.js", "../../src/js/component/layout/header/header-toggle.js", "../../src/svg/search.svg", "../../src/js/component/common/search/cta-search/search-cta.js", "../../src/js/component/common/search/cta-search/definition.js", "../../src/js/component/layout/header/definition.js", "../../src/js/component/layout/navigation/animation/nav-scroller.js", "../../src/js/component/layout/navigation/nav-container.js", "../../src/js/component/layout/navigation/navigation.js", "../../src/js/component/layout/navigation/navigation-button.js", "../../src/js/component/layout/navigation/navigation-label.js", "../../src/js/component/layout/navigation/navigation-submenu.js", "../../src/js/component/layout/navigation/definition.js", "../../src/js/component/common/search/search-overlay/search-overlay.js", "../../src/js/component/common/search/search-overlay/header/header.js", "../../src/js/component/common/search/search-overlay/header/suggestion/suggestion.js", "../../src/js/component/common/search/search-overlay/header/suggestion/definition.js", "../../src/js/component/common/search/search-overlay/header/definition.js", "../../src/js/component/common/search/search-overlay/list/fetch-data.js", "../../src/js/component/common/search/search-overlay/list/list.js", "../../src/js/component/common/search/search-overlay/list/definition.js", "../../src/js/component/common/search/search-overlay/definition.js", "../../src/js/wrapper/index.js", "../../src/js/main.js"],
  "sourcesContent": ["/* eslint-disable no-multi-assign */\n\nfunction deepFreeze(obj) {\n  if (obj instanceof Map) {\n    obj.clear =\n      obj.delete =\n      obj.set =\n        function () {\n          throw new Error('map is read-only');\n        };\n  } else if (obj instanceof Set) {\n    obj.add =\n      obj.clear =\n      obj.delete =\n        function () {\n          throw new Error('set is read-only');\n        };\n  }\n\n  // Freeze self\n  Object.freeze(obj);\n\n  Object.getOwnPropertyNames(obj).forEach((name) => {\n    const prop = obj[name];\n    const type = typeof prop;\n\n    // Freeze prop if it is an object or function and also not already frozen\n    if ((type === 'object' || type === 'function') && !Object.isFrozen(prop)) {\n      deepFreeze(prop);\n    }\n  });\n\n  return obj;\n}\n\n/** @typedef {import('highlight.js').CallbackResponse} CallbackResponse */\n/** @typedef {import('highlight.js').CompiledMode} CompiledMode */\n/** @implements CallbackResponse */\n\nclass Response {\n  /**\n   * @param {CompiledMode} mode\n   */\n  constructor(mode) {\n    // eslint-disable-next-line no-undefined\n    if (mode.data === undefined) mode.data = {};\n\n    this.data = mode.data;\n    this.isMatchIgnored = false;\n  }\n\n  ignoreMatch() {\n    this.isMatchIgnored = true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHTML(value) {\n  return value\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n}\n\n/**\n * performs a shallow merge of multiple objects into one\n *\n * @template T\n * @param {T} original\n * @param {Record<string,any>[]} objects\n * @returns {T} a single new object\n */\nfunction inherit$1(original, ...objects) {\n  /** @type Record<string,any> */\n  const result = Object.create(null);\n\n  for (const key in original) {\n    result[key] = original[key];\n  }\n  objects.forEach(function(obj) {\n    for (const key in obj) {\n      result[key] = obj[key];\n    }\n  });\n  return /** @type {T} */ (result);\n}\n\n/**\n * @typedef {object} Renderer\n * @property {(text: string) => void} addText\n * @property {(node: Node) => void} openNode\n * @property {(node: Node) => void} closeNode\n * @property {() => string} value\n */\n\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean}} Node */\n/** @typedef {{walk: (r: Renderer) => void}} Tree */\n/** */\n\nconst SPAN_CLOSE = '</span>';\n\n/**\n * Determines if a node needs to be wrapped in <span>\n *\n * @param {Node} node */\nconst emitsWrappingTags = (node) => {\n  // rarely we can have a sublanguage where language is undefined\n  // TODO: track down why\n  return !!node.scope;\n};\n\n/**\n *\n * @param {string} name\n * @param {{prefix:string}} options\n */\nconst scopeToCSSClass = (name, { prefix }) => {\n  // sub-language\n  if (name.startsWith(\"language:\")) {\n    return name.replace(\"language:\", \"language-\");\n  }\n  // tiered scope: comment.line\n  if (name.includes(\".\")) {\n    const pieces = name.split(\".\");\n    return [\n      `${prefix}${pieces.shift()}`,\n      ...(pieces.map((x, i) => `${x}${\"_\".repeat(i + 1)}`))\n    ].join(\" \");\n  }\n  // simple scope\n  return `${prefix}${name}`;\n};\n\n/** @type {Renderer} */\nclass HTMLRenderer {\n  /**\n   * Creates a new HTMLRenderer\n   *\n   * @param {Tree} parseTree - the parse tree (must support `walk` API)\n   * @param {{classPrefix: string}} options\n   */\n  constructor(parseTree, options) {\n    this.buffer = \"\";\n    this.classPrefix = options.classPrefix;\n    parseTree.walk(this);\n  }\n\n  /**\n   * Adds texts to the output stream\n   *\n   * @param {string} text */\n  addText(text) {\n    this.buffer += escapeHTML(text);\n  }\n\n  /**\n   * Adds a node open to the output stream (if needed)\n   *\n   * @param {Node} node */\n  openNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    const className = scopeToCSSClass(node.scope,\n      { prefix: this.classPrefix });\n    this.span(className);\n  }\n\n  /**\n   * Adds a node close to the output stream (if needed)\n   *\n   * @param {Node} node */\n  closeNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    this.buffer += SPAN_CLOSE;\n  }\n\n  /**\n   * returns the accumulated buffer\n  */\n  value() {\n    return this.buffer;\n  }\n\n  // helpers\n\n  /**\n   * Builds a span element\n   *\n   * @param {string} className */\n  span(className) {\n    this.buffer += `<span class=\"${className}\">`;\n  }\n}\n\n/** @typedef {{scope?: string, language?: string, children: Node[]} | string} Node */\n/** @typedef {{scope?: string, language?: string, children: Node[]} } DataNode */\n/** @typedef {import('highlight.js').Emitter} Emitter */\n/**  */\n\n/** @returns {DataNode} */\nconst newNode = (opts = {}) => {\n  /** @type DataNode */\n  const result = { children: [] };\n  Object.assign(result, opts);\n  return result;\n};\n\nclass TokenTree {\n  constructor() {\n    /** @type DataNode */\n    this.rootNode = newNode();\n    this.stack = [this.rootNode];\n  }\n\n  get top() {\n    return this.stack[this.stack.length - 1];\n  }\n\n  get root() { return this.rootNode; }\n\n  /** @param {Node} node */\n  add(node) {\n    this.top.children.push(node);\n  }\n\n  /** @param {string} scope */\n  openNode(scope) {\n    /** @type Node */\n    const node = newNode({ scope });\n    this.add(node);\n    this.stack.push(node);\n  }\n\n  closeNode() {\n    if (this.stack.length > 1) {\n      return this.stack.pop();\n    }\n    // eslint-disable-next-line no-undefined\n    return undefined;\n  }\n\n  closeAllNodes() {\n    while (this.closeNode());\n  }\n\n  toJSON() {\n    return JSON.stringify(this.rootNode, null, 4);\n  }\n\n  /**\n   * @typedef { import(\"./html_renderer\").Renderer } Renderer\n   * @param {Renderer} builder\n   */\n  walk(builder) {\n    // this does not\n    return this.constructor._walk(builder, this.rootNode);\n    // this works\n    // return TokenTree._walk(builder, this.rootNode);\n  }\n\n  /**\n   * @param {Renderer} builder\n   * @param {Node} node\n   */\n  static _walk(builder, node) {\n    if (typeof node === \"string\") {\n      builder.addText(node);\n    } else if (node.children) {\n      builder.openNode(node);\n      node.children.forEach((child) => this._walk(builder, child));\n      builder.closeNode(node);\n    }\n    return builder;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  static _collapse(node) {\n    if (typeof node === \"string\") return;\n    if (!node.children) return;\n\n    if (node.children.every(el => typeof el === \"string\")) {\n      // node.text = node.children.join(\"\");\n      // delete node.children;\n      node.children = [node.children.join(\"\")];\n    } else {\n      node.children.forEach((child) => {\n        TokenTree._collapse(child);\n      });\n    }\n  }\n}\n\n/**\n  Currently this is all private API, but this is the minimal API necessary\n  that an Emitter must implement to fully support the parser.\n\n  Minimal interface:\n\n  - addText(text)\n  - __addSublanguage(emitter, subLanguageName)\n  - startScope(scope)\n  - endScope()\n  - finalize()\n  - toHTML()\n\n*/\n\n/**\n * @implements {Emitter}\n */\nclass TokenTreeEmitter extends TokenTree {\n  /**\n   * @param {*} options\n   */\n  constructor(options) {\n    super();\n    this.options = options;\n  }\n\n  /**\n   * @param {string} text\n   */\n  addText(text) {\n    if (text === \"\") { return; }\n\n    this.add(text);\n  }\n\n  /** @param {string} scope */\n  startScope(scope) {\n    this.openNode(scope);\n  }\n\n  endScope() {\n    this.closeNode();\n  }\n\n  /**\n   * @param {Emitter & {root: DataNode}} emitter\n   * @param {string} name\n   */\n  __addSublanguage(emitter, name) {\n    /** @type DataNode */\n    const node = emitter.root;\n    if (name) node.scope = `language:${name}`;\n\n    this.add(node);\n  }\n\n  toHTML() {\n    const renderer = new HTMLRenderer(this, this.options);\n    return renderer.value();\n  }\n\n  finalize() {\n    this.closeAllNodes();\n    return true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction lookahead(re) {\n  return concat('(?=', re, ')');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction anyNumberOfTimes(re) {\n  return concat('(?:', re, ')*');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction optional(re) {\n  return concat('(?:', re, ')?');\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/**\n * @param { Array<string | RegExp | Object> } args\n * @returns {object}\n */\nfunction stripOptionsFromArgs(args) {\n  const opts = args[args.length - 1];\n\n  if (typeof opts === 'object' && opts.constructor === Object) {\n    args.splice(args.length - 1, 1);\n    return opts;\n  } else {\n    return {};\n  }\n}\n\n/** @typedef { {capture?: boolean} } RegexEitherOptions */\n\n/**\n * Any of the passed expresssions may match\n *\n * Creates a huge this | this | that | that match\n * @param {(RegExp | string)[] | [...(RegExp | string)[], RegexEitherOptions]} args\n * @returns {string}\n */\nfunction either(...args) {\n  /** @type { object & {capture?: boolean} }  */\n  const opts = stripOptionsFromArgs(args);\n  const joined = '('\n    + (opts.capture ? \"\" : \"?:\")\n    + args.map((x) => source(x)).join(\"|\") + \")\";\n  return joined;\n}\n\n/**\n * @param {RegExp | string} re\n * @returns {number}\n */\nfunction countMatchGroups(re) {\n  return (new RegExp(re.toString() + '|')).exec('').length - 1;\n}\n\n/**\n * Does lexeme start with a regular expression match at the beginning\n * @param {RegExp} re\n * @param {string} lexeme\n */\nfunction startsWith(re, lexeme) {\n  const match = re && re.exec(lexeme);\n  return match && match.index === 0;\n}\n\n// BACKREF_RE matches an open parenthesis or backreference. To avoid\n// an incorrect parse, it additionally matches the following:\n// - [...] elements, where the meaning of parentheses and escapes change\n// - other escape sequences, so we do not misparse escape sequences as\n//   interesting elements\n// - non-matching or lookahead parentheses, which do not capture. These\n//   follow the '(' with a '?'.\nconst BACKREF_RE = /\\[(?:[^\\\\\\]]|\\\\.)*\\]|\\(\\??|\\\\([1-9][0-9]*)|\\\\./;\n\n// **INTERNAL** Not intended for outside usage\n// join logically computes regexps.join(separator), but fixes the\n// backreferences so they continue to match.\n// it also places each individual regular expression into it's own\n// match group, keeping track of the sequencing of those match groups\n// is currently an exercise for the caller. :-)\n/**\n * @param {(string | RegExp)[]} regexps\n * @param {{joinWith: string}} opts\n * @returns {string}\n */\nfunction _rewriteBackreferences(regexps, { joinWith }) {\n  let numCaptures = 0;\n\n  return regexps.map((regex) => {\n    numCaptures += 1;\n    const offset = numCaptures;\n    let re = source(regex);\n    let out = '';\n\n    while (re.length > 0) {\n      const match = BACKREF_RE.exec(re);\n      if (!match) {\n        out += re;\n        break;\n      }\n      out += re.substring(0, match.index);\n      re = re.substring(match.index + match[0].length);\n      if (match[0][0] === '\\\\' && match[1]) {\n        // Adjust the backreference.\n        out += '\\\\' + String(Number(match[1]) + offset);\n      } else {\n        out += match[0];\n        if (match[0] === '(') {\n          numCaptures++;\n        }\n      }\n    }\n    return out;\n  }).map(re => `(${re})`).join(joinWith);\n}\n\n/** @typedef {import('highlight.js').Mode} Mode */\n/** @typedef {import('highlight.js').ModeCallback} ModeCallback */\n\n// Common regexps\nconst MATCH_NOTHING_RE = /\\b\\B/;\nconst IDENT_RE = '[a-zA-Z]\\\\w*';\nconst UNDERSCORE_IDENT_RE = '[a-zA-Z_]\\\\w*';\nconst NUMBER_RE = '\\\\b\\\\d+(\\\\.\\\\d+)?';\nconst C_NUMBER_RE = '(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)'; // 0x..., 0..., decimal, float\nconst BINARY_NUMBER_RE = '\\\\b(0b[01]+)'; // 0b...\nconst RE_STARTERS_RE = '!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~';\n\n/**\n* @param { Partial<Mode> & {binary?: string | RegExp} } opts\n*/\nconst SHEBANG = (opts = {}) => {\n  const beginShebang = /^#![ ]*\\//;\n  if (opts.binary) {\n    opts.begin = concat(\n      beginShebang,\n      /.*\\b/,\n      opts.binary,\n      /\\b.*/);\n  }\n  return inherit$1({\n    scope: 'meta',\n    begin: beginShebang,\n    end: /$/,\n    relevance: 0,\n    /** @type {ModeCallback} */\n    \"on:begin\": (m, resp) => {\n      if (m.index !== 0) resp.ignoreMatch();\n    }\n  }, opts);\n};\n\n// Common modes\nconst BACKSLASH_ESCAPE = {\n  begin: '\\\\\\\\[\\\\s\\\\S]', relevance: 0\n};\nconst APOS_STRING_MODE = {\n  scope: 'string',\n  begin: '\\'',\n  end: '\\'',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst QUOTE_STRING_MODE = {\n  scope: 'string',\n  begin: '\"',\n  end: '\"',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst PHRASAL_WORDS_MODE = {\n  begin: /\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\\b/\n};\n/**\n * Creates a comment mode\n *\n * @param {string | RegExp} begin\n * @param {string | RegExp} end\n * @param {Mode | {}} [modeOptions]\n * @returns {Partial<Mode>}\n */\nconst COMMENT = function(begin, end, modeOptions = {}) {\n  const mode = inherit$1(\n    {\n      scope: 'comment',\n      begin,\n      end,\n      contains: []\n    },\n    modeOptions\n  );\n  mode.contains.push({\n    scope: 'doctag',\n    // hack to avoid the space from being included. the space is necessary to\n    // match here to prevent the plain text rule below from gobbling up doctags\n    begin: '[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)',\n    end: /(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,\n    excludeBegin: true,\n    relevance: 0\n  });\n  const ENGLISH_WORD = either(\n    // list of common 1 and 2 letter words in English\n    \"I\",\n    \"a\",\n    \"is\",\n    \"so\",\n    \"us\",\n    \"to\",\n    \"at\",\n    \"if\",\n    \"in\",\n    \"it\",\n    \"on\",\n    // note: this is not an exhaustive list of contractions, just popular ones\n    /[A-Za-z]+['](d|ve|re|ll|t|s|n)/, // contractions - can't we'd they're let's, etc\n    /[A-Za-z]+[-][a-z]+/, // `no-way`, etc.\n    /[A-Za-z][a-z]{2,}/ // allow capitalized words at beginning of sentences\n  );\n  // looking like plain text, more likely to be a comment\n  mode.contains.push(\n    {\n      // TODO: how to include \", (, ) without breaking grammars that use these for\n      // comment delimiters?\n      // begin: /[ ]+([()\"]?([A-Za-z'-]{3,}|is|a|I|so|us|[tT][oO]|at|if|in|it|on)[.]?[()\":]?([.][ ]|[ ]|\\))){3}/\n      // ---\n\n      // this tries to find sequences of 3 english words in a row (without any\n      // \"programming\" type syntax) this gives us a strong signal that we've\n      // TRULY found a comment - vs perhaps scanning with the wrong language.\n      // It's possible to find something that LOOKS like the start of the\n      // comment - but then if there is no readable text - good chance it is a\n      // false match and not a comment.\n      //\n      // for a visual example please see:\n      // https://github.com/highlightjs/highlight.js/issues/2827\n\n      begin: concat(\n        /[ ]+/, // necessary to prevent us gobbling up doctags like /* @author Bob Mcgill */\n        '(',\n        ENGLISH_WORD,\n        /[.]?[:]?([.][ ]|[ ])/,\n        '){3}') // look for 3 words in a row\n    }\n  );\n  return mode;\n};\nconst C_LINE_COMMENT_MODE = COMMENT('//', '$');\nconst C_BLOCK_COMMENT_MODE = COMMENT('/\\\\*', '\\\\*/');\nconst HASH_COMMENT_MODE = COMMENT('#', '$');\nconst NUMBER_MODE = {\n  scope: 'number',\n  begin: NUMBER_RE,\n  relevance: 0\n};\nconst C_NUMBER_MODE = {\n  scope: 'number',\n  begin: C_NUMBER_RE,\n  relevance: 0\n};\nconst BINARY_NUMBER_MODE = {\n  scope: 'number',\n  begin: BINARY_NUMBER_RE,\n  relevance: 0\n};\nconst REGEXP_MODE = {\n  scope: \"regexp\",\n  begin: /\\/(?=[^/\\n]*\\/)/,\n  end: /\\/[gimuy]*/,\n  contains: [\n    BACKSLASH_ESCAPE,\n    {\n      begin: /\\[/,\n      end: /\\]/,\n      relevance: 0,\n      contains: [BACKSLASH_ESCAPE]\n    }\n  ]\n};\nconst TITLE_MODE = {\n  scope: 'title',\n  begin: IDENT_RE,\n  relevance: 0\n};\nconst UNDERSCORE_TITLE_MODE = {\n  scope: 'title',\n  begin: UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\nconst METHOD_GUARD = {\n  // excludes method names from keyword processing\n  begin: '\\\\.\\\\s*' + UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\n\n/**\n * Adds end same as begin mechanics to a mode\n *\n * Your mode must include at least a single () match group as that first match\n * group is what is used for comparison\n * @param {Partial<Mode>} mode\n */\nconst END_SAME_AS_BEGIN = function(mode) {\n  return Object.assign(mode,\n    {\n      /** @type {ModeCallback} */\n      'on:begin': (m, resp) => { resp.data._beginMatch = m[1]; },\n      /** @type {ModeCallback} */\n      'on:end': (m, resp) => { if (resp.data._beginMatch !== m[1]) resp.ignoreMatch(); }\n    });\n};\n\nvar MODES = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  APOS_STRING_MODE: APOS_STRING_MODE,\n  BACKSLASH_ESCAPE: BACKSLASH_ESCAPE,\n  BINARY_NUMBER_MODE: BINARY_NUMBER_MODE,\n  BINARY_NUMBER_RE: BINARY_NUMBER_RE,\n  COMMENT: COMMENT,\n  C_BLOCK_COMMENT_MODE: C_BLOCK_COMMENT_MODE,\n  C_LINE_COMMENT_MODE: C_LINE_COMMENT_MODE,\n  C_NUMBER_MODE: C_NUMBER_MODE,\n  C_NUMBER_RE: C_NUMBER_RE,\n  END_SAME_AS_BEGIN: END_SAME_AS_BEGIN,\n  HASH_COMMENT_MODE: HASH_COMMENT_MODE,\n  IDENT_RE: IDENT_RE,\n  MATCH_NOTHING_RE: MATCH_NOTHING_RE,\n  METHOD_GUARD: METHOD_GUARD,\n  NUMBER_MODE: NUMBER_MODE,\n  NUMBER_RE: NUMBER_RE,\n  PHRASAL_WORDS_MODE: PHRASAL_WORDS_MODE,\n  QUOTE_STRING_MODE: QUOTE_STRING_MODE,\n  REGEXP_MODE: REGEXP_MODE,\n  RE_STARTERS_RE: RE_STARTERS_RE,\n  SHEBANG: SHEBANG,\n  TITLE_MODE: TITLE_MODE,\n  UNDERSCORE_IDENT_RE: UNDERSCORE_IDENT_RE,\n  UNDERSCORE_TITLE_MODE: UNDERSCORE_TITLE_MODE\n});\n\n/**\n@typedef {import('highlight.js').CallbackResponse} CallbackResponse\n@typedef {import('highlight.js').CompilerExt} CompilerExt\n*/\n\n// Grammar extensions / plugins\n// See: https://github.com/highlightjs/highlight.js/issues/2833\n\n// Grammar extensions allow \"syntactic sugar\" to be added to the grammar modes\n// without requiring any underlying changes to the compiler internals.\n\n// `compileMatch` being the perfect small example of now allowing a grammar\n// author to write `match` when they desire to match a single expression rather\n// than being forced to use `begin`.  The extension then just moves `match` into\n// `begin` when it runs.  Ie, no features have been added, but we've just made\n// the experience of writing (and reading grammars) a little bit nicer.\n\n// ------\n\n// TODO: We need negative look-behind support to do this properly\n/**\n * Skip a match if it has a preceding dot\n *\n * This is used for `beginKeywords` to prevent matching expressions such as\n * `bob.keyword.do()`. The mode compiler automatically wires this up as a\n * special _internal_ 'on:begin' callback for modes with `beginKeywords`\n * @param {RegExpMatchArray} match\n * @param {CallbackResponse} response\n */\nfunction skipIfHasPrecedingDot(match, response) {\n  const before = match.input[match.index - 1];\n  if (before === \".\") {\n    response.ignoreMatch();\n  }\n}\n\n/**\n *\n * @type {CompilerExt}\n */\nfunction scopeClassName(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.className !== undefined) {\n    mode.scope = mode.className;\n    delete mode.className;\n  }\n}\n\n/**\n * `beginKeywords` syntactic sugar\n * @type {CompilerExt}\n */\nfunction beginKeywords(mode, parent) {\n  if (!parent) return;\n  if (!mode.beginKeywords) return;\n\n  // for languages with keywords that include non-word characters checking for\n  // a word boundary is not sufficient, so instead we check for a word boundary\n  // or whitespace - this does no harm in any case since our keyword engine\n  // doesn't allow spaces in keywords anyways and we still check for the boundary\n  // first\n  mode.begin = '\\\\b(' + mode.beginKeywords.split(' ').join('|') + ')(?!\\\\.)(?=\\\\b|\\\\s)';\n  mode.__beforeBegin = skipIfHasPrecedingDot;\n  mode.keywords = mode.keywords || mode.beginKeywords;\n  delete mode.beginKeywords;\n\n  // prevents double relevance, the keywords themselves provide\n  // relevance, the mode doesn't need to double it\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 0;\n}\n\n/**\n * Allow `illegal` to contain an array of illegal values\n * @type {CompilerExt}\n */\nfunction compileIllegal(mode, _parent) {\n  if (!Array.isArray(mode.illegal)) return;\n\n  mode.illegal = either(...mode.illegal);\n}\n\n/**\n * `match` to match a single expression for readability\n * @type {CompilerExt}\n */\nfunction compileMatch(mode, _parent) {\n  if (!mode.match) return;\n  if (mode.begin || mode.end) throw new Error(\"begin & end are not supported with match\");\n\n  mode.begin = mode.match;\n  delete mode.match;\n}\n\n/**\n * provides the default 1 relevance to all modes\n * @type {CompilerExt}\n */\nfunction compileRelevance(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 1;\n}\n\n// allow beforeMatch to act as a \"qualifier\" for the match\n// the full match begin must be [beforeMatch][begin]\nconst beforeMatchExt = (mode, parent) => {\n  if (!mode.beforeMatch) return;\n  // starts conflicts with endsParent which we need to make sure the child\n  // rule is not matched multiple times\n  if (mode.starts) throw new Error(\"beforeMatch cannot be used with starts\");\n\n  const originalMode = Object.assign({}, mode);\n  Object.keys(mode).forEach((key) => { delete mode[key]; });\n\n  mode.keywords = originalMode.keywords;\n  mode.begin = concat(originalMode.beforeMatch, lookahead(originalMode.begin));\n  mode.starts = {\n    relevance: 0,\n    contains: [\n      Object.assign(originalMode, { endsParent: true })\n    ]\n  };\n  mode.relevance = 0;\n\n  delete originalMode.beforeMatch;\n};\n\n// keywords that should have no default relevance value\nconst COMMON_KEYWORDS = [\n  'of',\n  'and',\n  'for',\n  'in',\n  'not',\n  'or',\n  'if',\n  'then',\n  'parent', // common variable name\n  'list', // common variable name\n  'value' // common variable name\n];\n\nconst DEFAULT_KEYWORD_SCOPE = \"keyword\";\n\n/**\n * Given raw keywords from a language definition, compile them.\n *\n * @param {string | Record<string,string|string[]> | Array<string>} rawKeywords\n * @param {boolean} caseInsensitive\n */\nfunction compileKeywords(rawKeywords, caseInsensitive, scopeName = DEFAULT_KEYWORD_SCOPE) {\n  /** @type {import(\"highlight.js/private\").KeywordDict} */\n  const compiledKeywords = Object.create(null);\n\n  // input can be a string of keywords, an array of keywords, or a object with\n  // named keys representing scopeName (which can then point to a string or array)\n  if (typeof rawKeywords === 'string') {\n    compileList(scopeName, rawKeywords.split(\" \"));\n  } else if (Array.isArray(rawKeywords)) {\n    compileList(scopeName, rawKeywords);\n  } else {\n    Object.keys(rawKeywords).forEach(function(scopeName) {\n      // collapse all our objects back into the parent object\n      Object.assign(\n        compiledKeywords,\n        compileKeywords(rawKeywords[scopeName], caseInsensitive, scopeName)\n      );\n    });\n  }\n  return compiledKeywords;\n\n  // ---\n\n  /**\n   * Compiles an individual list of keywords\n   *\n   * Ex: \"for if when while|5\"\n   *\n   * @param {string} scopeName\n   * @param {Array<string>} keywordList\n   */\n  function compileList(scopeName, keywordList) {\n    if (caseInsensitive) {\n      keywordList = keywordList.map(x => x.toLowerCase());\n    }\n    keywordList.forEach(function(keyword) {\n      const pair = keyword.split('|');\n      compiledKeywords[pair[0]] = [scopeName, scoreForKeyword(pair[0], pair[1])];\n    });\n  }\n}\n\n/**\n * Returns the proper score for a given keyword\n *\n * Also takes into account comment keywords, which will be scored 0 UNLESS\n * another score has been manually assigned.\n * @param {string} keyword\n * @param {string} [providedScore]\n */\nfunction scoreForKeyword(keyword, providedScore) {\n  // manual scores always win over common keywords\n  // so you can force a score of 1 if you really insist\n  if (providedScore) {\n    return Number(providedScore);\n  }\n\n  return commonKeyword(keyword) ? 0 : 1;\n}\n\n/**\n * Determines if a given keyword is common or not\n *\n * @param {string} keyword */\nfunction commonKeyword(keyword) {\n  return COMMON_KEYWORDS.includes(keyword.toLowerCase());\n}\n\n/*\n\nFor the reasoning behind this please see:\nhttps://github.com/highlightjs/highlight.js/issues/2880#issuecomment-747275419\n\n*/\n\n/**\n * @type {Record<string, boolean>}\n */\nconst seenDeprecations = {};\n\n/**\n * @param {string} message\n */\nconst error = (message) => {\n  console.error(message);\n};\n\n/**\n * @param {string} message\n * @param {any} args\n */\nconst warn = (message, ...args) => {\n  console.log(`WARN: ${message}`, ...args);\n};\n\n/**\n * @param {string} version\n * @param {string} message\n */\nconst deprecated = (version, message) => {\n  if (seenDeprecations[`${version}/${message}`]) return;\n\n  console.log(`Deprecated as of ${version}. ${message}`);\n  seenDeprecations[`${version}/${message}`] = true;\n};\n\n/* eslint-disable no-throw-literal */\n\n/**\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n*/\n\nconst MultiClassError = new Error();\n\n/**\n * Renumbers labeled scope names to account for additional inner match\n * groups that otherwise would break everything.\n *\n * Lets say we 3 match scopes:\n *\n *   { 1 => ..., 2 => ..., 3 => ... }\n *\n * So what we need is a clean match like this:\n *\n *   (a)(b)(c) => [ \"a\", \"b\", \"c\" ]\n *\n * But this falls apart with inner match groups:\n *\n * (a)(((b)))(c) => [\"a\", \"b\", \"b\", \"b\", \"c\" ]\n *\n * Our scopes are now \"out of alignment\" and we're repeating `b` 3 times.\n * What needs to happen is the numbers are remapped:\n *\n *   { 1 => ..., 2 => ..., 5 => ... }\n *\n * We also need to know that the ONLY groups that should be output\n * are 1, 2, and 5.  This function handles this behavior.\n *\n * @param {CompiledMode} mode\n * @param {Array<RegExp | string>} regexes\n * @param {{key: \"beginScope\"|\"endScope\"}} opts\n */\nfunction remapScopeNames(mode, regexes, { key }) {\n  let offset = 0;\n  const scopeNames = mode[key];\n  /** @type Record<number,boolean> */\n  const emit = {};\n  /** @type Record<number,string> */\n  const positions = {};\n\n  for (let i = 1; i <= regexes.length; i++) {\n    positions[i + offset] = scopeNames[i];\n    emit[i + offset] = true;\n    offset += countMatchGroups(regexes[i - 1]);\n  }\n  // we use _emit to keep track of which match groups are \"top-level\" to avoid double\n  // output from inside match groups\n  mode[key] = positions;\n  mode[key]._emit = emit;\n  mode[key]._multi = true;\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction beginMultiClass(mode) {\n  if (!Array.isArray(mode.begin)) return;\n\n  if (mode.skip || mode.excludeBegin || mode.returnBegin) {\n    error(\"skip, excludeBegin, returnBegin not compatible with beginScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.beginScope !== \"object\" || mode.beginScope === null) {\n    error(\"beginScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.begin, { key: \"beginScope\" });\n  mode.begin = _rewriteBackreferences(mode.begin, { joinWith: \"\" });\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction endMultiClass(mode) {\n  if (!Array.isArray(mode.end)) return;\n\n  if (mode.skip || mode.excludeEnd || mode.returnEnd) {\n    error(\"skip, excludeEnd, returnEnd not compatible with endScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.endScope !== \"object\" || mode.endScope === null) {\n    error(\"endScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.end, { key: \"endScope\" });\n  mode.end = _rewriteBackreferences(mode.end, { joinWith: \"\" });\n}\n\n/**\n * this exists only to allow `scope: {}` to be used beside `match:`\n * Otherwise `beginScope` would necessary and that would look weird\n\n  {\n    match: [ /def/, /\\w+/ ]\n    scope: { 1: \"keyword\" , 2: \"title\" }\n  }\n\n * @param {CompiledMode} mode\n */\nfunction scopeSugar(mode) {\n  if (mode.scope && typeof mode.scope === \"object\" && mode.scope !== null) {\n    mode.beginScope = mode.scope;\n    delete mode.scope;\n  }\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction MultiClass(mode) {\n  scopeSugar(mode);\n\n  if (typeof mode.beginScope === \"string\") {\n    mode.beginScope = { _wrap: mode.beginScope };\n  }\n  if (typeof mode.endScope === \"string\") {\n    mode.endScope = { _wrap: mode.endScope };\n  }\n\n  beginMultiClass(mode);\n  endMultiClass(mode);\n}\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').CompiledLanguage} CompiledLanguage\n*/\n\n// compilation\n\n/**\n * Compiles a language definition result\n *\n * Given the raw result of a language definition (Language), compiles this so\n * that it is ready for highlighting code.\n * @param {Language} language\n * @returns {CompiledLanguage}\n */\nfunction compileLanguage(language) {\n  /**\n   * Builds a regex with the case sensitivity of the current language\n   *\n   * @param {RegExp | string} value\n   * @param {boolean} [global]\n   */\n  function langRe(value, global) {\n    return new RegExp(\n      source(value),\n      'm'\n      + (language.case_insensitive ? 'i' : '')\n      + (language.unicodeRegex ? 'u' : '')\n      + (global ? 'g' : '')\n    );\n  }\n\n  /**\n    Stores multiple regular expressions and allows you to quickly search for\n    them all in a string simultaneously - returning the first match.  It does\n    this by creating a huge (a|b|c) regex - each individual item wrapped with ()\n    and joined by `|` - using match groups to track position.  When a match is\n    found checking which position in the array has content allows us to figure\n    out which of the original regexes / match groups triggered the match.\n\n    The match object itself (the result of `Regex.exec`) is returned but also\n    enhanced by merging in any meta-data that was registered with the regex.\n    This is how we keep track of which mode matched, and what type of rule\n    (`illegal`, `begin`, end, etc).\n  */\n  class MultiRegex {\n    constructor() {\n      this.matchIndexes = {};\n      // @ts-ignore\n      this.regexes = [];\n      this.matchAt = 1;\n      this.position = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      opts.position = this.position++;\n      // @ts-ignore\n      this.matchIndexes[this.matchAt] = opts;\n      this.regexes.push([opts, re]);\n      this.matchAt += countMatchGroups(re) + 1;\n    }\n\n    compile() {\n      if (this.regexes.length === 0) {\n        // avoids the need to check length every time exec is called\n        // @ts-ignore\n        this.exec = () => null;\n      }\n      const terminators = this.regexes.map(el => el[1]);\n      this.matcherRe = langRe(_rewriteBackreferences(terminators, { joinWith: '|' }), true);\n      this.lastIndex = 0;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      this.matcherRe.lastIndex = this.lastIndex;\n      const match = this.matcherRe.exec(s);\n      if (!match) { return null; }\n\n      // eslint-disable-next-line no-undefined\n      const i = match.findIndex((el, i) => i > 0 && el !== undefined);\n      // @ts-ignore\n      const matchData = this.matchIndexes[i];\n      // trim off any earlier non-relevant match groups (ie, the other regex\n      // match groups that make up the multi-matcher)\n      match.splice(0, i);\n\n      return Object.assign(match, matchData);\n    }\n  }\n\n  /*\n    Created to solve the key deficiently with MultiRegex - there is no way to\n    test for multiple matches at a single location.  Why would we need to do\n    that?  In the future a more dynamic engine will allow certain matches to be\n    ignored.  An example: if we matched say the 3rd regex in a large group but\n    decided to ignore it - we'd need to started testing again at the 4th\n    regex... but MultiRegex itself gives us no real way to do that.\n\n    So what this class creates MultiRegexs on the fly for whatever search\n    position they are needed.\n\n    NOTE: These additional MultiRegex objects are created dynamically.  For most\n    grammars most of the time we will never actually need anything more than the\n    first MultiRegex - so this shouldn't have too much overhead.\n\n    Say this is our search group, and we match regex3, but wish to ignore it.\n\n      regex1 | regex2 | regex3 | regex4 | regex5    ' ie, startAt = 0\n\n    What we need is a new MultiRegex that only includes the remaining\n    possibilities:\n\n      regex4 | regex5                               ' ie, startAt = 3\n\n    This class wraps all that complexity up in a simple API... `startAt` decides\n    where in the array of expressions to start doing the matching. It\n    auto-increments, so if a match is found at position 2, then startAt will be\n    set to 3.  If the end is reached startAt will return to 0.\n\n    MOST of the time the parser will be setting startAt manually to 0.\n  */\n  class ResumableMultiRegex {\n    constructor() {\n      // @ts-ignore\n      this.rules = [];\n      // @ts-ignore\n      this.multiRegexes = [];\n      this.count = 0;\n\n      this.lastIndex = 0;\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    getMatcher(index) {\n      if (this.multiRegexes[index]) return this.multiRegexes[index];\n\n      const matcher = new MultiRegex();\n      this.rules.slice(index).forEach(([re, opts]) => matcher.addRule(re, opts));\n      matcher.compile();\n      this.multiRegexes[index] = matcher;\n      return matcher;\n    }\n\n    resumingScanAtSamePosition() {\n      return this.regexIndex !== 0;\n    }\n\n    considerAll() {\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      this.rules.push([re, opts]);\n      if (opts.type === \"begin\") this.count++;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      const m = this.getMatcher(this.regexIndex);\n      m.lastIndex = this.lastIndex;\n      let result = m.exec(s);\n\n      // The following is because we have no easy way to say \"resume scanning at the\n      // existing position but also skip the current rule ONLY\". What happens is\n      // all prior rules are also skipped which can result in matching the wrong\n      // thing. Example of matching \"booger\":\n\n      // our matcher is [string, \"booger\", number]\n      //\n      // ....booger....\n\n      // if \"booger\" is ignored then we'd really need a regex to scan from the\n      // SAME position for only: [string, number] but ignoring \"booger\" (if it\n      // was the first match), a simple resume would scan ahead who knows how\n      // far looking only for \"number\", ignoring potential string matches (or\n      // future \"booger\" matches that might be valid.)\n\n      // So what we do: We execute two matchers, one resuming at the same\n      // position, but the second full matcher starting at the position after:\n\n      //     /--- resume first regex match here (for [number])\n      //     |/---- full match here for [string, \"booger\", number]\n      //     vv\n      // ....booger....\n\n      // Which ever results in a match first is then used. So this 3-4 step\n      // process essentially allows us to say \"match at this position, excluding\n      // a prior rule that was ignored\".\n      //\n      // 1. Match \"booger\" first, ignore. Also proves that [string] does non match.\n      // 2. Resume matching for [number]\n      // 3. Match at index + 1 for [string, \"booger\", number]\n      // 4. If #2 and #3 result in matches, which came first?\n      if (this.resumingScanAtSamePosition()) {\n        if (result && result.index === this.lastIndex) ; else { // use the second matcher result\n          const m2 = this.getMatcher(0);\n          m2.lastIndex = this.lastIndex + 1;\n          result = m2.exec(s);\n        }\n      }\n\n      if (result) {\n        this.regexIndex += result.position + 1;\n        if (this.regexIndex === this.count) {\n          // wrap-around to considering all matches again\n          this.considerAll();\n        }\n      }\n\n      return result;\n    }\n  }\n\n  /**\n   * Given a mode, builds a huge ResumableMultiRegex that can be used to walk\n   * the content and find matches.\n   *\n   * @param {CompiledMode} mode\n   * @returns {ResumableMultiRegex}\n   */\n  function buildModeRegex(mode) {\n    const mm = new ResumableMultiRegex();\n\n    mode.contains.forEach(term => mm.addRule(term.begin, { rule: term, type: \"begin\" }));\n\n    if (mode.terminatorEnd) {\n      mm.addRule(mode.terminatorEnd, { type: \"end\" });\n    }\n    if (mode.illegal) {\n      mm.addRule(mode.illegal, { type: \"illegal\" });\n    }\n\n    return mm;\n  }\n\n  /** skip vs abort vs ignore\n   *\n   * @skip   - The mode is still entered and exited normally (and contains rules apply),\n   *           but all content is held and added to the parent buffer rather than being\n   *           output when the mode ends.  Mostly used with `sublanguage` to build up\n   *           a single large buffer than can be parsed by sublanguage.\n   *\n   *             - The mode begin ands ends normally.\n   *             - Content matched is added to the parent mode buffer.\n   *             - The parser cursor is moved forward normally.\n   *\n   * @abort  - A hack placeholder until we have ignore.  Aborts the mode (as if it\n   *           never matched) but DOES NOT continue to match subsequent `contains`\n   *           modes.  Abort is bad/suboptimal because it can result in modes\n   *           farther down not getting applied because an earlier rule eats the\n   *           content but then aborts.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is added to the mode buffer.\n   *             - The parser cursor is moved forward accordingly.\n   *\n   * @ignore - Ignores the mode (as if it never matched) and continues to match any\n   *           subsequent `contains` modes.  Ignore isn't technically possible with\n   *           the current parser implementation.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is ignored.\n   *             - The parser cursor is not moved forward.\n   */\n\n  /**\n   * Compiles an individual mode\n   *\n   * This can raise an error if the mode contains certain detectable known logic\n   * issues.\n   * @param {Mode} mode\n   * @param {CompiledMode | null} [parent]\n   * @returns {CompiledMode | never}\n   */\n  function compileMode(mode, parent) {\n    const cmode = /** @type CompiledMode */ (mode);\n    if (mode.isCompiled) return cmode;\n\n    [\n      scopeClassName,\n      // do this early so compiler extensions generally don't have to worry about\n      // the distinction between match/begin\n      compileMatch,\n      MultiClass,\n      beforeMatchExt\n    ].forEach(ext => ext(mode, parent));\n\n    language.compilerExtensions.forEach(ext => ext(mode, parent));\n\n    // __beforeBegin is considered private API, internal use only\n    mode.__beforeBegin = null;\n\n    [\n      beginKeywords,\n      // do this later so compiler extensions that come earlier have access to the\n      // raw array if they wanted to perhaps manipulate it, etc.\n      compileIllegal,\n      // default to 1 relevance if not specified\n      compileRelevance\n    ].forEach(ext => ext(mode, parent));\n\n    mode.isCompiled = true;\n\n    let keywordPattern = null;\n    if (typeof mode.keywords === \"object\" && mode.keywords.$pattern) {\n      // we need a copy because keywords might be compiled multiple times\n      // so we can't go deleting $pattern from the original on the first\n      // pass\n      mode.keywords = Object.assign({}, mode.keywords);\n      keywordPattern = mode.keywords.$pattern;\n      delete mode.keywords.$pattern;\n    }\n    keywordPattern = keywordPattern || /\\w+/;\n\n    if (mode.keywords) {\n      mode.keywords = compileKeywords(mode.keywords, language.case_insensitive);\n    }\n\n    cmode.keywordPatternRe = langRe(keywordPattern, true);\n\n    if (parent) {\n      if (!mode.begin) mode.begin = /\\B|\\b/;\n      cmode.beginRe = langRe(cmode.begin);\n      if (!mode.end && !mode.endsWithParent) mode.end = /\\B|\\b/;\n      if (mode.end) cmode.endRe = langRe(cmode.end);\n      cmode.terminatorEnd = source(cmode.end) || '';\n      if (mode.endsWithParent && parent.terminatorEnd) {\n        cmode.terminatorEnd += (mode.end ? '|' : '') + parent.terminatorEnd;\n      }\n    }\n    if (mode.illegal) cmode.illegalRe = langRe(/** @type {RegExp | string} */ (mode.illegal));\n    if (!mode.contains) mode.contains = [];\n\n    mode.contains = [].concat(...mode.contains.map(function(c) {\n      return expandOrCloneMode(c === 'self' ? mode : c);\n    }));\n    mode.contains.forEach(function(c) { compileMode(/** @type Mode */ (c), cmode); });\n\n    if (mode.starts) {\n      compileMode(mode.starts, parent);\n    }\n\n    cmode.matcher = buildModeRegex(cmode);\n    return cmode;\n  }\n\n  if (!language.compilerExtensions) language.compilerExtensions = [];\n\n  // self is not valid at the top-level\n  if (language.contains && language.contains.includes('self')) {\n    throw new Error(\"ERR: contains `self` is not supported at the top-level of a language.  See documentation.\");\n  }\n\n  // we need a null object, which inherit will guarantee\n  language.classNameAliases = inherit$1(language.classNameAliases || {});\n\n  return compileMode(/** @type Mode */ (language));\n}\n\n/**\n * Determines if a mode has a dependency on it's parent or not\n *\n * If a mode does have a parent dependency then often we need to clone it if\n * it's used in multiple places so that each copy points to the correct parent,\n * where-as modes without a parent can often safely be re-used at the bottom of\n * a mode chain.\n *\n * @param {Mode | null} mode\n * @returns {boolean} - is there a dependency on the parent?\n * */\nfunction dependencyOnParent(mode) {\n  if (!mode) return false;\n\n  return mode.endsWithParent || dependencyOnParent(mode.starts);\n}\n\n/**\n * Expands a mode or clones it if necessary\n *\n * This is necessary for modes with parental dependenceis (see notes on\n * `dependencyOnParent`) and for nodes that have `variants` - which must then be\n * exploded into their own individual modes at compile time.\n *\n * @param {Mode} mode\n * @returns {Mode | Mode[]}\n * */\nfunction expandOrCloneMode(mode) {\n  if (mode.variants && !mode.cachedVariants) {\n    mode.cachedVariants = mode.variants.map(function(variant) {\n      return inherit$1(mode, { variants: null }, variant);\n    });\n  }\n\n  // EXPAND\n  // if we have variants then essentially \"replace\" the mode with the variants\n  // this happens in compileMode, where this function is called from\n  if (mode.cachedVariants) {\n    return mode.cachedVariants;\n  }\n\n  // CLONE\n  // if we have dependencies on parents then we need a unique\n  // instance of ourselves, so we can be reused with many\n  // different parents without issue\n  if (dependencyOnParent(mode)) {\n    return inherit$1(mode, { starts: mode.starts ? inherit$1(mode.starts) : null });\n  }\n\n  if (Object.isFrozen(mode)) {\n    return inherit$1(mode);\n  }\n\n  // no special dependency issues, just return ourselves\n  return mode;\n}\n\nvar version = \"11.11.1\";\n\nclass HTMLInjectionError extends Error {\n  constructor(reason, html) {\n    super(reason);\n    this.name = \"HTMLInjectionError\";\n    this.html = html;\n  }\n}\n\n/*\nSyntax highlighting with language autodetection.\nhttps://highlightjs.org/\n*/\n\n\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').CompiledScope} CompiledScope\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSApi} HLJSApi\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').PluginEvent} PluginEvent\n@typedef {import('highlight.js').HLJSOptions} HLJSOptions\n@typedef {import('highlight.js').LanguageFn} LanguageFn\n@typedef {import('highlight.js').HighlightedHTMLElement} HighlightedHTMLElement\n@typedef {import('highlight.js').BeforeHighlightContext} BeforeHighlightContext\n@typedef {import('highlight.js/private').MatchType} MatchType\n@typedef {import('highlight.js/private').KeywordData} KeywordData\n@typedef {import('highlight.js/private').EnhancedMatch} EnhancedMatch\n@typedef {import('highlight.js/private').AnnotatedError} AnnotatedError\n@typedef {import('highlight.js').AutoHighlightResult} AutoHighlightResult\n@typedef {import('highlight.js').HighlightOptions} HighlightOptions\n@typedef {import('highlight.js').HighlightResult} HighlightResult\n*/\n\n\nconst escape = escapeHTML;\nconst inherit = inherit$1;\nconst NO_MATCH = Symbol(\"nomatch\");\nconst MAX_KEYWORD_HITS = 7;\n\n/**\n * @param {any} hljs - object that is extended (legacy)\n * @returns {HLJSApi}\n */\nconst HLJS = function(hljs) {\n  // Global internal variables used within the highlight.js library.\n  /** @type {Record<string, Language>} */\n  const languages = Object.create(null);\n  /** @type {Record<string, string>} */\n  const aliases = Object.create(null);\n  /** @type {HLJSPlugin[]} */\n  const plugins = [];\n\n  // safe/production mode - swallows more errors, tries to keep running\n  // even if a single syntax or parse hits a fatal error\n  let SAFE_MODE = true;\n  const LANGUAGE_NOT_FOUND = \"Could not find the language '{}', did you forget to load/include a language module?\";\n  /** @type {Language} */\n  const PLAINTEXT_LANGUAGE = { disableAutodetect: true, name: 'Plain text', contains: [] };\n\n  // Global options used when within external APIs. This is modified when\n  // calling the `hljs.configure` function.\n  /** @type HLJSOptions */\n  let options = {\n    ignoreUnescapedHTML: false,\n    throwUnescapedHTML: false,\n    noHighlightRe: /^(no-?highlight)$/i,\n    languageDetectRe: /\\blang(?:uage)?-([\\w-]+)\\b/i,\n    classPrefix: 'hljs-',\n    cssSelector: 'pre code',\n    languages: null,\n    // beta configuration options, subject to change, welcome to discuss\n    // https://github.com/highlightjs/highlight.js/issues/1086\n    __emitter: TokenTreeEmitter\n  };\n\n  /* Utility functions */\n\n  /**\n   * Tests a language name to see if highlighting should be skipped\n   * @param {string} languageName\n   */\n  function shouldNotHighlight(languageName) {\n    return options.noHighlightRe.test(languageName);\n  }\n\n  /**\n   * @param {HighlightedHTMLElement} block - the HTML element to determine language for\n   */\n  function blockLanguage(block) {\n    let classes = block.className + ' ';\n\n    classes += block.parentNode ? block.parentNode.className : '';\n\n    // language-* takes precedence over non-prefixed class names.\n    const match = options.languageDetectRe.exec(classes);\n    if (match) {\n      const language = getLanguage(match[1]);\n      if (!language) {\n        warn(LANGUAGE_NOT_FOUND.replace(\"{}\", match[1]));\n        warn(\"Falling back to no-highlight mode for this block.\", block);\n      }\n      return language ? match[1] : 'no-highlight';\n    }\n\n    return classes\n      .split(/\\s+/)\n      .find((_class) => shouldNotHighlight(_class) || getLanguage(_class));\n  }\n\n  /**\n   * Core highlighting function.\n   *\n   * OLD API\n   * highlight(lang, code, ignoreIllegals, continuation)\n   *\n   * NEW API\n   * highlight(code, {lang, ignoreIllegals})\n   *\n   * @param {string} codeOrLanguageName - the language to use for highlighting\n   * @param {string | HighlightOptions} optionsOrCode - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   *\n   * @returns {HighlightResult} Result - an object that represents the result\n   * @property {string} language - the language name\n   * @property {number} relevance - the relevance score\n   * @property {string} value - the highlighted HTML code\n   * @property {string} code - the original raw code\n   * @property {CompiledMode} top - top of the current mode stack\n   * @property {boolean} illegal - indicates whether any illegal matches were found\n  */\n  function highlight(codeOrLanguageName, optionsOrCode, ignoreIllegals) {\n    let code = \"\";\n    let languageName = \"\";\n    if (typeof optionsOrCode === \"object\") {\n      code = codeOrLanguageName;\n      ignoreIllegals = optionsOrCode.ignoreIllegals;\n      languageName = optionsOrCode.language;\n    } else {\n      // old API\n      deprecated(\"10.7.0\", \"highlight(lang, code, ...args) has been deprecated.\");\n      deprecated(\"10.7.0\", \"Please use highlight(code, options) instead.\\nhttps://github.com/highlightjs/highlight.js/issues/2277\");\n      languageName = codeOrLanguageName;\n      code = optionsOrCode;\n    }\n\n    // https://github.com/highlightjs/highlight.js/issues/3149\n    // eslint-disable-next-line no-undefined\n    if (ignoreIllegals === undefined) { ignoreIllegals = true; }\n\n    /** @type {BeforeHighlightContext} */\n    const context = {\n      code,\n      language: languageName\n    };\n    // the plugin can change the desired language or the code to be highlighted\n    // just be changing the object it was passed\n    fire(\"before:highlight\", context);\n\n    // a before plugin can usurp the result completely by providing it's own\n    // in which case we don't even need to call highlight\n    const result = context.result\n      ? context.result\n      : _highlight(context.language, context.code, ignoreIllegals);\n\n    result.code = context.code;\n    // the plugin can change anything in result to suite it\n    fire(\"after:highlight\", result);\n\n    return result;\n  }\n\n  /**\n   * private highlight that's used internally and does not fire callbacks\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} codeToHighlight - the code to highlight\n   * @param {boolean?} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {CompiledMode?} [continuation] - current continuation mode, if any\n   * @returns {HighlightResult} - result of the highlight operation\n  */\n  function _highlight(languageName, codeToHighlight, ignoreIllegals, continuation) {\n    const keywordHits = Object.create(null);\n\n    /**\n     * Return keyword data if a match is a keyword\n     * @param {CompiledMode} mode - current mode\n     * @param {string} matchText - the textual match\n     * @returns {KeywordData | false}\n     */\n    function keywordData(mode, matchText) {\n      return mode.keywords[matchText];\n    }\n\n    function processKeywords() {\n      if (!top.keywords) {\n        emitter.addText(modeBuffer);\n        return;\n      }\n\n      let lastIndex = 0;\n      top.keywordPatternRe.lastIndex = 0;\n      let match = top.keywordPatternRe.exec(modeBuffer);\n      let buf = \"\";\n\n      while (match) {\n        buf += modeBuffer.substring(lastIndex, match.index);\n        const word = language.case_insensitive ? match[0].toLowerCase() : match[0];\n        const data = keywordData(top, word);\n        if (data) {\n          const [kind, keywordRelevance] = data;\n          emitter.addText(buf);\n          buf = \"\";\n\n          keywordHits[word] = (keywordHits[word] || 0) + 1;\n          if (keywordHits[word] <= MAX_KEYWORD_HITS) relevance += keywordRelevance;\n          if (kind.startsWith(\"_\")) {\n            // _ implied for relevance only, do not highlight\n            // by applying a class name\n            buf += match[0];\n          } else {\n            const cssClass = language.classNameAliases[kind] || kind;\n            emitKeyword(match[0], cssClass);\n          }\n        } else {\n          buf += match[0];\n        }\n        lastIndex = top.keywordPatternRe.lastIndex;\n        match = top.keywordPatternRe.exec(modeBuffer);\n      }\n      buf += modeBuffer.substring(lastIndex);\n      emitter.addText(buf);\n    }\n\n    function processSubLanguage() {\n      if (modeBuffer === \"\") return;\n      /** @type HighlightResult */\n      let result = null;\n\n      if (typeof top.subLanguage === 'string') {\n        if (!languages[top.subLanguage]) {\n          emitter.addText(modeBuffer);\n          return;\n        }\n        result = _highlight(top.subLanguage, modeBuffer, true, continuations[top.subLanguage]);\n        continuations[top.subLanguage] = /** @type {CompiledMode} */ (result._top);\n      } else {\n        result = highlightAuto(modeBuffer, top.subLanguage.length ? top.subLanguage : null);\n      }\n\n      // Counting embedded language score towards the host language may be disabled\n      // with zeroing the containing mode relevance. Use case in point is Markdown that\n      // allows XML everywhere and makes every XML snippet to have a much larger Markdown\n      // score.\n      if (top.relevance > 0) {\n        relevance += result.relevance;\n      }\n      emitter.__addSublanguage(result._emitter, result.language);\n    }\n\n    function processBuffer() {\n      if (top.subLanguage != null) {\n        processSubLanguage();\n      } else {\n        processKeywords();\n      }\n      modeBuffer = '';\n    }\n\n    /**\n     * @param {string} text\n     * @param {string} scope\n     */\n    function emitKeyword(keyword, scope) {\n      if (keyword === \"\") return;\n\n      emitter.startScope(scope);\n      emitter.addText(keyword);\n      emitter.endScope();\n    }\n\n    /**\n     * @param {CompiledScope} scope\n     * @param {RegExpMatchArray} match\n     */\n    function emitMultiClass(scope, match) {\n      let i = 1;\n      const max = match.length - 1;\n      while (i <= max) {\n        if (!scope._emit[i]) { i++; continue; }\n        const klass = language.classNameAliases[scope[i]] || scope[i];\n        const text = match[i];\n        if (klass) {\n          emitKeyword(text, klass);\n        } else {\n          modeBuffer = text;\n          processKeywords();\n          modeBuffer = \"\";\n        }\n        i++;\n      }\n    }\n\n    /**\n     * @param {CompiledMode} mode - new mode to start\n     * @param {RegExpMatchArray} match\n     */\n    function startNewMode(mode, match) {\n      if (mode.scope && typeof mode.scope === \"string\") {\n        emitter.openNode(language.classNameAliases[mode.scope] || mode.scope);\n      }\n      if (mode.beginScope) {\n        // beginScope just wraps the begin match itself in a scope\n        if (mode.beginScope._wrap) {\n          emitKeyword(modeBuffer, language.classNameAliases[mode.beginScope._wrap] || mode.beginScope._wrap);\n          modeBuffer = \"\";\n        } else if (mode.beginScope._multi) {\n          // at this point modeBuffer should just be the match\n          emitMultiClass(mode.beginScope, match);\n          modeBuffer = \"\";\n        }\n      }\n\n      top = Object.create(mode, { parent: { value: top } });\n      return top;\n    }\n\n    /**\n     * @param {CompiledMode } mode - the mode to potentially end\n     * @param {RegExpMatchArray} match - the latest match\n     * @param {string} matchPlusRemainder - match plus remainder of content\n     * @returns {CompiledMode | void} - the next mode, or if void continue on in current mode\n     */\n    function endOfMode(mode, match, matchPlusRemainder) {\n      let matched = startsWith(mode.endRe, matchPlusRemainder);\n\n      if (matched) {\n        if (mode[\"on:end\"]) {\n          const resp = new Response(mode);\n          mode[\"on:end\"](match, resp);\n          if (resp.isMatchIgnored) matched = false;\n        }\n\n        if (matched) {\n          while (mode.endsParent && mode.parent) {\n            mode = mode.parent;\n          }\n          return mode;\n        }\n      }\n      // even if on:end fires an `ignore` it's still possible\n      // that we might trigger the end node because of a parent mode\n      if (mode.endsWithParent) {\n        return endOfMode(mode.parent, match, matchPlusRemainder);\n      }\n    }\n\n    /**\n     * Handle matching but then ignoring a sequence of text\n     *\n     * @param {string} lexeme - string containing full match text\n     */\n    function doIgnore(lexeme) {\n      if (top.matcher.regexIndex === 0) {\n        // no more regexes to potentially match here, so we move the cursor forward one\n        // space\n        modeBuffer += lexeme[0];\n        return 1;\n      } else {\n        // no need to move the cursor, we still have additional regexes to try and\n        // match at this very spot\n        resumeScanAtSamePosition = true;\n        return 0;\n      }\n    }\n\n    /**\n     * Handle the start of a new potential mode match\n     *\n     * @param {EnhancedMatch} match - the current match\n     * @returns {number} how far to advance the parse cursor\n     */\n    function doBeginMatch(match) {\n      const lexeme = match[0];\n      const newMode = match.rule;\n\n      const resp = new Response(newMode);\n      // first internal before callbacks, then the public ones\n      const beforeCallbacks = [newMode.__beforeBegin, newMode[\"on:begin\"]];\n      for (const cb of beforeCallbacks) {\n        if (!cb) continue;\n        cb(match, resp);\n        if (resp.isMatchIgnored) return doIgnore(lexeme);\n      }\n\n      if (newMode.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (newMode.excludeBegin) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (!newMode.returnBegin && !newMode.excludeBegin) {\n          modeBuffer = lexeme;\n        }\n      }\n      startNewMode(newMode, match);\n      return newMode.returnBegin ? 0 : lexeme.length;\n    }\n\n    /**\n     * Handle the potential end of mode\n     *\n     * @param {RegExpMatchArray} match - the current match\n     */\n    function doEndMatch(match) {\n      const lexeme = match[0];\n      const matchPlusRemainder = codeToHighlight.substring(match.index);\n\n      const endMode = endOfMode(top, match, matchPlusRemainder);\n      if (!endMode) { return NO_MATCH; }\n\n      const origin = top;\n      if (top.endScope && top.endScope._wrap) {\n        processBuffer();\n        emitKeyword(lexeme, top.endScope._wrap);\n      } else if (top.endScope && top.endScope._multi) {\n        processBuffer();\n        emitMultiClass(top.endScope, match);\n      } else if (origin.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (!(origin.returnEnd || origin.excludeEnd)) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (origin.excludeEnd) {\n          modeBuffer = lexeme;\n        }\n      }\n      do {\n        if (top.scope) {\n          emitter.closeNode();\n        }\n        if (!top.skip && !top.subLanguage) {\n          relevance += top.relevance;\n        }\n        top = top.parent;\n      } while (top !== endMode.parent);\n      if (endMode.starts) {\n        startNewMode(endMode.starts, match);\n      }\n      return origin.returnEnd ? 0 : lexeme.length;\n    }\n\n    function processContinuations() {\n      const list = [];\n      for (let current = top; current !== language; current = current.parent) {\n        if (current.scope) {\n          list.unshift(current.scope);\n        }\n      }\n      list.forEach(item => emitter.openNode(item));\n    }\n\n    /** @type {{type?: MatchType, index?: number, rule?: Mode}}} */\n    let lastMatch = {};\n\n    /**\n     *  Process an individual match\n     *\n     * @param {string} textBeforeMatch - text preceding the match (since the last match)\n     * @param {EnhancedMatch} [match] - the match itself\n     */\n    function processLexeme(textBeforeMatch, match) {\n      const lexeme = match && match[0];\n\n      // add non-matched text to the current mode buffer\n      modeBuffer += textBeforeMatch;\n\n      if (lexeme == null) {\n        processBuffer();\n        return 0;\n      }\n\n      // we've found a 0 width match and we're stuck, so we need to advance\n      // this happens when we have badly behaved rules that have optional matchers to the degree that\n      // sometimes they can end up matching nothing at all\n      // Ref: https://github.com/highlightjs/highlight.js/issues/2140\n      if (lastMatch.type === \"begin\" && match.type === \"end\" && lastMatch.index === match.index && lexeme === \"\") {\n        // spit the \"skipped\" character that our regex choked on back into the output sequence\n        modeBuffer += codeToHighlight.slice(match.index, match.index + 1);\n        if (!SAFE_MODE) {\n          /** @type {AnnotatedError} */\n          const err = new Error(`0 width match regex (${languageName})`);\n          err.languageName = languageName;\n          err.badRule = lastMatch.rule;\n          throw err;\n        }\n        return 1;\n      }\n      lastMatch = match;\n\n      if (match.type === \"begin\") {\n        return doBeginMatch(match);\n      } else if (match.type === \"illegal\" && !ignoreIllegals) {\n        // illegal match, we do not continue processing\n        /** @type {AnnotatedError} */\n        const err = new Error('Illegal lexeme \"' + lexeme + '\" for mode \"' + (top.scope || '<unnamed>') + '\"');\n        err.mode = top;\n        throw err;\n      } else if (match.type === \"end\") {\n        const processed = doEndMatch(match);\n        if (processed !== NO_MATCH) {\n          return processed;\n        }\n      }\n\n      // edge case for when illegal matches $ (end of line) which is technically\n      // a 0 width match but not a begin/end match so it's not caught by the\n      // first handler (when ignoreIllegals is true)\n      if (match.type === \"illegal\" && lexeme === \"\") {\n        // advance so we aren't stuck in an infinite loop\n        modeBuffer += \"\\n\";\n        return 1;\n      }\n\n      // infinite loops are BAD, this is a last ditch catch all. if we have a\n      // decent number of iterations yet our index (cursor position in our\n      // parsing) still 3x behind our index then something is very wrong\n      // so we bail\n      if (iterations > 100000 && iterations > match.index * 3) {\n        const err = new Error('potential infinite loop, way more iterations than matches');\n        throw err;\n      }\n\n      /*\n      Why might be find ourselves here?  An potential end match that was\n      triggered but could not be completed.  IE, `doEndMatch` returned NO_MATCH.\n      (this could be because a callback requests the match be ignored, etc)\n\n      This causes no real harm other than stopping a few times too many.\n      */\n\n      modeBuffer += lexeme;\n      return lexeme.length;\n    }\n\n    const language = getLanguage(languageName);\n    if (!language) {\n      error(LANGUAGE_NOT_FOUND.replace(\"{}\", languageName));\n      throw new Error('Unknown language: \"' + languageName + '\"');\n    }\n\n    const md = compileLanguage(language);\n    let result = '';\n    /** @type {CompiledMode} */\n    let top = continuation || md;\n    /** @type Record<string,CompiledMode> */\n    const continuations = {}; // keep continuations for sub-languages\n    const emitter = new options.__emitter(options);\n    processContinuations();\n    let modeBuffer = '';\n    let relevance = 0;\n    let index = 0;\n    let iterations = 0;\n    let resumeScanAtSamePosition = false;\n\n    try {\n      if (!language.__emitTokens) {\n        top.matcher.considerAll();\n\n        for (;;) {\n          iterations++;\n          if (resumeScanAtSamePosition) {\n            // only regexes not matched previously will now be\n            // considered for a potential match\n            resumeScanAtSamePosition = false;\n          } else {\n            top.matcher.considerAll();\n          }\n          top.matcher.lastIndex = index;\n\n          const match = top.matcher.exec(codeToHighlight);\n          // console.log(\"match\", match[0], match.rule && match.rule.begin)\n\n          if (!match) break;\n\n          const beforeMatch = codeToHighlight.substring(index, match.index);\n          const processedCount = processLexeme(beforeMatch, match);\n          index = match.index + processedCount;\n        }\n        processLexeme(codeToHighlight.substring(index));\n      } else {\n        language.__emitTokens(codeToHighlight, emitter);\n      }\n\n      emitter.finalize();\n      result = emitter.toHTML();\n\n      return {\n        language: languageName,\n        value: result,\n        relevance,\n        illegal: false,\n        _emitter: emitter,\n        _top: top\n      };\n    } catch (err) {\n      if (err.message && err.message.includes('Illegal')) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: true,\n          relevance: 0,\n          _illegalBy: {\n            message: err.message,\n            index,\n            context: codeToHighlight.slice(index - 100, index + 100),\n            mode: err.mode,\n            resultSoFar: result\n          },\n          _emitter: emitter\n        };\n      } else if (SAFE_MODE) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: false,\n          relevance: 0,\n          errorRaised: err,\n          _emitter: emitter,\n          _top: top\n        };\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\n   * returns a valid highlight result, without actually doing any actual work,\n   * auto highlight starts with this and it's possible for small snippets that\n   * auto-detection may not find a better match\n   * @param {string} code\n   * @returns {HighlightResult}\n   */\n  function justTextHighlightResult(code) {\n    const result = {\n      value: escape(code),\n      illegal: false,\n      relevance: 0,\n      _top: PLAINTEXT_LANGUAGE,\n      _emitter: new options.__emitter(options)\n    };\n    result._emitter.addText(code);\n    return result;\n  }\n\n  /**\n  Highlighting with language detection. Accepts a string with the code to\n  highlight. Returns an object with the following properties:\n\n  - language (detected language)\n  - relevance (int)\n  - value (an HTML string with highlighting markup)\n  - secondBest (object with the same structure for second-best heuristically\n    detected language, may be absent)\n\n    @param {string} code\n    @param {Array<string>} [languageSubset]\n    @returns {AutoHighlightResult}\n  */\n  function highlightAuto(code, languageSubset) {\n    languageSubset = languageSubset || options.languages || Object.keys(languages);\n    const plaintext = justTextHighlightResult(code);\n\n    const results = languageSubset.filter(getLanguage).filter(autoDetection).map(name =>\n      _highlight(name, code, false)\n    );\n    results.unshift(plaintext); // plaintext is always an option\n\n    const sorted = results.sort((a, b) => {\n      // sort base on relevance\n      if (a.relevance !== b.relevance) return b.relevance - a.relevance;\n\n      // always award the tie to the base language\n      // ie if C++ and Arduino are tied, it's more likely to be C++\n      if (a.language && b.language) {\n        if (getLanguage(a.language).supersetOf === b.language) {\n          return 1;\n        } else if (getLanguage(b.language).supersetOf === a.language) {\n          return -1;\n        }\n      }\n\n      // otherwise say they are equal, which has the effect of sorting on\n      // relevance while preserving the original ordering - which is how ties\n      // have historically been settled, ie the language that comes first always\n      // wins in the case of a tie\n      return 0;\n    });\n\n    const [best, secondBest] = sorted;\n\n    /** @type {AutoHighlightResult} */\n    const result = best;\n    result.secondBest = secondBest;\n\n    return result;\n  }\n\n  /**\n   * Builds new class name for block given the language name\n   *\n   * @param {HTMLElement} element\n   * @param {string} [currentLang]\n   * @param {string} [resultLang]\n   */\n  function updateClassName(element, currentLang, resultLang) {\n    const language = (currentLang && aliases[currentLang]) || resultLang;\n\n    element.classList.add(\"hljs\");\n    element.classList.add(`language-${language}`);\n  }\n\n  /**\n   * Applies highlighting to a DOM node containing code.\n   *\n   * @param {HighlightedHTMLElement} element - the HTML element to highlight\n  */\n  function highlightElement(element) {\n    /** @type HTMLElement */\n    let node = null;\n    const language = blockLanguage(element);\n\n    if (shouldNotHighlight(language)) return;\n\n    fire(\"before:highlightElement\",\n      { el: element, language });\n\n    if (element.dataset.highlighted) {\n      console.log(\"Element previously highlighted. To highlight again, first unset `dataset.highlighted`.\", element);\n      return;\n    }\n\n    // we should be all text, no child nodes (unescaped HTML) - this is possibly\n    // an HTML injection attack - it's likely too late if this is already in\n    // production (the code has likely already done its damage by the time\n    // we're seeing it)... but we yell loudly about this so that hopefully it's\n    // more likely to be caught in development before making it to production\n    if (element.children.length > 0) {\n      if (!options.ignoreUnescapedHTML) {\n        console.warn(\"One of your code blocks includes unescaped HTML. This is a potentially serious security risk.\");\n        console.warn(\"https://github.com/highlightjs/highlight.js/wiki/security\");\n        console.warn(\"The element with unescaped HTML:\");\n        console.warn(element);\n      }\n      if (options.throwUnescapedHTML) {\n        const err = new HTMLInjectionError(\n          \"One of your code blocks includes unescaped HTML.\",\n          element.innerHTML\n        );\n        throw err;\n      }\n    }\n\n    node = element;\n    const text = node.textContent;\n    const result = language ? highlight(text, { language, ignoreIllegals: true }) : highlightAuto(text);\n\n    element.innerHTML = result.value;\n    element.dataset.highlighted = \"yes\";\n    updateClassName(element, language, result.language);\n    element.result = {\n      language: result.language,\n      // TODO: remove with version 11.0\n      re: result.relevance,\n      relevance: result.relevance\n    };\n    if (result.secondBest) {\n      element.secondBest = {\n        language: result.secondBest.language,\n        relevance: result.secondBest.relevance\n      };\n    }\n\n    fire(\"after:highlightElement\", { el: element, result, text });\n  }\n\n  /**\n   * Updates highlight.js global options with the passed options\n   *\n   * @param {Partial<HLJSOptions>} userOptions\n   */\n  function configure(userOptions) {\n    options = inherit(options, userOptions);\n  }\n\n  // TODO: remove v12, deprecated\n  const initHighlighting = () => {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlighting() deprecated.  Use highlightAll() now.\");\n  };\n\n  // TODO: remove v12, deprecated\n  function initHighlightingOnLoad() {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlightingOnLoad() deprecated.  Use highlightAll() now.\");\n  }\n\n  let wantsHighlight = false;\n\n  /**\n   * auto-highlights all pre>code elements on the page\n   */\n  function highlightAll() {\n    function boot() {\n      // if a highlight was requested before DOM was loaded, do now\n      highlightAll();\n    }\n\n    // if we are called too early in the loading process\n    if (document.readyState === \"loading\") {\n      // make sure the event listener is only added once\n      if (!wantsHighlight) {\n        window.addEventListener('DOMContentLoaded', boot, false);\n      }\n      wantsHighlight = true;\n      return;\n    }\n\n    const blocks = document.querySelectorAll(options.cssSelector);\n    blocks.forEach(highlightElement);\n  }\n\n  /**\n   * Register a language grammar module\n   *\n   * @param {string} languageName\n   * @param {LanguageFn} languageDefinition\n   */\n  function registerLanguage(languageName, languageDefinition) {\n    let lang = null;\n    try {\n      lang = languageDefinition(hljs);\n    } catch (error$1) {\n      error(\"Language definition for '{}' could not be registered.\".replace(\"{}\", languageName));\n      // hard or soft error\n      if (!SAFE_MODE) { throw error$1; } else { error(error$1); }\n      // languages that have serious errors are replaced with essentially a\n      // \"plaintext\" stand-in so that the code blocks will still get normal\n      // css classes applied to them - and one bad language won't break the\n      // entire highlighter\n      lang = PLAINTEXT_LANGUAGE;\n    }\n    // give it a temporary name if it doesn't have one in the meta-data\n    if (!lang.name) lang.name = languageName;\n    languages[languageName] = lang;\n    lang.rawDefinition = languageDefinition.bind(null, hljs);\n\n    if (lang.aliases) {\n      registerAliases(lang.aliases, { languageName });\n    }\n  }\n\n  /**\n   * Remove a language grammar module\n   *\n   * @param {string} languageName\n   */\n  function unregisterLanguage(languageName) {\n    delete languages[languageName];\n    for (const alias of Object.keys(aliases)) {\n      if (aliases[alias] === languageName) {\n        delete aliases[alias];\n      }\n    }\n  }\n\n  /**\n   * @returns {string[]} List of language internal names\n   */\n  function listLanguages() {\n    return Object.keys(languages);\n  }\n\n  /**\n   * @param {string} name - name of the language to retrieve\n   * @returns {Language | undefined}\n   */\n  function getLanguage(name) {\n    name = (name || '').toLowerCase();\n    return languages[name] || languages[aliases[name]];\n  }\n\n  /**\n   *\n   * @param {string|string[]} aliasList - single alias or list of aliases\n   * @param {{languageName: string}} opts\n   */\n  function registerAliases(aliasList, { languageName }) {\n    if (typeof aliasList === 'string') {\n      aliasList = [aliasList];\n    }\n    aliasList.forEach(alias => { aliases[alias.toLowerCase()] = languageName; });\n  }\n\n  /**\n   * Determines if a given language has auto-detection enabled\n   * @param {string} name - name of the language\n   */\n  function autoDetection(name) {\n    const lang = getLanguage(name);\n    return lang && !lang.disableAutodetect;\n  }\n\n  /**\n   * Upgrades the old highlightBlock plugins to the new\n   * highlightElement API\n   * @param {HLJSPlugin} plugin\n   */\n  function upgradePluginAPI(plugin) {\n    // TODO: remove with v12\n    if (plugin[\"before:highlightBlock\"] && !plugin[\"before:highlightElement\"]) {\n      plugin[\"before:highlightElement\"] = (data) => {\n        plugin[\"before:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n    if (plugin[\"after:highlightBlock\"] && !plugin[\"after:highlightElement\"]) {\n      plugin[\"after:highlightElement\"] = (data) => {\n        plugin[\"after:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function addPlugin(plugin) {\n    upgradePluginAPI(plugin);\n    plugins.push(plugin);\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function removePlugin(plugin) {\n    const index = plugins.indexOf(plugin);\n    if (index !== -1) {\n      plugins.splice(index, 1);\n    }\n  }\n\n  /**\n   *\n   * @param {PluginEvent} event\n   * @param {any} args\n   */\n  function fire(event, args) {\n    const cb = event;\n    plugins.forEach(function(plugin) {\n      if (plugin[cb]) {\n        plugin[cb](args);\n      }\n    });\n  }\n\n  /**\n   * DEPRECATED\n   * @param {HighlightedHTMLElement} el\n   */\n  function deprecateHighlightBlock(el) {\n    deprecated(\"10.7.0\", \"highlightBlock will be removed entirely in v12.0\");\n    deprecated(\"10.7.0\", \"Please use highlightElement now.\");\n\n    return highlightElement(el);\n  }\n\n  /* Interface definition */\n  Object.assign(hljs, {\n    highlight,\n    highlightAuto,\n    highlightAll,\n    highlightElement,\n    // TODO: Remove with v12 API\n    highlightBlock: deprecateHighlightBlock,\n    configure,\n    initHighlighting,\n    initHighlightingOnLoad,\n    registerLanguage,\n    unregisterLanguage,\n    listLanguages,\n    getLanguage,\n    registerAliases,\n    autoDetection,\n    inherit,\n    addPlugin,\n    removePlugin\n  });\n\n  hljs.debugMode = function() { SAFE_MODE = false; };\n  hljs.safeMode = function() { SAFE_MODE = true; };\n  hljs.versionString = version;\n\n  hljs.regex = {\n    concat: concat,\n    lookahead: lookahead,\n    either: either,\n    optional: optional,\n    anyNumberOfTimes: anyNumberOfTimes\n  };\n\n  for (const key in MODES) {\n    // @ts-ignore\n    if (typeof MODES[key] === \"object\") {\n      // @ts-ignore\n      deepFreeze(MODES[key]);\n    }\n  }\n\n  // merge all the modes/regexes into our main object\n  Object.assign(hljs, MODES);\n\n  return hljs;\n};\n\n// Other names for the variable may break build script\nconst highlight = HLJS({});\n\n// returns a new instance of the highlighter to be used for extensions\n// check https://github.com/wooorm/lowlight/issues/47\nhighlight.newInstance = () => HLJS({});\n\nmodule.exports = highlight;\nhighlight.HighlightJS = highlight;\nhighlight.default = highlight;\n", "import { eventStore } from './events/event-store.js';\nimport { handleLoad } from './events/load-utils/handle-load.js';\nimport {\n    handleMouseClick,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseUp,\n    handleMouseWheel,\n    handleTouchEnd,\n    handleTouchMove,\n    handleTouchStart,\n} from './events/mouse-utils/handle-mouse.js';\nimport { handleCache } from './events/raf-utils/handle-cache.js';\nimport { handleFrame } from './events/raf-utils/handle-frame.js';\nimport { handleFrameIndex } from './events/raf-utils/handle-frame-index.js';\nimport { handleNextFrame } from './events/raf-utils/handle-next-frame.js';\nimport { handleNextTick } from './events/raf-utils/handle-next-tick.js';\nimport { loadFps } from './events/raf-utils/load-fps.js';\nimport { handleResize } from './events/resize-utils/handle-resize.js';\nimport { handleScroll } from './events/scroll-utils/handle-scroll.js';\nimport { handleScrollImmediate } from './events/scroll-utils/handle-scroll-immediate.js';\nimport { handleScrollThrottle } from './events/scroll-utils/handle-scroll-throttle.js';\nimport {\n    handleScrollEnd,\n    handleScrollStart,\n} from './events/scroll-utils/handle-scroll-utils.js';\nimport { handleVisibilityChange } from './events/visibility-change/handle-visibility-change.js';\nimport { mobStore } from './store';\nimport {\n    handlePointerDown,\n    handlePointerLeave,\n    handlePointerMove,\n    handlePointerOut,\n    handlePointerOver,\n    handlePointerUp,\n} from './events/pointer-event/handle-pointer.js';\n\n/**\n * MobStore initialization. The store accepts single properties or objects Each individual property can be initialized\n * with a simple value or via a more complex setup. A complex set-up is created through a function that must return an\n * object with the property `value` and at least one of the following properties: `type` || `validation` || `skipEqual`\n *\n * || `strict`\n *\n * `value`: Initial value.\n *\n * `type`: Supported types: `String|Number|Object|Function|Array|Boolean|Element|HTMLElement|Map|Set|NodeList|\"Any\"`.\n * The property will not be updated if it doesn't match, you will have a warning. For custom Object use 'Any'. Support\n * Constructor || String. Es: type: Number || type: 'Number'\n *\n * `validation`: Validation function to parse value. This function will have the current value and old value as input\n * parameter and will return a boolean value. The validation status of each property will be displayed in the watchers\n * and will be retrievable using the getValidation() method.\n *\n * `strict`: If set to true, the validation function will become blocking and the property will be updated only if the\n * validation function is successful. THe default value is `false`.\n *\n * `skipEqual`: If the value is equal to the previous one, the property will not be updated. The watches will not be\n * executed and the property will have no effect on the computed related to it. The default value is `true`.\n *\n * @example\n *     ```javascript\n *\n *     const myStore = MobCore.createStore({\n *         prop1: 0,\n *         prop2: 0\n *     });\n *\n *     const myStore = MobCore.createStore({\n *         myProp: () => ({\n *             value: 10,\n *             type: Number,\n *             validate: (val, oldVal) => val < 10,\n *             strict: true,\n *             skipEqual: false,\n *         }),\n *         myPropWithObject: () => ({\n *             value: { prop: { prop1: 1}},\n *             type: 'Any',\n *         }),\n *         myObject: {\n *             prop1: () => ({\n *                 value: 0,\n *                 type: Number,\n *                 validate: (val, oldVal) => val < 10,\n *                 strict: true,\n *                 skipEqual: true,\n *             }),\n *             prop2: () => ({\n *                 value: document.createElement('div'),\n *                 type: Element,\n *             }),\n *         }\n *     });\n *\n *\n *\n *     Available methods:\n *     myStore.set();\n *     myStore.setProp();\n *     myStore.setProp();\n *     myStore.setObj();\n *     myStore.computed();\n *     myStore.get();\n *     myStore.getProp();\n *     myStore.getValidation();\n *     myStore.watch();\n *     myStore.emit();\n *     myStore.emitAsync();\n *     myStore.debugStore();\n *     myStore.debugValidate();\n *     myStore.setStyle();\n *     myStore.destroy();\n *     ```;\n *\n * @type {import('./store/type.js').MobStore}\n */\nfunction createStore(data) {\n    return mobStore(data);\n}\n\n/**\n * Get fps detect on page load. Start from 60fps. The real value is calculated after 30 Request animation frame.\n *\n * @returns {number}\n */\nfunction getInstantFps() {\n    return eventStore.getProp('instantFps');\n}\n\n/**\n * Get current fps value.\n *\n * @returns {number}\n */\nfunction getFps() {\n    return handleFrame.getFps();\n}\n\n/**\n * If the current FPS drops below `2/5` of its maximum value the methods return true. The value will remain frozen for 4\n * seconds in order to have time to take the right countermeasures.\n *\n * Note: created for mobMotion internal use.\n */\nfunction mustMakeSomething() {\n    return handleFrame.mustMakeSomething();\n}\n\n/**\n * If the current FPS drops below `1/5` of its maximum value the methods return true. The value will remain frozen for 4\n * seconds in order to have time to take the right countermeasures.\n *\n * Note: created for mobMotion internal use.\n */\nfunction shouldMakeSomething() {\n    return handleFrame.shouldMakeSomething();\n}\n\n/**\n * Execute a callBack within the first available request animation frame. Use this method to modify elements of the DOM\n *\n * @example\n *     ```javascript\n *     MobCore.useframe(({ fps, shouldrender, time }) => {\n *         // code ...\n *     });\n *\n *     ```;\n *\n * @param {import('./events/raf-utils/type.js').HandleFrameCallbak} callback - Callback function\n * @returns {void}\n */\nfunction useFrame(callback = () => {}) {\n    return handleFrame.add(callback);\n}\n\n/**\n * Execute callbacks after scheduling the request animation frame. Use this method to read data from the DOM. To execute\n * callbacks exactly after the request animation frame, set the global property deferredNextTick to true.\n *\n * @example\n *     ```javascript\n *     MobCore.useFrame(() => {\n *         MobCore.useNextTick(({ fps, time }) => {\n *             // code\n *         });\n *     });\n *\n *     Loop request animation frame using handleNextTick:\n *\n *     const loop = () => {\n *         MobCore.useNextTick(() => {\n *             // read from DOM\n *\n *             MobCore.useFrame(() => {\n *                 // write to the DOM\n *                 loop();\n *             });\n *         });\n *     };\n *\n *     MobCore.useFrame(() => loop());\n *\n *     To tick exactly after the request animation frame:\n *     MobCore.default('set', { deferredNextTick: true });\n *\n *     ```;\n *\n * @param {import('./events/raf-utils/type.js').HandleFrameCallbak} callback - Callback function\n * @returns {void}\n */\nfunction useNextTick(callback = () => {}) {\n    return handleNextTick.add(callback);\n}\n\n/**\n * Execute a callback to the next available frame allowing the creation of a request animation frame loop\n *\n * @example\n *     ```javascript\n *     const loop = () => {\n *         MobCore.useNextFrame(({ fps, time }) => {\n *             // code\n *             loop();\n *         });\n *     };\n *\n *     MobCore.useFrame(() => loop());\n *\n *     ```;\n *\n * @param {import('./events/raf-utils/type.js').HandleFrameCallbak} callback - Callback function\n * @returns {void}\n */\nfunction useNextFrame(callback = () => {}) {\n    return handleNextFrame.add(callback);\n}\n\n/**\n * Add callback to a specific frame.\n *\n * @example\n *     ```javascript\n *     MobCore.useFrameIndex(({ fps, time }) => {\n *         // code ...\n *     }, 5);\n *\n *     ```;\n *\n * @param {import('./events/raf-utils/type.js').HandleFrameCallbak} callback - Callback function\n * @param {number} frame\n * @returns {void}\n */\nfunction useFrameIndex(callback = () => {}, frame = 0) {\n    return handleFrameIndex.add(callback, frame);\n}\n\n/**\n * Runs a request animation frame loop to detect the frame rate of the monitor. After the method will be resolved the\n * first time, subsequent calls will be resolved immediately returning the previously calculated value. The method is\n * launched the first time automatically at the first loading.\n *\n * @param {import('./events/raf-utils/type.js').LoadFpsCall} callback - Callback function\n * @returns {Promise<{ averageFPS: number }>}\n */\nasync function useFps(callback = () => {}) {\n    const obj = await loadFps();\n    callback(obj);\n    return obj;\n}\n\n/**\n * Add callback on page load\n *\n * @example\n *     ```javascript\n *\n *     MobCore.useLoad(() => {\n *         // code\n *     });\n *\n *     ```;\n *\n * @param {function():void} callback - Callback function executed on page load\n * @returns {() => void}\n */\nfunction useLoad(callback = () => {}) {\n    return handleLoad(callback);\n}\n\n/**\n * Get handleCache function.\n *\n * Note: created for mobMotion internal use.\n */\nconst useCache = handleCache;\n\n/**\n * Add callback on resize using a debounce function.\n *\n * @example\n *     ```javascript\n *      const unsubscribe = MobCore.useResize(\n *         ({\n *             documentHeight,\n *             horizontalResize,\n *             scrollY,\n *             verticalResize,\n *             windowsHeight,\n *             windowsWidth,\n *         }) => {\n *             // code\n *         }\n *     );\n *\n *     ```;\n *\n * @param {import('./events/resize-utils/type.js').HandleResizeCallback} callback - Callback function fired on resize.\n * @returns {() => void}\n */\nfunction useResize(callback = () => {}) {\n    return handleResize(callback);\n}\n\n/**\n * Add callback on tab change.\n *\n * @example\n *     ```javascript\n *      const unsubscribe = MobCore.useVisibilityChange(({ visibilityState }) => {\n *          // code\n *      });\n *\n *      unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/visibility-change/type.js').VisibilityChangeCallback} callback - Callback function fired on\n *   tab change.\n * @returns {() => void}\n */\nfunction useVisibilityChange(callback = () => {}) {\n    return handleVisibilityChange(callback);\n}\n\n/**\n * Add callback on mouse click\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useMouseClick(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/mouse-utils/type.js').MouseEventCallback} callback - Callback function fired on mouse click.\n * @returns {() => void}\n */\nfunction useMouseClick(callback = () => {}) {\n    return handleMouseClick(callback);\n}\n\n/**\n * Add callback on mouse down\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useMouseDown(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/mouse-utils/type.js').MouseEventCallback} callback - Callback function fired on mouse down.\n * @returns {() => void}\n */\nfunction useMouseDown(callback = () => {}) {\n    return handleMouseDown(callback);\n}\n\n/**\n * Add callback on touch start\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useTouchStart(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/mouse-utils/type.js').MouseEventCallback} callback - Callback function fired on mouse touch\n *   start.\n * @returns {() => void}\n */\nfunction useTouchStart(callback = () => {}) {\n    return handleTouchStart(callback);\n}\n\n/**\n * Add callback on mouse move\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useMouseMove(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/mouse-utils/type.js').MouseEventCallback} callback - Callback function fired on mouse move.\n * @returns {() => void}\n */\nfunction useMouseMove(callback = () => {}) {\n    return handleMouseMove(callback);\n}\n\n/**\n * Add callback on touch move\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useTouchMove(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/mouse-utils/type.js').MouseEventCallback} callback - Callback function fired on touch move.\n * @returns {() => void}\n */\nfunction useTouchMove(callback = () => {}) {\n    return handleTouchMove(callback);\n}\n\n/**\n * Add callback on mouse up\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useMouseUp(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/mouse-utils/type.js').MouseEventCallback} callback - Callback function fired on mouse up.\n * @returns {() => void}\n */\nfunction useMouseUp(callback = () => {}) {\n    return handleMouseUp(callback);\n}\n\n/**\n * Add callback on touch end.\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useTouchEnd(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/mouse-utils/type.js').MouseEventCallback} callback - Callback function fired on touch end.\n * @returns {() => void}\n */\nfunction useTouchEnd(callback = () => {}) {\n    return handleTouchEnd(callback);\n}\n\n/**\n * Add callback on mouse wheel.\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useMouseWheel(\n *         ({\n *             client,\n *             page,\n *             preventDefault,\n *             target,\n *             type,\n *             pixelX,\n *             pixelY,\n *             spinX,\n *             spinY,\n *         }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/mouse-utils/type.js').MouseEventCallback} callback - Callback function fired on mouse wheel.\n * @returns {() => void}\n */\nfunction useMouseWheel(callback = () => {}) {\n    return handleMouseWheel(callback);\n}\n\n/**\n * Perform a callback to the first nextTick available after scrolling\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useScroll(({ direction, scrollY }) => {\n *         // code\n *     });\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/scroll-utils/type.js').HandleScrollCallback<\n *     import('./events/scroll-utils/type.js').HandleScroll\n * >} callback\n *   - Callback function\n *\n * @returns {() => void} Unsubscribe callback\n */\nfunction useScroll(callback = () => {}) {\n    return handleScroll(callback);\n}\n\n/**\n * Execute a callback immediately on scroll\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useScrollImmediate(({ direction, scrollY }) => {\n *         // code\n *     });\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/scroll-utils/type.js').HandleScrollCallback<\n *     import('./events/scroll-utils/type.js').HandleScroll\n * >} callback\n *   - Callback function\n *\n * @returns {() => void} Unsubscribe callback\n */\nfunction useScrollImmediate(callback = () => {}) {\n    return handleScrollImmediate(callback);\n}\n\n/**\n * Performs a scroll callback using a throttle function\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useScrollThrottle(({ direction, scrollY }) => {\n *        // code\n *     });\n *\n *     unsubscribe();\n *\n *     To change the duration of the throttle, change the value of the throttle property to the defaults:\n *     TODO\n *     Use store.\n *\n *\n *\n *     ```;\n *\n * @param {import('./events/scroll-utils/type.js').HandleScrollCallback<\n *     import('./events/scroll-utils/type.js').HandleScroll\n * >} callback\n *   - Callback function\n *\n * @returns {() => void} Unsubscribe callback\n */\nfunction useScrollThrottle(callback = () => {}) {\n    return handleScrollThrottle(callback);\n}\n\n/**\n * Execute a callback at the beginning of the scroll\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useScrollStart(({ scrollY }) => {\n *         // code\n *     });\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/scroll-utils/type.js').HandleScrollCallback<\n *     import('./events/scroll-utils/type.js').HandleScrollUtils\n * >} callback\n *   - Callback function\n *\n * @returns {() => void} Unsubscribe callback\n */\nfunction useScrollStart(callback = () => {}) {\n    return handleScrollStart(callback);\n}\n\n/**\n * Execute a callback at the end of the scroll\n *\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.useScrollEnd(({ scrollY }) => {\n *         // code\n *     });\n *\n *     unsubscribe()\n *\n *     ```;\n *\n * @param {import('./events/scroll-utils/type.js').HandleScrollCallback<\n *     import('./events/scroll-utils/type.js').HandleScrollUtils\n * >} callback\n *   - Callback function\n *\n * @returns {() => void}\n */\nfunction useScrollEnd(callback = () => {}) {\n    return handleScrollEnd(callback);\n}\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.usePointerOver((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/pointer-event/type.js').PointerEventCallback} callback - Callback function\n * @returns {() => void}\n */\nfunction usePointerOver(callback = () => {}) {\n    return handlePointerOver(callback);\n}\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.usePointerDown((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/pointer-event/type.js').PointerEventCallback} callback - Callback function\n * @returns {() => void}\n */\nfunction usePointerDown(callback = () => {}) {\n    return handlePointerDown(callback);\n}\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.usePointerMove((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/pointer-event/type.js').PointerEventCallback} callback - Callback function\n * @returns {() => void}\n */\nfunction usePointerMove(callback = () => {}) {\n    return handlePointerMove(callback);\n}\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.usePointerUp((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/pointer-event/type.js').PointerEventCallback} callback - Callback function\n * @returns {() => void}\n */\nfunction usePointerUp(callback = () => {}) {\n    return handlePointerUp(callback);\n}\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.usePointerOut((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/pointer-event/type.js').PointerEventCallback} callback - Callback function\n * @returns {() => void}\n */\nfunction usePointerOut(callback = () => {}) {\n    return handlePointerOut(callback);\n}\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = MobCore.usePointerLeave((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./events/pointer-event/type.js').PointerEventCallback} callback - Callback function\n * @returns {() => void}\n */\nfunction usePointerLeave(callback = () => {}) {\n    return handlePointerLeave(callback);\n}\n\n/**\n * Get event store ( es modify defaults or get current value ) Props:\n *\n * - UsePassive: true\n * - InstantFps: 60\n * - DeferredNextTick: true\n * - Throttle: 60\n *\n * @example\n *     ``` javascript\n *     MobCore.store.set('throttle', 300);\n *     const { throttle } = MobCore.store.get();\n *     ....\n *\n *     ```;\n *\n * @returns {Object}\n */\nconst store = eventStore;\n\nexport {\n    store,\n    usePointerLeave,\n    usePointerOut,\n    usePointerUp,\n    usePointerMove,\n    usePointerDown,\n    usePointerOver,\n    useScrollEnd,\n    useScrollStart,\n    useScrollThrottle,\n    useScrollImmediate,\n    useScroll,\n    useMouseWheel,\n    useTouchEnd,\n    useMouseUp,\n    useTouchMove,\n    useMouseMove,\n    useTouchStart,\n    useMouseDown,\n    useMouseClick,\n    useVisibilityChange,\n    useResize,\n    useCache,\n    useLoad,\n    useFps,\n    useFrameIndex,\n    useNextFrame,\n    useNextTick,\n    useFrame,\n    shouldMakeSomething,\n    mustMakeSomething,\n    getFps,\n    getInstantFps,\n    createStore,\n};\n\nexport { normalizeWheel } from './events/mouse-utils/normalize-whell.js';\nexport { ANIMATION_STOP_REJECT } from './events/error-handler/catch-animation-reject.js';\nexport { useNextLoop } from './utils/next-tick.js';\nexport { getTime } from './events/raf-utils/time.js';\nexport { checkType, getTypeName } from './store/store-type.js';\nexport { getUnivoqueId } from './utils/index.js';\nexport { debounceFuncion as useDebounce } from './events/debounce.js';\n", "/**\n * Return HTMLElement height with margin.\n *\n * @param {HTMLElement} element\n * @returns {number}\n */\nexport function outerHeight(element) {\n    if (!element) return 0;\n\n    let height = element.offsetHeight;\n    const style = getComputedStyle(element);\n\n    height +=\n        Number.parseInt(style.marginTop) + Number.parseInt(style.marginBottom);\n    return height;\n}\n\n/**\n * Return HTMLElement width with margin.\n *\n * @param {HTMLElement} element\n * @returns {number}\n */\nexport function outerWidth(element) {\n    if (!element) return 0;\n\n    let width = element.offsetWidth;\n    const style = getComputedStyle(element);\n\n    width +=\n        Number.parseInt(style.marginLeft) + Number.parseInt(style.marginRight);\n    return width;\n}\n\n/**\n * Return HTMLElement offset top/left value.\n *\n * @param {HTMLElement} element\n * @returns {{ top: Number; left: Number }}\n */\nexport function offset(element) {\n    if (!element)\n        return {\n            top: 0,\n            left: 0,\n        };\n\n    const rect = element.getBoundingClientRect();\n    const offset = {\n        top: rect.top + window.scrollY,\n        left: rect.left + window.scrollY,\n    };\n\n    return offset;\n}\n\n/**\n * Return HTMLElement position object.\n *\n * @param {HTMLElement | Element} element\n * @returns {{\n *     bottom: Number;\n *     height: Number;\n *     left: Number;\n *     right: Number;\n *     top: Number;\n *     width: Number;\n *     x: Number;\n *     y: Number;\n * }}\n */\nexport function position(element) {\n    if (!element)\n        return {\n            bottom: 0,\n            height: 0,\n            left: 0,\n            right: 0,\n            top: 0,\n            width: 0,\n            x: 0,\n            y: 0,\n        };\n\n    const rect = element.getBoundingClientRect();\n    return rect;\n}\n\n/**\n * Return sinblings of element by className\n *\n * @param {HTMLElement} element\n * @param {string} selector\n * @returns {ChildNode[]}\n */\nexport function getSiblings(element, selector) {\n    // Setup siblings array and get the first sibling\n    const siblings = [];\n    let sibling = element?.parentNode?.firstChild;\n\n    // Loop through each sibling and push to the array\n    while (sibling) {\n        if (\n            sibling.nodeType === 1 &&\n            sibling !== element && // @ts-ignore\n            sibling.classList.contains(selector)\n        ) {\n            siblings.push(sibling);\n        }\n        sibling = sibling.nextSibling;\n    }\n\n    return siblings;\n}\n\n/**\n * Return all parent of element.\n *\n * @param {HTMLElement} element\n * @param {string} selector\n * @returns {ChildNode[]}\n */\nexport function getParents(element, selector) {\n    // Set up a parent array\n    const parents = [];\n\n    // Push each parent element to the array\n    // @ts-ignore\n    for (; element && element !== document; element = element.parentNode) {\n        if (selector) {\n            if (element.classList.contains(selector)) {\n                parents.push(element);\n            }\n            continue;\n        }\n        parents.push(element);\n    }\n\n    // Return our parent array\n    return parents;\n}\n\n/**\n * Check if child is descendant od parent.\n *\n * @param {HTMLElement | undefined} parent\n * @param {HTMLElement | undefined} child\n * @returns {boolean}\n */\nexport function isDescendant(parent, child) {\n    let node = child?.parentNode;\n    while (node) {\n        if (node === parent) return true;\n        node = node?.parentNode;\n    }\n\n    return false;\n}\n\n/**\n * Gets computed translate values\n *\n * @param {HTMLElement} element\n * @returns {{ x: number; y: number; z: number } | undefined}\n */\nexport function getTranslateValues(element) {\n    const style = globalThis.getComputedStyle(element);\n    const matrix =\n        // @ts-ignore\n        style['transform'] || style.mozTransform;\n\n    // No transform property. Simply return 0 values.\n    if (matrix === 'none' || matrix === undefined) {\n        return {\n            x: 0,\n            y: 0,\n            z: 0,\n        };\n    }\n\n    // Can either be 2d or 3d transform\n    const matrixType = matrix.includes('3d') ? '3d' : '2d';\n    const matrixValues = matrix.match(/matrix.*\\((.+)\\)/)[1].split(', ');\n\n    // 2d matrices have 6 values\n    // Last 2 values are X and Y.\n    // 2d matrices does not have Z value.\n    if (matrixType === '2d') {\n        return {\n            x: matrixValues[4],\n            y: matrixValues[5],\n            z: 0,\n        };\n    }\n\n    // 3d matrices have 16 values\n    // The 13th, 14th, and 15th values are X, Y, and Z\n    if (matrixType === '3d') {\n        return {\n            x: matrixValues[12],\n            y: matrixValues[13],\n            z: matrixValues[14],\n        };\n    }\n}\n\n/**\n * Returns true if it is a DOM node\n *\n * @param {any} element\n * @returns {boolean}\n */\nexport function isNode(element) {\n    return typeof Node === 'object'\n        ? element instanceof Node\n        : element &&\n              typeof element === 'object' &&\n              typeof element.nodeType === 'number' &&\n              typeof element.nodeName === 'string';\n}\n\n/**\n * Returns true if it is a DOM element\n *\n * @param {any} element\n * @returns {boolean}\n */\nexport function isElement(element) {\n    return typeof HTMLElement === 'object'\n        ? element instanceof HTMLElement //DOM2\n        : element &&\n              typeof element === 'object' &&\n              element !== null &&\n              element.nodeType === 1 &&\n              typeof element.nodeName === 'string';\n}\n\n/**\n * Generate univoque string id\n *\n * @returns {string}\n */\nexport const getUnivoqueId = () => {\n    return `_${Math.random().toString(36).slice(2, 9)}`;\n};\n\n/**\n * @param {HTMLElement} element\n * @returns {boolean}\n */\nexport function isVisibleInViewport(element) {\n    const elementStyle = globalThis.getComputedStyle(element);\n\n    //Particular cases when the element is not visible at all\n    if (\n        elementStyle.height === '0px' ||\n        elementStyle.display === 'none' ||\n        elementStyle.opacity === '0' ||\n        elementStyle.visibility === 'hidden' ||\n        elementStyle.clipPath === 'circle(0px at 50% 50%)' ||\n        elementStyle.transform === 'scale(0)' ||\n        element.hasAttribute('hidden')\n    ) {\n        return false;\n    }\n\n    const rect = element.getBoundingClientRect();\n\n    //Overlapping strict check\n    const baseElementLeft = rect.left;\n    const baseElementTop = rect.top;\n\n    const elementFromStartingPoint = document.elementFromPoint(\n        baseElementLeft,\n        baseElementTop\n    );\n\n    if (\n        elementFromStartingPoint !== null &&\n        !element.isSameNode(elementFromStartingPoint)\n    ) {\n        const elementZIndex = elementStyle.zIndex;\n        const elementOverlappingZIndex = globalThis.getComputedStyle(\n            elementFromStartingPoint\n        ).zIndex;\n\n        if (Number(elementZIndex) < Number(elementOverlappingZIndex)) {\n            return false;\n        }\n\n        if (\n            elementZIndex === '' &&\n            elementOverlappingZIndex === '' &&\n            /**\n             * If two positioned elements overlap without a z-index specified, the element positioned last in the HTML\n             * code will be shown on top\n             */\n            element.compareDocumentPosition(elementFromStartingPoint) &\n                Node.DOCUMENT_POSITION_FOLLOWING\n        ) {\n            return false;\n        }\n    }\n\n    return (\n        rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <=\n            (window.innerHeight || document.documentElement.clientHeight) &&\n        rect.right <=\n            (window.innerWidth || document.documentElement.clientWidth)\n    );\n}\n\n/**\n * @param {number} num\n * @param {number} lower\n * @param {number} upper\n * @returns {number}\n */\nexport const clamp = (num, lower, upper) => {\n    return Math.min(Math.max(num, lower), upper);\n};\n", "/** @type{Set<() => any>} */\nconst setTimeOutQueque = new Set();\n\n/**\n * @param {() => void} fn\n * @returns {void}\n */\nexport const useNextLoop = (fn) => {\n    setTimeOutQueque.add(fn);\n\n    if (setTimeOutQueque.size === 1) {\n        setTimeout(() => {\n            setTimeOutQueque.forEach((fn) => {\n                fn();\n            });\n\n            setTimeOutQueque.clear();\n        });\n    }\n};\n\n// https://macarthur.me/posts/navigating-the-event-loop\n\n/**\n * Alternative 1 Safari not support at moment. requestIdleCallback(() => { fn(); });\n */\n\n/**\n * Alternative 2:\n *\n * Const channel = new MessageChannel(); channel.port1.onmessage = fn; channel.port2.postMessage('');\n */\n", "/**\n * @type {string}\n */\nexport const TYPE_IS_ANY = 'ANY';\n\n/**\n * @type {string}\n */\nexport const UNTYPED = 'UNTYPED';\n\n/**\n * @type {string}\n */\nconst STRING = 'STRING';\n\n/**\n * @type {string}\n */\nconst NUMBER = 'NUMBER';\n\n/**\n * @type {string}\n */\nconst OBJECT = 'OBJECT';\n\n/**\n * @type {string}\n */\nconst FUNCTION = 'FUNCTION';\n\n/**\n * @type {string}\n */\nexport const ARRAY = 'ARRAY';\n\n/**\n * @type {string}\n */\nconst BOOLEAN = 'BOOLEAN';\n\n/**\n * @type {string}\n */\nconst ELEMENT = 'ELEMENT';\n\n/**\n * @type {string}\n */\nconst HTMLELEMENT = 'HTMLELEMENT';\n\n/**\n * @type {string}\n */\nconst NODELIST = 'NODELIST';\n\n/**\n * @type {string}\n */\nexport const SET = 'SET';\n\n/**\n * @type {string}\n */\nexport const MAP = 'MAP';\n\nexport const storeType = {\n    isString: (/** @type {any} */ value) =>\n        Object.prototype.toString.call(value) === '[object String]',\n    isNumber: (/** @type {any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Number]' &&\n        Number.isFinite(value),\n    isObject: (/** @type {any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Object]',\n    isFunction: (/** @type {any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Function]',\n    isArray: (/** @type {any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Array]',\n    isBoolean: (/** @type {any} */ value) =>\n        Object.prototype.toString.call(value) === '[object Boolean]',\n    isElement: (/** @type {any} */ value) =>\n        value instanceof Element || value instanceof Document,\n    isHTMLElement: (/** @type {any} */ value) => value instanceof HTMLElement,\n    isSet: (/** @type {any} */ value) => value instanceof Set,\n    isMap: (/** @type {any} */ value) => value instanceof Map,\n    isNodeList: (/** @type {any} */ value) =>\n        Object.prototype.isPrototypeOf.call(NodeList.prototype, value),\n};\n\n/**\n * @param {any} type\n * @returns {string}\n */\nexport const getTypeName = (type) => {\n    switch (type) {\n        case String:\n        case STRING: {\n            return 'String';\n        }\n\n        case Number:\n        case NUMBER: {\n            return 'Number';\n        }\n\n        case Object:\n        case OBJECT: {\n            return 'Object';\n        }\n\n        case Function:\n        case FUNCTION: {\n            return 'Function';\n        }\n\n        case Array:\n        case ARRAY: {\n            return 'Array';\n        }\n\n        case Boolean:\n        case BOOLEAN: {\n            return 'Boolean';\n        }\n\n        case Element:\n        case ELEMENT: {\n            return 'Element';\n        }\n\n        case HTMLElement:\n        case HTMLELEMENT: {\n            return 'HTMLElement';\n        }\n\n        case NodeList:\n        case NODELIST: {\n            return 'NodeList';\n        }\n\n        case Set:\n        case SET: {\n            return 'Set';\n        }\n\n        case Map:\n        case MAP: {\n            return 'Map';\n        }\n\n        case TYPE_IS_ANY: {\n            return TYPE_IS_ANY;\n        }\n\n        default: {\n            return UNTYPED;\n        }\n    }\n};\n\n/**\n * @param {any} type\n * @param {any} value\n * @returns {boolean}\n */\nexport const checkType = (type, value) => {\n    switch (type) {\n        case String:\n        case STRING: {\n            return storeType.isString(value);\n        }\n\n        case Number:\n        case NUMBER: {\n            return storeType.isNumber(value);\n        }\n\n        case Object:\n        case OBJECT: {\n            return storeType.isObject(value);\n        }\n\n        case Function:\n        case FUNCTION: {\n            return storeType.isFunction(value);\n        }\n\n        case Array:\n        case ARRAY: {\n            return storeType.isArray(value);\n        }\n\n        case Boolean:\n        case BOOLEAN: {\n            return storeType.isBoolean(value);\n        }\n\n        case Element:\n        case ELEMENT: {\n            return storeType.isElement(value);\n        }\n\n        case HTMLElement:\n        case HTMLELEMENT: {\n            return storeType.isHTMLElement(value);\n        }\n\n        case NodeList:\n        case NODELIST: {\n            return storeType.isNodeList(value);\n        }\n\n        case Set:\n        case SET: {\n            return storeType.isSet(value);\n        }\n\n        case Map:\n        case MAP: {\n            return storeType.isMap(value);\n        }\n\n        case TYPE_IS_ANY: {\n            return true;\n        }\n\n        default: {\n            return true;\n        }\n    }\n};\n", "import { ARRAY, MAP, SET, TYPE_IS_ANY } from './store-type';\n\n/**\n * @param {Map<any, any>} m1\n * @param {Map<any, any>} m2\n * @returns {boolean}\n */\nconst mapsAreEqual = (m1, m2) =>\n    m1.size === m2.size &&\n    [...m1.keys()].every((key) => m1.get(key) === m2.get(key));\n\n/**\n * @param {Set<any>} a\n * @param {Set<any>} b\n * @returns {boolean}\n */\nconst setsAreEqual = (a, b) =>\n    a.size === b.size && [...a].every((value) => b.has(value));\n\n/**\n * A function to compare if two arrays have the same elements regardless of their order\n *\n * @param {[]} a\n * @param {[]} b\n * @returns {boolean}\n */\nconst arrayAreEquals = (a, b) => {\n    if (a.length !== b.length) return false;\n    const elements = new Set([...a, ...b]);\n    for (const x of elements) {\n        const count1 = a.filter((e) => e === x).length;\n        const count2 = b.filter((e) => e === x).length;\n        if (count1 !== count2) return false;\n    }\n    return true;\n};\n\n/**\n * @param {any} obj1\n * @param {any} obj2\n * @returns {boolean}\n */\nconst objectAreEqual = (obj1, obj2, checkDataOrder = false) => {\n    const checkDataOrderParanoic = false;\n    if (obj1 === null || obj2 === null) {\n        return obj1 === obj2;\n    }\n    let _obj1 = obj1;\n    let _obj2 = obj2;\n    if (!checkDataOrder) {\n        if (Array.isArray(obj1)) {\n            _obj1 = [...obj1].sort();\n        }\n        if (Array.isArray(obj2)) {\n            _obj2 = [...obj2].sort();\n        }\n    }\n    if (typeof _obj1 !== 'object' || typeof _obj2 !== 'object') {\n        return _obj1 === _obj2;\n    }\n\n    const obj1Props = Object.getOwnPropertyNames(_obj1);\n    const obj2Props = Object.getOwnPropertyNames(_obj2);\n    if (obj1Props.length !== obj2Props.length) {\n        return false;\n    }\n\n    if (checkDataOrderParanoic && checkDataOrder) {\n        // will result in {a:1, b:2} !== {b:2, a:1}\n        // its not normal, but if you want this behavior, set checkDataOrderParanoic = true\n        const propOrder = obj1Props.toString() === obj2Props.toString();\n        if (!propOrder) {\n            return false;\n        }\n    }\n\n    for (const prop of obj1Props) {\n        const val1 = _obj1[prop];\n        const val2 = _obj2[prop];\n\n        if (typeof val1 === 'object' && typeof val2 === 'object') {\n            if (objectAreEqual(val1, val2, checkDataOrder)) {\n                continue;\n            } else {\n                return false;\n            }\n        }\n        if (val1 !== val2) {\n            return false;\n        }\n    }\n    return true;\n};\n\n/**\n * @param {any} type\n * @param {any} oldValue\n * @param {any} newValue\n * @returns {boolean}\n */\nexport const checkEquality = (type, oldValue, newValue) => {\n    switch (type) {\n        case TYPE_IS_ANY: {\n            return objectAreEqual(oldValue, newValue);\n        }\n\n        case ARRAY:\n        case Array: {\n            return arrayAreEquals(oldValue, newValue);\n        }\n\n        case SET:\n        case Set: {\n            return setsAreEqual(oldValue, newValue);\n        }\n\n        case MAP:\n        case Map: {\n            return mapsAreEqual(oldValue, newValue);\n        }\n\n        default: {\n            return oldValue === newValue;\n        }\n    }\n};\n", "export const STORE_SET = 'SET';\nexport const STORE_UPDATE = 'UPDATE';\n", "import { checkType } from './store-type';\n\n/** @type {string[]} */\nlet current_computed_keys = [];\nlet active = false;\n\n/**\n * @returns {void}\n */\nexport const initializeCurrentDependencies = () => {\n    active = true;\n    current_computed_keys.length = 0;\n};\n\n/**\n * Return a copy of items. Avoid side effect.\n *\n * @returns {string[]}\n */\nexport const getCurrentDependencies = () => {\n    active = false;\n    return [...current_computed_keys];\n};\n\n/**\n * Return a copy of items. Avoid side effect.\n *\n * @returns {string}\n */\nexport const getFirstCurrentDependencies = () => {\n    active = false;\n    const copy = [...current_computed_keys];\n    return copy?.[0] ?? 'missing_prop';\n};\n\n/**\n * @param {string} key\n * @returns {void}\n */\nexport const setCurrentDependencies = (key) => {\n    if (!active || !key) return;\n    if (current_computed_keys.includes(key)) return;\n    current_computed_keys = [...current_computed_keys, key];\n};\n\n/**\n * @param {string | (() => any)} prop\n * @returns {string}\n */\nexport const extractkeyFromProp = (prop) => {\n    const isString = checkType(String, prop);\n    if (isString) return /** @type {string} */ (prop);\n\n    initializeCurrentDependencies();\n    /** @type {() => any} */ (prop)();\n    return getFirstCurrentDependencies();\n};\n\n/**\n * @param {(string | (() => any))[]} keys\n * @returns {string[]}\n */\nexport const extractKeysFromArray = (keys) => {\n    return keys.map((key) => {\n        const isString = checkType(String, key);\n        if (isString) return /** @type {string} */ (key);\n\n        initializeCurrentDependencies();\n        /** @type {() => any} */ (key)();\n        return getFirstCurrentDependencies();\n    });\n};\n", "import { useNextLoop } from '../utils/next-tick';\n\n/** @type {import('./type').MobStoreWatchWaintList} */\nconst waitMap = new Map();\n\n/**\n * @param {import('./type').MobStoreCallbackQueue} param\n * @returns {void}\n */\nexport const runCallbackQueqe = ({\n    callBackWatcher,\n    prop,\n    newValue,\n    oldValue,\n    validationValue,\n    instanceId,\n}) => {\n    for (const { prop: currentProp, fn, wait } of callBackWatcher.values()) {\n        /*\n         * No wait next loop\n         */\n        if (currentProp === prop && !wait) {\n            fn(newValue, oldValue, validationValue);\n        }\n\n        /*\n         * Wait next loop\n         */\n        if (instanceId && currentProp === prop && wait) {\n            /**\n             * Get all props for current instanceId.\n             */\n            const queueByInstanceId =\n                waitMap.get(instanceId) ??\n                /** @type{Map<string, any>} */ (new Map());\n\n            /**\n             * Props is in queue ?\n             */\n            const shouldWait = queueByInstanceId.has(prop);\n\n            /**\n             * Update or initialize single prop value to last.\n             */\n            queueByInstanceId.set(prop, newValue);\n\n            /**\n             * If is in queue return;\n             */\n            if (shouldWait) return;\n\n            /**\n             * Update main instanceId map\n             */\n            waitMap.set(instanceId, queueByInstanceId);\n\n            /**\n             * Fire callback.\n             */\n            useNextLoop(() => {\n                /**\n                 * Get last updated value\n                 */\n                const propsPerIdNow = waitMap.get(instanceId);\n                const valueNow = propsPerIdNow?.get(prop);\n\n                if (valueNow !== undefined || valueNow !== null) {\n                    fn(valueNow, oldValue, validationValue);\n                }\n\n                /**\n                 * Remove prop in instanceId map once fired.\n                 */\n                propsPerIdNow?.delete(prop);\n\n                /**\n                 * If instanceId has no more prop in queque delete.\n                 */\n                if (propsPerIdNow?.size === 0) {\n                    waitMap.delete(instanceId);\n                }\n            });\n        }\n    }\n};\n\n/**\n * @param {import('./type').MobStoreCallbackQueue} param\n * @returns {Promise<any>}\n */\nexport const runCallbackQueqeAsync = async ({\n    callBackWatcher,\n    prop,\n    newValue,\n    oldValue,\n    validationValue,\n}) => {\n    for (const { prop: currentProp, fn } of callBackWatcher.values()) {\n        if (currentProp === prop) await fn(newValue, oldValue, validationValue);\n    }\n};\n", "const logStyle = 'padding: 10px;';\nexport const getLogStyle = () => logStyle;\n", "import { useStoreCopy } from './strategy';\n\n/**\n * @type {import('./type').StoreMap}\n */\nexport const storeMap = new Map();\n\n/**\n * @param {string} id\n * @returns {import('./type').StoreMapValue | undefined}\n */\nexport const getStateFromMainMap = (id) => {\n    if (useStoreCopy) {\n        const valueNow = storeMap.get(id);\n        return valueNow ? { ...valueNow } : undefined;\n    }\n\n    return storeMap.get(id);\n};\n\n/**\n * @param {string} id\n * @param {import('./type').StoreMapValue} state\n * @returns {void}\n */\nexport const updateMainMap = (id, state) => {\n    storeMap.set(id, state);\n};\n\n/**\n * @param {string} id\n * @returns {void}\n */\nexport const removeStateFromMainMap = (id) => {\n    storeMap.delete(id);\n};\n", "import { getTypeName } from './store-type';\n\n/**\n * @param {number} data\n * @param {string} style\n * @returns {void}\n */\nexport const storeDepthWarning = (data, style) => {\n    console.warn(\n        `%c MobStore supports an object with a depth of up to 2 levels, set 'Any' type to use obj as value, the input object has ${data} level`,\n        style\n    );\n};\n\n/**\n * @param {String[]} keys\n * @param {string} prop\n * @param {string} style\n * @returns {void}\n */\nexport const storeComputedWarning = (keys, prop, style) => {\n    console.warn(\n        `%c one of this key ${keys} defined in computed method of prop to monitor '${prop}' prop not exist`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns {void}\n */\nexport const storeSetWarning = (prop, style) => {\n    console.warn(\n        `%c MobStore, trying to execute set() method: store.${prop} not exist`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} val\n * @param {string} style\n * @returns {void}\n */\nexport const storeSetPropValWarning = (prop, val, style) => {\n    console.warn(\n        `%c trying to execute setProp method on '${prop}' propierties: setProp methods doesn't allow objects as value, ${JSON.stringify(\n            val\n        )} is an Object, use 'Any' type for custom object`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns {void}\n */\nexport const storeSetPropPropWarning = (prop, style) => {\n    console.warn(\n        `%c trying to execute setProp method on '${prop}' propierties: '${JSON.stringify(\n            prop\n        )}' is an objects`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {any} val\n * @param {any} type\n * @param {string} style\n * @returns {void}\n */\nexport const storeSetPropTypeWarning = (prop, val, type, style) => {\n    console.warn(\n        `%c trying to execute setProp method on '${prop}' propierties: ${val} is not a ${getTypeName(\n            type\n        )}`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {any} val\n * @param {string} style\n * @returns {void}\n */\nexport const storeSetObjectValWarning = (prop, val, style) => {\n    console.warn(\n        `%c trying to execute setObj method on '${prop}' propierties: setObj methods allow only objects as value, ${val} is not an Object`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns {void}\n */\nexport const storeSetObjectPropWarning = (prop, style) => {\n    console.warn(\n        `%c trying to execute setObj data method on '${prop}' propierties: store propierties '${prop}' is not an object`,\n        style\n    );\n};\n\n/**\n * @param {String[]} key\n * @param {string} prop\n * @param {string} style\n * @returns {void}\n */\nexport const storeSetObjKeysWarning = (key, prop, style) => {\n    console.warn(\n        `%c trying to execute setObj data method: one of these keys '${key}' not exist in store.${prop}`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {any} val\n * @param {string} style\n * @returns {void}\n */\nexport const storeSetObjDepthWarning = (prop, val, style) => {\n    console.warn(\n        `%c trying to execute setObj data method on '${prop}' propierties: '${JSON.stringify(\n            val\n        )}' have a depth > 1, nested obj is not allowed`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} subProp\n * @param {any} subVal\n * @param {string} type\n * @param {string} style\n * @returns {void}\n */\nexport const storeSetObjTypeWarning = (prop, subProp, subVal, type, style) => {\n    console.warn(\n        `%c trying to execute setObj data method on ${prop}.${subProp} propierties: ${subVal} is not a ${getTypeName(\n            type\n        )}`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns {void}\n */\nexport const storeGetPropWarning = (prop, style) => {\n    console.warn(\n        `%c trying to execute get data method: store.${prop} not exist`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns {void}\n */\nexport const storeEmitWarning = (prop, style) => {\n    console.warn(\n        `%c trying to execute set data method: store.${prop} not exist`,\n        style\n    );\n};\n\n/**\n * @param {string[]} keys\n * @param {string} style\n * @returns {void}\n */\nexport const storeComputedKeyUsedWarning = (keys, style) => {\n    console.warn(\n        `%c one of the keys [${keys}] is already used as a computed target, or there is a circular dependencies`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns {void}\n */\nexport const storeWatchWarning = (prop, style) => {\n    console.warn(\n        `%c MobStore error: the property ${prop} to watch doesn't exist in store`,\n        style\n    );\n};\n\n/**\n * @param {string} style\n * @param {string} CUSTOM_OBJECT\n * @returns {void}\n */\nexport const storeObjectIsNotAnyWarning = (style, CUSTOM_OBJECT) => {\n    console.warn(\n        `%c Validation Object error: validation function return undefined or have you used Object instead '${CUSTOM_OBJECT}' ?`,\n        style\n    );\n};\n\n/**\n * @param {string} prop\n * @param {string} style\n * @returns {void}\n */\nexport const storePropInProxiWarning = (prop, style) => {\n    console.warn(\n        `%c MobStore error: the property ${prop} does not exist in proxi`,\n        style\n    );\n};\n", "import { getStateFromMainMap } from './store-map.js';\nimport { checkType, storeType } from './store-type.js';\nimport { storeDepthWarning } from './store-warining.js';\n\n/**\n * Get depth of Object\n *\n * @param {Object} object\n * @returns {number}\n */\nexport const maxDepth = (object) => {\n    if (!storeType.isObject(object)) return 0;\n    const values = Object.values(object);\n\n    if (values.length === 0) return 1;\n\n    return Math.max(...values.map((value) => maxDepth(value))) + 1;\n};\n\n/**\n * Get Main Store Object If use a function with validation check if there is a function that return an object: key: ()\n * => ({ value: 0, validate: (val) => ...., ... }),\n *\n * Returns initial props value.\n *\n * @param {import('./type.js').MobStoreParams} data\n * @param {boolean} shouldRecursive - Max 1 level of recurisivity.\n * @returns {Object<string, Object<string, any> | any>}\n */\nexport const getDataRecursive = (data, shouldRecursive = true) => {\n    return Object.entries(data).reduce((p, c) => {\n        const [key, value] = c;\n        const functionResult = storeType.isFunction(value)\n            ? /** @type {Function} */ (value)()\n            : {};\n\n        /**\n         * First level value is an object. Recursive function if find an Object.\n         */\n        if (storeType.isObject(value) && shouldRecursive) {\n            return {\n                ...p,\n\n                [key]: getDataRecursive(\n                    /** @type {import('./type.js').MobStoreParams} */ (value),\n                    false\n                ),\n            };\n        }\n\n        /**\n         * Complex data with validate|type|skipEqual.\n         */\n        if (\n            storeType.isFunction(value) &&\n            storeType.isObject(functionResult) &&\n            'value' in functionResult &&\n            ('validate' in functionResult ||\n                'type' in functionResult ||\n                'skipEqual' in functionResult)\n        ) {\n            return { ...p, [key]: functionResult.value };\n        }\n\n        /**\n         * Simple value\n         */\n        return { ...p, [key]: value };\n    }, {});\n};\n\n/**\n * Returns specific object by Prop ( validate, skipequel, etc.. )\n *\n * @param {import('./type.js').MobStoreParams} data\n * @param {string} prop\n * @param {any} fallback\n * @param {boolean} shouldRecursive - Max 1 level of recursivity\n * @returns {Object<string, Object<string, any> | any>}\n */\nexport const getPropRecursive = (\n    data,\n    prop,\n    fallback,\n    shouldRecursive = true\n) => {\n    return Object.entries(data).reduce((p, c) => {\n        const [key, value] = c;\n        const functionResult = storeType.isFunction(value)\n            ? /** @type {Function} */ (value)()\n            : {};\n\n        /**\n         * First level value is an object. Recursive function if find an Object.\n         */\n        if (storeType.isObject(value) && shouldRecursive) {\n            return {\n                ...p,\n\n                [key]: getPropRecursive(\n                    /** @type {import('./type.js').MobStoreParams} */ (value),\n                    prop,\n                    fallback,\n                    false\n                ),\n            };\n        }\n\n        /**\n         * Complex data with specific key ( validate, skipequel etc.. )\n         */\n        if (\n            storeType.isFunction(value) &&\n            storeType.isObject(functionResult) &&\n            'value' in functionResult &&\n            prop in functionResult\n        ) {\n            const propParsed = storeType.isString(functionResult[prop])\n                ? functionResult[prop].toUpperCase()\n                : functionResult[prop];\n\n            return { ...p, [key]: propParsed };\n        }\n\n        /**\n         * Simple value\n         */\n        return { ...p, [key]: fallback };\n    }, {});\n};\n\n/**\n * @param {Object} obj\n * @param {import('./type.js').MobStoreParams} obj.data\n * @param {number} obj.depth\n * @param {string} obj.logStyle\n * @returns {Object<string, Object<string, any> | any>}\n */\nexport const inizializeStoreData = ({ data, depth, logStyle }) => {\n    if (depth > 2) {\n        storeDepthWarning(depth, logStyle);\n        return {};\n    }\n\n    return getDataRecursive(data);\n};\n\n/**\n * @param {Object} obj\n * @param {import('./type.js').MobStoreParams} obj.data\n * @param {string} obj.prop\n * @param {number} obj.depth\n * @param {string} obj.logStyle\n * @param {any} obj.fallback\n * @returns {Object<string, Object<string, any> | any>}\n */\nexport const inizializeSpecificProp = ({\n    data,\n    prop,\n    depth,\n    logStyle,\n    fallback,\n}) => {\n    if (depth > 2) {\n        storeDepthWarning(depth, logStyle);\n        return {};\n    }\n\n    return getPropRecursive(data, prop, fallback);\n};\n\n/**\n * @param {Object} obj\n * @param {any} obj.value\n * @returns {any}\n */\nexport const cloneValueOrGet = ({ value }) => {\n    if (checkType(Map, value)) {\n        return new Map(value);\n    }\n\n    if (checkType(Set, value)) {\n        return new Set(value);\n    }\n\n    if (checkType(Object, value)) {\n        return { ...value };\n    }\n\n    if (checkType(Array, value)) {\n        return [...value];\n    }\n\n    return value;\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {boolean}\n */\nexport const checkIfPropIsComputed = ({ instanceId, prop }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return false;\n\n    const { callBackComputed } = state;\n\n    const isComputed = [...callBackComputed].some(\n        ({ prop: currentProp }) => prop === currentProp\n    );\n\n    if (isComputed) {\n        console.warn(\n            `${prop} is used as computed, explicit set is disallowed.`\n        );\n    }\n\n    return isComputed;\n};\n", "import { useNextLoop } from '../utils/next-tick';\nimport { checkEquality } from './check-equality';\nimport { STORE_SET, STORE_UPDATE } from './constant';\nimport {\n    getCurrentDependencies,\n    initializeCurrentDependencies,\n} from './current-key';\nimport { runCallbackQueqe } from './fire-queque';\nimport { getLogStyle } from './log-style';\nimport { getStateFromMainMap, updateMainMap } from './store-map';\nimport { checkType, storeType, TYPE_IS_ANY } from './store-type';\nimport { cloneValueOrGet, maxDepth } from './store-utils';\nimport {\n    storeComputedKeyUsedWarning,\n    storeObjectIsNotAnyWarning,\n    storeSetObjDepthWarning,\n    storeSetObjectPropWarning,\n    storeSetObjectValWarning,\n    storeSetObjKeysWarning,\n    storeSetObjTypeWarning,\n    storeSetPropPropWarning,\n    storeSetPropTypeWarning,\n    storeSetPropValWarning,\n    storeSetWarning,\n} from './store-warining';\n\n/**\n * ## SET\n */\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {import('./type').StoreMapValue} param.state\n * @param {string} param.prop\n * @param {any} param.val\n * @param {boolean} param.fireCallback\n * @param {boolean} param.useStrict\n * @returns {import('./type').StoreMapValue | undefined}\n */\nconst setProp = ({\n    instanceId,\n    state,\n    prop,\n    val,\n    fireCallback = true,\n    useStrict = true,\n}) => {\n    const {\n        type,\n        fnTransformation,\n        store,\n        fnValidate,\n        strict,\n        validationStatusObject,\n        skipEqual,\n        callBackWatcher,\n        bindInstanceBy,\n    } = state;\n    const logStyle = getLogStyle();\n\n    const isCustomObject = type[prop] === TYPE_IS_ANY;\n\n    /**\n     * Check if val is an Object\n     */\n    if (storeType.isObject(val) && !isCustomObject) {\n        storeSetPropValWarning(prop, val, logStyle);\n        return;\n    }\n\n    /**\n     * Check if prop is an Object\n     */\n    if (storeType.isObject(store[prop]) && !isCustomObject) {\n        storeSetPropPropWarning(prop, logStyle);\n        return;\n    }\n\n    /**\n     * Get old value\n     */\n    const oldVal = store[prop];\n\n    /**\n     * Transform value\n     */\n    const valueTransformed =\n        /** @type{{[key:string]: ((current: any, previous: any) => any)}} */ (\n            fnTransformation\n        )[prop]?.(val, oldVal) ?? val;\n\n    /**\n     * Validation\n     */\n    const isValidType = checkType(type[prop], valueTransformed);\n    if (!isValidType) {\n        storeSetPropTypeWarning(prop, valueTransformed, type[prop], logStyle);\n        return;\n    }\n\n    /**\n     * Get validate status\n     */\n    const isValidated = /** @type {Object<string, function>} */ (fnValidate)[\n        prop\n    ]?.(valueTransformed, oldVal);\n\n    /**\n     * In strict mode return is prop is not valid\n     */\n    if (strict[prop] && !isValidated && useStrict) return;\n\n    /**\n     * Update validation array.\n     */\n    validationStatusObject[prop] = isValidated;\n\n    /**\n     * Check if last value is equal new value. if true and skipEqual is true for this prop return.\n     */\n    const isEqual = skipEqual[prop]\n        ? checkEquality(type[prop], oldVal, valueTransformed)\n        : false;\n    if (isEqual) return;\n\n    /**\n     * Finally set new value\n     */\n    store[prop] = valueTransformed;\n\n    if (fireCallback) {\n        runCallbackQueqe({\n            callBackWatcher,\n            prop,\n            newValue: valueTransformed,\n            oldValue: oldVal,\n            validationValue: validationStatusObject[prop],\n            instanceId,\n        });\n\n        addToComputedWaitLsit({ instanceId, prop });\n        bindInstanceBy.forEach((id) => {\n            addToComputedWaitLsit({ instanceId: id, prop });\n        });\n    }\n\n    return {\n        ...state,\n        store,\n        validationStatusObject,\n    };\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {import('./type').StoreMapValue} param.state\n * @param {string} param.prop\n * @param {any} param.val\n * @param {boolean} param.fireCallback\n * @param {boolean} param.useStrict\n * @returns {import('./type').StoreMapValue | undefined}\n */\nconst setObj = ({\n    instanceId,\n    state,\n    prop,\n    val,\n    fireCallback = true,\n    useStrict = true,\n}) => {\n    const {\n        store,\n        type,\n        strict,\n        fnTransformation,\n        fnValidate,\n        validationStatusObject,\n        skipEqual,\n        callBackWatcher,\n        bindInstanceBy,\n    } = state;\n    const logStyle = getLogStyle();\n\n    /**\n     * Check if val is not an Object\n     */\n    if (!storeType.isObject(val)) {\n        storeSetObjectValWarning(prop, val, logStyle);\n        return;\n    }\n\n    /**\n     * Check if prop is not an Object\n     */\n    if (!storeType.isObject(store[prop])) {\n        storeSetObjectPropWarning(prop, logStyle);\n        return;\n    }\n\n    /**\n     * Check if prop has val keys\n     */\n    const valKeys = Object.keys(val);\n    const propKeys = Object.keys(store[prop]);\n    const hasKeys = valKeys.every((item) => propKeys.includes(item));\n    if (!hasKeys) {\n        storeSetObjKeysWarning(valKeys, prop, logStyle);\n        return;\n    }\n\n    /**\n     * Transform value\n     */\n    const valueTransformed = Object.entries(val)\n        .map((item) => {\n            const [subProp, subVal] = item;\n            const subValOld = store[prop][subProp];\n\n            return {\n                [subProp]:\n                    fnTransformation[prop][subProp]?.(subVal, subValOld) ??\n                    subVal,\n            };\n        })\n        .reduce((previous, current) => ({ ...previous, ...current }));\n\n    /**\n     * Check type of each propierties\n     */\n    const isValidType = Object.entries(valueTransformed)\n        .map((item) => {\n            const [subProp, subVal] = item;\n            const typeResponse = checkType(type[prop][subProp], subVal);\n\n            if (!typeResponse) {\n                storeSetObjTypeWarning(\n                    prop,\n                    subProp,\n                    subVal,\n                    type[prop][subProp],\n                    logStyle\n                );\n            }\n\n            return typeResponse;\n        })\n        .every((item) => item === true);\n\n    if (!isValidType) {\n        return;\n    }\n\n    /**\n     * Filter all props that pass the strict check.\n     */\n    const strictObjectResult = Object.entries(valueTransformed)\n        .map((item) => {\n            const [subProp, subVal] = item;\n            const subValOld = store[prop][subProp];\n\n            return strict[prop][subProp] && useStrict\n                ? {\n                      strictCheck: fnValidate[prop][subProp]?.(\n                          subVal,\n                          subValOld\n                      ),\n                      item,\n                  }\n                : { strictCheck: true, item };\n        })\n        .filter(({ strictCheck }) => strictCheck === true);\n\n    /**\n     * If all Object prop fail strict check return\n     */\n    const allStrictFail = strictObjectResult.length === 0;\n    if (allStrictFail) return;\n\n    /**\n     * Get new Object with only validate and strick passed\n     */\n    const newValParsedByStrict = Object.fromEntries(\n        strictObjectResult\n            .map(({ item }) => item)\n            .map(([key, val]) => [key, val])\n    );\n\n    /**\n     * Validate value (value passed to setObj is a Object to merge with original) and store the result in\n     * validationStatusObject arr id there is no validation return true, otherwise get boolean value from fnValidate\n     * obj\n     */\n    Object.entries(newValParsedByStrict).forEach((item) => {\n        const [subProp, subVal] = item;\n        const subValOld = store[prop][subProp];\n\n        /**\n         * If in first level we have an object without the 'Any' type specified is interpreted like nested object, so\n         * fail the fnValidate function if we set a different key with set methods. Because the new key doesn't exist in\n         * original object, so log a warning. The only way to use obj is specify 'Any' key to not broke the globe object\n         * logic.\n         */\n        const validateResult = fnValidate[prop][subProp]?.(subVal, subValOld);\n        if (validateResult === undefined) {\n            storeObjectIsNotAnyWarning(logStyle, TYPE_IS_ANY);\n        }\n\n        validationStatusObject[prop][subProp] = validateResult;\n    });\n\n    /**\n     * Update value and fire callback associated\n     */\n    const oldObjectValues = store[prop];\n    const newObjectValues = {\n        ...store[prop],\n        ...newValParsedByStrict,\n    };\n\n    /**\n     * Check if all modified prop have skipEqual = true;\n     */\n    const shouldSkipEqual = Object.keys(newValParsedByStrict).every(\n        (subProp) => skipEqual[prop][subProp] === true\n    );\n\n    /**\n     * Check if all old props value is equal new props value.\n     */\n    const prevValueIsEqualNew = shouldSkipEqual\n        ? Object.entries(newObjectValues).every(([key, value]) => {\n              const isCustomObject = type[prop][key] === TYPE_IS_ANY;\n\n              /**\n               * Check val have nested Object ( not 'Any' )\n               */\n              const dataDepth = maxDepth(value);\n              if (dataDepth > 1 && !isCustomObject) {\n                  storeSetObjDepthWarning(prop, valueTransformed, logStyle);\n                  return;\n              }\n\n              return checkEquality(\n                  type[prop][key],\n                  oldObjectValues[key],\n                  value\n              );\n          })\n        : false;\n\n    /**\n     * If shouldSkipEqual = true and previous object is equal new object return. If at least one modified property of\n     * the object has skipEqual set to false then the entire object is considered mutated even if all values are equal\n     */\n    if (prevValueIsEqualNew) return;\n\n    /**\n     * Finally update Object.\n     */\n    store[prop] = newObjectValues;\n\n    if (fireCallback) {\n        runCallbackQueqe({\n            callBackWatcher,\n            prop,\n            newValue: store[prop],\n            oldValue: oldObjectValues,\n            validationValue: validationStatusObject[prop],\n            instanceId,\n        });\n\n        addToComputedWaitLsit({ instanceId, prop });\n        bindInstanceBy.forEach((id) => {\n            addToComputedWaitLsit({ instanceId: id, prop });\n        });\n    }\n\n    return {\n        ...state,\n        store,\n        validationStatusObject,\n    };\n};\n\n/**\n * @param {import('./type').storeSetAction} params\n * @returns {import('./type').StoreMapValue | undefined}\n */\nexport const storeSetAction = ({\n    instanceId,\n    state,\n    prop,\n    value,\n    fireCallback = true,\n    clone = false,\n    useStrict = true,\n    action,\n}) => {\n    const { store, type } = state;\n    if (!store) return;\n\n    const logStyle = getLogStyle();\n\n    /**\n     * Check if prop exist in store\n     */\n    if (!(prop in store)) {\n        storeSetWarning(prop, logStyle);\n        return;\n    }\n\n    /**\n     * Id value is Map or Se or Objectt create a new old value. This is mutable promitives, if it passed by reference\n     * mutate the original.\n     */\n    const previousValue = clone\n        ? cloneValueOrGet({ value: store[prop] })\n        : store[prop];\n\n    /**\n     * Check if newValue is a param or function. Id prop type is a function or last value is a function skip.\n     */\n    const valueParsed = action === STORE_UPDATE ? value(previousValue) : value;\n\n    /**\n     * Check if is an Object to stringyFy ( default is max depth === 2 )\n     */\n    const isCustomObject = type[prop] === TYPE_IS_ANY;\n\n    return storeType.isObject(previousValue) && !isCustomObject\n        ? setObj({\n              instanceId,\n              state,\n              prop,\n              val: valueParsed,\n              fireCallback,\n              useStrict,\n          })\n        : setProp({\n              instanceId,\n              state,\n              prop,\n              val: valueParsed,\n              fireCallback,\n              useStrict,\n          });\n};\n\n/**\n * @param {import('./type').MobStoreSetEntryPoint} param\n * @returns {void}\n */\nexport const storeSetEntryPoint = ({\n    instanceId,\n    prop,\n    value,\n    fireCallback,\n    clone,\n    action,\n}) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const newState = storeSetAction({\n        instanceId,\n        state,\n        prop,\n        value,\n        fireCallback,\n        clone,\n        action,\n    });\n\n    if (!newState) return;\n    updateMainMap(instanceId, newState);\n};\n\n/**\n * @param {import('./type').MobStoreQuickSetEntryPoint} param\n * @returns {void}\n */\nexport const storeQuickSetEntrypoint = ({ instanceId, prop, value }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { store, callBackWatcher } = state;\n\n    /**\n     * Update value and fire callback associated\n     */\n    const oldVal = store[prop];\n\n    /**\n     * Finally set new value\n     */\n    store[prop] = value;\n\n    runCallbackQueqe({\n        callBackWatcher,\n        prop,\n        newValue: value,\n        oldValue: oldVal,\n        validationValue: true,\n        instanceId,\n    });\n\n    updateMainMap(instanceId, { ...state, store });\n};\n\n/**\n * ## COMPUTED\n */\n\n/**\n * @param {object} params\n * @param {Record<string, any>} params.store\n * @param {string[]} params.bindInstance\n * @returns {Record<string, any>}\n */\nconst mergeStoreFromBindInstance = ({ store, bindInstance }) => {\n    return bindInstance.reduce((previous, current) => {\n        const currentState = getStateFromMainMap(current);\n        if (!currentState) return previous;\n        const { store: currentStore } = currentState;\n\n        return { ...previous, ...currentStore };\n    }, store);\n};\n\n/**\n * @param {string} instanceId\n */\nconst fireComputed = (instanceId) => {\n    /**\n     * Get fresh data.\n     */\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { computedPropsQueque, callBackComputed, store, bindInstance } =\n        state;\n\n    /**\n     * Filter computed callback that has some prop changed as dependencies.\n     */\n    const computedFiltered = [...(callBackComputed ?? [])].filter(\n        ({ keys }) => {\n            return [...computedPropsQueque].find((current) => {\n                return keys.includes(current);\n            });\n        }\n    );\n\n    /**\n     * Merge current store with bindInstance.\n     */\n    const storeMerged = mergeStoreFromBindInstance({ store, bindInstance });\n\n    /**\n     * Loop and fire computed with changed value\n     */\n    const computedValues = computedFiltered.map(({ prop, keys, fn }) => {\n        /**\n         * Get dependencies current state;\n         */\n        const valuesToObject = keys\n            .map((item) => {\n                return { [item]: storeMerged[item] };\n            })\n            .reduce((previous, current) => {\n                return { ...previous, ...current };\n            }, {});\n\n        return {\n            prop,\n            value: fn(valuesToObject),\n        };\n    });\n\n    /**\n     * Reset running mode.\n     */\n    updateMainMap(instanceId, {\n        ...state,\n        computedPropsQueque: new Set(),\n        computedRunning: false,\n    });\n\n    /**\n     * Update computed value after computedRunning is ended.\n     */\n    computedValues.forEach(({ prop, value }) => {\n        storeSetEntryPoint({\n            instanceId,\n            prop,\n            value,\n            action: STORE_SET,\n        });\n    });\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {void}\n */\nexport const addToComputedWaitLsit = ({ instanceId, prop }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { callBackComputed, computedPropsQueque, computedRunning } = state;\n\n    if (!callBackComputed || callBackComputed.size === 0) return;\n\n    /**\n     * Update computedPropsQueque.\n     */\n    computedPropsQueque.add(prop);\n    updateMainMap(instanceId, {\n        ...state,\n        computedPropsQueque,\n    });\n\n    if (!computedRunning) {\n        const state = getStateFromMainMap(instanceId);\n        if (!state) return;\n\n        updateMainMap(instanceId, { ...state, computedRunning: true });\n        useNextLoop(() => fireComputed(instanceId));\n    }\n};\n\n/**\n * @param {import('./type').MobStoreComputedAction} params\n * @returns {void}\n */\nexport const storeComputedAction = ({ instanceId, prop, keys, fn }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { callBackComputed } = state;\n\n    const hasCircularDependecies = [...callBackComputed].reduce(\n        (previous, { prop: currentProp, keys: currentKeys }) => {\n            return (\n                currentKeys.includes(prop) &&\n                keys.includes(currentProp) &&\n                !previous\n            );\n        },\n        false\n    );\n\n    if (keys.includes(prop) || hasCircularDependecies) {\n        storeComputedKeyUsedWarning(keys, getLogStyle());\n        return;\n    }\n\n    callBackComputed.add({\n        prop,\n        keys,\n        fn,\n    });\n\n    updateMainMap(instanceId, {\n        ...state,\n        callBackComputed,\n    });\n};\n\n/**\n * Initialize first computed values.\n *\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string[]} param.keys\n * @param {string} param.prop\n * @param {(arg0: { [key: string]: any }) => void} param.callback\n * @returns {void}\n */\nexport const initializeCompuntedProp = ({\n    instanceId,\n    prop,\n    keys,\n    callback,\n}) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { store, bindInstance } = state;\n\n    /**\n     * Merge current store with bindInstance.\n     */\n    const storeMerged = mergeStoreFromBindInstance({ store, bindInstance });\n\n    /**\n     * Create onject with values for computed function.\n     */\n    const valuesObject = keys\n        .map((key) => {\n            if (key in storeMerged) return { [key]: storeMerged[key] };\n            return;\n        })\n        .filter((item) => item !== undefined)\n        .reduce((previous, current) => {\n            return { ...previous, ...current };\n        }, {});\n\n    /**\n     * Get prop value.\n     */\n    const value = callback(valuesObject);\n\n    /**\n     * Update computed prop. On initialization will not fire callback or computed prop. Only update value This methods\n     * update storeMap itself.\n     */\n    storeSetEntryPoint({\n        instanceId,\n        prop,\n        value,\n        fireCallback: false,\n        clone: false,\n        action: STORE_SET,\n    });\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string[]} param.keys\n * @param {string} param.prop\n * @param {(arg0: { [key: string]: any }) => void} param.callback\n * @returns {void}\n */\nexport const storeComputedEntryPoint = ({\n    instanceId,\n    prop,\n    keys,\n    callback,\n}) => {\n    /**\n     * If there is no dependencies get keys from proxi used in callback.\n     */\n    const keysDetected =\n        keys.length === 0\n            ? (() => {\n                  initializeCurrentDependencies();\n                  callback({});\n                  return getCurrentDependencies();\n              })()\n            : keys;\n\n    /**\n     * Valorize computed first time without callback.\n     */\n    initializeCompuntedProp({\n        instanceId,\n        prop,\n        keys: keysDetected,\n        callback,\n    });\n\n    /**\n     * Update callBackComputed.\n     */\n    storeComputedAction({\n        instanceId,\n        prop,\n        keys: keysDetected,\n        fn: callback,\n    });\n};\n", "import { STORE_SET } from './constant';\nimport { getStateFromMainMap, updateMainMap } from './store-map';\nimport { storeSetAction } from './store-set';\nimport { storeType } from './store-type';\n\n/**\n * @param {import('./type').StoreMapValue} initialState\n * @returns {import('./type').StoreMapValue}\n */\nexport const inizializeValidation = (initialState) => {\n    const { store } = initialState;\n\n    /**\n     * Initialize empty Object if prop is an object. Need to avois error on validation assignment ( key in object\n     * doesn't exist ). No collision with any, any is used with complete declaration ( type etc.. )\n     */\n    const validationStatusObject = Object.entries(store).reduce(\n        (previous, current) => {\n            const [key, value] = current;\n            return storeType.isObject(value)\n                ? { ...previous, [key]: {} }\n                : previous;\n        },\n        {}\n    );\n\n    return { ...initialState, validationStatusObject };\n};\n\n/**\n * @param {string} instanceId\n * @param {import('./type').StoreMapValue} initialState\n * @returns {void}\n */\nexport const inizializeAllProps = (instanceId, initialState) => {\n    const { store } = initialState;\n\n    /**\n     * First run execute each propierites to check validation without fire event\n     */\n    Object.entries(store).forEach((item) => {\n        const [prop, value] = item;\n\n        /**\n         * Get last updated state.\n         */\n        const state = getStateFromMainMap(instanceId);\n        if (!state) return;\n\n        const newState = storeSetAction({\n            instanceId,\n            state,\n            prop,\n            value,\n            fireCallback: false,\n            useStrict: false,\n            action: STORE_SET,\n        });\n\n        if (!newState) return;\n\n        /**\n         * Update main store state\n         */\n        updateMainMap(instanceId, newState);\n    });\n};\n", "import { getUnivoqueId } from '../utils';\nimport { getLogStyle } from './log-style';\nimport { getStateFromMainMap, storeMap, updateMainMap } from './store-map';\nimport { storeWatchWarning } from './store-warining';\n\n/**\n * @param {import('./type').MobStoreWatchAction} param\n * @returns {import('./type').MobStoreWatchReturnObject}\n */\nexport const storeWatchAction = ({ state, prop, callback, wait }) => {\n    const { store, callBackWatcher } = state;\n    const logStyle = getLogStyle();\n\n    if (!store)\n        return {\n            state: undefined,\n            unsubscribeId: '',\n        };\n\n    if (!(prop in store)) {\n        storeWatchWarning(prop, logStyle);\n\n        return {\n            state: undefined,\n            unsubscribeId: '',\n        };\n    }\n\n    const id = getUnivoqueId();\n    callBackWatcher.set(id, { fn: callback, prop, wait });\n\n    return {\n        state: { ...state, callBackWatcher },\n        unsubscribeId: id,\n    };\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.unsubscribeId\n */\nexport const unsubScribeWatch = ({ instanceId, unsubscribeId }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { callBackWatcher } = state;\n    if (!callBackWatcher) return;\n\n    callBackWatcher.delete(unsubscribeId);\n    updateMainMap(instanceId, { ...state, callBackWatcher });\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @param {boolean} param.wait\n * @param {(current: any, previous: any, validate: boolean | { [key: string]: boolean }) => void} param.callback\n * @returns {() => any}\n */\nexport const watchMobStore = ({ instanceId, prop, callback, wait }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return () => {};\n\n    const { state: newState, unsubscribeId } = storeWatchAction({\n        state,\n        prop,\n        callback,\n        wait,\n    });\n\n    if (!newState) return () => {};\n    updateMainMap(instanceId, newState);\n\n    return () => {\n        unsubScribeWatch({ instanceId, unsubscribeId });\n    };\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @param {(current: any, previous: any, validate: boolean | { [key: string]: boolean }) => void} param.callback\n * @param {boolean} param.wait\n * @returns {() => any}\n */\nexport const watchEntryPoint = ({ instanceId, prop, callback, wait }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return () => {};\n\n    const { bindInstance, unsubscribeBindInstance } = state;\n\n    if (!bindInstance || bindInstance.length === 0) {\n        return watchMobStore({ instanceId, prop, callback, wait });\n    }\n\n    const currentBindId =\n        [instanceId, ...bindInstance].find((id) => {\n            const store = storeMap.get(id)?.store;\n            return store && prop in store;\n        }) ?? '';\n\n    const unsubscribe = watchMobStore({\n        instanceId: currentBindId,\n        prop,\n        callback,\n        wait,\n    });\n\n    updateMainMap(instanceId, {\n        ...state,\n        unsubscribeBindInstance: [...unsubscribeBindInstance, unsubscribe],\n    });\n\n    return unsubscribe;\n};\n", "import { UNTYPED } from './store-type';\nimport { getLogStyle } from './log-style';\nimport {\n    inizializeSpecificProp,\n    inizializeStoreData,\n    maxDepth,\n} from './store-utils';\n\n/**\n * @param {import('./type').MobStoreParams} data\n * @returns {import('./type').StoreMapValue}\n */\nexport const inizializeInstance = (data) => {\n    /**\n     * @type {number}\n     */\n    const dataDepth = maxDepth(data);\n\n    return {\n        callBackWatcher: new Map(),\n        callBackComputed: new Set(),\n        computedPropsQueque: new Set(),\n        validationStatusObject: {},\n        dataDepth,\n        computedRunning: false,\n        store: inizializeStoreData({\n            data,\n            depth: dataDepth,\n            logStyle: getLogStyle(),\n        }),\n        type: inizializeSpecificProp({\n            data,\n            prop: 'type',\n            depth: dataDepth,\n            logStyle: getLogStyle(),\n            fallback: UNTYPED,\n        }),\n        fnTransformation: inizializeSpecificProp({\n            data,\n            prop: 'transform',\n            depth: dataDepth,\n            logStyle: getLogStyle(),\n            fallback: (/** @type {any} */ value) => value,\n        }),\n        fnValidate: inizializeSpecificProp({\n            data,\n            prop: 'validate',\n            depth: dataDepth,\n            logStyle: getLogStyle(),\n            fallback: () => true,\n        }),\n        strict: inizializeSpecificProp({\n            data,\n            prop: 'strict',\n            depth: dataDepth,\n            logStyle: getLogStyle(),\n            fallback: false,\n        }),\n        skipEqual: inizializeSpecificProp({\n            data,\n            prop: 'skipEqual',\n            depth: dataDepth,\n            logStyle: getLogStyle(),\n            fallback: true,\n        }),\n        proxiObject: undefined,\n        bindInstance: [],\n        bindInstanceBy: [],\n        unsubscribeBindInstance: [],\n    };\n};\n", "import { getLogStyle } from './log-style';\nimport { getStateFromMainMap, storeMap } from './store-map';\nimport { storeGetPropWarning } from './store-warining';\n\n/**\n * @param {string} instanceId\n * @returns {{ [key: string]: any | { [key: string]: any } }}\n */\nconst storeGet = (instanceId) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return {};\n\n    const { store } = state;\n    return store ?? {};\n};\n\n/**\n * @param {string} instanceId\n * @returns {{ [key: string]: any | { [key: string]: any } }}\n */\nexport const storeGetEntryPoint = (instanceId) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return {};\n\n    const { bindInstance } = state;\n\n    if (!bindInstance || bindInstance.length === 0) {\n        return storeGet(instanceId);\n    }\n\n    return [...bindInstance, instanceId]\n        .map((id) => storeGet(id))\n        .reduce((previous, current) => ({ ...previous, ...current }), {});\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {any}\n */\nexport const storeGetProp = ({ instanceId, prop }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const store = state?.store;\n\n    if (store && prop in store) {\n        return store[prop];\n    } else {\n        storeGetPropWarning(prop, getLogStyle());\n        return;\n    }\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {any}\n */\nexport const storeGetPropEntryPoint = ({ instanceId, prop }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { bindInstance } = state;\n\n    if (!bindInstance || bindInstance.length === 0) {\n        return storeGetProp({ instanceId, prop });\n    }\n\n    const currentBindId =\n        [instanceId, ...bindInstance].find((id) => {\n            const store = storeMap.get(id)?.store;\n            return store && prop in store;\n        }) ?? '';\n\n    return storeGetProp({ instanceId: currentBindId, prop });\n};\n", "import { runCallbackQueqe, runCallbackQueqeAsync } from './fire-queque';\nimport { getLogStyle } from './log-style';\nimport { getStateFromMainMap, storeMap } from './store-map';\nimport { addToComputedWaitLsit } from './store-set';\nimport { storeEmitWarning } from './store-warining';\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {void}\n */\nexport const storeEmit = ({ instanceId, prop }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n    const { store, callBackWatcher, validationStatusObject, bindInstanceBy } =\n        state;\n\n    if (!store) return;\n\n    if (prop in store) {\n        runCallbackQueqe({\n            callBackWatcher,\n            prop,\n            newValue: store[prop],\n            oldValue: store[prop],\n            validationValue: validationStatusObject[prop],\n            instanceId,\n        });\n\n        addToComputedWaitLsit({ instanceId, prop });\n        bindInstanceBy.forEach((id) => {\n            addToComputedWaitLsit({ instanceId: id, prop });\n        });\n    } else {\n        storeEmitWarning(prop, getLogStyle());\n    }\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {void}\n */\nexport const storeEmitEntryPoint = ({ instanceId, prop }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { bindInstance } = state;\n\n    /**\n     * Emit prop from itSelf and exit\n     */\n    if (!bindInstance || bindInstance.length === 0) {\n        storeEmit({ instanceId, prop });\n        return;\n    }\n\n    /**\n     * Emit prop from binded store\n     */\n    const currentBindId =\n        [instanceId, ...bindInstance].find((id) => {\n            const store = storeMap.get(id)?.store;\n            return store && prop in store;\n        }) ?? '';\n\n    storeEmit({ instanceId: currentBindId, prop });\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {Promise<any>}\n */\nexport const storeEmitAsync = async ({ instanceId, prop }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return new Promise((resolve) => resolve(''));\n    const { store, callBackWatcher, validationStatusObject, bindInstanceBy } =\n        state;\n\n    if (!store) return { success: false };\n\n    if (prop in store) {\n        await runCallbackQueqeAsync({\n            callBackWatcher,\n            prop,\n            newValue: store[prop],\n            oldValue: store[prop],\n            validationValue: validationStatusObject[prop],\n            instanceId,\n        });\n\n        addToComputedWaitLsit({ instanceId, prop });\n        bindInstanceBy.forEach((id) => {\n            addToComputedWaitLsit({ instanceId: id, prop });\n        });\n\n        return { success: true };\n    } else {\n        storeEmitWarning(prop, getLogStyle());\n        return { success: false };\n    }\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n * @param {string} param.prop\n * @returns {Promise<any>}\n */\nexport const storeEmitAsyncEntryPoint = async ({ instanceId, prop }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return new Promise((resolve) => resolve(''));\n\n    const { bindInstance } = state;\n\n    if (!bindInstance || bindInstance.length === 0) {\n        return storeEmitAsync({ instanceId, prop });\n    }\n\n    const currentBindId =\n        [instanceId, ...bindInstance].find((id) => {\n            const store = storeMap.get(id)?.store;\n            return store && prop in store;\n        }) ?? '';\n\n    return storeEmitAsync({\n        instanceId: currentBindId,\n        prop,\n    });\n};\n", "import { getStateFromMainMap } from './store-map';\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n */\nexport const storeGetValidationEntryPoint = ({ instanceId }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { validationStatusObject } = state;\n    return validationStatusObject;\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n */\nexport const storeDebugStoreEntryPoint = ({ instanceId }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { store } = state;\n    console.log(store);\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n */\nexport const storeDebugValidateEntryPoint = ({ instanceId }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { validationStatusObject } = state;\n    console.log(validationStatusObject);\n};\n\n/**\n * @param {Object} param\n * @param {string} param.instanceId\n */\nexport const storeDebugEntryPoint = ({ instanceId }) => {\n    const state = getStateFromMainMap(instanceId);\n    console.log(state);\n};\n", "import { STORE_SET } from './constant';\nimport { setCurrentDependencies } from './current-key';\nimport { storeMap, updateMainMap } from './store-map';\nimport { storeSetEntryPoint } from './store-set';\nimport { checkIfPropIsComputed } from './store-utils';\n\n/**\n * Proxi state/states with the original reference of store object.\n *\n * @param {object} params\n * @param {string} params.instanceId\n * @returns {Record<string, any>}\n */\nexport const getProxiEntryPoint = ({ instanceId }) => {\n    const state = storeMap.get(instanceId);\n    if (!state) return {};\n\n    const { bindInstance, proxiObject: previousProxiObject } = state;\n\n    /**\n     * Return previous proxi if exist.\n     */\n    if (previousProxiObject) {\n        return previousProxiObject;\n    }\n\n    const store = state?.store;\n\n    /**\n     * Create self proxi\n     */\n    const selfProxi = new Proxy(store, {\n        set(target, /** @type {string} */ prop, value) {\n            if (prop in target) {\n                const isComputed = checkIfPropIsComputed({ instanceId, prop });\n                if (isComputed) return false;\n\n                storeSetEntryPoint({\n                    instanceId,\n                    prop,\n                    value,\n                    fireCallback: true,\n                    clone: false,\n                    action: STORE_SET,\n                });\n\n                return true;\n            }\n\n            return false;\n        },\n        get(target, /** @type {string} */ prop) {\n            if (!(prop in target)) {\n                return false;\n            }\n\n            /**\n             * Autodetect dependencies\n             */\n            setCurrentDependencies(prop);\n\n            /**\n             * Return value\n             */\n            return target[prop];\n        },\n    });\n\n    /**\n     * Rerturn self proxi if no bindedInstace is used.\n     */\n\n    if (!bindInstance || bindInstance.length === 0) {\n        updateMainMap(instanceId, {\n            ...state,\n            proxiObject: selfProxi,\n        });\n\n        return selfProxi;\n    }\n\n    /**\n     * Create proxi for binded store. Binded proxi has only read operation.\n     */\n    const bindedProxi = bindInstance.map((id) => {\n        const state = storeMap.get(id);\n        const store = state?.store ?? {};\n\n        return new Proxy(store, {\n            set() {\n                return false;\n            },\n            get(target, /** @type {string} */ prop) {\n                if (!(prop in target)) {\n                    return false;\n                }\n\n                /**\n                 * Autodetect dependencies\n                 */\n                setCurrentDependencies(prop);\n\n                /**\n                 * Return value\n                 */\n                return target[prop];\n            },\n        });\n    });\n\n    /**\n     * Create a proxy with all new proxi. Reflect operation to the proxies with prop\n     */\n    const bindedProxiArray = new Proxy([selfProxi, ...bindedProxi], {\n        set(proxies, prop, value) {\n            const currentProxi = proxies.find((proxi) => prop in proxi);\n            if (!currentProxi) return false;\n\n            Reflect.set(currentProxi, prop, value);\n            return true;\n        },\n        get(proxies, prop) {\n            const currentProxi = proxies.find((proxi) => prop in proxi);\n            if (!currentProxi) return false;\n\n            return Reflect.get(currentProxi, prop);\n        },\n    });\n\n    updateMainMap(instanceId, {\n        ...state,\n        proxiObject: bindedProxiArray,\n    });\n\n    return bindedProxiArray;\n};\n", "import { getStateFromMainMap, updateMainMap } from './store-map';\nimport { checkType } from './store-type';\n\n/**\n * @param {object} params\n * @param {string} params.selfId\n * @param {string} params.bindId\n * @returns {void}\n */\nconst addSelfIdToBindInstanceBy = ({ selfId, bindId }) => {\n    const state = getStateFromMainMap(bindId);\n    if (!state) return;\n\n    const { bindInstanceBy } = state;\n    const bindInstanceByUpdated = [...bindInstanceBy, selfId];\n\n    updateMainMap(bindId, {\n        ...state,\n        bindInstanceBy: bindInstanceByUpdated,\n    });\n};\n\n/**\n * @param {object} params\n * @param {string} params.selfId\n * @param {string} params.bindId\n * @returns {void}\n */\nexport const removeSelfIdToBindInstanceBy = ({ selfId, bindId }) => {\n    const state = getStateFromMainMap(bindId);\n    if (!state) return;\n\n    const { bindInstanceBy } = state;\n    const bindInstanceByUpdated = bindInstanceBy.filter((id) => id !== selfId);\n\n    updateMainMap(bindId, {\n        ...state,\n        bindInstanceBy: bindInstanceByUpdated,\n    });\n};\n\n/**\n * @param {object} params\n * @param {import('./type').BindStoreValueType} params.value\n * @param {string} params.instanceId\n * @returns {void}\n */\nexport const bindStoreEntryPoint = ({ value, instanceId }) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    const { bindInstance } = state;\n    if (!bindInstance) return;\n\n    /** @type {string[]} */\n    const ids = checkType(Array, value)\n        ? // @ts-ignore\n          value.map((/** @type {getIdI: () => string} */ store) =>\n              store.getId()\n          )\n        : // @ts-ignore\n          [value.getId()];\n\n    const bindInstanceUpdated = [...bindInstance, ...ids];\n\n    updateMainMap(instanceId, {\n        ...state,\n        bindInstance: bindInstanceUpdated,\n    });\n\n    ids.forEach((id) => {\n        addSelfIdToBindInstanceBy({ selfId: instanceId, bindId: id });\n    });\n};\n", "import { removeSelfIdToBindInstanceBy } from './bind-store';\nimport { getStateFromMainMap, removeStateFromMainMap } from './store-map';\n\n/**\n * @param {string} instanceId\n * @returns {void}\n */\nexport const destroyStoreEntryPoint = (instanceId) => {\n    const state = getStateFromMainMap(instanceId);\n    if (!state) return;\n\n    state.callBackWatcher.clear();\n    state.callBackComputed.clear();\n    state.computedPropsQueque.clear();\n    state.store = {};\n    state.proxiObject = null;\n\n    const { unsubscribeBindInstance, bindInstance } = state;\n\n    /**\n     * Unsubscribe binded watcher\n     */\n    unsubscribeBindInstance.forEach((unsubscribe) => {\n        unsubscribe?.();\n    });\n\n    /**\n     * Remove itself from bindInstanceBy of binded store.\n     */\n    bindInstance.forEach((id) => {\n        removeSelfIdToBindInstanceBy({ selfId: instanceId, bindId: id });\n    });\n\n    removeStateFromMainMap(instanceId);\n};\n", "import { getUnivoqueId } from '../utils';\nimport {\n    storeComputedEntryPoint,\n    storeQuickSetEntrypoint,\n    storeSetEntryPoint,\n} from './store-set';\nimport { updateMainMap } from './store-map';\nimport { inizializeAllProps, inizializeValidation } from './initial-validation';\nimport { watchEntryPoint } from './watch';\nimport { inizializeInstance } from './inizialize-instance';\nimport { storeGetEntryPoint, storeGetPropEntryPoint } from './store-get';\nimport { storeEmitAsyncEntryPoint, storeEmitEntryPoint } from './store-emit';\nimport {\n    storeDebugEntryPoint,\n    storeDebugStoreEntryPoint,\n    storeDebugValidateEntryPoint,\n    storeGetValidationEntryPoint,\n} from './store-debug';\nimport { STORE_SET, STORE_UPDATE } from './constant';\nimport { getProxiEntryPoint } from './proxi';\nimport { bindStoreEntryPoint } from './bind-store';\nimport { destroyStoreEntryPoint } from './destroy';\nimport { checkIfPropIsComputed } from './store-utils';\nimport { useNextLoop } from '../utils/next-tick';\nimport { extractkeyFromProp, extractKeysFromArray } from './current-key';\n\n/**\n * @param {import('./type').MobStoreParams} data\n * @returns {import('./type').MobStoreReturnType<any>}\n */\nexport const mobStore = (data = {}) => {\n    /**\n     * Get new uniquie id for new store.\n     */\n    const instanceId = getUnivoqueId();\n\n    /**\n     * Initialize\n     */\n    const initialState = inizializeInstance(data);\n\n    /**\n     * Create validation object\n     */\n    const stateUpdated = inizializeValidation(initialState);\n    updateMainMap(instanceId, stateUpdated);\n\n    /**\n     * Validate all props Perform a set() on all props, and update state First time strict has no effect\n     */\n    inizializeAllProps(instanceId, initialState);\n\n    /**\n     * Methods\n     */\n    return {\n        getId: () => instanceId,\n        bindStore: (value) => {\n            bindStoreEntryPoint({ value, instanceId });\n        },\n        get: () => {\n            return storeGetEntryPoint(instanceId);\n        },\n        getProp: (prop) => {\n            return storeGetPropEntryPoint({ instanceId, prop });\n        },\n        set: (\n            /** @type{string|(() => any)} */ prop,\n            /** @type {any} */ value,\n            { emit = true } = {}\n        ) => {\n            const propParsed = extractkeyFromProp(prop);\n            const isComputed = checkIfPropIsComputed({\n                instanceId,\n                prop: propParsed,\n            });\n\n            if (isComputed) return;\n\n            storeSetEntryPoint({\n                instanceId,\n                prop: propParsed,\n                value,\n                fireCallback: emit ?? true,\n                clone: false,\n                action: STORE_SET,\n            });\n        },\n        update: (\n            /** @type{string|(() => any)} */ prop,\n            /** @type {any} */ value,\n            { emit = true, clone = false } = {}\n        ) => {\n            const propParsed = extractkeyFromProp(prop);\n            const isComputed = checkIfPropIsComputed({\n                instanceId,\n                prop: propParsed,\n            });\n\n            if (isComputed) return;\n\n            storeSetEntryPoint({\n                instanceId,\n                prop: propParsed,\n                value,\n                fireCallback: emit ?? true,\n                clone,\n                action: STORE_UPDATE,\n            });\n        },\n        getProxi: () => {\n            return getProxiEntryPoint({ instanceId });\n        },\n        quickSetProp: (prop, value) => {\n            const isComputed = checkIfPropIsComputed({ instanceId, prop });\n            if (isComputed) return;\n\n            storeQuickSetEntrypoint({ instanceId, prop, value });\n        },\n        watch: (\n            /** @type{string|(() => any)} */ prop,\n            /** @type {(current: any, previous: any, validation: import('./type').MobStoreValidateState) => void} */ callback,\n            { wait = false, immediate = false } = {}\n        ) => {\n            const propParsed = extractkeyFromProp(prop);\n\n            const unwatch = watchEntryPoint({\n                instanceId,\n                prop: propParsed,\n                callback,\n                wait,\n            });\n\n            if (immediate) {\n                useNextLoop(() => {\n                    storeEmitEntryPoint({ instanceId, prop: propParsed });\n                });\n            }\n\n            return unwatch;\n        },\n        computed: (\n            /** @type{string|(() => any)} */ prop,\n            /** @type{(arg0: Record<string, any>) => any} */ callback,\n            /** @type{( string|(() => any))[]} */ keys = []\n        ) => {\n            const propParsed = extractkeyFromProp(prop);\n            const keysParsed = extractKeysFromArray(keys);\n\n            storeComputedEntryPoint({\n                instanceId,\n                prop: propParsed,\n                keys: keysParsed,\n                callback,\n            });\n\n            useNextLoop(() => {\n                storeEmitEntryPoint({ instanceId, prop: propParsed });\n            });\n        },\n        emit: (/** @type{string|(() => any)} */ prop) => {\n            const propParsed = extractkeyFromProp(prop);\n\n            storeEmitEntryPoint({ instanceId, prop: propParsed });\n        },\n        emitAsync: async (/** @type{string|(() => any)} */ prop) => {\n            const propParsed = extractkeyFromProp(prop);\n\n            return storeEmitAsyncEntryPoint({ instanceId, prop: propParsed });\n        },\n        getValidation: () => {\n            return storeGetValidationEntryPoint({ instanceId });\n        },\n        debug: () => {\n            storeDebugEntryPoint({ instanceId });\n        },\n        debugStore: () => {\n            storeDebugStoreEntryPoint({ instanceId });\n        },\n        debugValidate: () => {\n            storeDebugValidateEntryPoint({ instanceId });\n        },\n        destroy: () => {\n            destroyStoreEntryPoint(instanceId);\n        },\n    };\n};\n", "// import { SimpleStore } from '../store/simpleStore';\nimport { mobStore } from '../store';\n\n/**\n * @import {MobStoreParams, MobStoreReturnType} from \"../store/type\".MobStore;\n */\n\n/** @type {MobStoreReturnType<import('./type').EventStore>} */\nexport const eventStore = mobStore(\n    /** @type {MobStoreParams<import('./type').EventStore>} */\n    ({\n        /**\n         * Use passive event.\n         */\n        usePassive: () => ({\n            value: true,\n            type: Boolean,\n        }),\n\n        /**\n         * Frame Event\n         */\n        currentFrame: () => ({\n            value: 0,\n            type: Number,\n        }),\n\n        /**\n         * Initial fps value\n         */\n        instantFps: () => ({\n            value: 60,\n            type: Number,\n        }),\n\n        /**\n         * Trigger nexFrame\n         */\n        requestFrame: () => ({\n            value: () => {},\n            type: Function,\n        }),\n\n        /**\n         * Send nextTick on next loop\n         */\n        deferredNextTick: () => ({\n            value: true,\n            type: Boolean,\n        }),\n\n        /**\n         * Throttle scroll value\n         */\n        throttle: () => ({\n            value: 60,\n            type: Number,\n        }),\n\n        /**\n         * Mouse wheell spinY max value ( 2.5 | -2.5 )\n         */\n        spinYMaxValue: () => ({\n            value: 2.5,\n            type: Number,\n        }),\n\n        /**\n         * Mouse wheell spinX max value ( 2.5 | -2.5 )\n         */\n        spinXMaxValue: () => ({\n            value: 2.5,\n            type: Number,\n        }),\n    })\n);\n", "import { getUnivoqueId } from '../../utils';\n\n/**\n * @type {boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<string, () => void>}\n */\nconst callbacks = new Map();\n\n/**\n * @returns {void}\n */\nfunction handler() {\n    /**\n     * If - if there is no subscritor remove handler\n     */\n    if (callbacks.size === 0) {\n        globalThis.removeEventListener('DOMContentLoaded', handler);\n\n        initialized = false;\n        return;\n    }\n\n    // Fire end of resize\n    for (const value of callbacks.values()) {\n        value();\n    }\n    callbacks.clear();\n}\n\n/**\n * Init - if listener is not inizializad add it\n *\n * @returns {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    // Add debunce function to detect scroll end\n    globalThis.addEventListener('DOMContentLoaded', handler, {\n        passive: false,\n    });\n}\n\n/**\n * Add callback on page load\n *\n * @example\n *     ```javascript\n *\n *     handleLoad(() => {\n *         ...\n *     });\n *\n *     ```;\n *\n * @param {() => void} cb - Callback function executed on page load\n * @returns {() => void}\n */\nconst addCallback = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof globalThis !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\n/**\n * Function to execute a callback on page load\n */\nexport const handleLoad = (() => addCallback)();\n", "// Reasonable defaults\nconst PIXEL_STEP = 10;\nconst LINE_HEIGHT = 40;\nconst PAGE_HEIGHT = 800;\n\n/**\n * @param {any} event\n */\nexport function normalizeWheel(event) {\n    let sX = 0,\n        sY = 0, // spinX, spinY\n        pX = 0,\n        pY = 0; // pixelX, pixelY\n\n    // Legacy\n    if ('detail' in event) {\n        sY = event.detail;\n    }\n    if ('wheelDelta' in event) {\n        sY = -event.wheelDelta / 120;\n    }\n    if ('wheelDeltaY' in event) {\n        sY = -event.wheelDeltaY / 120;\n    }\n    if ('wheelDeltaX' in event) {\n        sX = -event.wheelDeltaX / 120;\n    }\n\n    // side scrolling on FF with DOMMouseScroll\n    if ('axis' in event && event.axis === event.HORIZONTAL_AXIS) {\n        sX = sY;\n        sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in event) {\n        pY = event.deltaY;\n    }\n    if ('deltaX' in event) {\n        pX = event.deltaX;\n    }\n\n    if ((pX || pY) && event.deltaMode) {\n        if (event.deltaMode == 1) {\n            // delta in LINE units\n            pX *= LINE_HEIGHT;\n            pY *= LINE_HEIGHT;\n        } else {\n            // delta in PAGE units\n            pX *= PAGE_HEIGHT;\n            pY *= PAGE_HEIGHT;\n        }\n    }\n\n    // Fall-back if spin cannot be determined\n    if (pX && !sX) {\n        sX = pX < 1 ? -1 : 1;\n    }\n    if (pY && !sY) {\n        sY = pY < 1 ? -1 : 1;\n    }\n\n    return { spinX: sX, spinY: sY, pixelX: pX, pixelY: pY };\n}\n", "import { clamp, getUnivoqueId } from '../../utils/index.js';\nimport { eventStore } from '../event-store.js';\nimport { normalizeWheel } from './normalize-whell.js';\n\n/**\n * @param {Object} obj\n * @param {import('./type.js').MouseEventType} obj.type\n * @param {Object} obj.event\n * @returns {any}\n */\nfunction getPageData({ type, event }) {\n    const touchEvent = /** @type {TouchEvent} */ (event);\n\n    /**\n     * 'touchend'\n     */\n    if (type === 'touchend' && 'changedTouches' in event) {\n        return touchEvent.changedTouches[0];\n    }\n\n    /**\n     * 'mousedown', 'touchstart', 'mousemove', 'touchmove', 'mouseup'\n     */\n    return 'touches' in touchEvent ? touchEvent.touches[0] : event;\n}\n\n/**\n * @param {Object} obj\n * @param {import('./type.js').MouseEventType} obj.type\n * @param {Object} obj.event\n * @returns {any}\n */\nfunction getClientData({ type, event }) {\n    const touchEvent = /** @type {TouchEvent} */ (event);\n\n    /**\n     * 'touchend'\n     */\n    if (type === 'touchend' && 'changedTouches' in event) {\n        return touchEvent.changedTouches[0];\n    }\n\n    /**\n     * 'mousedown', 'touchstart', 'mousemove', 'touchmove', 'mouseup'\n     */\n    return 'touches' in touchEvent ? touchEvent.touches[0] : event;\n}\n\n/**\n * @param {import('./type.js').MouseEventType} eventType\n */\nfunction handleMouse(eventType) {\n    /**\n     * @type {boolean}\n     */\n    let initialized = false;\n\n    /**\n     * @type {Map<string, import('./type.js').MouseEventCallback>}\n     */\n    const callbacks = new Map();\n\n    let { usePassive } = eventStore.get();\n\n    /**\n     * Switch passive event on setUp change.\n     */\n    eventStore.watch('usePassive', () => {\n        globalThis.removeEventListener(eventType, handler);\n        initialized = false;\n\n        init();\n    });\n\n    /**\n     * @param {MouseEvent | TouchEvent} event\n     */\n    function handler(event) {\n        /**\n         * If - if there is no subscritor remove handler\n         */\n        if (callbacks.size === 0) {\n            globalThis.removeEventListener(eventType, handler);\n\n            initialized = false;\n            return;\n        }\n\n        const type = /** @type {import('./type.js').MouseEventType} */ (\n            event.type\n        );\n\n        /**\n         * @type {{ pageX: number; pageY: number }}\n         */\n        const { pageX, pageY } = getPageData({ type, event });\n\n        /**\n         * @type {{ clientX: number; clientY: number }}\n         */\n        const { clientX, clientY } = getClientData({ type, event });\n\n        /** @type {EventTarget | null} */\n        const target = event.target;\n\n        // Prepare data to callback\n        const mouseData = {\n            page: {\n                x: pageX,\n                y: pageY,\n            },\n            client: {\n                x: clientX,\n                y: clientY,\n            },\n            target,\n            type,\n            preventDefault: () =>\n                usePassive ? () => {} : event.preventDefault(),\n        };\n\n        // Add spin value if is wheel event\n        if (type === 'wheel') {\n            const spinYMaxValue = eventStore.getProp('spinYMaxValue');\n            const spinXMaxValue = eventStore.getProp('spinXMaxValue');\n            const { spinX, spinY, pixelX, pixelY } = normalizeWheel(event);\n\n            Object.assign(mouseData, {\n                spinX: clamp(spinX, -spinXMaxValue, spinXMaxValue),\n                spinY: clamp(spinY, -spinYMaxValue, spinYMaxValue),\n                pixelX,\n                pixelY,\n            });\n        }\n\n        for (const value of callbacks.values()) {\n            value(mouseData);\n        }\n    }\n\n    /**\n     * Init - if listener is not inizializad remove it\n     *\n     * @returns {void}\n     */\n    function init() {\n        if (initialized) return;\n        initialized = true;\n        usePassive = eventStore.getProp('usePassive');\n\n        globalThis.addEventListener(eventType, handler, {\n            passive: usePassive,\n        });\n    }\n\n    /**\n     * Add callback on mouse action\n     *\n     * @param {import('./type.js').MouseEventCallback} cb - Callback function fired on mouse action.\n     * @returns {() => void}\n     */\n    const addCb = (cb) => {\n        const id = getUnivoqueId();\n        callbacks.set(id, cb);\n\n        if (typeof globalThis !== 'undefined') {\n            init();\n        }\n\n        return () => callbacks.delete(id);\n    };\n\n    return addCb;\n}\n\n/**\n * Add callback on mouse click\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleMouseClick(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handleMouseClick = handleMouse('click');\n\n/**\n * Add callback on mouse down\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleMouseDown(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handleMouseDown = handleMouse('mousedown');\n\n/**\n * Add callback on touch start\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleTouchStart(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handleTouchStart = handleMouse('touchstart');\n\n/**\n * Add callback on handleMouseMove\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleMouseMove(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handleMouseMove = handleMouse('mousemove');\n\n/**\n * Add callback on touch move\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleTouchMove(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handleTouchMove = handleMouse('touchmove');\n\n/**\n * Add callback on mouse up\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleMouseUp(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handleMouseUp = handleMouse('mouseup');\n\n/**\n * Add callback on touc end\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleTouchEnd(\n *         ({ client, page, preventDefault, target, type }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handleTouchEnd = handleMouse('touchend');\n\n/**\n * Add callback on mouse wheel\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleMouseWheel(\n *         ({\n *             client,\n *             page,\n *             preventDefault,\n *             target,\n *             type,\n *             pixelX,\n *             pixelY,\n *             spinX,\n *             spinY,\n *         }) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handleMouseWheel = handleMouse('wheel');\n", "import { getUnivoqueId } from '../../utils';\nimport { eventStore } from '../event-store';\n\n/**\n * Increment and decrement when we add or fire a item. hadleFrame use that to check if the requestAnimationFrame have to\n * go on. Indeicate fi there is frame to render.\n *\n * @type {number}\n */\nlet cacheCoutner = 0;\n\n/**\n * @type {import('./type').HandleCacheSubscriberMap}\n */\nconst subscriberMap = new Map();\n\n/**\n * Add new item to cache.\n *\n * @param {Object | HTMLElement} el\n * @param {(arg0: any, arg1: Object | HTMLElement) => void} fn\n * @returns {{ id: string; unsubscribe: () => void }}\n */\nconst add = (el = {}, fn = () => {}) => {\n    const id = getUnivoqueId();\n\n    subscriberMap.set(id, {\n        el,\n        fn,\n        data: new Map(),\n    });\n\n    return {\n        id,\n        unsubscribe: () => {\n            if (subscriberMap.has(id)) {\n                /*\n                 * When we remove some items before fired we have to update the\n                 * cachecounter so handleFrame can stop\n                 */\n                const item = subscriberMap.get(id);\n                if (!item) return;\n\n                const frameToSubstract = item.data.size;\n                subscriberMap.delete(id);\n                if (!frameToSubstract) return;\n\n                cacheCoutner = cacheCoutner - frameToSubstract;\n            }\n        },\n    };\n};\n\n/**\n * Add new data on existing id in a specific frame.\n *\n * @param {Object} obj\n * @param {string} obj.id\n * @param {Record<string, number>} obj.callBackObject\n * @param {number} obj.frame\n * @returns {void}\n */\nconst update = ({ id, callBackObject, frame }) => {\n    if (!subscriberMap.has(id)) return;\n\n    const { currentFrame } = eventStore.get();\n    const item = subscriberMap.get(id);\n\n    if (!item?.data) return;\n    const { data } = item;\n\n    /**\n     * If frame is overridden the counter is not synchronized with real number of callback. So skip.\n     */\n    if (data.has(frame + currentFrame)) return;\n\n    data.set(frame + currentFrame, callBackObject);\n    cacheCoutner++;\n};\n\n/**\n * Remove item from cache.\n *\n * @memberof module:handleCache\n * @param {string} id\n * @returns {void}\n */\nconst remove = (id) => {\n    if (subscriberMap.has(id)) subscriberMap.delete(id);\n};\n\n/**\n * Reset item data\n *\n * @param {string} id\n * @returns {void}\n */\nconst clean = (id) => {\n    const el = subscriberMap.get(id);\n    if (!el) return;\n\n    /*\n     * When we remove some items before fired we have to update the\n     * cachecounter so handleFrame can stop\n     */\n    const frameToSubstract = el.data.size;\n    cacheCoutner = cacheCoutner - frameToSubstract;\n    el.data.clear();\n};\n\n/**\n * Get item object\n *\n * @memberof module:handleCache\n * @param {string} id\n * @returns {import('./type').HandleCacheSubscriberValue | {}}\n */\nconst get = (id) => {\n    return subscriberMap.get(id) ?? {};\n};\n\n/**\n * Render obj on specific frame and delete rendered object.\n *\n * @param {number} frameCounter - Frame to render.\n * @returns {void}\n */\nconst fire = (frameCounter) => {\n    for (const value of subscriberMap.values()) {\n        const { data, fn, el } = value;\n        const callBackObject = data.get(frameCounter);\n\n        if (callBackObject) {\n            fn(callBackObject, el);\n\n            data.delete(frameCounter);\n            cacheCoutner--;\n        }\n    }\n};\n\n/**\n * Render immediately obj using existing id/function\n *\n * @param {Object} obj\n * @param {string} obj.id\n * @param {Record<string, number>} obj.obj\n * @returns {void}\n */\nconst fireObject = ({ id, obj = {} }) => {\n    if (!subscriberMap.has(id)) return;\n\n    const item = subscriberMap.get(id);\n    if (!item) return;\n\n    const { el, fn } = item;\n    fn(obj, el);\n};\n\n/**\n * Get current number of frame to render.\n *\n * @returns {number}\n */\nconst getCacheCounter = () => cacheCoutner;\n\n/**\n * When frameCounter become too big reset and recalculate all the frame values.\n *\n * @param {number} maxFramecounter\n */\nconst updateFrameId = (maxFramecounter) => {\n    for (const [key, value] of subscriberMap) {\n        const { data, fn, el } = value;\n\n        const newMap = new Map();\n        for (const [frame, object] of data) {\n            newMap.set(frame - maxFramecounter, object);\n            data.delete(frame);\n        }\n\n        subscriberMap.set(key, { data: newMap, fn, el });\n    }\n};\n\n/**\n * @module handleCache\n */\nexport const handleCache = (() => {\n    return {\n        add,\n        get,\n        update,\n        remove,\n        clean,\n        fire,\n        fireObject,\n        getCacheCounter,\n        updateFrameId,\n    };\n})();\n", "import { getUnivoqueId } from '../../utils';\n\n/**\n * @type {boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<string, import('./type').VisibilityChangeCallback>}\n */\nconst callbacks = new Map();\n\nfunction handler() {\n    /**\n     * If - if there is no subscritor remove handler\n     */\n    if (callbacks.size === 0) {\n        globalThis.removeEventListener('visibilitychange', handler);\n\n        initialized = false;\n        return;\n    }\n\n    // Prepare data to callback\n    const visibilityData = {\n        visibilityState: document.visibilityState,\n    };\n\n    for (const value of callbacks.values()) {\n        value(visibilityData);\n    }\n}\n\n/**\n * Init - if listener is not inizializad remove it\n *\n * @returns {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    globalThis.addEventListener('visibilitychange', handler, {\n        passive: false,\n    });\n}\n\n/**\n * Add callback on tab change\n *\n * @example\n *     ```javascript\n *      const unsubscribe = handleVisibilityChange(({ visibilityState }) => {\n *          // code\n *      });\n *\n *      unsubscribe()\n *\n *     ```;\n *\n * @param {import('./type').VisibilityChangeCallback} cb - Callback function fired on tab change.\n * @returns {() => void}\n */\nconst addCb = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof globalThis !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\nexport const handleVisibilityChange = (() => addCb)();\n", "/**\n * @type {{ priority: number; cb: (arg0: { time: number; fps: number }) => void }[]}\n */\nconst callbacks = [];\n\n/**\n * Add callback\n *\n * @example\n *     ```javascript\n *     handleFrame.add(() => {\n *         handleNextTick.add(({ fps, time }) => {\n *             // code\n *         });\n *     });\n *\n *     Loop request animation frame using handleNextTick:\n *     const loop = () => {\n *         handleNextTick.add(() => {\n *             // read from DOM\n *\n *             handleFrame.add(() => {\n *                 // write to the DOM\n *                 loop();\n *             });\n *         });\n *     };\n *\n *     handleFrame.add(() => loop());\n *\n *     To tick exactly after the request animation frame:\n *     mobbu.default('set', { deferredNextTick: true });\n *     ```;\n *\n * @param {import('./type.js').HandleFrameCallbak} cb - Callback function\n * @param {number} [priority]\n */\nconst add = (cb = () => {}, priority = 100) => {\n    callbacks.push({ cb, priority });\n};\n\n/**\n * Fire callback\n *\n * @example\n *     ```javascript\n *        handleNextTick.fire({ time, fps });\n *\n *     ```;\n *\n * @param {import('./type.js').HandleFrame} cb - Callback function\n */\nconst fire = ({ time, fps }) => {\n    if (callbacks.length === 0) return;\n\n    callbacks.sort((a, b) => a.priority - b.priority);\n    callbacks.forEach(({ cb }) => cb({ time, fps }));\n    callbacks.length = 0;\n};\n\n/**\n * Execute callbacks after scheduling the request animation frame. Use this method to read data from the DOM. To execute\n * callbacks exactly after the request animation frame, set the global property deferredNextTick to true.\n *\n * @module handleNextTick\n */\nexport const handleNextTick = (() => {\n    return { add, fire };\n})();\n", "/**\n * @type {import('./type.js').HandleFrameCallbak[]}\n */\nconst callbacks = [];\n\n/**\n * Add callback\n *\n * @example\n *     ```javascript\n *     const loop = () => {\n *         handleNextFrame.add(({ fps, time }) => {\n *             // code\n *             loop();\n *         });\n *     };\n *\n *     handleFrame.add(() => loop());\n *\n *     ```;\n *\n * @param {import('./type.js').HandleFrameCallbak} callBack - Callback function\n */\nconst add = (callBack) => {\n    callbacks.push(callBack);\n};\n\n/**\n * Reset callback\n *\n * @returns {import('./type.js').HandleFrameArray}\n */\nconst get = () => {\n    const callBackArray = [...callbacks];\n    callbacks.length = 0;\n    return callBackArray;\n};\n\n/**\n * Execute a callback to the next available frame allowing the creation of a request animation frame loop\n *\n * @module handleNextFrame\n */\nexport const handleNextFrame = (() => {\n    return { add, get };\n})();\n", "import { eventStore } from '../event-store.js';\n\n/**\n * @type {Map<number, import('./type.js').HandleFrameCallbak[]>}\n */\nconst indexCallbackMap = new Map();\n\n/**\n * Update each callback's frame when handleFrame resets its index to avoid too large numbers>\n *\n * @param {number} currentFrameLimit\n */\nconst updateKeys = (currentFrameLimit) => {\n    const oldMapToArray = [...indexCallbackMap.entries()];\n    indexCallbackMap.clear();\n\n    oldMapToArray.forEach(([index, value]) => {\n        indexCallbackMap.set(index - currentFrameLimit, value);\n    });\n};\n\n/**\n * Fire callback\n *\n * @example\n *     ```javascript\n *     handleFrameIndex.fire(({ currentFrame, fps,  time });      *\n *     ```;\n *\n * @param {Object} obj\n * @param {number} obj.currentFrame\n * @param {number} obj.time\n * @param {number} obj.fps\n * @returns {void}\n */\nconst fire = ({ currentFrame, time, fps }) => {\n    /**\n     * Get arrays of callBack related to the current currentFrame indexCb is a 'global' variables instead constant to\n     * reduce garbage collector\n     */\n    const callabacks = indexCallbackMap.get(currentFrame) ?? [];\n    if (!callabacks || callabacks.length === 0) return;\n\n    callabacks.forEach((item) => item({ time, fps }));\n    indexCallbackMap.delete(currentFrame);\n};\n\n/**\n * Add callback to a specific frame.\n *\n * @memberof module:handleFrameIndex\n * @example\n *     ```javascript\n *     handleFrameIndex.add(({ fps,  time }) => {\n *         // code ...\n *     }, 5);\n *\n *     ```;\n *\n * @param {import('./type.js').HandleFrameCallbak} callback - Callback function\n * @param {number} index\n */\nconst add = (callback, index) => {\n    /**\n     * @type {number}\n     */\n    const frameIndex = index + eventStore.getProp('currentFrame');\n\n    /**\n     * Add callback to array related to specific index idf exxist or create in a bigger set of callaback\n     */\n    const callabacks = indexCallbackMap.get(frameIndex) ?? [];\n    indexCallbackMap.set(frameIndex, [...callabacks, callback]);\n    eventStore.emit('requestFrame');\n};\n\n/**\n * Get callback array length\n *\n * @returns {number}\n */\nconst getAmountOfFrameToFire = () => {\n    return indexCallbackMap.size;\n};\n\n/**\n * Execute a callback at a specific frame.\n */\nexport const handleFrameIndex = (() => {\n    return {\n        add,\n        fire,\n        updateKeys,\n        getAmountOfFrameToFire,\n    };\n})();\n", "/**\n * @type {string}\n */\nexport const ANIMATION_STOP_REJECT = 'animationStop';\n\n/**\n * @returns {void}\n */\nexport const catchAnimationReject = () => {\n    globalThis.addEventListener('unhandledrejection', (e) => {\n        if (e.reason === ANIMATION_STOP_REJECT) e.preventDefault();\n    });\n};\n", "import { eventStore } from '../event-store';\n\n/**\n * @type {boolean}\n */\nlet loadFpsIsReady = false;\n\n/**\n * - Runs a request animation frame loop to detect the frame rate of the monitor. After the method will be resolved the\n *   first time, subsequent calls will be resolved immediately returning the previously calculated value. The method is\n *   launched the first time automatically at the first loading.\n *\n * @example\n *     ```javascript\n *\n *     loadFps(60).then(({ averageFPS }) => {\n *         // code\n *     });\n *\n *     ```;\n *\n * @param {number} [duration=30] - Loop duration in frame, the default value is 30. Default is `30`\n * @returns {Promise<import('./type').LoadFps>} The promise launched after the loop\n */\nexport const loadFps = (duration = 30) => {\n    if (loadFpsIsReady) {\n        const { instantFps } = eventStore.get();\n\n        return new Promise((resolve) => {\n            resolve({ averageFPS: instantFps });\n        });\n    }\n\n    return new Promise((resolve) => {\n        /**\n         * @type {number[]}\n         */\n        const frameTimes = [];\n\n        /**\n         * @type {number}\n         */\n        const maxFrames = 25;\n\n        /**\n         * @type {number}\n         */\n        let frameCursor = 0;\n\n        /**\n         * @type {number}\n         */\n        let numFrames = 0;\n\n        /**\n         * @type {number}\n         */\n        let totalFPS = 0;\n\n        /**\n         * @type {number}\n         */\n        let then = 0;\n\n        /**\n         * @type {number}\n         */\n        let frameCounter = 0;\n\n        /**\n         * @param {number} now\n         */\n        const render = (now) => {\n            // convert to seconds\n            now *= 0.001;\n\n            // compute time since last frame\n            const deltaTime = now - then;\n\n            // remember time for next frame\n            then = now;\n\n            // compute frames per second, prevent inifinit || NaN.\n            const rawFps = Number.isFinite(1 / deltaTime) ? 1 / deltaTime : 60;\n\n            // Doasn/t consider fps < 60.\n            const fps = Math.max(rawFps, 60);\n\n            // add the current fps and remove the oldest fps\n            totalFPS += fps - (frameTimes[frameCursor] || 0);\n\n            // record the newest fps\n            frameTimes[frameCursor++] = fps;\n\n            // needed so the first N frames, before we have maxFrames, is correct.\n            numFrames = Math.max(numFrames, frameCursor);\n\n            // wrap the cursor\n            frameCursor %= maxFrames;\n\n            const averageFPS = Math.round(totalFPS / numFrames);\n\n            frameCounter++;\n\n            if (frameCounter >= duration) {\n                eventStore.quickSetProp('instantFps', averageFPS);\n                loadFpsIsReady = true;\n                resolve({ averageFPS });\n                return;\n            }\n\n            requestAnimationFrame(render);\n        };\n        requestAnimationFrame(render);\n    });\n};\n", "// Get right time if server side or client side\nexport const getTime = () => {\n    return typeof globalThis === 'undefined'\n        ? Date.now()\n        : globalThis.performance.now();\n};\n\nexport const defaultTimestep = (1 / 60) * 1000;\n", "import { handleVisibilityChange } from '../visibility-change/handle-visibility-change.js';\nimport { handleCache } from './handle-cache.js';\nimport { handleNextTick } from './handle-next-tick.js';\nimport { handleNextFrame } from './handle-next-frame.js';\nimport { handleFrameIndex } from './handle-frame-index.js';\nimport { catchAnimationReject } from '../error-handler/catch-animation-reject.js';\nimport { loadFps } from './load-fps.js';\nimport { eventStore } from '../event-store.js';\nimport { defaultTimestep, getTime } from './time.js';\nimport { useNextLoop } from '../../utils/next-tick.js';\n\n/**\n * Calculate a precise fps\n */\nloadFps();\n\n/**\n * 10000 is maximum stagger frame delay\n */\nconst currentFrameLimit = 10_000_000;\n\n/**\n * @type {number}\n */\nconst firstRunDuration = 2000;\n\n/**\n * @type {boolean}\n */\nlet frameIsRuning = false;\n\n/**\n * @type {import('./type.js').HandleFrameArray}\n */\nlet callback = [];\n\n/**\n * @type {number}\n */\nlet time = getTime();\n\n/**\n * @type {number}\n */\nlet startTime = 0;\n\n/**\n * @type {number}\n */\nlet rawTime = 0;\n\n/**\n * @type {number}\n */\nlet timeElapsed = 0;\n\n/**\n * @type {number}\n */\nlet lastTime = 0;\n\n/**\n * @type {number}\n */\nlet timeLost = 0;\n\n/**\n * @type {boolean}\n */\nlet isStopped = false;\n\n/**\n * Stable fps\n *\n * @type {number}\n */\nlet fps = 60;\n\n/**\n * @type {number}\n */\nlet maxFps = fps;\n\n/**\n * @type {number}\n */\nlet frames = 0;\n\n/**\n * @type {number}\n */\nlet fpsPrevTime = 0;\n\n/**\n * @type {number}\n */\nlet currentFrame = 0;\n\n/**\n * @type {boolean}\n */\nlet mustMakeSomethingIsActive = false;\n\n/**\n * @type {boolean}\n */\nlet shouldMakeSomethingIsActive = false;\n\n/**\n * Check if frame dropped a lot.\n *\n * @returns {boolean}\n */\nconst mustMakeSomethingCheck = () => fps < (maxFps / 5) * 3;\n\n/**\n * @returns {boolean}\n *\n *   Check if frame dropped medium.\n */\nconst shouldMakeSomethingCheck = () => fps < (maxFps / 5) * 4;\n\n/**\n * If frame dropper for X seconds mustMakeSomethingIsActive = true\n *\n * @returns {void}\n */\nconst mustMakeSomethingStart = () => {\n    if (!mustMakeSomethingCheck() || mustMakeSomethingIsActive) return;\n\n    mustMakeSomethingIsActive = true;\n    setTimeout(() => {\n        mustMakeSomethingIsActive = false;\n    }, 4000);\n};\n\n/**\n * If frame dropper for X seconds shouldMakeSomethingIsActive = true\n *\n * @returns {void}\n */\nconst shouldMakeSomethingStart = () => {\n    if (!shouldMakeSomethingCheck() || shouldMakeSomethingIsActive) return;\n\n    shouldMakeSomethingIsActive = true;\n    setTimeout(() => {\n        shouldMakeSomethingIsActive = false;\n    }, 4000);\n};\n\n/**\n * Stop timer when user change tab\n */\nhandleVisibilityChange(({ visibilityState }) => {\n    isStopped = visibilityState === 'visible';\n});\n\ncatchAnimationReject();\n\n// Call new requestAnimationFrame on event emit\neventStore.watch('requestFrame', () => {\n    initFrame();\n});\n\n/**\n * Next tick function\n *\n * @returns {void}\n */\nconst nextTickFn = () => {\n    /*\n     * If currentFrame reach currentFrameLimit back to zero to avoid big numbers\n     * executte the operation outside requestAnimationFrame if deferredNextTick is active\n     */\n    if (currentFrame === currentFrameLimit) {\n        currentFrame = 0;\n        eventStore.quickSetProp('currentFrame', currentFrame);\n        handleFrameIndex.updateKeys(currentFrameLimit);\n        handleCache.updateFrameId(currentFrameLimit);\n    }\n\n    /*\n        Fire next tick\n        */\n    handleNextTick.fire({ time, fps });\n\n    /**\n     * Get next callback\n     */\n    callback = [...callback, ...handleNextFrame.get()];\n\n    /**\n     * Next frame condition\n     */\n\n    /**\n     * RequestAnimationFrame is ended, ready for another\n     */\n    frameIsRuning = false;\n\n    if (\n        callback.length > 0 ||\n        handleFrameIndex.getAmountOfFrameToFire() > 0 ||\n        handleCache.getCacheCounter() > 0 ||\n        time < firstRunDuration\n    ) {\n        /**\n         * Call Next animationFrame\n         */\n        initFrame();\n    } else {\n        isStopped = true;\n        currentFrame = 0;\n        lastTime = time;\n        eventStore.quickSetProp('currentFrame', currentFrame);\n    }\n};\n\n/**\n * @param {number} timestamp\n * @returns {void}\n */\nconst render = (timestamp) => {\n    /**\n     * Update time\n     */\n    time = timestamp;\n    timeElapsed = time - rawTime;\n\n    if (isStopped) startTime += timeElapsed;\n\n    /**\n     * Default time calculation.\n     */\n    rawTime += timeElapsed;\n    time = Math.round(rawTime - startTime);\n\n    /**\n     * Get frame duration.\n     */\n    const frameDuration = Math.round(1000 / fps);\n\n    /**\n     * Get time lost ( if the difference of current time with last time and frame duration is han 100ms ). Problem with\n     * workspace and switch to dirrent application without fire visibilityChange event.\n     */\n    timeLost = Math.abs(time - lastTime - frameDuration);\n    const timeToSubsctract = timeLost > 100 ? timeLost : 0;\n    time = time - timeToSubsctract;\n    lastTime = time;\n\n    /**\n     * Update frame counter for fps or reset id tab change.\n     */\n    if (isStopped) {\n        fpsPrevTime = time;\n        frames = 0;\n        fps = eventStore.getProp('instantFps');\n    } else {\n        frames++;\n    }\n\n    /**\n     * Get fps Update fps every second\n     */\n    if (time > fpsPrevTime + 1000 && !isStopped) {\n        /**\n         * Calc fps Set fps when stable after 2 seconds otherwise use instantFps\n         */\n        fps =\n            time > firstRunDuration\n                ? Math.round((frames * 1000) / (time - fpsPrevTime))\n                : eventStore.getProp('instantFps');\n        fpsPrevTime = time;\n        frames = 0;\n\n        /**\n         * Prevent fps error; Se a minimum of 30 fps.\n         */\n        fps = fps < 30 ? eventStore.getProp('instantFps') : fps;\n    }\n\n    /**\n     * Update max fps\n     */\n    if (fps > maxFps) maxFps = fps;\n\n    /**\n     * Start frame check for mustMakeSomething methods.\n     */\n    mustMakeSomethingStart();\n\n    /**\n     * Start frame check for shouldMakeSomething methods.\n     */\n    shouldMakeSomethingStart();\n\n    /**\n     * Fire callbnack\n     */\n    callback.forEach((item) => item({ time, fps }));\n\n    /*\n     * Fire callback related to specific index frame\n     */\n    handleFrameIndex.fire({ currentFrame, time, fps });\n\n    /**\n     * Fire handleCache callBack\n     */\n    handleCache.fire(currentFrame);\n\n    /**\n     * Update currentFrame\n     */\n    currentFrame++;\n    eventStore.quickSetProp('currentFrame', currentFrame);\n\n    /**\n     * Reset props\n     */\n    callback.length = 0;\n    isStopped = false;\n\n    const deferredNextTick = eventStore.getProp('deferredNextTick');\n\n    if (deferredNextTick) {\n        useNextLoop(() => nextTickFn());\n    } else {\n        nextTickFn();\n    }\n};\n\n/**\n * Init new frame if is not running\n *\n * @returns {void}\n */\nconst initFrame = () => {\n    if (frameIsRuning) return;\n\n    if (typeof globalThis === 'undefined') {\n        setTimeout(() => render(getTime()), defaultTimestep);\n    } else {\n        requestAnimationFrame(render);\n    }\n\n    frameIsRuning = true;\n};\n\n/**\n * Execute a callBack within the first available request animation frame. Use this method to modify elements of the DOM\n */\nexport const handleFrame = (() => {\n    /**\n     * Get current fps\n     *\n     * @returns {number}\n     */\n    const getFps = () => fps;\n\n    /**\n     * Return the mustMakeSomethingIsActive status. If frame dropped the value is true for X seconds.\n     *\n     * @returns {boolean}\n     */\n    const mustMakeSomething = () => mustMakeSomethingIsActive;\n\n    /**\n     * Return the mustMakeSomethingIsActive status. If frame dropped the value is true for X seconds.\n     *\n     * @returns {boolean}\n     */\n    const shouldMakeSomething = () => shouldMakeSomethingIsActive;\n\n    /**\n     * Add callback\n     *\n     * @example\n     *     ```javascript\n     *     handleFrame.add(({ fps, time }) => {\n     *         // code ...\n     *     });\n     *\n     *     ```;\n     *\n     * @param {import('./type.js').HandleFrameCallbak} cb - Callback function\n     * @returns {void}\n     */\n    const add = (cb) => {\n        callback.push(cb);\n        initFrame();\n    };\n\n    /**\n     * Add an array of callback\n     *\n     * @param {import('./type.js').HandleFrameArray} arr - Array of callback\n     */\n    const addMultiple = (arr = []) => {\n        callback = [...callback, ...arr];\n        initFrame();\n    };\n\n    return {\n        add,\n        addMultiple,\n        getFps,\n        mustMakeSomething,\n        shouldMakeSomething,\n    };\n})();\n", "/**\n * @template T\n * @param {T} fn\n * @param {number} [time]\n * @returns T\n */\nexport const debounceFuncion = function debounce(fn, time = 200) {\n    /** @type {number} */\n    let timeout;\n\n    return function () {\n        // @ts-ignore\n        const functionCall = () => Reflect.apply(fn, this, arguments);\n\n        clearTimeout(timeout);\n        timeout = setTimeout(functionCall, time);\n    };\n};\n", "import { getUnivoqueId } from '../../utils/index.js';\nimport { debounceFuncion } from '../debounce.js';\n\n/**\n * @type {boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<String, import('./type.js').HandleResizeCallback>}\n */\nconst callbacks = new Map();\n\n/**\n * @type {() => void}\n */\nlet debouceFunctionReference = () => {};\n\n/**\n * @type {number}\n */\nlet previousWindowHeight = window.innerHeight;\n\n/**\n * @type {number}\n */\nlet previousWindowWidth = window.innerWidth;\n\n/**\n * @returns {void}\n */\nfunction handler() {\n    /**\n     * If there is no subscritor remove handler.\n     */\n    if (callbacks.size === 0) {\n        // @ts-ignore\n        window.removeEventListener('resize', debouceFunctionReference);\n\n        initialized = false;\n        return;\n    }\n\n    // Check there is a vertical resizer\n\n    /**\n     * @type {number}\n     */\n    const windowsHeight = window.innerHeight;\n\n    /**\n     * @type {number}\n     */\n    const windowsWidth = window.innerWidth;\n\n    /**\n     * @type {boolean}\n     */\n    const verticalResize = windowsHeight !== previousWindowHeight;\n\n    /**\n     * @type {boolean}\n     */\n    const horizontalResize = windowsWidth !== previousWindowWidth;\n\n    /**\n     * @type {number}\n     */\n    previousWindowHeight = windowsHeight;\n\n    /**\n     * @type {number}\n     */\n    previousWindowWidth = windowsWidth;\n\n    // Prepare data to callback\n    const resizeData = {\n        scrollY: window.scrollY,\n        windowsHeight,\n        windowsWidth,\n        documentHeight: document.documentElement.scrollHeight,\n        verticalResize,\n        horizontalResize,\n    };\n\n    // Fire end of resize\n    for (const value of callbacks.values()) {\n        value(resizeData);\n    }\n}\n\n/**\n * Init - if listener is not inizializad add it\n *\n * @returns {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    // Add debunce function to detect scroll end\n    // @ts-ignore\n    debouceFunctionReference = debounceFuncion(() => handler());\n    // @ts-ignore\n    window.addEventListener('resize', debouceFunctionReference, {\n        passive: false,\n    });\n}\n\n/**\n * Add callback on resize using a debounce function.\n *\n * @example\n *     ```javascript\n *     handleResize(\n *         ({\n *             documentHeight,\n *             horizontalResize,\n *             scrollY,\n *             verticalResize,\n *             windowsHeight,\n *             windowsWidth,\n *         }) => {\n *             // code\n *         }\n *     );\n *\n *     ```;\n *\n * @param {import('./type.js').HandleResizeCallback} cb - Callback function fired on resize.\n * @returns {() => void}\n */\nconst addCb = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof globalThis !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\nexport const handleResize = (() => addCb)();\n", "import { getUnivoqueId } from '../../utils';\n\n/**\n * @type {boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<string, import('./type').HandleScrollCallback<import('./type').HandleScroll>>}\n */\nconst callbacks = new Map();\nconst UP = 'UP';\nconst DOWN = 'DOWN';\n\n/**\n * @type {number}\n */\nlet prev = window.scrollY;\n\n/**\n * @type {number}\n */\nlet val = window.scrollY;\n\n/**\n * @type {import('./type').ScrollDirection}\n */\nlet direction = DOWN;\n\n/**\n * @type {import('./type').HandleScroll}\n */\nlet scrollData = {\n    scrollY: val,\n    direction,\n};\n\n/**\n * @returns {void}\n */\nfunction handler() {\n    /**\n     * If - if there is no subscritor remove handler\n     */\n    if (callbacks.size === 0) {\n        window.removeEventListener('scroll', handler);\n\n        initialized = false;\n        return;\n    }\n\n    prev = val;\n    val = window.scrollY;\n    direction = val > prev ? DOWN : UP;\n\n    // Prepare data to callback\n    scrollData = {\n        scrollY: val,\n        direction,\n    };\n\n    /**\n     * Check if browser lost frame. If true skip.\n     */\n    // callback.forEach(({ cb }) => cb(scrollData));\n    for (const value of callbacks.values()) {\n        value(scrollData);\n    }\n}\n\n/**\n * Init - if listener is not inizializad remove it\n *\n * @returns {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    window.addEventListener('scroll', handler, {\n        passive: true,\n    });\n}\n\n/**\n * Execute a callback immediately on scroll\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleScrollImmediate(({ direction, scrollY }) => {\n *         // code\n *     });\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./type').HandleScrollCallback<import('./type').HandleScroll>} cb - Callback function\n * @returns {() => void} Unsubscribe callback\n */\nconst addCb = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof globalThis !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\n/**\n * Execute a callback immediately on scroll\n */\nexport const handleScrollImmediate = (() => {\n    return addCb;\n})();\n", "import { getUnivoqueId } from '../../utils/index.js';\nimport { handleFrame } from '../raf-utils/handle-frame.js';\nimport { handleNextTick } from '../raf-utils/handle-next-tick.js';\nimport { handleScrollImmediate } from './handle-scroll-immediate.js';\n\n/**\n * @type {boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<string, import('./type.js').HandleScrollCallback<import('./type.js').HandleScroll>>}\n */\nconst callbacks = new Map();\n\n/**\n * @type {() => void}\n */\nlet unsubscribe = () => {};\n\n/**\n * @param {import('./type.js').HandleScroll} scrollData\n */\nfunction handler(scrollData) {\n    /**\n     * If - if there is no subscritor remove handler\n     */\n    if (callbacks.size === 0) {\n        unsubscribe();\n\n        initialized = false;\n        return;\n    }\n\n    handleFrame.add(() => {\n        handleNextTick.add(() => {\n            for (const value of callbacks.values()) {\n                value(scrollData);\n            }\n        }, 0);\n    });\n}\n\n/**\n * Init - if listener is not inizializad remove it\n *\n * @returns {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    unsubscribe = handleScrollImmediate(handler);\n}\n\n/**\n * Perform a callback to the first nextTick available after scrolling\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleScroll(({ direction, scrollY }) => {\n *         // code\n *     });\n *\n *     unsubscribe();\n *\n *     ```;\n *\n * @param {import('./type.js').HandleScrollCallback<import('./type.js').HandleScroll>} cb - Callback function\n * @returns {() => void} Unsubscribe callback\n */\nconst addCb = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof globalThis !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\n/**\n * Perform a callback to the first nextTick available after scrolling\n */\nexport const handleScroll = (() => addCb)();\n", "/* eslint-disable unicorn/no-this-assignment */\n/* eslint-disable @typescript-eslint/no-this-alias */\n\nimport { getTime } from './raf-utils/time';\n\n/**\n * @param {Function} func\n * @param {number} limit\n * @returns {Function}\n */\nexport const throttle = (func, limit) => {\n    /** @type {any} */\n    let lastFunc;\n\n    /** @type {any} */\n    let lastRan;\n\n    return function () {\n        // @ts-ignore\n        const context = this;\n        const args = arguments;\n\n        if (lastRan) {\n            clearTimeout(lastFunc);\n            lastFunc = setTimeout(\n                function () {\n                    if (getTime() - lastRan >= limit) {\n                        func.apply(context, args);\n                        lastRan = getTime();\n                    }\n                },\n                limit - (getTime() - lastRan)\n            );\n        } else {\n            func.apply(context, args);\n            lastRan = getTime();\n        }\n    };\n};\n", "import { handleFrame } from '../raf-utils/handle-frame.js';\nimport { handleNextTick } from '../raf-utils/handle-next-tick.js';\nimport { throttle } from '../throttle.js';\nimport { handleScrollImmediate } from './handle-scroll-immediate.js';\nimport { eventStore } from '../event-store.js';\nimport { getUnivoqueId } from '../../utils/index.js';\n\n/**\n * @type {boolean}\n */\nlet initialized = false;\n\n/**\n * @type {Map<string, import('./type.js').HandleScrollCallback<import('./type.js').HandleScroll>>}\n */\nconst callbacks = new Map();\n\n/**\n * @type {() => void}\n */\nlet throttleFunctionReference;\n\n/**\n * @type Function():void\n */\nlet unsubscribe = () => {};\n\n/**\n * @param {import('./type.js').HandleScroll} scrollData\n */\nfunction handler(scrollData) {\n    /**\n     * If - if there is no subscritor remove handler\n     */\n    if (callbacks.size === 0) {\n        unsubscribe();\n\n        initialized = false;\n        return;\n    }\n\n    handleFrame.add(() => {\n        handleNextTick.add(() => {\n            for (const value of callbacks.values()) {\n                value(scrollData);\n            }\n        }, 0);\n    });\n}\n\n/**\n * Init - if listener is not inizializad remove it\n *\n * @returns {void}\n */\nfunction init() {\n    if (initialized) return;\n    initialized = true;\n\n    // @ts-ignore\n    throttleFunctionReference = throttle(\n        (/** @type {any} */ scrollData) => handler(scrollData),\n        eventStore.getProp('throttle')\n    );\n\n    // @ts-ignore\n    unsubscribe = handleScrollImmediate(throttleFunctionReference);\n}\n\n/**\n * Performs a scroll callback using a throttle function\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleScrollThrottle(({ direction, scrollY }) => {\n *         // code\n *     });\n *\n *     unsubscribe()\n *\n *     Define throttle value from default:\n *     handleSetUp.set({ throttle: 100 });\n *\n *     ```;\n *\n * @param {import('./type.js').HandleScrollCallback<import('./type.js').HandleScroll>} cb - Callback function\n * @returns {() => void} Unsubscribe callback\n */\nconst addCb = (cb) => {\n    const id = getUnivoqueId();\n    callbacks.set(id, cb);\n\n    if (typeof globalThis !== 'undefined') {\n        init();\n    }\n\n    return () => callbacks.delete(id);\n};\n\n/**\n * Performs a scroll callback using a throttle function\n */\nexport const handleScrollThrottle = (() => addCb)();\n", "import { handleScrollImmediate } from './handle-scroll-immediate.js';\nimport { debounceFuncion } from '../debounce.js';\nimport { handleFrame } from '../raf-utils/handle-frame.js';\nimport { handleNextTick } from '../raf-utils/handle-next-tick.js';\nimport { getUnivoqueId } from '../../utils/index.js';\n\n/**\n * @type {() => void}\n */\nlet unsubscribeScrollStart = () => {};\n\n/**\n * @type {() => void}\n */\nlet unsubscribeScrollEnd = () => {};\n\n/**\n * @type {any}\n */\nlet debouceFunctionReference = () => {};\n\n/**\n * @param {'START' | 'END'} type\n */\nfunction handleScrollUtils(type) {\n    /**\n     * @type {boolean}\n     */\n    let initialized = false;\n\n    /**\n     * @type {Map<string, import('./type.js').HandleScrollCallback<import('./type.js').HandleScrollUtils>>}\n     */\n    const callbacks = new Map();\n\n    /**\n     * @type {boolean}\n     */\n    let isScrolling = false;\n\n    /**\n     * @returns {void}\n     */\n    function handler() {\n        isScrolling = false;\n\n        /**\n         * If - if there is no subscritor remove handler\n         */\n        if (callbacks.size === 0) {\n            unsubscribeScrollEnd();\n\n            // Unsubscribe from scroll callback\n            if (type === 'START') {\n                unsubscribeScrollStart();\n            }\n\n            initialized = false;\n            return;\n        }\n\n        handleFrame.add(() => {\n            handleNextTick.add(() => {\n                // Prepare data to callback\n                const scrollData = {\n                    scrollY: window.scrollY,\n                };\n\n                // Fire end of scroll\n                if (type === 'END') {\n                    for (const value of callbacks.values()) {\n                        value(scrollData);\n                    }\n                }\n            }, 0);\n        });\n    }\n\n    /**\n     * Init - if listener is not inizializad remove it\n     *\n     * @returns {void}\n     */\n    function init() {\n        if (initialized) return;\n        initialized = true;\n\n        // Add debunce function to detect scroll end\n        debouceFunctionReference = debounceFuncion(() => handler());\n        unsubscribeScrollEnd = handleScrollImmediate(debouceFunctionReference);\n\n        // Use normal scroll event ( no debuonce ) to detect if page is scrolling\n        if (type === 'START') {\n            unsubscribeScrollStart = handleScrollImmediate(({ scrollY }) => {\n                const scrollData = {\n                    scrollY,\n                };\n\n                // At first scroll isScrolling is false\n                // Fire event ad set isScrolling to true\n                // At debounce end isScrolling return to false to trigger next scroll\n                if (!isScrolling) {\n                    isScrolling = true;\n\n                    for (const value of callbacks.values()) {\n                        value(scrollData);\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * @param {import('./type.js').HandleScrollCallback<import('./type.js').HandleScrollUtils>} cb - Callback function\n     * @returns {() => void} Unsubscribe callback\n     */\n    const addCb = (cb) => {\n        const id = getUnivoqueId();\n        callbacks.set(id, cb);\n\n        if (typeof globalThis !== 'undefined') {\n            init();\n        }\n\n        return () => callbacks.delete(id);\n    };\n\n    return addCb;\n}\n\n/**\n * Execute a callback at the beginning of the scroll\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleScrollStart(({ scrollY }) => {\n *         // code\n *     });\n *\n *     unsubscribe()\n *\n *     ```;\n */\nexport const handleScrollStart = handleScrollUtils('START');\n\n/**\n * Execute a callback at the end of the scroll\n *\n * @example\n *     ```javascript\n *     const unsubscribe = handleScrollEnd(({ scrollY }) => {\n *         // code\n *     });\n *\n *     unsubscribe()\n *\n *     ```;\n */\nexport const handleScrollEnd = handleScrollUtils('END');\n", "import { getUnivoqueId } from '../../utils/index.js';\n\n/**\n * @param {import('./type.js').PointerEventType} eventType\n */\nfunction handlePointer(eventType) {\n    /**\n     * @type {boolean}\n     */\n    let initialized = false;\n\n    /**\n     * @type {Map<string, import('./type.js').PointerEventCallback>}\n     */\n    const callbacks = new Map();\n\n    /**\n     * @param {PointerEvent} event\n     * @returns {void}\n     */\n    function handler(event) {\n        /**\n         * If - if there is no subscritor remove handler\n         */\n        if (callbacks.size === 0) {\n            globalThis.removeEventListener(eventType, handler);\n\n            initialized = false;\n            return;\n        }\n\n        for (const value of callbacks.values()) {\n            value(event);\n        }\n    }\n\n    /**\n     * Init - if listener is not inizializad remove it\n     *\n     * @returns {void}\n     */\n    function init() {\n        if (initialized) return;\n        initialized = true;\n\n        globalThis.addEventListener(eventType, handler);\n    }\n\n    /**\n     * Add callback on mouse action\n     *\n     * @param {import('./type.js').PointerEventCallback} cb - Callback function fired on mouse action.\n     * @returns {() => void}\n     */\n    const addCallback = (cb) => {\n        const id = getUnivoqueId();\n        callbacks.set(id, cb);\n\n        if (typeof globalThis !== 'undefined') {\n            init();\n        }\n\n        return () => callbacks.delete(id);\n    };\n\n    return addCallback;\n}\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = handlePointerOver((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handlePointerOver = handlePointer('pointerover');\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = handlePointerDown((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handlePointerDown = handlePointer('pointerdown');\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = handlePointerMove((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handlePointerMove = handlePointer('pointermove');\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = handlePointerUp((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handlePointerUp = handlePointer('pointerup');\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = handlePointerOut((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handlePointerOut = handlePointer('pointerout');\n\n/**\n * @example\n *     ```javascript\n *     const unsubscribe = handlePointerOut((event) => {\n *             // code\n *         }\n *     );\n *\n *     unsubscribe();\n *\n *     ```;\n */\nexport const handlePointerLeave = handlePointer('pointerleave');\n", "export {\n    beforeRouteChange,\n    afterRouteChange,\n    onRouteLoading,\n    getActiveRoute,\n    getActiveParams,\n} from './main-store/main-store-api';\nexport { getChildrenIdByName } from './component/action/children';\nexport {\n    getComponentNameById,\n    getIdByInstanceName,\n} from './component/action/component';\nexport { getTree } from './component/action/get-tree';\nexport {\n    useMethodByName,\n    useMethodArrayByName,\n} from './component/action/methods';\nexport { getParentIdById } from './component/action/parent';\nexport { removeAndDestroyById } from './component/action/remove-and-destroy/remove-and-destroy-by-id';\nexport { getStateById } from './component/action/state/get-state-by-id';\nexport { getStateByName } from './component/action/state/get-state-by-name';\nexport { setStateById } from './component/action/state/set-state-by-id';\nexport { setStateByName } from './component/action/state/set-state-by-name';\nexport { updateStateByName } from './component/action/state/update-state-by-name';\nexport { watchById } from './component/action/watch';\nexport { useComponent } from './component/component-list';\nexport { createComponent, getDebugMode } from './component/create-component';\nexport { componentMap } from './component/component-map';\nexport { inizializeApp } from './initialize-app';\nexport { mainStore } from './main-store/main-store';\nexport {\n    eventDelegationMap,\n    tempDelegateEventMap,\n} from './modules/delegate-events';\nexport { getNumberOfActiveInvalidate } from './modules/invalidate/action/get-number-of-active-invalidate';\nexport { getNumberOfActiveRepeater } from './modules/repeater/action/get-number-of-active-repeater';\nexport { getPropsFromParent } from './modules/static-props';\nexport { tick } from './queque/tick';\nexport { loadUrl } from './route';\nexport { staticProps } from './utils';\n", "export const MAIN_STORE_ACTIVE_ROUTE = 'activeRoute';\nexport const MAIN_STORE_ACTIVE_PARAMS = 'activeParams';\nexport const MAIN_STORE_BEFORE_ROUTE_CHANGE = 'beforeRouteChange';\nexport const MAIN_STORE_AFTER_ROUTE_CHANGE = 'afterRouteChange';\nexport const MAIN_STORE_ROUTE_IS_LOADING = 'routeIsLoading';\nexport const MAIN_STORE_ASYNC_PARSER = 'repeaterParserAsync';\n", "import { MobCore } from '../../mob-core';\nimport {\n    MAIN_STORE_ACTIVE_PARAMS,\n    MAIN_STORE_ACTIVE_ROUTE,\n    MAIN_STORE_AFTER_ROUTE_CHANGE,\n    MAIN_STORE_BEFORE_ROUTE_CHANGE,\n    MAIN_STORE_ASYNC_PARSER,\n    MAIN_STORE_ROUTE_IS_LOADING,\n} from './constant';\n\n/**\n * @import {MobStoreParams} from '../../mob-core/store/type';\n */\n\nexport const mainStore = MobCore.createStore(\n    /** @type {MobStoreParams<import('./type').MainStore>} */\n    ({\n        [MAIN_STORE_ACTIVE_ROUTE]: () => ({\n            value: { route: '', templateName: '' },\n            type: 'any',\n            skipEqual: false,\n        }),\n        [MAIN_STORE_ACTIVE_PARAMS]: () => ({\n            value: {},\n            type: 'any',\n            skipEqual: false,\n        }),\n        [MAIN_STORE_BEFORE_ROUTE_CHANGE]: () => ({\n            value: {\n                currentRoute: '',\n                currentTemplate: '',\n                nextRoute: '',\n                nextTemplate: '',\n            },\n            type: 'any',\n            skipEqual: false,\n        }),\n        [MAIN_STORE_AFTER_ROUTE_CHANGE]: () => ({\n            value: {\n                currentRoute: '',\n                currentTemplate: '',\n                previousRoute: '',\n                previousTemplate: '',\n            },\n            type: 'any',\n            skipEqual: false,\n        }),\n        [MAIN_STORE_ROUTE_IS_LOADING]: () => ({\n            value: false,\n            type: Boolean,\n        }),\n        [MAIN_STORE_ASYNC_PARSER]: {\n            element: () => ({\n                value: document.createElement('div'),\n                type: HTMLElement,\n                skipEqual: false,\n            }),\n            parentId: () => ({\n                value: '',\n                type: String,\n                skipEqual: false,\n            }),\n            persistent: () => ({\n                value: false,\n                type: Boolean,\n                skipEqual: false,\n            }),\n        },\n    })\n);\n\n/**\n * Remove DOM element from store. WeakMap/WaekRef need no DOM element reference around app.\n *\n * @returns Void\n */\nexport const resetMainStoreAsyncParser = () => {\n    mainStore.set(\n        MAIN_STORE_ASYNC_PARSER,\n        {\n            element: document.createElement('div'),\n            parentId: '',\n            persistent: false,\n        },\n        { emit: false }\n    );\n};\n", "import {\n    MAIN_STORE_AFTER_ROUTE_CHANGE,\n    MAIN_STORE_BEFORE_ROUTE_CHANGE,\n    MAIN_STORE_ROUTE_IS_LOADING,\n} from './constant';\nimport { mainStore } from './main-store';\n\n/** @type {import('./type').MainStoreWatchBefore} */\nexport const beforeRouteChange = (callback) => {\n    return mainStore.watch(\n        MAIN_STORE_BEFORE_ROUTE_CHANGE,\n        ({ currentRoute, currentTemplate, nextRoute, nextTemplate }) => {\n            callback({\n                currentRoute,\n                currentTemplate,\n                nextRoute,\n                nextTemplate,\n            });\n        }\n    );\n};\n\n/** @type {import('./type').MainStoreWatchAfter} */\nexport const afterRouteChange = (callback) => {\n    return mainStore.watch(\n        MAIN_STORE_AFTER_ROUTE_CHANGE,\n        ({\n            currentRoute,\n            currentTemplate,\n            previousRoute,\n            previousTemplate,\n        }) => {\n            callback({\n                currentRoute,\n                currentTemplate,\n                previousRoute,\n                previousTemplate,\n            });\n        }\n    );\n};\n\n/** @type {import('./type').MainStoreLoading} */\nexport const onRouteLoading = (callback) => {\n    return mainStore.watch(MAIN_STORE_ROUTE_IS_LOADING, (state) => {\n        callback(state);\n    });\n};\n\n/** @type {import('./type').MainStoreActiveRoute} */\nexport const getActiveRoute = () => {\n    const { activeRoute } = mainStore.get();\n    return activeRoute;\n};\n\n/** @type {import('./type').MainStoreActiveParams} */\nexport const getActiveParams = () => {\n    const { activeParams } = mainStore.get();\n    return activeParams;\n};\n", "/**\n * @type {Map<string, import('./type').ComponentStore>}\n */\nexport const componentMap = new Map();\n", "/**\n * Store parent repeat by a webcomponent utils Key is repeat id ScopeId is the component id that contains repeat when is\n * initialized ( for nested repeater performance check on destroy )\n *\n * @type {import('./type').RepeatIdPlaceHolderMap}\n */\n\nexport const repeatIdPlaceHolderMap = new Map();\n", "import { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * @param {object} params\n * @param {string} params.componentId\n * @param {string} params.repeatId\n * @returns {void}\n */\nexport const setRepeaterComponentChildren = ({ componentId, repeatId }) => {\n    const item = repeatIdPlaceHolderMap.get(repeatId);\n    if (!item) return;\n\n    const { componentChildren } = item;\n\n    repeatIdPlaceHolderMap.set(repeatId, {\n        ...item,\n        componentChildren: [...componentChildren, componentId],\n    });\n};\n\n/**\n * @param {object} params\n * @param {string} params.componentId\n * @param {string} params.repeatId\n * @returns {void}\n */\nexport const removeRepeaterComponentChildren = ({ componentId, repeatId }) => {\n    const item = repeatIdPlaceHolderMap.get(repeatId);\n    if (!item) return;\n\n    const { componentChildren } = item;\n\n    repeatIdPlaceHolderMap.set(repeatId, {\n        ...item,\n        componentChildren: componentChildren.filter((id) => id !== componentId),\n    });\n};\n\n/**\n * @param {object} params\n * @param {string} params.repeatId\n * @returns {string[]}\n */\nexport const getRepeaterComponentChildren = ({ repeatId }) => {\n    const item = repeatIdPlaceHolderMap.get(repeatId);\n    if (!item) return [];\n\n    const { componentChildren } = item;\n    return componentChildren;\n};\n\n/**\n * @param {object} params\n * @param {string} params.repeatId\n * @returns {boolean}\n */\nexport const repeaterhasComponentChildren = ({ repeatId }) => {\n    const item = repeatIdPlaceHolderMap.get(repeatId);\n    if (!item) return false;\n\n    const { componentChildren } = item;\n    return componentChildren.length > 0;\n};\n", "/**\n * @type{WeakMap<HTMLElement, string>}\n */\nconst weakElementMap = new WeakMap();\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.element\n * @param {string} params.id\n */\nexport const addElementToWeakElementMap = ({ element, id }) => {\n    weakElementMap.set(element, id);\n};\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.element\n * @returns {string | undefined}\n */\nexport const getIdFromWeakElementMap = ({ element }) => {\n    return weakElementMap.get(element);\n};\n", "import { getRepeaterComponentChildren } from '../../modules/repeater/action/set-repeat-component-children';\nimport { componentMap } from '../component-map';\nimport {\n    addElementToWeakElementMap,\n    getIdFromWeakElementMap,\n} from '../weak-element-map';\n\n/**\n * Update element root from generic to real after conversion.\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {HTMLElement | import('../../web-component/type').UserComponent} obj.newElement\n * @returns {void}\n */\nexport const setElementById = ({\n    id = '',\n    newElement = document.createElement('div'),\n}) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    /**\n     * Add element to main Map\n     */\n    componentMap.set(id, { ...item, element: newElement });\n\n    /**\n     * Add element to weakMap\n     */\n    addElementToWeakElementMap({ element: newElement, id });\n};\n\n/**\n * Get element by id\n *\n * @param {object} obj\n * @param {string} obj.id\n * @returns {HTMLElement | undefined}\n */\nexport const getElementById = ({ id = '' }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    return item?.element;\n};\n\n/**\n * Get element by id\n *\n * @param {object} obj\n * @param {HTMLElement | undefined} obj.element\n * @returns {string | undefined}\n */\nexport const getIdByElement = ({ element }) => {\n    if (!element) return '';\n\n    return getIdFromWeakElementMap({ element });\n};\n\n/**\n * Get element by key and repeatId.\n *\n * @param {object} obj\n * @param {string} obj.keyValue\n * @param {string} obj.repeatId\n * @returns {{ id: string; element: HTMLElement }[]}\n */\nexport const getElementsByKeyAndRepeatId = ({\n    keyValue = '',\n    repeatId = '',\n}) => {\n    if (keyValue?.length === 0) return [];\n\n    const repeaterChildrenId = getRepeaterComponentChildren({ repeatId });\n    const occurrence = repeaterChildrenId\n        .map((id) => {\n            return componentMap.get(id);\n        })\n        .filter((item) => item !== undefined);\n\n    return occurrence\n        .filter((item) => `${item.key}` === `${keyValue}`)\n        .map(({ element, id }) => ({\n            element,\n            id,\n        }));\n};\n\n/**\n * Get children of component inside a element by a precompiler children list\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.repeatId\n * @returns {string[]}\n */\nexport const getIdsByByRepeatId = ({ id, repeatId }) => {\n    if (!id || id === '') return [];\n\n    const repeaterChildrenId = getRepeaterComponentChildren({ repeatId });\n    return repeaterChildrenId\n        .map((id) => {\n            return componentMap.get(id);\n        })\n        .filter((item) => item !== undefined)\n        .map((item) => {\n            return item.id;\n        });\n};\n", "/**\n * @type {string} ;\n */\nexport const ATTR_IS_COMPONENT = 'data-mobjs';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_COMPONENT_ID = 'componentid';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_BIND_TEXT_ID = 'bindtextid';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_BIND_OBJECT_ID = 'bindobjectid';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_IS_COMPONENT_VALUE = 'mobjs';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_PROPS = 'staticprops';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_BIND_PROPS = 'bindprops';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_INSTANCENAME = 'name';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_COMPONENT_NAME = 'name';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_SLOT = 'slot';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_CHILD_REPEATID = 'repeaterchild';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_KEY = 'key';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_CURRENT_LIST_VALUE = 'currentRepeaterValue';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_REPEATER_PROP_BIND = 'repeatPropBind';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_BIND_EVENTS = 'bindevents';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_WEAK_BIND_EVENTS = 'weakbindevents';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_BIND_EFFECT = 'bindeffect';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_PARENT_ID = 'parentid';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_REFS = 'ref';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_BIND_REFS_ID = 'bindrefid';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_BIND_REFS_NAME = 'bindrefname';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_INVALIDATE = 'invalidateid';\n\n/**\n * @type {string} ;\n */\nexport const ATTR_MOBJS_REPEAT = 'mobjsrepeat';\n\n/**\n * @type {number} ;\n */\nexport const frameDelayAfterParse = 5;\n\n/**\n * @type {import('./modules/repeater/type').CurrentRepeaterState} ;\n */\nexport const DEFAULT_CURRENT_REPEATER_STATE = { current: {}, index: -1 };\n\n/**\n * @type {string} ;\n */\nexport const QUEQUE_TYPE_BINDPROPS = 'QUEQUE_BINDPROPS';\n\n/**\n * @type {string} ;\n */\nexport const QUEQUE_TYPE_REPEATER = 'QUEQUE_REPEATER';\n\n/**\n * @type {string} ;\n */\nexport const QUEQUE_TYPE_INVALIDATE = 'QUEQUE_INVALIDATE';\n\n/**\n * @type {string} ;\n */\nexport const QUEQUE_TYPE_PARSE_WATCH_ASYNC = 'PARSE_WATCH_ASYNC';\n\n/**\n * @type {string} ;\n */\nexport const QUEQUE_TYPE_PARSE_COMPONENT = 'PARSE_COMPONENT';\n", "/**\n * Store host of webComponent Key is repeatId\n *\n * @type {import('./type').RepeatIdHostMap}\n */\n\nexport const repeatIdHostMap = new Map();\n", "// @ts-check\n\nimport { repeatIdHostMap } from '../repeat-id-host-map';\nimport { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * Get repeat parent by repeat id.\n *\n * @param {object} params\n * @param {string} params.id\n * @returns {HTMLElement | undefined}\n */\nexport const getRepeatParent = ({ id }) => {\n    if (!repeatIdPlaceHolderMap.has(id)) {\n        return;\n    }\n\n    /**\n     * Remove webComponent after first call to repeaterParent\n     */\n    if (repeatIdHostMap.has(id)) {\n        const host = repeatIdHostMap.get(id);\n        // @ts-ignore\n        host?.removeCustomComponent();\n        host?.remove();\n        repeatIdHostMap.delete(id);\n    }\n\n    const parent = repeatIdPlaceHolderMap.get(id);\n    return parent?.element;\n};\n", "import { DEFAULT_CURRENT_REPEATER_STATE } from '../../constant.js';\nimport { getRepeatParent } from '../../modules/repeater/action/get-repeater-parent.js';\nimport { componentMap } from '../component-map.js';\n\n/**\n * Update element root from generic to real after conversion.\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {any} obj.value\n * @returns {void}\n */\nexport const setRepeaterStateById = ({ id = '', value }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    componentMap.set(id, {\n        ...item,\n        currentRepeaterState: value,\n    });\n};\n\n/**\n * Find first element children of rootNode that contains currentNode. Use to find repeater innerWrap.\n *\n * @param {object} params\n * @param {HTMLElement} params.rootNode\n * @param {HTMLElement | null} params.currentNode\n * @returns {HTMLElement | undefined}\n */\nconst getFirstChildOfElementParentOfElement = ({ rootNode, currentNode }) => {\n    if (!currentNode || !rootNode.contains(currentNode)) return;\n    if (currentNode.parentElement === rootNode) return currentNode;\n\n    return getFirstChildOfElementParentOfElement({\n        rootNode,\n        currentNode: currentNode.parentElement,\n    });\n};\n\n/**\n * Find Dom element that container firstRepeaterElement.\n *\n * @param {object} obj\n * @param {HTMLElement} obj.rootNode\n * @param {HTMLElement} obj.node\n * @returns {HTMLElement | Element | undefined}\n */\nexport const findFirstRepeaterElementWrap = ({ rootNode, node }) => {\n    if (!rootNode) return;\n\n    // return [...rootNode.children].find(\n    //     (child) => child.contains(node) && child !== node\n    // );\n\n    return getFirstChildOfElementParentOfElement({\n        rootNode,\n        currentNode: node.parentElement,\n    });\n};\n\n/**\n * Update element root from generic to real after conversion.\n *\n * @param {object} obj\n * @param {string} obj.id\n * @returns {import('../../modules/repeater/type').CurrentRepeaterState}\n */\nexport const getRepeaterStateById = ({ id = '' }) => {\n    if (!id || id === '') return DEFAULT_CURRENT_REPEATER_STATE;\n\n    const item = componentMap.get(id);\n    const currentRepeaterState = item?.currentRepeaterState;\n\n    if (!currentRepeaterState) return DEFAULT_CURRENT_REPEATER_STATE;\n    return currentRepeaterState;\n};\n\n/**\n * Update element root from generic to real after conversion.\n *\n * @param {object} obj\n * @param {string} obj.id\n * @returns {string}\n */\nexport const getRepeaterPropBind = ({ id = '' }) => {\n    if (!id || id === '') return '';\n\n    const item = componentMap.get(id);\n    const repeatPropBind = item?.repeatPropBind;\n\n    if (!repeatPropBind) return '';\n\n    return repeatPropBind;\n};\n\n/**\n * Update element root from generic to real after conversion.\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.repeatId\n * @param {HTMLElement | Element} obj.element\n * @returns {void}\n */\nexport const setRepeaterInnerWrap = ({ id = '', repeatId = '', element }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    const repeaterParentElement = getRepeatParent({\n        id: repeatId,\n    });\n\n    const elementWrapper = findFirstRepeaterElementWrap({\n        rootNode: /** @type {HTMLElement} */ (repeaterParentElement),\n        node: /** @type {HTMLElement} */ (element),\n    });\n\n    componentMap.set(id, {\n        ...item,\n        repeaterInnerWrap: elementWrapper,\n    });\n};\n\n/**\n * @param {object} obj\n * @param {string | undefined} obj.id\n * @returns {HTMLElement | Element | undefined}\n */\nexport const getRepeaterInnerWrap = ({ id }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const repeaterInnerWrap = item?.repeaterInnerWrap;\n    return repeaterInnerWrap;\n};\n", "import { componentMap } from '../component-map';\nimport { getElementById } from './element';\nimport { getRepeaterStateById } from './repeater';\n\n/**\n * Get children id.\n *\n * @param {object} obj\n * @param {string} obj.id\n * @returns {string[] | []}\n */\nexport const getChildrenById = ({ id = '' }) => {\n    if (!id || id === '') return [];\n\n    const item = componentMap.get(id);\n    const child = item?.child;\n\n    if (!child) {\n        console.warn(`getChildIdById failed no id found`);\n        return [];\n    }\n\n    return Object.values(child).reduce(\n        (current, previous) => [...previous, ...current],\n        []\n    );\n};\n\n/**\n * Get children id.\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.componentName\n * @returns {string[] | []}\n */\nexport const getChildrenIdByName = ({ id = '', componentName = '' }) => {\n    if (!id || id === '') return [];\n\n    const item = componentMap.get(id);\n    const child = item?.child;\n\n    if (!child) {\n        console.warn(`getChildIdById failed no id found`);\n        return [];\n    }\n\n    return child?.[componentName] ?? [];\n};\n\n/**\n * Update children order of a component\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.componentName\n * @param {(HTMLElement | undefined)[]} [obj.filterBy]\n * @returns {void}\n */\nexport const updateChildrenOrder = ({ id, componentName, filterBy = [] }) => {\n    /*\n     * Get element\n     */\n    const element = getElementById({ id });\n    if (!element) return;\n\n    const components = getChildrenIdByName({ id, componentName });\n    const componentsIdFiltered = components\n        .map((id) => {\n            return { id, element: getElementById({ id }) };\n        })\n        .filter(({ element }) => {\n            return filterBy.length > 0 ? filterBy.includes(element) : true;\n        })\n        .toSorted((a, b) => {\n            const { element: elementA } = a;\n            const { element: elementB } = b;\n            if (elementA === elementB || !elementA || !elementB) return 0;\n            if (elementA.compareDocumentPosition(elementB) & 2) {\n                // b comes before a\n                return 1;\n            }\n            return -1;\n        })\n        .map(({ id }) => id);\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    const { child } = item;\n    componentMap.set(id, {\n        ...item,\n        child: {\n            ...child,\n            [componentName]: componentsIdFiltered,\n        },\n    });\n};\n\n/**\n * Get a chunked array of children sorted by DOM position Compare the first element of each chunk\n *\n * @param {object} obj\n * @param {string[][]} obj.children\n * @returns {string[][]}\n */\nexport const gerOrderedChunkByDOMPosition = ({ children }) => {\n    return children\n        .map((currentChildren) => {\n            return {\n                childrenId: currentChildren,\n                element: getElementById({ id: currentChildren?.[0] }),\n            };\n        })\n        .toSorted((a, b) => {\n            // @ts-ignore\n            if (a.element.compareDocumentPosition(b.element) & 2) {\n                // b comes before a\n                return 1;\n            }\n            return -1;\n        })\n        .map(({ childrenId }) => childrenId);\n};\n\n/**\n * Get a chunked array of children sorted by Key\n *\n * @param {object} obj\n * @param {string[][]} obj.children\n * @param {string} obj.key\n * @param {Record<string, any>[]} obj.current\n * @param {Record<string, any>[]} obj.currentUnivoque\n * @param {boolean} [obj.useIndex]\n * @returns {string[][]}\n */\nexport const getOrderedChunkByCurrentRepeatValue = ({\n    children,\n    key,\n    current,\n    currentUnivoque,\n    useIndex = false,\n}) => {\n    const currentParsed = useIndex ? current : currentUnivoque;\n\n    /**\n     * Associate index && key value ( currentValue?.[key] ) to every group of component ( id of component ).\n     *\n     * GetRepeaterStateById() return current component repeater data value by id.\n     */\n    const childrenRemapped = children.map((items) => {\n        const { index: indexValue, current: currentValue } =\n            getRepeaterStateById({\n                id: items?.[0],\n            });\n\n        return {\n            index: indexValue,\n            key: currentValue?.[key],\n            items,\n        };\n    });\n\n    /**\n     * Remap currentUnivoque with index && key value ( item?.[key] ).\n     */\n    const currentRemapped = currentParsed.map((item, index) => ({\n        index,\n        key: item?.[key],\n    }));\n\n    /**\n     * Start from original data array parsed ( univique ).\n     *\n     * Find from children array the group with same key ( or index ) and return it. The return array is the component\n     * array ordered by data array ( currentUnivoque ).\n     */\n    const orderdChildren = currentRemapped\n        .map((currentItem) => {\n            const prop = useIndex ? 'index' : 'key';\n\n            return childrenRemapped.find(\n                (childrenItem) => childrenItem[prop] === currentItem[prop]\n            );\n        })\n        .filter((item) => item !== undefined);\n\n    /**\n     * Return chunk of ids.\n     */\n    return orderdChildren.map(({ items }) => items);\n};\n", "/** @type {string} */\nlet contentAttributeId = '';\n\n/** @type {HTMLElement | null} */\nlet DOMContentElement;\n\n/**\n * Set root app.\n *\n * @param {object} obj\n * @param {string} obj.contentId Returns void\n */\nexport const setContentId = ({ contentId = '' }) => {\n    contentAttributeId = contentId;\n};\n\n/**\n * Set root app.\n *\n * @returns {string}\n */\nexport const getContentId = () => contentAttributeId;\n\n/** @returns {void} */\nexport const setContentElement = () => {\n    DOMContentElement = document?.querySelector(contentAttributeId);\n};\n\n/** @returns {HTMLElement | null} */\nexport const getContentElement = () => DOMContentElement;\n", "/**\n * @type {Map<string, string[]>}\n */\nexport const instanceMap = new Map();\n\n/**\n * @param {object} params\n * @param {string} params.instanceName\n * @param {string} params.id\n */\nexport const addIdToInstanceMap = ({ instanceName, id }) => {\n    const idCollection = instanceMap.get(instanceName) ?? [];\n    instanceMap.set(instanceName, [...idCollection, id]);\n};\n\n/**\n * @param {object} params\n * @param {string} params.instanceName\n * @param {string} params.id\n * @returns {void}\n */\nexport const removeIdFromInstanceMap = ({ instanceName, id }) => {\n    const idCollection = instanceMap.get(instanceName);\n    if (!idCollection) return;\n\n    const idCollectionFiltered = idCollection.filter((item) => item !== id);\n\n    if (idCollectionFiltered.length === 0) {\n        instanceMap.delete(instanceName);\n    }\n\n    if (idCollectionFiltered.length > 0) {\n        instanceMap.set(instanceName, idCollectionFiltered);\n    }\n};\n\n/**\n * @param {object} params\n * @param {string} params.instanceName\n * @returns {string[]}\n */\nexport const getIdsFromInstanceMap = ({ instanceName }) => {\n    return instanceMap.get(instanceName) ?? [];\n};\n", "import { getContentElement } from '../../route/dom-ref/content';\nimport { componentMap } from '../component-map';\nimport { getIdsFromInstanceMap } from '../instance-map';\nimport { getIdFromWeakElementMap } from '../weak-element-map';\n\n/**\n * Get component name By id\n *\n * @param {string} id\n */\nexport const getComponentNameById = (id = '') => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const component = item?.componentName;\n\n    if (!component) {\n        console.warn(`getComponentNameById failed no id found`);\n        return null;\n    }\n\n    return component;\n};\n\n/**\n * Get component name By element\n *\n * @param {HTMLElement | undefined} element\n */\nexport const getComponentNameByElement = (element) => {\n    if (!element) return 'name-not-found';\n\n    const id = getIdFromWeakElementMap({ element }) ?? '';\n    const item = componentMap.get(id);\n    if (!item) return 'name-not-found';\n\n    return item.componentName;\n};\n\n/**\n * Get id by user definition name.\n *\n * @param {string} name\n * @returns {string | undefined}\n */\nexport const getIdByInstanceName = (name = '') => {\n    if (!name) return;\n\n    const idCollection = getIdsFromInstanceMap({ instanceName: name });\n    return idCollection?.[0];\n};\n\n/**\n * Get Array of id by user definition name.\n *\n * @param {string} name\n * @returns {string[]}\n */\nexport const getIdArrayByInstanceName = (name = '') => {\n    if (!name) return [];\n    return getIdsFromInstanceMap({ instanceName: name }) ?? [];\n};\n\n/**\n * Get component name By id\n *\n * @param {string} id\n * @returns {boolean}\n */\nexport const componentHasKey = (id = '') => {\n    if (!id || id === '') return false;\n\n    const item = componentMap.get(id);\n    const key = item?.key;\n\n    if (!key) {\n        return false;\n    }\n\n    return key !== '';\n};\n\n/**\n * Check if component is persistent ( is outside content node element ).\n *\n * @param {string} id\n * @returns {boolean | undefined}\n */\nexport const componentIsPersistent = (id = '') => {\n    if (!id || id === '') return false;\n\n    const item = componentMap.get(id);\n    const element = item?.element;\n    if (!element) return false;\n\n    const contentElement = getContentElement();\n    return !contentElement?.contains(element);\n};\n", "import { componentMap } from '../component-map';\n\n/**\n * @param {Object} param\n * @param {[string, import('../type').ComponentStore][]} param.chunk\n * @returns {import('./type').TreeRecursive[]}\n */\nconst getTreeRecursive = ({ chunk }) => {\n    // @ts-ignore\n    return chunk.reduce((previous, current) => {\n        const [key, value] = current;\n        const { child, componentName, instanceName } = value;\n\n        /**\n         * Create an array of children\n         */\n        const childrenId = new Set(Object.values(child ?? {}).flat());\n\n        /**\n         * Prefer cycle componentMap instead create a copy for performance. Better for memory.\n         */\n        const childrenChunk = [];\n        for (const item of componentMap.entries()) {\n            const [key] = item;\n            if (childrenId.has(key)) childrenChunk.push(item);\n        }\n\n        // const childrenChunk = [...componentMap.entries()].filter(([key]) =>\n        //     childrenId.has(key)\n        // );\n\n        return [\n            ...previous,\n            {\n                id: key,\n                componentName,\n                instanceName,\n                children: getTreeRecursive({\n                    chunk: childrenChunk,\n                }),\n            },\n        ];\n    }, []);\n};\n\n/**\n * @param {Object} param\n * @param {string} param.parentId\n */\nexport const getTree = () => {\n    /**\n     * Get first level component with parentId = ''\n     */\n    const chunk = [...componentMap.entries()].filter(\n        ([, value]) => !value?.parentId || value?.parentId === ''\n    );\n\n    return getTreeRecursive({ chunk });\n};\n", "import { componentMap } from '../component-map';\nimport { getIdArrayByInstanceName, getIdByInstanceName } from './component';\n\n/**\n * Add method to component\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.name\n * @param {(arg0: any) => void} obj.fn\n */\nexport const addMethodById = ({ id, name, fn }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const methods = item?.methods;\n\n    if (!methods) return;\n\n    if (name in methods) {\n        console.warn(`Method ${name}, is already used by ${id}`);\n        return;\n    }\n\n    componentMap.set(id, {\n        ...item,\n        methods: { ...methods, [name]: fn },\n    });\n};\n\n/**\n * Get method by id\n *\n * @template T\n * @param {object} obj\n * @param {string} obj.id\n * @returns {T | {}}\n */\nexport const getMethodsById = ({ id }) => {\n    if (!id || id === '') return {};\n\n    const item = componentMap.get(id);\n    const methods = item?.methods;\n\n    if (!methods) return {};\n\n    if (Object.keys(methods).length === 0) {\n        console.warn(`no methods available for ${id} component`);\n        return {};\n    }\n\n    return methods;\n};\n\n/**\n * Get method by id\n *\n * @template T\n * @param {string} name\n * @returns {import('../../type').UseMethodByName<T> | undefined}\n */\nexport const useMethodByName = (name) => {\n    const id = getIdByInstanceName(name);\n    if (!id || id === '') return;\n\n    const methods = getMethodsById({ id });\n    if (Object.keys(methods).length === 0) {\n        console.warn(`no methods available for ${name} component`);\n        return;\n    }\n\n    return methods;\n};\n\n/**\n * Get array of method by id\n *\n * @template T\n * @param {string} name\n * @returns {import('../../type').UseMethodByName<T>[]}\n */\nexport const useMethodArrayByName = (name) => {\n    const ids = getIdArrayByInstanceName(name);\n\n    return ids\n        .map((id) => getMethodsById({ id }))\n        .filter((method) => {\n            return Object.keys(method).length > 0;\n        });\n};\n", "// https://stackfull.dev/applying-tree-traversal-algorithms-to-dom\n\n/**\n * @function walkPreOrder\n * @param {Element} node\n * @yields {HTMLElement}\n * @generator\n */\n// @ts-ignore\nexport function* walkPreOrder(node) {\n    if (!node) return;\n\n    yield node;\n    for (const child of node.children) {\n        yield* walkPreOrder(child);\n    }\n}\n\n/**\n * FUTURE COMPONENT\n */\n\n/**\n * @param {Element} root\n * @param {boolean} firstOccurrence\n * @returns {import('../web-component/type').UserComponent[]}\n */\nfunction selectAll(root, firstOccurrence) {\n    const result = [];\n    for (const node of walkPreOrder(root)) {\n        /**\n         * Skip after first result. We are looking the first occurrence.\n         */\n        if (result.length > 0 && firstOccurrence) break;\n\n        if (node?.getIsPlaceholder?.()) {\n            result.push(node);\n        }\n    }\n    return result;\n}\n\n/**\n * @param {Element | DocumentFragment} node\n * @param {boolean} firstOccurence\n * @returns {import('../web-component/type').UserComponent[]}\n */\nexport const queryAllFutureComponent = (node, firstOccurence = true) => {\n    /** @type {any[]} */\n    let result = [];\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        result = [...result, ...selectAll(child, firstOccurence)];\n    }\n\n    return result;\n};\n", "// @ts-check\n\n/**\n * @type {Set<import('../../web-component/type').UserComponent>}\n */\nconst userPlaceholder = new Set();\n\n/** @returns {boolean} */\nlet skipAddUserComponent = false;\n\n/**\n * @param {import('../../web-component/type').UserComponent} element\n * @returns {void}\n */\nexport const addUserPlaceholder = (element) => {\n    userPlaceholder.add(element);\n};\n\n/**\n * @param {import('../../web-component/type').UserComponent} element\n * @returns {void}\n */\nexport const removeUserPlaceholder = (element) => {\n    userPlaceholder.delete(element);\n};\n\n/**\n * UseComponent is inserted in orderf if dom insert ( naturally traversal ). Can't return array with all element because\n * when in this map there element that change position. When paren element switch position in parse the new element is\n * different. Get only first real element.\n *\n * Return an array with one element, to maintain compatibility with query solution.\n *\n * @param {Element} element\n * @returns {import('../../web-component/type').UserComponent[]}\n */\nexport const getFirstUserChildPlaceHolder = (element) => {\n    // const userComponent = [...userPlaceholder].find((item) => {\n    //     return element?.contains(item) && item.getIsPlaceholder();\n    // });\n\n    let userComponent;\n\n    for (const item of userPlaceholder) {\n        if (element?.contains(item) && item.getIsPlaceholder()) {\n            userComponent = item;\n            break;\n        }\n    }\n\n    if (!userComponent) return [];\n\n    userPlaceholder.delete(userComponent);\n    return [userComponent];\n};\n\n/**\n * @param {object} params\n * @param {Element} params.element\n * @returns {import('../../web-component/type').UserComponent[]}\n */\nexport const getAllUserChildPlaceholder = ({ element }) => {\n    return (\n        [...userPlaceholder].filter((component) => {\n            return (\n                element.contains(component) &&\n                element !== component &&\n                component.getIsPlaceholder?.()\n            );\n        }) ?? []\n    );\n};\n\n/**\n * @param {object} params\n * @param {Element} params.element\n * @returns {import('../../web-component/type').UserComponent[]}\n */\nexport const getAllUserComponentUseNamedSlot = ({ element }) => {\n    return (\n        [...userPlaceholder].filter((component) => {\n            return (\n                element.contains(component) &&\n                element !== component &&\n                component.getIsPlaceholder?.() &&\n                component?.getSlotPosition?.()\n            );\n        }) ?? []\n    );\n};\n\n/**\n * @returns {number}\n */\nexport const getUserChildPlaceholderSize = () => {\n    return userPlaceholder.size;\n};\n\n/**\n * Redorder placeholder in traversal order. Slot move element, so reorder all map Should be not mandatory, but this smap\n * is a foundamenal step\n *\n * @returns {void}\n */\nexport const sortUserPlaceholder = () => {\n    const orderedSet = [...userPlaceholder].sort((a, b) => {\n        if (a === b || !a || !b) return 0;\n        if (a.compareDocumentPosition(b) & 2) {\n            // b comes before a\n            return 1;\n        }\n        return -1;\n    });\n\n    clearUserPlaceHolder();\n\n    orderedSet.forEach((item) => {\n        userPlaceholder.add(item);\n    });\n};\n\n/**\n * Clean array at the end of app operation. Issue with element that switch position and there no real.\n *\n * @returns {Promise<void>}\n */\nexport const clearUserPlaceHolder = async () => {\n    userPlaceholder.clear();\n};\n\n/**\n * @param {boolean} value\n * @returns {void}\n */\nexport const setSkipAddUserComponent = (value) => {\n    skipAddUserComponent = value;\n};\n\nexport const getSkipAddUserComponent = () => skipAddUserComponent;\n", "/**\n * Support getChildrenIdByName action. Update child obj id, insert new child id in the array of same component family.\n *\n * [componentName] : [string, string, ...]\n *\n * @param {object} obj\n * @param {Record<string, string[]>} obj.currentChild\n * @param {string} obj.id\n * @param {string} obj.componentName\n * @returns {{ string: string[] } | {}}\n */\nexport const updateChildrenArray = ({\n    currentChild,\n    id = '',\n    componentName = '',\n}) => {\n    const childGroupByName = currentChild?.[componentName] ?? [];\n    currentChild[componentName] = [...childGroupByName, id];\n    return currentChild;\n};\n\n/**\n * Support getChildrenIdByName action. Remove child obj id from the array of same component family.\n *\n * @param {object} obj\n * @param {Record<string, string[]>} obj.currentChild\n * @param {string} obj.id\n * @param {string} obj.componentName\n * @returns {{ string: string[] } | {}}\n */\nexport const removeChildFromChildrenArray = ({\n    currentChild,\n    id = '',\n    componentName = '',\n}) => {\n    const childGroupByName = currentChild?.[componentName] ?? [];\n    currentChild[componentName] = childGroupByName.filter(\n        (/** @type {string} */ currentId) => {\n            return id !== currentId;\n        }\n    );\n    return currentChild;\n};\n\n/**\n * @param {object} obj\n * @param {object} obj.props\n * @param {import('../../mob-core/store/type').MobStoreReturnType<any>} obj.store - SimpleStore instance\n * @returns {void}\n */\nexport const addPropsToState = ({ props, store }) => {\n    Object.entries(props).forEach(([key, value]) => {\n        store.set(key, value);\n    });\n};\n", "import { useParentIdQuery } from '../../parse/strategy';\nimport { queryAllFutureComponent } from '../../query/query-all-future-component';\nimport { getAllUserChildPlaceholder } from '../../modules/user-component';\nimport { componentMap } from '../component-map';\nimport { updateChildrenArray } from '../utils';\nimport { getIdFromWeakElementMap } from '../weak-element-map';\n\n/**\n * Get parent id By id\n *\n * @param {string} id\n * @returns {string | undefined}\n */\nexport const getParentIdById = (id = '') => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const parentId = item?.parentId;\n\n    if (!parentId) {\n        // console.warn(`getParentIdById failed no id found`);\n        return;\n    }\n\n    return parentId;\n};\n\n/**\n * Update child id. From current component id get parentID and then add to parent child id\n *\n * @param {object} obj\n * @param {string} obj.id\n */\nexport const addSelfIdToParentComponent = ({ id = '' }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const parentId = item?.parentId;\n\n    const componentName = item?.componentName ?? '';\n    if (!parentId) return;\n\n    const value = componentMap.get(parentId);\n    if (!value) return;\n\n    const { child } = value;\n    if (!child) return;\n\n    componentMap.set(parentId, {\n        ...value,\n        child: {\n            ...child,\n            ...updateChildrenArray({\n                currentChild: child,\n                id,\n                componentName,\n            }),\n        },\n    });\n};\n\n/**\n * Add self id to future component. If id is assigned to component nested in next cycle will be override.\n *\n * @param {object} params\n * @param {HTMLElement | undefined} params.element\n * @param {string} params.id\n * @returns {void}\n */\nexport const addParentIdToFutureComponent = ({ element, id }) => {\n    if (!element) return;\n\n    if (useParentIdQuery) {\n        const children = queryAllFutureComponent(element, false);\n        children.forEach((child) => {\n            child.setParentId(id);\n        });\n\n        return;\n    }\n\n    const childrenComponent = getAllUserChildPlaceholder({ element });\n    childrenComponent.forEach((component) => {\n        component.setParentId(id);\n    });\n};\n\n/**\n * Find first component parent node.\n *\n * @param {object} params\n * @param {HTMLElement | undefined} params.element\n * @returns {string | undefined}\n */\nexport const getParentIdFromWeakElementMap = ({ element }) => {\n    if (!element) return;\n    let parentNode = element.parentNode;\n\n    /**\n     * @type {string | undefined}\n     */\n    let id;\n\n    while (parentNode && !id) {\n        id = getIdFromWeakElementMap({\n            element: /** @type {HTMLElement} */ (parentNode),\n        });\n\n        if (!id) {\n            parentNode = parentNode.parentNode;\n        }\n    }\n\n    return id ?? '';\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @param {string} params.compareValue\n * @returns {boolean}\n */\nexport const compareIdOrParentIdRecursive = ({ id, compareValue }) => {\n    if (id === compareValue) return true;\n\n    const item = componentMap.get(id);\n    if (!item) return false;\n\n    const parentId = item?.parentId ?? '';\n    return compareIdOrParentIdRecursive({ id: parentId, compareValue });\n};\n", "/** @type {import('./type').BindPropsMap} */\nexport const bindPropsMap = new Map();\n\n/** @type{Map<string, string>} */\nexport const bindComponentTobindId = new Map();\n", "import { bindPropsMap } from './bind-props-map';\n\n/**\n * Remove dynamic prop reference by componentId.\n *\n * @param {object} obj\n * @param {string} obj.componentId\n * @returns {void}\n */\nexport const removeCurrentIdToBindProps = ({ componentId }) => {\n    if (!componentId) return;\n\n    for (const [key, value] of bindPropsMap) {\n        const { componentId: currentComponentId } = value;\n        if (currentComponentId === componentId) {\n            bindPropsMap.delete(key);\n        }\n    }\n};\n", "import { componentMap } from '../component-map';\n\n/**\n * Watch state\n *\n * @param {string} id\n * @param {string} prop\n * @param {(arg0: any) => void} cb\n * @param {{ wait?: boolean }} [options]\n * @returns {(( function():void )|undefined)}\n */\nexport const watchById = (\n    id = '',\n    prop = '',\n    cb = () => {},\n    { wait = false } = {}\n) => {\n    if ((!id || id === '') && (!prop || prop === '')) return;\n    const item = componentMap.get(id);\n    const state = item?.state;\n\n    return state?.watch(prop, cb, { wait: wait ?? false });\n};\n", "import { MobCore } from '../../../mob-core';\n\n/**\n * @type {Map<string, object>}\n */\nexport const staticPropsMap = new Map();\n\n/**\n * Store props and return a unique identifier\n *\n * @example\n *     ```javascript\n *       <MyComponent\n *           data-staticprops=\"${staticProps({\n *               childState1: key,\n *               callBack: () => setState('parentState', key),\n *           })}\"\n *       ></MyComponent>\n *     ```;\n *\n * @param {object} [props]\n * @returns {string} Props id in store.\n */\nexport const setStaticProps = (props = {}) => {\n    /**\n     * @type {string}\n     */\n    const id = MobCore.getUnivoqueId();\n    staticPropsMap.set(id, props);\n\n    return id;\n};\n\n/**\n * Return props by id\n *\n * @property {string} id\n * @returns {object}\n */\nexport const getPropsFromParent = (id = '') => {\n    const props = staticPropsMap.get(id);\n    staticPropsMap.delete(id);\n\n    return props ?? {};\n};\n\n/**\n * If slot is not used remove id reference orphans from store.\n *\n * @param {object} obj\n * @param {string} obj.propsId\n * @returns {void}\n */\nexport const removeCurrentToPropsByPropsId = ({ propsId }) => {\n    if (!propsId) return;\n    staticPropsMap.delete(propsId);\n};\n\n/**\n * Delete all refs of props. If slot in unused and a propsFromStore is unused remain in store So when active parser\n * counter is equal 0 ( no parser is running ) remove all reference\n *\n * @returns {void}\n */\nexport const removeOrphansPropsFromParent = () => {\n    staticPropsMap.clear();\n};\n", "import { MobCore, MobDetectBindKey } from '../mob-core';\nimport { ATTR_PROPS } from './constant';\nimport { setStaticProps } from './modules/static-props';\n\n/**\n * Set static props\n *\n * @example\n *     ```javascript\n *     <MyComponent\n *     ${staticProps({\n *     gutter: 1,\n *     ...\n *     })}\n *     ></MyComponent>\n *\n *     ```\n *\n * @param {{ [key: string]: any }} props\n * @returns {string}\n */\nexport const staticProps = (props = {}) => {\n    return `${ATTR_PROPS}=\"${setStaticProps(props)}\"`;\n};\n\n/**\n * @param {number} num\n * @param {number} lower\n * @param {number} upper\n * @returns {number}\n */\nexport const clamp = (num, lower, upper) => {\n    return Math.min(Math.max(num, lower), upper);\n};\n\n/**\n * @param {string | (() => any)} prop\n * @returns {string}\n */\nexport const detectProp = (prop) => {\n    const isString = MobCore.checkType(String, prop);\n    if (isString) return /** @type {string} */ (prop);\n\n    MobDetectBindKey.initializeCurrentDependencies();\n    /** @type {() => any} */ (prop)();\n    return MobDetectBindKey.getFirstCurrentDependencies();\n};\n", "import { MobCore, MobDetectBindKey } from '../../../mob-core';\nimport { watchById } from '../../component/action/watch';\nimport { detectProp } from '../../utils';\n\n/** @type {Map<string, import('./type').BindObject[]>} */\nexport const bindObjectMap = new Map();\n\n/** @type {Map<Element, import('./type').BindObjectPlaceHolder>} */\nexport const bindObjectPlaceHolderMap = new Map();\n\n/**\n * @param {object} params\n * @param {Element} params.host\n * @param {string} params.componentId\n * @param {string} params.bindObjectId\n * @returns {void}\n */\nexport const addBindObjectPlaceHolderMap = ({\n    host,\n    componentId,\n    bindObjectId,\n}) => {\n    bindObjectPlaceHolderMap.set(host, {\n        componentId,\n        bindObjectId,\n    });\n};\n\n/**\n * @param {any} values\n * @returns {string[]}\n */\nexport const getBindObjectKeys = (values) => {\n    return values.map(\n        (\n            /** @type {{ observe?: string | (() => void); value: () => void } | (() => void)} */ item\n        ) => {\n            /**\n             * Get explicit keys or auto ( with proxies ).\n             */\n            return 'observe' in item\n                ? (() => {\n                      return detectProp(\n                          /** @type{string|(() => any)} */ (item.observe)\n                      );\n                  })()\n                : (() => {\n                      MobDetectBindKey.initializeCurrentDependencies();\n                      if ('value' in item) {\n                          item?.value();\n                      } else {\n                          /** @type{() => void} */ (item)();\n                      }\n\n                      return MobDetectBindKey.getFirstCurrentDependencies();\n                  })();\n        }\n    );\n};\n\n/**\n * @param {TemplateStringsArray} strings\n * @param {any[]} values\n * @returns {string}\n */\nexport const renderBindObject = (strings, ...values) => {\n    return strings.raw.reduce((accumulator, currentText, i) => {\n        return values?.[i] && 'value' in values[i]\n            ? accumulator + currentText + (values?.[i]?.value?.() ?? '')\n            : accumulator + currentText + (values?.[i]?.() ?? '');\n    }, '');\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @param {string} params.bindObjectId\n * @param {HTMLElement} params.parentElement\n * @returns {void}\n */\nexport const addBindObjectParent = ({ id, bindObjectId, parentElement }) => {\n    const items = bindObjectMap.get(id);\n\n    const itemsUpdated =\n        items && items.length > 0\n            ? (() => {\n                  /**\n                   * When placeholder change position ( slot/repeater ) Add multiple time. Remove the old and use last\n                   * with last parent element.\n                   */\n                  const itemsFiltered = items.filter(\n                      (item) => item.bindObjectId !== bindObjectId\n                  );\n\n                  return [\n                      ...itemsFiltered,\n                      { parentNode: parentElement, bindObjectId },\n                  ];\n              })()\n            : [{ parentNode: parentElement, bindObjectId }];\n\n    bindObjectMap.set(id, itemsUpdated);\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @param {string} params.bindObjectId\n * @returns {void}\n */\nexport const removeBindObjectByBindObjectId = ({ id, bindObjectId }) => {\n    const items = bindObjectMap.get(id);\n    if (!items) return;\n\n    const itemsUpdated = items.filter(\n        (item) => item.bindObjectId !== bindObjectId\n    );\n    bindObjectMap.set(id, itemsUpdated);\n};\n\n/**\n * At the end of parse delete web component and add data to real map New map has componentId as key, so easy to destroy,\n * one map for every bindText in component. We need end of parse to get real parent element ( slot/repeater/invalidate\n * issue ).\n *\n * @returns {void}\n */\nexport const switchBindObjectMap = () => {\n    [...bindObjectPlaceHolderMap].forEach(\n        ([placeholder, { componentId, bindObjectId }]) => {\n            const parentElement = placeholder.parentElement;\n            if (!parentElement) return;\n\n            addBindObjectParent({\n                id: componentId,\n                bindObjectId,\n                parentElement,\n            });\n\n            // @ts-ignore\n            placeholder?.removeCustomComponent?.();\n            placeholder?.remove();\n        }\n    );\n\n    bindObjectPlaceHolderMap.clear();\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @returns {void}\n */\nexport const removeBindObjectParentById = ({ id }) => {\n    bindObjectMap.delete(id);\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @param {string} params.bindObjectId\n * @returns {HTMLElement | undefined}\n */\nconst getParentBindObject = ({ id, bindObjectId }) => {\n    const item = bindObjectMap.get(id);\n    if (!item) return;\n\n    const current = item.find((item) => {\n        return bindObjectId === item.bindObjectId;\n    });\n\n    return current?.parentNode;\n};\n\n/**\n * @returns {number}\n */\nexport const getBindObjectParentSize = () => {\n    return [...bindObjectMap].reduce(\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        (previous, [_, values]) => previous + values.length,\n        0\n    );\n};\n\n/**\n * @returns {number}\n */\nexport const getBindObjectPlaceholderSize = () => bindObjectPlaceHolderMap.size;\n\n/**\n * @param {string} id\n * @param {string} bindObjectId\n * @param {string[]} keys\n * @param {() => string} render\n * @returns {void}\n */\nexport const createBindObjectWatcher = (id, bindObjectId, keys, render) => {\n    /**\n     * Watch props on change\n     */\n    let watchIsRunning = false;\n\n    /** @type {WeakRef<HTMLElement>} */\n    let ref;\n\n    const unsubScribeFunction = keys.map((state) => {\n        return watchById(id, state, () => {\n            /**\n             * Wait for all all props is settled.\n             */\n            if (watchIsRunning) return;\n            watchIsRunning = true;\n\n            MobCore.useNextLoop(() => {\n                MobCore.useFrame(() => {\n                    if (!ref) {\n                        let refElement = getParentBindObject({\n                            id,\n                            bindObjectId,\n                        });\n\n                        /**\n                         * Skip if refElement is undefined. refElement is settled to null to remove any reference.\n                         */\n                        if (refElement) {\n                            ref = new WeakRef(refElement);\n                            removeBindObjectByBindObjectId({\n                                id,\n                                bindObjectId,\n                            });\n                            // @ts-ignore\n                            refElement = null;\n                        }\n                    }\n\n                    if (ref && ref?.deref()) {\n                        // @ts-ignore\n                        ref.deref().textContent = '';\n                        // @ts-ignore\n                        ref.deref().insertAdjacentHTML('afterbegin', render());\n                    }\n\n                    watchIsRunning = false;\n\n                    MobCore.useNextTick(async () => {\n                        if (!ref || !ref?.deref()) {\n                            unsubScribeFunction.forEach((fn) => {\n                                if (fn) fn();\n                            });\n\n                            unsubScribeFunction.length = 0;\n                        }\n                    });\n                });\n            });\n        });\n    });\n};\n", "import { componentMap } from '../../component-map';\n\n/**\n * Get state\n *\n * @param {string} id\n * @returns Object\n */\n\nexport const getStateById = (id = '') => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const state = item?.state;\n    return state?.get();\n};\n", "//@ts-check\n\nimport { MobCore } from '../../../mob-core';\nimport { getStateById } from '../../component/action/state/get-state-by-id';\nimport { watchById } from '../../component/action/watch';\n\n/** @type {Map<string, import('./type').BindText[]>} */\nexport const bindTextMap = new Map();\n\n/** @type {Map<Element, import('./type').BindTextPlaceHolder>} */\nexport const bindTextPlaceHolderMap = new Map();\n\n/**\n * @param {object} params\n * @param {Element} params.host\n * @param {string} params.componentId\n * @param {string} params.bindTextId\n * @returns {void}\n */\nexport const addBindTextPlaceHolderMap = ({\n    host,\n    componentId,\n    bindTextId,\n}) => {\n    bindTextPlaceHolderMap.set(host, {\n        componentId,\n        bindTextId,\n    });\n};\n\n/**\n * Check if there is square brackets in a string with value eg. [0]\n *\n * @param {string} value\n * @returns {RegExpMatchArray | null}\n */\nconst arrayValuesFromProp = (value) => value.match(/(?<=\\[).+?(?=])/g);\n\n/**\n * Split string until first square [ and return strign before [\n *\n * @param {string} value\n * @returns {string}\n */\nconst splitPropUntilSquare = (value) => value.split('[')?.[0];\n\n/**\n * @param {object} params\n * @param {{ [x: string]: any }} params.previous\n * @param {string} params.current\n * @returns {any[]}\n */\nconst parsePropValue = ({ previous, current }) => {\n    const arrayValues = arrayValuesFromProp(current);\n    const isArray = arrayValues && arrayValues?.length > 0;\n\n    return isArray\n        ? arrayValues.reduce(\n              (accumulator, currentProp) => accumulator?.[currentProp],\n              previous[splitPropUntilSquare(current)]\n          )\n        : previous?.[current];\n};\n\n/**\n * @param {string} id - ComponentId\n * @param {TemplateStringsArray} strings\n * @param {any[]} values\n * @returns {string}\n */\nexport const renderBindText = (id, strings, ...values) => {\n    const props = getStateById(id);\n\n    const states = values.map((prop) => {\n        /**\n         * Get value if prop is: bindText`${'obj.prop1.prop2'}`\n         */\n        const propsToArray = prop.split('.');\n        return propsToArray.reduce(\n            (\n                /** @type {{ [x: string]: any }} */ previous,\n                /** @type {string} */ current\n            ) => {\n                /**\n                 * Return prop value or array value\n                 */\n                const finalPropValue = parsePropValue({ previous, current });\n                return finalPropValue ?? previous;\n            },\n            props\n        );\n    });\n\n    return strings.raw.reduce(\n        (accumulator, currentText, i) =>\n            accumulator + currentText + (states?.[i] ?? ''),\n        ''\n    );\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @param {string} params.bindTextId\n * @param {HTMLElement} params.parentElement\n * @returns {void}\n */\nexport const addBindTextParent = ({ id, bindTextId, parentElement }) => {\n    const items = bindTextMap.get(id);\n\n    const itemsUpdated =\n        items && items.length > 0\n            ? (() => {\n                  /**\n                   * When placeholder change position ( slot/repeater ) Add multiple time. Remove the old and use last\n                   * with last parent element.\n                   */\n                  const itemsFiltered = items.filter(\n                      (item) => item.bindTextId !== bindTextId\n                  );\n\n                  return [\n                      ...itemsFiltered,\n                      { parentNode: parentElement, bindTextId },\n                  ];\n              })()\n            : [{ parentNode: parentElement, bindTextId }];\n\n    bindTextMap.set(id, itemsUpdated);\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @param {string} params.bindTextId\n * @returns {void}\n */\nexport const removeBindTextByBindTextId = ({ id, bindTextId }) => {\n    const items = bindTextMap.get(id);\n    if (!items) return;\n\n    const itemsUpdated = items.filter((item) => item.bindTextId !== bindTextId);\n    bindTextMap.set(id, itemsUpdated);\n};\n\n/**\n * At the end of parse delete web component and add data to real map New map has componentId as key, so easy to destroy,\n * one map for every bindText in component. We need end of parse to get real parent element ( slot/repeater/invalidate\n * issue ).\n *\n * @returns {void}\n */\nexport const switchBindTextMap = () => {\n    [...bindTextPlaceHolderMap].forEach(\n        ([placeholder, { componentId, bindTextId }]) => {\n            const parentElement = placeholder.parentElement;\n            if (!parentElement) return;\n\n            addBindTextParent({\n                id: componentId,\n                bindTextId,\n                parentElement,\n            });\n\n            // @ts-ignore\n            placeholder?.removeCustomComponent?.();\n            placeholder?.remove();\n        }\n    );\n\n    bindTextPlaceHolderMap.clear();\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @returns {void}\n */\nexport const removeBindTextParentById = ({ id }) => {\n    bindTextMap.delete(id);\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @param {string} params.bindTextId\n * @returns {HTMLElement | undefined}\n */\nconst getParentBindText = ({ id, bindTextId }) => {\n    const item = bindTextMap.get(id);\n    if (!item) return;\n\n    const current = item.find((item) => {\n        return bindTextId === item.bindTextId;\n    });\n\n    return current?.parentNode;\n};\n\n/**\n * @returns {number}\n */\nexport const getBindTextParentSize = () => {\n    return [...bindTextMap].reduce(\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        (previous, [_, values]) => previous + values.length,\n        0\n    );\n};\n\n/**\n * @returns {number}\n */\nexport const getBindTextPlaceholderSize = () => bindTextPlaceHolderMap.size;\n\n/**\n * @param {string} id\n * @param {string} bindTextId\n * @param {string[]} props\n * @param {() => string} render\n * @returns {void}\n */\nexport const createBindTextWatcher = (id, bindTextId, render, ...props) => {\n    /**\n     * Watch props on change\n     */\n    let watchIsRunning = false;\n\n    /** @type {WeakRef<HTMLElement>} */\n    let ref;\n\n    const unsubScribeFunction = props.map((state) => {\n        /**\n         * Get state to watch if prop is: bindText`${'myProps.prop1.prop2'}` Get first prop\n         */\n        const propsToArray = state.split('.');\n        const stateToWatch = propsToArray?.[0];\n\n        // props is link myProps[0]\n        const arrayValues = arrayValuesFromProp(stateToWatch);\n\n        // prop is array\n        const isArray = arrayValues && arrayValues?.length > 0;\n\n        // in case of myProps[0] watch only myprops\n        const finalStateTowatch = isArray\n            ? splitPropUntilSquare(stateToWatch)\n            : stateToWatch;\n\n        if (!finalStateTowatch) return;\n\n        return watchById(id, finalStateTowatch, () => {\n            /**\n             * Wait for all all props is settled.\n             */\n            if (watchIsRunning) return;\n            watchIsRunning = true;\n\n            MobCore.useNextLoop(() => {\n                MobCore.useFrame(() => {\n                    if (!ref) {\n                        let refElement = getParentBindText({\n                            id,\n                            bindTextId,\n                        });\n\n                        /**\n                         * Skip if refElement is undefined. refElement is settled to null to remove any reference.\n                         */\n                        if (refElement) {\n                            ref = new WeakRef(refElement);\n                            removeBindTextByBindTextId({ id, bindTextId });\n                            // @ts-ignore\n                            refElement = null;\n                        }\n                    }\n\n                    if (ref && ref?.deref()) {\n                        // @ts-ignore\n                        ref.deref().textContent = '';\n                        // @ts-ignore\n                        ref.deref().insertAdjacentHTML('afterbegin', render());\n                    }\n\n                    watchIsRunning = false;\n\n                    MobCore.useNextTick(async () => {\n                        if (!ref || !ref?.deref()) {\n                            unsubScribeFunction.forEach((fn) => {\n                                if (fn) fn();\n                            });\n\n                            unsubScribeFunction.length = 0;\n                        }\n                    });\n                });\n            });\n        });\n    });\n};\n", "/**\n * Store initialize invalidate function map. Key is componentId\n *\n * Invalidate as a different unsubscribe type respect repeat.\n *\n * Since the observe property receives an array of states and not just one, it needs an array of unsubscribes.\n *\n * @type {import('./type').InvalidateFunctionMap}\n */\n\nexport const invalidateFunctionMap = new Map();\n", "/**\n * Store parent invalidate by a webcomponent utils Key is invalidate id ScopeId is the component id that contains\n * invalidate when is initialized ( for nested invalidate performance check on destroy )\n *\n * @type {import('./type').InvalidateIdPlaceHolderMap}\n */\n\nexport const invalidateIdPlaceHolderMap = new Map();\n", "// @ts-check\n\nimport { invalidateFunctionMap } from '../invalidate-function-map';\nimport { invalidateIdPlaceHolderMap } from '../invalidate-id-placeholder-map';\n\n/**\n * Clean the two utils map on component destroy. Remove by componentId.\n *\n * @param {object} params\n * @param {string} params.id - Component id\n * @returns {void}\n */\n\nexport const removeInvalidateId = ({ id }) => {\n    if (invalidateFunctionMap.has(id)) {\n        const value = invalidateFunctionMap.get(id);\n\n        if (!value) return;\n\n        /**\n         * Remove reference to parent Id taken from invalidate web component.\n         */\n        value.forEach(({ invalidateId }) => {\n            if (invalidateIdPlaceHolderMap.has(invalidateId)) {\n                invalidateIdPlaceHolderMap.delete(invalidateId);\n            }\n        });\n\n        /**\n         * Delete all\n         */\n        invalidateFunctionMap.delete(id);\n    }\n};\n", "/**\n * Store initialize function map. Key is componentId\n *\n * @type {import('./type').RepeatFunctionMap}\n */\n\nexport const repeatFunctionMap = new Map();\n", "// @ts-check\n\nimport { repeatFunctionMap } from '../repeat-function-map';\nimport { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * Clean the two utils map on component destroy. Remove by componentId.\n *\n * @param {object} params\n * @param {string} params.id - Component id\n * @returns {void}\n */\n\nexport const removeRepeaterId = ({ id }) => {\n    if (repeatFunctionMap.has(id)) {\n        const value = repeatFunctionMap.get(id);\n        if (!value) return;\n\n        /**\n         * Remove reference to parent Id taken from repeat web component.\n         */\n        value.forEach(({ repeatId }) => {\n            if (repeatIdPlaceHolderMap.has(repeatId)) {\n                repeatIdPlaceHolderMap.delete(repeatId);\n            }\n        });\n\n        /**\n         * Delete all\n         */\n        repeatFunctionMap.delete(id);\n    }\n};\n", "import { componentMap } from '../../component-map';\nimport { removeChildFromChildrenArray } from '../../utils';\n\n/**\n * @param {Object} param\n * @param {string | undefined} param.id\n * @param {string | undefined} param.parentId\n * @param {string} param.componentName\n */\nexport const removeItselfFromParent = ({ id, parentId, componentName }) => {\n    if (!id) return;\n\n    const value = componentMap.get(parentId ?? '');\n    if (!value) return;\n\n    const { child } = value;\n    if (!parentId || !child) return;\n\n    componentMap.set(parentId, {\n        ...value,\n\n        child: {\n            ...child,\n            ...removeChildFromChildrenArray({\n                currentChild: child,\n                id,\n                componentName,\n            }),\n        },\n    });\n};\n", "/**\n * @type {Set<string>}\n */\nexport const nonPersisitentComponentSet = new Set();\n", "import { nonPersisitentComponentSet } from '../../../non-persisitent-set';\n\n/**\n * @param {string} id\n * @returns {void}\n */\nexport const removeNonPersisitentComponent = (id) => {\n    nonPersisitentComponentSet.delete(id);\n};\n", "import { removeCurrentIdToBindProps } from '../../../modules/bind-props/remove-current-id-to-bind-props';\nimport { removeBindObjectParentById } from '../../../modules/bind-object';\nimport { removeBindTextParentById } from '../../../modules/bind-text';\nimport { removeInvalidateId } from '../../../modules/invalidate/action/remove-invalidate-id';\nimport { removeRepeaterId } from '../../../modules/repeater/action/remove-repeater-id';\nimport { componentMap } from '../../component-map';\nimport { removeItselfFromParent } from './remove-itself-from-parent';\nimport { removeRepeaterComponentChildren } from '../../../modules/repeater/action/set-repeat-component-children';\nimport { removeIdFromInstanceMap } from '../../instance-map';\nimport { removeNonPersisitentComponent } from './cancellable-component/remove-persisitent-component';\n\n/**\n * Remove component to store and destroy it.\n *\n * @param {object} obj\n * @param {string} obj.id\n * @returns {void}\n */\nexport const removeAndDestroyById = ({ id = '' }) => {\n    if (!id || id === '') return;\n\n    const instanceValue = componentMap.get(id);\n    if (!instanceValue) return;\n\n    const {\n        parentId,\n        componentName,\n        child,\n        element,\n        state,\n        destroy,\n        parentPropsWatcher,\n        componentRepeatId,\n        instanceName,\n        persistent,\n    } = instanceValue;\n\n    /**\n     * Destroy children.\n     */\n    Object.values(child ?? {})\n        .flat()\n        .forEach((childId) => {\n            removeAndDestroyById({ id: childId });\n        });\n\n    /**\n     * Remove itself from parent.\n     */\n    removeItselfFromParent({ id, parentId, componentName });\n\n    /**\n     * Destroy\n     */\n    destroy?.();\n    state.destroy();\n\n    /**\n     * Unsubscribe component binding.\n     */\n    if (parentPropsWatcher) parentPropsWatcher.forEach((unwatch) => unwatch());\n\n    /**\n     * Clean all invalidate reference\n     */\n    removeInvalidateId({ id });\n    removeRepeaterId({ id });\n    removeBindTextParentById({ id });\n    removeBindObjectParentById({ id });\n\n    /**\n     * Remove id component from repeaterPlaceholderMap.\n     */\n    if (componentRepeatId && componentRepeatId.length > 0) {\n        removeRepeaterComponentChildren({\n            componentId: id,\n            repeatId: componentRepeatId,\n        });\n    }\n\n    /**\n     * Remove id component from instanceMap.\n     */\n    if (instanceName && instanceName.length > 0) {\n        removeIdFromInstanceMap({ instanceName, id });\n    }\n\n    /**\n     * Remove id from nonPersisitentComponentSet\n     */\n    if (!persistent) {\n        removeNonPersisitentComponent(id);\n    }\n\n    /**\n     * Secure check: remove orphas reference from mainStore\n     */\n    removeCurrentIdToBindProps({ componentId: id });\n\n    /**\n     * Remove component from dom\n     */\n    // @ts-ignore\n    element?.removeCustomComponent?.();\n    element?.remove();\n\n    /**\n     * Detach component. Remove inner reference ( esplicit mark for CG ). Detach component from map.\n     */\n\n    // @ts-ignore\n    instanceValue.methods = null;\n\n    // @ts-ignore\n    instanceValue.refs = null;\n\n    // @ts-ignore\n    instanceValue.repeaterInnerWrap = null;\n\n    // @ts-ignore\n    instanceValue.element = null;\n\n    // @ts-ignore\n    instanceValue.currentRepeaterState = null;\n\n    // @ts-ignore\n    instanceValue.state = null;\n\n    componentMap.delete(id);\n};\n", "import { getIdByInstanceName } from '../component';\nimport { getStateById } from './get-state-by-id';\n\n/**\n * Get state by name\n *\n * @param {string} name\n * @returns Object\n */\n\nexport const getStateByName = (name = '') => {\n    const id = getIdByInstanceName(name);\n    if (!id) console.warn(`component ${name}, not found`);\n\n    return getStateById(id);\n};\n", "import { componentMap } from '../component-map.js';\n\n/**\n * Update element root from generic to real after conversion.\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.prop\n * @returns {void}\n */\nexport const freezePropById = ({ id = '', prop }) => {\n    if (!id || id === '') return;\n\n    // - new\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    const { freezedPros } = item;\n    if (!freezedPros) return;\n\n    componentMap.set(id, {\n        ...item,\n        freezedPros: [...new Set([...freezedPros, prop])],\n    });\n};\n\n/**\n * Update element root from generic to real after conversion.\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.prop\n * @returns {void}\n */\nexport const unFreezePropById = ({ id = '', prop }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    const { freezedPros } = item;\n    if (!freezedPros) return;\n\n    componentMap.set(id, {\n        ...item,\n        freezedPros: freezedPros.filter((currentProp) => currentProp !== prop),\n    });\n};\n\n/**\n * Update element root from generic to real after conversion.\n *\n * @param {Object} obj\n * @param {string} obj.id\n * @param {string} obj.prop\n * @returns {boolean}\n */\nexport const getFreezePropStatus = ({ id = '', prop }) => {\n    if (!id || id === '') return false;\n\n    const item = componentMap.get(id);\n    const freezedPros = item?.freezedPros;\n    if (!freezedPros) return false;\n\n    return freezedPros.includes(prop);\n};\n", "// @ts-check\n\nimport { repeatIdHostMap } from '../repeat-id-host-map';\nimport { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * Store parent repeat block from repeat webComponent.\n *\n * @param {object} params\n * @param {string} params.repeatId - Repeat id\n * @param {HTMLElement} params.host - WebComponent root\n */\n\nexport const setParentRepeater = ({ repeatId, host }) => {\n    const item = repeatIdPlaceHolderMap.get(repeatId);\n    if (!item) return;\n\n    const parent = /** @type {HTMLElement} */ (host.parentNode);\n\n    /**\n     * Add all DOM of repeater if no sync() utils is used\n     */\n    item.initialRenderWithoutSync.forEach((element) => {\n        parent.append(element);\n    });\n\n    repeatIdPlaceHolderMap.set(repeatId, {\n        ...item,\n        element: parent,\n        initialRenderWithoutSync: [],\n    });\n\n    repeatIdHostMap.set(repeatId, host);\n};\n", "import { setParentRepeater } from '../modules/repeater/action/set-parent-repeater';\nimport { ATTR_MOBJS_REPEAT } from '../constant';\nimport { getSkipAddUserComponent } from '../modules/user-component';\n\nexport const defineRepeatComponent = () => {\n    customElements.define(\n        'mobjs-repeat',\n        class extends HTMLElement {\n            constructor() {\n                super();\n                this.attachShadow({ mode: 'open' });\n            }\n\n            connectedCallback() {\n                const skip = getSkipAddUserComponent();\n                if (skip) return;\n\n                // @ts-ignore\n                const { dataset } = this.shadowRoot?.host ?? {};\n\n                if (dataset) {\n                    const host = /** @type {HTMLElement} */ (\n                        this.shadowRoot?.host\n                    );\n                    const repeatId =\n                        host?.getAttribute(ATTR_MOBJS_REPEAT) ?? '';\n                    setParentRepeater({ repeatId, host });\n                }\n            }\n\n            removeCustomComponent() {\n                if (!this.shadowRoot) return;\n\n                // eslint-disable-next-line unicorn/prefer-dom-node-remove\n                this.parentElement?.removeChild(this);\n            }\n        }\n    );\n};\n", "/**\n * Store host of webComponent Key is invalidateId\n *\n * @type {import('./type').InvalidateIdHostMap}\n */\n\nexport const invalidateIdHostMap = new Map();\n", "// @ts-check\n\nimport { invalidateIdHostMap } from '../invalidate-id-host-map';\nimport { invalidateIdPlaceHolderMap } from '../invalidate-id-placeholder-map';\n\n/**\n * Store parent invalidate block from repeat webComponent.\n *\n * @param {object} params\n * @param {string} params.invalidateId - InvalidateId id\n * @param {HTMLElement} params.host - WebComponent root\n */\n\nexport const setParentInvalidate = ({ invalidateId, host }) => {\n    const item = invalidateIdPlaceHolderMap.get(invalidateId);\n    if (!item) return;\n\n    const parent = /** @type {HTMLElement} */ (host.parentNode);\n    invalidateIdPlaceHolderMap.set(invalidateId, {\n        ...item,\n        element: parent,\n    });\n    invalidateIdHostMap.set(invalidateId, host);\n};\n", "import { setParentInvalidate } from '../modules/invalidate/action/set-parent-invalidate';\nimport { ATTR_INVALIDATE } from '../constant';\n\nexport const defineInvalidateComponent = () => {\n    customElements.define(\n        'mobjs-invalidate',\n        class extends HTMLElement {\n            constructor() {\n                super();\n                this.attachShadow({ mode: 'open' });\n            }\n\n            connectedCallback() {\n                // @ts-ignore\n                const { dataset } = this.shadowRoot?.host ?? {};\n\n                if (dataset) {\n                    const host = /** @type {HTMLElement} */ (\n                        this.shadowRoot?.host\n                    );\n                    const invalidateId =\n                        host.getAttribute(ATTR_INVALIDATE) ?? '';\n                    setParentInvalidate({ invalidateId, host });\n                }\n            }\n\n            removeCustomComponent() {\n                if (!this.shadowRoot) return;\n\n                // eslint-disable-next-line unicorn/prefer-dom-node-remove\n                this.parentElement?.removeChild(this);\n            }\n        }\n    );\n};\n", "// @ts-check\n\n/**\n * @type {Set<import('../../web-component/type').SlotComponent>}\n */\nexport const slotPlaceholder = new Set();\n\n/**\n * @param {import('../../web-component/type').SlotComponent} slot\n * @returns {void}\n */\nexport const addSlotPlaceholder = (slot) => {\n    slotPlaceholder.add(slot);\n};\n\n/**\n * Clean array after convertToRealElement\n *\n * @returns {void}\n */\nexport const clearSlotPlaceHolder = () => {\n    slotPlaceholder.clear();\n};\n\n/**\n * @param {object} params\n * @param {HTMLElement | import('../../web-component/type').UserComponent} params.element\n * @returns {import('../../web-component/type').SlotComponent | undefined}\n */\nexport const getUnamedPlaceholderSlot = ({ element }) => {\n    return [...slotPlaceholder].find((slot) => {\n        const hasSlot = !slot?.getSlotName?.() && element.contains(slot);\n        if (hasSlot) slotPlaceholder.delete(slot);\n\n        return hasSlot;\n    });\n};\n\n/**\n * @param {object} params\n * @param {string} params.name\n * @param {HTMLElement | import('../../web-component/type').UserComponent} params.element\n * @returns {import('../../web-component/type').SlotComponent | undefined}\n */\nexport const getSlotByName = ({ name, element }) => {\n    return [...slotPlaceholder].find((slot) => {\n        const hasSlot =\n            slot?.getSlotName?.() === name && element.contains(slot);\n        if (hasSlot) slotPlaceholder.delete(slot);\n\n        return hasSlot;\n    });\n};\n\n/**\n * @returns {import('../../web-component/type').SlotComponent[]}\n */\nexport const getAllSlot = () => {\n    return [...slotPlaceholder];\n};\n\n/**\n * @returns {number}\n */\nexport const getSlotPlaceholderSize = () => {\n    return slotPlaceholder.size;\n};\n", "import { ATTR_COMPONENT_NAME } from '../constant';\nimport { useSlotQuery } from '../parse/strategy';\nimport { addSlotPlaceholder } from '../modules/slot';\n\nexport const defineSlotComponent = () => {\n    customElements.define(\n        'mobjs-slot',\n        class extends HTMLElement {\n            /**\n             * @type {string | undefined | null}\n             */\n            #slotName;\n\n            constructor() {\n                super();\n                this.attachShadow({ mode: 'open' });\n                this.#slotName = '';\n                this.isSlot = true;\n\n                // @ts-ignore\n                const { dataset } = this.shadowRoot?.host ?? {};\n\n                if (dataset) {\n                    this.#slotName =\n                        this.shadowRoot?.host.getAttribute(ATTR_COMPONENT_NAME);\n                }\n            }\n\n            connectedCallback() {\n                const host = this.shadowRoot?.host;\n                if (!host) return;\n\n                // @ts-ignore\n                if (!useSlotQuery) addSlotPlaceholder(host);\n            }\n\n            removeCustomComponent() {\n                if (!this.shadowRoot) return;\n\n                // eslint-disable-next-line unicorn/prefer-dom-node-remove\n                this.parentElement?.removeChild(this);\n            }\n\n            getSlotName() {\n                return this.#slotName;\n            }\n        }\n    );\n};\n", "/**\n * @type {Set<import('../web-component/type').UserComponent>}\n */\nconst inMemoryElementSet = new Set();\n\n/**\n * @param {import('../web-component/type').UserComponent} element\n */\nexport const addElementToInMemorySet = (element) => {\n    inMemoryElementSet.add(element);\n};\n\n/**\n * @returns {import('../web-component/type').UserComponent[]}\n */\nexport const getInMemorySet = () => {\n    return [...inMemoryElementSet];\n};\n\n/**\n * @param {import('../web-component/type').UserComponent} element\n */\nexport const cleanInMemorySet = (element) => inMemoryElementSet.delete(element);\n", "import { MobCore } from '../../mob-core';\nimport {\n    ATTR_BIND_EVENTS,\n    ATTR_BIND_REFS_ID,\n    ATTR_BIND_REFS_NAME,\n    ATTR_CHILD_REPEATID,\n    ATTR_CURRENT_LIST_VALUE,\n    ATTR_BIND_PROPS,\n    ATTR_INSTANCENAME,\n    ATTR_KEY,\n    ATTR_PARENT_ID,\n    ATTR_PROPS,\n    ATTR_REPEATER_PROP_BIND,\n    ATTR_SLOT,\n    ATTR_WEAK_BIND_EVENTS,\n} from '../constant';\nimport { useQuery, useRepeatWithoutSyncQuery } from '../parse/strategy';\nimport {\n    addUserPlaceholder,\n    getSkipAddUserComponent,\n    removeUserPlaceholder,\n} from '../modules/user-component';\nimport {\n    addElementToInMemorySet,\n    cleanInMemorySet,\n} from '../component/in-memory-element-set';\n\n/**\n * @param {{ [key: string]: import('../main-store/type').ComponentListMap }} componentList\n */\nexport const defineUserComponent = (componentList) => {\n    Object.entries(componentList).forEach(([key, value]) => {\n        const {\n            connectedCallback: _connectedCallBack,\n            disconnectedCallback: _disconnectedCallback,\n            adoptedCallback: _adoptedCallback,\n            attributeChangedCallback: _attributeChangedCallback,\n            style,\n            attributeToObserve,\n        } = value.componentParams;\n\n        customElements.define(\n            key,\n            class extends HTMLElement {\n                /**\n                 * @type {string}\n                 */\n                #componentname;\n\n                /**\n                 * @type {string}\n                 */\n                #componentId;\n\n                /**\n                 * @type {import('../type').ComponentPropsType<\n                 *     import('../type').MobComponentMap,\n                 *     import('../type').MobComponentMap\n                 * >}\n                 */\n                #params;\n\n                /**\n                 * @type {boolean}\n                 */\n                #isPlaceholder;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #name;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #staticPropsId;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #dynamicPropsId;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #bindEventsId;\n\n                /**\n                 * @type {string}\n                 */\n                #dynamicPropsFromSlotId;\n\n                /**\n                 * @type {string}\n                 */\n                #propsFromSlotId;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #currentRepeatValueId;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #slotPosition;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #currentKey;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #parentId;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #componentRepeatId;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #delegateEventId;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #repeatPropBind;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #bindRefId;\n\n                /**\n                 * @type {string | undefined | null}\n                 */\n                #bindRefName;\n\n                static get observedAttributes() {\n                    return attributeToObserve;\n                }\n\n                constructor() {\n                    super();\n\n                    this.attachShadow({ mode: 'open' });\n                    this.active = false;\n                    this.#componentId = MobCore.getUnivoqueId();\n                    // @ts-ignore\n                    this.#params = {};\n                    this.#componentname = key;\n\n                    // Default symbols without attribute\n                    this.#isPlaceholder = true;\n                    this.isUserComponent = true;\n                    this.#dynamicPropsFromSlotId = '';\n                    this.#propsFromSlotId = '';\n\n                    /** Host exist */\n                    const host = this.shadowRoot?.host;\n                    if (!host) return;\n\n                    /**\n                     * When fragment to repeater item is created to add attribute skip\n                     */\n                    const skip = getSkipAddUserComponent();\n\n                    if (skip && !useRepeatWithoutSyncQuery) {\n                        addElementToInMemorySet(\n                            /** @type {import('./type').UserComponent} */ (host)\n                        );\n                    }\n\n                    if (skip) {\n                        return;\n                    }\n\n                    /**\n                     * Placeholder element that will move to slot. Add visibility hidden to avoid visiual jump before\n                     * and after the sobstituition.\n                     */\n                    if (this.#slotPosition && !this.active) {\n                        this.style.visibility = 'hidden';\n                    }\n\n                    /** Check for shadow root */\n                    if (!this.shadowRoot) return;\n\n                    /** Append customs style */\n                    if (style) {\n                        const styleTag = document.createElement('style');\n                        styleTag.textContent = style;\n                        this.shadowRoot.append(styleTag);\n                    }\n\n                    /** Slot content is accessible by external javascript. */\n                    const slot = document.createElement('slot');\n                    this.shadowRoot.append(slot);\n                }\n\n                getComponentName() {\n                    return this.#componentname;\n                }\n\n                /**\n                 * @param {string} value\n                 */\n                setId(value) {\n                    this.#componentId = value;\n                }\n\n                getId() {\n                    return this.#componentId;\n                }\n\n                getParentId() {\n                    return this.#parentId;\n                }\n\n                /**\n                 * @param {string} id\n                 */\n                setParentId(id) {\n                    this.#parentId = id;\n                }\n\n                getIsPlaceholder() {\n                    return this.#isPlaceholder;\n                }\n\n                getInstanceName() {\n                    return this.#name;\n                }\n\n                getStaticPropsId() {\n                    return this.#staticPropsId;\n                }\n\n                getDynamicPropsid() {\n                    return this.#dynamicPropsId;\n                }\n\n                getBindEventsId() {\n                    return this.#bindEventsId;\n                }\n\n                getCurrentKey() {\n                    return this.#currentKey;\n                }\n\n                /**\n                 * @param {string} value\n                 */\n                setDynamicPropsFromSlotId(value) {\n                    this.#dynamicPropsFromSlotId = value;\n                }\n\n                getDynamicPropsFromSlotId() {\n                    return this.#dynamicPropsFromSlotId;\n                }\n\n                /**\n                 * @param {string} value\n                 */\n                setPropsFromSlotId(value) {\n                    this.#propsFromSlotId = value;\n                }\n\n                getPropsFromSlotId() {\n                    return this.#propsFromSlotId;\n                }\n\n                /**\n                 * @param {any} value\n                 */\n                setRepeatValue(value) {\n                    this.#currentRepeatValueId = value;\n                }\n\n                getRepeatValue() {\n                    return this.#currentRepeatValueId;\n                }\n\n                getSlotPosition() {\n                    return this.#slotPosition;\n                }\n\n                getDelegateEventId() {\n                    return this.#delegateEventId;\n                }\n\n                getRepeaterPropBind() {\n                    return this.#repeatPropBind ?? undefined;\n                }\n\n                /**\n                 * @param {string} value\n                 */\n                setRepeaterPropBind(value) {\n                    this.#repeatPropBind = value;\n                }\n\n                getComponentRepeatId() {\n                    return this.#componentRepeatId;\n                }\n\n                getBindRefId() {\n                    return this.#bindRefId;\n                }\n\n                getBindRefName() {\n                    return this.#bindRefName;\n                }\n\n                resetParams() {\n                    this.active = false;\n                    this.#componentId = '';\n                    // @ts-ignore\n                    this.#params = {};\n                }\n\n                /**\n                 * Disable placeholder state before add to DOM\n                 *\n                 * @returns Void\n                 */\n                disablePlaceHolderState() {\n                    this.#isPlaceholder = false;\n                }\n\n                /**\n                 * Add params after web component ( not placeholder ) is added to DOM.\n                 *\n                 * @param {import('../type').ComponentPropsType<\n                 *     import('../type').MobComponentMap,\n                 *     import('../type').MobComponentMap\n                 * >} data\n                 */\n                inizializeCustomComponent(data) {\n                    if (this.active) return;\n\n                    this.active = true;\n                    this.#componentId = data.id;\n                    this.#params = data;\n                    this.#isPlaceholder = false;\n\n                    // First connected callback when web-compoennt is initialzied\n                    _connectedCallBack?.({\n                        context: this,\n                        params: this.#params,\n                    });\n                }\n\n                connectedCallback() {\n                    /**\n                     * When fragment to repeater item is created to add attribute skip\n                     */\n                    const skip = getSkipAddUserComponent();\n                    if (skip) return;\n\n                    if (this.#isPlaceholder) {\n                        const host = this.shadowRoot?.host;\n\n                        if (host) {\n                            /** Get all attribute */\n                            [\n                                this.#name,\n                                this.#staticPropsId,\n                                this.#dynamicPropsId,\n                                this.#currentKey,\n                                this.#bindEventsId,\n                                this.#currentRepeatValueId,\n                                this.#slotPosition,\n                                this.#parentId,\n                                this.#componentRepeatId,\n                                this.#delegateEventId,\n                                this.#repeatPropBind,\n                                this.#bindRefId,\n                                this.#bindRefName,\n                            ] = [\n                                ATTR_INSTANCENAME,\n                                ATTR_PROPS,\n                                ATTR_BIND_PROPS,\n                                ATTR_KEY,\n                                ATTR_BIND_EVENTS,\n                                ATTR_CURRENT_LIST_VALUE,\n                                ATTR_SLOT,\n                                ATTR_PARENT_ID,\n                                ATTR_CHILD_REPEATID,\n                                ATTR_WEAK_BIND_EVENTS,\n                                ATTR_REPEATER_PROP_BIND,\n                                ATTR_BIND_REFS_ID,\n                                ATTR_BIND_REFS_NAME,\n                            ].map(\n                                (attribute) =>\n                                    host.getAttribute(attribute) ?? ''\n                            );\n                        }\n\n                        // @ts-ignore\n                        if (!useQuery) addUserPlaceholder(host);\n                        return;\n                    }\n                }\n\n                disconnectedCallback() {\n                    if (!this.shadowRoot) return;\n                    const host = this.shadowRoot?.host;\n\n                    if (!useQuery) {\n                        removeUserPlaceholder(\n                            /** @type {import('./type').UserComponent} */ (host)\n                        );\n                    }\n\n                    if (!useRepeatWithoutSyncQuery) {\n                        cleanInMemorySet(\n                            /** @type {import('./type').UserComponent} */ (host)\n                        );\n                    }\n\n                    if (!this.active) return;\n\n                    _disconnectedCallback?.({\n                        context: this,\n                        params: this.#params,\n                    });\n\n                    this.resetParams();\n                }\n\n                removeCustomComponent() {\n                    if (!this.shadowRoot || !this.active) return;\n\n                    // eslint-disable-next-line unicorn/prefer-dom-node-remove\n                    this.parentElement?.removeChild(this);\n                }\n\n                adoptedCallback() {\n                    if (!this.shadowRoot || !this.active) return;\n\n                    _adoptedCallback?.({\n                        context: this,\n                        params: this.#params,\n                    });\n                }\n\n                /**\n                 * @param {string} name\n                 * @param {any} oldValue\n                 * @param {any} newValue\n                 */\n                attributeChangedCallback(name, oldValue, newValue) {\n                    if (!this.shadowRoot || !this.active) return;\n\n                    /**\n                     * Fire custom attribute change ( not id )\n                     */\n                    _attributeChangedCallback?.({\n                        name,\n                        oldValue,\n                        newValue,\n                        context: this,\n                        params: this.#params,\n                    });\n                }\n            }\n        );\n    });\n};\n", "import { ATTR_BIND_TEXT_ID, ATTR_COMPONENT_ID } from '../constant';\nimport { addBindTextPlaceHolderMap } from '../modules/bind-text';\n\nexport const defineBindTextComponent = () => {\n    customElements.define(\n        'mobjs-bind-text',\n        class extends HTMLElement {\n            constructor() {\n                super();\n                this.attachShadow({ mode: 'open' });\n            }\n\n            connectedCallback() {\n                // @ts-ignore\n                const { dataset } = this.shadowRoot?.host ?? {};\n\n                if (dataset) {\n                    const host =\n                        this.shadowRoot?.host ?? document.createElement('div');\n                    const componentId =\n                        host?.getAttribute(ATTR_COMPONENT_ID) ?? '';\n                    const bindTextId =\n                        host?.getAttribute(ATTR_BIND_TEXT_ID) ?? '';\n\n                    addBindTextPlaceHolderMap({\n                        host,\n                        componentId,\n                        bindTextId,\n                    });\n                }\n            }\n\n            removeCustomComponent() {\n                if (!this.shadowRoot) return;\n\n                // eslint-disable-next-line unicorn/prefer-dom-node-remove\n                this.parentElement?.removeChild(this);\n            }\n        }\n    );\n};\n", "import { ATTR_BIND_OBJECT_ID, ATTR_COMPONENT_ID } from '../constant';\nimport { addBindObjectPlaceHolderMap } from '../modules/bind-object';\n\nexport const defineBindObjectComponent = () => {\n    customElements.define(\n        'mobjs-bind-object',\n        class extends HTMLElement {\n            constructor() {\n                super();\n                this.attachShadow({ mode: 'open' });\n            }\n\n            connectedCallback() {\n                // @ts-ignore\n                const { dataset } = this.shadowRoot?.host ?? {};\n\n                if (dataset) {\n                    const host =\n                        this.shadowRoot?.host ?? document.createElement('div');\n                    const componentId =\n                        host?.getAttribute(ATTR_COMPONENT_ID) ?? '';\n                    const bindObjectId =\n                        host?.getAttribute(ATTR_BIND_OBJECT_ID) ?? '';\n\n                    addBindObjectPlaceHolderMap({\n                        host,\n                        componentId,\n                        bindObjectId,\n                    });\n                }\n            }\n\n            removeCustomComponent() {\n                if (!this.shadowRoot) return;\n\n                // eslint-disable-next-line unicorn/prefer-dom-node-remove\n                this.parentElement?.removeChild(this);\n            }\n        }\n    );\n};\n", "import { defineRepeatComponent } from '../web-component/repeat';\nimport { defineInvalidateComponent } from '../web-component/invalidate';\nimport { defineSlotComponent } from '../web-component/slot';\nimport { defineUserComponent } from '../web-component/user-component';\nimport { defineBindTextComponent } from '../web-component/bind-text';\nimport { defineBindObjectComponent } from '../web-component/bind-object';\n\n/**\n * @type {{ [key: string]: import('../main-store/type').ComponentListMap }}\n */\nlet componentListMap = {};\n\n/**\n * @returns {{ [key: string]: import('../main-store/type').ComponentListMap }}\n */\nexport const getComponentList = () => {\n    return componentListMap;\n};\n\n/**\n * @type {Set<import('../type').CreateComponentReturnType>}\n */\nconst availableComponent = new Set();\n\n/**\n * Inizalize components\n *\n * @returns {void}\n */\nexport const setComponentList = () => {\n    componentListMap = [...availableComponent.values()].reduce(\n        (previous, current) => ({ ...previous, ...current }),\n        {}\n    );\n\n    console.log(`component loaded:${Object.keys(componentListMap).length}`);\n\n    /**\n     * Register custom HTML tag component. Thios custom TAG will be converted in native DOM element during parse.\n     */\n\n    defineUserComponent(componentListMap);\n    defineSlotComponent();\n    defineInvalidateComponent();\n    defineRepeatComponent();\n    defineBindTextComponent();\n    defineBindObjectComponent();\n};\n\n/**\n * @param {import('../type').CreateComponentReturnType[]} components\n * @returns {void}\n */\nexport const useComponent = (components) => {\n    if (!components || components?.length === 0) return;\n\n    components.forEach((component) => {\n        availableComponent.add(component);\n    });\n};\n", "import { getComponentList } from '../../component-list';\n\n/**\n * @param {object} obj\n * @param {string} obj.componentName\n * @param {string} obj.propName\n * @returns {boolean}\n */\nexport const checkIfStateIsExportable = ({ componentName, propName }) => {\n    const componentList = getComponentList();\n\n    const exportableState =\n        componentList?.[componentName]?.componentParams?.exportState ?? [];\n\n    return exportableState.includes(propName);\n};\n\n/**\n * @param {object} obj\n * @param {string} obj.componentName\n * @returns {string[]}\n */\nexport const getExportableState = ({ componentName }) => {\n    const componentList = getComponentList();\n\n    return componentList?.[componentName]?.componentParams?.exportState ?? [];\n};\n", "import { componentMap } from '../../component-map';\nimport { getFreezePropStatus } from '../freeze';\nimport { checkIfStateIsExportable } from './check-if-state-is-exportable';\n\n/**\n * Set state\n *\n * @param {string} id\n * @param {string} prop\n * @param {any} value\n * @param {{ emit?: boolean }} [options]\n * @returns {void}\n */\n\nexport const setStateById = (\n    id = '',\n    prop = '',\n    value,\n    { emit = true } = {}\n) => {\n    if ((!id || id === '') && (!prop || prop === '') && !value) return;\n\n    const isFreezed = getFreezePropStatus({ id, prop });\n    if (isFreezed) {\n        return;\n    }\n\n    const item = componentMap.get(id);\n    const state = item?.state;\n    const componentName = item?.componentName ?? '';\n\n    const stateIsExportable = checkIfStateIsExportable({\n        componentName,\n        propName: prop,\n    });\n\n    if (!stateIsExportable) {\n        console.warn(\n            `setStateById failed ${prop} in: ${componentName} is not exportable, maybe a slot bind state that not exist here?`\n        );\n        return;\n    }\n\n    if (!state) {\n        console.warn(`setStateById failed no id found on prop: ${prop}`);\n        return;\n    }\n\n    state.set(prop, value, { emit });\n};\n", "import { getIdByInstanceName } from '../component';\nimport { setStateById } from './set-state-by-id';\n\n/**\n * Set state by name\n *\n * @template T\n * @param {string} name\n * @returns {import('../../../type').SetStateByName<T>}\n */\nexport const setStateByName = (name = '') => {\n    const id = getIdByInstanceName(name);\n    if (!id) console.warn(`component ${name}, not found`);\n\n    return (prop, value, { emit = true } = {}) =>\n        setStateById(id, /** @type {string} */ (prop), value, { emit });\n};\n", "import { componentMap } from '../../component-map';\nimport { getFreezePropStatus } from '../freeze';\nimport { checkIfStateIsExportable } from './check-if-state-is-exportable';\n\n/**\n * Update state by Id\n *\n * @param {string} id\n * @param {string} prop\n * @param {() => any} value\n * @param {{ emit?: boolean; clone?: boolean }} [options]\n * @returns {void}\n */\n\nexport const updateStateById = (\n    id = '',\n    prop = '',\n    value,\n    { emit = true, clone = false } = {}\n) => {\n    if ((!id || id === '') && (!prop || prop === '') && !value) return;\n\n    const isFreezed = getFreezePropStatus({ id, prop });\n    if (isFreezed) {\n        return;\n    }\n\n    const item = componentMap.get(id);\n    const state = item?.state;\n    const componentName = item?.componentName ?? '';\n\n    const stateIsExportable = checkIfStateIsExportable({\n        componentName,\n        propName: prop,\n    });\n\n    if (!stateIsExportable) {\n        console.warn(\n            `updateStateById failed ${prop} in: ${componentName} is not exportable, maybe a slot bind state that not exist here?`\n        );\n        return;\n    }\n\n    if (!state) {\n        console.warn(`updateStateById failed no id found on prop: ${prop}`);\n        return;\n    }\n\n    state.update(prop, value, { emit, clone });\n};\n", "import { getIdByInstanceName } from '../component';\nimport { updateStateById } from './update-state-by-id';\n\n/**\n * Update state by name\n *\n * @template T\n * @param {string} name\n * @returns {import('../../../type').UpdateStateByName<T>}\n */\n\nexport const updateStateByName = (name = '') => {\n    const id = getIdByInstanceName(name);\n    if (!id) console.warn(`component ${name}, not found`);\n\n    return (prop, value, { emit = true, clone = false } = {}) =>\n        updateStateById(\n            id,\n            /** @type {string} */ (prop),\n            /** @type {() => any} */ (value),\n            {\n                emit,\n                clone,\n            }\n        );\n};\n", "import { useComponent } from '../component-list';\n\nlet defaultComponent = {\n    scoped: false,\n    maxParseIteration: 5000,\n    debug: false,\n};\n\n/**\n * @param {import('../../type').DefaultComponent} obj\n * @returns {void}\n */\nexport const setDefaultComponent = (obj) => {\n    defaultComponent = { ...defaultComponent, ...obj };\n};\n\n/**\n * @returns {import('../../type').DefaultComponent}\n */\nexport const getDefaultComponent = () => defaultComponent;\n\nexport const getDebugMode = () => {\n    const { debug } = getDefaultComponent();\n    return debug;\n};\n\n/**\n * Format component definition in object key: value. name, function, props, state\n *\n * @type {import('../../type').CreateComponent}\n */\nexport const createComponent = ({\n    tag = '',\n    component = () => '',\n    state = {},\n    bindStore,\n    exportState = [],\n    scoped,\n    connectedCallback = () => {},\n    disconnectedCallback = () => {},\n    adoptedCallback = () => {},\n    attributeToObserve = [],\n    attributeChangedCallback = () => {},\n    style = '',\n    child = [],\n}) => {\n    /**\n     * Load child component. ( launch createComponent recursvly )\n     */\n    useComponent(child);\n\n    return {\n        [tag]: {\n            componentFunction: component,\n            componentParams: {\n                exportState,\n                scoped,\n                state,\n                bindStore,\n                connectedCallback,\n                disconnectedCallback,\n                adoptedCallback,\n                attributeToObserve,\n                attributeChangedCallback,\n                style,\n                child,\n            },\n        },\n    };\n};\n", "/**\n * @type {import('../../type').Route[]}\n */\nlet routeList = [];\n\n/**\n * @type {string}\n */\nlet indexPage = '';\n\n/**\n * @type {string}\n */\nlet pageNotFound = '';\n\n/**\n * Add route list to store.\n *\n * @param {import('../../type').Route[]} list\n * @returns {void}\n */\nexport const setRouteList = (list) => {\n    routeList = [...list];\n};\n\n/**\n * Get route list to store.\n *\n * @param {object} obj\n * @param {string} obj.routeName\n * @returns {import('../../type').Route | undefined}\n */\nexport const getRouteByName = ({ routeName = '' }) => {\n    return routeList.find(({ name }) => routeName === name);\n};\n\n/**\n * Set index route.\n *\n * @param {object} obj\n * @param {string} obj.routeName\n * @returns {void}\n */\nexport const setIndex = ({ routeName = '' }) => {\n    indexPage = routeName;\n};\n\n/**\n * Get index route.\n *\n * @returns String\n */\nexport const getIndex = () => indexPage;\n\n/**\n * Set pageNotFound route.\n *\n * @param {object} obj\n * @param {string} obj.routeName\n * @returns {void}\n */\nexport const setPageNotFound = ({ routeName = '' }) => {\n    pageNotFound = routeName;\n};\n\n/**\n * Get pageNotFound route.\n *\n * @returns String\n */\nexport const getPageNotFound = () => pageNotFound;\n", "import { walkPreOrder } from './query-all-future-component';\n\n/**\n * FUTURE COMPONENT\n */\n\n/**\n * @param {Element} root\n * @returns {HTMLElement[]}\n */\nfunction selectAll(root) {\n    const result = [];\n    for (const node of walkPreOrder(root)) {\n        if (node?.isUserComponent && node?.getSlotPosition?.()) {\n            result.push(node);\n        }\n    }\n    return result;\n}\n\n/**\n * @param {Element} node\n * @returns {Element[]}\n */\nexport const queryComponentUseSlot = (node) => {\n    /** @type {any[]} */\n    let result = [];\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        result = [...result, ...selectAll(child)];\n    }\n\n    return result;\n};\n", "import { walkPreOrder } from './query-all-future-component';\n\n/**\n * @param {Element} root\n * @returns {import('../web-component/type').SlotComponent[]}\n */\nfunction selectAll(root) {\n    const result = [];\n    for (const node of walkPreOrder(root)) {\n        if (node?.isSlot && node?.getSlotName?.()) {\n            result.push(node);\n        }\n    }\n    return result;\n}\n\n/**\n * @param {Element} node\n * @returns {import('../web-component/type').SlotComponent[]}\n */\nexport const queryGenericSlot = (node) => {\n    /** @type {any[]} */\n    let result = [];\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        result = [...result, ...selectAll(child)];\n    }\n\n    return result;\n};\n", "import { walkPreOrder } from './query-all-future-component';\n\n/**\n * FUTURE COMPONENT\n */\n\n/**\n * @param {Element} root\n * @param {string} slotName\n * @returns {import('../web-component/type').SlotComponent | null}\n */\nfunction selectAll(root, slotName) {\n    for (const node of walkPreOrder(root)) {\n        if (node?.isSlot && node?.getSlotName?.() === slotName) {\n            return node;\n        }\n    }\n    return null;\n}\n\n/**\n * @param {Element} node\n * @param {string} slotName\n * @returns {import('../web-component/type').SlotComponent | null}\n */\nexport const querySecificSlot = (node, slotName) => {\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        const result = selectAll(child, slotName);\n        if (result) return result;\n    }\n\n    return null;\n};\n", "import { walkPreOrder } from './query-all-future-component';\n\n/**\n * @param {Element} root\n * @returns {import('../web-component/type').SlotComponent | null}\n */\nfunction selectAll(root) {\n    for (const node of walkPreOrder(root)) {\n        if (node?.isSlot && !node?.getSlotName?.()) {\n            return node;\n        }\n    }\n    return null;\n}\n\n/**\n * @param {Element} node\n * @returns {import('../web-component/type').SlotComponent | null}\n */\nexport const queryUnNamedSlot = (node) => {\n    const root = node || document.body;\n\n    for (const child of root.children) {\n        const result = selectAll(child);\n        if (result) return result;\n    }\n\n    return null;\n};\n", "// @ts-check\n\nimport { MobCore } from '../../../../mob-core';\nimport { DEFAULT_CURRENT_REPEATER_STATE } from '../../../constant';\n\n/**\n * @type {Map<string, { current: object; index: number }>}\n */\nexport const currentRepeaterValueMap = new Map();\n\n/**\n * @param {{ current: object; index: number }} current\n * @returns String\n */\nexport const setComponentRepeaterState = (current) => {\n    /**\n     * @type {string}\n     */\n    const id = MobCore.getUnivoqueId();\n    currentRepeaterValueMap.set(id, current);\n\n    return id;\n};\n\n/**\n * @param {string | undefined} id\n * @returns {{ current: object; index: number }}\n */\nexport const getComponentRepeaterState = (id = '') => {\n    if (!id) return DEFAULT_CURRENT_REPEATER_STATE;\n\n    const value = currentRepeaterValueMap.get(id);\n    currentRepeaterValueMap.delete(id);\n\n    return value ?? DEFAULT_CURRENT_REPEATER_STATE;\n};\n", "export const ELEMENT_TYPE_NODE = 'node';\nexport const ELEMENT_TYPE_TEXT = 'text';\nexport const ELEMENT_TYPE_MIX_NODE_TEXT = 'mix';\nexport const ELEMENT_TYPE_NOT_VALID = 'not-valid';\n", "import { cleanInMemorySet } from '../../component/in-memory-element-set';\nimport {\n    ATTR_CHILD_REPEATID,\n    ATTR_CURRENT_LIST_VALUE,\n    ATTR_KEY,\n    ATTR_REPEATER_PROP_BIND,\n} from '../../constant';\nimport { setComponentRepeaterState } from '../../modules/repeater/repeater-value';\nimport {\n    ELEMENT_TYPE_MIX_NODE_TEXT,\n    ELEMENT_TYPE_NODE,\n    ELEMENT_TYPE_NOT_VALID,\n    ELEMENT_TYPE_TEXT,\n} from './constant';\n\nexport const renderHtml = String.raw;\n\n/**\n * Detect if child of element is element / text / mix text and element\n *\n * @param {Element} node\n * @returns {{ item: Element | string | undefined; type: string }}\n */\nexport const getElementOrTextFromNode = (node) => {\n    const childNodes = node.childNodes;\n\n    /**\n     * No content\n     */\n    if (childNodes.length === 0) {\n        return {\n            item: undefined,\n            type: ELEMENT_TYPE_NOT_VALID,\n        };\n    }\n\n    const children = node.children;\n\n    /**\n     * Is a unique node.\n     */\n    if (children.length === 1 && childNodes.length === 1) {\n        return {\n            item: node.children?.[0],\n            type: ELEMENT_TYPE_NODE,\n        };\n    }\n\n    /**\n     * Can be everything.\n     */\n    if (childNodes.length > 1)\n        return {\n            item: node.innerHTML,\n            type: ELEMENT_TYPE_MIX_NODE_TEXT,\n        };\n\n    /**\n     * Is a textNode\n     */\n    const textContent = node.textContent;\n    if (textContent && textContent.length > 0)\n        return {\n            item: textContent,\n            type: ELEMENT_TYPE_TEXT,\n        };\n\n    /**\n     * Fallback\n     */\n    return {\n        item: undefined,\n        type: ELEMENT_TYPE_NOT_VALID,\n    };\n};\n\n/**\n * Insert DOM inside node by specific type.\n *\n * @param {object} params\n * @param {Element} params.parent\n * @param {{ item: Element | string | undefined; type: string }} params.itemObject\n * @param {InsertPosition} params.position\n * @returns {void}\n */\nexport const insertElementOrText = ({\n    parent,\n    itemObject,\n    position = 'afterend',\n}) => {\n    const { item, type } = itemObject;\n\n    if (type === ELEMENT_TYPE_NOT_VALID) return;\n\n    if (type === ELEMENT_TYPE_MIX_NODE_TEXT) {\n        parent.insertAdjacentHTML(position, /** @type {string} */ (item));\n        return;\n    }\n\n    if (type === ELEMENT_TYPE_NODE) {\n        parent.insertAdjacentElement(position, /** @type {Element} */ (item));\n        return;\n    }\n\n    if (type === ELEMENT_TYPE_TEXT) {\n        parent.insertAdjacentText(position, /** @type {string} */ (item));\n        return;\n    }\n\n    return;\n};\n\n/**\n * With more repeat in same scope, we have multiple render() function nested. The first render() fired is the inneer\n * function ( deepest ). So the other override attributes. Add attributes only if there is no correspondences.\n *\n * @param {object} params\n * @param {WeakRef<import('../../web-component/type').UserComponent>[]} params.components\n * @param {Record<string, any>} params.current\n * @param {number} params.index\n * @param {string} params.observe\n * @param {string} params.repeatId\n * @param {string | undefined} params.key\n * @returns {void}\n */\nexport const setRepeatAttribute = ({\n    components,\n    current,\n    index,\n    observe,\n    repeatId,\n    key,\n}) => {\n    components.forEach((component) => {\n        if (!component.deref()?.hasAttribute(ATTR_CURRENT_LIST_VALUE)) {\n            component.deref()?.setAttribute(\n                ATTR_CURRENT_LIST_VALUE,\n                setComponentRepeaterState({\n                    current,\n                    index,\n                })\n            );\n        }\n\n        if (!component.deref()?.hasAttribute(ATTR_KEY)) {\n            component.deref()?.setAttribute(ATTR_KEY, `${key}`);\n        }\n\n        if (!component.deref()?.hasAttribute(ATTR_REPEATER_PROP_BIND)) {\n            component\n                .deref()\n                ?.setAttribute(ATTR_REPEATER_PROP_BIND, `${observe}`);\n        }\n\n        if (!component.deref()?.hasAttribute(ATTR_CHILD_REPEATID)) {\n            component.deref()?.setAttribute(ATTR_CHILD_REPEATID, `${repeatId}`);\n        }\n    });\n};\n\n/**\n * With more repeat in same scope, we have multiple render() function nested. The first render() fired is the inneer\n * function ( deepest ). So the other override attributes. Add attributes only if there is no correspondences.\n *\n * @param {object} params\n * @param {import('../../web-component/type').UserComponent[]} params.components\n * @param {Record<string, any>} params.current\n * @param {number} params.index\n * @param {string} params.observe\n * @param {string} params.repeatId\n * @param {string | undefined} params.key\n * @returns {void}\n */\nexport const setRepeatAttributeFromInMemory = ({\n    components,\n    current,\n    index,\n    observe,\n    repeatId,\n    key,\n}) => {\n    components.forEach((component) => {\n        if (component.hasAttribute(ATTR_CHILD_REPEATID)) {\n            cleanInMemorySet(component);\n            return;\n        }\n\n        component.setAttribute(\n            ATTR_CURRENT_LIST_VALUE,\n            setComponentRepeaterState({\n                current,\n                index,\n            })\n        );\n        component.setAttribute(ATTR_KEY, `${key}`);\n        component.setAttribute(ATTR_REPEATER_PROP_BIND, `${observe}`);\n        component.setAttribute(ATTR_CHILD_REPEATID, `${repeatId}`);\n    });\n};\n", "import {\n    ATTR_BIND_REFS_ID,\n    ATTR_BIND_REFS_NAME,\n    ATTR_IS_COMPONENT,\n    ATTR_WEAK_BIND_EVENTS,\n} from '../../constant';\nimport { getDefaultComponent } from '../../component/create-component';\nimport { queryComponentUseSlot } from '../../query/query-component-use-slot';\nimport { queryGenericSlot } from '../../query/query-generic-slot';\nimport { querySecificSlot } from '../../query/query-specific-slot';\nimport { queryUnNamedSlot } from '../../query/query-unnamed-slot';\nimport { useSlotQuery, useComponentHasNamedSlotQuery } from '../strategy';\nimport { getAllUserComponentUseNamedSlot } from '../../modules/user-component';\nimport {\n    getAllSlot,\n    getSlotByName,\n    getUnamedPlaceholderSlot,\n} from '../../modules/slot';\nimport { getElementOrTextFromNode, insertElementOrText } from './utils';\n\n/**\n * Get new element from content ( render ). Prevent accidentally return of element or component deleted runtime. Check\n * parentNode to insertAdjacentHTML possible error.\n *\n * @param {object} obj\n * @param {import('../../web-component/type').UserComponent | HTMLElement} obj.element\n * @param {string} obj.content\n * @returns {HTMLElement | import('../../web-component/type').UserComponent | undefined}\n */\nconst getNewElement = ({ element, content }) => {\n    const { debug } = getDefaultComponent();\n\n    if (element.parentNode) {\n        // element.insertAdjacentHTML('afterend', content);\n\n        // const node = document\n        //     .createRange()\n        //     .createContextualFragment(content).firstElementChild;\n\n        // const parser = new DOMParser();\n        // const doc = parser.parseFromString(content, 'text/html');\n        // const node = doc.body.firstElementChild;\n\n        const template = document.createElement('template');\n        template.innerHTML = content;\n        const node = template.content.firstElementChild;\n\n        /**\n         * Disable placeholder before add to DOM Avoid add component to userPlaceholder map.\n         */\n\n        // @ts-expect-error node can be a user web component.\n        node?.disablePlaceHolderState?.();\n\n        if (node) element.after(node);\n\n        /**\n         * Add component name in debug mode\n         */\n        if (debug)\n            element.insertAdjacentHTML(\n                'afterend',\n                `<!--  ${element.tagName.toLowerCase()} --> `\n            );\n\n        return /** @type {HTMLElement} */ (node);\n    }\n\n    return;\n};\n\n/**\n * Remove unused slot placehodler. ( no element have sustitute slot ) If slot is not used remove id reference orphans\n * from store.\n *\n * @param {object} obj\n * @param {HTMLElement} obj.element\n * @returns {void}\n */\nconst removeOrphanSlot = ({ element }) => {\n    const slots = useSlotQuery ? queryGenericSlot(element) : getAllSlot();\n\n    slots.forEach((slot) => {\n        slot?.removeCustomComponent();\n        slot?.remove();\n    });\n};\n\n/**\n * Move element to related slot if defined. And delete original slot placehodler\n *\n * @param {object} obj\n * @param {HTMLElement} obj.element\n * @returns {void}\n */\nconst addToNamedSlot = ({ element }) => {\n    const componentWithSlot = useComponentHasNamedSlotQuery\n        ? queryComponentUseSlot(element)\n        : getAllUserComponentUseNamedSlot({ element });\n\n    if (componentWithSlot.length === 0) return;\n\n    [...componentWithSlot].forEach((component) => {\n        // @ts-ignore\n        const slotName = component?.getSlotPosition();\n\n        /**\n         * Find slot used by component.\n         */\n        const slot = useSlotQuery\n            ? querySecificSlot(element, slotName)\n            : getSlotByName({ name: slotName, element });\n\n        /**\n         * If no slot return;\n         */\n        if (!slot) return { slot: null, elementMoved: null };\n\n        /**\n         * Add component/element before slot.\n         */\n        slot.parentNode?.insertBefore(component, slot);\n        slot?.removeCustomComponent();\n        slot?.remove();\n    });\n};\n\n/**\n * @param {object} obj\n * @param {import('../../web-component/type').UserComponent | HTMLElement} obj.element\n * @param {string} obj.content\n * @returns {HTMLElement | import('../../web-component/type').UserComponent | undefined}\n */\nconst executeConversion = ({ element, content }) => {\n    /**\n     * Add real content from render function\n     */\n    // const prevContent2 = element.innerHTML;\n    const prevContent = getElementOrTextFromNode(element);\n    const newElement = getNewElement({ element, content });\n\n    /**\n     * Get inner content and copy data from provvisory component\n     */\n    if (newElement) {\n        // @ts-ignore\n        const id = element.getId();\n\n        // @ts-ignore\n        const delegateEventId = element?.getDelegateEventId();\n\n        // @ts-ignore\n        const bindRefId = element?.getBindRefId();\n\n        // @ts-ignore\n        const bindRefName = element?.getBindRefName();\n\n        /**\n         * If unNamedSlot is used. Replace un-named slot with previous content.\n         */\n        const unNamedSlot = useSlotQuery\n            ? queryUnNamedSlot(newElement)\n            : getUnamedPlaceholderSlot({ element: newElement });\n\n        // if (unNamedSlot && prevContent.length > 0) {\n        //     unNamedSlot.insertAdjacentHTML('afterend', prevContent);\n        //     unNamedSlot.remove();\n        // }\n        //\n        // if (!unNamedSlot && prevContent.length > 0) {\n        //     newElement.insertAdjacentHTML('afterbegin', prevContent);\n        // }\n\n        if (unNamedSlot) {\n            insertElementOrText({\n                parent: unNamedSlot,\n                itemObject: prevContent,\n                position: 'afterend',\n            });\n\n            unNamedSlot.remove();\n        }\n\n        if (!unNamedSlot) {\n            insertElementOrText({\n                parent: newElement,\n                itemObject: prevContent,\n                position: 'afterbegin',\n            });\n        }\n\n        addToNamedSlot({ element: newElement });\n        removeOrphanSlot({ element: newElement });\n\n        /**\n         * Transfer delegateEventId if exist in placeholder element.\n         */\n        if (delegateEventId && delegateEventId.length > 0)\n            newElement.setAttribute(ATTR_WEAK_BIND_EVENTS, delegateEventId);\n\n        if (bindRefId && bindRefId.length > 0)\n            newElement.setAttribute(ATTR_BIND_REFS_ID, bindRefId);\n\n        if (bindRefName && bindRefName.length > 0)\n            newElement.setAttribute(ATTR_BIND_REFS_NAME, bindRefName);\n\n        /**\n         * Add data-mobjs=\"id\" in debug mode.\n         */\n        const { debug } = getDefaultComponent();\n        if (debug) newElement.setAttribute(ATTR_IS_COMPONENT, id ?? '');\n    }\n\n    /**\n     * Delete provvisory component and add real component.\n     */\n    element.remove();\n\n    return newElement;\n};\n\n/**\n * Add content to component\n *\n * @param {object} obj\n * @param {HTMLElement | import('../../web-component/type').UserComponent} obj.element\n * @param {string} obj.content\n * @returns {{ newElement: HTMLElement | import('../../web-component/type').UserComponent | undefined }\n *     | { newElement: HTMLElement | undefined }}\n */\nexport const convertToRealElement = ({ element, content }) => {\n    return {\n        newElement: executeConversion({\n            element,\n            content,\n        }),\n    };\n};\n", "import { queryAllFutureComponent } from '../query/query-all-future-component';\nimport { getFirstUserChildPlaceHolder } from '../modules/user-component';\nimport { useQuery } from './strategy';\n\n/**\n * @type {number}\n */\nlet currentIterationCounter = 0;\n\n/**\n * @returns {void}\n */\nexport const incrementCurrentIterationCounter = () => {\n    currentIterationCounter += 1;\n};\n\n/**\n * @returns {number}\n */\nexport const getCurrentIterationCounter = () => currentIterationCounter;\n\n/**\n * @returns {void}\n */\nexport const resetCurrentIterationCounter = () => {\n    currentIterationCounter = 0;\n};\n\n/**\n * @param {object} obj\n * @param {Element} obj.element\n * @param {import('../web-component/type').UserComponent[]} obj.currentSelectors\n * @returns {{\n *     componentToParse: import('../web-component/type').UserComponent;\n *     parseSourceArray: import('../web-component/type').UserComponent[];\n * }}\n */\nexport const getParseSourceArray = ({ element, currentSelectors }) => {\n    if (currentSelectors.length > 0) {\n        const componentToParse = currentSelectors[0];\n        const parseSourceArray = currentSelectors.slice(1);\n\n        return { componentToParse, parseSourceArray };\n    } else {\n        const query = useQuery\n            ? [...queryAllFutureComponent(element)]\n            : getFirstUserChildPlaceHolder(element);\n\n        const componentToParse = query?.[0];\n        const parseSourceArray = query.slice(1);\n\n        return { componentToParse, parseSourceArray };\n    }\n};\n", "import { componentMap } from '../../component-map';\n\n/**\n * Update deestroy call back by id.\n *\n * @param {object} obj\n * @param {() => void} [obj.cb] Destroy callback function\n * @param {string} [obj.id] Component id\n */\nexport const setDestroyCallback = ({ cb = () => {}, id }) => {\n    if (!id) return;\n\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    componentMap.set(id, { ...item, destroy: cb });\n};\n", "// @ts-check\n\nimport { setDestroyCallback } from '../../component/action/remove-and-destroy/set-destroy-callback';\n\n/**\n * @type {Map<string, Function>}\n */\nexport const onMountCallbackMap = new Map();\n\n/**\n * Add ouMount callback to store.\n *\n * @param {object} params\n * @param {string} params.id - Random Id\n * @param {import('./type').OnMountCallback} params.cb - OnMount callback\n * @returns {void}\n */\nexport const addOnMoutCallback = ({ id, cb = () => {} }) => {\n    onMountCallbackMap.set(id, cb);\n};\n\n/**\n * Fire onMount callback.\n *\n * @param {object} params\n * @param {string} params.id - Component id\n * @param {HTMLElement | import('../../web-component/type').UserComponent} params.element - Root component HTMLElement.\n */\nexport const fireOnMountCallBack = async ({ id, element }) => {\n    const callback = onMountCallbackMap.get(id);\n\n    /**\n     * OnMount callback can be async. Pass root component HTMLElement as parameter.\n     *\n     * @type {() => void} destroy Callback\n     */\n    const destroyCallback = await callback?.({\n        element,\n    });\n\n    /**\n     * Update destroy callback\n     */\n    setDestroyCallback({ cb: destroyCallback, id });\n\n    /**\n     * Remove callback\n     */\n    onMountCallbackMap.delete(id);\n};\n\n/**\n * Remove OnMount reference from main store.\n *\n * @param {object} params\n * @param {string} params.id - Random Id\n * @returns {void}\n */\nexport const removeOnMountCallbackReference = ({ id }) => {\n    onMountCallbackMap.delete(id);\n};\n", "import { MobCore } from '../../mob-core';\n\n/**\n * @returns {Promise<void>}\n */\nexport function awaitNextLoop() {\n    return new Promise((resolve) => MobCore.useNextLoop(() => resolve()));\n}\n", "import { MobCore } from '../../mob-core';\nimport { awaitNextLoop } from './utils';\n\n/**\n * @type {Map<string, string>}\n */\nconst queque = new Map();\n\n/**\n * Limit queque size. Prevent possible side effect\n */\nconst maxQueuqueSize = 100_000;\n\n/**\n * @param {any} props\n * @returns {() => void}\n */\nexport const incrementTickQueuque = (props) => {\n    if (queque.size >= maxQueuqueSize) {\n        console.warn(`maximum loop event reached: (${maxQueuqueSize})`);\n\n        return () => {};\n    }\n\n    const id = MobCore.getUnivoqueId();\n    queque.set(id, props);\n\n    return () => queque.delete(id);\n};\n\n/**\n * @returns {boolean}\n */\nconst queueIsResolved = () => {\n    return queque.size === 0 || queque.size >= maxQueuqueSize;\n};\n\n/**\n * Await that all bind props is completed\n *\n * @param {object} params\n * @param {boolean} [params.debug]\n * @param {(value: void | PromiseLike<void>) => void} [params.previousResolve]\n * @returns {Promise<void>}\n */\nexport const tick = async ({ debug = false, previousResolve } = {}) => {\n    await awaitNextLoop();\n\n    if (debug) {\n        queque.forEach((value) => {\n            console.log(value);\n        });\n    }\n\n    if (queueIsResolved() && previousResolve) {\n        previousResolve();\n        return;\n    }\n\n    return new Promise((resolve) => {\n        if (queueIsResolved()) {\n            resolve();\n            return;\n        }\n\n        tick({ debug, previousResolve: previousResolve ?? resolve });\n    });\n};\n", "// @ts-check\n\n/**\n * @type {boolean}\n */\nlet shouldFireEvent = true;\n\n/**\n * @returns {void}\n */\nexport const allowFireEvent = () => {\n    shouldFireEvent = true;\n};\n\n/**\n * @returns {void}\n */\nexport const preventFireEvent = () => {\n    shouldFireEvent = false;\n};\n\n/**\n * @returns {boolean}\n */\nexport const getFireEvent = () => shouldFireEvent;\n", "// @ts-check\n\nimport { MobCore } from '../../../mob-core';\nimport { checkType } from '../../../mob-core/store/store-type';\nimport { getRepeaterStateById } from '../../component/action/repeater';\nimport { tick } from '../../queque/tick';\nimport {\n    allowFireEvent,\n    getFireEvent,\n    preventFireEvent,\n} from '../common-event';\n\n/**\n * @type {Map<string, { [key: string]: (arg0: object, arg1: Record<string, any>, arg2: number) => {} }[]>}\n */\nexport const bindEventMap = new Map();\n\n/**\n * Store props and return a unique identifier\n *\n * @param {import('./type').BindEventsObject<Event> | import('./type').BindEventsObject<Event>[]} [eventsData]\n * @returns {string} Props id in store.\n */\nexport const setBindEvents = (eventsData = []) => {\n    const eventsDataParsed = checkType(Object, eventsData)\n        ? [eventsData]\n        : eventsData;\n\n    /**\n     * @type {string}\n     */\n    const id = MobCore.getUnivoqueId();\n    // @ts-ignore\n    bindEventMap.set(id, eventsDataParsed);\n\n    return id;\n};\n\n/**\n * Store props and return a unique identifier\n *\n * @param {object} obj\n * @param {HTMLElement | import('../../web-component/type').UserComponent} obj.element\n * @param {string} obj.componentId\n * @param {string} obj.bindEventsId\n * @returns {void}\n */\nexport const applyBindEvents = ({ element, componentId, bindEventsId }) => {\n    const eventArray = bindEventMap.get(bindEventsId);\n    if (!eventArray) return;\n\n    eventArray.forEach((event) => {\n        const [eventName] = Object.keys(event);\n        const [callback] = Object.values(event);\n\n        if (!eventName || !callback) return;\n\n        element.addEventListener(eventName, async (e) => {\n            /**\n             * Fire one event at time on end of app tick. Set shouldFireEvent to true immediatyle after tick to restore\n             * event if callback fail.\n             */\n            if (!getFireEvent()) return;\n            preventFireEvent();\n            await tick();\n            allowFireEvent();\n\n            /**\n             * Add current repeate list for dynamic list.\n             */\n            const currentRepeaterState = getRepeaterStateById({\n                id: componentId,\n            });\n\n            callback(\n                e,\n                currentRepeaterState?.current,\n                currentRepeaterState?.index\n            );\n        });\n    });\n\n    /**\n     * Remove props\n     */\n    bindEventMap.delete(bindEventsId);\n};\n\n/**\n * Delete all refs of events. If slot in unused and a propsFromStore is unused remain in store So when active parser\n * counter is equal 0 ( no parser is running ) remove all reference\n *\n * @returns {void}\n */\nexport const removeOrphansBindEvent = () => {\n    bindEventMap.clear();\n};\n", "import { componentMap } from '../component-map';\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @param {(() => void)[]} params.unWatchArray\n */\nexport const setDynamicPropsWatch = ({ id = '', unWatchArray = [] }) => {\n    const item = componentMap.get(id);\n    if (!item) return;\n\n    const { parentPropsWatcher } = item;\n    if (!parentPropsWatcher) return;\n\n    componentMap.set(id, {\n        ...item,\n        parentPropsWatcher: [...parentPropsWatcher, ...unWatchArray],\n    });\n};\n\n/**\n * Unbind reactive props from component\n *\n * @param {object} obj\n * @param {string} obj.id\n * @returns {void}\n */\nexport const unBind = ({ id = '' }) => {\n    if (!id || id === '') return;\n\n    const item = componentMap.get(id);\n    const parentPropsWatcher = item?.parentPropsWatcher ?? [];\n\n    parentPropsWatcher.forEach((unwatch) => {\n        unwatch();\n    });\n};\n", "import { MobCore } from '../../mob-core';\nimport { awaitNextLoop } from './utils';\n\n/**\n * @type {Map<string, string>}\n */\nconst repeaterQueque = new Map();\n\n/**\n * @returns {boolean}\n */\nexport const repeaterQuequeIsEmpty = () => repeaterQueque.size === 0;\n\n/**\n * Limit queque size. Prevent possible side effect\n */\nconst maxQueuqueSize = 1000;\n\n/**\n * @param {any} props\n * @returns {() => void}\n */\nexport const incrementRepeaterTickQueuque = (props) => {\n    if (repeaterQueque.size >= maxQueuqueSize) {\n        console.warn(`maximum loop event reached: (${maxQueuqueSize})`);\n\n        return () => {};\n    }\n\n    const id = MobCore.getUnivoqueId();\n    repeaterQueque.set(id, props);\n\n    return () => repeaterQueque.delete(id);\n};\n\n/**\n * @returns {boolean}\n */\nconst queueIsResolved = () => {\n    return repeaterQueque.size === 0 || repeaterQueque.size >= maxQueuqueSize;\n};\n\n/**\n * Await that all bind props is completed\n *\n * @param {object} params\n * @param {boolean} [params.debug]\n * @param {(value: void | PromiseLike<void>) => void} [params.previousResolve]\n * @returns {Promise<void>}\n */\nexport const repeaterTick = async ({ debug = false, previousResolve } = {}) => {\n    await awaitNextLoop();\n\n    if (debug) {\n        repeaterQueque.forEach((value) => {\n            console.log(value);\n        });\n    }\n\n    if (queueIsResolved() && previousResolve) {\n        previousResolve();\n        return;\n    }\n\n    return new Promise((resolve) => {\n        if (queueIsResolved()) {\n            resolve();\n            return;\n        }\n\n        repeaterTick({ debug, previousResolve: previousResolve ?? resolve });\n    });\n};\n", "import { MobCore } from '../../mob-core';\nimport { awaitNextLoop } from './utils';\n\n/**\n * @type {Map<string, string>}\n */\nconst invalidateQueque = new Map();\n\n/**\n * @returns {boolean}\n */\nexport const invalidateQuequeIsEmpty = () => invalidateQueque.size === 0;\n\n/**\n * Limit queque size. Prevent possible side effect\n */\nconst maxQueuqueSize = 1000;\n\n/**\n * @param {any} props\n * @returns {() => void}\n */\nexport const incrementInvalidateTickQueuque = (props) => {\n    if (invalidateQueque.size >= maxQueuqueSize) {\n        console.warn(`maximum loop event reached: (${maxQueuqueSize})`);\n\n        return () => {};\n    }\n\n    const id = MobCore.getUnivoqueId();\n    invalidateQueque.set(id, props);\n\n    return () => invalidateQueque.delete(id);\n};\n\n/**\n * @returns {boolean}\n */\nconst queueIsResolved = () => {\n    return (\n        invalidateQueque.size === 0 || invalidateQueque.size >= maxQueuqueSize\n    );\n};\n\n/**\n * Await that all bind props is completed\n *\n * @param {object} params\n * @param {boolean} [params.debug]\n * @param {(value: void | PromiseLike<void>) => void} [params.previousResolve]\n * @returns {Promise<void>}\n */\nexport const invalidateTick = async ({\n    debug = false,\n    previousResolve,\n} = {}) => {\n    await awaitNextLoop();\n\n    if (debug) {\n        invalidateQueque.forEach((value) => {\n            console.log(value);\n        });\n    }\n\n    if (queueIsResolved() && previousResolve) {\n        previousResolve();\n        return;\n    }\n\n    return new Promise((resolve) => {\n        if (queueIsResolved()) {\n            resolve();\n            return;\n        }\n\n        invalidateTick({\n            debug,\n            previousResolve: previousResolve ?? resolve,\n        });\n    });\n};\n", "import { MobCore, MobDetectBindKey } from '../../../mob-core';\nimport { getRepeaterStateById } from '../../component/action/repeater';\nimport { setDynamicPropsWatch } from '../../component/action/props';\nimport { setStateById } from '../../component/action/state/set-state-by-id';\nimport { getStateById } from '../../component/action/state/get-state-by-id';\nimport { watchById } from '../../component/action/watch';\nimport { incrementTickQueuque } from '../../queque/tick';\nimport { componentMap } from '../../component/component-map';\nimport { QUEQUE_TYPE_BINDPROPS } from '../../constant';\nimport {\n    repeaterQuequeIsEmpty,\n    repeaterTick,\n} from '../../queque/tick-repeater';\nimport {\n    invalidateQuequeIsEmpty,\n    invalidateTick,\n} from '../../queque/tick-invalidate';\n// import { getElementById } from '../../component/action/element';\n// import { removeAndDestroyById } from '../../component/action/remove-and-destroy/remove-and-destroy-by-id';\nimport { bindComponentTobindId, bindPropsMap } from './bind-props-map';\nimport { detectProp } from '../../utils';\n\n/**\n * Store props and return a unique identifier\n *\n * @type {import('./type').SetBindProps} data\n */\nexport const setBindProps = (data) => {\n    const hasProps = 'props' in data;\n\n    if (!hasProps) {\n        console.warn(`bindProps not valid`);\n        return;\n    }\n\n    /**\n     * Get explicit dependencies or get from `proxi.get()`\n     */\n    const stateToWatch = /** @type {string[] | undefined} */ (data?.observe)\n        ? (() => {\n              return /** @type{( string|( () => void ) )[]} */ (\n                  data.observe\n              ).map((item) => {\n                  return detectProp(item);\n              });\n          })()\n        : (() => {\n              MobDetectBindKey.initializeCurrentDependencies();\n              if (MobCore.checkType(Function, data.props)) {\n                  data.props({}, {}, 0);\n              }\n              return MobDetectBindKey.getCurrentDependencies();\n          })();\n\n    if (stateToWatch.length === 0) {\n        console.warn(`bindProps not valid, no dependencies found`);\n        return;\n    }\n\n    const dataUpdated = { ...data, observe: stateToWatch };\n\n    /**\n     * @type {string}\n     */\n    const id = MobCore.getUnivoqueId();\n    bindPropsMap.set(id, {\n        ...dataUpdated,\n        componentId: '',\n        propsId: id,\n    });\n\n    return id;\n};\n\n/**\n * Store props and return a unique identifier\n *\n * @param {object} obj\n * @param {string} obj.componentId\n * @param {string[]} obj.observe\n * @param {(arg0: Record<string, any>, value: Record<string, any>, index: number) => object} obj.props\n * @param {string} obj.currentParentId\n * @param {boolean} obj.fireCallback\n * @returns {void}\n */\nconst updateBindProp = ({\n    componentId,\n    observe,\n    props,\n    currentParentId,\n    fireCallback,\n}) => {\n    if (!currentParentId) return;\n\n    /**\n     * Check id all bind props exist in parent state.\n     */\n    const parentState = getStateById(currentParentId);\n    if (!parentState) return;\n\n    const parentStateKeys = Object.keys(parentState);\n    const bindArrayIsValid = observe.every((state) =>\n        parentStateKeys.includes(state)\n    );\n\n    if (!bindArrayIsValid) {\n        console.warn(\n            `bind props error: Some prop ${JSON.stringify(observe)} doesn't exist`\n        );\n    }\n\n    /**\n     * Use this to filter parent props that match with nind array Use instead parentState in newProps initialize. It is\n     * more useful pass all parent state instead prop definited in bind array\n     *\n     *     const values = watch\n     *         .map((currentState) => {\n     *             return {\n     *                 [currentState]: parentState[currentState],\n     *             };\n     *         })\n     *         .reduce((previous, current) => ({ ...previous, ...current }), {});\n     */\n\n    /**\n     * If element is deleted from list don't update state.\n     */\n    const componentExist = componentMap.has(componentId);\n    if (!componentExist) return;\n\n    const currentRepeaterState = getRepeaterStateById({\n        id: componentId,\n    });\n\n    // let newProps;\n\n    /**\n     * TODOL should be removed, use only for debug.\n     */\n    // try {\n    //     newProps = props?.(\n    //         parentState,\n    //         currentRepeaterState.current,\n    //         currentRepeaterState?.index\n    //     );\n    // } catch {\n    //     console.log('bindProps error:', componentId);\n    //     const element = getElementById({ id: componentId });\n    //     if (!element) return;\n    //\n    //     if (!document.body.contains(element))\n    //         removeAndDestroyById({ id: componentId });\n    // }\n\n    const newProps = props?.(\n        parentState,\n        currentRepeaterState.current,\n        currentRepeaterState?.index\n    );\n\n    if (!newProps) return;\n\n    Object.entries(newProps).forEach(([key, value]) => {\n        setStateById(componentId, key, value, { emit: fireCallback });\n    });\n};\n\n/**\n * Add componentId to dynamic props stored and initialize them.\n *\n * @param {object} obj\n * @param {string | undefined} obj.propsId\n * @param {string | undefined} [obj.repeatPropBind]\n * @param {string} obj.componentId\n * @returns {void}\n */\nexport const addCurrentIdToBindProps = ({\n    propsId,\n    repeatPropBind,\n    componentId,\n}) => {\n    if (!propsId) return;\n\n    /**\n     * Value is added in setBindProps() function. here we just add componentId\n     */\n    const value = bindPropsMap.get(propsId);\n    if (!value) return;\n\n    bindPropsMap.set(propsId, { ...value, componentId });\n\n    /**\n     * Create a link for get propsId from component quickly in applyBindProps, n0 logic.\n     */\n    bindComponentTobindId.set(componentId, propsId);\n\n    applyBindProps({\n        componentId,\n        repeatPropBind,\n        inizilizeWatcher: false,\n    });\n};\n\n/**\n * If slot is not used remove id reference orphans from store.\n *\n * @param {object} obj\n * @param {string} obj.propsId\n * @returns {void}\n */\nexport const removeCurrentToBindPropsByPropsId = ({ propsId }) => {\n    if (!propsId) return;\n\n    bindPropsMap.delete(propsId);\n};\n\n/**\n * Update component state, if inizilizeWatcher === true add watcher to parent ( or specific component ) state.\n *\n * @param {object} obj\n * @param {string} obj.componentId\n * @param {string | undefined} [obj.repeatPropBind]\n * @param {boolean} obj.inizilizeWatcher\n * @returns {Promise<void>}\n */\nexport const applyBindProps = async ({\n    componentId,\n    repeatPropBind,\n    inizilizeWatcher,\n}) => {\n    // Se inizilizeWatcher delete bindComponentTobindId\n    const moduleId = bindComponentTobindId.get(componentId);\n    if (!moduleId) return;\n\n    /**\n     * Last applyBindProps call delete support map\n     */\n    if (inizilizeWatcher) bindComponentTobindId.delete(componentId);\n\n    /**\n     * Get all dynamic prop by component id.\n     */\n    const dynamicProps = bindPropsMap.get(moduleId);\n\n    /**\n     * If not return.\n     */\n    if (!dynamicProps) return;\n\n    /**\n     * Cycle dynamicProps from component or from slot.\n     */\n    const { observe, props, parentId } = dynamicProps;\n\n    /**\n     * Merge watch state inside a repeater with bind array.\n     */\n    const observeParsed =\n        repeatPropBind &&\n        repeatPropBind?.length > 0 &&\n        !observe.includes(repeatPropBind)\n            ? [...observe, repeatPropBind]\n            : [...observe];\n\n    /**\n     * Normally props is initialized after repeater So on created we doesn't have the props ready Fire setDynamicProp\n     * once before repeater tick to add value in store and use it onCreated\n     *\n     * The values calculated here can refer to the previous state of the store, in the next step after the repeaters\n     * have been executed it will be updated with the latest state of the store.\n     */\n    if (!inizilizeWatcher) {\n        updateBindProp({\n            componentId,\n            observe: observeParsed,\n            props,\n            currentParentId: parentId ?? '',\n            fireCallback: false,\n        });\n    }\n\n    /**\n     * If repeater is running, update\n     */\n    if (!inizilizeWatcher && !repeaterQuequeIsEmpty()) {\n        /**\n         * Initialize props after repater So we have the last value of currentValue && index\n         */\n        await repeaterTick();\n\n        /**\n         * Refresh state after repater created\n         */\n        updateBindProp({\n            componentId,\n            observe: observeParsed,\n            props,\n            currentParentId: parentId ?? '',\n            fireCallback: true,\n        });\n    }\n\n    /**\n     * If invalidate is running, update\n     */\n    if (!inizilizeWatcher && !invalidateQuequeIsEmpty()) {\n        /**\n         * Initialize props after repater So we have the last value of currentValue && index\n         */\n        await invalidateTick();\n\n        /**\n         * Refresh state after repater created\n         */\n        updateBindProp({\n            componentId,\n            observe: observeParsed,\n            props,\n            currentParentId: parentId ?? '',\n            fireCallback: true,\n        });\n    }\n\n    if (!inizilizeWatcher) return;\n\n    /**\n     * Watch props on change\n     */\n    let watchIsRunning = false;\n\n    const unWatchArray = observeParsed.map((/** @type {string} */ state) => {\n        return watchById(parentId, state, async () => {\n            /**\n             * Fire bindProps after repeater.\n             */\n            await repeaterTick();\n            await invalidateTick();\n\n            /**\n             * Wait for all all props is settled.\n             */\n            if (watchIsRunning) return;\n\n            /**\n             * Add watcher to active queuqe operation.\n             */\n            const decrementQueue = incrementTickQueuque({\n                state,\n                id: componentId,\n                type: QUEQUE_TYPE_BINDPROPS,\n            });\n\n            /**\n             * Fire watch only once if multiple props change. Wait the end of current block.\n             */\n            watchIsRunning = true;\n            MobCore.useNextLoop(() => {\n                updateBindProp({\n                    componentId,\n                    observe: observeParsed,\n                    props,\n                    currentParentId: parentId ?? '',\n                    fireCallback: true,\n                });\n\n                watchIsRunning = false;\n\n                /**\n                 * Remove watcher to active queuqe operation.\n                 */\n                decrementQueue();\n            });\n        });\n    });\n\n    /**\n     * Add unwatch function to store. So we lounch them on destroy.\n     */\n    setDynamicPropsWatch({\n        id: componentId,\n        unWatchArray: unWatchArray.filter((item) => item !== undefined),\n    });\n\n    /**\n     * Remove current dynamic prop from store.\n     */\n\n    /**\n     * If all watcher ( from component or from slot ) is initialized deleter all reference from store\n     */\n    if (!inizilizeWatcher) return;\n\n    for (const [key, value] of bindPropsMap) {\n        const { componentId: currentComponentId } = value;\n        if (currentComponentId === componentId) {\n            bindPropsMap.delete(key);\n        }\n    }\n};\n\n/**\n * Delete all refs of events. If slot in unused and a propsFromStore is unused remain in store So when active parser\n * counter is equal 0 ( no parser is running ) remove all reference\n *\n * @returns {void}\n */\nexport const removeOrphansBindProps = () => {\n    bindPropsMap.clear();\n    bindComponentTobindId.clear();\n};\n", "import { componentMap } from '../../component-map';\nimport { removeAndDestroyById } from './remove-and-destroy-by-id';\n\n/**\n * Remove all children od component inside a specific Node.\n *\n * @param {Object} param\n * @param {string} param.id\n * @param {Element | HTMLElement} param.container\n * @returns {void}\n */\nexport const destroyComponentInsideNodeById = ({ id, container }) => {\n    const instanceValue = componentMap.get(id);\n    const child = instanceValue?.child;\n    if (!child) return;\n\n    const allChild = Object.values(child ?? {}).flat();\n\n    allChild.forEach((id) => {\n        const state = componentMap.get(id);\n        const element = state?.element;\n        const currentId = state?.id ?? '';\n\n        if (element && container?.contains(element) && element !== container) {\n            removeAndDestroyById({ id });\n            return;\n        } else {\n            /**\n             * Case: no children component found && nested repeater with a repeater without component. Component can be\n             * in a nested repeater\n             */\n            destroyComponentInsideNodeById({ id: currentId, container });\n        }\n    });\n};\n", "import { MobCore, MobDetectBindKey } from '../../../mob-core';\nimport { watchById } from '../../component/action/watch';\nimport { ATTR_BIND_EFFECT } from '../../constant';\nimport { detectProp } from '../../utils';\n\n/** @type {import('./type').BindEffectMap} */\nconst bindEffectMap = new Map();\n\n/**\n * @param {string | string[] | (() => void) | (() => void)[]} observe\n * @returns {string[]}\n */\nconst getExplicitBind = (observe) => {\n    const observeArray = MobCore.checkType(Array, observe)\n        ? observe\n        : [observe];\n\n    // @ts-expect-error bindArray is forced to be an array.\n    return observeArray.map((item) => {\n        return detectProp(item);\n    });\n};\n\n/**\n * @param {object} params\n * @param {Record<string, () => string>} params.toggleStyle\n * @param {Record<string, () => void>} params.toggleClass\n * @param {Record<string, () => void>} params.toggleAttribute\n * @returns {string[]}\n */\nconst getAutoBind = ({ toggleClass, toggleStyle, toggleAttribute }) => {\n    MobDetectBindKey.initializeCurrentDependencies();\n    Object.values(toggleStyle).forEach((fn) => fn());\n    Object.values(toggleClass).forEach((fn) => fn());\n    Object.values(toggleAttribute).forEach((fn) => fn());\n    return MobDetectBindKey.getCurrentDependencies();\n};\n\n/**\n * Save bindClass data in temporary map\n *\n * @type {import('./type').BindEffectSet}\n */\nexport const setBindEffect = ({ data, id }) => {\n    /** @type {import('./type').BindEffectObject<any>[]} */\n    const dataToArray = MobCore.checkType(Array, data) ? data : [data];\n\n    const dataBindToArray = dataToArray.map(\n        ({ observe, toggleClass, toggleStyle, toggleAttribute }) => {\n            /**\n             * Detect explicit or auto dependencies.\n             */\n            const observeParsed = observe\n                ? getExplicitBind(observe)\n                : getAutoBind({\n                      toggleStyle: toggleStyle ?? { fake: () => '' },\n                      toggleClass: toggleClass ?? { fake: () => {} },\n                      toggleAttribute: toggleAttribute ?? { fake: () => {} },\n                  });\n\n            return {\n                observe: observeParsed,\n                toggleClass: toggleClass ?? {},\n                toggleStyle: toggleStyle ?? {},\n                toggleAttribute: toggleAttribute ?? {},\n            };\n        }\n    );\n\n    const item = {\n        parentId: id,\n        items: dataBindToArray,\n    };\n\n    const univoqueId = MobCore.getUnivoqueId();\n    bindEffectMap.set(univoqueId, item);\n    return univoqueId;\n};\n\n/**\n * Get data from map at the end of parse.\n *\n * @param {HTMLElement} element\n * @returns {void}\n */\nexport const applyBindEffect = (element) => {\n    const occurrences = /** @type {HTMLElement[]} */ ([\n        ...element.querySelectorAll(`[${ATTR_BIND_EFFECT}]`),\n    ]);\n\n    /**\n     * TODO: Check that target don't is garbage collected.\n     */\n    occurrences.forEach((target) => {\n        const id = target.getAttribute(ATTR_BIND_EFFECT);\n        if (!id) return;\n\n        const data = bindEffectMap.get(id);\n        if (!data) return;\n\n        target.removeAttribute(ATTR_BIND_EFFECT);\n        watchBindEffect({ data, element: target });\n        bindEffectMap.delete(id);\n    });\n};\n\n/**\n * @param {object} params\n * @param {WeakRef<HTMLElement>} params.ref\n * @param {Record<string, () => boolean> | undefined} params.data\n * @returns {void}\n */\nconst applyClass = ({ ref, data }) => {\n    if (!data) return;\n\n    Object.entries(data).forEach(([className, fn]) => {\n        if (!ref.deref()) return;\n\n        // @ts-ignore\n        ref.deref().classList.toggle(className, fn?.());\n    });\n};\n\n/**\n * @param {object} params\n * @param {WeakRef<HTMLElement>} params.ref\n * @param {Record<string, () => string>} params.data\n * @returns {void}\n */\nconst applyStyle = ({ ref, data }) => {\n    Object.entries(data).forEach(([styleName, fn]) => {\n        if (!ref.deref()) return;\n\n        // @ts-ignore\n        ref.deref().style[styleName] = fn?.() ?? '';\n    });\n};\n\n/**\n * @param {object} params\n * @param {WeakRef<HTMLElement>} params.ref\n * @param {Record<string, () => string | null | undefined>} params.data\n * @returns {void}\n */\nconst applyAttribute = ({ ref, data }) => {\n    Object.entries(data).forEach(([attributeName, fn]) => {\n        if (!ref.deref()) return;\n        const value = fn?.();\n\n        if (!value) {\n            // @ts-ignore\n            ref.deref().removeAttribute(attributeName);\n            return;\n        }\n\n        // @ts-ignore\n        ref.deref()?.setAttribute(attributeName, value);\n    });\n};\n\n/**\n * Apply watcher.\n *\n * @param {object} params\n * @param {import('./type').BindEffectMapValue} params.data\n * @param {HTMLElement} params.element\n * @returns {void}\n */\nconst watchBindEffect = ({ data, element }) => {\n    /** @type {WeakRef<HTMLElement>} */\n    const ref = new WeakRef(element);\n\n    const { parentId: id } = data;\n    const { items } = data;\n\n    const unsubScribeFunction = items.flatMap(\n        ({ observe, toggleClass, toggleStyle, toggleAttribute }) => {\n            /**\n             * Watch props on change\n             */\n            let watchIsRunning = false;\n\n            return observe.map((state) => {\n                /**\n                 * Initial class render\n                 */\n                if (toggleClass) {\n                    MobCore.useFrame(() => {\n                        applyClass({ ref, data: toggleClass });\n                    });\n                }\n\n                /**\n                 * Initial style render\n                 */\n                if (toggleStyle) {\n                    MobCore.useFrame(() => {\n                        applyStyle({ ref, data: toggleStyle });\n                    });\n                }\n\n                /**\n                 * Initial attribute render\n                 */\n                if (toggleAttribute) {\n                    MobCore.useFrame(() => {\n                        applyAttribute({ ref, data: toggleAttribute });\n                    });\n                }\n\n                return watchById(id, state, () => {\n                    /**\n                     * Check if element is garbage collected.\n                     */\n                    if (!ref || !ref?.deref()) {\n                        /**\n                         * Unsubscribe all watcher attached to this ref\n                         */\n                        unsubScribeFunction.forEach((fn) => {\n                            if (fn) fn();\n                        });\n\n                        unsubScribeFunction.length = 0;\n                        return;\n                    }\n\n                    /**\n                     * Wait for all all props is settled.\n                     */\n                    if (watchIsRunning) return;\n                    watchIsRunning = true;\n\n                    MobCore.useNextLoop(() => {\n                        MobCore.useFrame(() => {\n                            if (toggleClass && ref.deref()) {\n                                applyClass({ ref, data: toggleClass });\n                            }\n\n                            if (toggleStyle && ref.deref()) {\n                                applyStyle({ ref, data: toggleStyle });\n                            }\n\n                            if (toggleAttribute && ref.deref()) {\n                                applyAttribute({ ref, data: toggleAttribute });\n                            }\n\n                            watchIsRunning = false;\n                        });\n                    });\n                });\n            });\n        }\n    );\n};\n", "//@ts-check\n\nimport { componentMap } from '../../component/component-map';\nimport { ATTR_BIND_REFS_ID, ATTR_BIND_REFS_NAME } from '../../constant';\n\n/**\n * Get all simple node HTMLElement from track id ( trackRefsCollection ). All ref has parent id so is possible to get it\n * at the end of current parse\n *\n * @param {object} params\n * @param {HTMLElement | import('../../web-component/type').UserComponent} params.element\n * @returns {{ [key: string]: { element: HTMLElement; scopeId: string }[] }}\n */\nexport const getBindRefs = ({ element }) => {\n    const refs = element.querySelectorAll(`[${ATTR_BIND_REFS_ID}]`);\n\n    /** @type{Record<string, any>} */\n    const initialValue = {};\n\n    return [...refs].reduce((previous, current) => {\n        const refId = current.getAttribute(ATTR_BIND_REFS_ID);\n        const refName = current.getAttribute(ATTR_BIND_REFS_NAME);\n        current.removeAttribute(ATTR_BIND_REFS_ID);\n        current.removeAttribute(ATTR_BIND_REFS_NAME);\n\n        if (!refName) return previous;\n\n        const newRefsByName =\n            refName in previous\n                ? [...previous[refName], { element: current, scopeId: refId }]\n                : [{ element: current, scopeId: refId }];\n\n        return { ...previous, [refName]: newRefsByName };\n    }, initialValue);\n};\n\n/**\n * @param {HTMLElement[]} refs\n * @returns {HTMLElement[]}\n */\nexport const getRefsSorter = (refs) => {\n    return [\n        ...new Set(\n            refs.sort((a, b) => {\n                if (a === b || !a || !b) return 0;\n                if (a.compareDocumentPosition(b) & 2) {\n                    // b comes before a\n                    return 1;\n                }\n                return -1;\n            })\n        ),\n    ];\n};\n\n/**\n * @param {object} params\n * @param {{ [key: string]: HTMLElement[] }} params.refs\n * @param {string} params.refName\n * @param {HTMLElement} params.element\n */\nconst mergeRefsAndOrder = ({ refs, refName, element }) => {\n    return {\n        ...refs,\n        [refName]: getRefsSorter([...refs[refName], element]),\n    };\n};\n\n/**\n * @param {{ [key: string]: { element: HTMLElement; scopeId: string }[] }} refs\n */\nexport const addBindRefsToComponent = (refs) => {\n    Object.entries(refs).forEach(([refName, entries]) => {\n        entries.forEach(({ element, scopeId }) => {\n            const item = componentMap.get(scopeId);\n            if (!item) return;\n\n            const { refs: previousRef } = item;\n            if (!previousRef) return;\n\n            const newRefs =\n                refName in previousRef\n                    ? mergeRefsAndOrder({ refs: previousRef, refName, element })\n                    : { ...previousRef, [refName]: [element] };\n\n            componentMap.set(scopeId, {\n                ...item,\n                refs: newRefs,\n            });\n        });\n    });\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @returns {{ [key: string]: HTMLElement[] }}\n */\nexport const getBindRefsById = ({ id }) => {\n    const item = componentMap.get(id);\n    if (!item) return {};\n\n    const { refs, element } = item;\n    if (!refs) return {};\n\n    /**\n     * Remove ref cancelled by invalidate/repeater\n     */\n    const refsUpdated = Object.entries(refs)\n        .map(([name, collection]) => {\n            return {\n                name,\n                collection: collection.filter((ref) => element.contains(ref)),\n            };\n        })\n        .reduce((previous, current) => {\n            return { ...previous, [current.name]: current.collection };\n        }, {});\n\n    /**\n     * Update store\n     */\n    componentMap.set(id, {\n        ...item,\n        refs: refsUpdated,\n    });\n\n    return refsUpdated;\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @returns {{ [key: string]: HTMLElement }}\n */\nexport const getBindRefById = ({ id }) => {\n    const refs = getBindRefsById({ id });\n\n    return Object.entries(refs).reduce((previous, [name, collection]) => {\n        return { ...previous, [name]: collection?.[0] };\n    }, {});\n};\n", "/**\n * @type {HTMLElement}\n */\nlet root = document.createElement('div');\n\n/**\n * Set root app.\n *\n * @param {object} obj\n * @param {HTMLElement} obj.element Returns void\n */\nexport const setRoot = ({ element }) => {\n    root = element;\n};\n\n/**\n * Set root app.\n *\n * @returns {HTMLElement}\n */\nexport const getRoot = () => root;\n", "import { MobCore } from '../../../mob-core';\nimport { checkType } from '../../../mob-core/store/store-type';\nimport { getRepeaterStateById } from '../../component/action/repeater';\nimport { getIdByElement } from '../../component/action/element';\nimport { tick } from '../../queque/tick';\nimport { invalidateTick } from '../../queque/tick-invalidate';\nimport { repeaterTick } from '../../queque/tick-repeater';\nimport {\n    ATTR_WEAK_BIND_EVENTS,\n    DEFAULT_CURRENT_REPEATER_STATE,\n} from '../../constant';\nimport { getRoot } from '../../route/dom-ref/root';\nimport {\n    allowFireEvent,\n    getFireEvent,\n    preventFireEvent,\n} from '../common-event';\n\n/**\n * @type {Map<string, { [key: string]: () => void }[]>}\n */\nexport const tempDelegateEventMap = new Map();\n\n/**\n * @type {WeakMap<object, import('./type').WeakBindEventsDataArray | undefined>}\n */\nexport const eventDelegationMap = new WeakMap();\n\n/**\n * @type {string[]}\n */\nconst eventToAdd = [];\n\n/**\n * @type {string[]}\n */\nconst eventRegistered = [];\n\n/**\n * Store props and return a unique identifier\n *\n * @param {import('./type').DelegateEventObject<Event> | import('./type').DelegateEventObject<Event>[]} [eventsData]\n * @returns {string} Props id in store.\n */\nexport const setDelegateBindEvent = (eventsData = []) => {\n    const eventsDataParsed = checkType(Object, eventsData)\n        ? [eventsData]\n        : eventsData;\n\n    /**\n     * @type {string}\n     */\n    const id = MobCore.getUnivoqueId();\n    // @ts-ignore\n    tempDelegateEventMap.set(id, eventsDataParsed);\n\n    return id;\n};\n\n/**\n * @param {EventTarget | undefined} target\n * @returns {{ target: EventTarget | undefined; data: import('./type').WeakBindEventsDataArray | undefined }}\n */\nconst findParentElementInMap = (target) => {\n    // @ts-ignore\n    let parent = target?.parentNode;\n\n    while (parent) {\n        if (eventDelegationMap.has(parent))\n            return { target: parent, data: eventDelegationMap.get(parent) };\n        parent = parent?.parentNode;\n    }\n\n    return { target: undefined, data: undefined };\n};\n\n/**\n * @param {EventTarget} target\n * @returns {{ target: EventTarget | undefined; data: import('./type').WeakBindEventsDataArray | undefined }}\n */\nconst getItemFromTarget = (target) => {\n    const data = eventDelegationMap.get(target);\n    if (data) return { target, data: eventDelegationMap.get(target) };\n\n    /**\n     * Wall up DOM tree searcing first element in map. If event.target is inside element where eventi is applied.\n     */\n    return findParentElementInMap(target);\n};\n\n/**\n * @param {string} eventKey\n * @param {Event} event\n * @returns {Promise<void>}\n */\nasync function handleAction(eventKey, event) {\n    const target = event?.target;\n    if (!target) return;\n\n    /**\n     * Fire one event at time on end of app tick. Set shouldFireEvent to true immediatyle after tick to restore event if\n     * callback fail.\n     */\n    if (!getFireEvent()) return;\n    preventFireEvent();\n    await tick();\n    allowFireEvent();\n\n    const { target: targetParsed, data } = getItemFromTarget(target);\n\n    // @ts-ignore\n    if (!data || !document.contains(targetParsed)) return;\n\n    const currentEvent = data.find(({ event }) => event === eventKey);\n    if (!currentEvent) return;\n\n    /**\n     * Get callback.\n     */\n    const { callback } = currentEvent;\n\n    /**\n     * Get current repeater state if target is a component.\n     */\n    // @ts-ignore\n    const componentId = getIdByElement({ element: targetParsed });\n    const currentRepeaterState = componentId\n        ? getRepeaterStateById({\n              id: componentId,\n          })\n        : DEFAULT_CURRENT_REPEATER_STATE;\n\n    /**\n     * Replace target with new target ( parent of original target if event.tatget is inside )\n     */\n    Object.defineProperty(event, 'target', { value: targetParsed });\n    Object.defineProperty(event, 'currentTarget', { value: target });\n\n    /**\n     * Fire callback.\n     */\n    callback(event, currentRepeaterState?.current, currentRepeaterState?.index);\n}\n\n/**\n * Store props and return a unique identifier\n *\n * @param {HTMLElement} root\n * @returns {Promise<any>}\n */\nexport const applyDelegationBindEvent = async (root) => {\n    /**\n     * Await end of current reactive things ( bindpros/repeaters/invalidate )\n     */\n    await repeaterTick();\n    await invalidateTick();\n\n    /**\n     * Get parent node of root ( root of parseComponentRecursive ).\n     */\n    const parent = root.parentNode;\n    const elements =\n        parent?.querySelectorAll(`[${ATTR_WEAK_BIND_EVENTS}]`) ?? [];\n\n    /**\n     * Create event object associated to DOM element.\n     */\n    [...elements].forEach((element) => {\n        const id = element.getAttribute(ATTR_WEAK_BIND_EVENTS) ?? '';\n        element.removeAttribute(ATTR_WEAK_BIND_EVENTS);\n        const data = tempDelegateEventMap.get(id);\n        tempDelegateEventMap.delete(id);\n\n        const dataParsed = data?.flatMap((item) => {\n            return Object.entries(item).map((current) => {\n                const [event, callback] = current;\n                if (!eventToAdd.includes(event)) eventToAdd.push(event);\n                return { event, callback };\n            });\n        });\n\n        eventDelegationMap.set(element, dataParsed);\n    });\n\n    const rootElement = getRoot();\n\n    /**\n     * Cycle all event and add a click if needed.\n     */\n    eventToAdd.forEach((eventKey) => {\n        if (eventRegistered.includes(eventKey)) return;\n        eventRegistered.push(eventKey);\n\n        rootElement.addEventListener(\n            eventKey,\n            handleAction.bind(null, eventKey)\n        );\n    });\n};\n", "// @ts-check\n\nimport { compareIdOrParentIdRecursive } from '../component/action/parent';\nimport { invalidateIdPlaceHolderMap } from './invalidate/invalidate-id-placeholder-map';\nimport { repeatIdPlaceHolderMap } from './repeater/repeat-id-placeholder-map';\n\nexport const MODULE_REPEATER = 'repeater';\nexport const MODULE_INVALIDATE = 'invalidate';\n\n/**\n * Get all repeat or invalidate inside HTMLElement\n *\n * @param {object} params\n * @param {HTMLElement} params.element\n * @param {boolean} [params.skipInitialized]\n * @param {boolean} [params.onlyInitialized]\n * @param {string} [params.componentId]\n * @param {string} params.module\n * @returns {{ id: string; parent: HTMLElement | undefined }[]}\n */\nexport const getRepeatOrInvalidateInsideElement = ({\n    element,\n    skipInitialized = false,\n    onlyInitialized = false,\n    componentId,\n    module,\n}) => {\n    const entries =\n        module === MODULE_REPEATER\n            ? repeatIdPlaceHolderMap.entries()\n            : invalidateIdPlaceHolderMap.entries();\n\n    const result = [];\n\n    /**\n     * Prefer cycle on map instead create a copy for performance. Better for memory.\n     */\n    for (const item of entries) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const [_id, { element: currentElement, initialized, scopeId }] = item;\n\n        /**\n         * Skip 1\n         *\n         * When destroy nested repat compare the the scope id is the same or a parent id Check only repeate descendants\n         * by scopeId\n         */\n        if (\n            componentId &&\n            !compareIdOrParentIdRecursive({\n                id: scopeId ?? '',\n                compareValue: componentId,\n            })\n        )\n            continue;\n\n        /**\n         * Skip 2\n         *\n         * Only not initialized. Use on create nested modules\n         */\n        if (skipInitialized && initialized) continue;\n\n        /**\n         * Only initialized. Use on destroy nested modules\n         */\n        if (onlyInitialized && !initialized) continue;\n\n        const condition =\n            currentElement &&\n            element?.contains(currentElement) &&\n            element !== currentElement;\n\n        if (condition) result.push(item);\n    }\n\n    return result.map(([id, parent]) => ({\n        id,\n        parent: parent?.element,\n    }));\n\n    // return entries\n    //     .filter(\n    //         // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    //         ([_id, { element: currentElement, initialized, scopeId }]) => {\n    //             /**\n    //              * When destroy nested repat compare the the scope id is the same or a parent id Check only repeate\n    //              * descendants by scopeId\n    //              */\n    //             if (\n    //                 componentId &&\n    //                 !compareIdOrParentIdRecursive({\n    //                     id: scopeId ?? '',\n    //                     compareValue: componentId,\n    //                 })\n    //             )\n    //                 return;\n    //\n    //             /**\n    //              * Only not initialized. Use on create nested modules\n    //              */\n    //             if (skipInitialized && initialized) return false;\n    //\n    //             /**\n    //              * Only initialized. Use on destroy nested modules\n    //              */\n    //             if (onlyInitialized && !initialized) return false;\n    //\n    //             /**\n    //              * Last DOM check\n    //              */\n    //             return (\n    //                 currentElement &&\n    //                 element?.contains(currentElement) &&\n    //                 element !== currentElement\n    //             );\n    //         }\n    //     )\n    //     .map(([id, parent]) => ({\n    //         id,\n    //         parent: parent?.element,\n    //     }));\n};\n", "// @ts-check\n\nimport { repeatFunctionMap } from '../repeat-function-map';\nimport { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * Remove repeat by id filtered by repeatId Remove only current repeater, each component use many repater.\n *\n * @param {object} params\n * @param {string} params.id - Component id\n * @param {string} params.repeatId - Repeat id\n * @returns {void}\n */\n\nexport const removeRepeatByRepeatId = ({ id, repeatId }) => {\n    if (!repeatFunctionMap.has(id)) return;\n\n    const value = repeatFunctionMap.get(id);\n    if (!value) return;\n\n    const valueParsed = value.filter((item) => item.repeatId !== repeatId);\n\n    if (repeatIdPlaceHolderMap.has(repeatId)) {\n        repeatIdPlaceHolderMap.delete(repeatId);\n    }\n\n    repeatFunctionMap.set(id, valueParsed);\n};\n", "// @ts-check\n\nimport { repeatFunctionMap } from '../repeat-function-map';\nimport {\n    getRepeatOrInvalidateInsideElement,\n    MODULE_REPEATER,\n} from '../../common-repeat-invalidate';\nimport { removeRepeatByRepeatId } from './remove-repeat-by-repeat-id';\n\n/**\n * Destroy nester repeat.\n *\n * @param {object} params\n * @param {string} params.id\n * @param {HTMLElement} params.repeatParent\n * @returns {void}\n */\n\nexport const destroyNestedRepeat = ({ id, repeatParent }) => {\n    /**\n     * Filter repater with scopeId equal or descendants of componentId Avoid unnecessary element.contains() check.\n     */\n    const repeatChildToDelete = getRepeatOrInvalidateInsideElement({\n        element: repeatParent,\n        skipInitialized: false,\n        onlyInitialized: true,\n        componentId: id,\n        module: MODULE_REPEATER,\n    });\n\n    /**\n     * Prefer cycle componentMap instead create a copy for performance. Better for memory.\n     */\n    for (const value of repeatFunctionMap.values()) {\n        value.forEach(({ repeatId, unsubscribe }) => {\n            const condition = repeatChildToDelete.some((current) => {\n                return current.id === repeatId;\n            });\n\n            if (condition) {\n                unsubscribe();\n                removeRepeatByRepeatId({ id, repeatId });\n            }\n        });\n    }\n\n    // const repeatChildToDeleteParsed = [...repeatFunctionMap.values()]\n    //     .flat()\n    //     .filter((item) => {\n    //         return repeatChildToDelete.some((current) => {\n    //             return current.id === item.repeatId;\n    //         });\n    //     });\n    //\n    // repeatChildToDeleteParsed.forEach((item) => {\n    //     item.unsubscribe();\n    //\n    //     removeRepeatByRepeatId({\n    //         id,\n    //         repeatId: item.repeatId,\n    //     });\n    // });\n};\n", "import { repeatFunctionMap } from '../repeat-function-map';\nimport {\n    getRepeatOrInvalidateInsideElement,\n    MODULE_REPEATER,\n} from '../../common-repeat-invalidate';\n\n/**\n * Initialize watch function of nested repeat. Start initialize from older one, so child repeat is render after parent\n * repeat\n *\n * @param {object} params\n * @param {HTMLElement | undefined} params.repeatParent\n * @param {string} params.id - ComponentId\n * @returns {void}\n */\nexport const inizializeNestedRepeat = ({ repeatParent, id }) => {\n    if (!repeatParent) return;\n\n    const newRepeatChild = getRepeatOrInvalidateInsideElement({\n        element: repeatParent,\n        skipInitialized: true,\n        onlyInitialized: false,\n        componentId: id,\n        module: MODULE_REPEATER,\n    });\n\n    /**\n     * Prefer cycle on map instead create a copy for performance. Better for memory.\n     */\n    for (const value of repeatFunctionMap.values()) {\n        value.forEach(({ repeatId, fn }) => {\n            const condition = newRepeatChild.some((current) => {\n                return current.id === repeatId;\n            });\n\n            if (condition) fn();\n        });\n    }\n\n    // const repeatChildToInizialize = [...repeatFunctionMap.values()]\n    //     .flat()\n    //     .filter(({ repeatId }) => {\n    //         return newRepeatChild.some((current) => {\n    //             return current.id === repeatId;\n    //         });\n    //     });\n    //\n    // repeatChildToInizialize.forEach(({ fn }) => {\n    //     fn();\n    // });\n};\n", "// @ts-check\n\nimport { invalidateFunctionMap } from '../invalidate-function-map';\n\n/**\n * Add new invalidate unsubscribe function in map. key is component id associated to these function.\n *\n * @param {object} params\n * @param {string} params.id - Component id\n * @param {string} params.invalidateId - Invalidate id\n * @param {(() => void)[]} params.unsubscribe\n * @returns {void}\n */\n\nexport const addInvalidateUnsubcribe = ({ id, invalidateId, unsubscribe }) => {\n    const currentFunctions = invalidateFunctionMap.get(id) ?? [];\n    const item = currentFunctions.map((item) => {\n        if (item.invalidateId === invalidateId) {\n            return { ...item, unsubscribe };\n        }\n\n        return item;\n    });\n\n    invalidateFunctionMap.set(id, item);\n};\n", "// @ts-check\n\nimport { invalidateFunctionMap } from '../invalidate-function-map';\nimport { invalidateIdPlaceHolderMap } from '../invalidate-id-placeholder-map';\n\n/**\n * Remove invalidate by id filtered by invalidateId Remove only current invalidate, each component use many invalidate.\n *\n * @param {object} params\n * @param {string} params.id - Component id\n * @param {string} params.invalidateId - Invalidate id\n * @returns {void}\n */\n\nexport const removeInvalidateByInvalidateId = ({ id, invalidateId }) => {\n    if (!invalidateFunctionMap.has(id)) return;\n\n    const value = invalidateFunctionMap.get(id);\n    if (!value) return;\n\n    const valueParsed = value.filter(\n        (item) => item.invalidateId !== invalidateId\n    );\n\n    if (invalidateIdPlaceHolderMap.has(invalidateId)) {\n        invalidateIdPlaceHolderMap.delete(invalidateId);\n    }\n\n    invalidateFunctionMap.set(id, valueParsed);\n};\n", "// @ts-check\n\nimport {\n    getRepeatOrInvalidateInsideElement,\n    MODULE_INVALIDATE,\n} from '../../common-repeat-invalidate';\nimport { removeInvalidateByInvalidateId } from './remove-invalidate-by-invalidate-id';\nimport { invalidateFunctionMap } from '../invalidate-function-map';\n\n/**\n * Destroy nester invalidate.\n *\n * @param {object} params\n * @param {string} params.id\n * @param {HTMLElement} params.invalidateParent\n * @returns {void}\n */\n\nexport const destroyNestedInvalidate = ({ id, invalidateParent }) => {\n    const invalidatechildToDelete = getRepeatOrInvalidateInsideElement({\n        element: invalidateParent,\n        skipInitialized: false,\n        onlyInitialized: true,\n        componentId: id,\n        module: MODULE_INVALIDATE,\n    });\n\n    /**\n     * Prefer cycle componentMap instead create a copy for performance. Better for memory.\n     */\n    for (const value of invalidateFunctionMap.values()) {\n        value.forEach(({ invalidateId, unsubscribe }) => {\n            const condition = invalidatechildToDelete.some((current) => {\n                return current.id === invalidateId;\n            });\n\n            if (condition) {\n                unsubscribe.forEach((fn) => {\n                    fn();\n                });\n\n                removeInvalidateByInvalidateId({ id, invalidateId });\n            }\n        });\n    }\n\n    // const invalidateChildToDeleteParsed = [...invalidateFunctionMap.values()]\n    //     .flat()\n    //     .filter((item) => {\n    //         return invalidatechildToDelete.some((current) => {\n    //             return current.id === item.invalidateId;\n    //         });\n    //     });\n    //\n    // invalidateChildToDeleteParsed.forEach((item) => {\n    //     item.unsubscribe.forEach((fn) => {\n    //         fn();\n    //     });\n    //\n    //     removeInvalidateByInvalidateId({\n    //         id,\n    //         invalidateId: item.invalidateId,\n    //     });\n    // });\n};\n", "// @ts-check\n\nimport { invalidateIdHostMap } from '../invalidate-id-host-map';\nimport { invalidateIdPlaceHolderMap } from '../invalidate-id-placeholder-map';\n\n/**\n * Get invalidate parent by invalidate id.\n *\n * @param {object} params\n * @param {string} params.id\n * @returns {HTMLElement | undefined}\n */\n\nexport const getInvalidateParent = ({ id }) => {\n    if (!invalidateIdPlaceHolderMap.has(id)) {\n        return;\n    }\n\n    /**\n     * Remove webComponent after first call to invalidateParent\n     */\n    if (invalidateIdHostMap.has(id)) {\n        const host = invalidateIdHostMap.get(id);\n        // @ts-ignore\n        host?.removeCustomComponent();\n        host?.remove();\n        invalidateIdHostMap.delete(id);\n    }\n\n    const parent = invalidateIdPlaceHolderMap.get(id);\n    return parent?.element;\n};\n", "// @ts-check\n\nimport {\n    getRepeatOrInvalidateInsideElement,\n    MODULE_INVALIDATE,\n} from '../../common-repeat-invalidate';\nimport { invalidateFunctionMap } from '../invalidate-function-map';\n\n/**\n * Initialize watch function of nested invalidate. Start initialize from older one, so child invalidate is render after\n * parent invalidate\n *\n * @param {object} params\n * @param {HTMLElement | undefined} params.invalidateParent\n * @param {string} params.id - ComponentId\n * @returns {void}\n */\n\nexport const inizializeNestedInvalidate = ({ invalidateParent, id }) => {\n    if (!invalidateParent) return;\n\n    const newInvalidateChild = getRepeatOrInvalidateInsideElement({\n        element: invalidateParent,\n        skipInitialized: true,\n        onlyInitialized: false,\n        componentId: id,\n        module: MODULE_INVALIDATE,\n    });\n\n    /**\n     * Prefer cycle on map instead create a copy for performance. Better for memory.\n     */\n    for (const value of invalidateFunctionMap.values()) {\n        value.forEach(({ invalidateId, fn }) => {\n            const condition = newInvalidateChild.some((current) => {\n                return current.id === invalidateId;\n            });\n\n            if (condition) fn();\n        });\n    }\n\n    // const invalidateChildToInizialize = [...invalidateFunctionMap.values()]\n    //     .flat()\n    //     .filter(({ invalidateId }) => {\n    //         return newInvalidateChild.some((current) => {\n    //             return current.id === invalidateId;\n    //         });\n    //     });\n    //\n    // invalidateChildToInizialize.forEach(({ fn }) => {\n    //     fn();\n    // });\n};\n", "// @ts-check\n\nimport { MobCore } from '../../../../mob-core';\nimport {\n    freezePropById,\n    unFreezePropById,\n} from '../../../component/action/freeze';\nimport { getParentIdFromWeakElementMap } from '../../../component/action/parent';\nimport { destroyComponentInsideNodeById } from '../../../component/action/remove-and-destroy/destroy-component-inside-node-by-id';\nimport { QUEQUE_TYPE_INVALIDATE } from '../../../constant';\nimport { MAIN_STORE_ASYNC_PARSER } from '../../../main-store/constant';\nimport {\n    mainStore,\n    resetMainStoreAsyncParser,\n} from '../../../main-store/main-store';\nimport { incrementTickQueuque } from '../../../queque/tick';\nimport { incrementInvalidateTickQueuque } from '../../../queque/tick-invalidate';\nimport { destroyNestedRepeat } from '../../repeater/action/destroy-nested-repeat';\nimport { inizializeNestedRepeat } from '../../repeater/action/inizialize-nested-repeat';\nimport { addInvalidateUnsubcribe } from './add-invalidate-unsubcribe';\nimport { destroyNestedInvalidate } from './destroy-nested-invalidate';\nimport { getInvalidateParent } from './get-invalidate-parent';\nimport { inizializeNestedInvalidate } from './inizialize-nested-invalidate';\n\n/**\n * @param {object} params\n * @param {string[]} params.observe\n * @param {() => Promise<any>} params.beforeUpdate\n * @param {() => void} params.afterUpdate\n * @param {import('../../../type').Watch<any>} params.watch\n * @param {string} params.id\n * @param {boolean | undefined} params.persistent\n * @param {string} params.invalidateId\n * @param {() => string} params.renderFunction\n * @returns {Promise<any>}\n */\nexport const inizializeInvalidateWatch = async ({\n    observe = [],\n    beforeUpdate = () => Promise.resolve(),\n    afterUpdate = () => {},\n    watch,\n    id,\n    invalidateId,\n    persistent = false,\n    renderFunction,\n}) => {\n    /**\n     * Watch props on change\n     */\n    let watchIsRunning = false;\n\n    /**\n     * When invalidateId is created nested Main component is not parsed. So addSelfIdToParentComponent doesn't work. Get\n     * first element that contains invalidateParent start from last map element.\n     */\n    const fallBackParentId = getParentIdFromWeakElementMap({\n        element: getInvalidateParent({ id: invalidateId }),\n    });\n\n    /**\n     * Fire first callback The main parse is ended.\n     */\n    afterUpdate();\n\n    /**\n     * Update component\n     */\n    const unsubScribeArray = observe.map((state) => {\n        const unsubscribe = watch(state, async () => {\n            if (watchIsRunning) return;\n\n            freezePropById({ id, prop: state });\n\n            const invalidateParent = getInvalidateParent({\n                id: invalidateId,\n            });\n\n            /**\n             * Track queque.\n             */\n            const descrementQueue = incrementTickQueuque({\n                state,\n                id,\n                type: QUEQUE_TYPE_INVALIDATE,\n            });\n\n            const decrementInvalidateQueque = incrementInvalidateTickQueuque({\n                state,\n                id,\n                type: QUEQUE_TYPE_INVALIDATE,\n            });\n\n            /**\n             * Update\n             */\n            watchIsRunning = true;\n            MobCore.useNextLoop(async () => {\n                if (!invalidateParent) {\n                    unFreezePropById({ id, prop: state });\n                    return;\n                }\n\n                await beforeUpdate();\n\n                /**\n                 * Remove child invalidate of this invalidate.\n                 */\n                destroyNestedInvalidate({ id, invalidateParent });\n                destroyNestedRepeat({ id, repeatParent: invalidateParent });\n\n                /**\n                 * Remove old component.\n                 */\n                destroyComponentInsideNodeById({\n                    id: fallBackParentId ?? id,\n                    container: invalidateParent,\n                });\n\n                /**\n                 * Create new component.\n                 */\n                invalidateParent.textContent = '';\n                invalidateParent.insertAdjacentHTML(\n                    'afterbegin',\n                    renderFunction()\n                );\n\n                /**\n                 * Parse new component.\n                 */\n                mainStore.set(\n                    MAIN_STORE_ASYNC_PARSER,\n                    {\n                        element: invalidateParent,\n                        parentId: fallBackParentId ?? id,\n                        persistent,\n                    },\n                    { emit: false }\n                );\n\n                await mainStore.emitAsync(MAIN_STORE_ASYNC_PARSER);\n                resetMainStoreAsyncParser();\n\n                watchIsRunning = false;\n                descrementQueue();\n                decrementInvalidateQueque();\n\n                /**\n                 * Run new invalidate init function\n                 */\n                inizializeNestedInvalidate({ invalidateParent, id });\n                inizializeNestedRepeat({ repeatParent: invalidateParent, id });\n\n                unFreezePropById({ id, prop: state });\n\n                afterUpdate();\n            });\n        });\n\n        return unsubscribe;\n    });\n\n    addInvalidateUnsubcribe({\n        id,\n        invalidateId,\n        unsubscribe: unsubScribeArray,\n    });\n};\n", "import { MobCore } from '../../../../mob-core';\nimport { detectProp } from '../../../utils';\n\n/**\n * @param {string | string[] | (() => any)[] | (() => any) | undefined} observeProp\n * @returns {string[]}\n */\nexport const parseObserveInvalidate = (observeProp) => {\n    const observeArray = MobCore.checkType(Array, observeProp)\n        ? observeProp\n        : [observeProp];\n\n    // @ts-expect-error bindArray is forced to be an array.\n    return observeArray.map((item) => {\n        return detectProp(item);\n    });\n};\n", "// @ts-check\n\nimport { invalidateFunctionMap } from '../invalidate-function-map';\n\n/**\n * Add new invalidate sterter function in map. key is component id associated to these function.\n *\n * @param {object} params\n * @param {string} params.id - Component id\n * @param {string} params.invalidateId - Invalidate id\n * @param {() => void} params.fn\n * @returns {void}\n */\n\nexport const setInvalidateFunction = ({ id, invalidateId, fn }) => {\n    const currentFunctions = invalidateFunctionMap.get(id) ?? [];\n    invalidateFunctionMap.set(id, [\n        ...currentFunctions,\n        { invalidateId, fn, unsubscribe: [() => {}] },\n    ]);\n};\n", "// @ts-check\n\nimport { invalidateIdPlaceHolderMap } from '../invalidate-id-placeholder-map';\n\n/**\n * Set initialized to true. Set scopedId.\n *\n * @param {object} params\n * @param {string} params.invalidateId - InvalidateId\n * @returns {void}\n */\n\nexport const setInvalidatePlaceholderMapInitialized = ({ invalidateId }) => {\n    const item = invalidateIdPlaceHolderMap.get(invalidateId);\n    if (!item) return;\n\n    invalidateIdPlaceHolderMap.set(invalidateId, {\n        ...item,\n        initialized: true,\n    });\n};\n", "// @ts-check\n\nimport { invalidateIdPlaceHolderMap } from '../invalidate-id-placeholder-map';\n\n/**\n * Is the first call to populate placeholderMap. Initialize all the props.\n *\n * Here we have scopeId, content is just render from getParamsForComponent() element: we will wait the end of parse.\n * initialize: we will wait fire function.\n *\n * @param {object} params\n * @param {string} params.invalidateId - InvalidateId\n * @param {string} params.scopeId - ScopeId\n * @returns {void}\n */\n\nexport const setInvalidatePlaceholderMapScopedId = ({\n    invalidateId,\n    scopeId,\n}) => {\n    invalidateIdPlaceHolderMap.set(invalidateId, {\n        element: undefined,\n        initialized: false,\n        scopeId,\n    });\n};\n", "// @ts-check\n\nimport { repeatFunctionMap } from '../repeat-function-map';\n\n/**\n * Add new repeat unsubScribe function in map. key is component id associated to these function.\n *\n * @param {object} params\n * @param {string} params.id - Component id\n * @param {string} params.repeatId - Repeat id\n * @param {() => void} params.unsubscribe\n * @returns {void}\n */\n\nexport const addRepeatUnsubcribe = ({ id, repeatId, unsubscribe }) => {\n    const currentFunctions = repeatFunctionMap.get(id) ?? [];\n    const item = currentFunctions.map((item) => {\n        if (item.repeatId === repeatId) {\n            return { ...item, unsubscribe };\n        }\n\n        return item;\n    });\n\n    repeatFunctionMap.set(id, item);\n};\n", "// @ts-check\n\n/**\n * @type {Set<{ id: string; state: string; container: HTMLElement }>}\n */\nexport const activeRepeatMap = new Set();\n\n/**\n * Set active repeat\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.state\n * @param {HTMLElement} obj.container\n * @returns {void}\n */\nexport const addActiveRepeat = ({ id, state, container }) => {\n    activeRepeatMap.add({ id, state, container });\n};\n\n/**\n * Remove active repeat\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.state\n * @param {HTMLElement | undefined} obj.container\n * @returns {void}\n */\nexport const removeActiveRepeat = ({ id, state, container }) => {\n    if (!container) return;\n\n    activeRepeatMap.forEach((repeat) => {\n        if (\n            id === repeat.id &&\n            state === repeat.state &&\n            container === repeat.container\n        ) {\n            activeRepeatMap.delete(repeat);\n        }\n    });\n};\n\n/**\n * Get active repeat\n *\n * @param {object} obj\n * @param {string} obj.id\n * @param {string} obj.state\n * @param {HTMLElement | undefined} obj.container\n * @returns {boolean}\n */\nexport const getActiveRepeater = ({ id = '', state = '', container }) => {\n    const repeatIsActive = [...activeRepeatMap].some((repeat) => {\n        return (\n            id === repeat.id &&\n            state === repeat.state &&\n            container === repeat.container\n        );\n    });\n\n    return repeatIsActive;\n};\n", "// @ts-check\n\nimport { MobCore } from '../../../mob-core';\nimport { getRepeaterStateById } from '../../component/action/repeater';\n\n/**\n * Get new element of current array compare to previous.\n *\n * @param {any[]} current\n * @param {any[]} previous\n * @param {string} key\n * @returns {any[]}\n */\nexport const getItemToRemoveByKey = (current = [], previous = [], key = '') => {\n    return current.filter((el) => {\n        const value = el?.[key];\n        return !previous.some((a) => a?.[key] === value);\n    });\n};\n\n/**\n * Mix previous and current data to manage the insertion of new component in right position.\n *\n * @param {any[]} current\n * @param {any[]} previous\n * @param {string} key\n * @returns {{ isNewElement: boolean; keyValue: string; index: number }[]}\n */\nexport const mixPreviousAndCurrentData = (current, previous, key) => {\n    return current.map((el, index) => {\n        const value = el?.[key];\n        const isNewElement = !previous.some((a) => a?.[key] === value);\n        return isNewElement\n            ? { isNewElement: true, keyValue: el?.[key], index }\n            : { isNewElement: false, keyValue: el?.[key], index };\n    });\n};\n\n/**\n * Check if all new item in list has key.\n *\n * @param {object} obj\n * @param {any[]} obj.arr\n * @param {string} obj.key\n * @returns {boolean}\n */\nconst arrayhaskey = ({ arr = [], key = '' }) => {\n    return arr.every((/** @type {object} */ item) => {\n        return MobCore.checkType(Object, item) && key in item;\n    });\n};\n\n/**\n * Check if current and previous array has key.\n *\n * @param {object} obj\n * @param {any[]} obj.current\n * @param {any[]} obj.previous\n * @param {string} obj.key\n * @returns {boolean}\n */\nexport const listKeyExist = ({ current, previous, key }) => {\n    return (\n        arrayhaskey({ arr: current, key }) &&\n        arrayhaskey({ arr: previous, key })\n    );\n};\n\n/**\n * Get univique array by key.\n *\n * @param {object} obj\n * @param {any[]} obj.data\n * @param {string | undefined} obj.key\n * @returns {Record<string, any>[]}\n */\nexport const getUnivoqueByKey = ({ data = [], key = '' }) => {\n    return data.filter(\n        (v, i, a) => a.findIndex((v2) => v2?.[key] === v?.[key]) === i\n    );\n};\n\n/**\n * Group component inside single repeat node\n *\n * @param {object} obj\n * @param {string[]} obj.children\n * @param {string[]} [obj.previousChildren]\n * @returns {string[][]}\n */\nexport const chunkIdsByCurrentValue = ({ children, previousChildren = [] }) => {\n    /** @type {Record<string, any>} */\n    const initialState = {};\n\n    return previousChildren.length === 0\n        ? Object.values(\n              /**\n               * Chunk children by currentValue ( index ) from a previous empty array.\n               */\n              children.reduce((previous, current) => {\n                  const { index } = getRepeaterStateById({ id: current });\n\n                  if (index in previous) {\n                      return {\n                          ...previous,\n                          [index]: [...previous[index], current],\n                      };\n                  }\n\n                  return { ...previous, [index]: [current] };\n              }, initialState)\n          )\n        : Object.values(\n              /**\n               * New elements has the same index of persistent element.\n               *\n               * The currentValue values of each component at this point have not yet been updated, so new index values\n               * collide with previous ones (persistent elements).\n               *\n               * Mark new index element with `_<index>` char so we have a new group of component for new repeat node.\n               *\n               * `_<index>` has only internal use state, the function return string[][], the scope of `_<index>` is only\n               * create a new group.\n               */\n              children.reduce((previous, current) => {\n                  const { index } = getRepeaterStateById({ id: current });\n\n                  const indexParsed = previousChildren.includes(current)\n                      ? `${index}`\n                      : `_${index}`;\n\n                  const values = previous?.[indexParsed];\n\n                  if (values) {\n                      return {\n                          ...previous,\n                          [indexParsed]: [...values, current],\n                      };\n                  }\n\n                  return { ...previous, [indexParsed]: [current] };\n              }, initialState)\n          );\n};\n", "// @ts-check\n\nimport { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * Is the first call to populate placeholderMap. Initialize all the props.\n *\n * Here we have scopeId, content is just render from getParamsForComponent() element: we will wait the end of parse.\n * initialize: we will wait fire function.\n *\n * @param {object} params\n * @param {string} params.repeatId\n * @returns {any[]}\n */\n\nexport const getRepeaterPlaceholderCurrentData = ({ repeatId }) => {\n    const item = repeatIdPlaceHolderMap.get(repeatId);\n    if (!item) return [];\n\n    return item.currentData;\n};\n", "import { MobDetectBindKey } from '../../../../mob-core';\nimport { clamp } from '../../../utils';\nimport { getRepeaterPlaceholderCurrentData } from '../action/get-repeat-placeholder-map-current-data';\n\nconst REPEAT_PROXI_INDEX = 'index';\n\n/**\n * Reactive state for repeat. Note: bindObject can run after 'item' is destroyed ( wekRef issue ). So clamp index value\n * with current array length. The item is not visible but can fire error.\n *\n * @param {object} params\n * @param {string} params.observe\n * @param {boolean} params.hasKey\n * @param {string} [params.key]\n * @param {any} [params.keyValue]\n * @param {number} params.index\n * @param {string} params.repeatId\n * @returns {Record<string, any>}\n */\nexport const getRepeatProxi = ({\n    observe,\n    hasKey,\n    key = '',\n    keyValue = '',\n    index,\n    repeatId,\n}) => {\n    /**\n     * Initial value.\n     */\n    const inistalState = getRepeaterPlaceholderCurrentData({ repeatId });\n\n    const startValue = hasKey\n        ? inistalState?.find(\n              (/** @type {{ [x: string]: any }} */ item) =>\n                  item[key] === keyValue\n          )\n        : inistalState?.[index];\n\n    let currentValue = startValue;\n    let lastValue = startValue;\n\n    return new Proxy(\n        {},\n        {\n            get(_, prop) {\n                /**\n                 * Autodetect dependencies\n                 */\n                MobDetectBindKey.setCurrentDependencies(observe);\n\n                /**\n                 * Use last updated state Proxi target should be not last value.\n                 */\n                const state = getRepeaterPlaceholderCurrentData({ repeatId });\n\n                const maxValue = Math.max(state?.length - 1, 0);\n\n                /**\n                 * Return current.index\n                 */\n                if (prop === REPEAT_PROXI_INDEX) {\n                    /**\n                     * Return index by key.\n                     */\n                    if (hasKey) {\n                        const indexByKey = state?.findIndex(\n                            (/** @type {{ [x: string]: any }} */ item) =>\n                                item[key] === keyValue\n                        );\n\n                        return clamp(indexByKey, 0, maxValue);\n                    }\n\n                    /**\n                     * Return index without key.\n                     */\n                    return clamp(index, 0, maxValue);\n                }\n\n                /**\n                 * Return current.value ( default ). Return value by key Prevent undefined, return last value fallback\n                 */\n                if (hasKey) {\n                    lastValue = currentValue ?? lastValue;\n                    currentValue = state?.find(\n                        (/** @type {{ [x: string]: any }} */ item) =>\n                            item[key] === keyValue\n                    );\n\n                    return currentValue ?? lastValue;\n                }\n\n                /**\n                 * Return value without key. Prevent undefined, return last value fallback\n                 */\n                lastValue = currentValue ?? lastValue;\n                currentValue = state?.[clamp(index, 0, maxValue)];\n                return currentValue ?? lastValue;\n            },\n            set() {\n                /**\n                 * Set action not allowed.\n                 */\n                return false;\n            },\n        }\n    );\n};\n", "import { getInMemorySet } from '../../../component/in-memory-element-set';\nimport {\n    ATTR_CHILD_REPEATID,\n    ATTR_CURRENT_LIST_VALUE,\n    ATTR_KEY,\n    ATTR_REPEATER_PROP_BIND,\n} from '../../../constant';\nimport {\n    setRepeatAttribute,\n    setRepeatAttributeFromInMemory,\n} from '../../../parse/steps/utils';\nimport { useRepeatWithoutSyncQuery } from '../../../parse/strategy';\nimport { queryAllFutureComponent } from '../../../query/query-all-future-component';\nimport {\n    getSkipAddUserComponent,\n    setSkipAddUserComponent,\n} from '../../user-component';\nimport { setComponentRepeaterState } from '../repeater-value';\nimport { getRepeatProxi } from './get-proxi';\n\n/**\n * @param {object} params\n * @param {number} params.diff\n * @param {any} params.current\n * @param {number} params.previousLenght\n * @param {string} params.state\n * @param {string} params.repeatId\n * @param {import('../type').RepeaterRender} params.render\n * @returns {Element[]}\n */\nexport const updateRepeaterWitoutKey = ({\n    diff,\n    current,\n    previousLenght,\n    render,\n    state,\n    repeatId,\n}) => {\n    const range = document.createRange();\n\n    /**\n     * Create palcehodler component\n     */\n    const renderedDOM = [...Array.from({ length: diff }).keys()].map(\n        (_item, index) => {\n            const initialValue = current?.[index + previousLenght];\n            const initialIndex = index + previousLenght;\n\n            const proxiObject = getRepeatProxi({\n                observe: state,\n                hasKey: false,\n                index: initialIndex,\n                repeatId,\n            });\n\n            const rawRender = render({\n                initialIndex,\n                initialValue,\n                current: proxiObject,\n                sync: () => '',\n            });\n\n            const lastSkipUserValue = getSkipAddUserComponent();\n            setSkipAddUserComponent(true);\n\n            const fragment = range.createContextualFragment(rawRender);\n\n            /**\n             * GetParamsForComponentFunction repeat first render can reset skip value. If shoulf be true set true and\n             * not false.\n             */\n            setSkipAddUserComponent(lastSkipUserValue);\n\n            if (useRepeatWithoutSyncQuery) {\n                const components = queryAllFutureComponent(fragment, false).map(\n                    (element) => {\n                        return new WeakRef(element);\n                    }\n                );\n\n                setRepeatAttribute({\n                    components,\n                    current: initialValue,\n                    index: initialIndex,\n                    observe: state,\n                    repeatId,\n                    key: undefined,\n                });\n            }\n\n            if (!useRepeatWithoutSyncQuery) {\n                setRepeatAttributeFromInMemory({\n                    components: getInMemorySet(),\n                    current: initialValue,\n                    index: initialIndex,\n                    observe: state,\n                    repeatId,\n                    key: undefined,\n                });\n            }\n\n            /**\n             * Remove fragment as soon as possible from GC. TODO Is really necessary ?\n             */\n            return fragment.firstElementChild;\n        }\n    );\n\n    return renderedDOM.filter((element) => element !== null);\n};\n\n/**\n * @param {object} params\n * @param {number} params.initialIndex\n * @param {any} params.initialValue\n * @param {string} params.state\n * @param {string} params.repeatId\n * @returns {string}\n */\nconst getSyncWithoutKey = ({ initialIndex, initialValue, state, repeatId }) => {\n    return /* HTML */ `${ATTR_CURRENT_LIST_VALUE}=\"${setComponentRepeaterState({\n        current: initialValue,\n        index: initialIndex,\n    })}\"\n    ${ATTR_REPEATER_PROP_BIND}=\"${state}\" ${ATTR_CHILD_REPEATID}=\"${repeatId}\"`;\n};\n\n/**\n * @param {object} params\n * @param {number} params.diff\n * @param {any} params.current\n * @param {number} params.previousLenght\n * @param {string} params.state\n * @param {string} params.repeatId\n * @param {import('../type').RepeaterRender} params.render\n * @returns {string}\n */\nexport const updateRepeaterWithoutKeyUseSync = ({\n    diff,\n    previousLenght,\n    current,\n    state,\n    repeatId,\n    render,\n}) => {\n    return [...Array.from({ length: diff }).keys()]\n        .map((_item, index) => {\n            const initialIndex = index + previousLenght;\n\n            // use a copy to avoid problem in closure below.\n            const initialValue = current?.[initialIndex]\n                ? { ...current?.[initialIndex] }\n                : {};\n\n            const proxiObject = getRepeatProxi({\n                observe: state,\n                hasKey: false,\n                index: initialIndex,\n                repeatId,\n            });\n\n            return render({\n                sync: () =>\n                    getSyncWithoutKey({\n                        initialIndex,\n                        initialValue,\n                        repeatId,\n                        state,\n                    }),\n                initialIndex,\n                initialValue,\n                current: proxiObject,\n            });\n        })\n        .join('');\n};\n\n/**\n * @param {object} params\n * @param {Record<string, any>} params.currentValue\n * @param {number} params.index\n * @param {string} params.state\n * @param {string} params.repeatId\n * @param {any} params.keyValue\n * @param {string | undefined} params.key\n * @param {import('../type').RepeaterRender} params.render\n * @returns {Element | null}\n */\nexport const updateRepeaterWithtKey = ({\n    currentValue,\n    index,\n    state,\n    repeatId,\n    key,\n    keyValue,\n    render,\n}) => {\n    const proxiObject = getRepeatProxi({\n        observe: state,\n        hasKey: true,\n        key,\n        keyValue,\n        index,\n        repeatId,\n    });\n\n    const lastSkipUserValue = getSkipAddUserComponent();\n    setSkipAddUserComponent(true);\n\n    const fragment = document.createRange().createContextualFragment(\n        render({\n            initialIndex: index,\n            initialValue: currentValue,\n            current: proxiObject,\n            sync: () => '',\n        })\n    );\n\n    /**\n     * GetParamsForComponentFunction repeat first render can reset skip value. If shoulf be true set true and not false.\n     */\n    setSkipAddUserComponent(lastSkipUserValue);\n\n    if (useRepeatWithoutSyncQuery) {\n        const components = queryAllFutureComponent(fragment, false).map(\n            (element) => {\n                return new WeakRef(element);\n            }\n        );\n\n        setRepeatAttribute({\n            components,\n            current: currentValue,\n            index,\n            observe: state,\n            repeatId,\n            key: keyValue,\n        });\n    }\n\n    if (!useRepeatWithoutSyncQuery) {\n        setRepeatAttributeFromInMemory({\n            components: getInMemorySet(),\n            current: currentValue,\n            index,\n            observe: state,\n            repeatId,\n            key: keyValue,\n        });\n    }\n\n    /**\n     * Remove fragment as soon as possible from GC. TODO Is really necessary ?\n     */\n    return fragment.firstElementChild;\n};\n\n/**\n * @param {object} params\n * @param {string} params.keyValue\n * @param {number} params.index\n * @param {any} params.currentValue\n * @param {string} params.state\n * @param {string} params.repeatId\n * @returns {string}\n */\nconst getSyncWithKey = ({ keyValue, index, currentValue, state, repeatId }) => {\n    return /* HTML */ ` ${ATTR_KEY}=\"${keyValue}\"\n    ${ATTR_REPEATER_PROP_BIND}=\"${state}\"\n    ${ATTR_CURRENT_LIST_VALUE}=\"${setComponentRepeaterState({\n        current: currentValue,\n        index,\n    })}\"\n    ${ATTR_CHILD_REPEATID}=\"${repeatId}\"`;\n};\n\n/**\n * @param {object} params\n * @param {Record<string, any>} params.currentValue\n * @param {number} params.index\n * @param {string} params.state\n * @param {string} params.repeatId\n * @param {string | undefined} params.key\n * @param {any} params.keyValue\n * @param {import('../type').RepeaterRender} params.render\n * @returns {string}\n */\nexport const updateRepeaterWithtKeyUseSync = ({\n    currentValue,\n    index,\n    state,\n    repeatId,\n    key,\n    keyValue,\n    render,\n}) => {\n    // use a copy to avoid problem in closure below.\n    const currentValueCopy = { ...currentValue };\n\n    const proxiObject = getRepeatProxi({\n        observe: state,\n        hasKey: true,\n        key,\n        keyValue,\n        index,\n        repeatId,\n    });\n\n    return render({\n        initialIndex: index,\n        initialValue: currentValueCopy,\n        current: proxiObject,\n        sync: () =>\n            getSyncWithKey({\n                currentValue: currentValueCopy,\n                index,\n                keyValue,\n                repeatId,\n                state,\n            }),\n    });\n};\n\n/**\n * @param {object} params\n * @param {Record<string, any>[]} params.currentUnique\n * @param {import('../type').RepeaterRender} params.render\n * @param {string} params.observe\n * @param {string} params.repeatId\n * @param {string | undefined} params.key\n * @param {boolean} params.hasKey\n * @returns {Element[]}\n */\nexport const getRenderWithoutSync = ({\n    currentUnique,\n    render,\n    observe,\n    repeatId,\n    key = '',\n    hasKey,\n}) => {\n    const range = document.createRange();\n\n    /**\n     * Render immediately first DOM\n     */\n    const renderedDOM = currentUnique.map((item, index) => {\n        const proxiObject = getRepeatProxi({\n            observe,\n            hasKey,\n            key,\n            keyValue: hasKey ? item?.[key] : '',\n            index,\n            repeatId,\n        });\n\n        const lastSkipUserValue = getSkipAddUserComponent();\n        setSkipAddUserComponent(true);\n\n        const fragment = range.createContextualFragment(\n            render({\n                initialIndex: index,\n                initialValue: item,\n                current: proxiObject,\n                sync: () => '',\n            })\n        );\n\n        /**\n         * GetParamsForComponentFunction repeat first render can reset skip value. If shoulf be true set true and not\n         * false.\n         */\n        setSkipAddUserComponent(lastSkipUserValue);\n\n        if (useRepeatWithoutSyncQuery) {\n            const components = queryAllFutureComponent(fragment, false).map(\n                (element) => {\n                    return new WeakRef(element);\n                }\n            );\n\n            setRepeatAttribute({\n                components,\n                current: item,\n                index,\n                observe,\n                repeatId,\n                key: hasKey ? item?.[key] : '',\n            });\n        }\n\n        if (!useRepeatWithoutSyncQuery) {\n            setRepeatAttributeFromInMemory({\n                components: getInMemorySet(),\n                current: item,\n                index,\n                observe,\n                repeatId,\n                key: hasKey ? item?.[key] : '',\n            });\n        }\n\n        /**\n         * Remove fragment as soon as possible from GC. TODO Is really necessary ?\n         */\n        return fragment.firstElementChild;\n    });\n\n    return renderedDOM.filter((element) => element !== null);\n};\n\n/**\n * @param {object} params\n * @param {Record<string, any>[]} params.currentUnique\n * @param {import('../type').RepeaterRender} params.render\n * @param {string} params.observe\n * @param {string} params.repeatId\n * @param {string} params.key\n * @param {boolean} params.hasKey\n * @returns {string}\n */\nexport const getRenderWithSync = ({\n    currentUnique,\n    key = '',\n    observe,\n    repeatId,\n    hasKey,\n    render,\n}) => {\n    const rawRender = () => {\n        return currentUnique\n            .map((item, index) => {\n                const sync =\n                    /* HTML */ () => `${ATTR_CURRENT_LIST_VALUE}=\"${setComponentRepeaterState(\n                        {\n                            current: item,\n                            index: index,\n                        }\n                    )}\"\n                            ${ATTR_KEY}=\"${hasKey ? item?.[key] : ''}\"\n                            ${ATTR_REPEATER_PROP_BIND}=\"${observe}\"\n                            ${ATTR_CHILD_REPEATID}=\"${repeatId}\"`;\n\n                const proxiObject = getRepeatProxi({\n                    observe,\n                    hasKey,\n                    key,\n                    keyValue: hasKey ? item?.[key] : '',\n                    index,\n                    repeatId,\n                });\n\n                return render({\n                    sync,\n                    initialIndex: index,\n                    initialValue: item,\n                    current: proxiObject,\n                });\n            })\n            .join('');\n    };\n\n    return rawRender();\n};\n", "import { getStateById } from '../../../component/action/state/get-state-by-id';\nimport { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * @param {object} params\n * @param {string} params.repeatId\n * @param {string} params.id\n * @param {string} params.observe\n * @returns {void}\n */\nexport const setRepeaterNativeDOMChildren = ({ repeatId, id, observe }) => {\n    const item = repeatIdPlaceHolderMap.get(repeatId);\n    if (!item) return;\n\n    const { element } = item;\n    if (!element) return;\n\n    /**\n     * Fall back for repeater without component inside.\n     */\n    const children = /** @type {HTMLElement[]} */ ([...element.children]);\n    const state = getStateById(id);\n    const stateByProp = state[observe];\n\n    repeatIdPlaceHolderMap.set(repeatId, {\n        ...item,\n        key: observe,\n        nativeDOMChildren: children.map((child, index) => {\n            return { index, value: stateByProp[index], element: child };\n        }),\n    });\n};\n\n/**\n * @param {object} params\n * @param {string} params.repeatId\n * @returns {{ index: number; value: any; element: HTMLElement }[]}\n */\nexport const getRepeaterNativeDOMChildren = ({ repeatId }) => {\n    const item = repeatIdPlaceHolderMap.get(repeatId);\n    if (!item) return [];\n\n    const { nativeDOMChildren } = item;\n    return nativeDOMChildren;\n};\n", "// @ts-check\n\nimport { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * Is the first call to populate placeholderMap. Initialize all the props.\n *\n * Here we have scopeId, content is just render from getParamsForComponent() element: we will wait the end of parse.\n * initialize: we will wait fire function.\n *\n * @param {object} params\n * @param {string} params.repeatId\n * @param {any[]} params.currentData\n * @returns {void}\n */\n\nexport const setRepeaterPlaceholderCurrentData = ({\n    repeatId,\n    currentData,\n}) => {\n    const item = repeatIdPlaceHolderMap.get(repeatId);\n    if (!item) return;\n\n    repeatIdPlaceHolderMap.set(repeatId, {\n        ...item,\n        currentData,\n    });\n};\n", "// @ts-check\n\nimport {\n    getItemToRemoveByKey,\n    getUnivoqueByKey,\n    mixPreviousAndCurrentData,\n} from '../utils';\nimport { getElementsByKeyAndRepeatId } from '../../../component/action/element';\nimport { removeAndDestroyById } from '../../../component/action/remove-and-destroy/remove-and-destroy-by-id';\nimport { destroyNestedInvalidate } from '../../invalidate/action/destroy-nested-invalidate';\nimport { destroyNestedRepeat } from '../action/destroy-nested-repeat';\nimport { getRepeaterInnerWrap } from '../../../component/action/repeater';\nimport { destroyComponentInsideNodeById } from '../../../component/action/remove-and-destroy/destroy-component-inside-node-by-id';\nimport { updateRepeaterWithtKey, updateRepeaterWithtKeyUseSync } from './utils';\nimport { getRepeaterNativeDOMChildren } from '../action/set-repeat-native-dom-children';\nimport { getComponentNameByElement } from '../../../component/action/component';\nimport { getDefaultComponent } from '../../../component/create-component';\nimport { setRepeaterPlaceholderCurrentData } from '../action/set-repeat-placeholder-map-current-data';\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.container\n * @param {HTMLElement} params.element\n */\nconst addDebugToComponent = ({ element, container }) => {\n    const componentName = getComponentNameByElement(element);\n    container.insertAdjacentHTML('beforeend', `<!-- ${componentName} --> `);\n};\n\n/**\n * Add new children by key.\n *\n * @param {object} obj\n * @param {string} obj.state\n * @param {Record<string, any>[]} obj.current\n * @param {Record<string, any>[]} obj.previous\n * @param {HTMLElement} obj.repeaterParentElement\n * @param {string} obj.key\n * @param {string} obj.id\n * @param {import('../type').RepeaterRender} obj.render\n * @param {string} obj.repeatId\n * @param {boolean} obj.useSync\n * @returns {any[]}\n */\nexport const addWithKey = ({\n    state = '',\n    current = [],\n    previous = [],\n    repeaterParentElement = document.createElement('div'),\n    key = '',\n    id = '',\n    render,\n    repeatId,\n    useSync,\n}) => {\n    /**\n     * Get unique data array by key\n     */\n    const currentUnique = getUnivoqueByKey({ data: current, key });\n\n    /**\n     * Update current data value in repeatPlaceholderMap before create proxi.\n     */\n    setRepeaterPlaceholderCurrentData({\n        repeatId,\n        currentData: currentUnique,\n    });\n\n    /**\n     * # REMOVE\n     */\n\n    /**\n     * Extract from current item to remove comparer key.\n     */\n    const currentItemToRemoveByKey = getItemToRemoveByKey(\n        previous,\n        currentUnique,\n        key\n    );\n\n    /**\n     * Get first element to remove/delete by key ( currentItemToRemoveByKey ). Then if element is single child remove\n     * it. If there is more element inside a wrapper remove all component inside wrapper SO we need only first\n     * occurrence.\n     *\n     * TODO ( maybe ). return all component ( find to filter ). Then in forEach above destroy single component without\n     * use `destroyComponentInsideNodeById`, cycle item and destroy component, the result should be a multidimensional\n     * array.\n     */\n    const componentsToRemoveByKey = currentItemToRemoveByKey\n        .map((item) => {\n            const keyValue = item?.[key];\n            return getElementsByKeyAndRepeatId({\n                keyValue,\n                repeatId,\n            });\n        })\n        .filter((item) => item.length > 0);\n\n    /**\n     * Create a boolean value to check if there is some component to remove.\n     */\n    const shouldRemoveComponent = componentsToRemoveByKey.length > 0;\n\n    /**\n     * Remove component.\n     */\n    componentsToRemoveByKey.forEach((item) => {\n        const firstOccurrence = item[0].element;\n        const firstCurrentId = item[0].id;\n        if (!firstCurrentId) return;\n\n        /**\n         * Then destroy component Destroy all component in repeater item wrapper child of scope component Or destroy\n         * single component if there is no wrapper.\n         */\n        const elementWrapper = getRepeaterInnerWrap({ id: firstCurrentId });\n\n        const nestedParent = /** @type {HTMLElement} */ (\n            elementWrapper ?? firstOccurrence\n        );\n\n        /**\n         * First destroy all repeater/invalidate inside\n         */\n        destroyNestedInvalidate({ id, invalidateParent: nestedParent });\n        destroyNestedRepeat({ id, repeatParent: nestedParent });\n\n        item.forEach(({ id }) => {\n            removeAndDestroyById({ id });\n        });\n\n        if (elementWrapper) {\n            elementWrapper.remove();\n        }\n    });\n\n    /**\n     * No Component inside repeater. Remove at the end old element to avoid viual jump\n     */\n    if (!shouldRemoveComponent) {\n        const childrenFromRepeater = getRepeaterNativeDOMChildren({ repeatId });\n        const itemToRemove = childrenFromRepeater.filter((item) => {\n            return currentItemToRemoveByKey\n                .map((item) => item?.[key])\n                .includes(item.value?.[key]);\n        });\n\n        itemToRemove.forEach((item) => {\n            const { element: currentElement } = item;\n\n            /**\n             * First destroy all repeater/invalidate inside\n             */\n            destroyNestedInvalidate({ id, invalidateParent: currentElement });\n            destroyNestedRepeat({ id, repeatParent: currentElement });\n\n            /**\n             * Destroy inner component child.\n             */\n            destroyComponentInsideNodeById({\n                id,\n                container: currentElement,\n            });\n        });\n    }\n\n    /**\n     * ## NEW DATA\n     *\n     * Get set of data with the right sequence of new list element mark old and new element with isNewElement props.\n     */\n    const newSequenceByKey = mixPreviousAndCurrentData(\n        currentUnique,\n        previous,\n        key\n    ).map(({ keyValue, isNewElement, index }) => {\n        if (isNewElement)\n            return { keyValue, isNewElement, index, wrapper: undefined };\n\n        /**\n         * Get persistent element. Use find function to get first occurrence. If use a wrapper use first wrapper\n         * occurrence that contain other component If we don't use a wrapper we have only one component.\n         */\n        const element = getElementsByKeyAndRepeatId({\n            keyValue,\n            repeatId,\n        });\n\n        /**\n         * UseComponent: If persistent Element use a wrapper save it ( or undefined ). Than this element will added to\n         * DOM instead component.\n         *\n         * Do not useComponent Get item by key && keyValue from repeater map. Use wrapper filed to save persistent\n         * item/element.\n         */\n        const wrapperParsed = element[0]?.element\n            ? getRepeaterInnerWrap({ id: element[0]?.id ?? '' })\n            : (() => {\n                  const childrenFromRepeater = getRepeaterNativeDOMChildren({\n                      repeatId,\n                  });\n                  return childrenFromRepeater.find(\n                      (item) => item.value?.[key] === keyValue\n                  )?.element;\n              })();\n\n        return {\n            keyValue,\n            isNewElement,\n            index,\n            persistentElement: element,\n            persistentDOMwrapper: wrapperParsed,\n        };\n    });\n\n    /**\n     * ## RESET\n     *\n     * Reset parent Element\n     */\n    // repeaterParentElement.textContent = '';\n    repeaterParentElement.replaceChildren();\n\n    /**\n     * ## NEW DOM\n     *\n     * Add persistent element or new element to parse.\n     */\n    newSequenceByKey.forEach(\n        ({\n            isNewElement,\n            keyValue,\n            index,\n            persistentElement,\n            persistentDOMwrapper,\n        }) => {\n            if (!isNewElement) {\n                const { debug } = getDefaultComponent();\n\n                /**\n                 * Wrapper\n                 */\n                if (persistentDOMwrapper) {\n                    repeaterParentElement.append(persistentDOMwrapper);\n                }\n\n                /**\n                 * No wrapper If there is no wrapper assuming we have only one component child\n                 */\n                if (!persistentDOMwrapper && persistentElement?.[0]?.element) {\n                    repeaterParentElement.append(persistentElement[0].element);\n\n                    if (debug) {\n                        addDebugToComponent({\n                            element: persistentElement[0]?.element,\n                            container: repeaterParentElement,\n                        });\n                    }\n                }\n\n                /**\n                 * If is not a new element return.\n                 */\n                return;\n            }\n\n            const currentValue = currentUnique?.[index];\n\n            const currentRender = useSync\n                ? updateRepeaterWithtKeyUseSync({\n                      currentValue,\n                      index,\n                      state,\n                      repeatId,\n                      key,\n                      keyValue,\n                      render,\n                  })\n                : updateRepeaterWithtKey({\n                      currentValue,\n                      index,\n                      state,\n                      repeatId,\n                      key,\n                      keyValue,\n                      render,\n                  });\n\n            if (useSync) {\n                repeaterParentElement.insertAdjacentHTML(\n                    'beforeend',\n                    /** @type {string} */ (currentRender)\n                );\n            }\n\n            if (!useSync && currentRender) {\n                repeaterParentElement.append(\n                    /** @type {Element} */ (currentRender)\n                );\n            }\n        }\n    );\n\n    return currentUnique;\n};\n", "// @ts-check\n\nimport { removeAndDestroyById } from '../../../component/action/remove-and-destroy/remove-and-destroy-by-id';\nimport { getElementById } from '../../../component/action/element';\nimport { destroyNestedInvalidate } from '../../invalidate/action/destroy-nested-invalidate';\nimport { destroyNestedRepeat } from '../action/destroy-nested-repeat';\nimport { getRepeaterInnerWrap } from '../../../component/action/repeater';\nimport { chunkIdsByCurrentValue } from '../utils';\nimport { destroyComponentInsideNodeById } from '../../../component/action/remove-and-destroy/destroy-component-inside-node-by-id';\nimport {\n    updateRepeaterWitoutKey,\n    updateRepeaterWithoutKeyUseSync,\n} from './utils';\nimport { getRepeaterNativeDOMChildren } from '../action/set-repeat-native-dom-children';\nimport { getDefaultComponent } from '../../../component/create-component';\nimport { setRepeaterPlaceholderCurrentData } from '../action/set-repeat-placeholder-map-current-data';\n\n/**\n * @param {HTMLElement} container\n */\nconst removeMissedDebugComment = (container) => {\n    const lastElementChild = container.lastElementChild;\n    if (!lastElementChild) return;\n\n    let node = lastElementChild.nextSibling;\n\n    while (node) {\n        const nextNode = node.nextSibling;\n        if (node.nodeType === Node.COMMENT_NODE) {\n            node.remove();\n        }\n\n        node = nextNode;\n    }\n};\n\n/**\n * Add new children. This method a component with a unique list of the same component\n *\n * @param {object} obj\n * @param {string} obj.state\n * @param {any[]} obj.current\n * @param {any[]} obj.previous\n * @param {HTMLElement} obj.repeaterParentElement\n * @param {import('../type').RepeaterRender} obj.render\n * @param {string} [obj.key]\n * @param {string} obj.id\n * @param {string} obj.repeatId\n * @param {boolean} obj.useSync\n * @param {string[]} obj.currentChildren\n * @returns {any[]}\n */\nexport const addWithoutKey = ({\n    state = '',\n    current = [],\n    previous = [],\n    repeaterParentElement = document.createElement('div'),\n    render,\n    repeatId,\n    id,\n    useSync,\n    currentChildren,\n}) => {\n    /**\n     * Update current data value in repeatPlaceholderMap before create proxi.\n     */\n    setRepeaterPlaceholderCurrentData({\n        repeatId,\n        currentData: current,\n    });\n\n    /**\n     * @type {number}\n     */\n    const currentLenght = current.length;\n\n    /**\n     * @type {number}\n     */\n    const previousLenght = previous.length;\n\n    /**\n     * @type {number}\n     */\n    const diff = currentLenght - previousLenght;\n\n    /**\n     * Add\n     */\n    if (diff > 0) {\n        const currentRender = useSync\n            ? updateRepeaterWithoutKeyUseSync({\n                  diff,\n                  previousLenght,\n                  current,\n                  state,\n                  repeatId,\n                  render,\n              })\n            : updateRepeaterWitoutKey({\n                  diff,\n                  current,\n                  previousLenght,\n                  render,\n                  state,\n                  repeatId,\n              });\n\n        if (useSync) {\n            repeaterParentElement.insertAdjacentHTML(\n                'beforeend',\n                /** @type {string} */ (currentRender)\n            );\n        }\n\n        if (!useSync) {\n            /** @type {Element[]} */ (currentRender).forEach((element) => {\n                repeaterParentElement.append(element);\n            });\n        }\n    }\n\n    /**\n     * Remove\n     */\n\n    if (diff < 0) {\n        /**\n         * For singling component inside same repeater item. Group all childrn by wrapper ( or undefined if there is no\n         * wrapper ) So destroy all right element by index\n         */\n        const childrenComponentChunkedByWrapper = chunkIdsByCurrentValue({\n            children: currentChildren,\n        });\n\n        /**\n         * Element to remove\n         */\n        const componentToRemoveByKey = childrenComponentChunkedByWrapper.filter(\n            (_child, i) => {\n                return i >= current.length;\n            }\n        );\n\n        /**\n         * Destroy component.\n         */\n        componentToRemoveByKey.forEach((childArray) => {\n            childArray.forEach((childId) => {\n                const element = getElementById({ id: childId });\n\n                /**\n                 * Then destroy component Destroy all component in repeater item wrapper child of scope component Or\n                 * destroy single component if there is no wrapper.\n                 */\n                const elementWrapper = getRepeaterInnerWrap({\n                    id: childId,\n                });\n\n                const nestedParent = /** @type {HTMLElement} */ (\n                    elementWrapper ?? element\n                );\n\n                /**\n                 * First destroy all repeater/invalidate inside\n                 */\n                destroyNestedInvalidate({ id, invalidateParent: nestedParent });\n                destroyNestedRepeat({ id, repeatParent: nestedParent });\n                removeAndDestroyById({ id: childId });\n\n                if (elementWrapper) elementWrapper.remove();\n            });\n        });\n\n        const { debug } = getDefaultComponent();\n        if (debug) removeMissedDebugComment(repeaterParentElement);\n\n        /**\n         * Fall back for repeater without component inside. If there is no component in repeater fallback to element in\n         * repeater map.\n         */\n        if (childrenComponentChunkedByWrapper.length > 0) return current;\n\n        const childrenFromRepeater = getRepeaterNativeDOMChildren({ repeatId });\n        if (!childrenFromRepeater) return current;\n\n        const childrenFromRepeaterToRemove = childrenFromRepeater.filter(\n            ({ index }) => {\n                return index >= current.length;\n            }\n        );\n\n        childrenFromRepeaterToRemove.forEach((item) => {\n            const { element: currentElement } = item;\n\n            /**\n             * First destroy all repeater/invalidate inside TODO: should be removed if there is no component ?\n             */\n            destroyNestedInvalidate({ id, invalidateParent: currentElement });\n            destroyNestedRepeat({ id, repeatParent: currentElement });\n\n            /**\n             * Destroy inner component child. item with no component but with repeater/invalidate inside. TODO:\n             * Matrioska se secondoLevel non ha componenti dovrebbe andare in maniera ricorsiva nei figli di id. Lo\n             * stesso in with-key.\n             */\n            destroyComponentInsideNodeById({\n                id,\n                container: currentElement,\n            });\n\n            currentElement.remove();\n        });\n    }\n\n    return current;\n};\n", "// @ts-check\n\nimport { MAIN_STORE_ASYNC_PARSER } from '../../../main-store/constant';\nimport {\n    mainStore,\n    resetMainStoreAsyncParser,\n} from '../../../main-store/main-store';\nimport { addWithKey } from './add-with-key';\nimport { addWithoutKey } from './add-without-key';\nimport { listKeyExist } from '../utils';\n\n/**\n * Update repater list.\n *\n * @param {object} obj\n * @param {string} obj.state\n * @param {boolean} obj.persistent\n * @param {HTMLElement} obj.repeaterParentElement\n * @param {any[]} obj.current\n * @param {any[]} obj.previous\n * @param {string} obj.key\n * @param {string} obj.id\n * @param {string} obj.fallBackParentId\n * @param {string} obj.repeatId\n * @param {import('../type').RepeaterRender} obj.render\n * @param {boolean} obj.useSync\n * @param {string[]} obj.currentChildren\n * @returns {Promise<any[]>}\n */\nexport const updateRepeater = async ({\n    state = '',\n    persistent,\n    repeaterParentElement = document.createElement('div'),\n    current = [],\n    previous = [],\n    key = '',\n    id,\n    fallBackParentId = '',\n    render,\n    repeatId,\n    useSync,\n    currentChildren = [],\n}) => {\n    /**\n     * Check if thereis a key\n     */\n    const hasKey = listKeyExist({ current, previous, key });\n\n    /**\n     * Filter right function\n     */\n    const fn = hasKey ? addWithKey : addWithoutKey;\n\n    /**\n     * Execute function. Get unique array of data ( current compared with previous )\n     */\n    const currentUnivoque = fn({\n        state,\n        current,\n        previous,\n        repeaterParentElement,\n        key,\n        id,\n        render,\n        repeatId,\n        useSync,\n        currentChildren,\n    });\n\n    /**\n     * Parse inner component. Use pub/sub to avoid circular dependencies. Parse current HTMLDom to create inner\n     * component. Scan and await the end of possible noew component creation.\n     */\n    mainStore.set(\n        MAIN_STORE_ASYNC_PARSER,\n        {\n            element: repeaterParentElement,\n            parentId: fallBackParentId ?? id,\n            persistent,\n        },\n        { emit: false }\n    );\n    await mainStore.emitAsync(MAIN_STORE_ASYNC_PARSER);\n    resetMainStoreAsyncParser();\n\n    /**\n     * Return update current without duplicate fi needed by addWithkey.\n     */\n    return currentUnivoque;\n};\n", "// @ts-check\n\nimport { MobCore } from '../../../../mob-core';\nimport { getOrderedChunkByCurrentRepeatValue } from '../../../component/action/children';\nimport { setRepeaterStateById } from '../../../component/action/repeater';\nimport {\n    getElementById,\n    getIdsByByRepeatId,\n} from '../../../component/action/element';\nimport {\n    freezePropById,\n    unFreezePropById,\n} from '../../../component/action/freeze';\nimport { removeAndDestroyById } from '../../../component/action/remove-and-destroy/remove-and-destroy-by-id';\nimport { incrementTickQueuque } from '../../../queque/tick';\nimport { incrementRepeaterTickQueuque } from '../../../queque/tick-repeater';\nimport { QUEQUE_TYPE_REPEATER } from '../../../constant';\nimport {\n    addActiveRepeat,\n    getActiveRepeater,\n    removeActiveRepeat,\n} from '../active-repeater';\nimport { updateRepeater } from '../update';\nimport { inizializeNestedInvalidate } from '../../invalidate/action/inizialize-nested-invalidate';\nimport { getParentIdFromWeakElementMap } from '../../../component/action/parent';\nimport { chunkIdsByCurrentValue } from '../utils';\nimport { getRepeatParent } from '../action/get-repeater-parent';\nimport { inizializeNestedRepeat } from '../action/inizialize-nested-repeat';\nimport { setRepeaterNativeDOMChildren } from '../action/set-repeat-native-dom-children';\n\n/**\n * @param {import('../type').WatchList} param\n * @returns {() => void}\n */\nexport const watchRepeat = ({\n    state = '',\n    setState,\n    persistent = false,\n    watch,\n    clean = false,\n    beforeUpdate,\n    afterUpdate,\n    key = '',\n    id = '',\n    repeatId = '',\n    render,\n    useSync = false,\n}) => {\n    const mainComponent = getElementById({ id });\n\n    /**\n     * When repater is created nested Main component is not parsed. So addSelfIdToParentComponent doesn't work. Get\n     * first element that contains repaterParent start from last map element.\n     */\n    const parentByElement = getRepeatParent({ id: repeatId });\n    const fallBackParentId = parentByElement\n        ? (getParentIdFromWeakElementMap({ element: parentByElement }) ?? '')\n        : '';\n\n    /**\n     * Fire first callback The main parse is ended.\n     */\n    afterUpdate();\n\n    /**\n     * Watcher is destroyed with the component tahu implement list repeater. repater works if data is an array ( is a\n     * list so data must be an array )\n     */\n    const unsubscribe = watch(\n        state,\n        async (/** @type {any[]} */ current, /** @type {any[]} */ previous) => {\n            if (!MobCore.checkType(Array, current)) return;\n\n            const repeaterParentElement = getRepeatParent({\n                id: repeatId,\n            });\n\n            /**\n             * Add watcher to active queuqe operation.\n             */\n            const descrementQueue = incrementTickQueuque({\n                state,\n                id,\n                type: QUEQUE_TYPE_REPEATER,\n            });\n\n            const descrementRepeaterQueue = incrementRepeaterTickQueuque({\n                state,\n                id,\n                type: QUEQUE_TYPE_REPEATER,\n            });\n\n            /**\n             * Secure step 1. Avoid state mutation during list construction. Useful when list component is async.\n             */\n            freezePropById({ id, prop: state });\n\n            /**\n             * Secure step 2 ( if step 1 fail, but i don't think ). Check if the same repeat is running Id true, skip\n             * and revert the new state to previous without fire watch So the data is consistent with dom\n             */\n            const repeatIsRunning = getActiveRepeater({\n                id,\n                state,\n                container: repeaterParentElement,\n            });\n\n            if (repeatIsRunning) {\n                /**\n                 * If repater is running: back to previous state without fire callback\n                 */\n                unFreezePropById({ id, prop: state });\n                setState(state, previous, { emit: false });\n\n                /**\n                 * Remove watcher to active queuqe operation.\n                 */\n                descrementQueue();\n                descrementRepeaterQueue();\n                return;\n            }\n\n            /**\n             * Get current component inside repeater.\n             */\n            const childrenBeforeUdateByRepeatId = getIdsByByRepeatId({\n                id,\n                repeatId,\n            });\n\n            /**\n             * Run function before update.\n             */\n            if (mainComponent) {\n                await beforeUpdate();\n            }\n\n            /**\n             * If clean destroy component inside repeater and clean refuse inside.\n             */\n            if (clean) {\n                childrenBeforeUdateByRepeatId.forEach((id) => {\n                    removeAndDestroyById({ id });\n                });\n\n                if (repeaterParentElement) {\n                    /**\n                     * Web component trick. Sure to delete host element.\n                     */\n                    repeaterParentElement.textContent = '';\n                }\n            }\n\n            /**\n             * Set current active repeater in mainStore.\n             */\n            if (repeaterParentElement)\n                addActiveRepeat({\n                    id,\n                    state,\n                    container: repeaterParentElement,\n                });\n\n            /**\n             * Run add-with-key or add-without-key.\n             */\n            const currentUpdated = await updateRepeater({\n                state,\n                persistent,\n                repeaterParentElement:\n                    repeaterParentElement ?? document.createElement('div'),\n                current,\n                previous: clean ? [] : previous,\n                key,\n                id,\n                fallBackParentId,\n                render,\n                repeatId,\n                useSync,\n                currentChildren: clean ? [] : childrenBeforeUdateByRepeatId,\n            });\n\n            /**\n             * Get new children after update.\n             */\n            const childrenFilteredByRepeatId = getIdsByByRepeatId({\n                id,\n                repeatId,\n            });\n\n            /**\n             * Use key ?\n             */\n            const hasKey = key && key !== '';\n\n            /**\n             * After update, group component inside single repeat node in a chunked array.\n             *\n             * At this time the components are still in no particular order.\n             */\n            const childrenChunkedByWrapper = chunkIdsByCurrentValue({\n                children: childrenFilteredByRepeatId,\n                previousChildren: childrenBeforeUdateByRepeatId,\n            });\n\n            /**\n             * Ik key is used and element change position we have to order childrenChunkedByWrapper by currentUnivoque\n             * position. Starting from currentUnivoque, use key to remap currentUnivoque with an array of component with\n             * the the specific key.\n             *\n             * TODO: pass currentUpdated to getOrderedChunkByCurrentRepeatValue(), internally the value is recalculated.\n             *\n             * If no key is used, component children only update it's state. Element are add to componentMap in tree\n             * traversal order. So is natuarally ordered.\n             */\n            const chunkChildrenOrdered = hasKey\n                ? [\n                      ...getOrderedChunkByCurrentRepeatValue({\n                          children: childrenChunkedByWrapper,\n                          key,\n                          current,\n                          currentUnivoque: currentUpdated,\n                      }),\n                  ]\n                : childrenChunkedByWrapper;\n\n            /**\n             * Update persistent component current value.\n             */\n            chunkChildrenOrdered.forEach((childArray, index) => {\n                childArray.forEach((id) => {\n                    const currentValue = currentUpdated?.[index];\n                    if (!currentValue) return;\n\n                    /**\n                     * Find real index in original array ( currentUpdated )\n                     */\n                    const realIndex = hasKey\n                        ? current.findIndex((value) => {\n                              return (\n                                  `${value?.[key]}` ===\n                                  `${currentUpdated?.[index]?.[key]}`\n                              );\n                          })\n                        : index;\n\n                    /**\n                     * Store current value in store to use in dynamicrops FrstRepeaterChild\n                     */\n                    setRepeaterStateById({\n                        id,\n                        value: { current: currentValue, index: realIndex },\n                    });\n                });\n            });\n\n            /**\n             * Fire onComplete next tick;\n             */\n            MobCore.useNextLoop(async () => {\n                /**\n                 * Execute afterUpdate function\n                 */\n                if (mainComponent) {\n                    afterUpdate();\n                }\n\n                /**\n                 * Remove active repeater after all so avoid multiple fire on the same repeater while running.\n                 *\n                 * Use 2 frmae after onMount/Fyre dynamic timing.\n                 */\n                removeActiveRepeat({\n                    id,\n                    state,\n                    container: repeaterParentElement,\n                });\n\n                /**\n                 * Unfreeze prop onnly when all is quiet\n                 *\n                 * Prevent overload error.\n                 */\n                unFreezePropById({ id, prop: state });\n\n                /**\n                 * Remove watcher to active queuqe operation.\n                 */\n                descrementQueue();\n                descrementRepeaterQueue();\n\n                /**\n                 * Initialize nested repeater/invalidate.\n                 */\n                inizializeNestedInvalidate({\n                    invalidateParent: repeaterParentElement,\n                    id,\n                });\n\n                inizializeNestedRepeat({\n                    repeatParent: repeaterParentElement,\n                    id,\n                });\n\n                /**\n                 * If there is no component in repeater update repaaterMapChildren. This utils is used only when repeat\n                 * has no component inside.\n                 */\n                if (chunkChildrenOrdered.length === 0) {\n                    setRepeaterNativeDOMChildren({\n                        repeatId,\n                        id,\n                        observe: state,\n                    });\n                }\n            });\n        }\n    );\n\n    return unsubscribe;\n};\n", "// @ts-check\n\nimport { addRepeatUnsubcribe } from './add-repeat-unsubcribe';\nimport { watchRepeat } from '../watch';\n\n/**\n * @param {import('../type').WatchList} param\n * @returns {void}\n */\nexport const inizializeRepeatWatch = ({\n    repeatId,\n    persistent,\n    state,\n    setState,\n    emit,\n    watch,\n    clean,\n    beforeUpdate,\n    afterUpdate,\n    key,\n    id,\n    render,\n    useSync,\n}) => {\n    /**\n     * Update component\n     */\n    const unsubscribe = watchRepeat({\n        state,\n        setState,\n        persistent,\n        emit,\n        watch,\n        clean,\n        beforeUpdate,\n        afterUpdate,\n        key,\n        id,\n        repeatId,\n        render,\n        useSync,\n    });\n\n    addRepeatUnsubcribe({\n        id,\n        repeatId,\n        unsubscribe,\n    });\n};\n", "// @ts-check\n\nimport { repeatFunctionMap } from '../repeat-function-map';\n\n/**\n * Add new repeat initialized in map. key is component id associated to these function.\n *\n * @param {object} params\n * @param {string} params.id - Component id\n * @param {string} params.repeatId - Repeat id\n * @param {() => void} params.fn\n * @returns {void}\n */\n\nexport const setRepeatFunction = ({ id, repeatId, fn }) => {\n    const currentFunctions = repeatFunctionMap.get(id) ?? [];\n    repeatFunctionMap.set(id, [\n        ...currentFunctions,\n        { repeatId, fn, unsubscribe: () => {} },\n    ]);\n};\n", "// @ts-check\n\nimport { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * Set initialized to true.\n *\n * @param {object} params\n * @param {string} params.repeatId - RepeatId\n * @returns {void}\n */\nexport const setRepeaterPlaceholderMapInitialized = ({ repeatId }) => {\n    const item = repeatIdPlaceHolderMap.get(repeatId);\n    if (!item) return;\n\n    repeatIdPlaceHolderMap.set(repeatId, {\n        ...item,\n        initialized: true,\n    });\n};\n", "// @ts-check\n\nimport { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * Is the first call to populate placeholderMap. Initialize all the props.\n *\n * Here we have scopeId, content is just render from getParamsForComponent() element: we will wait the end of parse.\n * initialize: we will wait fire function.\n *\n * @param {object} params\n * @param {string} params.repeatId\n * @param {Element[]} params.initialDOMRender\n * @returns {void}\n */\n\nexport const setRepeaterPlaceholderDOMRender = ({\n    repeatId,\n    initialDOMRender,\n}) => {\n    const item = repeatIdPlaceHolderMap.get(repeatId);\n    if (!item) return;\n\n    repeatIdPlaceHolderMap.set(repeatId, {\n        ...item,\n        initialRenderWithoutSync: initialDOMRender,\n    });\n};\n", "// @ts-check\n\nimport { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * Is the first call to populate placeholderMap. Initialize all the props.\n *\n * Here we have scopeId, content is just render from getParamsForComponent() element: we will wait the end of parse.\n * initialize: we will wait fire function.\n *\n * @param {object} params\n * @param {string} params.repeatId\n * @param {string} params.scopeId\n * @returns {void}\n */\n\nexport const initializeRepeaterPlaceholderMap = ({ repeatId, scopeId }) => {\n    repeatIdPlaceHolderMap.set(repeatId, {\n        element: undefined,\n        initialized: false,\n        scopeId,\n        key: '',\n        nativeDOMChildren: [],\n        componentChildren: [],\n        currentData: [],\n        initialRenderWithoutSync: [],\n    });\n};\n", "import { MobCore } from '../../../mob-core';\nimport { getChildrenIdByName } from '../../component/action/children';\nimport { componentIsPersistent } from '../../component/action/component';\nimport {\n    freezePropById,\n    unFreezePropById,\n} from '../../component/action/freeze';\nimport { addMethodById } from '../../component/action/methods';\nimport { getParentIdById } from '../../component/action/parent';\nimport { setDynamicPropsWatch, unBind } from '../../component/action/props';\nimport { destroyComponentInsideNodeById } from '../../component/action/remove-and-destroy/destroy-component-inside-node-by-id';\nimport { removeAndDestroyById } from '../../component/action/remove-and-destroy/remove-and-destroy-by-id';\nimport { watchById } from '../../component/action/watch';\nimport {\n    ATTR_BIND_EFFECT,\n    ATTR_BIND_EVENTS,\n    ATTR_BIND_OBJECT_ID,\n    ATTR_BIND_PROPS,\n    ATTR_BIND_REFS_ID,\n    ATTR_BIND_REFS_NAME,\n    ATTR_BIND_TEXT_ID,\n    ATTR_COMPONENT_ID,\n    ATTR_INVALIDATE,\n    ATTR_MOBJS_REPEAT,\n    ATTR_PROPS,\n    ATTR_WEAK_BIND_EVENTS,\n} from '../../constant';\nimport { MAIN_STORE_ASYNC_PARSER } from '../../main-store/constant';\nimport {\n    mainStore,\n    resetMainStoreAsyncParser,\n} from '../../main-store/main-store';\nimport { setBindEffect } from '../../modules/bind-effetc';\nimport { setBindEvents } from '../../modules/bind-events';\nimport {\n    createBindObjectWatcher,\n    getBindObjectKeys,\n    renderBindObject,\n} from '../../modules/bind-object';\nimport { setBindProps } from '../../modules/bind-props';\nimport { getBindRefById, getBindRefsById } from '../../modules/bind-refs';\nimport { createBindTextWatcher, renderBindText } from '../../modules/bind-text';\nimport { setDelegateBindEvent } from '../../modules/delegate-events';\nimport { inizializeInvalidateWatch } from '../../modules/invalidate/action/inizialize-invalidate-watch';\nimport { parseObserveInvalidate } from '../../modules/invalidate/action/parse-bindprop-invalidate';\nimport { setInvalidateFunction } from '../../modules/invalidate/action/set-invalidate-function';\nimport { setInvalidatePlaceholderMapInitialized } from '../../modules/invalidate/action/set-invalidate-placeholder-map-initialized';\nimport { setInvalidatePlaceholderMapScopedId } from '../../modules/invalidate/action/set-invalidate-placeholder-map-scoped-id';\nimport { addOnMoutCallback } from '../../modules/on-mount';\nimport { inizializeRepeatWatch } from '../../modules/repeater/action/inizialize-repeat-watch';\nimport { setRepeaterNativeDOMChildren } from '../../modules/repeater/action/set-repeat-native-dom-children';\nimport { setRepeatFunction } from '../../modules/repeater/action/set-repeat-function';\nimport { setRepeaterPlaceholderMapInitialized } from '../../modules/repeater/action/set-repeater-placeholder-map-initialized';\nimport { setRepeaterPlaceholderDOMRender } from '../../modules/repeater/action/set-repeater-placeholder-map-initial-render';\nimport {\n    getRenderWithoutSync,\n    getRenderWithSync,\n} from '../../modules/repeater/update/utils';\nimport { getUnivoqueByKey } from '../../modules/repeater/utils';\nimport { setStaticProps } from '../../modules/static-props';\nimport { detectProp } from '../../utils';\nimport { repeaterhasComponentChildren } from '../../modules/repeater/action/set-repeat-component-children';\nimport { initializeRepeaterPlaceholderMap } from '../../modules/repeater/action/initialize-repeater-placeholder-map';\nimport { setRepeaterPlaceholderCurrentData } from '../../modules/repeater/action/set-repeat-placeholder-map-current-data';\n\n/**\n * Create component Reuturn all prosps/method for user function.\n *\n * @param {import('./type').GetParamsForComponent} obj.state\n * @returns {import('../../type').ComponentPropsType<\n *     import('../../type').MobComponentMap,\n *     import('../../type').MobComponentMap\n * >}\n */\nexport const getParamsForComponentFunction = ({\n    getState,\n    setState,\n    updateState,\n    getProxi,\n    emit,\n    emitAsync,\n    computed,\n    watch,\n    id,\n    key,\n    bindEventsId,\n    debug,\n}) => {\n    /**\n     * Initialize repeatId collector.\n     *\n     * @type {string[]}\n     */\n    const repeatIdArray = [];\n\n    return {\n        bindEventsId,\n        key,\n        id,\n        getState,\n        setState,\n        updateState,\n        getProxi,\n        emit,\n        emitAsync,\n        computed,\n        watch,\n        debug,\n        repeatIdArray,\n        renderComponent: async ({\n            attachTo,\n            component,\n            position = 'afterbegin',\n            clean = true,\n        }) => {\n            /**\n             * Remove all children inside attachTo. If needed.\n             */\n            if (clean) {\n                destroyComponentInsideNodeById({ id, container: attachTo });\n                attachTo.textContent = '';\n            }\n\n            /**\n             * Attach new component\n             */\n            attachTo.insertAdjacentHTML(position, component);\n\n            /**\n             * Render\n             */\n            mainStore.set(\n                MAIN_STORE_ASYNC_PARSER,\n                {\n                    element: attachTo,\n                    parentId: id,\n                    persistent: componentIsPersistent(id),\n                },\n                { emit: false }\n            );\n\n            await mainStore.emitAsync(MAIN_STORE_ASYNC_PARSER);\n            resetMainStoreAsyncParser();\n\n            return;\n        },\n        getChildren: (/** @type {string} */ componentName) => {\n            return getChildrenIdByName({ id, componentName });\n        },\n        /**\n         * Ts issue, prop coem as string\\number\\symbol, convert in string.\n         */\n        freezeProp: (/** @type{string | (() => any)} */ prop) => {\n            const bindParsed = detectProp(prop);\n            return freezePropById({ id, prop: bindParsed.toString() });\n        },\n        unFreezeProp: (/** @type{string | (() => any)} */ prop) => {\n            const bindParsed = detectProp(prop);\n            return unFreezePropById({ id, prop: bindParsed.toString() });\n        },\n        unBind: () => unBind({ id }),\n        bindProps: (data) => {\n            /**\n             * 'props' is required filed in explicit mode. If props is not used is in auto mode ( data is a function )\n             */\n            const dataNormalized = 'props' in data ? data : { props: data };\n\n            return `${ATTR_BIND_PROPS}=\"${setBindProps({\n                ...dataNormalized,\n                parentId: id,\n            })}\" `;\n        },\n        staticProps: (obj) => ` ${ATTR_PROPS}=\"${setStaticProps(obj)}\" `,\n        remove: () => {\n            removeAndDestroyById({ id });\n        },\n        removeDOM: (element) => {\n            destroyComponentInsideNodeById({ id, container: element });\n            element.textContent = '';\n        },\n        getParentId: () => getParentIdById(id),\n        watchParent: (prop, cb) => {\n            const unsubscribeParent = watchById(getParentIdById(id), prop, cb);\n\n            if (unsubscribeParent)\n                setDynamicPropsWatch({ id, unWatchArray: [unsubscribeParent] });\n        },\n        onMount: (cb) => addOnMoutCallback({ id, cb }),\n        bindEvents: (eventsData) => {\n            return `${ATTR_BIND_EVENTS}=\"${setBindEvents(eventsData)}\"`;\n        },\n        delegateEvents: (eventsData) => {\n            return `${ATTR_WEAK_BIND_EVENTS}=\"${setDelegateBindEvent(\n                eventsData\n            )}\"`;\n        },\n        bindEffect: (effectData) => {\n            return `${ATTR_BIND_EFFECT}=\"${setBindEffect({ data: effectData, id })}\"`;\n        },\n        addMethod: (name, fn) => {\n            addMethodById({ id, name, fn });\n        },\n        setRef: (value) => {\n            return `${ATTR_BIND_REFS_ID}=\"${id}\" ${ATTR_BIND_REFS_NAME}=\"${value}\"`;\n        },\n        getRef: () => {\n            return getBindRefById({ id });\n        },\n        getRefs: () => {\n            return getBindRefsById({ id });\n        },\n        bindText: (strings, ...values) => {\n            const bindTextId = MobCore.getUnivoqueId();\n            const render = () => renderBindText(id, strings, ...values);\n            createBindTextWatcher(id, bindTextId, render, ...values);\n\n            return `<mobjs-bind-text ${ATTR_COMPONENT_ID}=\"${id}\" ${ATTR_BIND_TEXT_ID}=\"${bindTextId}\"></mobjs-bind-text>${render()}`;\n        },\n        bindObject: (strings, ...values) => {\n            const keys = getBindObjectKeys(values);\n            const bindObjectId = MobCore.getUnivoqueId();\n            const render = () => renderBindObject(strings, ...values);\n            createBindObjectWatcher(id, bindObjectId, keys, render);\n\n            return `<mobjs-bind-object ${ATTR_COMPONENT_ID}=\"${id}\" ${ATTR_BIND_OBJECT_ID}=\"${bindObjectId}\"></mobjs-bind-object>${render()}`;\n        },\n        invalidate: ({\n            observe,\n            render,\n            beforeUpdate = () => Promise.resolve(),\n            afterUpdate = () => {},\n        }) => {\n            /**\n             * Check if observe prop is a string or a proxi object and convert in Array\n             */\n            const observeParsed = parseObserveInvalidate(observe);\n            const invalidateId = MobCore.getUnivoqueId();\n            const sync = `${ATTR_INVALIDATE}=${invalidateId}`;\n            const invalidateRender = () => render();\n\n            /**\n             * When invalidate is inizilized runtime, all neseted invalidate is initialized. Fire each repeater once.\n             */\n            let isInizialized = false;\n\n            setInvalidatePlaceholderMapScopedId({ invalidateId, scopeId: id });\n\n            setInvalidateFunction({\n                id,\n                invalidateId,\n                fn: () => {\n                    if (isInizialized) return;\n\n                    /**\n                     * Fire invalidate id after component parse\n                     */\n                    inizializeInvalidateWatch({\n                        observe: /** @type {string[]} */ (observeParsed),\n                        watch,\n                        beforeUpdate,\n                        afterUpdate,\n                        persistent: componentIsPersistent(id),\n                        id,\n                        invalidateId,\n                        renderFunction: invalidateRender,\n                    });\n\n                    isInizialized = true;\n\n                    setInvalidatePlaceholderMapInitialized({\n                        invalidateId,\n                    });\n                },\n            });\n\n            return `<mobjs-invalidate ${sync} style=\"display:none;\"></mobjs-invalidate>${invalidateRender()}`;\n        },\n        repeat: (\n            /** @type {import('./type').RepeatInternal} */ {\n                observe,\n                clean = false,\n                beforeUpdate = () => Promise.resolve(),\n                afterUpdate = () => {},\n                key = '',\n                render,\n                useSync = false,\n            }\n        ) => {\n            /**\n             * Check if observe prop is a string or a proxi object\n             */\n            const observeParsed = detectProp(observe);\n            const repeatId = MobCore.getUnivoqueId();\n            const hasKey = key !== '';\n\n            initializeRepeaterPlaceholderMap({\n                repeatId,\n                scopeId: id,\n            });\n\n            /** Type @type{Record<string, any>[]} */\n            const initialState = getState()?.[observeParsed];\n            const currentUnique = hasKey\n                ? getUnivoqueByKey({ data: initialState, key })\n                : initialState;\n\n            /**\n             * Add first dataset related to sitem, with key is filtered by univique key.\n             */\n            setRepeaterPlaceholderCurrentData({\n                repeatId,\n                currentData: currentUnique,\n            });\n\n            /**\n             * If sync as used by user, add the initial string directly\n             */\n            const initialStringRender = useSync\n                ? getRenderWithSync({\n                      currentUnique,\n                      key,\n                      observe: observeParsed,\n                      repeatId,\n                      hasKey,\n                      render,\n                  })\n                : '';\n\n            /**\n             * If no sync as used by user, save the DOM created with attributes added to inner component than add the\n             * DOM when repeat web-component is added to DOM\n             */\n            const initialDOMRender = useSync\n                ? []\n                : getRenderWithoutSync({\n                      currentUnique,\n                      render,\n                      observe: observeParsed,\n                      repeatId,\n                      key,\n                      hasKey,\n                  });\n\n            /**\n             * When repeater is inizilized runtime, all neseted repater is initialized. Fire each repeater once.\n             */\n            let isInizialized = false;\n\n            setRepeaterPlaceholderDOMRender({\n                repeatId,\n                initialDOMRender,\n            });\n\n            setRepeatFunction({\n                id,\n                repeatId,\n                fn: () => {\n                    if (isInizialized) return;\n\n                    /**\n                     * Fire invalidate id after component parse\n                     */\n                    inizializeRepeatWatch({\n                        repeatId,\n                        persistent: componentIsPersistent(id),\n                        state: observeParsed,\n                        setState,\n                        emit,\n                        watch,\n                        clean,\n                        beforeUpdate,\n                        afterUpdate,\n                        key,\n                        id,\n                        render,\n                        useSync,\n                    });\n\n                    isInizialized = true;\n\n                    setRepeaterPlaceholderMapInitialized({\n                        repeatId,\n                    });\n\n                    if (!repeaterhasComponentChildren({ repeatId })) {\n                        setRepeaterNativeDOMChildren({\n                            repeatId,\n                            id,\n                            observe: observeParsed,\n                        });\n                    }\n                },\n            });\n\n            return `<mobjs-repeat ${ATTR_MOBJS_REPEAT}=\"${repeatId}\" style=\"display:none;\"></mobjs-repeat>${initialStringRender}`;\n        },\n    };\n};\n", "import { getComponentList } from '../../component-list';\n\n/**\n * @param {object} obj\n * @param {string} obj.componentName\n * @param {{ string: any } | {}} obj.currentProps\n * @returns {{ string: any } | {}}\n */\nexport const filterExportableStateFromObject = ({\n    componentName,\n    currentProps = {},\n}) => {\n    const componentList = getComponentList();\n\n    /**\n     * @type {string[]}\n     */\n    const exportableState =\n        componentList?.[componentName]?.componentParams?.exportState ?? [];\n\n    return Object.entries(currentProps)\n        .filter(([key]) => {\n            return exportableState.includes(key);\n        })\n        .reduce((previous, current) => {\n            const [key, value] = current;\n            return { ...previous, [key]: value };\n        }, {});\n};\n", "import { getComponentRepeaterState } from '../../modules/repeater/repeater-value';\nimport { getPropsFromParent } from '../../modules/static-props';\nimport { filterExportableStateFromObject } from '../../component/action/state/export-state';\nimport { getParentIdFromWeakElementMap } from '../../component/action/parent';\nimport { autoDetectParentId } from '../strategy';\n\n/**\n * Create base DOM component from component tag.\n *\n * @param {object} obj\n * @param {import('../../web-component/type').UserComponent} obj.element\n * @param {string | undefined} obj.parentIdForced\n * @returns {import('./type').ComponentData}\n */\nexport const getParamsFromWebComponent = ({ element, parentIdForced }) => {\n    const id = element.getId();\n    const instanceName = element.getInstanceName();\n    const parentIdFromWebComponent = element.getParentId();\n\n    /**\n     * First choice is parentId passed directly in webComponent Second choice is parentId passed to initParseWatcher (\n     * renderComponent: render component runtime ).\n     *\n     * After first level of Node will render, all childrn has the right parentID: `addParentIdToFutureComponent({\n     * element: newElement, id });`\n     *\n     * So after first level of node tree parentIdFromWebComponent always win.\n     */\n    const parentId = autoDetectParentId\n        ? getParentIdFromWeakElementMap({ element })\n        : parentIdFromWebComponent && parentIdFromWebComponent.length > 0\n          ? parentIdFromWebComponent\n          : parentIdForced;\n\n    const propsId = element.getStaticPropsId();\n    const dynamicPropsId = element.getDynamicPropsid();\n    const bindEventsId = element.getBindEventsId();\n    const currentRepeaterValueId = element.getRepeatValue();\n    const componentRepeatId = element.getComponentRepeatId();\n    const key = element.getCurrentKey() ?? '';\n    const componentName = element.getComponentName();\n    const cleanProsId = propsId?.split(' ').join('');\n    const propsFromParent = getPropsFromParent(cleanProsId);\n    const baseProps = { ...element.dataset };\n    const repeatPropBind = element.getRepeaterPropBind();\n    const currentRepeatValue = getComponentRepeaterState(\n        currentRepeaterValueId\n    );\n\n    return {\n        element,\n        props: {\n            ...filterExportableStateFromObject({\n                componentName,\n                currentProps: baseProps,\n            }),\n            ...filterExportableStateFromObject({\n                componentName,\n                currentProps: propsFromParent,\n            }),\n        },\n        id,\n        componentName,\n        instanceName,\n        key,\n        dynamicPropsId,\n        repeatPropBind,\n        bindEventsId,\n        currentRepeatValue,\n        parentId,\n        componentRepeatId,\n    };\n};\n", "import { nonPersisitentComponentSet } from '../../../non-persisitent-set';\n\n/**\n * @param {string} id\n * @returns {void}\n */\nexport const addNonPersisitentComponent = (id) => {\n    nonPersisitentComponentSet.add(id);\n};\n", "import { MobCore } from '../../mob-core';\nimport { DEFAULT_CURRENT_REPEATER_STATE } from '../constant';\nimport { setRepeaterComponentChildren } from '../modules/repeater/action/set-repeat-component-children';\nimport { getFreezePropStatus } from './action/freeze';\nimport { addNonPersisitentComponent } from './action/remove-and-destroy/cancellable-component/add-persisitent-component';\nimport { componentMap } from './component-map';\nimport { addIdToInstanceMap } from './instance-map';\nimport { addPropsToState } from './utils';\n\n/**\n * Add component to store.\n *\n * @param {import('./type').ComponentStoreInput} params\n * @returns {import('./type').ComponentStoreReturn}\n */\nexport const addComponentToStore = ({\n    element,\n    instanceName = '',\n    props = {},\n    state = {},\n    bindStore,\n    methods = {},\n    key = '',\n    currentRepeaterState = DEFAULT_CURRENT_REPEATER_STATE,\n    repeaterInnerWrap,\n    repeatPropBind = '',\n    componentRepeatId = '',\n    parentPropsWatcher = [() => {}],\n    refs = {},\n    destroy = () => {},\n    freezedPros = [],\n    persistent = false,\n    child = {},\n    parentId = '',\n    id = '',\n    componentName = '',\n}) => {\n    const store = MobCore.createStore(state);\n    addPropsToState({ props, store });\n\n    if (bindStore) {\n        store.bindStore(bindStore);\n    }\n\n    if (!persistent) {\n        addNonPersisitentComponent(id);\n    }\n\n    /**\n     * Save component id in repeater map, if is inside repeater. fast find component in repeater.\n     */\n    if (componentRepeatId && componentRepeatId.length > 0) {\n        setRepeaterComponentChildren({\n            componentId: id,\n            repeatId: componentRepeatId,\n        });\n    }\n\n    if (instanceName && instanceName.length > 0) {\n        addIdToInstanceMap({ instanceName, id });\n    }\n\n    componentMap.set(id, {\n        element,\n        componentName,\n        instanceName,\n        destroy,\n        parentPropsWatcher,\n        refs,\n        methods,\n        key,\n        currentRepeaterState,\n        repeaterInnerWrap,\n        repeatPropBind,\n        componentRepeatId,\n        persistent,\n        id,\n        parentId,\n        freezedPros,\n        child,\n        state: store,\n    });\n\n    return {\n        getState: () => store.get(),\n        setState: (prop = '', value = {}, { emit = true } = {}) => {\n            const isFreezed = getFreezePropStatus({ id, prop });\n            if (isFreezed) return;\n\n            store.set(prop, value, { emit: emit ?? true });\n        },\n        updateState: (\n            prop = '',\n            updateFunction = () => {},\n            { emit = true, clone = false } = {}\n        ) => {\n            const isFreezed = getFreezePropStatus({ id, prop });\n            if (isFreezed) return;\n\n            store.update(prop, updateFunction, {\n                emit: emit ?? true,\n                clone: clone ?? false,\n            });\n        },\n        getProxi: () => store.getProxi(),\n        emit: (prop = '') => store.emit(prop),\n        emitAsync: async (prop = '') => await store.emitAsync(prop),\n        computed: (\n            prop = '',\n            fn = () => {},\n            /** @type {string[]} */ keys = []\n        ) => store.computed(prop, fn, keys),\n        watch: (\n            prop = '',\n            cb = () => {},\n            { wait = false, immediate = false } = {}\n        ) =>\n            store.watch(prop, cb, {\n                wait: wait ?? false,\n                immediate: immediate ?? false,\n            }),\n        debug: () => store.debug(),\n    };\n};\n", "// @ts-check\n\nimport { invalidateFunctionMap } from '../invalidate-function-map';\n\n/**\n * Get invalidate starter function to launch at the end of parseDOM\n *\n * @param {object} params\n * @param {string} params.id\n * @returns {{ invalidateId: string; fn: () => void }[]}\n */\n\nexport const getInvalidateFunctions = ({ id }) => {\n    return invalidateFunctionMap.get(id) ?? [];\n};\n", "// @ts-check\n\nimport { repeatFunctionMap } from '../repeat-function-map';\n\n/**\n * Get repeat starter function to launch at the end of parseDOM\n *\n * @param {object} params\n * @param {string} params.id\n * @returns {{ repeatId: string; fn: () => void }[]}\n */\n\nexport const getRepeatFunctions = ({ id }) => {\n    return repeatFunctionMap.get(id) ?? [];\n};\n", "import { setElementById } from '../component/action/element';\nimport { convertToRealElement } from './steps/convert-to-real-element';\nimport { getDefaultComponent } from '../component/create-component';\nimport {\n    getCurrentIterationCounter,\n    getParseSourceArray,\n    incrementCurrentIterationCounter,\n} from './utils';\nimport { fireOnMountCallBack } from '../modules/on-mount';\nimport { applyBindEvents } from '../modules/bind-events';\nimport { addCurrentIdToBindProps, applyBindProps } from '../modules/bind-props';\nimport { getParamsForComponentFunction } from './steps/get-params-for-component';\nimport {\n    addParentIdToFutureComponent,\n    addSelfIdToParentComponent,\n} from '../component/action/parent';\nimport { applyDelegationBindEvent } from '../modules/delegate-events';\nimport { getParamsFromWebComponent } from './steps/get-params-from-web-component';\nimport { addComponentToStore } from '../component';\nimport {\n    setRepeaterInnerWrap,\n    setRepeaterStateById,\n} from '../component/action/repeater';\nimport { getInvalidateFunctions } from '../modules/invalidate/action/get-invalidate-functions';\nimport { getRepeatFunctions } from '../modules/repeater/action/get-repeat-functions';\nimport { addBindRefsToComponent, getBindRefs } from '../modules/bind-refs';\nimport { clearSlotPlaceHolder } from '../modules/slot';\nimport { autoDetectParentId, useSlotQuery } from './strategy';\nimport { switchBindTextMap } from '../modules/bind-text';\nimport { switchBindObjectMap } from '../modules/bind-object';\nimport { applyBindEffect } from '../modules/bind-effetc';\nimport { getComponentList } from '../component/component-list';\n/**\n * Create all component from DOM.\n *\n * @param {object} obj\n * @param {HTMLElement} obj.element\n * @param {boolean} [obj.persistent]\n * @param {string} [obj.parentIdForced]\n * @returns {Promise<void>}\n */\n\nexport const parseComponentsWhile = async ({\n    element,\n    persistent = false,\n    parentIdForced = '',\n}) => {\n    const componentList = getComponentList();\n\n    /**\n     * @type {{\n     *     onMount: () => Promise<void>;\n     *     initializeBindPropsWatcher: () => void;\n     *     fireInvalidateFunction: () => void;\n     *     fireRepeatFunction: () => void;\n     * }[]}\n     */\n    const functionToFireAtTheEnd = [];\n\n    const result = getParseSourceArray({\n        element,\n        currentSelectors: [],\n    });\n\n    /** Used only with useQuery stragy = true */\n    let currentSelectors = result.parseSourceArray;\n\n    /** Current component to parse */\n    let componentToParse = result?.componentToParse;\n\n    /**\n     * Loop\n     */\n    while (componentToParse) {\n        /**\n         * Get component params from list definition.\n         */\n        const componentToParseName = componentToParse.getComponentName();\n        const userFunctionComponent =\n            componentList?.[componentToParseName]?.componentFunction;\n        const componentParams =\n            componentList?.[componentToParseName]?.componentParams;\n        const { scoped, bindStore } = componentParams;\n\n        /**\n         * Get all data from placeholder\n         */\n        const {\n            props,\n            id,\n            componentName,\n            instanceName,\n            key,\n            dynamicPropsId,\n            currentRepeatValue,\n            bindEventsId,\n            parentId,\n            componentRepeatId,\n            repeatPropBind,\n        } = getParamsFromWebComponent({\n            element: componentToParse,\n            parentIdForced,\n        });\n\n        /**\n         * Get state from componentParams\n         */\n        const state = componentParams?.state ?? {};\n\n        /**\n         * Add component to store\n         */\n        const {\n            getState,\n            setState,\n            updateState,\n            getProxi,\n            emit,\n            emitAsync,\n            computed,\n            watch,\n            debug,\n        } = addComponentToStore({\n            element: componentToParse,\n            props,\n            state,\n            id,\n            componentName,\n            instanceName,\n            key,\n            repeatPropBind,\n            persistent,\n            parentId,\n            componentRepeatId,\n            bindStore,\n        });\n\n        /**\n         * Update to parent component child array.\n         */\n        addSelfIdToParentComponent({ id });\n\n        /**\n         * Set initial currentRepeaterState for initialize dynamicProps. Only first child node of a repeater\n         *\n         * - Update componentMap currentRepeaterState\n         * - Update innerwrap\n         */\n        if (componentRepeatId && componentRepeatId?.length > 0) {\n            setRepeaterStateById({ id, value: currentRepeatValue });\n            setRepeaterInnerWrap({\n                id,\n                repeatId: componentRepeatId,\n                element: componentToParse,\n            });\n        }\n\n        /**\n         * Initialize dynamic props and set initial state.\n         */\n        addCurrentIdToBindProps({\n            propsId: dynamicPropsId,\n            repeatPropBind,\n            componentId: id,\n        });\n\n        /**\n         * Prepare params for component function\n         */\n        const objectFromComponentFunction = getParamsForComponentFunction({\n            getState,\n            setState,\n            updateState,\n            getProxi,\n            emit,\n            emitAsync,\n            computed,\n            watch,\n            id,\n            key,\n            bindEventsId,\n            debug,\n        });\n\n        /**\n         * Launch userFunctionComponent and wait for render function with custom DOM to add to component.\n         */\n        const content = await userFunctionComponent(\n            objectFromComponentFunction\n        );\n\n        /**\n         * Get all classes from placeholder component\n         */\n        const classList = componentToParse.classList;\n\n        /**\n         * Add custom DOM to basic component\n         */\n        const { newElement } = convertToRealElement({\n            content,\n            // @ts-ignore\n            element: componentToParse,\n        });\n\n        /**\n         * Clean slot map after convertToRealElement\n         */\n        if (!useSlotQuery) clearSlotPlaceHolder();\n\n        /**\n         * Copy all classes in new component.\n         */\n        if (classList.length > 0) {\n            newElement?.classList.add(...classList);\n        }\n\n        /**\n         * Set parentId to component inside current. Add self id to future component. If id is assigned to component\n         * nested in next cycle will be override by current component.\n         */\n        if (!autoDetectParentId)\n            addParentIdToFutureComponent({ element: newElement, id });\n\n        /**\n         * If element wad destroyed during parse es: repat function fired with async component to fast return without\n         * render dom component.\n         */\n        if (!newElement) {\n            return;\n        }\n\n        /**\n         * Update last DOM element in store.\n         */\n        setElementById({ id, newElement });\n\n        /**\n         * Execute invalidateFunction.\n         */\n        const invalidateFunctions = getInvalidateFunctions({ id });\n        const repeatFunctions = getRepeatFunctions({ id });\n\n        // const bindEventsId = objectFromComponentFunction?.bindEventsId;\n        if (bindEventsId) {\n            applyBindEvents({\n                element: newElement,\n                componentId: id,\n                bindEventsId,\n            });\n        }\n\n        /**\n         * Fire immediately onMount callback, scoped to current component DOM. Child is ignored.\n         */\n        const shoulBeScoped = scoped ?? getDefaultComponent().scoped;\n\n        if (shoulBeScoped) {\n            await fireOnMountCallBack({\n                id,\n                element: newElement,\n            });\n        }\n\n        // Initialize custom component.\n        // #this.#isPlaceholder is disables in convert-to-real-element.js\n\n        // @ts-ignore\n        newElement?.inizializeCustomComponent?.(objectFromComponentFunction);\n\n        /**\n         * Store onMount callback. Fire : 1 - onMount callback. 2 - Dynamic props. 3 - First repat from current state.\n         */\n        functionToFireAtTheEnd.push({\n            onMount: async () => {\n                if (shoulBeScoped) return;\n\n                /**\n                 * Fire onMount callback at the end of current parse.\n                 */\n                await fireOnMountCallBack({\n                    id,\n                    element: newElement,\n                });\n            },\n            initializeBindPropsWatcher: () => {\n                applyBindProps({\n                    componentId: id,\n                    repeatPropBind,\n                    inizilizeWatcher: true,\n                });\n            },\n            fireInvalidateFunction:\n                invalidateFunctions.length > 0\n                    ? () => {\n                          invalidateFunctions.forEach(({ fn }) => {\n                              fn?.();\n                          });\n                      }\n                    : () => {},\n            fireRepeatFunction:\n                repeatFunctions.length > 0\n                    ? () => {\n                          repeatFunctions.forEach(({ fn }) => {\n                              fn?.();\n                          });\n                      }\n                    : () => {},\n        });\n\n        const result = getParseSourceArray({\n            element,\n            currentSelectors,\n        });\n\n        currentSelectors = result.parseSourceArray;\n        componentToParse = result.componentToParse;\n\n        /**\n         * Check if max parse number is reached.\n         */\n        const parseLimitReached =\n            getCurrentIterationCounter() ===\n            getDefaultComponent().maxParseIteration;\n\n        incrementCurrentIterationCounter();\n\n        if (parseLimitReached) {\n            console.warn(\n                `dom parse reached max parse limit: ${getCurrentIterationCounter()}`\n            );\n\n            break;\n        }\n    }\n\n    /*\n     * After loop\n     */\n    /**\n     * Get all dynamic refs.\n     */\n    const bindRefs = getBindRefs({ element });\n    if (Object.keys(bindRefs).length > 0) addBindRefsToComponent(bindRefs);\n\n    /**\n     * Fire onMount queue. Wait parse is ended to fire onMount callback.\n     *\n     * Launch from the end so childn can initialize watch before parent. In case a watcher is watching a props\n     * initialized inside onMount state of parent.\n     */\n    for (const item of functionToFireAtTheEnd.reverse()) {\n        const {\n            onMount,\n            initializeBindPropsWatcher,\n            fireInvalidateFunction,\n            fireRepeatFunction,\n        } = item;\n\n        await onMount();\n        fireRepeatFunction();\n        fireInvalidateFunction();\n        initializeBindPropsWatcher();\n    }\n\n    /**\n     * Reset reference.\n     */\n    functionToFireAtTheEnd.length = 0;\n    currentSelectors.length = 0;\n\n    // @ts-expect-error remove component reference for GC.\n    componentToParse = null;\n\n    /**\n     * Apply delegate event at the ends of all repeater parse. Important! do not use await here. We are inside a\n     * repeater queque ! We can not await end of itself ! This should be the last command.\n     */\n    applyDelegationBindEvent(element);\n    applyBindEffect(element);\n    switchBindTextMap();\n    switchBindObjectMap();\n\n    return;\n};\n", "import { MAIN_STORE_ASYNC_PARSER } from '../main-store/constant';\nimport { mainStore } from '../main-store/main-store';\nimport { parseComponentsWhile } from './parse-function-while';\nimport { resetCurrentIterationCounter } from './utils';\n\n/**\n * @param {object} obj\n * @param {HTMLElement} obj.element\n * @param {boolean} [obj.persistent]\n * @param {string} [obj.parentIdForced]\n * @returns {Promise<void>} A promise to the token.\n */\nexport const parseComponents = async ({\n    element,\n    persistent = false,\n    parentIdForced = '',\n}) => {\n    await parseComponentsWhile({\n        element,\n        persistent,\n        parentIdForced,\n    });\n\n    resetCurrentIterationCounter();\n};\n\n/**\n * Parse component from inner component generated by first parseComponent. Use pub/sub to avoid circular dependencies.\n *\n * @returns {void}\n */\nexport const initParseWatcher = () => {\n    mainStore.watch(\n        MAIN_STORE_ASYNC_PARSER,\n        async ({ element, parentId, persistent = false }) => {\n            await parseComponents({\n                element,\n                parentIdForced: parentId ?? '',\n                persistent,\n            });\n        }\n    );\n};\n\n/**\n * @param {HTMLElement} element\n * @returns {Promise<void>} A promise to the token.\n */\nexport const parseDom = async (element) => {\n    await parseComponents({\n        element,\n    });\n};\n", "export const HISTORY_BACK = 'BACK';\nexport const HISTORY_NEXT = 'NEXT';\n", "import { HISTORY_BACK } from '../constant';\n\n/**\n * @type {(import('../type').HistoryType | undefined)[]}\n */\nconst historyBack = [];\n\n/**\n * @type {(import('../type').HistoryType | undefined)[]}\n */\nlet historyNext = [];\n\n/**\n * @returns {void}\n */\nconst deleteLastHistoryBack = () => {\n    const arrayLenght = historyBack.length;\n    if (arrayLenght >= 1) historyBack.length = historyBack.length - 1;\n};\n\n/**\n * @returns {void}\n */\nconst deleteLastHistoryNext = () => {\n    const arrayLenght = historyNext.length;\n    if (arrayLenght >= 1) historyNext.length = historyNext.length - 1;\n};\n\n/**\n * @param {import('../type').HistoryType | undefined} value\n * @returns {void}\n */\nexport const setHistoryBack = (value) => {\n    historyBack.push(value);\n};\n\n/**\n * @param {import('../type').HistoryType} value\n * @returns {void}\n */\nexport const setHistoryNext = (value) => {\n    historyNext.push(value);\n};\n\n/**\n * @returns {void}\n */\nexport const resetNext = () => {\n    historyNext = [];\n};\n\n/**\n * @returns {number}\n */\nexport const historyBackSize = () => {\n    return historyBack.length;\n};\n\n/**\n * @returns {import('../type').HistoryType | undefined}\n */\nconst getLastHistoryBack = () => {\n    const value = historyBack.at(-1);\n    deleteLastHistoryBack();\n    return value;\n};\n\n/**\n * @returns {import('../type').HistoryType | undefined}\n */\nconst getPenultimateHistoryNext = () => {\n    const value = historyNext.at(-2);\n    deleteLastHistoryNext();\n    return value;\n};\n\nexport const getLastHistoryNext = () => {\n    const value = historyNext.at(-1);\n    return value;\n};\n\n/**\n * @param {string} direction\n * @returns {import('../type').HistoryType | undefined}\n */\nexport const getLastHistory = (direction) => {\n    if (direction === HISTORY_BACK) {\n        return getLastHistoryBack();\n    }\n\n    return getPenultimateHistoryNext();\n};\n", "import { removeOrphansBindEvent } from '../../../modules/bind-events';\nimport { removeOrphansBindProps } from '../../../modules/bind-props';\nimport { removeOrphansPropsFromParent } from '../../../modules/static-props';\n\n/**\n * Remove orphan omponent from store. Secure check.\n *\n * @returns {void}\n */\nexport const removeOrphanTempIds = () => {\n    /**\n     * Remove props reference. Async loading and interrupt can leave rubbish.\n     */\n    removeOrphansPropsFromParent();\n    removeOrphansBindEvent();\n    removeOrphansBindProps();\n};\n", "/**\n * @type {import('../../type').PageTransition | (() => void)}\n */\nlet pageTransition = () => {};\n\n/**\n * @type {import('../../type').BeforePageTransition | (() => void)}\n */\nlet beforePageTransition = () => {};\n\n/**\n * @param {object} obj\n * @param {import('../../type').BeforePageTransition} [obj.fn] Returns void\n */\nexport const setBeforePageTransition = ({ fn }) => {\n    if (!fn) return;\n\n    beforePageTransition = fn;\n};\n\n/**\n * Set root app.\n *\n * @param {object} obj\n * @param {import('../../type').PageTransition} [obj.fn] Returns void\n */\nexport const setPageTransition = ({ fn }) => {\n    if (!fn) return;\n\n    pageTransition = fn;\n};\n\n/**\n * @returns {import('../../type').BeforePageTransition | (() => void)}\n */\nexport const getBeforePageTransition = () => beforePageTransition;\n\n/**\n * @returns {import('../../type').PageTransition | (() => void)}\n */\nexport const getPageTransition = () => pageTransition;\n", "/**\n * @type {boolean}\n */\nlet restoreScroll = true;\n\n/**\n * @param {boolean} value\n * @returns {void}\n */\nexport const setRestoreScroll = (value) => {\n    restoreScroll = value;\n};\n\n/**\n * @returns {boolean}\n */\nexport const getRestoreScroll = () => restoreScroll;\n", "import { nonPersisitentComponentSet } from '../../../non-persisitent-set';\nimport { removeAndDestroyById } from '../remove-and-destroy-by-id';\n\n/**\n * Destroy non persistent element.\n *\n * @returns {void}\n */\nexport const removeCancellableComponent = () => {\n    for (const id of nonPersisitentComponentSet) {\n        removeAndDestroyById({ id });\n    }\n};\n", "import { removeOrphanTempIds } from '../../component/action/remove-and-destroy/remove-orphan-temp-ids';\nimport { getRouteByName } from '../route-list';\nimport {\n    MAIN_STORE_ACTIVE_PARAMS,\n    MAIN_STORE_ACTIVE_ROUTE,\n    MAIN_STORE_AFTER_ROUTE_CHANGE,\n    MAIN_STORE_BEFORE_ROUTE_CHANGE,\n    MAIN_STORE_ROUTE_IS_LOADING,\n} from '../../main-store/constant';\nimport { getContentElement } from '../dom-ref/content';\nimport { mainStore } from '../../main-store/main-store';\nimport { getBeforePageTransition, getPageTransition } from '../page-transition';\nimport { parseComponents } from '../../parse';\nimport { getRestoreScroll } from '../scroll';\nimport { tick } from '../../queque/tick';\nimport { removeCancellableComponent } from '../../component/action/remove-and-destroy/cancellable-component/destroy-all-non-persisitent-component';\n\n/**\n * Load new route.\n *\n * @param {object} param\n * @param {string} param.route\n * @param {string} param.templateName\n * @param {boolean} param.restoreScroll\n * @param {{ [key: string]: any }} param.params\n * @param {boolean | undefined} param.skipTransition\n * @param {number} param.scrollY\n */\nexport const loadRoute = async ({\n    route = '',\n    templateName = '',\n    restoreScroll = true,\n    params = {},\n    scrollY,\n    skipTransition,\n}) => {\n    mainStore.set(MAIN_STORE_ROUTE_IS_LOADING, true);\n\n    /**\n     * Await that all operation is completed before load next route\n     */\n    await tick();\n\n    const contentElement = getContentElement();\n    if (!contentElement || !(contentElement instanceof HTMLElement)) return;\n\n    if (!skipTransition) contentElement.style.visibility = 'hidden';\n\n    /**\n     * Set before Route leave.\n     */\n    const { activeRoute: fromRoute } = mainStore.get();\n\n    /**\n     * Set before Change props\n     */\n    mainStore.set(MAIN_STORE_BEFORE_ROUTE_CHANGE, {\n        currentRoute: fromRoute.route,\n        currentTemplate: fromRoute.templateName,\n        nextRoute: route,\n        nextTemplate: templateName,\n    });\n\n    /**\n     * If another route change during loading current route ( async route with some delay or similar ) skip fire after\n     * route change event\n     */\n    let skip = false;\n    const unWatchRouteChange = mainStore.watch(\n        MAIN_STORE_BEFORE_ROUTE_CHANGE,\n        () => {\n            skip = true;\n        }\n    );\n\n    /**\n     * Clean DOM Remove props reference. Async loading and interrupt can leave rubbish.\n     */\n    removeOrphanTempIds();\n\n    /**\n     * Set new active route.\n     */\n    mainStore.set(MAIN_STORE_ACTIVE_ROUTE, { route, templateName });\n    mainStore.set(MAIN_STORE_ACTIVE_PARAMS, params);\n\n    /**\n     * Get route.\n     */\n    const routeObejct = getRouteByName({ routeName: route });\n\n    /**\n     * Get route props,\n     */\n    const props = routeObejct?.props ?? {};\n\n    /**\n     * Get route DOM,\n     */\n    const content = (await routeObejct?.layout?.({ params, props })) ?? '';\n\n    /**\n     * Clone old route. Execute function to manipulate old Node.\n     */\n    const beforePageTransition = getBeforePageTransition();\n\n    /**\n     * @type {Node | null}\n     */\n    let clone = contentElement.cloneNode(true);\n\n    if (beforePageTransition && clone && !skipTransition) {\n        await beforePageTransition({\n            // @ts-ignore\n            oldNode: clone,\n            oldRoute: fromRoute.route,\n            newRoute: route,\n            oldTemplateName: fromRoute.templateName,\n            newTemplateName: templateName,\n        });\n        contentElement?.parentNode?.insertBefore(clone, contentElement);\n    }\n\n    // contentEl.textContent = '';\n    contentElement.replaceChildren();\n\n    removeCancellableComponent();\n    contentElement.insertAdjacentHTML('afterbegin', content);\n\n    /**\n     * Wait for all render.\n     */\n    await parseComponents({ element: contentElement });\n    if (!skipTransition) contentElement.style.visibility = '';\n\n    /**\n     * SKit after route change if another route is called.\n     */\n    if (!skip)\n        mainStore.set(MAIN_STORE_AFTER_ROUTE_CHANGE, {\n            currentRoute: route,\n            currentTemplate: templateName,\n            previousRoute: fromRoute.route,\n            previousTemplate: fromRoute.templateName,\n        });\n\n    /**\n     * Scroll to 0 or if use history from history scrollY value\n     */\n    if (getRestoreScroll() && restoreScroll) scrollTo(0, scrollY);\n\n    /**\n     * Animate pgae teansition. Remove old route.\n     */\n    const pageTransition = getPageTransition();\n    if (pageTransition && !skipTransition) {\n        await pageTransition({\n            oldNode: clone,\n            newNode: contentElement,\n            oldRoute: fromRoute.route,\n            newRoute: route,\n            oldTemplateName: fromRoute.templateName,\n            newTemplateName: templateName,\n        });\n        // @ts-ignore\n        clone.remove();\n    }\n\n    /**\n     * Destroy Clone.\n     */\n    clone = null;\n\n    /**\n     * Set active route to body data-route\n     */\n    document.body.dataset['route'] = route;\n    document.body.dataset['template'] = templateName;\n\n    /**\n     * Remove watcher.\n     */\n    unWatchRouteChange?.();\n\n    mainStore.set(MAIN_STORE_ROUTE_IS_LOADING, false);\n};\n", "/**\n * @type {import('../../type').RedirectFunction} params.route\n */\nlet redirectFunction = ({ route }) => route;\n\n/**\n * @param {import('../../type').RedirectFunction} fn\n * @returns {void}\n */\nexport const setRedirectFunction = (fn) => {\n    redirectFunction = fn;\n};\n\n/**\n * @param {object} params\n * @param {string} params.route\n * @returns {{ route: string; isRedirect: boolean }}\n */\nexport const tryRedirect = ({ route }) => {\n    const newRoute = redirectFunction({ route });\n\n    return {\n        route: newRoute,\n        isRedirect: newRoute !== route,\n    };\n};\n", "import { getIndex, getPageNotFound, getRouteByName } from './route-list';\n\n/**\n * Validate url, in not exist return pageNotFound.\n *\n * @param {object} obj\n * @param {string} obj.url\n * @returns {string}\n */\nexport const getRouteModule = ({ url = '' }) => {\n    const index = getIndex();\n    const pageNotFound = getPageNotFound();\n\n    if (url === '') return index;\n\n    return getRouteByName({ routeName: url }) ? url : pageNotFound;\n};\n\n/**\n * Validate url, in not exist return pageNotFound.\n *\n * @param {object} obj\n * @param {string} obj.url\n * @returns {string}\n */\nexport const getTemplateName = ({ url = '' }) => {\n    return getRouteByName({ routeName: url })?.templateName ?? '';\n};\n\n/**\n * Validate url, in not exist return pageNotFound.\n *\n * @param {object} obj\n * @param {string} obj.url\n * @returns {boolean}\n */\nexport const getRestoreScrollVale = ({ url = '' }) => {\n    return getRouteByName({ routeName: url })?.restoreScroll ?? true;\n};\n", "import { MobCore } from '../../mob-core';\nimport { mainStore } from '../main-store/main-store';\nimport { HISTORY_BACK, HISTORY_NEXT } from './constant';\nimport {\n    historyBackSize,\n    getLastHistory,\n    getLastHistoryNext,\n    resetNext,\n    setHistoryBack,\n    setHistoryNext,\n} from './history';\nimport { loadRoute } from './load-route';\nimport { tryRedirect } from './redirect';\nimport { getRestoreScrollVale, getRouteModule, getTemplateName } from './utils';\n\n/** @type {string} */\nlet previousHash = '';\n\n/** @type {string} */\nlet previousParamsToPush = '';\n\n/** @type {string | undefined} */\nlet currentStringParams;\n\n/** @type {boolean | undefined} */\nlet currentSkipTransition;\n\n/** @type {string} */\nlet historyDirection = 'back';\n\n/**\n * @type {import('./type').HistoryType | undefined}\n */\nlet previousHistory;\n\n/**\n * @type {import('./type').HistoryType | undefined}\n */\nlet currentHistory;\n\n/**\n * @param {string} value\n * @returns {string}\n */\nconst sanitizeParams = (value) => {\n    return value.replace('?', '').replace('/', '');\n};\n\n/**\n * @param {string} value\n * @returns {string}\n */\nconst sanitizeHash = (value) => {\n    return value.replace('#', '').replace('/', '').replace('.', '');\n};\n\n/**\n * @param {string} value\n * @returns {{ [key: string]: any }}\n */\nconst getParams = (value) => {\n    return value.split('&').reduce((previous, current) => {\n        const currentParams = current.split('=');\n        const key = sanitizeParams(currentParams?.[0] ?? '');\n        const value = currentParams?.[1];\n\n        return key && key.length > 0 ? { ...previous, [key]: value } : previous;\n    }, {});\n};\n\n/**\n * @param {Record<string, any> | undefined} params\n * @returns {string | undefined}\n */\nconst convertObjectParamsToString = (params) => {\n    return (\n        params &&\n        Object.entries(params).reduce((previous, [key, value], index) => {\n            const currentJoin = index === 0 ? '' : '&';\n            return `${previous}${currentJoin}${key}=${value}`;\n        }, '')\n    );\n};\n\n/**\n * Get hash from url and load new route.\n */\nconst hashHandler = async () => {\n    const historyObejct = { time: MobCore.getTime(), scrollY: window.scrollY };\n    const originalHash = globalThis.location.hash.slice(1);\n\n    /**\n     * Prevent multiple routes start at same time.\n     */\n    const { routeIsLoading } = mainStore.get();\n    if (routeIsLoading) {\n        /**\n         * Restore previous hash/params.\n         */\n        history.replaceState(\n            { nextId: historyObejct },\n            '',\n            `#${previousHash}${previousParamsToPush}`\n        );\n        return;\n    }\n\n    /**\n     * Get route after redirect.\n     */\n    const { route: currentRoute, isRedirect } = tryRedirect({\n        route: originalHash,\n    });\n\n    /**\n     * If redirect update hash url.\n     */\n    if (isRedirect) {\n        history.replaceState({ nextId: historyObejct }, '', `#${currentRoute}`);\n    }\n\n    const parts = currentRoute.split('?');\n    const search = sanitizeParams(parts?.[1] ?? '');\n\n    /**\n     * Get final hash/params value.\n     */\n    const hash = sanitizeHash(parts?.[0] ?? '');\n    const params = getParams(currentStringParams ?? search);\n\n    /**\n     * Update browser history.\n     */\n    const paramsToPush =\n        currentStringParams || Object.keys(search).length > 0\n            ? `?${currentStringParams ?? search}`\n            : '';\n\n    /**\n     * Set unique id to route. Useful in poState to check if come from backButton\n     */\n    if (!currentHistory)\n        history.replaceState(\n            { nextId: historyObejct },\n            '',\n            `#${hash}${paramsToPush}`\n        );\n\n    /**\n     * Reset last search value ( id come form loadUrl function ).\n     */\n    currentStringParams = undefined;\n\n    /**\n     * Store previous hash.\n     */\n    previousHash = hash;\n\n    /**\n     * Store previous paramsToPush.\n     */\n    previousParamsToPush = paramsToPush;\n\n    // modalita standard\n    // salvo il vaslore dello scroll corrente\n    if (!currentHistory) {\n        setHistoryBack(historyObejct);\n    }\n\n    // salvo il vaslore dello scroll corrente\n    if (currentHistory && historyDirection === HISTORY_BACK) {\n        setHistoryNext(historyObejct);\n    }\n\n    // salvo il vaslore corrente di next in back\n    if (currentHistory && historyDirection === HISTORY_NEXT) {\n        setHistoryBack(getLastHistoryNext());\n    }\n\n    /**\n     * Load.\n     */\n    await loadRoute({\n        route: getRouteModule({ url: hash }),\n        templateName: getTemplateName({ url: hash }),\n        restoreScroll: getRestoreScrollVale({ url: hash }),\n        params,\n        scrollY: currentHistory\n            ? (getLastHistory(historyDirection)?.scrollY ?? 0)\n            : 0,\n        skipTransition:\n            (currentHistory ?? currentSkipTransition) ? true : false,\n    });\n\n    /**\n     * Reset current skip transition value.\n     */\n    currentSkipTransition = undefined;\n};\n\n/**\n * Initialize router.\n */\nexport const router = () => {\n    hashHandler();\n\n    globalThis.addEventListener('popstate', (event) => {\n        currentHistory = event?.state?.nextId;\n\n        /**\n         * First back\n         */\n        if (currentHistory && !previousHistory && historyBackSize() > 0) {\n            previousHistory = currentHistory;\n            historyDirection = HISTORY_BACK;\n            return;\n        }\n\n        /**\n         * Next\n         */\n        if (\n            currentHistory &&\n            previousHistory &&\n            previousHistory?.time > currentHistory?.time &&\n            historyBackSize() > 0\n        ) {\n            previousHistory = currentHistory;\n            historyDirection = HISTORY_BACK;\n            return;\n        }\n\n        /**\n         * Prev\n         */\n        if (\n            currentHistory &&\n            previousHistory &&\n            previousHistory?.time < currentHistory?.time\n        ) {\n            previousHistory = currentHistory;\n            historyDirection = HISTORY_NEXT;\n            return;\n        }\n\n        previousHistory = undefined;\n        historyDirection = '';\n\n        /**\n         * Normal mode reset next\n         */\n        resetNext();\n    });\n\n    globalThis.addEventListener('hashchange', () => {\n        hashHandler();\n    });\n};\n\n/**\n * Set hash in current browser url.\n *\n * @param {object} params\n * @param {string} [params.url]\n * @param {Record<string, any>} [params.params]\n * @param {boolean} [params.skipTransition]\n * @returns Void\n */\nexport const loadUrl = ({ url, params, skipTransition }) => {\n    if (!url) return;\n\n    currentSkipTransition = skipTransition;\n\n    const parts = url.split('?');\n\n    /**\n     * Isolate hash, without # character.\n     */\n    const hash = sanitizeHash(parts?.[0] ?? '');\n\n    /**\n     * Convert object params in string. Params will be stored as strign for history navigation\n     */\n    const objectParams = convertObjectParamsToString(params);\n    const stringParams = sanitizeParams(parts?.[1] ?? '');\n\n    /**\n     * Extract current params, to use later ( in getHash function ).\n     */\n    const urlsParams = objectParams ?? stringParams;\n    if (urlsParams.length > 0) currentStringParams = urlsParams;\n\n    /**\n     * Update hash without params.\n     */\n    globalThis.location.hash = hash;\n\n    /**\n     * If we want reload same route from same hash, maybe params is different.\n     */\n    if (hash === previousHash || previousHash === '') {\n        globalThis.dispatchEvent(new HashChangeEvent('hashchange'));\n    }\n};\n", "import { MobCore } from '../../mob-core';\nimport { frameDelayAfterParse } from '../constant';\nimport { setComponentList } from '../component/component-list';\nimport { setIndex, setPageNotFound, setRouteList } from '../route/route-list';\nimport { initParseWatcher, parseComponents } from '../parse';\nimport { router } from '../route';\n// import { debugRoute } from '../route/test';\nimport { setContentElement, setContentId } from '../route/dom-ref/content';\nimport { setRoot } from '../route/dom-ref/root';\nimport {\n    setBeforePageTransition,\n    setPageTransition,\n} from '../route/page-transition';\nimport { setRestoreScroll } from '../route/scroll';\nimport { setRedirectFunction } from '../route/redirect';\nimport { setDefaultComponent } from '../component/create-component';\n\n/**\n * Inizializa default route.\n *\n * @type {(arg0: import('../type').InizializeApp) => Promise<void>}\n */\nexport const inizializeApp = async ({\n    rootId,\n    wrapper,\n    contentId,\n    routes = [],\n    afterInit = () => {},\n    redirect = ({ route }) => route,\n    index = 'home',\n    pageNotFound = 'pageNotFound',\n    beforePageTransition,\n    pageTransition,\n    restoreScroll = true,\n    componentDefaultProps = {\n        scoped: false,\n        maxParseIteration: 10_000,\n        debug: false,\n    },\n}) => {\n    setDefaultComponent(componentDefaultProps);\n\n    /**\n     * @type {HTMLElement | null}\n     */\n    const rootEl = /** @type {HTMLElement} */ document.querySelector(rootId);\n    const wrapperDOM = await wrapper();\n\n    /**\n     * Set redirect function\n     */\n    setRedirectFunction(redirect);\n\n    /**\n     * Validate initial data. Else skip.\n     */\n    if (!contentId || !rootEl) return;\n\n    setContentId({ contentId });\n    setRoot({ element: rootEl });\n    setPageTransition({ fn: pageTransition });\n    setBeforePageTransition({ fn: beforePageTransition });\n    setRestoreScroll(restoreScroll);\n\n    /**\n     * Init parse watcher.\n     */\n    initParseWatcher();\n\n    setComponentList();\n\n    setRouteList(routes);\n\n    /**\n     * Set idnex route\n     */\n    setIndex({ routeName: index });\n\n    /**\n     * Set idnex route\n     */\n    setPageNotFound({ routeName: pageNotFound });\n\n    /**\n     * Add wrapper to root node.\n     */\n    rootEl.insertAdjacentHTML('afterbegin', wrapperDOM);\n\n    setContentElement();\n\n    /**\n     * Render common layout component. Initialize js on common layout component. All component here is persistent, so\n     * persistent is set to true.\n     */\n    await parseComponents({ element: rootEl, persistent: true });\n\n    /**\n     * First callback after parse index.html first time. Wait 5 frames, so browser can clear gargbage collector created\n     * in parse step.\n     */\n    MobCore.useFrameIndex(() => {\n        MobCore.useNextTick(() => {\n            afterInit();\n        });\n    }, frameDelayAfterParse);\n\n    /**\n     * Set DOM content element\n     */\n\n    /**\n     * Start router.\n     */\n    router();\n};\n\n// debugRoute();\n", "// @ts-check\n\nimport { invalidateIdPlaceHolderMap } from '../invalidate-id-placeholder-map';\n\n/**\n * @returns {number}\n */\n\nexport const getNumberOfActiveInvalidate = () =>\n    invalidateIdPlaceHolderMap.size;\n", "// @ts-check\n\nimport { repeatIdPlaceHolderMap } from '../repeat-id-placeholder-map';\n\n/**\n * @returns {number}\n */\n\nexport const getNumberOfActiveRepeater = () => {\n    return repeatIdPlaceHolderMap.size;\n};\n", "import { mq as _mq } from './utils/media-manager.js';\nimport { handleSetUp } from './setup.js';\n\n/**\n * - Here it is possible to modify the default values of the various modules of the library\n *\n * @example\n *     ```javascript\n *     Default value schema:\n *\n *     MobMotionCore.setDefault.set({\n *         startFps: 60,\n *         deferredNextTick: false,\n *         throttle: 100,\n *         usePassive: true\n *         mq: {\n *             xSmall: 320,\n *             small: 360,\n *             medium: 600,\n *             tablet: 768,\n *             desktop: 992,\n *             large: 1200,\n *             xLarge: 1400,\n *         },\n *         defaultMq: {\n *             value: 'desktop',\n *             type: 'min',\n *         },\n *         sequencer: {\n *             duration: 10,\n *             ease: 'easeLinear',\n *         },\n *         scrollTrigger: {\n *             springConfig: 'default',\n *             lerpConfig: 0.06,\n *             markerColor: {\n *                 startEnd: '#ff0000',\n *                 item: '#14df3b',\n *             },\n *         },\n *         parallax: {\n *             defaultRange: 8,\n *             springConfig: 'default',\n *             lerpConfig: 0.06,\n *         },\n *         parallaxTween: {\n *             duration: 10,\n *             ease: 'easeLinear',\n *         },\n *         tween: {\n *             duration: 1000,\n *             ease: 'easeLinear',\n *             relative: false,\n *         },\n *         spring: {\n *             relative: false,\n *             config: {\n *                 default: {\n *                     tension: 20,\n *                     mass: 1,\n *                     friction: 5,\n *                     velocity: 0,\n *                     precision: 0.01,\n *                 },\n *                 gentle: {\n *                     tension: 120,\n *                     mass: 1,\n *                     friction: 14,\n *                     velocity: 0,\n *                     precision: 0.01,\n *                 },\n *                 wobbly: {\n *                     tension: 180,\n *                     mass: 1,\n *                     friction: 12,\n *                     velocity: 0,\n *                     precision: 0.01,\n *                 },\n *                 bounce: {\n *                     tension: 200,\n *                     mass: 3,\n *                     friction: 5,\n *                     velocity: 0,\n *                     precision: 0.01,\n *                 },\n *                 scroller: {\n *                     tension: 10,\n *                     mass: 1,\n *                     friction: 5,\n *                     velocity: 0,\n *                     precision: 0.5,\n *                 },\n *             },\n *         },\n *         lerp: {\n *             relative: false,\n *             precision: 0.01,\n *             velocity: 0.06,\n *         },\n *     });\n *\n *\n *     ```;\n *\n * @type {import('./animation/utils/set-up/type.js').SetSetUp} props\n */\nfunction setDefault(props) {\n    handleSetUp.set(props);\n}\n\n/**\n * Returns the value of a specific property\n *\n * @example\n *     ```javascript\n *     MobMotionCore.getDefault('parallax');\n *     ```;\n *\n * @type {import('./animation/utils/set-up/type.js').GetSetUp} prop\n */\nfunction getDefault(prop) {\n    return handleSetUp.get(prop);\n}\n\n/**\n * Perform a console.log() of the default values\n *\n * @example\n *     ```javascript\n *     MobMotionCore.printDefault();\n *     ```;\n */\nfunction printDefault() {\n    handleSetUp.print();\n}\n\n/**\n * Returns a boolean value if the action value is equal to 'min' or 'max', returns a numeric value if it is equal to\n * 'get'\n *\n * @example\n *     ```javascript\n *       Property schema:\n *       MobMotionCore.mq([String], [string])\n *\n *       const isDesktop = MobMotionCore.mq('min', 'desktop'); // true/false\n *       const isMobile = MobMotionCore.mq('max', 'desktop'); // true/false\n *       const desktopBreackPoint = core.mq('get', 'desktop'); // 992\n *\n *\n *\n *     ```;\n *\n * @param {import('./utils/type.js').MqActionMethods} action\n * @param {import('./utils/type.js').MqValues} breakpoint\n * @returns {boolean | number}\n */\nfunction mq(action, breakpoint) {\n    switch (action) {\n        case 'min': {\n            return _mq['min'](breakpoint);\n        }\n\n        case 'max': {\n            return _mq['max'](breakpoint);\n        }\n\n        case 'get': {\n            return _mq['getBreackpoint'](breakpoint);\n        }\n    }\n}\n\nexport { setDefault, printDefault, getDefault, mq };\nexport { clamp } from './animation/utils/animation-utils.js';\n", "/**\n * @type {import('./type').SpringPresentConfigType} springConfigStringTypes\n */\nexport const springPresetConfig = {\n    default: {\n        tension: 20,\n        mass: 1,\n        friction: 5,\n        velocity: 0,\n        precision: 0.01,\n    },\n    gentle: {\n        tension: 120,\n        mass: 1,\n        friction: 14,\n        velocity: 0,\n        precision: 0.01,\n    },\n    wobbly: {\n        tension: 180,\n        mass: 1,\n        friction: 12,\n        velocity: 0,\n        precision: 0.01,\n    },\n    bounce: {\n        tension: 200,\n        mass: 3,\n        friction: 5,\n        velocity: 0,\n        precision: 0.01,\n    },\n    scroller: {\n        tension: 10,\n        mass: 1,\n        friction: 5,\n        velocity: 0,\n        precision: 0.5,\n    },\n};\n", "import { MobCore } from '../../../../mob-core/index.js';\nimport { springPresetConfig } from '../../spring/spring-config.js';\n\nexport const easeReference = {\n    easeLinear: 'easeLinear',\n    easeInQuad: 'easeInQuad',\n    easeOutQuad: 'easeOutQuad',\n    easeInOutQuad: 'easeInOutQuad',\n    easeInCubic: 'easeInCubic',\n    easeOutCubic: 'easeOutCubic',\n    easeInOutCubic: 'easeInOutCubic',\n    easeInQuart: 'easeInQuart',\n    easeOutQuart: 'easeOutQuart',\n    easeInOutQuart: 'easeInOutQuart',\n    easeInQuint: 'easeInQuint',\n    easeOutQuint: 'easeOutQuint',\n    easeInOutQuint: 'easeInOutQuint',\n    easeInSine: 'easeInSine',\n    easeOutSine: 'easeOutSine',\n    easeInOutSine: 'easeInOutSine',\n    easeInExpo: 'easeInExpo',\n    easeOutExpo: 'easeOutExpo',\n    easeInOutExpo: 'easeInOutExpo',\n    easeInCirc: 'easeInCirc',\n    easeOutCirc: 'easeOutCirc',\n    easeInOutCirc: 'easeInOutCirc',\n    easeInElastic: 'easeInElastic',\n    easeOutElastic: 'easeOutElastic',\n    easeInOutElastic: 'easeInOutElastic',\n    easeInBack: 'easeInBack',\n    easeOutBack: 'easeOutBack',\n    easeInOutBack: 'easeInOutBack',\n    easeInBounce: 'easeInBounce',\n    easeOutBounce: 'easeOutBounce',\n    easeInOutBounce: 'easeInOutBounce',\n};\nexport const MQ_MIN = 'min';\nexport const MQ_MAX = 'max';\nexport const defaultMqValueDefault = 'desktop';\nexport const easeDefault = 'easeLinear';\nexport const springConfigDefault = 'default';\nexport const mqDefault = {\n    xSmall: 320,\n    small: 360,\n    medium: 600,\n    tablet: 768,\n    desktop: 992,\n    large: 1200,\n    xLarge: 1400,\n};\nexport const sequencerDurationDefault = 10;\nexport const lerpConfigDefault = 0.06;\nexport const markerStartDefault = '#ff0000';\nexport const markerItemDefault = '#14df3b';\nexport const scrollerRangeDefault = 8;\nexport const scrollerTweenDurationDefault = 10;\nexport const tweenDurationDefault = 1000;\nexport const tweenRealtiveDefault = false;\nexport const springRealtiveDefault = false;\nexport const lerpRelativeDefault = false;\nexport const lerpPrecisionDefault = 0.01;\nexport const lerpVelocityDefault = 0.06;\n\n/**\n * @param {import('./type.js').SetUpType} obj\n */\nexport const setupValidation = (obj) => {\n    const deferredNextTick = checkSetUpType({\n        prop: 'deferredNextTick',\n        value: obj?.deferredNextTick,\n        defaultValue: MobCore.store.getProp('deferredNextTick'),\n        type: Boolean,\n    });\n\n    const usePassive = checkSetUpType({\n        prop: 'usePassive',\n        value: obj?.usePassive,\n        defaultValue: MobCore.store.getProp('usePassive'),\n        type: Boolean,\n    });\n\n    const throttle = checkSetUpType({\n        prop: 'throttle',\n        value: obj?.throttle,\n        defaultValue: MobCore.store.getProp('throttle'),\n        type: Number,\n    });\n\n    const mq = checkSetUpMq(obj?.mq ?? {});\n\n    const defaultMqValue = checkSetUpType({\n        prop: 'defaultMq.value',\n        value: obj?.defaultMq?.value,\n        defaultValue: defaultMqValueDefault,\n        type: String,\n    });\n\n    const defaultMqType = checkSetUpType({\n        prop: 'defaultMq.type',\n        value: obj?.defaultMq?.type,\n        defaultValue: MQ_MIN,\n        type: String,\n    });\n\n    const sequencerDuration = checkSetUpType({\n        prop: 'sequencer.duration',\n        value: obj?.sequencer?.duration,\n        defaultValue: sequencerDurationDefault,\n        type: Number,\n    });\n\n    const sequencerEase = checkSetUpEase(obj?.sequencer?.ease, 'sequencer');\n\n    const scrollTriggerSpringConfig = checkSetUpType({\n        prop: 'scrolTrigger.springConfig',\n        value: obj?.scrollTrigger?.springConfig,\n        defaultValue: springConfigDefault,\n        type: String,\n    });\n\n    const scrollTriggerLerpConfig = checkSetUpType({\n        prop: 'scrolTrigger.lerpConfig',\n        value: obj?.scrollTrigger?.lerpConfig,\n        defaultValue: lerpConfigDefault,\n        type: Number,\n    });\n\n    const scrollTriggerMarkerEnd = checkSetUpType({\n        prop: 'scrolTrigger.markerColor.startEnd',\n        value: obj?.scrollTrigger?.markerColor?.startEnd,\n        defaultValue: markerStartDefault,\n        type: String,\n    });\n\n    const scrollTriggerMarkerItem = checkSetUpType({\n        prop: 'scrolTrigger.markerColor.item',\n        value: obj?.scrollTrigger?.markerColor?.item,\n        defaultValue: markerItemDefault,\n        type: String,\n    });\n\n    const scrollerRange = checkSetUpType({\n        prop: 'parallax.defaultRange',\n        value: obj?.parallax?.defaultRange,\n        defaultValue: scrollerRangeDefault,\n        type: Number,\n    });\n\n    const scrollerSpringConfig = checkSetUpType({\n        prop: 'parallax.springConfig',\n        value: obj?.parallax?.springConfig,\n        defaultValue: springConfigDefault,\n        type: String,\n    });\n\n    const scrollerLerpConfig = checkSetUpType({\n        prop: 'parallax.lerpConfig',\n        value: obj?.parallax?.lerpConfig,\n        defaultValue: lerpConfigDefault,\n        type: Number,\n    });\n\n    const scrollerTweenDuration = checkSetUpType({\n        prop: 'parallaxTween.duration',\n        value: obj?.parallaxTween?.duration,\n        defaultValue: scrollerTweenDurationDefault,\n        type: Number,\n    });\n\n    const scrollerTweenEase = checkSetUpEase(\n        obj?.parallaxTween?.ease,\n        'parallaxTween'\n    );\n\n    const tweenDuration = checkSetUpType({\n        prop: 'tween.duration',\n        value: obj?.tween?.duration,\n        defaultValue: tweenDurationDefault,\n        type: Number,\n    });\n\n    const tweenEase = checkSetUpEase(obj?.tween?.ease, 'tween');\n\n    const tweenRelative = checkSetUpType({\n        prop: 'tween.relative',\n        value: obj?.tween?.relative,\n        defaultValue: tweenRealtiveDefault,\n        type: Boolean,\n    });\n\n    const springRelative = checkSetUpType({\n        prop: 'spring.relative',\n        value: obj?.spring?.relative,\n        defaultValue: springRealtiveDefault,\n        type: Boolean,\n    });\n\n    const lerpRelative = checkSetUpType({\n        prop: 'lerp.relative',\n        value: obj?.lerp?.relative,\n        defaultValue: lerpRelativeDefault,\n        type: Boolean,\n    });\n\n    const lerpPrecision = checkSetUpType({\n        prop: 'lerp.precision',\n        value: obj?.lerp?.precision,\n        defaultValue: lerpPrecisionDefault,\n        type: Number,\n    });\n\n    const lerpVelocity = checkSetUpType({\n        prop: 'lerp.velocity',\n        value: obj?.lerp?.velocity,\n        defaultValue: lerpVelocityDefault,\n        type: Number,\n    });\n\n    /**\n     * @constant\n     * @type {import('./type.js').SetUpType}\n     */\n    const result = {\n        deferredNextTick,\n        throttle,\n        usePassive,\n        mq,\n        defaultMq: {\n            value: defaultMqValue,\n            type: defaultMqType,\n        },\n        sequencer: {\n            duration: sequencerDuration,\n            // @ts-ignore\n            ease: sequencerEase,\n        },\n        scrollTrigger: {\n            springConfig: scrollTriggerSpringConfig,\n            lerpConfig: scrollTriggerLerpConfig,\n            markerColor: {\n                startEnd: scrollTriggerMarkerEnd,\n                item: scrollTriggerMarkerItem,\n            },\n        },\n        parallax: {\n            defaultRange: scrollerRange,\n            springConfig: scrollerSpringConfig,\n            lerpConfig: scrollerLerpConfig,\n        },\n        parallaxTween: {\n            duration: scrollerTweenDuration,\n            // @ts-ignore\n            ease: scrollerTweenEase,\n        },\n        tween: {\n            duration: tweenDuration,\n            // @ts-ignore\n            ease: tweenEase,\n            relative: tweenRelative,\n        },\n        spring: {\n            relative: springRelative,\n            config: obj?.spring?.config\n                ? { ...springPresetConfig, ...obj.spring.config }\n                : springPresetConfig,\n        },\n        lerp: {\n            relative: lerpRelative,\n            precision: lerpPrecision,\n            velocity: lerpVelocity,\n        },\n    };\n\n    return result;\n};\n\n/**\n * Check if prop valid\n *\n * @param {Object} obj\n * @param {any} obj.prop\n * @param {any} obj.value\n * @param {any} obj.defaultValue\n * @param {any} obj.type\n * @returns Any\n */\nconst checkSetUpType = ({ prop, value, defaultValue, type }) => {\n    const isValid = MobCore.checkType(type, value);\n    if (!isValid)\n        console.warn(\n            `handleSetUp error: ${prop}: ${value}, is not valid must be a ${MobCore.getTypeName(\n                type\n            )}`\n        );\n\n    return isValid ? value : defaultValue;\n};\n\n/**\n * @param {Record<string, any>} obj\n * @returns Any\n */\nconst checkSetUpMq = (obj) => {\n    const isValid =\n        MobCore.checkType(Object, obj) &&\n        Object.values(obj).every((value) => {\n            return MobCore.checkType(Number, value);\n        });\n\n    if (!isValid)\n        console.warn(\n            `handleSetUp error: mq must be an object as { ..., String: Number }`\n        );\n\n    return isValid ? obj : mqDefault;\n};\n\n/**\n * @param {string | undefined} value\n * @param {string} label\n * @returns String\n */\nexport const checkSetUpEase = (value, label) => {\n    // @ts-ignore\n    const isValid = Object.keys(easeReference).includes(value);\n    if (!isValid && value !== undefined && value !== null)\n        console.warn(\n            `handleSetUp error: ${label}.ease properties is not valid`\n        );\n\n    return isValid ? value : easeDefault;\n};\n", "/* eslint-disable unicorn/prefer-spread */\n/* eslint-disable unicorn/consistent-function-scoping */\n\n/**\n * @param {any} target\n * @param {any} source\n * @param {boolean} isMergingArrays\n */\nexport const mergeDeep = (target, source, isMergingArrays = true) => {\n    target = ((obj) => {\n        let cloneObj;\n        try {\n            // eslint-disable-next-line unicorn/prefer-structured-clone\n            cloneObj = JSON.parse(JSON.stringify(obj));\n        } catch {\n            // If the stringify fails due to circular reference, the merge defaults\n            //   to a less-safe assignment that may still mutate elements in the target.\n            // You can change this part to throw an error for a truly safe deep merge.\n            cloneObj = Object.assign({}, obj);\n        }\n        return cloneObj;\n    })(target);\n\n    const isObject = (/** @type {any} */ obj) => obj && typeof obj === 'object';\n\n    if (!isObject(target) || !isObject(source)) return source;\n\n    Object.keys(source).forEach((key) => {\n        const targetValue = target[key];\n        const sourceValue = source[key];\n\n        if (Array.isArray(targetValue) && Array.isArray(sourceValue))\n            if (isMergingArrays) {\n                target[key] = targetValue.map((x, i) =>\n                    sourceValue.length <= i\n                        ? x\n                        : mergeDeep(x, sourceValue[i], isMergingArrays)\n                );\n                if (sourceValue.length > targetValue.length)\n                    target[key] = target[key].concat(\n                        sourceValue.slice(targetValue.length)\n                    );\n            } else {\n                target[key] = targetValue.concat(sourceValue);\n            }\n        else if (isObject(targetValue) && isObject(sourceValue))\n            target[key] = mergeDeep(\n                Object.assign({}, targetValue),\n                sourceValue,\n                isMergingArrays\n            );\n        else target[key] = sourceValue;\n    });\n\n    return target;\n};\n", "import { MobCore } from '../mob-core/index.js';\nimport { springPresetConfig } from './animation/spring/spring-config.js';\nimport {\n    defaultMqValueDefault,\n    easeDefault,\n    lerpConfigDefault,\n    markerItemDefault,\n    markerStartDefault,\n    mqDefault,\n    MQ_MIN,\n    scrollerRangeDefault,\n    scrollerTweenDurationDefault,\n    sequencerDurationDefault,\n    setupValidation,\n    springConfigDefault,\n    tweenDurationDefault,\n    tweenRealtiveDefault,\n} from './animation/utils/set-up/set-up-validation.js';\nimport { mergeDeep } from './utils/merge-deep.js';\n\n/**\n * @type {import('./animation/utils/set-up/type.js').SetUpGetData}\n */\nfunction getData() {\n    return {\n        deferredNextTick: MobCore.store.getProp('deferredNextTick'),\n        throttle: MobCore.store.getProp('throttle'),\n        usePassive: MobCore.store.getProp('usePassive'),\n        mq: mqDefault,\n        defaultMq: {\n            value: defaultMqValueDefault,\n            type: MQ_MIN,\n        },\n        sequencer: {\n            duration: sequencerDurationDefault,\n            ease: easeDefault,\n        },\n        scrollTrigger: {\n            springConfig: springConfigDefault,\n            lerpConfig: lerpConfigDefault,\n            markerColor: {\n                startEnd: markerStartDefault,\n                item: markerItemDefault,\n            },\n        },\n        parallax: {\n            defaultRange: scrollerRangeDefault,\n            springConfig: springConfigDefault,\n            lerpConfig: lerpConfigDefault,\n        },\n        parallaxTween: {\n            duration: scrollerTweenDurationDefault,\n            ease: easeDefault,\n        },\n        tween: {\n            duration: tweenDurationDefault,\n            ease: easeDefault,\n            relative: tweenRealtiveDefault,\n        },\n        spring: {\n            relative: false,\n            config: springPresetConfig,\n        },\n        lerp: {\n            relative: false,\n            precision: 0.01,\n            velocity: 0.06,\n        },\n    };\n}\n\nexport const handleSetUp = (() => {\n    let data = getData();\n\n    /**\n     * - Here it is possible to modify the default values of the various modules of the library\n     *\n     * @example\n     *     ```javascript\n     *     Default value schema:\n     *\n     *     handleSetUp.set({\n     *         deferredNextTick: false,\n     *         throttle: 100,\n     *         usePassive: true,\n     *         mq: {\n     *             xSmall: 320,\n     *             small: 360,\n     *             medium: 600,\n     *             tablet: 768,\n     *             desktop: 992,\n     *             large: 1200,\n     *             xLarge: 1400,\n     *         },\n     *         defaultMq: {\n     *             value: 'desktop',\n     *             type: 'min',\n     *         },\n     *         sequencer: {\n     *             duration: 10,\n     *             ease: 'easeLinear',\n     *         },\n     *         scrollTrigger: {\n     *             springConfig: 'default',\n     *             lerpConfig: 0.06,\n     *             markerColor: {\n     *                 startEnd: '#ff0000',\n     *                 item: '#14df3b',\n     *             },\n     *         },\n     *         parallax: {\n     *             defaultRange: 8,\n     *             springConfig: 'default',\n     *             lerpConfig: 0.06,\n     *         },\n     *         parallaxTween: {\n     *             duration: 10,\n     *             ease: 'easeLinear',\n     *         },\n     *         tween: {\n     *             duration: 1000,\n     *             ease: 'easeLinear',\n     *             relative: false,\n     *         },\n     *         spring: {\n     *             relative: false,\n     *             config: {\n     *                 default: {\n     *                     tension: 20,\n     *                     mass: 1,\n     *                     friction: 5,\n     *                     velocity: 0,\n     *                     precision: 0.01,\n     *                 },\n     *                 gentle: {\n     *                     tension: 120,\n     *                     mass: 1,\n     *                     friction: 14,\n     *                     velocity: 0,\n     *                     precision: 0.01,\n     *                 },\n     *                 wobbly: {\n     *                     tension: 180,\n     *                     mass: 1,\n     *                     friction: 12,\n     *                     velocity: 0,\n     *                     precision: 0.01,\n     *                 },\n     *                 bounce: {\n     *                     tension: 200,\n     *                     mass: 3,\n     *                     friction: 5,\n     *                     velocity: 0,\n     *                     precision: 0.01,\n     *                 },\n     *                 scroller: {\n     *                     tension: 10,\n     *                     mass: 1,\n     *                     friction: 5,\n     *                     velocity: 0,\n     *                     precision: 0.5,\n     *                 },\n     *             },\n     *         },\n     *         lerp: {\n     *             relative: false,\n     *             precision: 0.01,\n     *             velocity: 0.06,\n     *         },\n     *     });\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./animation/utils/set-up/type.js').SetSetUp}\n     */\n    const set = (obj) => {\n        data = setupValidation(mergeDeep(getData(), obj));\n\n        /**\n         * Update event default.\n         */\n        if ('usePassive' in obj)\n            MobCore.store.set('usePassive', data.usePassive);\n\n        if ('deferredNextTick' in obj)\n            MobCore.store.set('deferredNextTick', data.deferredNextTick);\n\n        if ('throttle' in obj) MobCore.store.set('throttle', data.throttle);\n    };\n\n    /**\n     * Returns the value of a specific property\n     *\n     * @example\n     *     ```javascript\n     *     handleSetUp.get('parallax');\n     *     ```;\n     *\n     * @type {import('./animation/utils/set-up/type.js').GetSetUp}\n     */\n    const get = (prop) => {\n        if (!(prop in data)) {\n            console.warn(`handleSetUp: ${prop} is not a setup propierties`);\n        }\n\n        return data[prop];\n    };\n\n    /**\n     * Perform a console.log() of the default values\n     *\n     * @example\n     *     ```javascript\n     *     handleSetUp.print();\n     *     ```;\n     */\n    const print = () => {\n        /**\n         * Writable props This prop can be changed by the user using set methods\n         */\n        console.log(`Writable props:`);\n        console.log(data);\n    };\n\n    return {\n        set,\n        get,\n        print,\n    };\n})();\n", "import { handleSetUp } from '../setup.js';\n\n/**\n * @param {import('./type.js').MqValues} breakpoint\n * @returns {boolean}\n */\nconst max = (breakpoint = 'desktop') => {\n    return window.innerWidth < handleSetUp.get('mq')[breakpoint];\n};\n\n/**\n * @param {import('./type.js').MqValues} breakpoint\n * @returns {boolean}\n */\nconst min = (breakpoint = 'desktop') => {\n    return window.innerWidth >= handleSetUp.get('mq')[breakpoint];\n};\n\n/**\n * @param {import('./type.js').MqValues} breakpoint\n * @returns {number}\n */\nconst getBreackpoint = (breakpoint = 'desktop') => {\n    return handleSetUp.get('mq')[breakpoint];\n};\n\n/**\n * @example\n *     ```js\n *       Property schema:\n *       mq.min([string])\n *       mq.max([string])\n *       mq.getBreackpoint([string])\n *\n *       const isDesktop = mq.min('desktop'); // true/false\n *       const isMobile = mq.min('desktop'); // true/false\n *       const desktopBreackPoint = mobbu.getBreackpoint('desktop'); // 992\n *\n *     ```;\n *\n * @type {Record<string, (arg0: any) => any>}\n */\nexport const mq = (() => {\n    return { max, min, getBreackpoint };\n})();\n", "import { MobCore } from '../../../mob-core';\n\n/**\n * Sanitize Number in case is in calculator enutation.\n *\n * @param {any} x\n * @returns {number}\n */\nexport const getRoundedValue = (x) => {\n    if (MobCore.checkType(Number, x)) {\n        return Math.round(x * 10_000) / 10_000 || 0;\n    }\n\n    if (Math.abs(x) < 1) {\n        const e = Number.parseInt(x.toString().split('e-')[1]);\n        if (e) {\n            x *= Math.pow(10, e - 1);\n            x =\n                '0.' +\n                Array.from({ length: e }).join('0') +\n                x.toString().slice(2);\n        }\n    } else {\n        let e = Number.parseInt(x.toString().split('+')[1]);\n        if (e > 20) {\n            e -= 20;\n            x /= Math.pow(10, e);\n            x += Array.from({ length: e + 1 }).join('0');\n        }\n    }\n\n    return Number.parseFloat(Number.parseFloat(x).toFixed(4));\n};\n\n/**\n * @param {number} num\n * @param {number} min\n * @param {number} max\n */\nexport const clamp = (num, min, max) => {\n    return Math.min(Math.max(num, min), max);\n};\n\n/**\n * @param {number} start\n * @param {number} end\n * @param {number} amt\n */\nexport const lerp = (start, end, amt) => {\n    return (1 - amt) * start + amt * end;\n};\n\n/**\n * Check if all keys of object is equal to another.\n *\n * @param {Object} a\n * @param {Object} b\n * @returns {boolean}\n */\nexport const compareKeys = (a, b) => {\n    const aKeys = Object.keys(a).sort();\n    const bKeys = Object.keys(b).sort();\n\n    return (\n        aKeys.length === bKeys.length &&\n        aKeys.every((element, index) => element === bKeys[index])\n    );\n};\n\n/**\n * Subdivide array into chunks\n *\n * @param {any[]} arr\n * @param {number} chunkSize\n */\nexport const sliceIntoChunks = (arr, chunkSize) => {\n    const res = [];\n    for (let i = 0; i < arr.length; i += chunkSize) {\n        const chunk = arr.slice(i, i + chunkSize);\n        res.push(chunk);\n    }\n    return res;\n};\n\n/**\n * Subdivide array into columns\n *\n * @param {any[]} arr\n * @param {number} n\n */\nexport const arrayColumn = (arr, n) => arr.map((x) => x[n]);\n", "import MobLerp from './animation/lerp/mob-lerp.js';\nimport MobScrollerTween from './animation/scroller/mob-scroller-tween.js';\nimport MobMasterSequencer from './animation/sequencer/mob-master-sequencer.js';\nimport MobSequencer from './animation/sequencer/mob-sequencer.js';\nimport MobSpring from './animation/spring/mob-spring.js';\nimport MobTimeTween from './animation/tween/mob-time-tween.js';\nimport { MobCreateStaggers } from './animation/sequencer/mob-create-stagger.js';\n\n/**\n * Simplified tween specific to be used with scrollTrigger as an alternative to the more complex sequencer,\n * ParallaxTween requires only one mutation step (from / to).\n *\n * Available methods:\n *\n * ```javascript\n * myScrollerTween.subscribe();\n * myScrollerTween.subscribeCache();\n * myScrollerTween.onStop();\n * ```\n *\n * @example\n *     ```javascript\n *     Property schema:\n *\n *\n *     const myScrollerTween = MobTween.createScrollerTween({\n *       from: Object.<string, number>,\n *       to: Object.<string, number>,\n *       ease: [ String ],\n *       stagger:{\n *          each: [ Number ],\n *          from: [ Number|String|{x:number,y:number} ],\n *          grid: {\n *              col: [ Number ],\n *              row: [ Number ],\n *              direction: [ String ]\n *          },\n *       },\n *     })\n *\n *\n *     ```;\n *\n * @param {import('./animation/scroller/type').MobScrollerTween} data\n * @returns {MobScrollerTween}\n */\nfunction createScrollerTween(data) {\n    return new MobScrollerTween(data);\n}\n\n/**\n * Available methods:\n *\n * ```javascript\n * mySequencer.goTo();\n * mySequencer.goFrom();\n * mySequencer.goFromTo();\n * mySequencer.add();\n * mySequencer.label();\n * mySequencer.subscribe();\n * mySequencer.subscribeCache();\n * mySequencer.onStop();\n * ```\n *\n * @example\n *     ```javascript\n *     Property schema:\n *\n *\n *     const mySequencer = MobTween.createSequencer({\n *       data: Object.<string, number>,\n *       duration: [ Number ],\n *       ease: [ String ],\n *       stagger:{\n *          each: [ Number ],\n *          from: [ Number|String|{x:number,y:number} ],\n *          grid: {\n *              col: [ Number ],\n *              row: [ Number ],\n *              direction: [ String ]\n *          },\n *       },\n *     })\n *\n *\n *     ```;\n *\n * @param {import('./animation/sequencer/type').SequencerProps} data\n * @returns {MobSequencer}\n */\nfunction createSequencer(data) {\n    return new MobSequencer(data);\n}\n\n/**\n * Support class for grouping multiple sequencers. Very useful when generating sequencers dynamically, such as through\n * the use of a createStagger. The following example uses a timeline but the same can be done using a scrollTrigger.\n *\n * @example\n *     ```javascript\n *     cont masterSequencer = MobTween.createMasterSequencer();\n *     const staggers = tween.createStaggers({})\n *     staggers.forEach(({ item, start, end, index }) => {\n *         const sequencer = tween\n *             .createSequencer({ ... })\n *             .goTo({ ... }, { start, end ...});\n *         sequencer.subscribe(({ ... }) => { ... });\n *         masterSequencer.add(sequencer);\n *     });\n *     const timeline = timeline.createSyncTimeline({}).add(masterSequencer)\n *     ```;\n */\nfunction createMasterSequencer() {\n    return new MobMasterSequencer();\n}\n\n/**\n *\n *\n * @example\n *     ```javascript\n *     Property schema:\n *\n *\n *     const staggers = MobTween.createStaggers({\n *         items: Array.<Element|Object>,\n *         stagger: {\n *             type: [ String ],\n *             from: [ Number|String|{x:number,y:number} ],\n *             grid: {\n *                 col: [ Number ],\n *                 row: [ Number ],\n *                 direction: [ String ]\n *             },\n *         },\n *         duration: [ Number ],\n *     });\n *\n *\n *     staggers.forEach(({ item, start, end, index }) => {\n *         const sequencer = tween\n *             .createSequencer({ ... })\n *             .goTo({ ... }, { start, end ...});\n *         sequencer.subscribe(({ ... }) => { ... });\n *         masterSequencer.add(sequencer);\n *     });\n *\n *     ```;\n *\n * @template T\n * @param {import('./animation/sequencer/type').CreateSequencerType<T> &\n *     import('./animation/utils/stagger/type').StaggerPropiertiesObject} data\n * @returns {{ start: Number; end: Number; index: Number; item: T }[]} Stagger array\n */\nfunction createStaggers(data) {\n    return MobCreateStaggers(data);\n}\n\n/**\n * Available methods:\n *\n * ```javascript\n * myTween.set();\n * myTween.goTo();\n * myTween.goFrom();\n * myTween.goFromTo();\n * myTween.subscribe();\n * myTween.subscribeCache();\n * myTween.onComplete();\n * myTween.updateEase();\n * myTween.getId();\n * myTween.get();\n * myTween.getTo();\n * myTween.getFrom();\n * myTween.getToNativeType();\n * myTween.getFromNativeType();\n * ```\n *\n * @example\n *     ```javascript\n *     Property schema:\n *\n *\n *     const myTween = MobTween.createTimeTween({\n *       data: Object.<string, number>,\n *       duration: [ Number ],\n *       ease: [ String ],\n *       relative: [ Boolean ]\n *       stagger:{\n *          each: [ Number ],\n *          from: [ Number|String|{x:number,y:number} ],\n *          grid: {\n *              col: [ Number ],\n *              row: [ Number ],\n *              direction: [ String ]\n *          },\n *          waitComplete: [ Boolean ],\n *       },\n *     })\n *\n *\n *     ```;\n *\n * @param {import('./animation/tween/type').TimeTweenProps} data\n * @returns {MobTimeTween}\n */\nfunction createTimeTween(data) {\n    return new MobTimeTween(data);\n}\n\n/**\n * Available methods:\n *\n * ```javascript\n * mySpring.set();\n * mySpring.goTo();\n * mySpring.goFrom();\n * mySpring.goFromTo();\n * mySpring.subscribe();\n * mySpring.subscribeCache();\n * mySpring.onComplete();\n * mySpring.updateConfigProp();\n * mySpring.updateConfig();\n * mySpring.getId();\n * mySpring.get();\n * mySpring.getTo();\n * mySpring.getFrom();\n * mySpring.getToNativeType();\n * mySpring.getFromNativeType();\n * ```\n *\n * @example\n *     ```javascript\n *     Property schema:\n *\n *\n *     const mySpring = MobTween.createSpring({\n *       data: Object.<string, number>,\n *       config: [ String ],\n *       configProps: {\n *          tension: [ Number ],\n *          mass: [ Number ],\n *          friction: [ Number ],\n *          velocity: [ Number ],\n *          precision: [ Number ],\n *       },\n *       relative: [ Boolean ]\n *       stagger:{\n *          each: [ Number ],\n *          from: [ Number|String|{x:number,y:number} ],\n *          grid: {\n *              col: [ Number ],\n *              row: [ Number ],\n *              direction: [ String ],\n *          },\n *          waitComplete: [ Boolean ],\n *       },\n *     })\n *\n *\n *     ```;\n *\n * @param {import('./animation/spring/type').SpringTweenProps} data\n * @returns {MobSpring}\n */\nfunction createSpring(data) {\n    return new MobSpring(data);\n}\n\n/**\n * Available methods:\n *\n * ```javascript\n * myLerp.set();\n * myLerp.goTo();\n * myLerp.goFrom();\n * myLerp.goFromTo();\n * myLerp.subscribe();\n * myLerp.subscribeCache();\n * myLerp.onComplete();\n * myLerp.updateVelocity();\n * myLerp.updatePrecision();\n * myLerp.getId();\n * myLerp.get();\n * myLerp.getTo();\n * myLerp.getFrom();\n * myLerp.getToNativeType();\n * myLerp.getFromNativeType();\n * ```\n *\n * @example\n *     ```javascript\n *     Property schema:\n *\n *\n *     const myLerp = MobTween.createLerp({\n *       data: Object.<string, number>,\n *       precision: [ Number ],\n *       velocity: [ Number ],\n *       relative: [ Boolean ]\n *       stagger:{\n *          each: [ Number ],\n *          from: [ Number|String|{x:number,y:number} ],\n *          grid: {\n *              col: [ Number ],\n *              row: [ Number ],\n *              direction: [ String ],\n *          },\n *          waitComplete: [ Boolean ],\n *       },\n *     })\n *\n *\n *     ```;\n *\n * @param {import('./animation/lerp/type').LerpTweenProps} data\n * @returns {MobLerp}\n */\nfunction createLerp(data) {\n    return new MobLerp(data);\n}\n\nexport {\n    createLerp,\n    createSpring,\n    createTimeTween,\n    createScrollerTween,\n    createStaggers,\n    createSequencer,\n    createMasterSequencer,\n};\n", "/**\n * Set fromValue with currentValue\n *\n * @type {import('./type').UpdateTweenValue}\n */\nexport const setFromByCurrent = (arr) => {\n    return arr.map((item) => {\n        if (!item.settled) {\n            item.fromValue = item.currentValue;\n        }\n\n        return item;\n    });\n};\n\n/**\n * Set fromValue and currentValue with toValue\n *\n * @type {import('./type').UpdateTweenValue}\n */\nexport const setFromCurrentByTo = (arr) => {\n    return arr.map((item) => {\n        item.fromValue = item.toValue;\n        item.currentValue = item.toValue;\n\n        return item;\n    });\n};\n\n/**\n * Set toValue and fromValue with currentValue\n *\n * @type {import('./type').UpdateTweenValue}\n */\nexport const setFromToByCurrent = (arr) => {\n    return arr.map((item) => {\n        item.toValue = item.currentValue;\n        item.fromValue = item.currentValue;\n\n        return item;\n    });\n};\n\n/**\n * Revert fromValue and toValue\n *\n * @type {import('./type').SetReverseValues}\n */\nexport const setReverseValues = (obj, arr) => {\n    const keysTorevert = Object.keys(obj);\n    return arr.map((item) => {\n        if (keysTorevert.includes(item['prop'])) {\n            const fromValue = item.fromValue;\n            const toValue = item.toValue;\n            item.fromValue = toValue;\n            item.toValue = fromValue;\n        }\n        return item;\n    });\n};\n\n/**\n * Set toValue in relative mode, sum value from currentValue Used by spring and lerp\n *\n * @type {import('./type').SetRelative}\n */\nexport const setRelative = (arr, relative) => {\n    return arr.map((item) => {\n        item.toValue = relative\n            ? item.toValue + item.currentValue\n            : item.toValue;\n        return item;\n    });\n};\n\n/**\n * @type {number}\n */\nconst tweenSmallNumber = 0.000_01;\n\n/**\n * Set toValue in relative mode, sum value from currentValue Used by classic tween\n *\n * @type {import('./type').SetRelativeTween}\n */\nexport const setRelativeTween = (arr, relative) => {\n    return arr.map((item) => {\n        if (item.shouldUpdate) {\n            /*\n                Prevent error on tween revert if is 0 some easeType can't run\n                es: easeInElastic\n                */\n            item.toValProcessed = relative\n                ? item.toValue + tweenSmallNumber\n                : item.toValue - item.fromValue + tweenSmallNumber;\n        }\n        return item;\n    });\n};\n", "export const DIRECTION_DEFAULT = null;\nexport const DIRECTION_ROW = 'row';\nexport const DIRECTION_COL = 'col';\nexport const DIRECTION_RADIAL = 'radial';\n\nexport const STAGGER_START = 'start';\nexport const STAGGER_END = 'end';\nexport const STAGGER_CENTER = 'center';\nexport const STAGGER_EDGES = 'edges';\nexport const STAGGER_RANDOM = 'random';\n\nexport const MERGE_FROM_UP = 'MERGE_FROM_UP';\nexport const MERGE_FROM_DOWN = 'MERGE_FROM_DOWN';\n\nexport const STAGGER_TYPE_EQUAL = 'equal';\nexport const STAGGER_TYPE_START = 'start';\nexport const STAGGER_TYPE_END = 'end';\nexport const STAGGER_TYPE_CENTER = 'center';\n\n/**\n * @type {import('./type').StaggerObject}\n */\nexport const STAGGER_DEFAULT_OBJ = {\n    type: STAGGER_TYPE_EQUAL,\n    each: 0,\n    waitComplete: false,\n    from: STAGGER_START,\n    grid: {\n        col: 1,\n        row: 1,\n        direction: DIRECTION_COL,\n    },\n};\n\n/**\n * @type {import('./type').StaggerFrameIndexObject}\n */\nexport const STAGGER_DEFAULT_INDEX_OBJ = {\n    index: 0,\n    frame: 0,\n};\n", "export const MobScrollerConstant = {\n    // Constant misure units\n    /**\n     * @type {string}\n     */\n    PX: 'px',\n\n    /**\n     * @type {string}\n     */\n    VH: 'vh',\n\n    /**\n     * @type {string}\n     */\n    VW: 'vw',\n\n    /**\n     * @type {string}\n     */\n    WPERCENT: 'w',\n\n    /**\n     * @type {string}\n     */\n    HPERCENT: 'h',\n\n    /**\n     * @type {string}\n     */\n    DEGREE: 'deg',\n\n    // AdditionalChoiceContant\n\n    /**\n     * @type {string}\n     */\n    PLUS_HEIGHT: '+height',\n\n    /**\n     * @type {string}\n     */\n    PLUS_HEIGHT_HALF: '+halfHeight',\n\n    /**\n     * @type {string}\n     */\n    PLUS_WIDTH: '+width',\n\n    /**\n     * @type {string}\n     */\n    PLUS_WIDTH_HALF: '+halfWidth',\n\n    /**\n     * @type {string}\n     */\n    MINUS_HEIGHT: '-height',\n\n    /**\n     * @type {string}\n     */\n    MINUS_HEIGHT_HALF: '-halfHeight',\n\n    /**\n     * @type {string}\n     */\n    MINUS_WIDTH: '-width',\n\n    /**\n     * @type {string}\n     */\n    MINUS_WIDTH_HALF: '-halfWidth',\n\n    // End Start position Constant\n    /**\n     * @type {string}\n     */\n    POSITION_BOTTOM: 'bottom',\n\n    /**\n     * @type {string}\n     */\n    POSITION_TOP: 'top',\n\n    /**\n     * @type {string}\n     */\n    POSITION_LEFT: 'left',\n\n    /**\n     * @type {string}\n     */\n    POSITION_RIGHT: 'right',\n\n    // Constant direction\n    /**\n     * @type {string}\n     */\n    DIRECTION_VERTICAL: 'vertical',\n\n    /**\n     * @type {string}\n     */\n    DIRECTION_HORIZONTAL: 'horizontal',\n\n    // Constant computation type\n    /**\n     * @type {string}\n     */\n    TYPE_PARALLAX: 'parallax',\n\n    /**\n     * @type {string}\n     */\n    TYPE_SCROLLTRIGGER: 'scrolltrigger',\n\n    // Constant propierties\n\n    /**\n     * @type {string}\n     */\n    PROP_VERTICAL: 'y',\n\n    /**\n     * @type {string}\n     */\n    PROP_HORIZONTAL: 'x',\n\n    /**\n     * @type {string}\n     */\n    PROP_ROTATE: 'rotate',\n\n    /**\n     * @type {string}\n     */\n    PROP_ROTATEY: 'rotateY',\n\n    /**\n     * @type {string}\n     */\n    PROP_ROTATEX: 'rotateX',\n\n    /**\n     * @type {string}\n     */\n    PROP_ROTATEZ: 'rotateZ',\n\n    /**\n     * @type {string}\n     */\n    PROP_OPACITY: 'opacity',\n\n    /**\n     * @type {string}\n     */\n    PROP_SCALE: 'scale',\n\n    /**\n     * @type {string}\n     */\n    PROP_SCALE_X: 'scaleX',\n\n    /**\n     * @type {string}\n     */\n    PROP_SCALE_Y: 'scaleY',\n\n    /**\n     * @type {string}\n     */\n    PROP_TWEEN: 'tween',\n\n    /**\n     * @type {string}\n     */\n    TWEEN_TWEEN: 'parallaxTween',\n\n    /**\n     * @type {string}\n     */\n    TWEEN_TIMELINE: 'sequencer',\n\n    // Align constant\n    /**\n     * @type {string}\n     */\n    ALIGN_START: 'start',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_TOP: 'top',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_RIGHT: 'right',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_CENTER: 'center',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_BOTTOM: 'bottom',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_LEFT: 'left',\n\n    /**\n     * @type {string}\n     */\n    ALIGN_END: 'end',\n\n    // Switch constant\n    /**\n     * @type {string}\n     */\n    IN_STOP: 'in-stop',\n\n    /**\n     * @type {string}\n     */\n    IN_BACK: 'in-back',\n\n    /**\n     * @type {string}\n     */\n    OUT_STOP: 'out-stop',\n\n    /**\n     * @type {string}\n     */\n    OUT_BACK: 'out-back',\n\n    // Ease type constant\n    /**\n     * @type {string}\n     */\n    EASE_SPRING: 'spring',\n\n    /**\n     * @type {string}\n     */\n    EASE_LERP: 'lerp',\n\n    /**\n     * @type {number}\n     */\n    EASE_PRECISION: 0.001,\n\n    /**\n     * @type {string}\n     */\n    SCROLL_UP: 'up',\n\n    /**\n     * @type {string}\n     */\n    SCROLL_DOWN: 'down',\n\n    /**\n     * @type {string}\n     */\n    ON_LEAVE: 'ON_LEAVE',\n\n    /**\n     * @type {string}\n     */\n    ON_LEAVE_BACK: 'ON_LEAVE_BACK',\n\n    /**\n     * @type {string}\n     */\n    ON_ENTER: 'ON_ENTER',\n\n    /**\n     * @type {string}\n     */\n    ON_ENTER_BACK: 'ON_ENTER_BACK',\n\n    /**\n     * @type {string}\n     */\n    ON_NOOP: 'ON_NOOP',\n};\n", "import { MobScrollerConstant } from '../scroller/mob-scroller-constant';\nimport {\n    STAGGER_START,\n    STAGGER_TYPE_CENTER,\n    STAGGER_TYPE_END,\n    STAGGER_TYPE_EQUAL,\n} from './stagger/stagger-costant';\n\n/**\n * @param {string[]} choice\n * @returns String\n */\nconst possibleChoice = (choice) => {\n    return choice\n        .map((item) => {\n            return `${item} | `;\n        })\n        .join('');\n};\n\n/**\n * @param {string} label\n * @param {Object} fromObj\n * @param {Object} toObj\n * @returns {void}\n */\nexport const compareKeysWarning = (label, fromObj, toObj) => {\n    console.warn(\n        `${label}: ${JSON.stringify(fromObj)} and to ${JSON.stringify(\n            toObj\n        )} is not equal`\n    );\n};\n\n/**\n * @param {number} max\n * @returns {void}\n */\nexport const staggerIsOutOfRangeWarning = (max) => {\n    console.warn(\n        `stagger col of grid is out of range, it must be less than ${max} ( staggers length )`\n    );\n};\n\n/**\n * @param {any} label\n * @returns {void}\n */\nexport const dataTweenValueIsNotValidWarning = (label) => {\n    console.warn(\n        `tween | sequencer: ${label} is not valid value, must be a number or a Function that return a number`\n    );\n};\n\n/**\n * @param {any} val\n * @returns {void}\n */\nexport const sequencerRangeStartWarning = (val) => {\n    console.warn(\n        `sequencer, start option: ${val} value is not valid, must be a Number`\n    );\n};\n\n/**\n * @param {any} val\n * @returns {void}\n */\nexport const sequencerRangeEndWarning = (val) => {\n    console.warn(\n        `sequencer, end option: ${val} value is not valid, must be a Number`\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const relativePropInsideTimelineWarning = () => {\n    console.warn('relative prop is not allowed inside a timeline');\n};\n\n/**\n * @param {Function} val\n * @returns {void}\n */\nexport const timelineSuspendWarning = (val) => {\n    console.warn(\n        `Timeline Supend: ${val()} is not a valid value, must be a boolean`\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const timelineReverseGoFromWarning = () => {\n    console.warn(\n        `SyncTimeline: in revese ( or yoyo mode) only goTo || goFromTo || set action is allowed. Using goFrom makes no sense in this context. Timeline will stopped.`\n    );\n};\n\n/**\n * @param {any} items\n * @returns {void}\n */\nexport const timelineSetTweenArrayWarining = (items) => {\n    console.warn(`timeline setTween: ${items} is not an array of tween`);\n};\n\n/**\n * @param {any} label\n * @returns {void}\n */\nexport const timelineSetTweenLabelWarining = (label) => {\n    console.warn(`timeline setTween: ${label} is not a string`);\n};\n\n/**\n * @param {any} label\n * @returns {void}\n */\nexport const timelineSetTweenLabelNotFoundWarining = (label) => {\n    console.warn(`asyncTimeline.setTween() label: ${label} not found`);\n};\n\n/**\n * @returns {void}\n */\nexport const timelineSetTweenFailWarining = () => {\n    console.warn('setTween fail');\n};\n\n/**\n * @param {any} label\n * @returns {void}\n */\nexport const syncTimelineLabelWarning = (label) => {\n    console.warn(`label ${label} not founded`);\n};\n\n/**\n * @param {any} fn\n * @returns {void}\n */\nexport const syncTimelineAddFnWarning = (fn) => {\n    console.warn(`sequencer.add(fn,time) ${fn}: fn must be Function`);\n};\n\n/**\n * @param {any} time\n * @returns {void}\n */\nexport const syncTimelineAddTimeWarning = (time) => {\n    console.warn(`sequencer.add(fn,time) ${time}: time must be a Number`);\n};\n\n/**\n * @param {any} preset\n * @returns {void}\n */\nexport const springPresetWarning = (preset) => {\n    console.warn(`${preset} doesn't exist in spring configuration list`);\n};\n\n/**\n * @returns {void}\n */\nexport const springConfigPropWarning = () => {\n    console.warn(`Spring configProps: all prop must be a positive Number`);\n};\n\n/**\n * @param {any} config\n * @returns {void}\n */\nexport const springConfigSpecificPropWarning = (config) => {\n    console.warn(\n        `Spring config: ${config}: config must have friction/mass/precision/tesnion props and must be a number`\n    );\n};\n\n/**\n * @param {any} preset\n * @returns {void}\n */\nexport const tweenEaseWarning = (preset) => {\n    console.warn(`${preset} doesn't exist in tweens ease function`);\n};\n\n/**\n * @returns {void}\n */\nexport const staggerEachWarning = () => {\n    console.warn(`stagger each must be a Number `);\n};\n\n/**\n * @param {any} val\n * @returns {void}\n */\nexport const staggerRowColGenericWarining = (val) => {\n    console.warn(\n        `stagger, row/col: ${val} value is not valid, must be a Number`\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const staggerWaitCompleteWarning = () => {\n    console.warn('Stagger error: waitComplete propierties must be a Boolean');\n};\n\n/**\n * @returns {void}\n */\nexport const staggerGridDirectionWarning = () => {\n    console.warn(\n        `Stagger error: in grid option direction should be a string radial/col/row`\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const staggerRadialDirectionWarning = () => {\n    console.warn(\n        `Stagger error: in radial direction 'from' propierties must be a object {x:Number,y:Number}`\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const staggerGridColRowWarning = () => {\n    console.warn(\n        `Stagger error: in grid configuration col/row is minor than 1, it should be greater or equal 1`\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const staggerColRowWarning = () => {\n    console.warn(\n        `Stagger error: in col/row direction 'from' propierties must be a string start/end/center/edges or a number`\n    );\n};\n\n/**\n * @param {any} from\n * @returns {void}\n */\nexport const staggerFromGenericWarning = (from) => {\n    console.warn(\n        `Stagger error: from: ${from} is not a valid value, must be a string start/end/center/edges or a number or a Object {x:Number,y:Number}`\n    );\n};\n\n/**\n * @param {any} value\n * @returns {void}\n */\nexport const durationWarining = (value) => {\n    console.warn(\n        `duration error: ${value} is not valid duration must be a number`\n    );\n};\n\n/**\n * @param {any} value\n * @returns {void}\n */\nexport const durationNumberOrFunctionWarining = (value) => {\n    console.warn(\n        `duration error: ${value} is not valid duration must be a number or a Function that return a number`\n    );\n};\n\n/**\n * @param {any} value\n * @returns {void}\n */\nexport const repeatWarining = (value) => {\n    console.warn(\n        `repeat error: ${value} is not valid repeat value must be a Number`\n    );\n};\n\n/**\n * @param {any} ease\n * @returns {void}\n */\nexport const easeWarning = (ease) => {\n    console.warn(`ease definition error: ${ease} is not a valid  definition`);\n};\n\n/**\n * @param {any} prop\n * @returns {void}\n */\nexport const initialDataPropWarining = (prop) => {\n    console.warn(\n        `data inizializiation error; ${prop} is not a valid value, must be a string`\n    );\n};\n\n/**\n * @param {any} value\n * @returns {void}\n */\nexport const initialDataValueWarining = (value) => {\n    console.warn(\n        `data inizializiation error; ${value} is not a valid value, must be a number`\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const createStaggerItemsWarning = () => {\n    console.warn(`createStaggers error: items array can not be empty`);\n};\n\n/**\n * @returns {void}\n */\nexport const createStaggerItemsTypeWarning = () => {\n    console.warn(\n        `createStaggers error: each element of the array must be an Element or an Object`\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const createStaggerTypeWarning = () => {\n    console.warn(\n        `screateStaggers error: type should be: ${STAGGER_TYPE_EQUAL} || ${STAGGER_START} || ${STAGGER_TYPE_END} || ${STAGGER_TYPE_CENTER}`\n    );\n};\n\n/**\n * @param {any} eachProportion\n * @returns {void}\n */\nexport const createStaggerEachWarning = (eachProportion) => {\n    console.warn(\n        `createStagger:  each must be between 1 and ${eachProportion}`\n    );\n};\n\n/**\n * @param {any} val\n * @param {any} tweenType\n * @returns {void}\n */\nexport const relativeWarining = (val, tweenType) => {\n    console.warn(\n        `${tweenType}: relative prop: ${val} is not a valid parameter, must be a boolean `\n    );\n};\n\n/**\n * @param {any} val\n * @param {any} label\n * @returns {void}\n */\nexport const booleanWarning = (val, label) => {\n    console.warn(`${label}: '${val}' is not Boolean`);\n};\n\n/**\n * @param {any} val\n * @param {any} label\n * @returns {void}\n */\nexport const stringWarning = (val, label) => {\n    console.warn(`${label}: '${val}' is not String`);\n};\n\n/**\n * @param {any} val\n * @param {any} label\n * @returns {void}\n */\nexport const naumberWarning = (val, label) => {\n    console.warn(`${label}: '${val}' is not Number`);\n};\n\n/**\n * @param {any} val\n * @param {any} label\n * @returns {void}\n */\nexport const functionWarning = (val, label) => {\n    console.warn(`${label}: '${val}' is not Function`);\n};\n\n/**\n * @returns {void}\n */\nexport const lerpVelocityWarining = () => {\n    console.warn(\n        'Lerp error: velocity is not valid, must be a Number greater than 0 and less than 1'\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const lerpPrecisionWarining = () => {\n    console.warn(\n        'Lerp error: precision is not valid, must be a number greater than 0'\n    );\n};\n\n/**\n * @param {any} methodName\n * @returns {void}\n */\nexport const asyncTimelineMetodsInsideGroupWarining = (methodName) => {\n    console.warn(\n        `asyncTimeline error: ${methodName} cannot be used inside group`\n    );\n};\n\n/**\n * @param {any} label\n * @returns {void}\n */\nexport const valueStringWarning = (label) => {\n    console.warn(`${label} value must be a string`);\n};\n\n/**\n * @returns {void}\n */\nexport const asyncTimelineTweenWaring = () => {\n    console.warn(\n        'tween added to asyncTimeline or used inside sync() method must be instance of HandleLerp | HandleTween | HandleSpring'\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const asyncTimelineDelayWarning = () => {\n    console.warn('asyncTimeline arror: delay must be a Number');\n};\n\n/**\n * @param {any} label\n * @returns {void}\n */\nexport const playLabelWarining = (label) => {\n    console.warn(`${label} not found`);\n};\n\n/**\n * @param {any} value\n * @returns {void}\n */\nexport const addAsyncFunctionWarining = (value) => {\n    console.warn(`timeline add async function, ${value} is not a function `);\n};\n\n/**\n * @param {any} value\n * @param {any} component\n * @returns {void}\n */\nexport const scrollerDirectionWarining = (value, component) => {\n    console.warn(\n        `${component} direction: ${value} is not valid value: must be ${MobScrollerConstant.DIRECTION_VERTICAL} | ${MobScrollerConstant.DIRECTION_HORIZONTAL}`\n    );\n};\n\n/**\n * @param {any} label\n * @returns {void}\n */\nexport const scrollerDynmicValueWarining = (label) => {\n    console.warn(\n        `scrollTrigger error; ${label} propierties: value must be a Object like { position: top|bottom|left|right, value: () => { return Number} } `\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const scrollerDynmicRangeValueWarining = () => {\n    console.warn(\n        `scrollTrigger error; dynamicRange propierties: value must be a Function that return a Number`\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const scrollerTweenWarning = () => {\n    console.warn(\n        'parallax|scrolTrigger error: tween is not valid, must be an instance of HandleSequencer || ParallaxTween'\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n * @returns {void}\n */\nexport const scrollerAlignWarining = (value, choice) => {\n    console.warn(\n        `parallax error align propierties: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )} or a Number between 0 and 100`\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n * @returns {void}\n */\nexport const scrollerOnSwitchWarining = (value, choice) => {\n    console.warn(\n        `parallax error align propierties: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @param {any} val\n * @param {any} label\n * @returns {void}\n */\nexport const scrollerOpacityWarning = (val, label) => {\n    console.warn(\n        `${label}: '${val}' is not Number, must be a number between 0 and 100`\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n * @returns {void}\n */\nexport const scrollerTypeWarining = (value, choice) => {\n    console.warn(\n        `parallax error type propierties: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n * @returns {void}\n */\nexport const scrollerPropiertiesWarining = (value, choice) => {\n    console.warn(\n        `parallax/scrollTrigger error propierties props: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )} or a custom css propierites like margin|line-height|...`\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n * @returns {void}\n */\nexport const scrollerEaseTypeWarining = (value, choice) => {\n    console.warn(\n        `parallax error easeType props: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n * @param {any} component\n * @returns {void}\n */\nexport const genericEaseTypeWarining = (value, choice, component) => {\n    console.warn(\n        `${component} error easeType props: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const scrollerEaseTypeSpringWarining = () => {\n    console.warn(\n        'Scrolltrigger warning: spring animation is only available for native properties and scrollerTween, Check that with the \"propierties\" property set to \"tween\" no HandleSequencer is associated with the \"tween\" property'\n    );\n};\n\n/**\n * @param {any} value\n * @param {any} choice\n * @returns {void}\n */\nexport const scrollerSpringCongifWarining = (value, choice) => {\n    console.warn(\n        `parallax/scrollTrigger error springConfig props: ${value} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @param {any} value\n * @returns {void}\n */\nexport const scrollerRangeNumberWarning = (value) => {\n    console.warn(\n        `parallax error range propierties, current value: ${value}, the value must be a number between 0 and 9.99`\n    );\n};\n\n/**\n * @param {any} value\n * @returns {void}\n */\nexport const scrollerRangeStringWarning = (value) => {\n    console.warn(\n        `scrollTrigger error range propierties: ${value} is not a String`\n    );\n};\n\n/**\n * @param {any} mq\n * @param {any} choice\n * @param {any} label\n * @param {any} component\n * @returns {void}\n */\nexport const breakpointWarning = (mq, choice, label, component) => {\n    console.warn(\n        `${component} error ${label} propierties: ${mq} is not valid must be one of ${possibleChoice(\n            choice\n        )}`\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const scrollerUseSequencerWarining = () => {\n    console.warn(\n        'Parallax warning: if propierties is a tween the only choice is ParallaxTween, HandleSequencer or empty tween propierites is not allowed inside a parallax'\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const scrollerLerpConfigWarning = () => {\n    console.warn(\n        'parallax/ScrollTrrigger error: velocity is not valid, must be a Number greater than 0 and less than 1'\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const scrollerNoTweenDefinedWarning = () => {\n    console.warn(\n        'parallax/ScrollTrrigger warning:  The property is \"tween\" but no tween has been associated, associate a tween with the \"tween\" property'\n    );\n};\n\n/**\n * @returns {void}\n */\nexport const scrollerUseTweenButNotProsDefinedWarning = () => {\n    console.warn(\n        'parallax/ScrollTrrigger: there is tween associated but pros \"propierties\" is not set to \"tween\"'\n    );\n};\n\n/**\n * @param {any} label\n * @param {any} value\n * @returns {void}\n */\nexport const functionIsValidAndReturnDefaultWarining = (label, value) => {\n    console.warn(`${label}: ${value} is not a function`);\n};\n\n/**\n * @param {any} string\n * @param {any} properties\n * @param {any} choice\n * @returns {void}\n */\nexport const scrollTriggerRangeWarning = (string, properties, choice) => {\n    console.warn(\n        `scrollTrigger error range : with '${properties}' propierties ${string} is not valid, add one of the following unit misure: ${possibleChoice(\n            choice\n        )}, es: 45deg|100px|50vw etc..`\n    );\n};\n\n/**\n * @param {any} properties\n * @returns {void}\n */\nexport const scrollTriggerCustomRangeWarning = (properties) => {\n    console.warn(\n        `scrollTrigger error range : with custom css propierties '${properties}' no unit misure is necessary, the default unit misure will be used (px). Only '-' for negative value is allowed`\n    );\n};\n\n/**\n * @param {any} string\n * @param {any} properties\n * @returns {void}\n */\nexport const scrollTriggerRangeScaleWarning = (string, properties) => {\n    console.warn(\n        `scrollTrigger error range : with '${properties}' propierties ${string} is not valid no unit misure is necessary. Only '-' for negative value is allowed`\n    );\n};\n", "// https://github.com/bameyrick/js-easing-s/blob/master/src/index.ts\nimport { handleSetUp } from '../../setup.js';\nimport { easeReference } from '../utils/set-up/set-up-validation.js';\nimport { tweenEaseWarning } from '../utils/warning.js';\n\n/** @type{Record<string, any>} */\nexport const tweenConfig = {\n    [easeReference.easeLinear]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (amountOfChange * elapsed) / duration + initialValue;\n    },\n    [easeReference.easeInQuad]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return amountOfChange * (elapsed /= duration) * elapsed + initialValue;\n    },\n    [easeReference.easeOutQuad]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            -amountOfChange * (elapsed /= duration) * (elapsed - 2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutQuad]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (amountOfChange / 2) * elapsed * elapsed + initialValue;\n        }\n        return (\n            (-amountOfChange / 2) * (--elapsed * (elapsed - 2) - 1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInCubic]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            amountOfChange * (elapsed /= duration) * elapsed * elapsed +\n            initialValue\n        );\n    },\n    [easeReference.easeOutCubic]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            amountOfChange *\n                ((elapsed = elapsed / duration - 1) * elapsed * elapsed + 1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutCubic]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (amountOfChange / 2) * elapsed * elapsed * elapsed +\n                initialValue\n            );\n        }\n        return (\n            (amountOfChange / 2) * ((elapsed -= 2) * elapsed * elapsed + 2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInQuart]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            amountOfChange *\n                (elapsed /= duration) *\n                elapsed *\n                elapsed *\n                elapsed +\n            initialValue\n        );\n    },\n    [easeReference.easeOutQuart]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            -amountOfChange *\n                ((elapsed = elapsed / duration - 1) *\n                    elapsed *\n                    elapsed *\n                    elapsed -\n                    1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutQuart]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (amountOfChange / 2) * elapsed * elapsed * elapsed * elapsed +\n                initialValue\n            );\n        }\n        return (\n            (-amountOfChange / 2) *\n                ((elapsed -= 2) * elapsed * elapsed * elapsed - 2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInQuint]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            amountOfChange *\n                (elapsed /= duration) *\n                elapsed *\n                elapsed *\n                elapsed *\n                elapsed +\n            initialValue\n        );\n    },\n    [easeReference.easeOutQuint]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            amountOfChange *\n                ((elapsed = elapsed / duration - 1) *\n                    elapsed *\n                    elapsed *\n                    elapsed *\n                    elapsed +\n                    1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutQuint]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (amountOfChange / 2) *\n                    elapsed *\n                    elapsed *\n                    elapsed *\n                    elapsed *\n                    elapsed +\n                initialValue\n            );\n        }\n        return (\n            (amountOfChange / 2) *\n                ((elapsed -= 2) * elapsed * elapsed * elapsed * elapsed + 2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInSine]: (\n        /** @type {number} */ elapsed,\n        /** @type {any} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            -amountOfChange * Math.cos((elapsed / duration) * (Math.PI / 2)) +\n            amountOfChange +\n            initialValue\n        );\n    },\n    [easeReference.easeOutSine]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            amountOfChange * Math.sin((elapsed / duration) * (Math.PI / 2)) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutSine]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            (-amountOfChange / 2) *\n                (Math.cos((Math.PI * elapsed) / duration) - 1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInExpo]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return elapsed === 0\n            ? initialValue\n            : amountOfChange * Math.pow(2, 10 * (elapsed / duration - 1)) +\n                  initialValue;\n    },\n    [easeReference.easeOutExpo]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return elapsed === duration\n            ? initialValue + amountOfChange\n            : amountOfChange * (-Math.pow(2, (-10 * elapsed) / duration) + 1) +\n                  initialValue;\n    },\n    [easeReference.easeInOutExpo]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        if (elapsed === 0) {\n            return initialValue;\n        }\n        if (elapsed === duration) {\n            return initialValue + amountOfChange;\n        }\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (amountOfChange / 2) * Math.pow(2, 10 * (elapsed - 1)) +\n                initialValue\n            );\n        }\n        return (\n            (amountOfChange / 2) * (-Math.pow(2, -10 * --elapsed) + 2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInCirc]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            -amountOfChange *\n                (Math.sqrt(1 - (elapsed /= duration) * elapsed) - 1) +\n            initialValue\n        );\n    },\n    [easeReference.easeOutCirc]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            amountOfChange *\n                Math.sqrt(1 - (elapsed = elapsed / duration - 1) * elapsed) +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutCirc]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (-amountOfChange / 2) * (Math.sqrt(1 - elapsed * elapsed) - 1) +\n                initialValue\n            );\n        }\n        return (\n            (amountOfChange / 2) *\n                (Math.sqrt(1 - (elapsed -= 2) * elapsed) + 1) +\n            initialValue\n        );\n    },\n    [easeReference.easeInElastic]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        let s = 1.701_58;\n        let p = 0;\n        let a = amountOfChange;\n        if (elapsed === 0) {\n            return initialValue;\n        }\n        if ((elapsed /= duration) === 1) {\n            return initialValue + amountOfChange;\n        }\n        if (!p) {\n            p = duration * 0.3;\n        }\n        if (a < Math.abs(amountOfChange)) {\n            a = amountOfChange;\n            s = p / 4;\n        } else {\n            s = (p / (2 * Math.PI)) * Math.asin(amountOfChange / a);\n        }\n        return (\n            -(\n                a *\n                Math.pow(2, 10 * (elapsed -= 1)) *\n                Math.sin(((elapsed * duration - s) * (2 * Math.PI)) / p)\n            ) + initialValue\n        );\n    },\n    [easeReference.easeOutElastic]: (\n        /** @type {number} */ elapsed,\n        /** @type {any} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        let s = 1.701_58;\n        let p = 0;\n        let a = amountOfChange;\n        if (elapsed === 0) {\n            return initialValue;\n        }\n        if ((elapsed /= duration) === 1) {\n            return initialValue + amountOfChange;\n        }\n        if (!p) {\n            p = duration * 0.3;\n        }\n        if (a < Math.abs(amountOfChange)) {\n            a = amountOfChange;\n            s = p / 4;\n        } else {\n            s = (p / (2 * Math.PI)) * Math.asin(amountOfChange / a);\n        }\n        return (\n            a *\n                Math.pow(2, -10 * elapsed) *\n                Math.sin(((elapsed * duration - s) * (2 * Math.PI)) / p) +\n            amountOfChange +\n            initialValue\n        );\n    },\n    [easeReference.easeInOutElastic]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        let s = 1.701_58;\n        let p = 0;\n        let a = amountOfChange;\n        if (elapsed === 0) {\n            return initialValue;\n        }\n        if ((elapsed /= duration / 2) === 2) {\n            return initialValue + amountOfChange;\n        }\n        if (!p) {\n            p = duration * (0.3 * 1.5);\n        }\n        if (a < Math.abs(amountOfChange)) {\n            a = amountOfChange;\n            s = p / 4;\n        } else {\n            s = (p / (2 * Math.PI)) * Math.asin(amountOfChange / a);\n        }\n        if (elapsed < 1) {\n            return (\n                -0.5 *\n                    (a *\n                        Math.pow(2, 10 * (elapsed -= 1)) *\n                        Math.sin(\n                            ((elapsed * duration - s) * (2 * Math.PI)) / p\n                        )) +\n                initialValue\n            );\n        }\n        return (\n            a *\n                Math.pow(2, -10 * (elapsed -= 1)) *\n                Math.sin(((elapsed * duration - s) * (2 * Math.PI)) / p) *\n                0.5 +\n            amountOfChange +\n            initialValue\n        );\n    },\n    [easeReference.easeInBack]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration,\n        s = 1.701_58\n    ) => {\n        return (\n            amountOfChange *\n                (elapsed /= duration) *\n                elapsed *\n                ((s + 1) * elapsed - s) +\n            initialValue\n        );\n    },\n    [easeReference.easeOutBack]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration,\n        s = 1.701_58\n    ) => {\n        return (\n            amountOfChange *\n                ((elapsed = elapsed / duration - 1) *\n                    elapsed *\n                    ((s + 1) * elapsed + s) +\n                    1) +\n            initialValue\n        );\n    },\n    easeInOutBack: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration,\n        s = 1.701_58\n    ) => {\n        if ((elapsed /= duration / 2) < 1) {\n            return (\n                (amountOfChange / 2) *\n                    (elapsed * elapsed * (((s *= 1.525) + 1) * elapsed - s)) +\n                initialValue\n            );\n        }\n        return (\n            (amountOfChange / 2) *\n                ((elapsed -= 2) * elapsed * (((s *= 1.525) + 1) * elapsed + s) +\n                    2) +\n            initialValue\n        );\n    },\n    [easeReference.easeInBounce]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        return (\n            amountOfChange -\n            tweenConfig[easeReference.easeOutBounce](\n                duration - elapsed,\n                0,\n                amountOfChange,\n                duration\n            ) +\n            initialValue\n        );\n    },\n    [easeReference.easeOutBounce]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        if ((elapsed /= duration) < 1 / 2.75) {\n            return amountOfChange * (7.5625 * elapsed * elapsed) + initialValue;\n        } else if (elapsed < 2 / 2.75) {\n            return (\n                amountOfChange *\n                    (7.5625 * (elapsed -= 1.5 / 2.75) * elapsed + 0.75) +\n                initialValue\n            );\n        } else if (elapsed < 2.5 / 2.75) {\n            return (\n                amountOfChange *\n                    (7.5625 * (elapsed -= 2.25 / 2.75) * elapsed + 0.9375) +\n                initialValue\n            );\n        } else {\n            return (\n                amountOfChange *\n                    (7.5625 * (elapsed -= 2.625 / 2.75) * elapsed + 0.984_375) +\n                initialValue\n            );\n        }\n    },\n    [easeReference.easeInOutBounce]: (\n        /** @type {number} */ elapsed,\n        /** @type {number} */ initialValue,\n        /** @type {number} */ amountOfChange,\n        /** @type {number} */ duration\n    ) => {\n        if (elapsed < duration / 2) {\n            return (\n                tweenConfig[easeReference.easeInBounce](\n                    elapsed * 2,\n                    0,\n                    amountOfChange,\n                    duration\n                ) *\n                    0.5 +\n                initialValue\n            );\n        }\n        return (\n            tweenConfig[easeReference.easeOutBounce](\n                elapsed * 2 - duration,\n                0,\n                amountOfChange,\n                duration\n            ) *\n                0.5 +\n            amountOfChange * 0.5 +\n            initialValue\n        );\n    },\n};\n\nexport const printEaseKey = () => {\n    console.log('Easing:');\n    console.log(Object.keys(tweenConfig));\n};\n\n/**\n * @type {(arg0: string) => () => void}\n */\nexport const getTweenFn = (prop) => {\n    if (prop in tweenConfig) {\n        return tweenConfig[prop];\n    } else {\n        tweenEaseWarning(prop);\n        return tweenConfig[handleSetUp.get('tween').ease];\n    }\n};\n", "/**\n * @param {string} text\n * @returns String\n */\nconst escapeRegExp = (text) => {\n    // @ts-ignore\n    return text\n        ? text.replaceAll(/[\\s#$()*+,.?[\\\\\\]^{|}-]/g, String.raw`\\$&`)\n        : '';\n};\n\n/**\n * @param {string} pattern\n * @returns Boolean\n */\nexport const checkIfIsOnlyNumberPositiveNegative = (pattern) => {\n    return /^[+-]?\\d+(\\.\\d+)?$/.test(pattern);\n};\n\n/**\n * @param {string} pattern\n * @returns Boolean\n */\nexport const checkIfIsOnlyNumber = (pattern) => {\n    return /^\\d+\\.\\d+$|^\\d+$/.test(pattern);\n};\n\n/**\n * Compare two string exact match case insensitive\n *\n * @param {string} string\n * @param {string} pattern\n * @returns Number\n */\nexport const exactMatchInsensitive = (string, pattern) => {\n    const regex = new RegExp(`^${escapeRegExp(pattern)}$`, 'i');\n    const result = string.match(regex) || [];\n    return result.length;\n};\n\n/**\n * Compare two string exact match case insensitive with number at string start\n *\n * @param {string} string\n * @param {string} pattern\n * @returns Number\n */\nexport const exactMatchInsesitiveNumberProp = (string, pattern) => {\n    const regex = new RegExp(`[0-9]${pattern}$`, 'i');\n    const result = string.match(regex) || [];\n    return result.length;\n};\n\n/**\n * @param {string[]} arr\n * @param {string} string\n * @returns Boolean\n */\nexport const exactMatchInsesitiveNumberPropArray = (arr, string) => {\n    return arr.some((unitMisure) => {\n        const regex = new RegExp(`[0-9]${unitMisure}$`, 'i');\n        const result = string.match(regex) || [];\n        return result.length;\n    });\n};\n\n/**\n * @param {string[]} arr\n * @param {string} string\n * @returns Boolean\n */\nexport const exactMatchInsesitivePropArray = (arr, string) => {\n    return arr.some((unitMisure) => {\n        const regex = new RegExp(`^${escapeRegExp(unitMisure)}$`, 'i');\n        const result = string.match(regex) || [];\n        return result.length;\n    });\n};\n", "// @ts-check\n\nimport { MobScrollerConstant } from './mob-scroller-constant';\nimport {\n    exactMatchInsensitive,\n    exactMatchInsesitiveNumberProp,\n} from '../utils/regex-validation.js';\n\n/**\n * Support function for parallaxPropiertiesIsValid Get exact prop name from constant ( resolve sensitive typing )\n *\n * @param {string | undefined} value\n * @returns String\n */\nexport const getPropiertiesValueFromConstant = (value) => {\n    /**\n     * If null prevent regex error\n     */\n    if (!value) return value;\n\n    if (exactMatchInsensitive(value, MobScrollerConstant.PROP_VERTICAL))\n        return MobScrollerConstant.PROP_VERTICAL;\n\n    if (exactMatchInsensitive(value, MobScrollerConstant.PROP_HORIZONTAL))\n        return MobScrollerConstant.PROP_HORIZONTAL;\n\n    if (exactMatchInsensitive(value, MobScrollerConstant.PROP_ROTATE))\n        return MobScrollerConstant.PROP_ROTATE;\n\n    if (exactMatchInsensitive(value, MobScrollerConstant.PROP_ROTATEY))\n        return MobScrollerConstant.PROP_ROTATEY;\n\n    if (exactMatchInsensitive(value, MobScrollerConstant.PROP_ROTATEX))\n        return MobScrollerConstant.PROP_ROTATEX;\n\n    if (exactMatchInsensitive(value, MobScrollerConstant.PROP_OPACITY))\n        return MobScrollerConstant.PROP_OPACITY;\n\n    if (exactMatchInsensitive(value, MobScrollerConstant.PROP_SCALE))\n        return MobScrollerConstant.PROP_SCALE;\n\n    if (exactMatchInsensitive(value, MobScrollerConstant.PROP_SCALE_X))\n        return MobScrollerConstant.PROP_SCALE_X;\n\n    if (exactMatchInsensitive(value, MobScrollerConstant.PROP_SCALE_Y))\n        return MobScrollerConstant.PROP_SCALE_Y;\n\n    if (exactMatchInsensitive(value, MobScrollerConstant.PROP_TWEEN))\n        return MobScrollerConstant.PROP_TWEEN;\n\n    return value;\n};\n\n/**\n * Return unit misure for parallax form lower/upper mix case typing\n *\n * @param {string | undefined} pattern\n * @returns {string}\n */\nexport const getStartEndUnitMisure = (pattern) => {\n    if (pattern) {\n        if (exactMatchInsesitiveNumberProp(pattern, MobScrollerConstant.PX))\n            return MobScrollerConstant.PX;\n\n        if (exactMatchInsesitiveNumberProp(pattern, MobScrollerConstant.VH))\n            return MobScrollerConstant.VH;\n\n        if (exactMatchInsesitiveNumberProp(pattern, MobScrollerConstant.VW))\n            return MobScrollerConstant.VW;\n    }\n\n    return '';\n};\n\n/**\n * Return position for parallax form lower/upper mix case typing\n *\n * @param {string} position\n * @returns String\n */\nexport const getScrollerPositionFromContanst = (position) => {\n    if (exactMatchInsensitive(position, MobScrollerConstant.POSITION_TOP))\n        return MobScrollerConstant.POSITION_TOP;\n\n    if (exactMatchInsensitive(position, MobScrollerConstant.POSITION_BOTTOM))\n        return MobScrollerConstant.POSITION_BOTTOM;\n\n    if (exactMatchInsensitive(position, MobScrollerConstant.POSITION_LEFT))\n        return MobScrollerConstant.POSITION_LEFT;\n\n    if (exactMatchInsensitive(position, MobScrollerConstant.POSITION_RIGHT))\n        return MobScrollerConstant.POSITION_RIGHT;\n\n    return '';\n};\n\n/**\n * Return range unit misure for parallax form lower/upper mix case typing\n *\n * @param {string} string\n * @returns String\n */\nexport const getRangeUnitMisure = (string) => {\n    if (exactMatchInsesitiveNumberProp(string, MobScrollerConstant.PX))\n        return MobScrollerConstant.PX;\n    if (exactMatchInsesitiveNumberProp(string, MobScrollerConstant.VH))\n        return MobScrollerConstant.VH;\n    if (exactMatchInsesitiveNumberProp(string, MobScrollerConstant.VW))\n        return MobScrollerConstant.VW;\n    if (exactMatchInsesitiveNumberProp(string, MobScrollerConstant.WPERCENT))\n        return MobScrollerConstant.WPERCENT;\n    if (exactMatchInsesitiveNumberProp(string, MobScrollerConstant.HPERCENT))\n        return MobScrollerConstant.HPERCENT;\n    if (exactMatchInsesitiveNumberProp(string, MobScrollerConstant.DEGREE))\n        return MobScrollerConstant.DEGREE;\n\n    return MobScrollerConstant.PX;\n};\n", "import { handleSetUp } from '../../../setup';\nimport { MQ_MAX, MQ_MIN } from '../set-up/set-up-validation.js';\nimport { MobScrollerConstant } from '../../scroller/mob-scroller-constant.js';\nimport { getTweenFn, tweenConfig } from '../../tween/tween-config';\nimport {\n    DIRECTION_COL,\n    DIRECTION_RADIAL,\n    DIRECTION_ROW,\n    STAGGER_CENTER,\n    STAGGER_EDGES,\n    STAGGER_END,\n    STAGGER_RANDOM,\n    STAGGER_START,\n    STAGGER_TYPE_CENTER,\n    STAGGER_TYPE_END,\n    STAGGER_TYPE_EQUAL,\n    STAGGER_TYPE_START,\n} from '../stagger/stagger-costant.js';\nimport {\n    addAsyncFunctionWarining,\n    asyncTimelineDelayWarning,\n    asyncTimelineTweenWaring,\n    booleanWarning,\n    breakpointWarning,\n    createStaggerItemsWarning,\n    createStaggerTypeWarning,\n    durationNumberOrFunctionWarining,\n    durationWarining,\n    functionIsValidAndReturnDefaultWarining,\n    functionWarning,\n    genericEaseTypeWarining,\n    initialDataPropWarining,\n    initialDataValueWarining,\n    lerpPrecisionWarining,\n    lerpVelocityWarining,\n    naumberWarning,\n    scrollerAlignWarining,\n    scrollerDirectionWarining,\n    scrollerDynmicRangeValueWarining,\n    scrollerDynmicValueWarining,\n    scrollerEaseTypeWarining,\n    scrollerLerpConfigWarning,\n    scrollerNoTweenDefinedWarning,\n    scrollerOnSwitchWarining,\n    scrollerOpacityWarning,\n    scrollerPropiertiesWarining,\n    scrollerRangeNumberWarning,\n    scrollerRangeStringWarning,\n    scrollerSpringCongifWarining,\n    scrollerTweenWarning,\n    scrollerTypeWarining,\n    scrollerUseSequencerWarining,\n    scrollerUseTweenButNotProsDefinedWarning,\n    playLabelWarining,\n    relativeWarining,\n    repeatWarining,\n    scrollTriggerCustomRangeWarning,\n    scrollTriggerRangeScaleWarning,\n    scrollTriggerRangeWarning,\n    sequencerRangeEndWarning,\n    sequencerRangeStartWarning,\n    springConfigPropWarning,\n    springConfigSpecificPropWarning,\n    springPresetWarning,\n    staggerEachWarning,\n    staggerFromGenericWarning,\n    staggerGridDirectionWarning,\n    staggerRowColGenericWarining,\n    staggerWaitCompleteWarning,\n    stringWarning,\n    timelineSetTweenArrayWarining,\n    timelineSetTweenLabelWarining,\n    tweenEaseWarning,\n    valueStringWarning,\n} from '../warning';\nimport {\n    checkIfIsOnlyNumber,\n    checkIfIsOnlyNumberPositiveNegative,\n    exactMatchInsesitiveNumberPropArray,\n} from '../regex-validation';\nimport { getPropiertiesValueFromConstant } from '../../scroller/get-constant-from-regex.js';\nimport { MobCore } from '../../../../mob-core';\n\n/**\n * Check if new prop value to update is valid\n *\n * @param {Number | Function} val\n * @returns {boolean}\n */\nexport const dataTweenValueIsValid = (val) => {\n    return (\n        MobCore.checkType(Number, val) ||\n        // @ts-ignore\n        (MobCore.checkType(Function, val) && MobCore.checkType(Number, val()))\n    );\n};\n\n/**\n * Check if sequencer start && end value is valid\n *\n * @param {Object} param\n * @param {number | undefined} param.start\n * @param {number | undefined} param.end\n * @returns {boolean}\n */\nexport const sequencerRangeValidate = ({ start, end }) => {\n    const startIsValid = MobCore.checkType(Number, start);\n    const endIsValid = MobCore.checkType(Number, end);\n    if (!startIsValid) sequencerRangeStartWarning(start);\n    if (!endIsValid) sequencerRangeEndWarning(end);\n    return startIsValid && endIsValid;\n};\n\n/**\n * Check if new duration value is Valid\n *\n * @param {number | undefined} duration\n * @returns {number}\n */\nexport const durationIsValid = (duration) => {\n    const isValid = MobCore.checkType(Number, duration);\n    if (!isValid && duration) durationWarining(duration);\n\n    return isValid\n        ? /** @type {number} */ (duration)\n        : handleSetUp.get('sequencer').duration;\n};\n\n/**\n * Check if repeat definition is valid\n *\n * @param {number | undefined} repeat\n * @returns {number}\n */\nexport const repeatIsValid = (repeat) => {\n    const isValid = MobCore.checkType(Number, repeat);\n    if (!isValid && repeat) repeatWarining(repeat);\n\n    return isValid && repeat ? repeat : 1;\n};\n\n/**\n * Check if ease definition is valid\n *\n * @param {import('../../tween/type').EaseTypes | undefined} ease\n * @returns {import('../../tween/type').EaseTypes}\n */\nexport const easeIsValid = (ease) => {\n    const isValid = ease && ease in tweenConfig;\n    if (!isValid && ease) tweenEaseWarning(ease);\n\n    return isValid ? ease : handleSetUp.get('sequencer').ease;\n};\n\n/**\n * Check if ease definition is valid\n *\n * @param {import('../../tween/type').EaseTypes | undefined} ease\n * @returns {Function}\n */\nexport const easeScrollerTweenIsValid = (ease) => {\n    const isValid = ease && ease in tweenConfig;\n    if (!isValid && ease) tweenEaseWarning(ease);\n\n    return isValid\n        ? getTweenFn(ease)\n        : getTweenFn(handleSetUp.get('parallaxTween').ease);\n};\n\n/**\n * Check if new tween prop is valid\n *\n * @param {string | undefined} prop\n * @param {number | undefined} value\n * @returns {boolean}\n */\nexport const initialDataPropValidate = (prop, value) => {\n    const propIsValid = MobCore.checkType(String, prop);\n    const valueIsValid = MobCore.checkType(Number, value);\n\n    if (!propIsValid) initialDataPropWarining(prop);\n    if (!valueIsValid) initialDataValueWarining(value);\n\n    return propIsValid && valueIsValid;\n};\n\n/**\n * @param {number | undefined} each\n * @returns {boolean | undefined}\n */\nexport const validateStaggerEach = (each) => {\n    if (!each) return;\n\n    const eachIsValid = MobCore.checkType(Number, each);\n    if (!eachIsValid) staggerEachWarning();\n\n    return eachIsValid;\n};\n\n/**\n * @param {'start' | 'end' | 'center' | 'edges' | 'random' | { x: number; y: number } | number} from\n * @returns {boolean | undefined}\n */\nexport const validateStaggerFrom = (from) => {\n    if (!from) return;\n\n    const fromList = [\n        STAGGER_START,\n        STAGGER_END,\n        STAGGER_CENTER,\n        STAGGER_EDGES,\n        STAGGER_RANDOM,\n    ];\n\n    // @ts-ignore\n    const fromIsAValidString = fromList.includes(from);\n    const fromIsANumber = MobCore.checkType(Number, from);\n    const fromIsAValidObject = MobCore.checkType(Object, from);\n    const fromIsValid =\n        fromIsAValidString || fromIsANumber || fromIsAValidObject;\n    if (!fromIsValid) staggerFromGenericWarning(from);\n\n    return fromIsValid;\n};\n\n/**\n * @param {number | undefined} val\n * @returns {boolean | undefined}\n */\nexport const validateStaggerColRow = (val) => {\n    if (!val) return;\n\n    const valIsValid = MobCore.checkType(Number, val);\n    if (!valIsValid) staggerRowColGenericWarining(val);\n\n    return valIsValid;\n};\n\n/**\n * @param {'row' | 'col' | 'radial'} direction\n * @returns {boolean | undefined}\n */\nexport const validateStaggerDirection = (direction) => {\n    if (!direction) return;\n\n    const directionList = [DIRECTION_RADIAL, DIRECTION_ROW, DIRECTION_COL];\n\n    const directionisValid = directionList.includes(direction);\n    if (!directionisValid) staggerGridDirectionWarning();\n\n    return directionisValid;\n};\n\n/**\n * @param {boolean | undefined} waitComplete\n * @returns {boolean | undefined}\n */\nexport const validateStaggerWaitComplete = (waitComplete) => {\n    if (!waitComplete) return;\n\n    const valIsValid = MobCore.checkType(Boolean, waitComplete);\n    if (!valIsValid) staggerWaitCompleteWarning();\n\n    return valIsValid;\n};\n\n/**\n * Return only the boolean value\n *\n * @param {[] | (object | HTMLElement)[]} arr\n * @returns {boolean}\n */\nexport const validateStaggerItems = (arr = []) => {\n    const isValid = MobCore.checkType(Array, [...arr]) && arr.length > 0;\n    if (!isValid) createStaggerItemsWarning();\n\n    return isValid;\n};\n\n/**\n * Return the array fallback\n *\n * @param {(object | HTMLElement)[]} arr\n * @returns {any[] | []}\n */\nexport const staggerItemsIsValid = (arr = []) => {\n    const isValid = MobCore.checkType(Array, [...arr]) && arr.length > 0;\n    return isValid ? arr : [];\n};\n\n/**\n * @param {string | undefined} type\n * @returns {boolean | undefined}\n */\nexport const validateStaggerType = (type) => {\n    if (!type) return;\n\n    const stagerTypeList = [\n        STAGGER_TYPE_EQUAL,\n        STAGGER_TYPE_START,\n        STAGGER_TYPE_END,\n        STAGGER_TYPE_CENTER,\n    ];\n\n    const isValid = stagerTypeList.includes(type);\n    if (!isValid) {\n        createStaggerTypeWarning();\n        return;\n    }\n\n    return isValid;\n};\n\n/**\n * Check if new tween duration value is Valid\n *\n * @param {number | undefined} duration\n * @returns {number}\n */\nexport const durationTweenIsValid = (duration) => {\n    const isValid = MobCore.checkType(Number, duration);\n    if (!isValid && duration) durationWarining(duration);\n\n    return isValid\n        ? /** @type {number} */ (duration)\n        : handleSetUp.get('tween').duration;\n};\n\n/**\n * Check if new relative value is Valid\n *\n * @param {boolean | undefined} val Relative prop\n * @param {'tween' | 'spring' | 'lerp'} tweenType Relative prop\n * @returns {boolean}\n */\nexport const relativeIsValid = (val, tweenType) => {\n    const isValid = MobCore.checkType(Boolean, val);\n    if (!isValid && val) relativeWarining(val, tweenType);\n\n    return isValid\n        ? /** @type {boolean} */ (val)\n        : handleSetUp.get(tweenType).relative;\n};\n\n/**\n * Check if ease definition is valid\n *\n * @param {string | undefined} ease\n * @returns {Function}\n */\nexport const easeTweenIsValidGetFunction = (ease) => {\n    const isValid = ease && ease in tweenConfig;\n    if (!isValid && ease) tweenEaseWarning(ease);\n\n    return isValid\n        ? getTweenFn(ease)\n        : getTweenFn(handleSetUp.get('tween').ease);\n};\n\n/**\n * Check if ease definition is valid\n *\n * @param {import('../../tween/type').EaseTypes | undefined} ease\n * @returns {import('../../tween/type').EaseTypes}\n */\nexport const easeTweenIsValid = (ease) => {\n    const isValid = ease && ease in tweenConfig;\n    if (!isValid && ease) tweenEaseWarning(ease);\n\n    return isValid ? ease : handleSetUp.get('tween').ease;\n};\n\n/**\n * Check if spring config is valid and return new config\n *\n * @param {string | undefined} config\n * @returns {import('../../spring/type').SpringProps}\n */\nexport const springConfigIsValidAndGetNew = (config) => {\n    const { config: allConfig } = handleSetUp.get('spring');\n\n    //Get config from store\n    const isInConfig = config && config in allConfig;\n\n    // Get obj config\n    const obj = isInConfig ? allConfig[config] : {};\n\n    // Check if there is all key\n    const isValidPropsKey = isInConfig\n        ? (() => {\n              return (\n                  MobCore.checkType(Object, obj) &&\n                  'tension' in obj &&\n                  'mass' in obj &&\n                  'friction' in obj &&\n                  'velocity' in obj &&\n                  'precision' in obj\n              );\n          })()\n        : false;\n\n    // Check if all key is a positive number\n    const isValidPropsValue = isValidPropsKey\n        ? Object.values(obj).every((prop) => {\n              return MobCore.checkType(Number, prop) && prop >= 0;\n          })\n        : null;\n\n    // warning gif config don't exist\n    if (!isInConfig && config) springPresetWarning(config);\n\n    // warning if config props is not valid\n    if (!isValidPropsValue && isInConfig)\n        springConfigSpecificPropWarning(config);\n\n    // @ts-ignore\n    return isValidPropsValue ? allConfig[config] : allConfig.default;\n};\n\n/**\n * Check if spring config is valid\n *\n * @param {string | undefined} config\n * @returns {string | boolean | undefined}\n */\nexport const springConfigIsValid = (config) => {\n    const { config: allConfig } = handleSetUp.get('spring');\n    const isValid = config && config in allConfig;\n    if (!isValid && config) springPresetWarning(config);\n\n    return isValid;\n};\n\n/**\n * Check if every spring config prop is valid\n *\n * @param {Partial<import('../../spring/type').SpringProps> | undefined} obj\n * @returns {Partial<import('../../spring/type').SpringProps> | {}}\n */\nexport const springConfigPropIsValid = (obj) => {\n    const isValid =\n        MobCore.checkType(Object, obj) &&\n        // @ts-ignore\n        Object.values(obj).every((prop) => {\n            return MobCore.checkType(Number, prop) && prop >= 0;\n        });\n\n    if (!isValid && obj) springConfigPropWarning();\n\n    // @ts-ignore\n    return isValid ? obj : {};\n};\n\n/**\n * Check if duration definition is valid\n *\n * @param {Number | Function | undefined} duration\n * @returns {number}\n */\nexport const durationIsNumberOrFunctionIsValid = (duration) => {\n    const durationIsFn = MobCore.checkType(Function, duration);\n    // @ts-ignore\n    const durationResult = durationIsFn ? duration() : duration;\n    const isValid = MobCore.checkType(Number, durationResult);\n    if (!isValid && duration) durationNumberOrFunctionWarining(duration);\n\n    return isValid ? durationResult : handleSetUp.get('tween').duration;\n};\n\n/**\n * Check if value is Boolan and true\n *\n * @param {boolean} value\n * @param {string} label\n */\nexport const valueIsBooleanAndTrue = (value, label) => {\n    const isValid = MobCore.checkType(Boolean, value);\n    if (!isValid && value) booleanWarning(value, label);\n\n    return isValid && value === true;\n};\n\n/**\n * Check if value is Boolan and reteurn Default\n *\n * @param {boolean | undefined} value\n * @param {string} label\n * @param {boolean} defaultValue\n * @returns {boolean}\n */\nexport const valueIsBooleanAndReturnDefault = (value, label, defaultValue) => {\n    const isValid = MobCore.checkType(Boolean, value);\n    if (!isValid && value) booleanWarning(value, label);\n\n    // @ts-ignore\n    return isValid ? value : defaultValue;\n};\n\n/**\n * Check if value is String and return default\n *\n * @param {string | undefined} value\n * @param {string} label\n * @param {any} defaultValue\n * @returns {string}\n */\nexport const valueIsStringAndReturnDefault = (value, label, defaultValue) => {\n    const isValid = MobCore.checkType(String, value);\n    if (!isValid && value) stringWarning(value, label);\n\n    // @ts-ignore\n    return isValid ? value : defaultValue;\n};\n\n/**\n * Check if value is Number and return default\n *\n * @param {number | undefined} value\n * @param {string} label\n * @param {any} defaultValue\n * @returns {number}\n */\nexport const valueIsNumberAndReturnDefault = (value, label, defaultValue) => {\n    const isValid = MobCore.checkType(Number, value);\n    if (!isValid && value) naumberWarning(value, label);\n\n    return isValid ? /** @type {number} */ (value) : defaultValue;\n};\n\n/**\n * Check if value is Function and return default\n *\n * @template T\n * @param {T | undefined} value\n * @param {string} label\n * @param {(() => void) | undefined} defaultValue\n * @returns {T}\n */\nexport const valueIsFunctionAndReturnDefault = (value, label, defaultValue) => {\n    const isValid = MobCore.checkType(Function, value);\n    if (!isValid && value) functionWarning(value, label);\n\n    // @ts-ignore\n    return isValid ? value : defaultValue;\n};\n\n/**\n * Check if velocity is valid\n *\n * @param {number | undefined} value\n * @returns {number}\n */\nexport const lerpVelocityIsValid = (value) => {\n    // @ts-ignore\n    const isValid = MobCore.checkType(Number, value) && value > 0 && value <= 1;\n    if (!isValid && value) lerpVelocityWarining();\n\n    return isValid\n        ? /** @type {number} */ (value)\n        : handleSetUp.get('lerp').velocity;\n};\n\n/**\n * Check if precision is valid\n *\n * @param {number | undefined} value\n * @returns {number}\n */\nexport const lerpPrecisionIsValid = (value) => {\n    const isValid = MobCore.checkType(Number, value);\n    if (!isValid && value) lerpPrecisionWarining();\n\n    return isValid\n        ? /** @type {number} */ (value)\n        : handleSetUp.get('lerp').precision;\n};\n\n/**\n * Check if value is a string.\n *\n * @param {string | undefined} value\n * @param {string} label\n * @returns {boolean}\n */\nexport const valueStringIsValid = (value, label) => {\n    const isValid = MobCore.checkType(String, value);\n    if (!isValid && value) valueStringWarning(label);\n\n    return isValid;\n};\n\n/**\n * Check if Delay is a Number and return Number || null.\n *\n * @param {number | undefined} value\n * @returns {number | undefined}\n */\nexport const asyncTimelineDelayIsValid = (value) => {\n    const isValid = MobCore.checkType(Number, value);\n    if (!isValid && value) asyncTimelineDelayWarning();\n\n    return isValid ? value : undefined;\n};\n\n/**\n * Check if tween is lerp|spring|tween\n *\n * @param {any} instance\n * @returns {boolean}\n */\nexport const asyncTimelineTweenIsValid = (instance) => {\n    const isValid =\n        instance?.getType?.() &&\n        (instance.getType() === 'LERP' ||\n            instance.getType() === 'SPRING' ||\n            instance.getType() === 'TWEEN');\n\n    if (!isValid && instance) asyncTimelineTweenWaring();\n\n    return isValid;\n};\n\n/**\n * Check if label is found\n *\n * @param {string | Number | null} index\n * @param {string | null} label\n */\nexport const playLabelIsValid = (index, label) => {\n    if (index === -1) playLabelWarining(label);\n};\n\n/**\n * Check if value is A function and return default\n *\n * @param {Function | undefined} fn\n * @param {any} defaultValue\n * @param {string} label\n */\nexport const functionIsValidAndReturnDefault = (fn, defaultValue, label) => {\n    const isValid = MobCore.checkType(Function, fn);\n    if (!isValid && fn) functionIsValidAndReturnDefaultWarining(label, fn);\n\n    return isValid ? fn : defaultValue;\n};\n\n/**\n * Check if value is A function\n *\n * @param {(arg0: import('../timeline/type').DirectionTypeAsync) => void} fn\n * @returns {(arg0: import('../timeline/type').DirectionTypeAsync) => void}\n */\nexport const addAsyncFunctionIsValid = (fn) => {\n    const isValid = MobCore.checkType(Function, fn);\n    if (!isValid && fn) addAsyncFunctionWarining(fn);\n\n    return isValid\n        ? fn\n        : ({ resolve }) => {\n              resolve();\n          };\n};\n\n/**\n * Check if value is an Array\n *\n * @param {any[] | undefined} arr\n */\nexport const timelineSetTweenArrayIsValid = (arr) => {\n    const isValid = MobCore.checkType(Array, arr);\n    if (!isValid && arr) timelineSetTweenArrayWarining(arr);\n\n    return isValid;\n};\n\n/**\n * Check if value is an string\n *\n * @param {string | undefined} label\n */\nexport const timelineSetTweenLabelIsValid = (label) => {\n    const isValid = MobCore.checkType(String, label);\n    if (!isValid && label) timelineSetTweenLabelWarining(label);\n\n    return isValid;\n};\n\n/**\n * Check if value is a valid Element and return element|window|element\n *\n * @param {string | HTMLElement | globalThis | undefined} element\n * @param {boolean} returnWindow\n * @returns {HTMLElement}\n */\nexport const domNodeIsValidAndReturnElOrWin = (\n    element,\n    returnWindow = false\n) => {\n    const isNode = MobCore.checkType(Element, element);\n    // @ts-ignore\n    const realEl = isNode ? element : document.querySelector(element);\n\n    // @ts-ignore\n    return returnWindow\n        ? /** @type {HTMLElement} */ (realEl ?? globalThis)\n        : /** @type {HTMLElement} */ (realEl ?? document.createElement('div'));\n};\n\n/**\n * Check if value is a valid Element\n *\n * @param {string | HTMLElement | undefined} element\n * @returns {HTMLElement | undefined}\n */\nexport const domNodeIsValidAndReturnNull = (element) => {\n    const isNode = MobCore.checkType(Element, element);\n    // @ts-ignore\n    const realEl = isNode ? element : document.querySelector(element);\n\n    // @ts-ignore\n    return realEl;\n};\n\n/**\n * Specific parallax\n */\n\n/**\n * Check if value is a valid direction\n *\n * @param {string | undefined} direction\n * @param {string} component\n * @returns {string}\n */\nexport const directionIsValid = (direction, component) => {\n    if (!direction) return MobScrollerConstant.DIRECTION_VERTICAL;\n\n    const choice = [\n        MobScrollerConstant.DIRECTION_VERTICAL,\n        MobScrollerConstant.DIRECTION_HORIZONTAL,\n    ];\n\n    const isValid = choice.includes(direction);\n    if (!isValid && direction) scrollerDirectionWarining(direction, component);\n\n    return isValid ? direction : MobScrollerConstant.DIRECTION_VERTICAL;\n};\n\n/**\n * Check if dynamicStart|dynamicEnd is a valid direction\n *\n * @param {any | undefined} obj\n * @param {string} label\n * @returns {any} DynamicStart|dynamicEnd|null Object\n */\nexport const scrollerDynamicValueIsValid = (obj, label) => {\n    const positionChoice = [\n        MobScrollerConstant.POSITION_TOP,\n        MobScrollerConstant.POSITION_LEFT,\n        MobScrollerConstant.POSITION_RIGHT,\n        MobScrollerConstant.POSITION_BOTTOM,\n    ];\n\n    // obj is an Object\n    const valueIsObject = MobCore.checkType(Object, obj);\n    //\n    // position is a String and contains the right value\n    const positionIsValid =\n        valueIsObject &&\n        MobCore.checkType(String, obj?.position) &&\n        positionChoice.includes(obj.position);\n\n    // Value is a function and return a number\n    const valueIsValid =\n        valueIsObject &&\n        MobCore.checkType(Function, obj.value) &&\n        MobCore.checkType(Number, obj.value());\n\n    // Validate all\n    const isValid = valueIsObject && positionIsValid && valueIsValid;\n    if (!isValid) scrollerDynmicValueWarining(label);\n\n    return isValid ? obj : null;\n};\n\n/**\n * Check if dynamicRange is a functiom that return a Number\n *\n * @param {Function | undefined} fn\n * @returns {Function | undefined}\n */\nexport const scrollerDynamicRangeIsValid = (fn) => {\n    const isValid =\n        MobCore.checkType(Function, fn) && MobCore.checkType(Number, fn?.());\n\n    if (!isValid && fn) scrollerDynmicRangeValueWarining();\n\n    return isValid ? fn : undefined;\n};\n\n/**\n * Check if tween is parallaxTween|HandleSequencer\n *\n * @param {any | undefined} instance\n * @returns {any} ParallaxTween|HandleSequencer|{}\n */\nexport const scrollerTweenIsValid = (instance) => {\n    const isValid =\n        instance?.getType?.() &&\n        (instance.getType() === MobScrollerConstant.TWEEN_TWEEN ||\n            instance.getType() === MobScrollerConstant.TWEEN_TIMELINE);\n\n    if (!isValid && instance) scrollerTweenWarning();\n\n    return isValid ? instance : {};\n};\n\n/**\n * Check if Align value is valid\n *\n * @param {string | Number | undefined} value\n * @returns {string | Number} ALign value\n */\nexport const scrollerAlignIsValid = (value) => {\n    if (!value) return MobScrollerConstant.ALIGN_CENTER;\n\n    const choice = [\n        MobScrollerConstant.ALIGN_START,\n        MobScrollerConstant.ALIGN_TOP,\n        MobScrollerConstant.ALIGN_RIGHT,\n        MobScrollerConstant.ALIGN_CENTER,\n        MobScrollerConstant.ALIGN_BOTTOM,\n        MobScrollerConstant.ALIGN_LEFT,\n        MobScrollerConstant.ALIGN_END,\n    ];\n\n    // @ts-ignore\n    const isValid = choice.includes(value) || MobCore.checkType(Number, value);\n\n    if (!isValid && value) scrollerAlignWarining(value, choice);\n\n    return isValid ? value : MobScrollerConstant.ALIGN_CENTER;\n};\n\n/**\n * Check if unSwitch value is valid\n *\n * @param {string | undefined} value\n * @returns {string | boolean} ALign value\n */\nexport const scrollerOnSwitchIsValid = (value) => {\n    if (!value) return false;\n\n    const choice = [\n        MobScrollerConstant.IN_BACK,\n        MobScrollerConstant.IN_STOP,\n        MobScrollerConstant.OUT_BACK,\n        MobScrollerConstant.OUT_STOP,\n    ];\n\n    const isValid = choice.includes(value);\n\n    if (!isValid && value) scrollerOnSwitchWarining(value, choice);\n\n    return isValid ? value : false;\n};\n\n/**\n * Check if value is Number and return default\n *\n * @param {number | undefined} value\n * @param {string} label\n * @param {number} defaultValue\n * @returns {number}\n */\nexport const scrollerOpacityIsValid = (value, label, defaultValue) => {\n    if (value === undefined || value === null) return defaultValue;\n\n    const isValid = MobCore.checkType(Number, value);\n    if (!isValid && value) scrollerOpacityWarning(value, label);\n\n    return isValid ? value : defaultValue;\n};\n\n/**\n * Check if type propierties is valid\n *\n * @param {string | undefined} value\n * @returns {string}\n */\nexport const scrollerTypeIsValid = (value) => {\n    if (!value) return MobScrollerConstant.TYPE_PARALLAX;\n\n    const valueLowerCase = value?.toLowerCase();\n    const choice = [\n        MobScrollerConstant.TYPE_PARALLAX,\n        MobScrollerConstant.TYPE_SCROLLTRIGGER,\n    ];\n\n    const isValid = choice.includes(valueLowerCase);\n    if (!isValid && valueLowerCase)\n        scrollerTypeWarining(valueLowerCase, choice);\n\n    return isValid ? valueLowerCase : MobScrollerConstant.TYPE_PARALLAX;\n};\n\n/**\n * Check if range propierties is valid\n *\n * @param {string | number | undefined} value\n * @param {string} type\n * @returns {string}\n */\nexport const scrollerRangeIsValid = (value, type) => {\n    const parsedValue = () => {\n        if (type === MobScrollerConstant.TYPE_PARALLAX) {\n            // @ts-ignore\n            const isOnlyNumber = checkIfIsOnlyNumber(value);\n            const isValid =\n                MobCore.checkType(Number, Number(value)) &&\n                isOnlyNumber &&\n                // @ts-ignore\n                value >= 0 &&\n                // @ts-ignore\n                value < 10;\n\n            if (!isValid && value) scrollerRangeNumberWarning(value);\n\n            return isValid\n                ? // @ts-ignore\n                  10 - value\n                : 10 - handleSetUp.get('parallax').defaultRange;\n        } else {\n            const isValid = MobCore.checkType(String, value);\n            if (!isValid && value) scrollerRangeStringWarning(value);\n\n            return isValid ? value : '0px';\n        }\n    };\n\n    // @ts-ignore\n    return parsedValue();\n};\n\n/**\n * Check if breakpoint prop is valid\n *\n * @param {import('../../../utils/type').MqValues | undefined} mq\n * @param {string} label\n * @param {string} component\n * @returns {import('../../../utils/type').MqValues}\n */\nexport const breakpointIsValid = (mq, label, component) => {\n    const defaultMq = handleSetUp.get('defaultMq').value;\n    if (!mq) return defaultMq;\n\n    const mqObj = handleSetUp.get('mq');\n    const choice = Object.keys(mqObj);\n\n    const isValid = MobCore.checkType(String, mq) && choice.includes(mq);\n    if (!isValid && mq) breakpointWarning(mq, choice, label, component);\n\n    return isValid ? mq : defaultMq;\n};\n\n/**\n * Check if queryType prop is valid\n *\n * @param {import('../../../utils/type').MqAction | undefined} type\n * @param {string} label\n * @param {string} component\n * @returns {import('../../../utils/type').MqAction}\n */\nexport const breakpointTypeIsValid = (type, label, component) => {\n    const defaultType = handleSetUp.get('defaultMq').type;\n    if (!type) return defaultType;\n\n    const choice = [MQ_MAX, MQ_MIN];\n\n    const isValid = MobCore.checkType(String, type) && choice.includes(type);\n    if (!isValid && type) breakpointWarning(type, choice, label, component);\n\n    return isValid ? type : defaultType;\n};\n\n/**\n * Check if propierties prop is valid\n *\n * @param {string | undefined} value\n * @param {string} type\n * @param {boolean | undefined} tweenIsParallaxTween\n * @param {boolean | undefined} tweenIsSequencer\n * @returns {{ propierties: string; shouldTrackOnlyEvents: boolean }}\n */\nexport const scrollerPropiertiesIsValid = (\n    value,\n    type,\n    tweenIsParallaxTween,\n    tweenIsSequencer\n) => {\n    if (!value && tweenIsSequencer)\n        return {\n            propierties: MobScrollerConstant.PROP_VERTICAL,\n            shouldTrackOnlyEvents: true,\n        };\n\n    if (!value && tweenIsParallaxTween)\n        return {\n            propierties: MobScrollerConstant.PROP_VERTICAL,\n            shouldTrackOnlyEvents: false,\n        };\n\n    /**\n     * Skip render if no propierties is given. Use scrollTrigger only for track events.\n     */\n    const shouldTrackOnlyEvents =\n        type === MobScrollerConstant.TYPE_SCROLLTRIGGER && !value;\n\n    /**\n     * Support suggestion for console.warn();\n     */\n    const choice = [\n        MobScrollerConstant.PROP_VERTICAL,\n        MobScrollerConstant.PROP_HORIZONTAL,\n        MobScrollerConstant.PROP_ROTATE,\n        MobScrollerConstant.PROP_ROTATEY,\n        MobScrollerConstant.PROP_ROTATEX,\n        MobScrollerConstant.PROP_ROTATEZ,\n        MobScrollerConstant.PROP_OPACITY,\n        MobScrollerConstant.PROP_SCALE,\n        MobScrollerConstant.PROP_SCALE_X,\n        MobScrollerConstant.PROP_SCALE_Y,\n        MobScrollerConstant.PROP_TWEEN,\n    ];\n\n    /**\n     * Check if is a string, custom css propierties is allowed\n     */\n    const isValid = MobCore.checkType(String, value);\n    if (!isValid && value) scrollerPropiertiesWarining(value, choice);\n\n    /**\n     * Inside Parallax sequencer is not allowed So return verticasl props\n     */\n    const notParallaxTweenInsideParallax =\n        type === MobScrollerConstant.TYPE_PARALLAX &&\n        value === MobScrollerConstant.PROP_TWEEN &&\n        !tweenIsParallaxTween;\n\n    /**\n     * Check if with tween propierties there is a tween associated\n     */\n    if (\n        !tweenIsParallaxTween &&\n        !tweenIsSequencer &&\n        value === MobScrollerConstant.PROP_TWEEN\n    )\n        scrollerNoTweenDefinedWarning();\n\n    /**\n     * Check if there a tween but propierties is not settled to tween\n     */\n    if (\n        (tweenIsParallaxTween || tweenIsSequencer) &&\n        value !== MobScrollerConstant.PROP_TWEEN\n    )\n        scrollerUseTweenButNotProsDefinedWarning();\n\n    if (notParallaxTweenInsideParallax) scrollerUseSequencerWarining();\n    const valueParsed = notParallaxTweenInsideParallax\n        ? MobScrollerConstant.PROP_VERTICAL\n        : value;\n\n    /**\n     * Get original value from constant\n     */\n    const valueFromConstant = getPropiertiesValueFromConstant(valueParsed);\n\n    return {\n        propierties: isValid\n            ? (valueFromConstant ?? MobScrollerConstant.PROP_VERTICAL)\n            : MobScrollerConstant.PROP_VERTICAL,\n        shouldTrackOnlyEvents,\n    };\n};\n\n/**\n * Check if easeType is valid\n *\n * @param {string | undefined} value\n * @returns {string}\n */\nexport const scrollerEaseTypeIsValid = (value) => {\n    if (!value) return MobScrollerConstant.EASE_LERP;\n\n    const choice = [\n        MobScrollerConstant.EASE_SPRING,\n        MobScrollerConstant.EASE_LERP,\n    ];\n    const isValid = choice.includes(value);\n    if (!isValid) scrollerEaseTypeWarining(value, choice);\n\n    /**\n     * Sequencer can not use spring\n     */\n    const fallback = isValid ? value : MobScrollerConstant.EASE_LERP;\n    return isValid ? value : fallback;\n};\n\n/**\n * @param {string} value\n * @param {string} component\n * @returns {string}\n */\nexport const genericEaseTypeIsValid = (value, component) => {\n    const choice = [\n        MobScrollerConstant.EASE_SPRING,\n        MobScrollerConstant.EASE_LERP,\n    ];\n\n    const isValid = choice.includes(value);\n    if (!isValid && value) genericEaseTypeWarining(value, choice, component);\n\n    return isValid ? value : MobScrollerConstant.EASE_LERP;\n};\n\n/**\n * Check if springConfig is valid\n *\n * @param {import('../../spring/type').SpringChoiceConfig | undefined} config\n * @param {string} type\n * @returns {import('../../spring/type').SpringChoiceConfig}\n */\nexport const scrollerSpringConfigIsValid = (config, type) => {\n    const defaultConfig =\n        type === MobScrollerConstant.TYPE_PARALLAX\n            ? handleSetUp.get('parallax').springConfig\n            : handleSetUp.get('scrollTrigger').springConfig;\n\n    if (!config) return defaultConfig;\n\n    const springDefaultConfig = handleSetUp.get('spring').config;\n    const choice = Object.keys(springDefaultConfig);\n\n    const isValid = choice.includes(config);\n    if (!isValid && config) scrollerSpringCongifWarining(config, choice);\n\n    return isValid ? config : defaultConfig;\n};\n\n/**\n * Check if lerpConfig is valid\n *\n * @param {number | undefined} value\n * @param {string} type\n * @returns {number}\n */\nexport const scrollerLerpConfigIsValid = (value, type) => {\n    const isValid =\n        // @ts-ignore\n        MobCore.checkType(Number, Number(value)) && value > 0 && value <= 1;\n\n    if (!isValid && value) scrollerLerpConfigWarning();\n\n    const defaultConfig =\n        type === MobScrollerConstant.TYPE_PARALLAX\n            ? handleSetUp.get('parallax').lerpConfig\n            : handleSetUp.get('scrollTrigger').lerpConfig;\n\n    return isValid ? /** @type {number} */ (value) : defaultConfig;\n};\n\n/**\n * Check if lerpConfig is valid\n *\n * @param {string} value\n * @param {string} properties\n * @returns {string}\n */\nexport const checkStringRangeOnPropierties = (value, properties) => {\n    const parallalxXYRangeChoice = [\n        MobScrollerConstant.PX,\n        MobScrollerConstant.VW,\n        MobScrollerConstant.VH,\n        MobScrollerConstant.WPERCENT,\n        MobScrollerConstant.HPERCENT,\n    ];\n    /**\n     * Check X,Y prop\n     */\n    if (\n        properties === MobScrollerConstant.PROP_VERTICAL ||\n        properties === MobScrollerConstant.PROP_HORIZONTAL\n    ) {\n        const isValid = exactMatchInsesitiveNumberPropArray(\n            parallalxXYRangeChoice,\n            value\n        );\n        if (!isValid)\n            scrollTriggerRangeWarning(\n                value,\n                properties,\n                parallalxXYRangeChoice\n            );\n        return isValid ? value : '0px';\n    }\n\n    /**\n     * Check ROTATE PROP\n     */\n    if (\n        properties === MobScrollerConstant.PROP_ROTATE ||\n        properties === MobScrollerConstant.PROP_ROTATEX ||\n        properties === MobScrollerConstant.PROP_ROTATEY ||\n        properties === MobScrollerConstant.PROP_ROTATEZ\n    ) {\n        const isValid = exactMatchInsesitiveNumberPropArray(\n            [MobScrollerConstant.DEGREE],\n            value\n        );\n        if (!isValid)\n            scrollTriggerRangeWarning(value, properties, [\n                MobScrollerConstant.DEGREE,\n            ]);\n\n        return isValid ? value : '0';\n    }\n\n    /**\n     * Check SCALE PROP\n     */\n    if (\n        properties === MobScrollerConstant.PROP_SCALE ||\n        properties === MobScrollerConstant.PROP_SCALE_X ||\n        properties === MobScrollerConstant.PROP_SCALE_Y\n    ) {\n        const isValid = checkIfIsOnlyNumberPositiveNegative(value);\n        if (!isValid) scrollTriggerRangeScaleWarning(value, properties);\n        return isValid ? value : '0';\n    }\n\n    /**\n     * Other props without unit misure Only Number\n     */\n    const isValid = checkIfIsOnlyNumberPositiveNegative(value);\n    if (!isValid) scrollTriggerCustomRangeWarning(properties);\n\n    return isValid ? value : '0';\n};\n", "import { MobCore } from '../../../../mob-core/index.js';\nimport {\n    validateStaggerColRow,\n    validateStaggerDirection,\n    validateStaggerEach,\n    validateStaggerFrom,\n    validateStaggerType,\n    validateStaggerWaitComplete,\n} from '../tween-action/tween-validation.js';\nimport {\n    DIRECTION_COL,\n    STAGGER_DEFAULT_OBJ,\n    STAGGER_TYPE_START,\n} from './stagger-costant.js';\n\n/**\n * @param {number} each\n */\nexport const getEachByFps = (each) => {\n    const { instantFps } = MobCore.store.get();\n    const eachByFps = Math.round(each * (instantFps / 60));\n\n    /*\n    If each is 1 but fps is too low use the original, otherwise the result is 0\n    */\n    return each === 1 && eachByFps === 0 ? each : eachByFps;\n};\n\n/**\n * @param {any} props\n * @returns {import('./type.js').StaggerObject}\n */\nexport const getStaggerFromProps = (props) => {\n    return {\n        type: validateStaggerType(props?.stagger?.type)\n            ? props.stagger.type\n            : STAGGER_DEFAULT_OBJ.type,\n\n        each: validateStaggerEach(props?.stagger?.each)\n            ? props.stagger.each\n            : STAGGER_DEFAULT_OBJ.each,\n        //\n        from: validateStaggerFrom(props?.stagger?.from)\n            ? props?.stagger?.from\n            : STAGGER_TYPE_START,\n        //\n        grid: {\n            col: validateStaggerColRow(props?.stagger?.grid?.col)\n                ? props.stagger.grid.col\n                : STAGGER_DEFAULT_OBJ.grid.col,\n            //\n            row: validateStaggerColRow(props?.stagger?.grid?.row)\n                ? props.stagger.grid.row\n                : STAGGER_DEFAULT_OBJ.grid.row,\n            //\n            direction: validateStaggerDirection(props?.stagger?.grid?.direction)\n                ? props.stagger.grid.direction\n                : DIRECTION_COL,\n        },\n        //\n        waitComplete: validateStaggerWaitComplete(props?.stagger?.waitComplete)\n            ? props.stagger.waitComplete\n            : STAGGER_DEFAULT_OBJ.waitComplete,\n    };\n};\n\n/**\n * @type {import('./type.js').GetStaggerArray}\n */\nexport const getStaggerArray = (callbackCache, callbackDefault) => {\n    return callbackCache.length > callbackDefault.length\n        ? callbackCache\n        : callbackDefault;\n};\n", "import { checkType } from '../../../../mob-core/store/store-type.js';\nimport { sliceIntoChunks, arrayColumn } from '../animation-utils.js';\nimport {\n    STAGGER_START,\n    STAGGER_END,\n    STAGGER_CENTER,\n    STAGGER_EDGES,\n    STAGGER_RANDOM,\n    DIRECTION_ROW,\n} from './stagger-costant.js';\nimport { getEachByFps } from './stagger-utils.js';\n\n/**\n * @param {number} num\n * @returns Boolean\n */\nconst isOdd = (num) => num % 2;\n\n/**\n * @param {number} max\n * @returns Number\n */\nconst getRandomInt = (max) => Math.floor(Math.random() * max);\n\n/**\n * Get random frame without duplicate\n *\n * @template {any[]} T\n * @param {T} arrayChunk\n * @param {number} each\n * @param {number} index\n * @returns Number\n */\nexport const getRandomChoice = (arrayChunk, each, index) => {\n    // Get previous result\n    const previousFrame = new Set(\n        arrayChunk.slice(0, index).map((item) => item.frame)\n    );\n\n    // Get possible result\n    const posibileFrame = arrayChunk.map((_item, i) => i * each);\n\n    // Get array of possible result without previous\n    const randomChoice = posibileFrame.filter((x) => !previousFrame.has(x));\n\n    return randomChoice;\n};\n\n/**\n * Get frame per index\n *\n * @param {number} index\n * @param {number} arraylenght\n * @param {import('./type.js').StaggerObject} stagger\n * @param {number[]} randomChoice\n * @returns {{ index: number; frame: number }}\n */\nconst getStaggerIndex = (index, arraylenght, stagger, randomChoice = []) => {\n    const { from, each } = stagger;\n    /*\n    Get stagger each by fps\n    */\n    const eachByFps = getEachByFps(each);\n\n    if (from === STAGGER_RANDOM) {\n        return {\n            index: index,\n            frame: (() => randomChoice[getRandomInt(randomChoice.length)])(),\n        };\n    }\n\n    if (from === STAGGER_START) {\n        return {\n            index: index,\n            frame: index * eachByFps,\n        };\n    }\n\n    if (from === STAGGER_END) {\n        return {\n            index: index,\n            frame: (arraylenght - 1 - index) * eachByFps,\n        };\n    }\n\n    if (from === STAGGER_CENTER) {\n        const half = Math.trunc(arraylenght / 2);\n\n        return (() => {\n            if (index > half) {\n                // From 0 half\n                return {\n                    index: index,\n                    frame: (index - half) * eachByFps,\n                };\n            }\n\n            if (index < half) {\n                // From half to end half\n                return isOdd(arraylenght) === 0 && half - index === 1\n                    ? {\n                          index: index,\n                          frame: 0,\n                      } // Center with even array\n                    : (() => {\n                          return isOdd(arraylenght) === 0\n                              ? {\n                                    index: index,\n                                    frame: (half - index - 1) * eachByFps,\n                                }\n                              : {\n                                    index: index,\n                                    frame: (half - index) * eachByFps,\n                                };\n                      })();\n            }\n\n            return {\n                index: index,\n                frame: 0,\n            }; // center item\n        })();\n    }\n\n    if (from === STAGGER_EDGES) {\n        const half = Math.trunc(arraylenght / 2);\n\n        return (() => {\n            if (index > half) {\n                // From 0 half\n                return {\n                    index: index,\n                    frame:\n                        (arraylenght - half - 1 - (index - half)) * eachByFps,\n                };\n            }\n\n            if (index < half) {\n                // From half to end half\n                return isOdd(arraylenght) === 0 && half - index === 1\n                    ? {\n                          index: index,\n                          frame: (half - 1) * eachByFps,\n                      }\n                    : (() => {\n                          return isOdd(arraylenght) === 0\n                              ? {\n                                    index: index,\n                                    frame:\n                                        (arraylenght - half - (half - index)) *\n                                        eachByFps,\n                                }\n                              : {\n                                    index: index,\n                                    frame:\n                                        (arraylenght -\n                                            half -\n                                            1 -\n                                            (half - index)) *\n                                        eachByFps, // dfault,\n                                };\n                      })();\n            }\n\n            return isOdd(arraylenght)\n                ? {\n                      index: index,\n                      frame: half * eachByFps, // dfault,\n                  }\n                : {\n                      index: index,\n                      frame: (half - 1) * eachByFps, // dfault,\n                  }; // center item\n        })();\n    }\n\n    if (from && checkType(Number, from)) {\n        // Secure check from must be a value in array length\n\n        // @ts-ignore\n        const half = from >= arraylenght ? arraylenght - 1 : from;\n\n        return (() => {\n            // @ts-ignore\n            if (index > half) {\n                // From 0 half\n                return {\n                    index: index,\n                    // @ts-ignore\n                    frame: (index - half) * each,\n                };\n            }\n\n            // @ts-ignore\n            if (index < half) {\n                // From half to end half\n                return {\n                    index: index,\n                    // @ts-ignore\n                    frame: (half - index) * each,\n                };\n            }\n\n            return {\n                index: index,\n                frame: 0,\n            };\n        })();\n    }\n\n    return {\n        index: 0,\n        frame: 0,\n    };\n};\n\n/**\n * Default grid direction is COL In case of ROW grid convert col to row, something like rotate the matrix\n *\n * @template {any[]} T\n * @param {T} arrayDefault\n * @param {import('./type.js').StaggerObject} stagger\n * @param {number} chunckSizeCol\n * @returns {T} Arr\n */\nconst getItemsByRow = (arrayDefault, stagger, chunckSizeCol) => {\n    // Reorder main array if direction === row\n    if (stagger.grid.direction === DIRECTION_ROW) {\n        const chunkByCol = sliceIntoChunks(arrayDefault, chunckSizeCol);\n\n        const colToRowArray = [\n            ...Array.from({ length: stagger.grid.col }).keys(),\n            // @ts-ignore\n        ].reduce((p, _c, i) => {\n            return [...p, ...arrayColumn(chunkByCol, i)];\n        }, []);\n\n        // @ts-ignore\n        return [...colToRowArray].flat();\n    } else {\n        return arrayDefault;\n    }\n};\n\n/**\n * @type {import('./type.js').SetStagger}\n */\nexport const getDefaultStagger = ({\n    arrayDefault,\n    arrayOnStop,\n    stagger,\n    slowlestStagger,\n    fastestStagger,\n}) => {\n    /**\n     * If col/row is 1 use length of array, is used for default stagger without grid. With a value greater than 1\n     * row/col logic is active\n     */\n    const chunckSizeCol =\n        stagger?.grid?.col <= 1 ? arrayDefault.length : stagger.grid.col;\n    const chunckSizeRow =\n        stagger?.grid?.row <= 1 ? arrayDefault.length : stagger.grid.row;\n\n    // main callBack\n    const itemByRow = getItemsByRow(arrayDefault, stagger, chunckSizeCol);\n    const staggerArray = itemByRow.map((item) => {\n        return item && item !== undefined ? item : { index: 0, frame: 0 };\n    });\n\n    // onComplete callBack\n    const itemCompleteByRow = getItemsByRow(\n        arrayOnStop,\n        stagger,\n        chunckSizeCol\n    );\n    const staggerArrayOnComplete = itemCompleteByRow.map((item) => {\n        return item && item !== undefined ? item : { index: 0, frame: 0 };\n    });\n\n    const chunksize =\n        stagger.grid.direction === DIRECTION_ROW\n            ? chunckSizeRow\n            : chunckSizeCol;\n\n    // get chunkes array\n    const chunked = sliceIntoChunks(staggerArray, chunksize);\n    const firstChunk = chunked[0];\n\n    // Get First row stagger\n    firstChunk.forEach((item, i) => {\n        const { index, frame } = getStaggerIndex(\n            i,\n            chunked[0].length,\n            stagger,\n            getRandomChoice(firstChunk, stagger.each, i)\n        );\n\n        item.index = index;\n        item.frame = frame;\n\n        if (frame >= slowlestStagger.frame)\n            slowlestStagger = {\n                index,\n                frame,\n            };\n\n        if (frame <= fastestStagger.frame)\n            fastestStagger = {\n                index,\n                frame,\n            };\n    });\n\n    // Set other chunk, copy from first [0]\n    chunked.forEach((chunkItem) => {\n        chunkItem.forEach((item, i) => {\n            if (item) {\n                item.index = chunked[0][i].index;\n                item.frame = chunked[0][i].frame;\n            }\n        });\n    });\n\n    // Flat the chunked array\n    const flatArray = chunked.flat();\n\n    // set data to original (this.callback) array\n    flatArray.forEach((item, i) => {\n        staggerArray[i].index = item.index;\n        staggerArray[i].frame = item.frame;\n\n        // If there an OnCompelte callback\n        if (staggerArrayOnComplete.length > 0) {\n            staggerArrayOnComplete[i].index = item.index;\n            staggerArrayOnComplete[i].frame = item.frame;\n        }\n    });\n\n    return {\n        staggerArray,\n        staggerArrayOnComplete,\n        fastestStagger,\n        slowlestStagger,\n    };\n};\n", "import { sliceIntoChunks } from '../animation-utils.js';\nimport { MERGE_FROM_UP, MERGE_FROM_DOWN } from './stagger-costant.js';\n\n/**\n * Get radial in y direction\n *\n * @param {any[][]} arr\n * @param {number} x\n * @param {number} y\n * @returns Array<Array>\n */\nconst getRadialY = (arr, x, y) => {\n    return arr.reduce((total, row, i) => {\n        const offset = Math.abs(i - y);\n\n        const newRow = row.reduce((p, c, i) => {\n            return i < x - offset || i > x + offset ? p : [...p, c];\n        }, []);\n\n        return [...total, newRow];\n    }, []);\n};\n\n/**\n * Get radial in x direction\n *\n * @template {any[]} T\n * @param {T} arr\n * @param {number} x\n * @param {number} y\n * @param {T} chunk\n * @returns {T}\n */\nconst getRadialX = (arr, x, y, chunk) => {\n    return arr.reduce((total, _row, i) => {\n        const offset = Math.abs(i - y);\n\n        /** @type {any[][]} */\n        const newRow = [];\n\n        // Avoid duplicate form before and after y\n        if (i >= y && i <= y * 2) {\n            return [...total, newRow];\n        }\n\n        // Estremi di ogni chunk\n        const xStart = x - offset;\n        const xEnd = x + offset;\n\n        for (let i = 0; i < offset; i++) {\n            if (isAvailableIntoChunk(chunk, y + i, xStart)) {\n                newRow.push(chunk[y + i][xStart]);\n            }\n\n            if (isAvailableIntoChunk(chunk, y + i, xEnd)) {\n                newRow.push(chunk[y + i][xEnd]);\n            }\n\n            // Avoid duplicate\n            if (i > 0) {\n                if (isAvailableIntoChunk(chunk, y - i, xStart)) {\n                    newRow.push(chunk[y - i][xStart]);\n                }\n\n                if (isAvailableIntoChunk(chunk, y - i, xEnd)) {\n                    newRow.push(chunk[y - i][xEnd]);\n                }\n            }\n        }\n\n        const newRowFiltered = newRow.filter((item) => item != undefined);\n\n        return [...total, newRowFiltered];\n    }, []);\n};\n\n/**\n * @param {any[][]} arr\n * @param {number} i\n * @param {number} i2\n * @returns Boolean\n */\nconst isAvailableIntoChunk = (arr, i, i2) => {\n    return arr[i] !== undefined && arr[i][i2] !== undefined;\n};\n\n/**\n * @template {any[]} T\n * @param {T} arr\n * @param {import('./type.js').StaggerObject} stagger\n * @returns {{ cleanArray: T[] }}\n */\nexport const getRadialArray = (arr, stagger) => {\n    const { col } = stagger.grid;\n    // @ts-ignore\n    const { x, y } = stagger.from;\n\n    const chunk = sliceIntoChunks(arr, col);\n\n    // Add empty row (one row for each column) at the end to prevent missing cell form matrix calc\n    [...Array.from({ length: col }).keys()].forEach(() => {\n        chunk.push([]);\n    });\n\n    const radialArrY = getRadialY(chunk, x, y);\n    const radialArrX = getRadialX(radialArrY, x, y, chunk);\n\n    // Merge  x and y array\n    const radialXY = radialArrY.reduce((p, _c, i) => {\n        const row = [...radialArrY[i], ...radialArrX[i]];\n        p.push(row);\n        return p;\n    }, []);\n\n    // Merge over and down y array\n    const arrayLength = radialXY.length;\n    const mergeDirection =\n        y >= arrayLength / 2 ? MERGE_FROM_UP : MERGE_FROM_DOWN;\n\n    const finalArray =\n        mergeDirection === MERGE_FROM_DOWN\n            ? radialXY.reduce(\n                  (\n                      /** @type {any[][]} */ previous,\n                      /** @type {[]} */ _current,\n                      /** @type {number} */ index\n                  ) => {\n                      if (index < y) {\n                          return previous;\n                      } else if (index === y) {\n                          const merged = [...radialXY[index]];\n                          previous.push(merged);\n                          return previous;\n                      } else {\n                          const downRow = radialXY[y - (index - y)] ?? [];\n                          const merged = [...radialXY[index], ...downRow];\n                          previous.push(merged);\n                          return previous;\n                      }\n                  },\n                  []\n              )\n            : radialXY\n                  .reduce(\n                      (\n                          /** @type {any[][]} */ previous,\n                          /** @type {[]} */ _current,\n                          /** @type {number} */ index\n                      ) => {\n                          if (index > y) {\n                              return previous;\n                          } else if (index === y) {\n                              const merged = [...radialXY[index]];\n                              previous.push(merged);\n                              return previous;\n                          } else {\n                              const upRow = radialXY[y + (y - index)] ?? [];\n                              const merged = [...radialXY[index], ...upRow];\n                              previous.push(merged);\n                              return previous;\n                          }\n                      },\n                      []\n                  )\n                  .reverse();\n\n    // Remove empty row added at start\n    const cleanArray = finalArray.reduce(\n        (/** @type {any[][]} */ previous, /** @type {[]} */ current) => {\n            return current.length === 0 ? previous : [...previous, current];\n        },\n        []\n    );\n\n    return {\n        cleanArray,\n    };\n};\n", "import { getDefaultStagger } from './get-default-stagger.js';\nimport { getRadialArray } from './get-radial-stagger.js';\nimport {\n    DIRECTION_RADIAL,\n    STAGGER_START,\n    STAGGER_END,\n    STAGGER_CENTER,\n    STAGGER_EDGES,\n    STAGGER_RANDOM,\n} from './stagger-costant.js';\nimport { getEachByFps } from './stagger-utils.js';\nimport { staggerColRowWarning } from '../warning.js';\nimport { MobCore } from '../../../../mob-core/index.js';\n\n/**\n * @type {import('./type.js').SetStagger}\n */\nconst getRadial = ({\n    arrayDefault,\n    arrayOnStop,\n    stagger,\n    slowlestStagger,\n    fastestStagger,\n}) => {\n    /**\n     * Check if from is an Object\n     */\n    if (!MobCore.checkType(Object, stagger?.from)) {\n        // @ts-ignore\n        stagger.from = {};\n    }\n\n    /**\n     * Check x value if is not set use 0 as default\n     */\n    // @ts-ignore\n    if (!MobCore.checkType(Number, stagger?.from?.x)) {\n        // @ts-ignore\n        stagger.from = { ...stagger.from, x: 0 };\n    }\n\n    /**\n     * Check y value if is not set use 0 as default\n     */\n    // @ts-ignore\n    if (!MobCore.checkType(Number, stagger?.from?.y)) {\n        // @ts-ignore\n        stagger.from = { ...stagger.from, y: 0 };\n    }\n\n    const { cleanArray: cleanCb } = getRadialArray(arrayDefault, stagger);\n\n    // Get stagger index the minumn and the fastest and the slowest\n    let counter = 0;\n    cleanCb.forEach((chunk, i) => {\n        chunk.forEach((item) => {\n            /*\n             * Get stagger each by fps\n             */\n            const eachByFps = getEachByFps(stagger.each);\n            const frame = i * eachByFps;\n            item.index = counter;\n            item.frame = frame;\n\n            if (frame >= slowlestStagger.frame)\n                slowlestStagger = {\n                    index: counter,\n                    frame,\n                };\n\n            if (frame <= fastestStagger.frame)\n                fastestStagger = {\n                    index: counter,\n                    frame,\n                };\n\n            counter++;\n        });\n    });\n\n    // Get on Complete Callback\n    const cleanEndCb = (() => {\n        if (arrayOnStop.length > 0) {\n            const { cleanArray } = getRadialArray(arrayOnStop, stagger);\n            return cleanArray.flat();\n        } else {\n            return [];\n        }\n    })();\n\n    const staggerArray = cleanCb.flat();\n    const endstaggerArray = cleanEndCb.flat();\n\n    // Update onComplete cb with right stagger\n    staggerArray.forEach((item, i) => {\n        // If there an OnCompelte callback\n        if (endstaggerArray.length > 0) {\n            endstaggerArray[i].index = item.index;\n            endstaggerArray[i].frame = item.frame;\n        }\n    });\n\n    return {\n        staggerArray,\n        staggerArrayOnComplete: endstaggerArray,\n        fastestStagger,\n        slowlestStagger,\n    };\n};\n\n/**\n * @type {import('./type.js').SetStagger}\n */\nconst getDefault = ({\n    arrayDefault,\n    arrayOnStop,\n    stagger,\n    slowlestStagger,\n    fastestStagger,\n}) => {\n    /**\n     * Check if from is a valid parameters If not set default start value *\n     */\n    const fromList = [\n        STAGGER_START,\n        STAGGER_END,\n        STAGGER_CENTER,\n        STAGGER_EDGES,\n        STAGGER_RANDOM,\n    ];\n\n    if (\n        (!MobCore.checkType(String, stagger?.from) &&\n            !MobCore.checkType(Number, stagger?.from)) ||\n        (MobCore.checkType(String, stagger?.from) &&\n            // @ts-ignore\n            !fromList.includes(stagger?.from))\n    ) {\n        staggerColRowWarning();\n        stagger.from = STAGGER_START;\n    }\n\n    /**\n     * DEFAULT STAGGER\n     */\n    return getDefaultStagger({\n        arrayDefault,\n        arrayOnStop,\n        stagger,\n        slowlestStagger,\n        fastestStagger,\n    });\n};\n\n/**\n * @type {import('./type.js').SetStagger}\n */\nexport const setStagger = ({\n    arrayDefault,\n    arrayOnStop,\n    stagger,\n    slowlestStagger,\n    fastestStagger,\n}) => {\n    const result =\n        stagger?.grid?.direction === DIRECTION_RADIAL\n            ? getRadial({\n                  arrayDefault,\n                  arrayOnStop,\n                  stagger,\n                  slowlestStagger,\n                  fastestStagger,\n              })\n            : getDefault({\n                  arrayDefault,\n                  arrayOnStop,\n                  stagger,\n                  slowlestStagger,\n                  fastestStagger,\n              });\n\n    const staggerArray = result.staggerArray;\n    const staggerArrayOnComplete = result.staggerArrayOnComplete;\n    const fastestStaggerUpdated = result.fastestStagger;\n    const slowlestStaggerUpdated = result.slowlestStagger;\n\n    return {\n        staggerArray,\n        staggerArrayOnComplete,\n        fastestStagger: fastestStaggerUpdated,\n        slowlestStagger: slowlestStaggerUpdated,\n    };\n};\n", "import { MobCore } from '../../../../mob-core/index.js';\n\n/**\n * Fire callback while Running\n *\n * @type {import('./type.js').DefaultCallback}\n */\nexport const defaultCallback = ({\n    stagger,\n    callback,\n    callbackCache,\n    callBackObject,\n    useStagger,\n}) => {\n    /**\n     * Fire callback without stagger.\n     */\n    if (stagger.each === 0 || !useStagger) {\n        MobCore.useFrame(() => {\n            callback.forEach(({ cb }) => {\n                cb(callBackObject);\n            });\n        });\n\n        /**\n         * Fire callback cache immediately.\n         */\n        MobCore.useFrame(() => {\n            callbackCache.forEach(({ cb }) => {\n                MobCore.useCache.fireObject({ id: cb, obj: callBackObject });\n            });\n        });\n\n        return;\n    }\n\n    /**\n     * Fire callback with default stagger.\n     */\n    callback.forEach(({ cb, frame }) => {\n        MobCore.useFrameIndex(() => {\n            cb(callBackObject);\n        }, frame);\n    });\n\n    /**\n     * Fire callback with cache stagger. Update handleCache store.\n     */\n    callbackCache.forEach(({ cb, frame }) => {\n        MobCore.useCache.update({ id: cb, callBackObject, frame });\n    });\n};\n\n/**\n * Callback on complete\n *\n * @type {import('./type.js').DefaultCallbackOnComplete}\n */\nexport const defaultCallbackOnComplete = ({\n    onComplete,\n    callback,\n    callbackCache,\n    callbackOnComplete,\n    callBackObject,\n    stagger,\n    slowlestStagger,\n    fastestStagger,\n    useStagger,\n}) => {\n    /**\n     * Fire callback without stagger.\n     */\n    if (stagger.each === 0 || !useStagger) {\n        onComplete();\n\n        MobCore.useNextFrame(() => {\n            // Fire callback with exact end value\n            callback.forEach(({ cb }) => {\n                cb(callBackObject);\n            });\n\n            /**\n             * Fire callback cache immediately.\n             */\n            callbackCache.forEach(({ cb }) => {\n                MobCore.useCache.fireObject({ id: cb, obj: callBackObject });\n            });\n\n            callbackOnComplete.forEach(({ cb }) => {\n                cb(callBackObject);\n            });\n        });\n\n        return;\n    }\n\n    /**\n     * Fire callback with default stagger.\n     */\n    callback.forEach(({ cb, frame }, index) => {\n        MobCore.useFrameIndex(() => {\n            if (stagger.waitComplete) {\n                if (index === slowlestStagger.index) {\n                    cb(callBackObject);\n                    onComplete();\n                }\n\n                return;\n            }\n\n            if (index === fastestStagger.index) {\n                cb(callBackObject);\n                onComplete();\n            }\n        }, frame);\n    });\n\n    /**\n     * Fire callback with cache stagger.\n     */\n    callbackCache.forEach(({ cb, frame }, index) => {\n        MobCore.useFrameIndex(() => {\n            if (stagger.waitComplete) {\n                if (index === slowlestStagger.index) {\n                    MobCore.useCache.fireObject({\n                        id: cb,\n                        obj: callBackObject,\n                    });\n                    onComplete();\n                }\n\n                return;\n            }\n\n            /**\n             * Fire callback cache immediately.\n             */\n            if (index === fastestStagger.index) {\n                MobCore.useCache.fireObject({ id: cb, obj: callBackObject });\n                onComplete();\n            }\n        }, frame);\n    });\n\n    /**\n     * Fire on complete callbacon complete callback\n     */\n    callbackOnComplete.forEach(({ cb, frame }) => {\n        MobCore.useFrameIndex(() => {\n            cb(callBackObject);\n        }, frame + 1);\n    });\n};\n", "import { MobCore } from '../../../../mob-core';\n\nexport const callBackStore = MobCore.createStore({ id: 0 });\n", "import { MobCore } from '../../../../mob-core';\nimport { callBackStore } from './call-back-store';\n\n/**\n * Add callback to Stack.\n *\n * @type {import('./type').SetCallBack}\n */\nexport const updateSubScribers = (currentCallback, arrayOfCallback) => {\n    // Get new unbubscribeId.\n    const { id } = callBackStore.get();\n\n    // Update main callback array.\n    // index and frame is settled on first run of tween\n    // arrayOfCallback.push({ cb: currentCallback, id, index: -1, frame: -1 });\n    const arrayOfCallbackUpdated = [\n        ...arrayOfCallback,\n        { cb: currentCallback, id, index: -1, frame: -1 },\n    ];\n\n    // Save current id for unsubscribe.\n    const prevId = id;\n\n    // Update Incremental id.\n    callBackStore.quickSetProp('id', id + 1);\n\n    // Delete item from arrayOfCallback, it is possible unsubscribe a single stagger.\n    return {\n        arrayOfCallbackUpdated,\n        unsubscribeCb: (arrayOfCallback) =>\n            arrayOfCallback.map(({ id, cb, index, frame }) => {\n                // Set NOOP.\n                if (id === prevId) cb = () => {};\n                return { id, cb, index, frame };\n            }),\n    };\n};\n\n/**\n * @type {import('./type').SetCallBackCache}\n */\nexport const updateSubscribersCache = (\n    item,\n    currentCallback,\n    arrayOfCallback,\n    unsubscribeCacheArray\n) => {\n    // Get new unbubscribeId.\n    const { id } = callBackStore.get();\n\n    // add item and function related to handleCache.\n    const { id: cacheId, unsubscribe } = MobCore.useCache.add(\n        item,\n        currentCallback\n    );\n\n    // Update main callback array.\n    // index and frame is settled on first run of tween\n    const arrayOfCallbackUpdated = [\n        ...arrayOfCallback,\n        { cb: cacheId, id, index: -1, frame: -1 },\n    ];\n\n    // Update unsubscribeCache store.\n    unsubscribeCacheArray.push(unsubscribe);\n\n    const prevId = id;\n\n    // Update Incremental id.\n    callBackStore.quickSetProp('id', id + 1);\n\n    return {\n        arrayOfCallbackUpdated,\n        unsubscribeCache: unsubscribeCacheArray,\n        unsubscribeCb: (arrayOfCallback) => {\n            // runsubscribe item from handleCache.\n            unsubscribe();\n\n            // Disable single stagger without modify staggers order\n            return arrayOfCallback.map(({ id, cb, index, frame }) => {\n                if (id === prevId) cb = '';\n                return { id, cb, index, frame };\n            });\n        },\n    };\n};\n", "import { MobCore } from '../../../../mob-core/index.js';\nimport { dataTweenValueIsValid } from './tween-validation.js';\nimport { dataTweenValueIsNotValidWarning } from '../warning.js';\n\n/**\n * Set goTo value, used by spring and lerp\n *\n * @param {Record<string, number | (() => number)>} obj\n * @returns {import('./type.js').GoToParamsType[]}\n */\nexport const parseGoToObject = (obj) => {\n    return Object.keys(obj).map((item) => {\n        if (!dataTweenValueIsValid(obj[item])) {\n            dataTweenValueIsNotValidWarning(`${item}: ${obj[item]}`);\n\n            return {\n                prop: item,\n                toValue: 0,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false,\n            };\n        }\n\n        const toValue = MobCore.checkType(Number, obj[item])\n            ? obj[item]\n            : // @ts-ignore\n              (obj[item]?.() ?? 0);\n\n        return {\n            prop: item,\n            toValue,\n            toFn: /** @type{() => number} */ (obj[item]),\n            toIsFn: MobCore.checkType(Function, obj[item]),\n            settled: false,\n        };\n    });\n};\n\n/**\n * Set goFrom value, used by spring and lerp\n *\n * @param {Record<string, number | (() => number)>} obj\n * @returns {import('./type.js').GoFromType[]}\n */\nexport const parseGoFromObject = (obj) => {\n    return Object.keys(obj).map((item) => {\n        if (!dataTweenValueIsValid(obj[item])) {\n            dataTweenValueIsNotValidWarning(`${item}: ${obj[item]}`);\n\n            return {\n                prop: item,\n                fromValue: 0,\n                currentValue: 0,\n                fromFn: () => 0,\n                fromIsFn: false,\n                settled: false,\n            };\n        }\n        const value = MobCore.checkType(Number, obj[item])\n            ? obj[item]\n            : // @ts-ignore\n              (obj[item]?.() ?? 0);\n\n        return {\n            prop: item,\n            fromValue: value,\n            currentValue: value,\n            fromFn: /** @type{() => number} */ (obj[item]),\n            fromIsFn: MobCore.checkType(Function, obj[item]),\n            settled: false,\n        };\n    });\n};\n\n/**\n * Set goFromTo value, used by spring and lerp\n *\n * @param {Record<string, number | (() => number)>} fromObj\n * @param {Record<string, number | (() => number)>} toObj\n * @returns {import('./type.js').GoFromToType[]}\n */\nexport const parseGoFromToObject = (fromObj, toObj) => {\n    return Object.keys(fromObj).map((item) => {\n        if (\n            !dataTweenValueIsValid(toObj[item]) ||\n            !dataTweenValueIsValid(fromObj[item])\n        ) {\n            dataTweenValueIsNotValidWarning(\n                `${item}: ${toObj[item]} || ${item}: ${fromObj[item]}`\n            );\n\n            return {\n                prop: item,\n                fromValue: 0,\n                fromFn: () => 0,\n                fromIsFn: false,\n                currentValue: 0,\n                toValue: 0,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false,\n            };\n        }\n\n        const fromValue = MobCore.checkType(Number, fromObj[item])\n            ? fromObj[item]\n            : // @ts-ignore\n              (fromObj[item]?.() ?? 0);\n\n        const toValue = MobCore.checkType(Number, toObj[item])\n            ? toObj[item]\n            : // @ts-ignore\n              (toObj[item]?.() ?? 0);\n\n        return {\n            prop: item,\n            fromValue,\n            fromFn: /** @type{() => number} */ (fromObj[item]),\n            fromIsFn: MobCore.checkType(Function, fromObj[item]),\n            currentValue: fromValue,\n            toValue,\n            toFn: /** @type{() => number} */ (toObj[item]),\n            toIsFn: MobCore.checkType(Function, toObj[item]),\n            settled: false,\n        };\n    });\n};\n\n/**\n * Set set value, used by spring and lerp\n *\n * @param {Record<string, number | (() => number)>} obj\n * @returns {import('./type.js').GoFromToType[]}\n */\nexport const parseSetObject = (obj) => {\n    return Object.keys(obj).map((item) => {\n        if (!dataTweenValueIsValid(obj[item])) {\n            dataTweenValueIsNotValidWarning(`${item}: ${obj[item]}`);\n\n            return {\n                prop: item,\n                fromValue: 0,\n                fromFn: () => 0,\n                fromIsFn: false,\n                currentValue: 0,\n                toValue: 0,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false,\n            };\n        }\n        const value = MobCore.checkType(Number, obj[item])\n            ? obj[item]\n            : // @ts-ignore\n              (obj[item]?.() ?? 0);\n\n        return {\n            prop: item,\n            fromValue: value,\n            fromFn: /** @type{() => number} */ (obj[item]),\n            fromIsFn: MobCore.checkType(Function, obj[item]),\n            currentValue: value,\n            toValue: value,\n            toFn: /** @type{() => number} */ (obj[item]),\n            toIsFn: MobCore.checkType(Function, obj[item]),\n            settled: false,\n        };\n    });\n};\n", "import { MobCore } from '../../../mob-core';\n\n/**\n * Fire mean request animation frame function. In case the is some function add form timeline fire pauseFUnction.\n *\n * @param {{ cb: () => boolean }[]} callbackPauseArray\n * @param {(time: number, fps: number) => void} rafFunction\n * @param {() => void} pauseFunction\n * @returns {void}\n */\nexport const initRaf = (callbackPauseArray, rafFunction, pauseFunction) => {\n    MobCore.useFrame(() => {\n        MobCore.useNextTick(({ time, fps }) => {\n            const prevent = callbackPauseArray\n                .map(({ cb }) => cb())\n                .includes(true);\n\n            rafFunction(time, fps);\n            if (prevent) pauseFunction();\n        });\n    });\n};\n", "/**\n * @param {string} label\n * @param {number} fps\n * @returns {void}\n */\nexport const fpsLoadedLog = (label, fps) => {\n    console.log(`stagger on ${label} loaded at: ${fps} fps`);\n};\n", "import { MobCore } from '../../../../mob-core';\nimport { staggerEachWarning } from '../warning';\n\n/**\n * @type {import('./type').ShouldInizializzeStagger}\n */\nexport const shouldInizializzeStagger = (\n    each,\n    firstRun,\n    arrayToCompare1,\n    arrayToCompare2\n) => {\n    if (!MobCore.checkType(Number, each)) {\n        staggerEachWarning();\n    }\n\n    return (\n        each > 0 &&\n        firstRun &&\n        (arrayToCompare1.length > 0 || arrayToCompare2.length > 0)\n    );\n};\n", "import { MobCore } from '../../../mob-core';\n\n/**\n * @param {(time: number, fps: number) => void} rafFunction\n * @returns {void}\n */\nexport const resume = (rafFunction) => {\n    MobCore.useFrame(() => {\n        MobCore.useNextTick(({ time, fps }) => {\n            rafFunction(time, fps);\n        });\n    });\n};\n", "/**\n * Get value of specific key from an array [{ prop: valueByKey }, ...]\n *\n * @param {Record<string, any>[]} arr\n * @param {string} key\n * @returns {Record<string, number>}\n */\nexport const getValueObj = (arr, key) => {\n    return arr\n        .map((item) => ({ [item['prop']]: Number.parseFloat(item[key]) }))\n        .reduce((p, c) => ({ ...p, ...c }), {});\n};\n\n/**\n * Get toValue of specific key from an array ( function or number )\n *\n * @param {Record<'toIsFn' | 'toFn' | 'prop' | 'toValue', any>[]} arr\n * @returns {Record<string, number | (() => number)>}\n */\nexport const getValueObjToNative = (arr) => {\n    return arr\n        .map((item) => {\n            return item.toIsFn\n                ? { [item.prop]: item.toFn }\n                : { [item.prop]: Number.parseFloat(item.toValue) };\n        })\n        .reduce((p, c) => ({ ...p, ...c }), {});\n};\n\n/**\n * Get fromValue of specific key from an array ( function or number )\n *\n * @param {Record<'fromIsFn' | 'fromFn' | 'prop' | 'fromValue', any>[]} arr\n * @returns {Record<string, number | (() => number)>}\n */\nexport const getValueObjFromNative = (arr) => {\n    return arr\n        .map((item) => {\n            return item.fromIsFn\n                ? { [item.prop]: item.fromFn }\n                : { [item.prop]: Number.parseFloat(item.fromValue) };\n        })\n        .reduce((p, c) => ({ ...p, ...c }), {});\n};\n", "/**\n * Merge animation store of specific lerp/spring .. with new data from goTo etc..\n *\n * @type {import('./type').MergeTweenData}\n */\nexport const mergeArray = (newData, data) => {\n    return data.map((item) => {\n        const itemToMerge = newData.find((newItem) => {\n            return newItem.prop === item.prop;\n        });\n\n        // If exist merge\n        return itemToMerge ? { ...item, ...itemToMerge } : item;\n    });\n};\n\n/**\n * Merge animation store of specific tween .. with new data from goTo etc..\n *\n * @param {import('./type').AllActionType[]} newData\n * @param {import('../../tween/type').TimeTweenStoreData[]} data\n * @returns {import('../../tween/type').TimeTweenStoreData[]}\n */\nexport const mergeArrayTween = (newData, data) => {\n    return data.map((item) => {\n        const itemToMerge = newData.find((newItem) => {\n            return newItem.prop === item.prop;\n        });\n\n        // If exist merge\n        return itemToMerge\n            ? { ...item, ...itemToMerge, shouldUpdate: true }\n            : { ...item, shouldUpdate: false };\n    });\n};\n", "import { getRoundedValue, lerp } from '../utils/animation-utils';\n\n/**\n * @param {Object} param\n * @param {import('./type').LerpValues[]} param.values\n * @param {number} param.fps\n * @param {number} param.velocity\n * @param {number} param.precision\n * @returns {import('./type').LerpValues[]}\n */\nexport const lerpGetValuesOnDraw = ({ values, fps, velocity, precision }) => {\n    return values.map((item) => {\n        if (item.settled) return item;\n\n        const { currentValue, toValue } = item;\n\n        const lerpValue = lerp(currentValue, toValue, (velocity / fps) * 60);\n        const newCurrentValue = getRoundedValue(lerpValue);\n        const settled =\n            Number(Math.abs(toValue - newCurrentValue).toFixed(4)) <= precision;\n\n        if (settled) {\n            return {\n                ...item,\n                currentValue: toValue,\n                settled: true,\n            };\n        }\n\n        return {\n            ...item,\n            currentValue: newCurrentValue,\n            settled: false,\n        };\n    });\n};\n", "import { compareKeys } from '../utils/animation-utils.js';\nimport {\n    setFromByCurrent,\n    setFromCurrentByTo,\n    setFromToByCurrent,\n    setReverseValues,\n    setRelative,\n} from '../utils/tween-action/set-values.js';\nimport { mergeDeep } from '../../utils/merge-deep.js';\nimport { setStagger } from '../utils/stagger/set-stagger.js';\nimport { STAGGER_DEFAULT_INDEX_OBJ } from '../utils/stagger/stagger-costant.js';\nimport {\n    getStaggerFromProps,\n    getStaggerArray,\n} from '../utils/stagger/stagger-utils.js';\nimport {\n    defaultCallbackOnComplete,\n    defaultCallback,\n} from '../utils/callbacks/default-callback.js';\nimport {\n    updateSubScribers,\n    updateSubscribersCache,\n} from '../utils/callbacks/set-callback.js';\nimport {\n    parseGoToObject,\n    parseGoFromObject,\n    parseGoFromToObject,\n    parseSetObject,\n} from '../utils/tween-action/actions.js';\nimport { initRaf } from '../utils/init-raf.js';\nimport {\n    compareKeysWarning,\n    staggerIsOutOfRangeWarning,\n} from '../utils/warning.js';\nimport { fpsLoadedLog } from '../utils/fps-log-inizialization.js';\nimport {\n    lerpPrecisionIsValid,\n    lerpVelocityIsValid,\n    relativeIsValid,\n    valueIsBooleanAndTrue,\n} from '../utils/tween-action/tween-validation.js';\nimport { MobCore } from '../../../mob-core/index.js';\nimport { shouldInizializzeStagger } from '../utils/stagger/should-inizialize.js';\nimport { resume } from '../utils/resume-tween.js';\nimport {\n    getValueObj,\n    getValueObjFromNative,\n    getValueObjToNative,\n} from '../utils/tween-action/get-values.js';\nimport { mergeArray } from '../utils/tween-action/merge-array.js';\nimport { lerpGetValuesOnDraw } from './get-values-on-draw.js';\n\nexport default class MobLerp {\n    /**\n     * @type {import('../utils/stagger/type.js').StaggerObject}\n     */\n    #stagger;\n\n    /**\n     * @type {boolean}\n     */\n    #relative;\n\n    /**\n     * @type {number}\n     */\n    #velocity;\n\n    /**\n     * @type {number}\n     */\n    #precision;\n\n    /**\n     * @type {string}\n     */\n    #uniqueId;\n\n    /**\n     * @type {boolean}\n     */\n    #isRunning;\n\n    /**\n     * @type{((value:any) => void)|undefined }\n     */\n    #currentResolve;\n\n    /**\n     * @type{((value:any) => void)|undefined}\n     */\n    #currentReject;\n\n    /**\n     * @type {Promise<void> | undefined}\n     */\n    #currentPromise;\n\n    /**\n     * @type {import('./type.js').LerpValues[] | []}\n     */\n    #values;\n\n    /**\n     * @type {import('./type.js').LerpInitialData[]}\n     */\n    #initialData;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackDefault}\n     */\n    #callback;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackCache}\n     */\n    #callbackCache;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackDefault}\n     */\n    #callbackOnComplete;\n\n    /**\n     * @type {{ cb: () => boolean }[]}\n     */\n    #callbackStartInPause;\n\n    /**\n     * @type {(() => void)[]}\n     */\n    #unsubscribeCache;\n\n    /**\n     * @type {boolean}\n     */\n    #pauseStatus;\n\n    /**\n     * @type {boolean}\n     */\n    #firstRun;\n\n    /**\n     * @type {boolean}\n     */\n    #useStagger;\n\n    /**\n     * @type {boolean}\n     */\n    #fpsInLoading;\n\n    /**\n     * This value is the base value merged with new value in custom prop passed form user in goTo etc..\n     *\n     * @type {import('./type.js').LerpDefault}\n     */\n    #defaultProps;\n\n    /**\n     * @type {import('../utils/stagger/type.js').StaggerFrameIndexObject}\n     */\n    #slowlestStagger;\n\n    /**\n     * @type {import('../utils/stagger/type.js').StaggerFrameIndexObject}\n     */\n    #fastestStagger;\n\n    /**\n     * Available methods:\n     *\n     * ```javascript\n     * myLerp.set();\n     * myLerp.goTo();\n     * myLerp.goFrom();\n     * myLerp.goFromTo();\n     * myLerp.subscribe();\n     * myLerp.subscribeCache();\n     * myLerp.onComplete();\n     * myLerp.updateVelocity();\n     * myLerp.updatePrecision();\n     * myLerp.getId();\n     * myLerp.get();\n     * myLerp.getTo();\n     * myLerp.getFrom();\n     * myLerp.getToNativeType();\n     * myLerp.getFromNativeType();\n     * ```\n     *\n     * @example\n     *     ```javascript\n     *     const myLerp = new MobLerp({\n     *       data: Object.<string, number>,\n     *       precision: Number,\n     *       velocity: Number,\n     *       relative: Boolean\n     *       stagger:{\n     *          each: Number,\n     *          from: Number|String|{x:number,y:number},\n     *          grid: {\n     *              col: Number,\n     *              row: Number,\n     *              direction: String,\n     *          },\n     *          waitComplete: Boolean,\n     *       },\n     *     })\n     *\n     *\n     *     ```;\n     *\n     * @param {import('./type.js').LerpTweenProps} [data]\n     */\n    constructor(data) {\n        this.#stagger = getStaggerFromProps(data ?? {});\n        this.#relative = relativeIsValid(data?.relative, 'lerp');\n        this.#velocity = lerpVelocityIsValid(data?.velocity);\n        this.#precision = lerpPrecisionIsValid(data?.precision);\n        this.#uniqueId = MobCore.getUnivoqueId();\n        this.#isRunning = false;\n        this.#currentResolve = undefined;\n        this.#currentReject = undefined;\n        this.#currentPromise = undefined;\n        this.#values = [];\n        this.#initialData = [];\n        this.#callback = [];\n        this.#callbackCache = [];\n        this.#callbackOnComplete = [];\n        this.#callbackStartInPause = [];\n        this.#unsubscribeCache = [];\n        this.#pauseStatus = false;\n        this.#firstRun = true;\n        this.#useStagger = true;\n        this.#fpsInLoading = false;\n        this.#defaultProps = {\n            reverse: false,\n            velocity: this.#velocity,\n            precision: this.#precision,\n            relative: this.#relative,\n            immediate: false,\n        };\n        this.#slowlestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n        this.#fastestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n\n        /**\n         * Set initial store data if defined in constructor props If not use setData methods\n         */\n        const props = data?.data;\n        if (props) this.setData(props);\n    }\n\n    /**\n     * @param {number} _time\n     * @param {number} fps\n     * @returns {void}\n     */\n    #draw(_time, fps) {\n        this.#isRunning = true;\n\n        // Update values.\n        this.#values = lerpGetValuesOnDraw({\n            values: this.#values,\n            fps,\n            velocity: this.#velocity,\n            precision: this.#precision,\n        });\n\n        // Prepare an obj to pass to the callback.\n        const callBackObject = getValueObj(this.#values, 'currentValue');\n\n        defaultCallback({\n            stagger: this.#stagger,\n            callback: this.#callback,\n            callbackCache: this.#callbackCache,\n            callBackObject: callBackObject,\n            useStagger: this.#useStagger,\n        });\n\n        // Check if all values is completed.\n        const allSettled = this.#values.every((item) => item.settled === true);\n\n        if (allSettled) {\n            const onComplete = () => {\n                this.#isRunning = false;\n\n                /**\n                 * End of animation Set fromValue with ended value At the next call fromValue become the start value\n                 */\n                this.#values = [...this.#values].map((item) => {\n                    return { ...item, fromValue: item.toValue };\n                });\n\n                // On complete\n                if (!this.#pauseStatus && this.#currentResolve) {\n                    this.#currentResolve(true);\n\n                    // Set promise reference to null once resolved\n                    this.#currentPromise = undefined;\n                    this.#currentReject = undefined;\n                    this.#currentResolve = undefined;\n                }\n            };\n\n            // Prepare an obj to pass to the callback with rounded value ( end user value)\n            const cbObjectSettled = getValueObj(this.#values, 'toValue');\n\n            defaultCallbackOnComplete({\n                onComplete,\n                callback: this.#callback,\n                callbackCache: this.#callbackCache,\n                callbackOnComplete: this.#callbackOnComplete,\n                callBackObject: cbObjectSettled,\n                stagger: this.#stagger,\n                slowlestStagger: this.#slowlestStagger,\n                fastestStagger: this.#fastestStagger,\n                useStagger: this.#useStagger,\n            });\n\n            return;\n        }\n\n        MobCore.useFrame(() => {\n            MobCore.useNextTick(({ time, fps }) => {\n                if (this.#isRunning) this.#draw(time, fps);\n            });\n        });\n    }\n\n    /**\n     * @param {number} time Current global time\n     * @param {number} fps Current FPS\n     */\n    #onReuqestAnim(time, fps) {\n        this.#draw(time, fps);\n    }\n\n    /**\n     * Inzialize stagger array\n     *\n     * @returns {Promise<any>}\n     */\n    async #inzializeStagger() {\n        /**\n         * First time il there is a stagger load fps then go next step next time no need to calculate stagger and jump\n         * directly next step\n         */\n        if (\n            shouldInizializzeStagger(\n                this.#stagger.each,\n                this.#firstRun,\n                this.#callbackCache,\n                this.#callback\n            )\n        ) {\n            const { averageFPS } = await MobCore.useFps();\n\n            fpsLoadedLog('lerp', averageFPS);\n            const cb = getStaggerArray(this.#callbackCache, this.#callback);\n\n            if (this.#stagger.grid.col > cb.length) {\n                staggerIsOutOfRangeWarning(cb.length);\n                this.#firstRun = false;\n                return;\n            }\n\n            const {\n                staggerArray,\n                staggerArrayOnComplete,\n                fastestStagger,\n                slowlestStagger,\n            } = setStagger({\n                arrayDefault: cb,\n                arrayOnStop: this.#callbackOnComplete,\n                stagger: this.#stagger,\n                slowlestStagger: this.#slowlestStagger,\n                fastestStagger: this.#fastestStagger,\n            });\n\n            if (this.#callbackCache.length > this.#callback.length) {\n                this.#callbackCache =\n                    /** @type {import('../utils/callbacks/type.js').CallbackCache} */ (\n                        staggerArray\n                    );\n            } else {\n                this.#callback =\n                    /** @type {import('../utils/callbacks/type.js').CallbackDefault} */ (\n                        staggerArray\n                    );\n            }\n\n            this.#callbackOnComplete = staggerArrayOnComplete;\n            this.#slowlestStagger = slowlestStagger;\n            this.#fastestStagger = fastestStagger;\n            this.#firstRun = false;\n        }\n\n        return { ready: true };\n    }\n\n    /**\n     * @param {(arg0: any) => void} resolve\n     * @param {(value: any) => void} reject\n     * @returns {Promise<any>}\n     */\n    async #startRaf(resolve, reject) {\n        if (this.#fpsInLoading) return;\n        this.#currentResolve = resolve;\n        this.#currentReject = reject;\n\n        if (this.#firstRun) {\n            this.#fpsInLoading = true;\n            await this.#inzializeStagger();\n            this.#fpsInLoading = false;\n        }\n\n        initRaf(\n            this.#callbackStartInPause,\n            (time, fps) => this.#onReuqestAnim(time, fps),\n            () => this.pause()\n        );\n    }\n\n    /**\n     * CAUTION. Use by asyncTimeline. If inside group with waitComplete: false the tween is not resolved and another\n     * step call the tween no new promise is created. Fire reject if there is one and set isRunning false. Next draw\n     * isRunning back to true\n     *\n     * @returns {void}\n     */\n    clearCurretPromise() {\n        if (this.#currentReject) {\n            this.#currentReject(MobCore.ANIMATION_STOP_REJECT);\n            this.#currentPromise = undefined;\n            this.#currentReject = undefined;\n            this.#currentResolve = undefined;\n            this.#isRunning = false;\n        }\n    }\n\n    /**\n     * @type {import('./type.js').LerpStop}\n     */\n    stop({ clearCache = true, updateValues = true } = {}) {\n        if (this.#pauseStatus) this.#pauseStatus = false;\n        if (updateValues) this.#values = setFromToByCurrent(this.#values);\n\n        /**\n         * Clear stagger cache if needed.\n         */\n        if (clearCache)\n            this.#callbackCache.forEach(({ cb }) => MobCore.useCache.clean(cb));\n\n        // Reject promise\n        if (this.#currentReject) {\n            this.#currentReject(MobCore.ANIMATION_STOP_REJECT);\n            this.#currentPromise = undefined;\n            this.#currentReject = undefined;\n            this.#currentResolve = undefined;\n        }\n\n        this.#isRunning = false;\n    }\n\n    /**\n     * @type {import('./type.js').LerpPause}\n     */\n    pause() {\n        if (this.#pauseStatus) return;\n        this.#pauseStatus = true;\n        this.#isRunning = false;\n        this.#values = setFromByCurrent(this.#values);\n    }\n\n    /**\n     * @type {import('./type.js').LerpResume}\n     */\n    resume() {\n        if (!this.#pauseStatus) return;\n        this.#pauseStatus = false;\n\n        if (!this.#isRunning && this.#currentResolve) {\n            resume((time, fps) => this.#onReuqestAnim(time, fps));\n        }\n    }\n\n    /**\n     * Set initial data structure, the method is call by data prop in constructor. In case of need it can be called\n     * after creating the instance\n     *\n     * @type {import('../../utils/type.js').SetData}\n     */\n    setData(obj) {\n        this.#values = Object.entries(obj).map((item) => {\n            const [prop, value] = item;\n            return {\n                prop: prop,\n                toValue: value,\n                fromValue: value,\n                currentValue: value,\n                fromFn: () => 0,\n                fromIsFn: false,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false,\n            };\n        });\n\n        this.#initialData = this.#values.map((item) => {\n            return {\n                prop: item.prop,\n                toValue: item.toValue,\n                fromValue: item.fromValue,\n                currentValue: item.currentValue,\n                fromFn: () => 0,\n                fromIsFn: false,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false,\n            };\n        });\n    }\n\n    /**\n     * @type {import('./type.js').LerpResetData}\n     */\n    resetData() {\n        this.#values = mergeDeep(this.#values, this.#initialData);\n    }\n\n    /**\n     * @type {import('./type.js').LerpMergeProps}\n     */\n    #mergeProps(props) {\n        const newProps = { ...this.#defaultProps, ...props };\n        const { velocity, precision, relative } = newProps;\n        this.#relative = relativeIsValid(relative, 'lerp');\n        this.#velocity = lerpVelocityIsValid(velocity);\n        this.#precision = lerpPrecisionIsValid(precision);\n\n        return newProps;\n    }\n\n    /**\n     * @type {import('../../utils/type.js').GoTo<import('./type.js').LerpActions>} obj To Values\n     */\n    goTo(toObject, spacialProps = {}) {\n        if (this.#pauseStatus) return new Promise((resolve) => resolve);\n\n        this.#useStagger = true;\n        const toObjectparsed = parseGoToObject(toObject);\n        return this.#doAction(toObjectparsed, toObject, spacialProps);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').GoFrom<import('./type.js').LerpActions>} obj To Values\n     */\n    goFrom(fromObject, specialProps = {}) {\n        if (this.#pauseStatus) return new Promise((resolve) => resolve);\n\n        this.#useStagger = true;\n        const fromObjectParsed = parseGoFromObject(fromObject);\n        return this.#doAction(fromObjectParsed, fromObject, specialProps);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').GoFromTo<import('./type.js').LerpActions>} obj To Values\n     */\n    goFromTo(fromObject, toObject, specialProps = {}) {\n        if (this.#pauseStatus) return new Promise((resolve) => resolve);\n        this.#useStagger = true;\n\n        // Check if fromObj has the same keys of toObj\n        if (!compareKeys(fromObject, toObject)) {\n            compareKeysWarning('lerp goFromTo:', fromObject, toObject);\n            return new Promise((resolve) => resolve);\n        }\n\n        const objectParsed = parseGoFromToObject(fromObject, toObject);\n        return this.#doAction(objectParsed, fromObject, specialProps);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').Set<import('./type.js').LerpActions>} obj To Values\n     */\n    set(setObject, specialProps = {}) {\n        if (this.#pauseStatus) return new Promise((resolve) => resolve);\n        this.#useStagger = false;\n        const setObjectParsed = parseSetObject(setObject);\n        return this.#doAction(setObjectParsed, setObject, specialProps);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').SetImmediate<import('./type.js').LerpActions>} obj To Values\n     */\n    setImmediate(setObject, specialProps = {}) {\n        // this.#value is updated below\n        if (this.#isRunning) this.stop({ updateValues: false });\n        if (this.#pauseStatus) return;\n\n        this.#useStagger = false;\n        const setObjectParsed = parseSetObject(setObject);\n        this.#values = mergeArray(setObjectParsed, this.#values);\n\n        const { reverse } = this.#mergeProps(specialProps ?? {});\n        if (valueIsBooleanAndTrue(reverse, 'reverse'))\n            this.#values = setReverseValues(setObject, this.#values);\n\n        this.#values = setRelative(this.#values, this.#relative);\n        this.#values = setFromCurrentByTo(this.#values);\n        return;\n    }\n\n    /**\n     * @type {import('../../utils/type.js').DoAction<import('./type.js').LerpActions>} obj To Values\n     */\n    #doAction(newObjectparsed, newObjectRaw, spacialProps = {}) {\n        this.#values = mergeArray(newObjectparsed, this.#values);\n\n        const { reverse, immediate } = this.#mergeProps(spacialProps ?? {});\n        if (valueIsBooleanAndTrue(reverse, 'reverse'))\n            this.#values = setReverseValues(newObjectRaw, this.#values);\n\n        this.#values = setRelative(this.#values, this.#relative);\n\n        if (valueIsBooleanAndTrue(immediate, 'immediate ')) {\n            if (this.#isRunning) this.stop({ updateValues: false });\n            this.#values = setFromCurrentByTo(this.#values);\n            return Promise.resolve();\n        }\n\n        /**\n         * Condition to create promise. Promise is created first time. If is calling when isRunning reject, so only one\n         * promise is resolved. this.#currentPromise is necessary to avoid wrong fps calculation ( async stagger\n         * function ).\n         */\n        const shouldInitializeRAF = !this.#isRunning && !this.#currentPromise;\n\n        /**\n         * Avery time is called while is running return the previous promise.\n         */\n        if (shouldInitializeRAF) {\n            this.#currentPromise = new Promise((resolve, reject) => {\n                this.#startRaf(resolve, reject);\n            });\n        }\n\n        return shouldInitializeRAF && this.#currentPromise\n            ? this.#currentPromise\n            : Promise.reject(MobCore.ANIMATION_STOP_REJECT);\n    }\n\n    /**\n     * Get current values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myLerp.get();\n     *     ```;\n     *\n     * @type {import('./type.js').LerpGetValue}\n     */\n    get() {\n        return getValueObj(this.#values, 'currentValue');\n    }\n\n    /**\n     * Get initial values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myLerp.getIntialData();\n     *     ```;\n     *\n     * @type {import('./type.js').LerpGetValue}\n     */\n    getInitialData() {\n        return getValueObj(this.#initialData, 'currentValue');\n    }\n\n    /**\n     * Get from values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myLerp.getFrom();\n     *     ```;\n     *\n     * @type {import('./type.js').LerpGetValue}\n     */\n    getFrom() {\n        return getValueObj(this.#values, 'fromValue');\n    }\n\n    /**\n     * Get to values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myLerp.getTo();\n     *     ```;\n     *\n     * @type {import('./type.js').LerpGetValue}\n     */\n    getTo() {\n        return getValueObj(this.#values, 'toValue');\n    }\n\n    /**\n     * Get From values, if the single value is a function it returns the same function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myLerp.getFromNativeType();\n     *     ```;\n     *\n     * @type {import('./type.js').LerpGetValueNative}\n     */\n    getFromNativeType() {\n        return getValueObjFromNative(this.#values);\n    }\n\n    /**\n     * Get To values, if the single value is a function it returns the same function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myLerp.getToNativeType();\n     *     ```;\n     *\n     * @type {import('./type.js').LerpGetValueNative}\n     */\n    getToNativeType() {\n        return getValueObjToNative(this.#values);\n    }\n\n    /**\n     * Get tween type\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const type = myLerp.getType();\n     *     ```;\n     *\n     * @type {import('./type.js').LerpGetType} tween Type\n     */\n    getType() {\n        return 'LERP';\n    }\n\n    /**\n     * Get univoque Id\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const type = myLerp.getId();\n     *     ```;\n     *\n     * @type {import('./type.js').LerpGetId}\n     */\n    getId() {\n        return this.#uniqueId;\n    }\n\n    /**\n     * Return active state.\n     *\n     * @returns {boolean}\n     */\n    isActive() {\n        return this.#isRunning;\n    }\n\n    /**\n     * Update velocity value. `default value is 0.06`,the closer the value is to 1, the faster the transition will be.\n     * The change will be persistent\n     *\n     * @example\n     *     ```javascript\n     *     myLerp.updateVelocity(0.1)\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').LerpUpdateVelocity}\n     */\n    updateVelocity(velocity) {\n        this.#velocity = lerpVelocityIsValid(velocity);\n        this.#defaultProps = mergeDeep(this.#defaultProps, {\n            velocity: this.#velocity,\n        });\n    }\n\n    /**\n     * Update precision value. When the calculated value is less than this number, the transition will be considered\n     * completed, the smaller the value, the greater the precision of the calculation, the `default value is 0.01`. The\n     * change will be persistent\n     *\n     * @example\n     *     ```javascript\n     *     myLerp.updatePrecision(0.5)\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').LerpUpdatePrecision}\n     */\n    updatePrecision(precision) {\n        this.#velocity = lerpPrecisionIsValid(precision);\n        this.#defaultProps = mergeDeep(this.#defaultProps, {\n            precision: this.#precision,\n        });\n    }\n\n    /**\n     * Callback that returns updated values ready to be usable, it is advisable to use it for single elements, although\n     * it works well on a not too large number of elements (approximately 100-200 elements) for large staggers it is\n     * advisable to use the subscribeCache method .\n     *\n     * @type {import('./type.js').LerpSubscribe}\n     */\n    subscribe(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = updateSubScribers(\n            cb,\n            this.#callback\n        );\n        this.#callback = arrayOfCallbackUpdated;\n        return () => (this.#callback = unsubscribeCb(this.#callback));\n    }\n\n    /**\n     * Callback that returns updated values ready to be usable, specific to manage large staggers.\n     *\n     * @type {import('./type.js').LerpSubscribeCache}\n     */\n    subscribeCache(item, fn) {\n        const { arrayOfCallbackUpdated, unsubscribeCb, unsubscribeCache } =\n            updateSubscribersCache(\n                item,\n                fn,\n                this.#callbackCache,\n                this.#unsubscribeCache\n            );\n\n        this.#callbackCache = arrayOfCallbackUpdated;\n        this.#unsubscribeCache = unsubscribeCache;\n        return () => (this.#callbackCache = unsubscribeCb(this.#callbackCache));\n    }\n\n    /**\n     * Support callback to asyncTimeline. Callback to manage the departure of tweens in a timeline. If a delay is\n     * applied to the tween and before the delay ends the timeline pauses the tween at the end of the delay will\n     * automatically pause. Add callback to start in pause to stack\n     *\n     * @param {() => boolean} cb Cal function\n     * @returns {() => void} Unsubscribe callback\n     */\n    onStartInPause(cb) {\n        const arrayOfCallbackUpdated = [...this.#callbackStartInPause, { cb }];\n        this.#callbackStartInPause = arrayOfCallbackUpdated;\n\n        return () => (this.#callbackStartInPause = []);\n    }\n\n    /**\n     * Similar to subscribe this callBack is launched when the data calculation stops (when the timeline ends or the\n     * scroll trigger is inactive). Useful for applying a different style to an inactive element. A typical example is\n     * to remove the teansform3D property:\n     *\n     * @type {import('./type.js').LerpOnComplete}\n     */\n    onComplete(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = updateSubScribers(\n            cb,\n            this.#callbackOnComplete\n        );\n        this.#callbackOnComplete = arrayOfCallbackUpdated;\n\n        return () =>\n            (this.#callbackOnComplete = unsubscribeCb(\n                this.#callbackOnComplete\n            ));\n    }\n\n    /**\n     * Destroy tween\n     */\n    destroy() {\n        if (this.#currentPromise) this.stop();\n        this.#callbackOnComplete = [];\n        this.#callbackStartInPause = [];\n        this.#callback = [];\n        this.#callbackCache = [];\n        this.#values = [];\n        this.#currentPromise = undefined;\n        this.#unsubscribeCache.forEach((unsubscribe) => unsubscribe());\n        this.#unsubscribeCache = [];\n    }\n}\n", "import { MobCore } from '../../../../mob-core';\n\n/**\n * Fire callback while Running\n *\n * @type {import('./type').SyncCallback}\n */\nexport const syncCallback = ({\n    each,\n    useStagger,\n    isLastDraw,\n    callBackObject,\n    callback,\n    callbackCache,\n    callbackOnStop,\n}) => {\n    if (each === 0 || useStagger === false) {\n        MobCore.useFrame(() => {\n            callback.forEach(({ cb }) => cb(callBackObject));\n        });\n\n        MobCore.useFrame(() => {\n            callbackCache.forEach(({ cb }) => {\n                MobCore.useCache.fireObject({ id: cb, obj: callBackObject });\n            });\n        });\n    } else {\n        // Stagger\n        callback.forEach(({ cb, frame }) => {\n            MobCore.useFrameIndex(() => cb(callBackObject), frame);\n        });\n\n        callbackCache.forEach(({ cb, frame }) => {\n            MobCore.useCache.update({ id: cb, callBackObject, frame });\n        });\n    }\n\n    if (isLastDraw) {\n        if (each === 0 || useStagger === false) {\n            // No stagger, run immediately\n            MobCore.useFrame(() => {\n                callbackOnStop.forEach(({ cb }) => cb(callBackObject));\n            });\n        } else {\n            // Stagger\n            callbackOnStop.forEach(({ cb, frame }) => {\n                MobCore.useFrameIndex(() => cb(callBackObject), frame + 1);\n            });\n        }\n    }\n};\n", "import { getRoundedValue } from '../utils/animation-utils.js';\nimport { setStagger } from '../utils/stagger/set-stagger.js';\nimport {\n    getStaggerFromProps,\n    getStaggerArray,\n} from '../utils/stagger/stagger-utils.js';\nimport {\n    updateSubScribers,\n    updateSubscribersCache,\n} from '../utils/callbacks/set-callback.js';\nimport { syncCallback } from '../utils/callbacks/sync-callback.js';\nimport { parseGoToObject } from '../utils/tween-action/actions.js';\nimport { staggerIsOutOfRangeWarning } from '../utils/warning.js';\nimport {\n    durationIsValid,\n    easeScrollerTweenIsValid,\n} from '../utils/tween-action/tween-validation.js';\nimport { MobCore } from '../../../mob-core/index.js';\nimport { getValueObj } from '../utils/tween-action/get-values.js';\nimport { STAGGER_DEFAULT_INDEX_OBJ } from '../utils/stagger/stagger-costant.js';\n\nexport default class MobScrollerTween {\n    /**\n     * @type {Function}\n     */\n    #ease;\n\n    /**\n     * @type {number}\n     */\n    #duration;\n\n    /**\n     * @type {import('../utils/stagger/type.js').StaggerObject}\n     */\n    #stagger;\n\n    /**\n     * @type {import('./type.js').MobScrollerTweenValue[]}\n     */\n    #values;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackDefault}\n     */\n    #callbackOnStop;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackDefault}\n     */\n    #callback;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackCache}\n     */\n    #callbackCache;\n\n    /**\n     * @type {(() => void)[]}\n     */\n    #unsubscribeCache;\n\n    /**\n     * @type {string}\n     */\n    #type;\n\n    /**\n     * Simplified tween specific to be used with scrollTrigger as an alternative to the more complex sequencer,\n     * ParallaxTween requires only one mutation step (from / to).\n     *\n     * Available methods:\n     *\n     * ```js\n     * myParallaxTween.subscribe();\n     * myParallaxTween.subscribeCache();\n     * myParallaxTween.onStop();\n     * ```\n     *\n     * @example\n     *     ```js\n     *     const myParallaxTween = new MobScrollerTween({\n     *       from: Object.<string, number>,\n     *       to: Object.<string, number>,\n     *       ease: [ String ],\n     *       stagger:{\n     *          each: [ Number ],\n     *          from: [ Number|String|{x:number,y:number} ],\n     *          grid: {\n     *              col: [ Number ],\n     *              row: [ Number ],\n     *              direction: [ String ]\n     *          },\n     *       },\n     *     })\n     *\n     *\n     *     ```;\n     *\n     * @param {import('./type.js').MobScrollerTween} data\n     */\n    constructor(data) {\n        this.#ease = easeScrollerTweenIsValid(data?.ease);\n        this.#duration = durationIsValid(data?.duration);\n        this.#stagger = getStaggerFromProps(data);\n        this.#values = [];\n        this.#callbackOnStop = [];\n        this.#callback = [];\n        this.#callbackCache = [];\n        this.#unsubscribeCache = [];\n        this.#type = 'parallaxTween';\n\n        /**\n         * Set initial store data if defined in constructor props If not use setData methods\n         */\n        const props = data?.from || null;\n        if (props) this.setData(props);\n\n        if (data?.to) {\n            this.goTo(data.to);\n        }\n    }\n\n    /**\n     * Inzialize stagger array\n     *\n     * @returns {void}\n     */\n    inzializeStagger() {\n        if (\n            this.#stagger.each > 0 &&\n            (this.#callbackCache.length > 0 || this.#callback.length > 0)\n        ) {\n            const cb = getStaggerArray(this.#callbackCache, this.#callback);\n\n            if (this.#stagger.grid.col > cb.length) {\n                staggerIsOutOfRangeWarning(cb.length);\n                return;\n            }\n\n            const { staggerArray, staggerArrayOnComplete } = setStagger({\n                arrayDefault: cb,\n                arrayOnStop: this.#callbackOnStop,\n                stagger: this.#stagger,\n                slowlestStagger: STAGGER_DEFAULT_INDEX_OBJ, //sequencer doesn't support fastestStagger\n                fastestStagger: STAGGER_DEFAULT_INDEX_OBJ, //sequencer doesn't support fastestStagger\n            });\n\n            if (this.#callbackCache.length > this.#callback.length) {\n                this.#callbackCache =\n                    /** @type {import('../utils/callbacks/type.js').CallbackCache} */ (\n                        staggerArray\n                    );\n            } else {\n                this.#callback =\n                    /** @type {import('../utils/callbacks/type.js').CallbackDefault} */ (\n                        staggerArray\n                    );\n            }\n\n            this.#callbackOnStop = staggerArrayOnComplete;\n        }\n    }\n\n    /**\n     * @example\n     *     ```js\n     *     myParallaxTween.draw(\n     *          partial: 200,\n     *          isLastDraw: true,\n     *     );\n     *\n     *\n     *     ```;\n     *\n     * @param {object} obj\n     * @param {number} obj.partial - Render at specific partial between 0 and duration\n     * @param {boolean} obj.isLastDraw - Use the callback defined by the onStop method\n     * @param {boolean} obj.isLastDraw - Compatibiliey with sequencer for Parallxx\n     * @param {boolean} obj.useFrame - Compatibiliey with sequencer for Parallxx\n     */\n    draw({ partial, isLastDraw }) {\n        this.#values = [...this.#values].map((item) => {\n            const { toIsFn, toFn, toValue, fromIsFn, fromFn, fromValue } = item;\n\n            const toValueParsed = toIsFn ? toFn() : toValue;\n            const fromValueParsed = fromIsFn ? fromFn() : fromValue;\n            const toValFinal = toValueParsed - fromValueParsed;\n\n            const currentValue = this.#ease(\n                partial,\n                fromValueParsed,\n                toValFinal,\n                this.#duration\n            );\n\n            return {\n                ...item,\n                currentValue: getRoundedValue(currentValue),\n            };\n        });\n\n        // Prepare an obj to pass to the callback\n        const callBackObject = getValueObj(this.#values, 'currentValue');\n\n        MobCore.useNextTick(() => {\n            // Fire callback\n            syncCallback({\n                each: this.#stagger.each,\n                useStagger: true,\n                isLastDraw,\n                callBackObject,\n                callback: this.#callback,\n                callbackCache: this.#callbackCache,\n                callbackOnStop: this.#callbackOnStop,\n            });\n        });\n    }\n\n    /**\n     * @type {import('./type.js').MobScrollerTweenSetData}\n     */\n    setData(obj) {\n        const valToArray = Object.entries(obj);\n\n        this.#values = valToArray.map((item) => {\n            const [prop, value] = item;\n            return {\n                prop: prop,\n                toValue: value,\n                toValProcessed: value,\n                fromValue: value,\n                currentValue: value,\n                settled: false,\n\n                /**\n                 * Only for type check.\n                 */\n                fromFn: () => 0,\n                toFn: () => 0,\n            };\n        });\n\n        return this;\n    }\n\n    /**\n     * Return the new array maeged with main array created in setData\n     *\n     * @param {import('../utils/tween-action/type.js').GoToParamsType[]} newData New datato merge\n     * @returns {void}\n     */\n    #mergeData(newData) {\n        this.#values = this.#values.map((item) => {\n            const itemToMerge = newData.find((newItem) => {\n                return newItem.prop === item.prop;\n            });\n\n            // If exist merge\n            return itemToMerge ? { ...item, ...itemToMerge } : { ...item };\n        });\n    }\n\n    /**\n     * Transform some properties of your choice from the `current value` to the `entered value`. The target value can be\n     * a number or a function that returns a number, when using a function the target value will become dynamic and will\n     * change in real time as the result of the function changes\n     *\n     * @type {import('./type.js').MobScrollerTweenGoTo}\n     */\n    goTo(obj) {\n        const data = parseGoToObject(obj);\n        this.#mergeData(data);\n        return this;\n    }\n\n    /**\n     * Callback that returns updated values ready to be usable, it is advisable to use it for single elements, although\n     * it works well on a not too large number of elements (approximately 100-200 elements) for large staggers it is\n     * advisable to use the subscribeCache method .\n     *\n     * @type {import('./type.js').MobScrollerTweenSubscribe}\n     */\n    subscribe(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = updateSubScribers(\n            cb,\n            this.#callback\n        );\n\n        this.#callback = arrayOfCallbackUpdated;\n        return () => (this.#callback = unsubscribeCb(this.#callback));\n    }\n\n    /**\n     * Similar to subscribe this callBack is launched when the data calculation stops (when the timeline ends or the\n     * scroll trigger is inactive). Useful for applying a different style to an inactive element. A typical example is\n     * to remove the teansform3D property:\n     *\n     * @type {import('./type.js').MobScrollerTweenOnStop}\n     */\n    onStop(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = updateSubScribers(\n            cb,\n            this.#callbackOnStop\n        );\n        this.#callbackOnStop = arrayOfCallbackUpdated;\n\n        return () =>\n            (this.#callbackOnStop = unsubscribeCb(this.#callbackOnStop));\n    }\n\n    /**\n     * @type {import('./type.js').MobScrollerTweenSubscribeCache}\n     */\n    subscribeCache(item, fn) {\n        const { arrayOfCallbackUpdated, unsubscribeCb, unsubscribeCache } =\n            updateSubscribersCache(\n                item,\n                fn,\n                this.#callbackCache,\n                this.#unsubscribeCache\n            );\n\n        this.#callbackCache = arrayOfCallbackUpdated;\n        this.#unsubscribeCache = unsubscribeCache;\n        return () => (this.#callbackCache = unsubscribeCb(this.#callbackCache));\n    }\n\n    /**\n     * Get duration\n     *\n     * @type {import('./type.js').MobScrollerTweenGetDuration}\n     */\n    getDuration() {\n        return this.#duration;\n    }\n\n    /**\n     * Get tween type - 'parallaxTween'\n     *\n     * @type {import('./type.js').MobScrollerTweenGet}\n     */\n    getType() {\n        return this.#type;\n    }\n\n    /**\n     * Destroy sequencer\n     *\n     * @type {() => void}\n     */\n    destroy() {\n        this.#values = [];\n        this.#callbackOnStop = [];\n        this.#callback = [];\n        this.#callbackCache = [];\n        this.#unsubscribeCache.forEach((unsubscribe) => unsubscribe());\n        this.#unsubscribeCache = [];\n    }\n}\n", "// @ts-check\n\n/**\n * Support class for grouping multiple sequencers. Very useful when generating sequencers dynamically, such as through\n * the use of a createStagger. The following example uses a timeline but the same can be done using a scrollTrigger\n *\n * @example\n *     ```javascript\n *     cont masterSequencer = new MobMasterSequencer();\n *     const staggers = mobbu.createStaggers({})\n *     staggers.forEach(({ item, start, end, index }) => {\n *         const sequencer = mobbu\n *             .createSequencer({ ... })\n *             .goTo({ ... }, { start, end ...});\n *         sequencer.subscribe(({ ... }) => { ... });\n *         masterSequencer.add(sequencer);\n *     });\n *     const timeline = mobbu.createSyncTimeline({}).add(masterSequencer)\n *     ```;\n */\nexport default class MobMasterSequencer {\n    /**\n     * @trype {string}\n     */\n    #type;\n\n    /**\n     * @type {import('./type').MasterSequencerItem[]}\n     */\n    #children;\n\n    constructor() {\n        this.#type = 'sequencer';\n        this.#children = [];\n    }\n\n    /**\n     * @param {object} obj\n     * @param {number} obj.partial\n     * @param {boolean} obj.isLastDraw\n     * @param {boolean} obj.useFrame\n     * @returns {void}\n     */\n    draw({ partial, isLastDraw, useFrame }) {\n        this.#children.forEach((item) => {\n            item.draw({ partial, isLastDraw, useFrame });\n        });\n    }\n\n    /**\n     * @param {import('./type').MasterSequencerItem} item\n     * @returns {void}\n     */\n    add(item) {\n        this.#children.push(item);\n    }\n\n    /**\n     * @returns {void}\n     */\n    inzializeStagger() {\n        this.#children.forEach((item) => {\n            item.inzializeStagger();\n        });\n    }\n\n    /**\n     * @param {number} val\n     * @returns {void}\n     */\n    setDuration(val) {\n        this.#children.forEach((item) => {\n            item.setDuration(val);\n        });\n    }\n\n    /**\n     * @returns {number}\n     */\n    getDuration() {\n        return this.#children.length > 0 ? this.#children[0].getDuration() : 0;\n    }\n\n    /**\n     * @param {number} val\n     * @returns {void}\n     */\n    setStretchFactor(val) {\n        this.#children.forEach((item) => {\n            item.setStretchFactor(val);\n        });\n    }\n\n    /**\n     * @returns {import('./type').LabelType[]}\n     */\n    getLabels() {\n        return this.#children.flatMap((item) => item.getLabels());\n    }\n\n    /**\n     * @returns {void}\n     */\n    resetLastValue() {\n        this.#children.forEach((item) => item.resetLastValue());\n    }\n\n    /**\n     * @returns {void}\n     */\n    disableStagger() {\n        this.#children.forEach((item) => {\n            item.disableStagger();\n        });\n    }\n\n    /**\n     * @returns {void}\n     */\n    cleanCachedId() {\n        this.#children.forEach((item) => {\n            item.cleanCachedId();\n        });\n    }\n\n    /**\n     * @returns {string}\n     */\n    getType() {\n        return this.#type;\n    }\n\n    /**\n     * @returns {void}\n     */\n    destroy() {\n        this.#children.forEach((item) => {\n            item.destroy();\n        });\n        this.#children = [];\n    }\n}\n", "import { getTweenFn } from '../tween/tween-config.js';\nimport { dataTweenValueIsValid } from '../utils/tween-action/tween-validation.js';\nimport { dataTweenValueIsNotValidWarning } from '../utils/warning.js';\n\n/**\n * @param {Record<string, number | (() => number)>} obj\n * @param {string} ease\n * @returns {{ prop: string; toValue: number | (() => number); ease: () => void }[]}\n */\nexport const goToSyncUtils = (obj, ease) => {\n    return Object.keys(obj).map((item) => {\n        if (!dataTweenValueIsValid(obj[item])) {\n            dataTweenValueIsNotValidWarning(`${item}: ${obj[item]}`);\n            return {\n                prop: item,\n                toValue: 0,\n                ease: getTweenFn(ease),\n            };\n        }\n\n        return {\n            prop: item,\n            toValue: obj[item],\n            ease: getTweenFn(ease),\n        };\n    });\n};\n\n/**\n * @param {Record<string, number | (() => number)>} obj\n * @param {string} ease\n * @returns {{ prop: string; fromValue: number | (() => number); ease: () => void }[]}\n */\nexport const goFromSyncUtils = (obj, ease) => {\n    return Object.keys(obj).map((item) => {\n        if (!dataTweenValueIsValid(obj[item])) {\n            dataTweenValueIsNotValidWarning(`${item}: ${obj[item]}`);\n            return {\n                prop: item,\n                fromValue: 0,\n                ease: getTweenFn(ease),\n            };\n        }\n\n        return {\n            prop: item,\n            fromValue: obj[item],\n            ease: getTweenFn(ease),\n        };\n    });\n};\n\n/**\n * @param {Record<string, number | (() => number)>} fromObj\n * @param {Record<string, number | (() => number)>} toObj\n * @param {string} ease\n * @returns {{\n *     prop: string;\n *     fromValue: number | (() => number);\n *     toValue: number | (() => number);\n *     ease: () => void;\n * }[]}\n */\nexport const goFromToSyncUtils = (fromObj, toObj, ease) => {\n    return Object.keys(fromObj).map((item) => {\n        if (\n            !dataTweenValueIsValid(toObj[item]) ||\n            !dataTweenValueIsValid(fromObj[item])\n        ) {\n            dataTweenValueIsNotValidWarning(\n                `${item}: ${toObj[item]} || ${item}: ${fromObj[item]}`\n            );\n            return {\n                prop: item,\n                fromValue: 0,\n                toValue: 0,\n                ease: getTweenFn(ease),\n            };\n        }\n\n        return {\n            prop: item,\n            fromValue: fromObj[item],\n            toValue: toObj[item],\n            ease: getTweenFn(ease),\n        };\n    });\n};\n", "/**\n * @type {import('./type').DirectionSingleObject}\n */\nexport const directionConstant = {\n    BACKWARD: 'backward',\n    FORWARD: 'forward',\n    NONE: 'none',\n};\n", "// @ts-check\n\nexport const propToSet = {\n    fromValue: {\n        get: 'toValue',\n        set: 'fromValue',\n    },\n    toValue: {\n        get: 'toValue',\n        set: 'toValue',\n    },\n};\n\n/**\n * @param {import('./type').SequencerRow[]} arr\n * @param {number} index\n * @param {string} prop\n * @param {import('./type').PropToFindPartial} propToFind\n * @returns {number | undefined}\n */\nexport const getFirstValidValueBack = (arr, index, prop, propToFind) => {\n    return arr\n        .slice(0, index)\n        .reduceRight((previous, { values: valuesForward }) => {\n            /**\n             * Find active prop if exist\n             *\n             * @type {Record<string, any> | undefined}\n             */\n            const result = valuesForward.find(\n                ({ prop: propToCompare, active }) => {\n                    return active && propToCompare === prop;\n                }\n            );\n\n            /**\n             * Return only first valid value then skip the successive we return the value only when the accumulatore is\n             * null, so the first time we fond a value\n             */\n            return result && !previous && previous !== 0\n                ? result[propToSet[propToFind].get]\n                : previous;\n\n            // eslint-disable-next-line unicorn/no-useless-undefined\n        }, undefined);\n};\n\n/**\n * @param {import('./type').SequencerRow[]} arr\n * @param {number} index\n * @param {string} prop\n * @param {number} partial\n * @returns {boolean}\n */\nexport const checkIsLastUsableProp = (arr, index, prop, partial) => {\n    return arr.slice(index + 1).reduce((p, { start, values }) => {\n        const nextActiveItem = values.find((nextItem) => {\n            return nextItem.prop === prop && nextItem.active;\n        });\n\n        return nextActiveItem && start <= partial ? false : p;\n    }, true);\n};\n", "import { MobCore } from '../../../mob-core';\nimport { getRoundedValue } from '../utils/animation-utils';\nimport { checkIsLastUsableProp } from './reduce-function';\n\n/**\n * @param {Object} param\n * @param {import('./type').SequencerRow[]} param.timeline\n * @param {import('./type').SequencerValue[]} param.valuesState\n * @param {number} param.partial\n * @returns {import('./type').SequencerValue[]}\n */\nexport const sequencerGetValusOnDraw = ({ timeline, valuesState, partial }) => {\n    /**\n     * @type {import('./type').SequencerValue[]}\n     */\n    return valuesState.map((valueItem) => {\n        /**\n         * @type {{\n         *           toValue: number | function;\n         *           fromValue: number | function;\n         *           start: number;\n         *           end: number;\n         *           ease: function;\n         *       }\n         *     | {}}\n         */\n        const item = timeline.reduce(\n            (previous, { start, end, values }, index) => {\n                /**\n                 * Find current valueState item in current timeline node.\n                 */\n                const currentValuesItem = values.find(\n                    ({ prop }) => prop === valueItem.prop\n                );\n\n                /**\n                 * Check if item is settled or not active or previous value was funded.\n                 */\n                if (\n                    !currentValuesItem ||\n                    !currentValuesItem?.active ||\n                    Object.keys(previous).length > 0 ||\n                    valueItem.settled\n                )\n                    return previous;\n\n                const { prop, toValue, fromValue, ease } = currentValuesItem;\n\n                /**\n                 * Check if in the next step of timeline the same prop is active an start before partial\n                 */\n                const isLastUsableProp = checkIsLastUsableProp(\n                    timeline,\n                    index,\n                    prop,\n                    partial\n                );\n\n                /**\n                 * Id the prop is settled or is inactive skip Check if in the next step of timeline the same prop is\n                 * active an start before partial\n                 */\n                if (!isLastUsableProp) return previous;\n\n                return {\n                    toValue,\n                    fromValue,\n                    start,\n                    end,\n                    ease,\n                };\n            },\n            {}\n        );\n\n        /**\n         * Prop not found\n         */\n        if (Object.keys(item).length === 0) return valueItem;\n\n        // @ts-ignore\n        const { start, end, toValue, fromValue, ease } = item;\n\n        const newToValue = MobCore.checkType(Number, toValue)\n            ? toValue\n            : // @ts-ignore\n              toValue();\n\n        const newFromValue = MobCore.checkType(Number, fromValue)\n            ? fromValue\n            : // @ts-ignore\n              fromValue();\n\n        /**\n         * At least we get the current value\n         */\n        const duration = end - start;\n        const inactivePosition = partial < end ? newFromValue : newToValue;\n\n        const newCurrentValue =\n            partial >= start && partial <= end\n                ? ease(\n                      partial - start,\n                      newFromValue,\n                      newToValue - newFromValue,\n                      duration\n                  )\n                : inactivePosition;\n\n        const newCurrentValueSanitize = Number.isNaN(newCurrentValue)\n            ? inactivePosition\n            : newCurrentValue;\n\n        const currentValueRoudned = getRoundedValue(newCurrentValueSanitize);\n\n        return {\n            ...valueItem,\n            currentValue: currentValueRoudned,\n            settled: true,\n        };\n    });\n};\n", "import { getFirstValidValueBack, propToSet } from './reduce-function';\n\n/**\n * SetPropFromAncestor Add/Update toValue/fromValue (propTofind) in case a new row of type goTo/goFrom is inserted.\n * Update only active item in row. After reorder the timeline (start/priority) update each value with the nearest\n * previous value.\n *\n * GoFromTo has both toValue and fromValue, so skip\n *\n * @param {Object} param\n * @param {import('./type').SequencerRow[]} param.timeline\n * @param {string[]} param.activeProp Current props to update\n */\nexport const setPropFromAncestor = ({ timeline, activeProp }) => {\n    /**\n     * For each row.\n     */\n    return timeline.map((item, index) => {\n        const { values, propToFind } = item;\n\n        /**\n         * Update each active prop used in current row.\n         */\n        const newValues = values.map((valueItem) => {\n            const { prop, active } = valueItem;\n\n            if (\n                !active ||\n                !activeProp.includes(prop) ||\n                !propToFind ||\n                propToFind.length === 0\n            )\n                return valueItem;\n\n            /**\n             * Goback into the array and find ancestor value.\n             */\n            const previousValidValue = getFirstValidValueBack(\n                timeline,\n                index,\n                prop,\n                propToFind\n            );\n\n            // If we doesn't found a value skip\n            if (!previousValidValue && previousValidValue !== 0) {\n                return valueItem;\n            }\n\n            const newValueItem = {\n                ...valueItem,\n                [propToSet[propToFind].set]: previousValidValue,\n            };\n\n            return newValueItem;\n        });\n\n        return {\n            ...item,\n            values: newValues,\n        };\n    });\n};\n", "/**\n * Sorts the array by the lowest start value\n *\n * @template {any[]} T\n * @param {T} arr\n * @param {any} prop\n * @returns {T} Arr\n */\nexport const orderByProp = (arr, prop) => {\n    return arr.sort((a, b) => {\n        return a?.[prop] - b?.[prop];\n    });\n};\n", "import { orderByProp } from './order-row';\n\n/**\n * Update timeline and order by start value and priority.\n *\n * @param {Object} param\n * @param {import('./type').SequencerRow[]} param.timeline\n * @param {import('./type').SequencerValue[]} param.values\n * @param {number} param.start\n * @param {number} param.end\n * @param {number} param.duration\n * @param {import('./type').PropToFind} param.propToFind\n * @returns {import('./type').SequencerRow[]}\n */\nexport const insertNewRow = ({\n    timeline,\n    values,\n    start,\n    end,\n    duration,\n    propToFind,\n}) => {\n    const priority = timeline.length === 0 ? 0 : 1;\n\n    /**\n     * Add new row\n     */\n    const newTimeline = [\n        ...timeline,\n        {\n            values,\n            start: start ?? 0,\n            end: end ?? duration,\n            priority,\n            propToFind,\n        },\n    ];\n\n    /**\n     * Ordr by start\n     */\n    const timelineOrderByStart = orderByProp(newTimeline, 'start');\n\n    /**\n     * Order by priority\n     */\n    return orderByProp(timelineOrderByStart, 'priority');\n};\n", "/**\n * @param {Object} param\n * @param {any[]} param.data\n * @param {import('./type').SequencerValue[]} param.values\n * @returns {import('./type').SequencerValue[]}\n */\nexport const mergeNewValues = ({ data, values }) => {\n    return values.map((item) => {\n        const itemToMerge = data.find((newItem) => {\n            return newItem.prop === item.prop;\n        });\n\n        // If exist merge\n        return itemToMerge\n            ? { ...item, ...itemToMerge, active: true }\n            : {\n                  prop: item.prop,\n                  active: false,\n              };\n    });\n};\n", "import { getTweenFn } from '../tween/tween-config.js';\nimport { compareKeys, getRoundedValue } from '../utils/animation-utils.js';\nimport { setStagger } from '../utils/stagger/set-stagger.js';\nimport {\n    getStaggerFromProps,\n    getStaggerArray,\n} from '../utils/stagger/stagger-utils.js';\nimport {\n    updateSubScribers,\n    updateSubscribersCache,\n} from '../utils/callbacks/set-callback.js';\nimport { syncCallback } from '../utils/callbacks/sync-callback.js';\nimport {\n    compareKeysWarning,\n    staggerIsOutOfRangeWarning,\n    syncTimelineAddFnWarning,\n    syncTimelineAddTimeWarning,\n} from '../utils/warning.js';\nimport {\n    goToSyncUtils,\n    goFromSyncUtils,\n    goFromToSyncUtils,\n} from './sync-actions.js';\nimport {\n    durationIsValid,\n    easeIsValid,\n    initialDataPropValidate,\n    sequencerRangeValidate,\n} from '../utils/tween-action/tween-validation.js';\nimport { handleSetUp } from '../../setup.js';\nimport { MobCore } from '../../../mob-core/index.js';\nimport { directionConstant } from '../utils/timeline/timeline-constant.js';\nimport { getValueObj } from '../utils/tween-action/get-values.js';\nimport { STAGGER_DEFAULT_INDEX_OBJ } from '../utils/stagger/stagger-costant.js';\nimport { sequencerGetValusOnDraw } from './get-values-on-draw.js';\nimport { setPropFromAncestor } from './set-prop-from-ancestor.js';\nimport { insertNewRow } from './insert-new-row.js';\nimport { mergeNewValues } from './merge-new-values.js';\n\nexport default class MobSequencer {\n    /**\n     * Basic array with all the propierties, is created in setData methods in draw methods currentValue and settled will\n     * be updated for each prop\n     *\n     * It is used as a mock to create the array to add to the timeline\n     *\n     * @type {import('./type.js').SequencerValue[]}\n     */\n    #values;\n\n    /**\n     * Timeline array\n     *\n     * @type {import('./type.js').SequencerRow[]}\n     */\n    #timeline;\n\n    /**\n     * @type {import('./type.js').LabelType[]}\n     */\n    #labels;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackDefault}\n     */\n    #callback;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackCache}\n     */\n    #callbackCache;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackDefault}\n     */\n    #callbackOnStop;\n\n    /**\n     * @type {import('./type.js').AddType[]}\n     */\n    #callbackAdd;\n\n    /**\n     * @type {(() => void)[]}\n     */\n    #unsubscribeCache;\n\n    /**\n     * @type {number}\n     */\n    #duration;\n\n    /**\n     * @type {string}\n     */\n    #type;\n\n    /**\n     * @type {import('./type.js').SequencerDefault}\n     */\n    #defaultProp;\n\n    /**\n     * @type {boolean}\n     */\n    #firstRun;\n\n    /**\n     * @type {boolean}\n     */\n    #forceAddFnAtFirstRun;\n\n    /**\n     * @type {import('../utils/timeline/type.js').DirectionType}\n     */\n    #direction;\n\n    /**\n     * @type {number}\n     */\n    #lastPartial;\n\n    /**\n     * @type {import('../utils/stagger/type.js').StaggerObject}\n     */\n    #stagger;\n\n    /**\n     * @type {boolean}\n     */\n    #useStagger;\n\n    /**\n     * @type {boolean}\n     */\n    #staggerIsReady;\n\n    /**\n     * Available methods:\n     *\n     * ```javascript\n     * mySequencer.goTo();\n     * mySequencer.goFrom();\n     * mySequencer.goFromTo();\n     * mySequencer.add();\n     * mySequencer.label();\n     * mySequencer.subscribe();\n     * mySequencer.subscribeCache();\n     * mySequencer.onStop();\n     * ```\n     *\n     * @example\n     *     ```javascript\n     *     const mySequencer = new MobSequencer({\n     *       data: Object.<string, number>,\n     *       duration: [ Number ],\n     *       ease: [ String ],\n     *       stagger:{\n     *          each: [ Number ],\n     *          from: [ Number|String|{x:number,y:number} ],\n     *          grid: {\n     *              col: [ Number ],\n     *              row: [ Number ],\n     *              direction: [ String ]\n     *          },\n     *       },\n     *     })\n     *\n     *\n     *     ```;\n     *\n     * @param {import('./type.js').SequencerProps} data\n     */\n    constructor(data) {\n        this.#values = [];\n        this.#timeline = [];\n        this.#labels = [];\n        this.#callback = [];\n        this.#callbackCache = [];\n        this.#callbackOnStop = [];\n        this.#callbackAdd = [];\n        this.#unsubscribeCache = [];\n        this.#duration = durationIsValid(data?.duration);\n        this.#type = 'sequencer';\n        this.#defaultProp = {\n            start: 0,\n            end: this.#duration,\n            ease: easeIsValid(data?.ease),\n        };\n        this.#firstRun = true;\n        this.#forceAddFnAtFirstRun = true;\n        this.#direction = 'none';\n        this.#lastPartial = 0;\n        this.#stagger = getStaggerFromProps(data);\n        this.#useStagger = true;\n        this.#staggerIsReady = false;\n\n        /**\n         * Set initial store data if defined in constructor props If not use setData methods\n         */\n        const props = data?.data || null;\n        if (props) this.setData(props);\n    }\n\n    /**\n     * Inzialize stagger array\n     */\n    inzializeStagger() {\n        if (this.#staggerIsReady) return;\n\n        if (\n            this.#stagger.each > 0 &&\n            (this.#callbackCache.length > 0 || this.#callback.length > 0)\n        ) {\n            const cb = getStaggerArray(this.#callbackCache, this.#callback);\n\n            if (this.#stagger.grid.col > cb.length) {\n                staggerIsOutOfRangeWarning(cb.length);\n                return;\n            }\n\n            const { staggerArray, staggerArrayOnComplete } = setStagger({\n                arrayDefault: cb,\n                arrayOnStop: this.#callbackOnStop,\n                stagger: this.#stagger,\n                slowlestStagger: STAGGER_DEFAULT_INDEX_OBJ, //sequencer doesn't support fastestStagger\n                fastestStagger: STAGGER_DEFAULT_INDEX_OBJ, //sequencer doesn't support fastestStagger\n            });\n\n            if (this.#callbackCache.length > this.#callback.length) {\n                this.#callbackCache =\n                    /** @type {import('../utils/callbacks/type.js').CallbackCache} */ (\n                        staggerArray\n                    );\n            } else {\n                this.#callback =\n                    /** @type {import('../utils/callbacks/type.js').CallbackDefault} */ (\n                        staggerArray\n                    );\n            }\n\n            this.#callbackOnStop = staggerArrayOnComplete;\n        }\n\n        this.#staggerIsReady = true;\n    }\n\n    /**\n     * @example\n     *     ```javascript\n     *     mySequencer.draw(\n     *          partial: 200,\n     *          isLastDraw: true,\n     *          useFrame: false,\n     *          direction: ('backward'|'forward'|'none')\n     *     );\n     *\n     *\n     *     ```;\n     *\n     * @param {object} obj\n     * @param {number} obj.partial\n     * @param {boolean} obj.isLastDraw\n     * @param {boolean} obj.useFrame\n     * @param {import('../utils/timeline/type.js').DirectionType} [obj.direction]\n     */\n    draw({\n        partial = 0,\n        isLastDraw = false,\n        useFrame = false,\n        direction = directionConstant.NONE,\n    }) {\n        if (useFrame) {\n            this.#onDraw({\n                partial,\n                isLastDraw,\n                direction,\n            });\n            return;\n        }\n\n        MobCore.useNextTick(() =>\n            this.#onDraw({\n                partial,\n                isLastDraw,\n                direction,\n            })\n        );\n    }\n\n    /**\n     * @param {object} obj\n     * @param {number} obj.partial\n     * @param {boolean} obj.isLastDraw\n     * @param {import('../utils/timeline/type.js').DirectionType} [obj.direction]\n     */\n    #onDraw({\n        partial = 0,\n        isLastDraw = false,\n        direction = directionConstant.NONE,\n    }) {\n        /*\n         * First time run or after reset lasValue\n         * all the last value is null so get the current value\n         */\n        if (this.#firstRun) {\n            this.#lastPartial = partial;\n            this.#actionAtFirstRender(partial);\n        }\n\n        /**\n         * Inside a timeline the direction is controlled by timeline and pass the value because timeline know the loop\n         * state and direction is stable Inside a parallax we have a fallback, but we don't have a loop\n         *\n         * On first run check is jumped\n         */\n        if (\n            !this.#firstRun &&\n            this.#lastPartial &&\n            (!direction || direction === directionConstant.NONE)\n        ) {\n            this.#direction =\n                partial >= this.#lastPartial\n                    ? directionConstant.FORWARD\n                    : directionConstant.BACKWARD;\n        }\n\n        if (\n            !this.#firstRun &&\n            (direction === directionConstant.BACKWARD ||\n                direction === directionConstant.FORWARD)\n        ) {\n            this.#direction = direction;\n        }\n\n        /**\n         * Reset settled status\n         */\n        this.#values = [...this.#values].map((item) => {\n            return {\n                ...item,\n                settled: false,\n            };\n        });\n\n        /**\n         * Get new values\n         */\n        this.#values = sequencerGetValusOnDraw({\n            timeline: this.#timeline,\n            valuesState: this.#values,\n            partial,\n        });\n\n        const callBackObject = getValueObj(this.#values, 'currentValue');\n\n        syncCallback({\n            each: this.#stagger.each,\n            useStagger: this.#useStagger,\n            isLastDraw,\n            callBackObject,\n            callback: this.#callback,\n            callbackCache: this.#callbackCache,\n            callbackOnStop: this.#callbackOnStop,\n        });\n\n        this.#fireAddCallBack(partial);\n\n        this.#useStagger = true;\n        this.#lastPartial = partial;\n        this.#firstRun = false;\n    }\n\n    /**\n     * Methods call by syncTimeline, everty time user use play, playFrom etc.. or loop end. Reset the data that control\n     * add callback to have a new clean state\n     */\n    resetLastValue() {\n        this.#firstRun = true;\n        this.#lastPartial = 0;\n    }\n\n    /**\n     * Fire addCallback first time without check the previous position. because first time we can start from any\n     * position and we doesn't a have previous position So we fire the callback once To skip this callback, check\n     * isForce prop in callback\n     *\n     * @property {number} [time=0] Default is `0`\n     */\n    #actionAtFirstRender(time = 0) {\n        if (!this.#forceAddFnAtFirstRun) return;\n\n        this.#callbackAdd.forEach(({ fn, time: fnTime }) => {\n            const mustFireForward = {\n                shouldFire: time >= fnTime,\n                direction: directionConstant.FORWARD,\n            };\n\n            const mustFireBackward = {\n                shouldFire: time <= fnTime,\n                direction: directionConstant.BACKWARD,\n            };\n\n            const mustFire =\n                mustFireForward.shouldFire || mustFireBackward.shouldFire;\n\n            if (!mustFire) return;\n\n            const direction = mustFireForward.shouldFire\n                ? mustFireForward.direction\n                : mustFireBackward.direction;\n\n            fn({ direction, value: time, isForced: true });\n        });\n\n        this.#forceAddFnAtFirstRun = false;\n    }\n\n    /**\n     * Fire callBack at specific time\n     *\n     * @property {number} [time=0] Default is `0`\n     */\n    #fireAddCallBack(time = 0) {\n        this.#callbackAdd.forEach(({ fn, time: fnTime }) => {\n            /*\n             * In forward mode current time must be greater or equal than fn time\n             * and the last current time must be minor than fn time to prevent\n             * the the fn is fired before fn time is reached\n             */\n            const mustFireForward =\n                this.#direction === directionConstant.FORWARD &&\n                time > fnTime &&\n                this.#lastPartial <= fnTime;\n\n            /*\n             * In backward mode current time must be minor or equal than fn time\n             * and the last current time must be greater than fn time to prevent\n             * the the fn is fired before fn time is reached\n             * time and fnTime cannot be the same, because fnTime\n             * is equal max duration of timeline/parallax the previous value\n             * can be equal max duration, so we avoid double firing of fn\n             */\n            const mustFireBackward =\n                this.#direction === directionConstant.BACKWARD &&\n                time < fnTime &&\n                this.#lastPartial >= fnTime;\n\n            // const mustFire =\n            //     (mustFireForward || mustFireBackward) && shouldFired;\n            const mustFire = mustFireForward || mustFireBackward;\n            if (!mustFire) return;\n\n            fn({ direction: this.#direction, value: time, isForced: false });\n        });\n    }\n\n    /**\n     * Set factor between timeline duration and sequencer getDuration So start and end propierties will be proportionate\n     * to the duration of the timeline This methods is called by SyncTimeline\n     *\n     * @type {import('./type.js').CequencerSetStretchFacor}\n     */\n    setStretchFactor(duration = 0) {\n        const stretchFactor = duration / this.#duration;\n\n        this.#timeline = [...this.#timeline].map((item) => {\n            const { start, end } = item;\n\n            return {\n                ...item,\n                start: getRoundedValue(start * stretchFactor),\n                end: getRoundedValue(end * stretchFactor),\n            };\n        });\n\n        this.#labels = [...this.#labels].map((item) => {\n            const { time } = item;\n\n            return {\n                ...item,\n                time: getRoundedValue(time * stretchFactor),\n            };\n        });\n\n        this.#callbackAdd = [...this.#callbackAdd].map((item) => {\n            const { time } = item;\n\n            return {\n                ...item,\n                time: getRoundedValue(time * stretchFactor),\n            };\n        });\n    }\n\n    /**\n     * @type {import('./type.js').SequencerSetData}\n     */\n    setData(obj = {}) {\n        this.#values = Object.entries(obj).map((item) => {\n            const [prop, value] = item;\n            const isValid = initialDataPropValidate(prop, value);\n            const valueSanitized = isValid ? value : 0;\n\n            return {\n                prop: isValid ? prop : 'invalidProp',\n                toValue: valueSanitized,\n                fromValue: valueSanitized,\n                currentValue: valueSanitized,\n                active: false,\n                settled: false,\n                ease: getTweenFn(handleSetUp.get('sequencer').ease),\n            };\n        });\n\n        /**\n         * First time add a set with initial data. We create a value for ancestor/reduce mechenism This row has priority\n         * 0, so we are sure that is the first row of timeline array.\n         */\n        this.goTo(obj, { start: 0, end: 0 });\n        return this;\n    }\n\n    /**\n     * Transform some properties of your choice from the `current value` to the `entered value`, the transformation will\n     * start from the value associated with start and will end in the value associated with end. The target value can be\n     * a number or a function that returns a number, when using a function the target value will become dynamic and will\n     * change in real time as the result of the function changes It is possible to associate an easing to the\n     * transformation, this easing will be applied only in this transformation.\n     *\n     * @example\n     *     ```javascript\n     *     mySequencer.goTo(\n     *         { string: number|function, ... },\n     *         { start: number, end: number, ease: string }\n     *     );\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SequencerGoTo}\n     */\n    goTo(obj, props) {\n        const propMerged = { ...this.#defaultProp, ...props };\n        const { start, end, ease } = propMerged;\n\n        if (!sequencerRangeValidate({ start, end })) return this;\n\n        const data = goToSyncUtils(obj, ease);\n        const newValues = mergeNewValues({ data, values: this.#values });\n        const activeProp = Object.keys(obj);\n\n        /**\n         * Update timeline and order by start value and priority.\n         */\n        const newTimeline = insertNewRow({\n            timeline: this.#timeline,\n            values: newValues,\n            start,\n            end,\n            duration: this.#duration,\n            propToFind: 'fromValue',\n        });\n\n        /**\n         * Update to formValue with fist usable formValue in previous row.is\n         */\n        this.#timeline = setPropFromAncestor({\n            timeline: newTimeline,\n            activeProp,\n        });\n\n        return this;\n    }\n\n    /**\n     * Transform some properties of your choice from the `entered value` to the `current value`, the transformation will\n     * start from the value associated with start and will end in the value associated with end. The target value can be\n     * a number or a function that returns a number, when using a function the target value will become dynamic and will\n     * change in real time as the result of the function changes It is possible to associate an easing to the\n     * transformation, this easing will be applied only in this transformation.\n     *\n     * @example\n     *     ```javascript\n     *     mySequencer.goFrom(\n     *         { string: number|function, ... },\n     *         { start: number, end: number, ease: string }\n     *     );\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SequencerGoFrom} obj To values\n     */\n    goFrom(obj, props) {\n        const propMerged = { ...this.#defaultProp, ...props };\n        const { start, end, ease } = propMerged;\n\n        if (!sequencerRangeValidate({ start, end })) return this;\n\n        const data = goFromSyncUtils(obj, ease);\n        const newValues = mergeNewValues({ data, values: this.#values });\n        const activeProp = Object.keys(obj);\n\n        /**\n         * Update timeline and order by start value and priority.\n         */\n        const newTimeline = insertNewRow({\n            timeline: this.#timeline,\n            values: newValues,\n            start,\n            end,\n            duration: this.#duration,\n            propToFind: 'toValue',\n        });\n\n        /**\n         * Update to formValue with fist usable formValue in previous row.is\n         */\n        this.#timeline = setPropFromAncestor({\n            timeline: newTimeline,\n            activeProp,\n        });\n\n        return this;\n    }\n\n    /**\n     * Transform some properties of your choice from the `first entered value` to the `second entered value`, the\n     * transformation will start from the value associated with start and will end in the value associated with end. The\n     * target value can be a number or a function that returns a number, when using a function the target value will\n     * become dynamic and will change in real time as the result of the function changes It is possible to associate an\n     * easing to the transformation, this easing will be applied only in this transformation.\n     *\n     * @example\n     *     ```javascript\n     *     mySequencer.goFromTo(\n     *         { string: number|function, ... },\n     *         { string: number|function, ... },\n     *         { start: number, end: number, ease: string }\n     *     );\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SequencerGoFromTo}\n     */\n    goFromTo(fromObj, toObj, props) {\n        const propMerged = { ...this.#defaultProp, ...props };\n        const { start, end, ease } = propMerged;\n\n        if (!sequencerRangeValidate({ start, end })) return this;\n\n        if (!compareKeys(fromObj, toObj)) {\n            compareKeysWarning('sequencer goFromTo:', fromObj, toObj);\n            return this;\n        }\n\n        const data = goFromToSyncUtils(fromObj, toObj, ease);\n        const newValues = mergeNewValues({ data, values: this.#values });\n\n        /**\n         * Update timeline and order by start value and priority.\n         */\n        this.#timeline = insertNewRow({\n            timeline: this.#timeline,\n            values: newValues,\n            start,\n            end,\n            duration: this.#duration,\n            propToFind: '',\n        });\n\n        return this;\n    }\n\n    /**\n     * Adds a label associated with a specific step in a range between 0 and duration (default: 10). Both syncTimeline\n     * and scrollTrigger will take care of processing the value as needed\n     *\n     * @example\n     *     ```javascript\n     *     mySequencer.label('mylabel',5);\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SequencerLabel}\n     */\n    label(name = '', time = 0) {\n        this.#labels.push({ name, time });\n        return this;\n    }\n\n    /**\n     * Return the array of entered labels\n     *\n     * @type {import('./type.js').SequencerGetLabels}\n     */\n    getLabels() {\n        return this.#labels;\n    }\n\n    /**\n     * Fire a function at a step in a range greater the 0 and minor duration. Both syncTimeline and scrollTrigger will\n     * take care of processing the value as needed.\n     *\n     * To interpect both end ( 0 and duration ) use the syncTimeline/scrollTrigger built in function:\n     *\n     * @type {import('./type.js').SequencerAdd}\n     */\n    add(fn = () => {}, time = 0) {\n        const fnIsValid = MobCore.checkType(Function, fn);\n        const timeIsValid = MobCore.checkType(Number, time);\n        const addIsValid = fnIsValid && timeIsValid;\n\n        if (!fnIsValid) syncTimelineAddFnWarning(fn);\n        if (!timeIsValid) syncTimelineAddTimeWarning(time);\n        if (!addIsValid) return this;\n\n        this.#callbackAdd.push({ fn, time });\n        return this;\n    }\n\n    /**\n     * Callback that returns updated values ready to be usable, it is advisable to use it for single elements, although\n     * it works well on a not too large number of elements (approximately 100-200 elements) for large staggers it is\n     * advisable to use the subscribeCache method.\n     *\n     * @type {import('./type.js').SequencerSubscribe}\n     */\n    subscribe(cb = () => {}) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = updateSubScribers(\n            cb,\n            this.#callback\n        );\n        this.#callback = arrayOfCallbackUpdated;\n\n        return () => (this.#callback = unsubscribeCb(this.#callback));\n    }\n\n    /**\n     * Similar to subscribe this callBack is launched when the data calculation stops (when the timeline ends or the\n     * scroll trigger is inactive). Useful for applying a different style to an inactive element. A typical example is\n     * to remove the teansform3D property:\n     *\n     * @type {import('./type.js').SequencerOnStop}\n     */\n    onStop(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = updateSubScribers(\n            cb,\n            this.#callbackOnStop\n        );\n        this.#callbackOnStop = arrayOfCallbackUpdated;\n\n        return () =>\n            (this.#callbackOnStop = unsubscribeCb(this.#callbackOnStop));\n    }\n\n    /**\n     * Callback that returns updated values ready to be usable, specific to manage large staggers.\n     *\n     * @type {import('./type.js').SequencerSubscribeCache}\n     */\n    subscribeCache(item, fn = () => {}) {\n        const { arrayOfCallbackUpdated, unsubscribeCb, unsubscribeCache } =\n            updateSubscribersCache(\n                item,\n                fn,\n                this.#callbackCache,\n                this.#unsubscribeCache\n            );\n\n        this.#callbackCache = arrayOfCallbackUpdated;\n        this.#unsubscribeCache = unsubscribeCache;\n        return () => (this.#callbackCache = unsubscribeCb(this.#callbackCache));\n    }\n\n    /**\n     * Get duration\n     *\n     * @type {import('./type.js').SequencerGetDuration}\n     */\n    getDuration() {\n        return this.#duration;\n    }\n\n    /**\n     * Set duration\n     *\n     * @type {import('./type.js').SequencerSetDuration}\n     */\n    setDuration(val = 0) {\n        this.#duration = val;\n    }\n\n    /**\n     * Get tween type - 'sequencer'\n     *\n     * @type {import('./type.js').SequencerGetType}\n     */\n    getType() {\n        return this.#type;\n    }\n\n    /**\n     * Removes all references of staggers not yet started by the handleCache function, method used by HandleSyncTimeline\n     * when it is stopped\n     */\n    cleanCachedId() {\n        this.#callbackCache.forEach(({ cb }) => MobCore.useCache.clean(cb));\n    }\n\n    /**\n     * Disable stagger for one run\n     */\n    disableStagger() {\n        this.#useStagger = false;\n    }\n\n    /**\n     * Destroy sequencer\n     *\n     * @type {() => void}\n     */\n    destroy() {\n        this.#values = [];\n        this.#timeline = [];\n        this.#callback = [];\n        this.#callbackCache = [];\n        this.#callbackOnStop = [];\n        this.#callbackAdd = [];\n        this.#unsubscribeCache.forEach((unsubscribe) => unsubscribe());\n        this.#unsubscribeCache = [];\n    }\n}\n\n// Timeline array example:\n// [\n//     {\n//         \"values\": [\n//             {\n//                   \"prop\": \"x\",\n//                   \"active\": false\n//              },\n//              {\n//                   \"prop\": \"y\",\n//                   \"toValue\": 0,\n//                   \"fromValue\": -100,\n//                   \"currentValue\": -100,\n//                   \"active\": true,\n//                   \"settled\": false\n//              },\n//              ...\n//         ],\n//         \"start\": 0,\n//         \"end\": 3\n//     },\n//     {\n//         \"values\": [\n//             ...\n//         ],\n//         \"start\": 7,\n//         \"end\": 10\n//     }\n// ]\n", "import { getRoundedValue } from '../utils/animation-utils';\n\n/**\n * @param {Object} param\n * @param {import('./type').SpringValues[]} param.values\n * @param {number} param.tension\n * @param {number} param.friction\n * @param {number} param.mass\n * @param {number} param.precision\n * @param {number} param.fps\n * @returns {import('./type').SpringValues[]}\n */\nexport const springGetValuesOndraw = ({\n    values,\n    tension,\n    friction,\n    mass,\n    precision,\n    fps,\n}) => {\n    return values.map((item) => {\n        const { currentValue, toValue, velocity } = item;\n        const tensionForce = -tension * (currentValue - toValue);\n        const dampingForce = -friction * velocity;\n        const acceleration = (tensionForce + dampingForce) / mass;\n\n        // New values.\n        const newVelocity = velocity + (acceleration * 1) / fps;\n        const rawCurrentValue = currentValue + (newVelocity * 1) / fps;\n        const newCurrentValue = getRoundedValue(rawCurrentValue);\n\n        const isVelocity = Math.abs(newVelocity) <= 0.1;\n        const isDisplacement =\n            tension === 0\n                ? true\n                : Math.abs(toValue - newCurrentValue) <= precision;\n\n        const settled = isVelocity && isDisplacement;\n\n        if (settled) {\n            return {\n                ...item,\n                currentValue: toValue,\n                velocity: newVelocity,\n                settled: true,\n            };\n        }\n\n        return {\n            ...item,\n            currentValue: newCurrentValue,\n            velocity: newVelocity,\n            settled: false,\n        };\n    });\n};\n", "import { compareKeys } from '../utils/animation-utils.js';\nimport {\n    setFromByCurrent,\n    setFromCurrentByTo,\n    setFromToByCurrent,\n    setReverseValues,\n    setRelative,\n} from '../utils/tween-action/set-values.js';\nimport { mergeDeep } from '../../utils/merge-deep.js';\nimport { setStagger } from '../utils/stagger/set-stagger.js';\nimport { STAGGER_DEFAULT_INDEX_OBJ } from '../utils/stagger/stagger-costant.js';\nimport {\n    getStaggerFromProps,\n    getStaggerArray,\n} from '../utils/stagger/stagger-utils.js';\nimport {\n    defaultCallbackOnComplete,\n    defaultCallback,\n} from '../utils/callbacks/default-callback.js';\nimport {\n    updateSubScribers,\n    updateSubscribersCache,\n} from '../utils/callbacks/set-callback.js';\nimport {\n    parseGoToObject,\n    parseGoFromObject,\n    parseGoFromToObject,\n    parseSetObject,\n} from '../utils/tween-action/actions.js';\nimport { initRaf } from '../utils/init-raf.js';\nimport {\n    compareKeysWarning,\n    staggerIsOutOfRangeWarning,\n} from '../utils/warning.js';\nimport { fpsLoadedLog } from '../utils/fps-log-inizialization.js';\nimport {\n    relativeIsValid,\n    springConfigIsValid,\n    springConfigIsValidAndGetNew,\n    springConfigPropIsValid,\n    valueIsBooleanAndTrue,\n} from '../utils/tween-action/tween-validation.js';\nimport { handleSetUp } from '../../setup.js';\nimport { MobCore } from '../../../mob-core/index.js';\nimport { shouldInizializzeStagger } from '../utils/stagger/should-inizialize.js';\nimport { resume } from '../utils/resume-tween.js';\nimport {\n    getValueObj,\n    getValueObjFromNative,\n    getValueObjToNative,\n} from '../utils/tween-action/get-values.js';\nimport { mergeArray } from '../utils/tween-action/merge-array.js';\nimport { springGetValuesOndraw } from './get-values-on-draw.js';\nimport { springPresetConfig } from './spring-config.js';\n\nexport default class MobSpring {\n    /**\n     * @type {import('../utils/stagger/type.js').StaggerObject}\n     */\n    #stagger;\n\n    /**\n     * @type {boolean}\n     */\n    #relative;\n\n    /**\n     * @type {import('./type.js').SpringProps}\n     *\n     *   This value lives from user call ( goTo etc..) until next call\n     */\n    #configProps;\n\n    /**\n     * @type {string}\n     */\n    #uniqueId;\n\n    /**\n     * @type {boolean}\n     */\n    #isRunning;\n\n    /**\n     * @type{((value:any) => void)|undefined }\n     */\n    #currentResolve;\n\n    /**\n     * @type{((value:any) => void)|undefined }\n     */\n    #currentReject;\n\n    /**\n     * @type {Promise<void> | undefined}\n     */\n    #currentPromise;\n\n    /**\n     * @type {import('./type.js').SpringValues[] | []}\n     */\n    #values;\n\n    /**\n     * @type {import('./type.js').SpringInitialData[]}\n     */\n    #initialData;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackDefault}\n     */\n    #callback;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackCache}\n     */\n    #callbackCache;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackDefault}\n     */\n    #callbackOnComplete;\n\n    /**\n     * @type {{ cb: () => boolean }[]}\n     */\n    #callbackStartInPause;\n\n    /**\n     * @type {(() => void)[]}\n     */\n    #unsubscribeCache;\n\n    /**\n     * @type {boolean}\n     */\n    #pauseStatus;\n\n    /**\n     * @type {boolean}\n     */\n    #firstRun;\n\n    /**\n     * @type {boolean}\n     */\n    #useStagger;\n\n    /**\n     * @type {boolean}\n     */\n    #fpsInLoading;\n\n    /**\n     * This value is the base value merged with new value in custom prop passed form user in goTo etc..\n     *\n     * @type {import('./type.js').SpringDefault}\n     */\n    #defaultProps;\n\n    /**\n     * @type {import('../utils/stagger/type.js').StaggerFrameIndexObject}\n     */\n    #slowlestStagger;\n\n    /**\n     * @type {import('../utils/stagger/type.js').StaggerFrameIndexObject}\n     */\n    #fastestStagger;\n\n    /**\n     * Available methods:\n     *\n     * ```javascript\n     * mySpring.set();\n     * mySpring.goTo();\n     * mySpring.goFrom();\n     * mySpring.goFromTo();\n     * mySpring.subscribe();\n     * mySpring.subscribeCache();\n     * mySpring.onComplete();\n     * mySpring.updateConfigProp();\n     * mySpring.updateConfig();\n     * mySpring.getId();\n     * mySpring.get();\n     * mySpring.getTo();\n     * mySpring.getFrom();\n     * mySpring.getToNativeType();\n     * mySpring.getFromNativeType();\n     * ```\n     *\n     * @example\n     *     ```javascript\n     *     const mySpring = new HandleSpring({\n     *       data: Object.<string, number>,\n     *       config: String,\n     *       configProps: {\n     *          tension: Number,\n     *          mass: Number,\n     *          friction: Number,\n     *          velocity: Number,\n     *          precision: Number,\n     *       },\n     *       relative: Boolean\n     *       stagger:{\n     *          each: Number,\n     *          from: Number|String|{x:number,y:number},\n     *          grid: {\n     *              col: Number,\n     *              row: Number,\n     *              direction: String,\n     *          },\n     *          waitComplete: Boolean,\n     *       },\n     *     })\n     *\n     *\n     *     ```;\n     *\n     * @param {import('./type.js').SpringTweenProps} [data]\n     */\n    constructor(data) {\n        this.#stagger = getStaggerFromProps(data ?? {});\n        this.#relative = relativeIsValid(data?.relative, 'spring');\n        this.#configProps = springConfigIsValidAndGetNew(data?.config);\n        this.updateConfigProp(data?.configProps ?? {});\n        this.#uniqueId = MobCore.getUnivoqueId();\n        this.#isRunning = false;\n        this.#currentResolve = undefined;\n        this.#currentReject = undefined;\n        this.#currentPromise = undefined;\n        this.#values = [];\n        this.#initialData = [];\n        this.#callback = [];\n        this.#callbackCache = [];\n        this.#callbackOnComplete = [];\n        this.#callbackStartInPause = [];\n        this.#unsubscribeCache = [];\n        this.#pauseStatus = false;\n        this.#firstRun = true;\n        this.#useStagger = true;\n        this.#fpsInLoading = false;\n        this.#defaultProps = {\n            reverse: false,\n            configProps: this.#configProps,\n            relative: this.#relative,\n            immediate: false,\n        };\n        this.#slowlestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n        this.#fastestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n\n        /**\n         * @private Set Initial store data if defined in constructor props If not use setData methods\n         */\n        const props = data?.data;\n        if (props) this.setData(props);\n    }\n\n    /**\n     * @param {number} _time\n     * @param {number} fps\n     * @param {number} tension\n     * @param {number} friction\n     * @param {number} mass\n     * @param {number} precision\n     * @returns {void}\n     */\n    #draw(_time, fps, tension, friction, mass, precision) {\n        this.#isRunning = true;\n\n        this.#values = springGetValuesOndraw({\n            values: this.#values,\n            tension,\n            friction,\n            mass,\n            precision,\n            fps,\n        });\n\n        /**\n         * Prepare an obj to pass to the callback\n         */\n        const callBackObject = getValueObj(this.#values, 'currentValue');\n\n        defaultCallback({\n            stagger: this.#stagger,\n            callback: this.#callback,\n            callbackCache: this.#callbackCache,\n            callBackObject: callBackObject,\n            useStagger: this.#useStagger,\n        });\n\n        /**\n         * Check if all values is completed\n         */\n        const allSettled = this.#values.every((item) => item.settled === true);\n\n        if (allSettled) {\n            const onComplete = () => {\n                this.#isRunning = false;\n\n                /**\n                 * End of animation Set fromValue with ended value At the next call fromValue become the start value\n                 */\n                this.#values = [...this.#values].map((item) => {\n                    return {\n                        ...item,\n                        fromValue: item.toValue,\n                    };\n                });\n\n                /**\n                 * On complete\n                 */\n                if (!this.#pauseStatus && this.#currentResolve) {\n                    this.#currentResolve(true);\n\n                    /**\n                     * Set promise reference to null once resolved\n                     */\n                    this.#currentPromise = undefined;\n                    this.#currentReject = undefined;\n                    this.#currentResolve = undefined;\n                }\n            };\n\n            /**\n             * Prepare an obj to pass to the callback with rounded value ( end user value)\n             */\n            const cbObjectSettled = getValueObj(this.#values, 'toValue');\n\n            defaultCallbackOnComplete({\n                onComplete,\n                callback: this.#callback,\n                callbackCache: this.#callbackCache,\n                callbackOnComplete: this.#callbackOnComplete,\n                callBackObject: cbObjectSettled,\n                stagger: this.#stagger,\n                slowlestStagger: this.#slowlestStagger,\n                fastestStagger: this.#fastestStagger,\n                useStagger: this.#useStagger,\n            });\n\n            return;\n        }\n\n        MobCore.useFrame(() => {\n            MobCore.useNextTick(({ time, fps }) => {\n                if (this.#isRunning)\n                    this.#draw(time, fps, tension, friction, mass, precision);\n            });\n        });\n    }\n\n    /**\n     * @param {number} time Current global time\n     * @param {number} fps Current FPS\n     */\n    #onReuqestAnim(time, fps) {\n        this.#values = [...this.#values].map((item) => {\n            return {\n                ...item,\n                velocity: Math.trunc(this.#configProps.velocity),\n            };\n        });\n\n        /**\n         * Normalize spring config props\n         */\n        const tension = this.#configProps.tension;\n        const friction = this.#configProps.friction;\n        const mass = Math.max(1, this.#configProps.mass);\n        const precision = this.#configProps.precision;\n\n        this.#draw(time, fps, tension, friction, mass, precision);\n    }\n\n    /**\n     * Inzialize stagger array\n     *\n     * @returns {Promise<any>}\n     */\n    async #inzializeStagger() {\n        /**\n         * First time il there is a stagger load fps then go next step next time no need to calculate stagger and jump\n         * directly next step\n         */\n        if (\n            shouldInizializzeStagger(\n                this.#stagger.each,\n                this.#firstRun,\n                this.#callbackCache,\n                this.#callback\n            )\n        ) {\n            const { averageFPS } = await MobCore.useFps();\n\n            fpsLoadedLog('spring', averageFPS);\n            const cb = getStaggerArray(this.#callbackCache, this.#callback);\n\n            if (this.#stagger.grid.col > cb.length) {\n                staggerIsOutOfRangeWarning(cb.length);\n                this.#firstRun = false;\n                return;\n            }\n\n            const {\n                staggerArray,\n                staggerArrayOnComplete,\n                fastestStagger,\n                slowlestStagger,\n            } = setStagger({\n                arrayDefault: cb,\n                arrayOnStop: this.#callbackOnComplete,\n                stagger: this.#stagger,\n                slowlestStagger: this.#slowlestStagger,\n                fastestStagger: this.#fastestStagger,\n            });\n\n            if (this.#callbackCache.length > this.#callback.length) {\n                this.#callbackCache =\n                    /** @type {import('../utils/callbacks/type.js').CallbackCache} */ (\n                        staggerArray\n                    );\n            } else {\n                this.#callback =\n                    /** @type {import('../utils/callbacks/type.js').CallbackDefault} */ (\n                        staggerArray\n                    );\n            }\n\n            this.#callbackOnComplete = staggerArrayOnComplete;\n            this.#slowlestStagger = slowlestStagger;\n            this.#fastestStagger = fastestStagger;\n            this.#firstRun = false;\n        }\n\n        return { ready: true };\n    }\n\n    /**\n     * @param {(value: any) => void} resolve\n     * @param {(value: any) => void} reject\n     * @returns {Promise<any>}\n     */\n    async #startRaf(resolve, reject) {\n        if (this.#fpsInLoading) return;\n        this.#currentResolve = resolve;\n        this.#currentReject = reject;\n\n        if (this.#firstRun) {\n            this.#fpsInLoading = true;\n            await this.#inzializeStagger();\n            this.#fpsInLoading = false;\n        }\n\n        initRaf(\n            this.#callbackStartInPause,\n            (time, fps) => this.#onReuqestAnim(time, fps),\n            () => this.pause()\n        );\n    }\n\n    /**\n     * CAUTION. Use by asyncTimeline. If inside group with waitComplete: false the tween is not resolved and another\n     * step call the tween no new promise is created. Fire reject if there is one and set isRunning false. Next draw\n     * isRunning back to true\n     *\n     * @returns {void}\n     */\n    clearCurretPromise() {\n        if (this.#currentReject) {\n            this.#currentReject(MobCore.ANIMATION_STOP_REJECT);\n            this.#currentPromise = undefined;\n            this.#currentReject = undefined;\n            this.#currentResolve = undefined;\n            this.#isRunning = false;\n        }\n    }\n\n    /**\n     * @type {import('./type.js').SpringStop}\n     */\n    stop({ clearCache = true, updateValues = true } = {}) {\n        if (this.#pauseStatus) this.#pauseStatus = false;\n        if (updateValues) this.#values = setFromToByCurrent(this.#values);\n\n        /**\n         * Clear stagger cache if needed.\n         */\n        if (clearCache)\n            this.#callbackCache.forEach(({ cb }) => MobCore.useCache.clean(cb));\n\n        // Reject promise\n        if (this.#currentReject) {\n            this.#currentReject(MobCore.ANIMATION_STOP_REJECT);\n            this.#currentPromise = undefined;\n            this.#currentReject = undefined;\n            this.#currentResolve = undefined;\n        }\n\n        this.#isRunning = false;\n    }\n\n    /**\n     * @type {import('./type.js').SpringPause}\n     */\n    pause() {\n        if (this.#pauseStatus) return;\n        this.#pauseStatus = true;\n        this.#isRunning = false;\n        this.#values = setFromByCurrent(this.#values);\n    }\n\n    /**\n     * @type {import('./type.js').SpringResume}\n     */\n    resume() {\n        if (!this.#pauseStatus) return;\n        this.#pauseStatus = false;\n\n        if (!this.#isRunning && this.#currentResolve) {\n            resume((time, fps) => this.#onReuqestAnim(time, fps));\n        }\n    }\n\n    /**\n     * Set initial data structure, the method is call by data prop in constructor. In case of need it can be called\n     * after creating the instance\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     mySpring.setData({ val: 100 });\n     *     ```;\n     *\n     * @type {import('../../utils/type.js').SetData} obj Initial data structure\n     */\n    setData(obj) {\n        this.#values = Object.entries(obj).map((item) => {\n            const [prop, value] = item;\n            return {\n                prop: prop,\n                toValue: value,\n                fromValue: value,\n                velocity: this.#configProps.velocity,\n                currentValue: value,\n                fromFn: () => 0,\n                fromIsFn: false,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false,\n            };\n        });\n\n        this.#initialData = this.#values.map((item) => {\n            return {\n                prop: item.prop,\n                toValue: item.toValue,\n                fromValue: item.fromValue,\n                currentValue: item.currentValue,\n                fromFn: () => 0,\n                fromIsFn: false,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false,\n            };\n        });\n    }\n\n    /**\n     * @type {import('./type.js').SpringResetData}\n     */\n    resetData() {\n        this.#values = mergeDeep(this.#values, this.#initialData);\n    }\n\n    /**\n     * Merge special props with default props\n     *\n     * @type {import('./type.js').SpringMergeProps}\n     */\n    #mergeProps(props) {\n        const springParams = handleSetUp.get('spring');\n\n        /**\n         * Step 1 Get news confic props ( mass, friction etc... ) Get props from new config ( wobble etc.. ) or get each\n         * default prop.\n         *\n         * @type {import('./type.js').SpringPresentConfigType}\n         */\n        const allPresetConfig = springParams.config;\n        const configPreset = springConfigIsValid(props?.config)\n            ? (allPresetConfig?.[props?.config ?? 'default'] ??\n              springPresetConfig.default)\n            : this.#defaultProps.configProps;\n\n        /*\n         * Step 2\n         * Modify previuos confic ( newConfigPreset ) single value ( mass ... )\n         * Merge single prop or {}\n         */\n        const configPropsToMerge = springConfigPropIsValid(props?.configProps);\n        const configProps = {\n            ...configPreset,\n            ...configPropsToMerge,\n        };\n\n        /*\n         * Current config for spring for current cycle.\n         */\n        const newProps = {\n            reverse: props?.reverse ?? this.#defaultProps.reverse,\n            relative: props?.relative ?? this.#defaultProps.relative,\n            immediate: props?.immediate ?? this.#defaultProps.immediate,\n            configProps,\n        };\n\n        const { relative } = newProps;\n\n        /**\n         * Current spring config used in current cycle. Current relative value used in current cycle.\n         */\n        this.#configProps = configProps;\n        this.#relative = relative;\n\n        return newProps;\n    }\n\n    /**\n     * @type {import('../../utils/type.js').GoTo<import('./type.js').SpringActions>} obj To Values\n     */\n    goTo(toObject, specialProps = {}) {\n        if (this.#pauseStatus) return new Promise((resolve) => resolve);\n\n        this.#useStagger = true;\n        const toObjectParsed = parseGoToObject(toObject);\n        return this.#doAction(toObjectParsed, toObject, specialProps);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').GoFrom<import('./type.js').SpringActions>} obj To Values\n     */\n    goFrom(fromObject, spacialProps = {}) {\n        if (this.#pauseStatus) return new Promise((resolve) => resolve);\n\n        this.#useStagger = true;\n        const fromObjectParsed = parseGoFromObject(fromObject);\n        return this.#doAction(fromObjectParsed, fromObject, spacialProps);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').GoFromTo<import('./type.js').SpringActions>} obj To Values\n     */\n    goFromTo(fromObject, toObject, specialProps = {}) {\n        if (this.#pauseStatus) return new Promise((resolve) => resolve);\n        this.#useStagger = true;\n\n        // Check if fromObj has the same keys of toObj\n        if (!compareKeys(fromObject, toObject)) {\n            compareKeysWarning('spring goFromTo:', fromObject, toObject);\n            return new Promise((resolve) => resolve);\n        }\n\n        const objectParsed = parseGoFromToObject(fromObject, toObject);\n        return this.#doAction(objectParsed, fromObject, specialProps);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').Set<import('./type.js').SpringActions>} obj To Values\n     */\n    set(setObject, specialProps = {}) {\n        if (this.#pauseStatus) return new Promise((resolve) => resolve);\n\n        this.#useStagger = false;\n        const setObjectParsed = parseSetObject(setObject);\n        return this.#doAction(setObjectParsed, setObject, specialProps);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').SetImmediate<import('./type.js').SpringActions>} obj To Values\n     */\n    setImmediate(setObject, specialProps = {}) {\n        // this.#value is updated below\n        if (this.#isRunning) this.stop({ updateValues: false });\n        if (this.#pauseStatus) return;\n\n        this.#useStagger = false;\n        const setObjectParsed = parseSetObject(setObject);\n        this.#values = mergeArray(setObjectParsed, this.#values);\n\n        const { reverse } = this.#mergeProps(specialProps ?? {});\n        if (valueIsBooleanAndTrue(reverse, 'reverse'))\n            this.#values = setReverseValues(setObject, this.#values);\n\n        this.#values = setRelative(this.#values, this.#relative);\n        this.#values = setFromCurrentByTo(this.#values);\n        return;\n    }\n\n    /**\n     * @type {import('../../utils/type.js').DoAction<import('./type.js').SpringActions>} obj To Values\n     */\n    #doAction(newObjectParsed, newObjectRaw, spacialProps = {}) {\n        this.#values = mergeArray(newObjectParsed, this.#values);\n\n        const { reverse, immediate } = this.#mergeProps(spacialProps);\n        if (valueIsBooleanAndTrue(reverse, 'reverse'))\n            this.#values = setReverseValues(newObjectRaw, this.#values);\n\n        this.#values = setRelative(this.#values, this.#relative);\n\n        if (valueIsBooleanAndTrue(immediate, 'immediate ')) {\n            if (this.#isRunning) this.stop({ updateValues: false });\n            this.#values = setFromCurrentByTo(this.#values);\n            return Promise.resolve();\n        }\n\n        /**\n         * Condition to create promise. Promise is created first time. If is calling when isRunning reject, so only one\n         * promise is resolved. this.#currentPromise is necessary to avoid wrong fps calculation ( async stagger\n         * function ).\n         */\n        const shouldInitializeRAF = !this.#isRunning && !this.#currentPromise;\n\n        /**\n         * Avery time is called while is running return the previous promise.\n         */\n        if (shouldInitializeRAF) {\n            this.#currentPromise = new Promise((resolve, reject) => {\n                this.#startRaf(resolve, reject);\n            });\n        }\n\n        return shouldInitializeRAF && this.#currentPromise\n            ? this.#currentPromise\n            : Promise.reject(MobCore.ANIMATION_STOP_REJECT);\n    }\n\n    /**\n     * Get current values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = mySpring.get();\n     *     ```;\n     *\n     * @type {import('./type.js').SpringGetValue}\n     */\n    get() {\n        return getValueObj(this.#values, 'currentValue');\n    }\n\n    /**\n     * Get initial values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = mySpring.getIntialData();\n     *     ```;\n     *\n     * @type {import('./type.js').SpringGetValue}\n     */\n    getInitialData() {\n        return getValueObj(this.#initialData, 'currentValue');\n    }\n\n    /**\n     * Get from values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = mySpring.getFrom();\n     *     ```;\n     *\n     * @type {import('./type.js').SpringGetValue}\n     */\n    getFrom() {\n        return getValueObj(this.#values, 'fromValue');\n    }\n\n    /**\n     * Get to values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = mySpring.getTo();\n     *     ```;\n     *\n     * @type {import('./type.js').SpringGetValue}\n     */\n    getTo() {\n        return getValueObj(this.#values, 'toValue');\n    }\n\n    /**\n     * Get From values, if the single value is a function it returns the same function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = mySpring.getFromNativeType();\n     *     ```;\n     *\n     * @type {import('./type.js').SpringGetValueNative}\n     */\n    getFromNativeType() {\n        return getValueObjFromNative(this.#values);\n    }\n\n    /**\n     * Get To values, if the single value is a function it returns the same function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = mySpring.getToNativeType();\n     *     ```;\n     *\n     * @type {import('./type.js').SpringGetValueNative}\n     */\n    getToNativeType() {\n        return getValueObjToNative(this.#values);\n    }\n\n    /**\n     * Get tween type\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const type = mySpring.getType();\n     *     ```;\n     *\n     * @type {import('./type.js').SpringGetType} tween Type\n     */\n    getType() {\n        return 'SPRING';\n    }\n\n    /**\n     * Get univoque Id\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const type = mySpring.getId();\n     *     ```;\n     *\n     * @type {import('./type.js').SpringGetId}\n     */\n    getId() {\n        return this.#uniqueId;\n    }\n\n    /**\n     * Return active state.\n     *\n     * @returns {boolean}\n     */\n    isActive() {\n        return this.#isRunning;\n    }\n\n    /**\n     * Update config object, every || some properties The change will be persistent\n     *\n     * @example\n     *     ```javascript\n     *      mySpring.updateConfigProp({\n     *          mass: 2,\n     *          friction: 5\n     *      })\n     *\n     *\n     *      ```;\n     *\n     * @type {import('./type.js').SpringUdateConfigProp}\n     */\n    updateConfigProp(configProps = {}) {\n        const configToMerge = springConfigPropIsValid(configProps);\n        this.#configProps = { ...this.#configProps, ...configToMerge };\n\n        this.#defaultProps = mergeDeep(this.#defaultProps, {\n            configProps: configToMerge,\n        });\n    }\n\n    /**\n     * UpdateConfig - Update config object with new preset\n     *\n     * @type {import('./type.js').SpringUdateConfig}\n     */\n    updateConfig(config) {\n        this.#configProps = springConfigIsValidAndGetNew(config);\n        this.#defaultProps = mergeDeep(this.#defaultProps, {\n            configProps: this.#configProps,\n        });\n    }\n\n    /**\n     * Callback that returns updated values ready to be usable, it is advisable to use it for single elements, although\n     * it works well on a not too large number of elements (approximately 100-200 elements) for large staggers it is\n     * advisable to use the subscribeCache method .\n     *\n     * @type {import('./type.js').SpringSubscribe}\n     */\n    subscribe(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = updateSubScribers(\n            cb,\n            this.#callback\n        );\n        this.#callback = arrayOfCallbackUpdated;\n\n        return () => (this.#callback = unsubscribeCb(this.#callback));\n    }\n\n    /**\n     * Callback that returns updated values ready to be usable, specific to manage large staggers.\n     *\n     * @type {import('./type.js').SpringSubscribeCache}\n     */\n    subscribeCache(item, fn) {\n        const { arrayOfCallbackUpdated, unsubscribeCb, unsubscribeCache } =\n            updateSubscribersCache(\n                item,\n                fn,\n                this.#callbackCache,\n                this.#unsubscribeCache\n            );\n\n        this.#callbackCache = arrayOfCallbackUpdated;\n        this.#unsubscribeCache = unsubscribeCache;\n        return () => (this.#callbackCache = unsubscribeCb(this.#callbackCache));\n    }\n\n    /**\n     * Support callback to asyncTimeline. Callback to manage the departure of tweens in a timeline. If a delay is\n     * applied to the tween and before the delay ends the timeline pauses the tween at the end of the delay will\n     * automatically pause. Add callback to start in pause to stack\n     *\n     * @param {() => boolean} cb Cal function\n     * @returns {() => void} Unsubscribe callback\n     */\n    onStartInPause(cb) {\n        const arrayOfCallbackUpdated = [...this.#callbackStartInPause, { cb }];\n        this.#callbackStartInPause = arrayOfCallbackUpdated;\n\n        return () => (this.#callbackStartInPause = []);\n    }\n\n    /**\n     * Similar to subscribe this callBack is launched when the data calculation stops (when the timeline ends or the\n     * scroll trigger is inactive). Useful for applying a different style to an inactive element. A typical example is\n     * to remove the teansform3D property:\n     *\n     * @type {import('./type.js').SpringOnComplete}\n     */\n    onComplete(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = updateSubScribers(\n            cb,\n            this.#callbackOnComplete\n        );\n        this.#callbackOnComplete = arrayOfCallbackUpdated;\n\n        return () =>\n            (this.#callbackOnComplete = unsubscribeCb(\n                this.#callbackOnComplete\n            ));\n    }\n\n    /**\n     * Destroy tween\n     */\n    destroy() {\n        if (this.#currentPromise) this.stop();\n        this.#callbackOnComplete = [];\n        this.#callbackStartInPause = [];\n        this.#callback = [];\n        this.#callbackCache = [];\n        this.#values = [];\n        this.#currentPromise = undefined;\n        this.#unsubscribeCache.forEach((unsubscribe) => unsubscribe());\n        this.#unsubscribeCache = [];\n    }\n}\n", "import { getRoundedValue } from '../utils/animation-utils';\n\n/**\n * @param {Object} param\n * @param {import('./type').TimeTweenStoreData[]} param.values\n * @param {number} param.timeElapsed\n * @param {number} param.duration\n * @param {Function} param.ease\n * @returns {import('./type').TimeTweenStoreData[]}\n */\nexport const tweenGetValueOnDraw = ({\n    values,\n    timeElapsed,\n    duration,\n    ease,\n}) => {\n    return values.map((item) => {\n        if (item.shouldUpdate) {\n            const rawCurrentValue = ease(\n                timeElapsed,\n                item.fromValue,\n                item.toValProcessed,\n                duration\n            );\n\n            return {\n                ...item,\n                currentValue: getRoundedValue(rawCurrentValue),\n            };\n        }\n\n        return {\n            ...item,\n            currentValue: item.fromValue,\n        };\n    });\n};\n", "import { compareKeys } from '../utils/animation-utils.js';\nimport {\n    setFromCurrentByTo,\n    setFromToByCurrent,\n    setReverseValues,\n    setRelativeTween,\n} from '../utils/tween-action/set-values.js';\nimport { mergeDeep } from '../../utils/merge-deep.js';\nimport { setStagger } from '../utils/stagger/set-stagger.js';\nimport { STAGGER_DEFAULT_INDEX_OBJ } from '../utils/stagger/stagger-costant.js';\nimport {\n    getStaggerFromProps,\n    getStaggerArray,\n} from '../utils/stagger/stagger-utils.js';\nimport {\n    defaultCallbackOnComplete,\n    defaultCallback,\n} from '../utils/callbacks/default-callback.js';\nimport {\n    updateSubScribers,\n    updateSubscribersCache,\n} from '../utils/callbacks/set-callback.js';\nimport {\n    parseGoToObject,\n    parseGoFromObject,\n    parseGoFromToObject,\n    parseSetObject,\n} from '../utils/tween-action/actions.js';\nimport { initRaf } from '../utils/init-raf.js';\nimport {\n    compareKeysWarning,\n    staggerIsOutOfRangeWarning,\n} from '../utils/warning.js';\nimport { fpsLoadedLog } from '../utils/fps-log-inizialization.js';\nimport {\n    durationIsNumberOrFunctionIsValid,\n    easeTweenIsValid,\n    easeTweenIsValidGetFunction,\n    relativeIsValid,\n    valueIsBooleanAndTrue,\n} from '../utils/tween-action/tween-validation.js';\nimport { MobCore } from '../../../mob-core/index.js';\nimport { shouldInizializzeStagger } from '../utils/stagger/should-inizialize.js';\nimport { mergeArrayTween } from '../utils/tween-action/merge-array.js';\nimport {\n    getValueObj,\n    getValueObjFromNative,\n    getValueObjToNative,\n} from '../utils/tween-action/get-values.js';\nimport { tweenGetValueOnDraw } from './get-values-on-draw.js';\n\nexport default class MobTimeTween {\n    /**\n     * @type {Function} This Value lives from user call ( goTo etc..) until next call\n     */\n    #ease;\n\n    /**\n     * @type {number}\n     */\n    #duration;\n\n    /**\n     * @type {boolean}\n     */\n    #relative;\n\n    /**\n     * @type {import('../utils/stagger/type.js').StaggerObject}\n     */\n    #stagger;\n\n    /**\n     * @type {string}\n     */\n    #uniqueId;\n\n    /**\n     * @type {boolean}\n     */\n    #isRunning;\n\n    /**\n     * @type{((value:any) => void)|undefined }\n     */\n    #currentResolve;\n\n    /**\n     * @type{((value:any) => void)|undefined }\n     */\n    #currentReject;\n\n    /**\n     * @type {Promise<void> | undefined}\n     */\n    #currentPromise;\n\n    /**\n     * @type {import('./type.js').TimeTweenStoreData[]}\n     */\n    #values;\n\n    /**\n     * @type {import('./type.js').TimeTweenInitialData[]}\n     */\n    #initialData;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackDefault}\n     */\n    #callback;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackCache}\n     */\n    #callbackCache;\n\n    /**\n     * @type {import('../utils/callbacks/type.js').CallbackDefault}\n     */\n    #callbackOnComplete;\n\n    /**\n     * @type {{ cb: () => boolean }[]}\n     */\n    #callbackStartInPause;\n\n    /**\n     * @type {(() => void)[]}\n     */\n    #unsubscribeCache;\n\n    /**\n     * @type {boolean}\n     */\n    #pauseStatus;\n\n    /**\n     * @type {boolean}\n     */\n    #comeFromResume;\n\n    /**\n     * @type {number}\n     */\n    #startTime;\n\n    /**\n     * @type {number}\n     */\n    #timeElapsed;\n\n    /**\n     * @type {number}\n     */\n    #pauseTime;\n\n    /**\n     * @type {boolean}\n     */\n    #firstRun;\n\n    /**\n     * @type {boolean}\n     */\n    #useStagger;\n\n    /**\n     * @type {boolean}\n     */\n    #fpsInLoading;\n\n    /**\n     * This value is the base value merged with new value in custom prop passed form user in goTo etc..\n     *\n     * @type {import('./type.js').TimeTweenDefault}\n     */\n    #defaultProps;\n\n    /**\n     * @type {import('../utils/stagger/type.js').StaggerFrameIndexObject}\n     */\n    #slowlestStagger;\n\n    /**\n     * @type {import('../utils/stagger/type.js').StaggerFrameIndexObject}\n     */\n    #fastestStagger;\n\n    /**\n     * Available methods:\n     *\n     * ```javascript\n     * myTween.set();\n     * myTween.goTo();\n     * myTween.goFrom();\n     * myTween.goFromTo();\n     * myTween.subscribe();\n     * myTween.subscribeCache();\n     * myTween.onComplete();\n     * myTween.updateEase();\n     * myTween.getId();\n     * myTween.get();\n     * myTween.getTo();\n     * myTween.getFrom();\n     * myTween.getToNativeType();\n     * myTween.getFromNativeType();\n     * ```\n     *\n     * @example\n     *     ```javascript\n     *     const myTween = new HandleTween({\n     *       data: Object.<string, number>,\n     *       duration: Number,\n     *       ease: String,\n     *       relative: Boolean\n     *       stagger:{\n     *          each: Number,\n     *          from: Number|String|{x:number,y:number},\n     *          grid: {\n     *              col: Number,\n     *              row: Number,\n     *              direction: String\n     *          },\n     *          waitComplete: Boolean,\n     *       },\n     *     })\n     *\n     *\n     *     ```;\n     *\n     * @param {import('./type.js').TimeTweenProps} [data]\n     */\n    constructor(data) {\n        this.#ease = easeTweenIsValidGetFunction(data?.ease);\n        this.#duration = durationIsNumberOrFunctionIsValid(data?.duration);\n        this.#relative = relativeIsValid(data?.relative, 'tween');\n        this.#stagger = getStaggerFromProps(data ?? {});\n        this.#uniqueId = MobCore.getUnivoqueId();\n        this.#isRunning = false;\n        this.#currentResolve = undefined;\n        this.#currentReject = undefined;\n        this.#currentPromise = undefined;\n        this.#values = [];\n        this.#initialData = [];\n        this.#callback = [];\n        this.#callbackCache = [];\n        this.#callbackOnComplete = [];\n        this.#callbackStartInPause = [];\n        this.#unsubscribeCache = [];\n        this.#pauseStatus = false;\n        this.#comeFromResume = false;\n        this.#startTime = 0;\n        this.#timeElapsed = 0;\n        this.#pauseTime = 0;\n        this.#firstRun = true;\n        this.#useStagger = true;\n        this.#fpsInLoading = false;\n        this.#defaultProps = {\n            duration: this.#duration,\n            ease: easeTweenIsValid(data?.ease),\n            relative: this.#relative,\n            reverse: false,\n            immediate: false,\n        };\n        this.#slowlestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n        this.#fastestStagger = STAGGER_DEFAULT_INDEX_OBJ;\n\n        const props = data?.data;\n        if (props) this.setData(props);\n    }\n\n    /**\n     * @param {number} time\n     * @returns {void}\n     */\n    #draw(time) {\n        this.#isRunning = true;\n\n        if (this.#pauseStatus) {\n            this.#pauseTime = time - this.#startTime - this.#timeElapsed;\n        }\n        this.#timeElapsed = time - this.#startTime - this.#pauseTime;\n\n        if (Math.round(this.#timeElapsed) >= this.#duration) {\n            this.#timeElapsed = this.#duration;\n        }\n\n        this.#values = tweenGetValueOnDraw({\n            values: this.#values,\n            timeElapsed: this.#timeElapsed,\n            duration: this.#duration,\n            ease: this.#ease,\n        });\n\n        const isSettled = Math.round(this.#timeElapsed) === this.#duration;\n\n        // Prepare an obj to pass to the callback\n        const callBackObject = getValueObj(this.#values, 'currentValue');\n\n        defaultCallback({\n            stagger: this.#stagger,\n            callback: this.#callback,\n            callbackCache: this.#callbackCache,\n            callBackObject: callBackObject,\n            useStagger: this.#useStagger,\n        });\n\n        if (isSettled) {\n            const onComplete = () => {\n                this.#isRunning = false;\n                this.#pauseTime = 0;\n\n                /**\n                 * End of animation Set fromValue with ended value At the next call fromValue become the start value\n                 */\n                this.#values = [...this.#values].map((item) => {\n                    if (!item.shouldUpdate) return item;\n\n                    return {\n                        ...item,\n                        toValue: item.currentValue,\n                        fromValue: item.currentValue,\n                    };\n                });\n\n                // On complete\n                if (!this.#pauseStatus && this.#currentResolve) {\n                    this.#currentResolve(true);\n\n                    // Set promise reference to null once resolved\n                    this.#currentPromise = undefined;\n                    this.#currentReject = undefined;\n                    this.#currentResolve = undefined;\n                }\n            };\n\n            defaultCallbackOnComplete({\n                onComplete,\n                callback: this.#callback,\n                callbackCache: this.#callbackCache,\n                callbackOnComplete: this.#callbackOnComplete,\n                callBackObject: callBackObject,\n                stagger: this.#stagger,\n                slowlestStagger: this.#slowlestStagger,\n                fastestStagger: this.#fastestStagger,\n                useStagger: this.#useStagger,\n            });\n\n            return;\n        }\n\n        MobCore.useFrame(() => {\n            MobCore.useNextTick(({ time }) => {\n                if (this.#isRunning) this.#draw(time);\n            });\n        });\n    }\n\n    /**\n     * @param {number} time Current global time\n     * @returns {void}\n     */\n    #onReuqestAnim(time) {\n        this.#startTime = time;\n        this.#draw(time);\n    }\n\n    /**\n     * Inzialize stagger array\n     *\n     * @returns {Promise<any>}\n     */\n    async #inzializeStagger() {\n        /**\n         * First time il there is a stagger load fps then go next step next time no need to calculate stagger and jump\n         * directly next step\n         */\n        if (\n            shouldInizializzeStagger(\n                this.#stagger.each,\n                this.#firstRun,\n                this.#callbackCache,\n                this.#callback\n            )\n        ) {\n            const { averageFPS } = await MobCore.useFps();\n\n            fpsLoadedLog('tween', averageFPS);\n            const cb = getStaggerArray(this.#callbackCache, this.#callback);\n\n            if (this.#stagger.grid.col > cb.length) {\n                staggerIsOutOfRangeWarning(cb.length);\n                this.#firstRun = false;\n                return;\n            }\n\n            const {\n                staggerArray,\n                staggerArrayOnComplete,\n                fastestStagger,\n                slowlestStagger,\n            } = setStagger({\n                arrayDefault: cb,\n                arrayOnStop: this.#callbackOnComplete,\n                stagger: this.#stagger,\n                slowlestStagger: this.#slowlestStagger,\n                fastestStagger: this.#fastestStagger,\n            });\n\n            if (this.#callbackCache.length > this.#callback.length) {\n                this.#callbackCache =\n                    /** @type {import('../utils/callbacks/type.js').CallbackCache} */ (\n                        staggerArray\n                    );\n            } else {\n                this.#callback =\n                    /** @type {import('../utils/callbacks/type.js').CallbackDefault} */ (\n                        staggerArray\n                    );\n            }\n\n            this.#callbackOnComplete = staggerArrayOnComplete;\n            this.#slowlestStagger = slowlestStagger;\n            this.#fastestStagger = fastestStagger;\n            this.#firstRun = false;\n        }\n\n        return { ready: true };\n    }\n\n    /**\n     * @param {(value: any) => void} resolve\n     * @param {(value: any) => void} reject\n     * @returns {Promise<any>}\n     */\n    async #startRaf(resolve, reject) {\n        if (this.#fpsInLoading) return;\n        this.#currentResolve = resolve;\n        this.#currentReject = reject;\n\n        if (this.#firstRun) {\n            this.#fpsInLoading = true;\n            await this.#inzializeStagger();\n            this.#fpsInLoading = false;\n        }\n\n        initRaf(\n            this.#callbackStartInPause,\n            (time) => this.#onReuqestAnim(time),\n            () => this.pause()\n        );\n    }\n\n    /**\n     * TimeTween doasn/t need this method. It use always from/to value. Spring/lerp use only to value to be reactive,\n     * See that tween for reference.\n     *\n     * @returns {void}\n     */\n    clearCurretPromise() {}\n\n    /**\n     * @type {import('./type.js').TimeTweenStop}\n     */\n    stop({ clearCache = true, updateValues = true } = {}) {\n        this.#pauseTime = 0;\n        this.#pauseStatus = false;\n        this.#comeFromResume = false;\n        if (updateValues) this.#values = setFromToByCurrent(this.#values);\n\n        /**\n         * Clear stagger cache if needed.\n         */\n        if (clearCache)\n            this.#callbackCache.forEach(({ cb }) => MobCore.useCache.clean(cb));\n\n        // Abort promise\n        if (this.#currentReject) {\n            this.#currentReject(MobCore.ANIMATION_STOP_REJECT);\n            this.#currentPromise = undefined;\n            this.#currentReject = undefined;\n            this.#currentResolve = undefined;\n        }\n\n        this.#isRunning = false;\n    }\n\n    /**\n     * @type {import('./type.js').TimeTweenPause}\n     */\n    pause() {\n        if (this.#pauseStatus) return;\n        this.#pauseStatus = true;\n    }\n\n    /**\n     * @type {import('./type.js').TimeTweenResume}\n     */\n    resume() {\n        if (!this.#pauseStatus) return;\n        this.#pauseStatus = false;\n        this.#comeFromResume = true;\n    }\n\n    /**\n     * @type {import('../../utils/type.js').SetData}\n     */\n    setData(obj) {\n        this.#values = Object.entries(obj).map((item) => {\n            const [prop, value] = item;\n            return {\n                prop: prop,\n                toValue: value,\n                toValueOnPause: value,\n                toValProcessed: value,\n                fromValue: value,\n                currentValue: value,\n                shouldUpdate: false,\n                fromFn: () => 0,\n                fromIsFn: false,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false, // not used, only for uniformity with lerp and spring\n            };\n        });\n\n        this.#initialData = this.#values.map((item) => {\n            return {\n                prop: item.prop,\n                toValue: item.toValue,\n                fromValue: item.fromValue,\n                currentValue: item.currentValue,\n                shouldUpdate: false,\n                fromFn: () => 0,\n                fromIsFn: false,\n                toFn: () => 0,\n                toIsFn: false,\n                settled: false, // not used, only for uniformity with lerp and spring\n            };\n        });\n    }\n\n    /**\n     * @type {import('./type.js').TimeTweenResetData}\n     */\n    resetData() {\n        this.#values = mergeDeep(this.#values, this.#initialData);\n    }\n\n    /**\n     * Reject promise and update form value with current\n     *\n     * @returns {void}\n     */\n    #updateDataWhileRunning() {\n        this.#values = [...this.#values].map((item) => {\n            if (!item.shouldUpdate) return item;\n\n            return {\n                ...item,\n                fromValue: item.currentValue,\n            };\n        });\n    }\n\n    /**\n     * Merge special props with default props\n     *\n     * @type {import('./type.js').TimeTweenMergeProps}\n     */\n    #mergeProps(props) {\n        const newProps = { ...this.#defaultProps, ...props };\n        const { ease, duration, relative } = newProps;\n        this.#ease = easeTweenIsValidGetFunction(ease);\n        this.#relative = relativeIsValid(relative, 'tween');\n        this.#duration = durationIsNumberOrFunctionIsValid(duration);\n        return newProps;\n    }\n\n    /**\n     * @type {import('../../utils/type.js').GoTo<import('./type.js').TimeTweenAction>} obj To Values\n     */\n    goTo(toObject, specialProps = {}) {\n        if (this.#pauseStatus || this.#comeFromResume) this.stop();\n\n        this.#useStagger = true;\n        const toObjectparsed = parseGoToObject(toObject);\n        return this.#doAction(toObjectparsed, toObject, specialProps);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').GoFrom<import('./type.js').TimeTweenAction>} obj To Values\n     */\n    goFrom(fromObject, specialProps = {}) {\n        if (this.#pauseStatus || this.#comeFromResume) this.stop();\n\n        this.#useStagger = true;\n        const fromObjectParsed = parseGoFromObject(fromObject);\n        return this.#doAction(fromObjectParsed, fromObject, specialProps);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').GoFromTo<import('./type.js').TimeTweenAction>} obj To Values\n     */\n    goFromTo(fromObject, toObject, specialProps = {}) {\n        if (this.#pauseStatus || this.#comeFromResume) this.stop();\n\n        this.#useStagger = true;\n        if (!compareKeys(fromObject, toObject)) {\n            compareKeysWarning('tween goFromTo:', fromObject, toObject);\n            return new Promise((resolve) => resolve);\n        }\n\n        const objectParsed = parseGoFromToObject(fromObject, toObject);\n        return this.#doAction(objectParsed, fromObject, specialProps);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').Set<import('./type.js').TimeTweenAction>} obj To Values\n     */\n    set(setObject, specialProps = {}) {\n        if (this.#pauseStatus || this.#comeFromResume) this.stop();\n\n        this.#useStagger = false;\n        const setObjectParsed = parseSetObject(setObject);\n\n        // In set mode duration is small as possible\n        const propsParsed = specialProps\n            ? { ...specialProps, duration: 1 }\n            : { duration: 1 };\n        return this.#doAction(setObjectParsed, setObject, propsParsed);\n    }\n\n    /**\n     * @type {import('../../utils/type.js').SetImmediate<import('./type.js').TimeTweenAction>} obj To Values\n     */\n    setImmediate(setObject, specialProps = {}) {\n        // this.#value is updated below\n        if (this.#isRunning) this.stop({ updateValues: false });\n        if (this.#pauseStatus) return;\n\n        this.#useStagger = false;\n        const setObjectParsed = parseSetObject(setObject);\n        const propsParsed = specialProps\n            ? { ...specialProps, duration: 1 }\n            : { duration: 1 };\n        this.#values = mergeArrayTween(setObjectParsed, this.#values);\n\n        const { reverse } = this.#mergeProps(propsParsed);\n        if (valueIsBooleanAndTrue(reverse, 'reverse'))\n            this.#values = setReverseValues(setObject, this.#values);\n\n        this.#values = setRelativeTween(this.#values, this.#relative);\n        this.#values = setFromCurrentByTo(this.#values);\n        return;\n    }\n\n    /**\n     * @type {import('../../utils/type.js').DoAction<import('./type.js').TimeTweenAction>} obj To Values\n     */\n    #doAction(newObjectParsed, newObjectRaw, specialProps = {}) {\n        this.#values = mergeArrayTween(newObjectParsed, this.#values);\n\n        if (this.#isRunning) {\n            /**\n             * Time tween need restart if called while running. this.#value is updated below\n             */\n            this.stop({ clearCache: false, updateValues: false });\n            this.#updateDataWhileRunning();\n        }\n\n        const { reverse, immediate } = this.#mergeProps(specialProps);\n        if (valueIsBooleanAndTrue(reverse, 'reverse'))\n            this.#values = setReverseValues(newObjectRaw, this.#values);\n\n        this.#values = setRelativeTween(this.#values, this.#relative);\n\n        if (valueIsBooleanAndTrue(immediate, 'immediate ')) {\n            if (this.#isRunning) this.stop({ updateValues: false });\n            this.#values = setFromCurrentByTo(this.#values);\n            return Promise.resolve();\n        }\n\n        /**\n         * Condition to create promise. Promise is created first time. If is calling when isRunning reject, so only one\n         * promise is resolved. this.#currentPromise is necessary to avoid wrong fps calculation ( async stagger\n         * function ).\n         */\n        const shouldInitializeRAF = !this.#isRunning && !this.#currentPromise;\n\n        /**\n         * Avery time is called while is running return the previous promise.\n         */\n        if (shouldInitializeRAF) {\n            this.#currentPromise = new Promise((resolve, reject) => {\n                this.#startRaf(resolve, reject);\n            });\n        }\n\n        return shouldInitializeRAF && this.#currentPromise\n            ? this.#currentPromise\n            : Promise.reject(MobCore.ANIMATION_STOP_REJECT);\n    }\n\n    /**\n     * Get current values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myTween.get();\n     *     ```;\n     *\n     * @type {import('./type.js').TimeTweenGetValue}\n     */\n    get() {\n        return getValueObj(this.#values, 'currentValue');\n    }\n\n    /**\n     * Get initial values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myTween.getIntialData();\n     *     ```;\n     *\n     * @type {import('./type.js').TimeTweenGetValue}\n     */\n    getInitialData() {\n        return getValueObj(this.#initialData, 'currentValue');\n    }\n\n    /**\n     * Get from values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myTween.getFrom();\n     *     ```;\n     *\n     * @type {import('./type.js').TimeTweenGetValue}\n     */\n    getFrom() {\n        return getValueObj(this.#values, 'fromValue');\n    }\n\n    /**\n     * Get to values, If the single value is a function it returns the result of the function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myTween.getTo();\n     *     ```;\n     *\n     * @type {import('./type.js').TimeTweenGetValue}\n     */\n    getTo() {\n        return getValueObj(this.#values, 'toValue');\n    }\n\n    /**\n     * Get From values, if the single value is a function it returns the same function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myTween.getFromNativeType();\n     *     ```;\n     *\n     * @type {import('./type.js').TimeTweenGetValueNative}\n     */\n    getFromNativeType() {\n        return getValueObjFromNative(this.#values);\n    }\n\n    /**\n     * Get To values, if the single value is a function it returns the same function.\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const { prop } = myTween.getToNativeType();\n     *     ```;\n     *\n     * @type {import('./type.js').TimeTweenGetValueNative}\n     */\n    getToNativeType() {\n        return getValueObjToNative(this.#values);\n    }\n\n    /**\n     * Get tween type\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const type = myTween.getType();\n     *     ```;\n     *\n     * @type {import('./type.js').TimeTweenGetType} tween Type\n     */\n    getType() {\n        return 'TWEEN';\n    }\n\n    /**\n     * Get univoque Id\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     const type = myTween.getId();\n     *     ```;\n     *\n     * @type {import('./type.js').TimeTweenGetId}\n     */\n    getId() {\n        return this.#uniqueId;\n    }\n\n    /**\n     * Return active state.\n     *\n     * @returns {boolean}\n     */\n    isActive() {\n        return this.#isRunning;\n    }\n\n    /**\n     * Update ease with new preset\n     *\n     * @type {import('./type.js').TimeTweenUpdateEase}\n     */\n    updateEase(ease) {\n        this.#ease = easeTweenIsValidGetFunction(ease);\n        this.#defaultProps = mergeDeep(this.#defaultProps, {\n            ease,\n        });\n    }\n\n    /**\n     * Callback that returns updated values ready to be usable, it is advisable to use it for single elements, although\n     * it works well on a not too large number of elements (approximately 100-200 elements) for large staggers it is\n     * advisable to use the subscribeCache method .\n     *\n     * @type {import('./type.js').TimeTweenSubscribe}\n     */\n    subscribe(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = updateSubScribers(\n            cb,\n            this.#callback\n        );\n        this.#callback = arrayOfCallbackUpdated;\n\n        return () => (this.#callback = unsubscribeCb(this.#callback));\n    }\n\n    /**\n     * Callback that returns updated values ready to be usable, specific to manage large staggers.\n     *\n     * @type {import('./type.js').TimeTweenSubscribeCache}\n     */\n    subscribeCache(item, fn) {\n        const { arrayOfCallbackUpdated, unsubscribeCb, unsubscribeCache } =\n            updateSubscribersCache(\n                item,\n                fn,\n                this.#callbackCache,\n                this.#unsubscribeCache\n            );\n\n        this.#callbackCache = arrayOfCallbackUpdated;\n        this.#unsubscribeCache = unsubscribeCache;\n        return () => (this.#callbackCache = unsubscribeCb(this.#callbackCache));\n    }\n\n    /**\n     * Support callback to asyncTimeline. Callback to manage the departure of tweens in a timeline. If a delay is\n     * applied to the tween and before the delay ends the timeline pauses the tween at the end of the delay will\n     * automatically pause. Add callback to start in pause to stack\n     *\n     * @param {() => boolean} cb Cal function\n     * @returns {() => void} Unsubscribe callback\n     */\n    onStartInPause(cb) {\n        const arrayOfCallbackUpdated = [...this.#callbackStartInPause, { cb }];\n        this.#callbackStartInPause = arrayOfCallbackUpdated;\n\n        return () => (this.#callbackStartInPause = []);\n    }\n\n    /**\n     * Similar to subscribe this callBack is launched when the data calculation stops (when the timeline ends or the\n     * scroll trigger is inactive). Useful for applying a different style to an inactive element. A typical example is\n     * to remove the teansform3D property:\n     *\n     * @type {import('./type.js').TimeTweenOnComplete}\n     */\n    onComplete(cb) {\n        const { arrayOfCallbackUpdated, unsubscribeCb } = updateSubScribers(\n            cb,\n            this.#callbackOnComplete\n        );\n        this.#callbackOnComplete = arrayOfCallbackUpdated;\n\n        return () =>\n            (this.#callbackOnComplete = unsubscribeCb(\n                this.#callbackOnComplete\n            ));\n    }\n\n    /**\n     * Destroy tween\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.#currentPromise) this.stop();\n        this.#callbackOnComplete = [];\n        this.#callbackStartInPause = [];\n        this.#callback = [];\n        this.#callbackCache = [];\n        this.#values = [];\n        this.#currentPromise = undefined;\n        this.#unsubscribeCache.forEach((unsubscribe) => unsubscribe());\n        this.#unsubscribeCache = [];\n    }\n}\n", "// @ts-check\n\nimport { getRoundedValue } from '../utils/animation-utils.js';\nimport { setStagger } from '../utils/stagger/set-stagger.js';\nimport {\n    STAGGER_TYPE_START,\n    STAGGER_TYPE_END,\n    STAGGER_TYPE_CENTER,\n    STAGGER_TYPE_EQUAL,\n    STAGGER_DEFAULT_INDEX_OBJ,\n} from '../utils/stagger/stagger-costant.js';\nimport {\n    createStaggerEachWarning,\n    createStaggerItemsTypeWarning,\n    staggerIsOutOfRangeWarning,\n} from '../utils/warning.js';\nimport {\n    durationIsValid,\n    staggerItemsIsValid,\n    validateStaggerItems,\n} from '../utils/tween-action/tween-validation.js';\nimport { getStaggerFromProps } from '../utils/stagger/stagger-utils.js';\nimport { MobCore } from '../../../mob-core/index.js';\n\n/**\n * @param {object} obj\n * @param {number} obj.each\n * @param {number} obj.duration\n * @param {number} obj.numItem\n * @param {number} obj.index\n * @param {number} obj.eachByNumItem\n * @returns {{ start: number; end: number }}\n */\nconst getStaggerEqual = ({ each, duration, numItem, index, eachByNumItem }) => {\n    if (each === 1) {\n        const stepDuration = duration / numItem;\n        const start = getRoundedValue(index * stepDuration);\n        const end = getRoundedValue(start + stepDuration);\n        return { start, end };\n    }\n\n    const unit = duration / numItem;\n    const staggerDuration = unit * eachByNumItem;\n    const remainSpace = duration - staggerDuration;\n\n    // Avoid division with 0\n    const validNumItem = numItem - 1 > 0 ? numItem - 1 : 1;\n    const remainSpaceUnit = remainSpace / validNumItem;\n    const staggerStart = remainSpaceUnit * index;\n\n    return {\n        start: getRoundedValue(staggerStart),\n        end: getRoundedValue(staggerDuration + staggerStart),\n    };\n};\n\n/**\n * @param {object} obj\n * @param {number} obj.duration\n * @param {number} obj.numItem\n * @param {number} obj.index\n * @param {number} obj.eachByNumItem\n * @param {string} obj.type\n * @returns {{ start: number; end: number }}\n */\nconst getStaggerSpecial = ({\n    duration,\n    numItem,\n    index,\n    eachByNumItem,\n    type,\n}) => {\n    const unit = duration / numItem;\n    const cleanStart = unit * index;\n    const noopSpace = duration - (duration - cleanStart);\n    const gap = (noopSpace / numItem) * eachByNumItem;\n\n    if (type === STAGGER_TYPE_START) {\n        return {\n            start: 0,\n            end: getRoundedValue(duration - (cleanStart - gap)),\n        };\n    }\n\n    if (type === STAGGER_TYPE_CENTER) {\n        const space = (cleanStart - gap) / 2;\n        return {\n            start: getRoundedValue(space),\n            end: getRoundedValue(duration - space),\n        };\n    }\n\n    if (type === STAGGER_TYPE_END) {\n        return {\n            start: getRoundedValue(cleanStart - gap),\n            end: getRoundedValue(duration),\n        };\n    }\n\n    /**\n     * Fallback\n     */\n    return {\n        start: 0,\n        end: duration,\n    };\n};\n\n/**\n *\n *\n * @example\n *     ```javascript\n *\n *\n *     const staggers = MobCreateStaggers({\n *         items: Array.<Element|Object>,\n *         stagger: {\n *             stagger.type: [ String ],\n *             from: [ Number|String|{x:number,y:number} ],\n *             grid: {\n *                 col: [ Number ],\n *                 row: [ Number ],\n *                 direction: [ String ]\n *             },\n *         },\n *         duration: [ Number ],\n *     });\n *\n *\n *     staggers.forEach(({ item, start, end, index }) => {\n *         const sequencer = mobbu\n *             .createSequencer({ ... })\n *             .goTo({ ... }, { start, end ...});\n *         sequencer.subscribe(({ ... }) => { ... });\n *         masterSequencer.add(sequencer);\n *     });\n *\n *     ```;\n *\n * @template T\n * @param {import('./type.js').CreateSequencerType<T> & import('../utils/stagger/type.js').StaggerPropiertiesObject} data\n * @returns {import('./type.js').CreateStagger<T>[]} Stagger array\n */\nexport const MobCreateStaggers = (data) => {\n    // @ts-ignore\n    const items = staggerItemsIsValid(data?.items);\n    const stagger = getStaggerFromProps(data);\n    const duration = durationIsValid(data?.duration);\n    const eachProportion = 10;\n\n    /**\n     * In createStagger each must be > 0\n     */\n    let each = stagger?.each || 1;\n\n    /*\n     * Re-checking the array of items to be able to return a fallback\n     */\n    const fallBack = [...items].map((item, i) => {\n        return {\n            item,\n            start: 0,\n            end: duration,\n            index: i,\n        };\n    });\n\n    /**\n     * Check of array length is > 0 Recheck the items array after inizializtion to return fallback\n     */\n    if (!validateStaggerItems(items)) {\n        return fallBack;\n    }\n\n    /**\n     * Secure check\n     */\n    if (stagger.grid?.col > items.length) {\n        staggerIsOutOfRangeWarning(items.length);\n        each = 1;\n    }\n\n    /**\n     * In classic mode each must be between 1 and eachProportion\n     */\n    if (\n        MobCore.checkType(Number, each) &&\n        (each > eachProportion || each < 1)\n    ) {\n        createStaggerEachWarning(eachProportion);\n        each = 1;\n    }\n\n    /**\n     * Create stagger Array\n     */\n    const { staggerArray } = setStagger({\n        arrayDefault: [...items].map((item) => ({ item })),\n        arrayOnStop: [],\n        stagger: stagger,\n        slowlestStagger: STAGGER_DEFAULT_INDEX_OBJ,\n        fastestStagger: STAGGER_DEFAULT_INDEX_OBJ,\n    });\n\n    /**\n     * Remove element with no dom item ,is possible with row and item fantasiose In tween there is no problem beciuse\n     * use NOOP callback Accept only dom element and object\n     */\n    const staggerArrayFiltered = staggerArray.filter(\n        ({ item }) =>\n            MobCore.checkType(Element, item) ||\n            MobCore.checkType(Object, item) ||\n            MobCore.checkType(Element, item?.deref?.())\n    );\n\n    if (staggerArrayFiltered.length === 0) {\n        createStaggerItemsTypeWarning();\n        return fallBack;\n    }\n\n    /*\n     * Get the 'Chunk' number\n     * 1 - Create an array with all the frame es: [1,1,2,2,2,3,3,3]\n     * 2 - Remove the duplicate frame es; [1,2,3]\n     * 3 - The length of resulted array is the number of 'chunck' es: 3\n     */\n    const frameArray = staggerArrayFiltered.map(({ frame }) => frame);\n    const frameSet = [...new Set(frameArray)].sort((a, b) => a - b);\n    const numItem = frameSet.length;\n\n    /*\n     * Final Array\n     */\n    const staggers = staggerArrayFiltered.map(({ item, frame }) => {\n        const index = frameSet.indexOf(frame);\n        const eachByNumItem = (each * numItem) / eachProportion;\n\n        const { start, end } = (() => {\n            if (stagger.type === STAGGER_TYPE_EQUAL) {\n                return getStaggerEqual({\n                    each,\n                    duration,\n                    numItem,\n                    index,\n                    eachByNumItem,\n                });\n            }\n\n            if (\n                stagger.type === STAGGER_TYPE_START ||\n                stagger.type === STAGGER_TYPE_END ||\n                stagger.type === STAGGER_TYPE_CENTER\n            ) {\n                return getStaggerSpecial({\n                    duration,\n                    numItem,\n                    index,\n                    eachByNumItem,\n                    type: stagger.type,\n                });\n            }\n\n            /**\n             * Fallback\n             */\n            return {\n                start: 0,\n                end: duration,\n            };\n        })();\n\n        return {\n            item,\n            start,\n            end,\n            index,\n        };\n    });\n\n    return staggers;\n};\n", "import MobAsyncTimeline from './animation/async-timeline/async-timeline.js';\nimport MobSyncTimeline from './animation/sync-timeline/mob-sync-timeline.js';\n\n/**\n * Available methods:\n *\n * ```javascript\n * myTimeline.add();\n * myTimeline.onLoopEnd();\n * myTimeline.onComplete();\n * myTimeline.onUpdate();\n * myTimeline.stop();\n * myTimeline.play();\n * myTimeline.playReverse();\n * myTimeline.playFrom();\n * myTimeline.playFromReverse();\n * myTimeline.reverse();\n * myTimeline.pause();\n * myTimeline.resume();\n * myTimeline.isActive();\n * myTimeline.isPaused();\n * myTimeline.getDirection();\n * myTimeline.getTime();\n * myTimeline.destroy();\n * ```\n *\n * @example\n *     ```javascript\n *     Property schema:\n *\n *\n *     const myTimeline = MobTimeline.createSyncTimeline({\n *       duration: [ Number ],\n *       yoyo: [ Boolean ],\n *       repeat: [ Number ]\n *     })\n *\n *\n *     ```;\n *\n * @param {import('./animation/sync-timeline/type.js').SyncTimeline} data\n * @returns {MobSyncTimeline}\n */\nfunction createSyncTimeline(data) {\n    return new MobSyncTimeline(data);\n}\n\n/**\n * Available methods:\n *\n * ```javascript\n * `Methods to create timeline`;\n * myTimeline.set();\n * myTimeline.goTo();\n * myTimeline.goFrom();\n * myTimeline.goFromTo();\n * myTimeline.add();\n * myTimeline.addAsync();\n * myTimeline.createGroup();\n * myTimeline.closeGroup();\n * myTimeline.suspend();\n * myTimeline.label()`Methods to control timeline`;\n * myTimeline.play();\n * myTimeline.playFromLabel();\n * myTimeline.playFrom();\n * myTimeline.playFromReverse();\n * myTimeline.playReverse();\n * myTimeline.reverseNext();\n * myTimeline.stop();\n * myTimeline.pause();\n * myTimeline.resume();\n * myTimeline.isActive();\n * myTimeline.isPaused();\n * myTimeline.isSuspended();\n * myTimeline.getDirection();\n * myTimeline.setTween();\n * myTimeline.get();\n * myTimeline.onLoopEnd();\n * myTimeline.onComplete();\n * myTimeline.destroy();\n * ```\n *\n * @example\n *     ```javascript\n *     Property schema:\n *\n *\n *     const myTimeline = MobTimeline.createAsyncTimeline({\n *       yoyo: [ Boolean ],\n *       repeat: [ Number ],\n *       freeMode: [ Number ],\n *       autoSet: [ Number ],\n *     })\n *\n *\n *     ```;\n *\n * @param {import('./animation/async-timeline/type.js').AsyncTimeline} data\n * @returns {MobAsyncTimeline}\n */\nfunction createAsyncTimeline(data) {\n    return new MobAsyncTimeline(data);\n}\n\nexport { createAsyncTimeline, createSyncTimeline };\n", "/**\n * @type {() => void}\n */\nexport const NOOP = () => {};\n\n/**\n * Pipe chain of function that return a promise.\n *\n * @example\n *     ``` javascript\n *     pipe(\n *         myFunction1,\n *         myFunction2,\n *         myFunction3,\n *     )(initalValue).then((result) => {\n *         ....\n *     });\n *     ```;\n *\n * @param {...(() => Promise<any>)} functions\n * @returns {Awaited<any>}\n */\nexport const pipe =\n    (...functions) =>\n    (/** @type {any} */ input) =>\n        functions.reduce(\n            (chain, func) => chain.then(func),\n            Promise.resolve(input)\n        );\n", "/**\n * From data object return an object filtered by props in activeData\n *\n * @param {object} params\n * @param {Record<string, number | (() => number)>} params.data\n * @param {Record<string, number | (() => number)>} params.filterBy\n */\nexport const filterActiveProps = ({ data, filterBy }) => {\n    return Object.entries(data)\n        .map((item) => {\n            const [prop, val] = item;\n            const valueIsValid = prop in filterBy;\n            return { data: { [prop]: val }, active: valueIsValid };\n        })\n        .filter(({ active }) => active)\n        .map(({ data }) => data)\n        .reduce((p, c) => {\n            return { ...p, ...c };\n        }, {});\n};\n", "import { filterActiveProps } from './fitler-active-props';\n\n/**\n * Get Obj data of tween in specific index Indlude check when multiple tween is synchronized index: get data until\n * specific index\n *\n * @param {object} params\n * @param {import('./type').AsyncTimelineTweenItem[][]} params.timeline\n * @param {import('./type').AsyncTimelineTween} params.tween\n * @param {number} params.index\n * @returns {Record<string, number | (() => number)>}\n */\nexport const reduceTweenUntilIndex = ({ timeline, tween, index }) => {\n    const currentId = tween?.getId?.();\n\n    /**\n     * TODO: resolve better.\n     *\n     * Reduce issue, initial data in only number but function return number | (() => number), so cast constant.\n     *\n     * @type{Record<string, number|(()=>number)>}\n     */\n    const initialData = tween?.getInitialData?.() || {};\n\n    return timeline.slice(0, index).reduce((previous, current) => {\n        const currentTween = current.find(({ data }) => {\n            const uniqueId = data?.tween?.getId?.();\n            return uniqueId === currentId;\n        });\n\n        /*\n         * Align isntant without promise the tween so we have all the data of tween\n         * the current and the previous merged\n         */\n        currentTween?.data?.tween?.setImmediate?.(currentTween?.data?.valuesTo);\n        const currentValueTo = currentTween?.data?.tween?.getToNativeType?.();\n\n        /*\n         * Filter only the prop in use in this step\n         */\n        const propsInUse =\n            currentValueTo && currentTween\n                ? filterActiveProps({\n                      data: currentValueTo,\n                      filterBy: currentTween.data.valuesTo,\n                  })\n                : {};\n\n        return { ...previous, ...propsInUse };\n    }, initialData);\n};\n", "import { NOOP } from '../../utils/functions-utils';\n\n/**\n * @param {Object} param\n * @param {(reason?: any) => void} param.reject\n * @param {(reason?: any) => void} param.res\n * @param {boolean} param.isStopped\n * @param {boolean} param.startOnDelay\n * @param {boolean} param.isInPause\n * @param {(tween: any) => function} param.addToActiveTween\n * @param {number} param.previousSessionId\n * @param {number} param.currentSessionId\n * @param {any} param.tween\n * @param {Record<string, any>} param.fn\n * @param {string} param.action\n */\nexport const resolveTweenPromise = ({\n    reject,\n    res,\n    isStopped,\n    startOnDelay,\n    previousSessionId,\n    currentSessionId,\n    isInPause,\n    tween,\n    fn,\n    action,\n    addToActiveTween,\n}) => {\n    /*\n     * IF:\n     * --\n     * this.isStopped: Timeline is stopped\n     * --\n     * this.startOnDelay: play() etc.. is fired in delay\n     * --\n     * sessionId: another tween is fired and this tween is in a\n     * { waitComplete: false }, so the promise is resolved but\n     * this tween is in delay status, if another session start\n     * the value of this.sessionId change,\n     * in this case isStopped doesn't work because next\n     * session set it to true\n     * --\n     */\n\n    if (isStopped || startOnDelay || previousSessionId !== currentSessionId) {\n        reject();\n        return;\n    }\n\n    /*\n     * Add tween to active stack\n     */\n    const unsubscribeActiveTween = addToActiveTween(tween);\n\n    /*\n     * Add tween to active stack, if timelienstatus is in pause\n     * onStartInPause methods trigger pause status inside tween.\n     */\n    const unsubscribeTweenStartInPause =\n        tween && tween?.onStartInPause\n            ? tween.onStartInPause(() => {\n                  return isInPause;\n              })\n            : NOOP;\n\n    fn[action]()\n        .then(() => res({ resolve: true }))\n        .catch(() => {})\n        .finally(() => {\n            unsubscribeActiveTween();\n            unsubscribeTweenStartInPause();\n        });\n};\n", "import { handleNextFrame } from '../../../mob-core/events/raf-utils/handle-next-frame.js';\nimport { handleNextTick } from '../../../mob-core/events/raf-utils/handle-next-tick.js';\nimport { MobCore } from '../../../mob-core/index.js';\nimport { NOOP } from '../../utils/functions-utils.js';\nimport { directionConstant } from '../utils/timeline/timeline-constant.js';\nimport {\n    addAsyncFunctionIsValid,\n    asyncTimelineDelayIsValid,\n    asyncTimelineTweenIsValid,\n    functionIsValidAndReturnDefault,\n    playLabelIsValid,\n    repeatIsValid,\n    timelineSetTweenArrayIsValid,\n    timelineSetTweenLabelIsValid,\n    valueIsBooleanAndReturnDefault,\n    valueStringIsValid,\n} from '../utils/tween-action/tween-validation.js';\nimport {\n    asyncTimelineMetodsInsideGroupWarining,\n    relativePropInsideTimelineWarning,\n    timelineReverseGoFromWarning,\n    timelineSetTweenFailWarining,\n    timelineSetTweenLabelNotFoundWarining,\n    timelineSuspendWarning,\n} from '../utils/warning.js';\nimport { filterActiveProps } from './fitler-active-props.js';\nimport { reduceTweenUntilIndex } from './reduce-tween-until-index.js';\nimport { resolveTweenPromise } from './loop-callback.js';\n\nexport default class MobAsyncTimeline {\n    /**\n     * @type {number}\n     */\n    #repeat;\n\n    /**\n     * @type {boolean}\n     */\n    #yoyo;\n\n    /**\n     * @type {boolean}\n     */\n    #freeMode;\n\n    /**\n     * @type {boolean}\n     */\n    #autoSet;\n\n    /**\n     * @type {boolean}\n     */\n    #inheritProps;\n\n    /**\n     * @type {import('./type.js').AsyncTimelineTweenItem[][]}\n     */\n    #tweenList;\n\n    /**\n     * @type {import('./type.js').AsyncTimelineCurrentTween[]}\n     */\n    #currentTween;\n\n    /**\n     * @type {import('./type.js').AsyncTimelineTweenStore[]}\n     */\n    #tweenStore;\n\n    /**\n     * @type {boolean}\n     */\n    #waitComplete;\n\n    /**\n     * @type {import('./type.js').AsyncTimelineRowData}\n     */\n    #defaultObj;\n\n    /**\n     * Timeline state\n     *\n     * @type {import('./type.js').AsyncTimelineLabelState}\n     */\n    #useLabel;\n\n    /**\n     * Group \"name\" star from 1 to avoid 0 = false\n     *\n     * @type {number}\n     */\n    #groupCounter;\n\n    /**\n     * @type {number | undefined}\n     */\n    #groupId;\n\n    /**\n     * @type {number}\n     */\n    #currentTweenCounter;\n\n    /**\n     * @type {number}\n     */\n    #currentIndex;\n\n    /**\n     * @type {number}\n     */\n    #loopCounter;\n\n    /**\n     * @type {boolean}\n     */\n    #isReverseNext;\n\n    /**\n     * @type {boolean}\n     */\n    #forceYoyo;\n\n    /**\n     * @type {boolean}\n     */\n    #isReverse;\n\n    /**\n     * @type {boolean}\n     */\n    #isInPause;\n\n    /**\n     * @type {boolean}\n     */\n    #isInSuspension;\n\n    /**\n     * @type {boolean}\n     */\n    #addAsyncIsActive;\n\n    /**\n     * @type {boolean}\n     */\n    #isStopped;\n\n    /**\n     * @type {boolean}\n     */\n    #delayIsRunning;\n\n    /**\n     * @type {boolean}\n     */\n    #startOnDelay;\n\n    /**\n     * @type {import('./type.js').AsyncTimelineAfterReject}\n     */\n    #actionAfterReject;\n\n    /**\n     * @type {number}\n     */\n    #sessionId;\n\n    /**\n     * @type {number}\n     */\n    #activetweenCounter;\n\n    /**\n     * @type {number}\n     */\n    #timeOnPause;\n\n    /**\n     * @type {boolean}\n     */\n    #autoSetIsJustCreated;\n\n    /**\n     * @type {import('./type.js').AsyncTimelineCurrentAction[]}\n     */\n    #currentAction;\n\n    /**\n     * @type {boolean}\n     */\n    #fpsIsInLoading;\n\n    /**\n     * @type {number}\n     */\n    #id;\n\n    /**\n     * @type {{ cb: (arg0: import('../utils/timeline/type.js').DirectionTypeObjectLoop) => void; id: number }[]}\n     */\n    #callbackLoop;\n\n    /**\n     * @type {{ cb: () => void; id: number }[]}\n     */\n    #callbackComplete;\n\n    /**\n     * @type{((value:any) => void)|undefined}\n     */\n    #currentResolve;\n\n    /**\n     * @type{((value:any) => void)|undefined}\n     */\n    #currentReject;\n\n    /**\n     * Available methods:\n     *\n     * ```javascript\n     * `Methods to create timeline`;\n     * myTimeline.set();\n     * myTimeline.goTo();\n     * myTimeline.goFrom();\n     * myTimeline.goFromTo();\n     * myTimeline.add();\n     * myTimeline.addAsync();\n     * myTimeline.createGroup();\n     * myTimeline.closeGroup();\n     * myTimeline.suspend();\n     * myTimeline.label()`Methods to control timeline`;\n     * myTimeline.play();\n     * myTimeline.playFromLabel();\n     * myTimeline.playFrom();\n     * myTimeline.playFromReverse();\n     * myTimeline.playReverse();\n     * myTimeline.reverseNext();\n     * myTimeline.stop();\n     * myTimeline.pause();\n     * myTimeline.resume();\n     * myTimeline.isActive();\n     * myTimeline.isPaused();\n     * myTimeline.isSuspended();\n     * myTimeline.getDirection();\n     * myTimeline.setTween();\n     * myTimeline.get();\n     * myTimeline.onLoopEnd();\n     * myTimeline.onComplete();\n     * myTimeline.destroy();\n     * ```\n     *\n     * @example\n     *     ```javascript\n     *     const myTimeline = new MobAsyncTimeline({\n     *       yoyo: [ boolean ],\n     *       repeat: [ number ],\n     *       freeMode: [ boolean ],\n     *       autoSet: [ boolean ],\n     *       inheritProps: [ number ],\n     *     })\n     *\n     *\n     *     ```;\n     *\n     * @param {import('./type.js').AsyncTimeline} data\n     */\n    constructor(data) {\n        this.#repeat = repeatIsValid(data?.repeat);\n        this.#yoyo = valueIsBooleanAndReturnDefault(\n            data?.yoyo,\n            'asyncTimeline: yoyo',\n            false\n        );\n        this.#freeMode = valueIsBooleanAndReturnDefault(\n            data?.freeMode,\n            'asyncTimeline: freeMode',\n            false\n        );\n        this.#autoSet = valueIsBooleanAndReturnDefault(\n            data?.autoSet,\n            'asyncTimeline: autoSet',\n            true\n        );\n        this.#inheritProps = valueIsBooleanAndReturnDefault(\n            data?.inheritProps,\n            'asyncTimeline: inheritProps',\n            true\n        );\n        this.#tweenList = [];\n        this.#currentTween = [];\n        this.#tweenStore = [];\n        this.#waitComplete = false;\n        this.#defaultObj = {\n            id: -1,\n            tween: undefined,\n            callback: () => {},\n            action: '',\n            valuesFrom: {},\n            valuesTo: {},\n            prevValueTo: {},\n            prevValueSettled: false,\n            tweenProps: {},\n            groupProps: {},\n            labelProps: {},\n        };\n        this.#useLabel = {\n            active: false,\n            index: -1,\n            isReverse: false,\n            callback: undefined,\n        };\n        this.#groupCounter = 1;\n        this.#groupId = undefined;\n        this.#currentTweenCounter = 0;\n        this.#currentIndex = 0;\n        this.#loopCounter = 1;\n        this.#isReverseNext = false;\n        this.#forceYoyo = false;\n        this.#isReverse = false;\n        this.#isInPause = false;\n        this.#isInSuspension = false;\n        this.#addAsyncIsActive = false;\n        this.#isStopped = true;\n        this.#delayIsRunning = false;\n        this.#startOnDelay = false;\n        this.#actionAfterReject = {\n            active: false,\n            fn: () => {},\n        };\n        this.#sessionId = 0;\n        this.#activetweenCounter = 0;\n        this.#timeOnPause = 0;\n        this.#autoSetIsJustCreated = false;\n        this.#currentAction = [];\n        this.#fpsIsInLoading = false;\n        this.#id = 0;\n        this.#callbackLoop = [];\n        this.#callbackComplete = [];\n        this.#currentResolve = undefined;\n        this.#currentReject = undefined;\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #run() {\n        /**\n         * Store previous action to prevent two add/addAsync consegutive\n         */\n        const currentTweelist = this.#tweenList[this.#currentIndex];\n        const lastAction = this.#currentAction;\n        this.#currentAction = [];\n\n        /**\n         * Prevent possible error when destroy instance.\n         */\n        if (!currentTweelist) return;\n\n        /**\n         * Each is item is a group, so we need to loop over each tween in group. Update prevValueSettled value for\n         * current loop index.\n         *\n         * First immediate loop is necessary. Once every index is visited the if inside is always skipped.\n         */\n        this.#tweenList[this.#currentIndex] = currentTweelist.map((item) => {\n            const { data } = item;\n            const { tween, valuesTo: currentValuesTo, prevValueSettled } = data;\n\n            /*\n             * Get current valueTo for to use in reverse methods\n             * Get the value only first immediate loop, so if prevValueSettled is settled skip\n             *\n             * Filter only real tween.\n             *\n             * prevValueSettled is settled only once during the entire life of timeline.\n             */\n            if (tween && tween?.getToNativeType && !prevValueSettled) {\n                const nativeValues = tween.getToNativeType();\n\n                /*\n                 * Get only the active prop\n                 * nativeValues -> current value before execute step.\n                 * currentValuesTo -> Step to execute\n                 *\n                 * nativeValues rappresent the previous set of value\n                 */\n                const prevValueTo = filterActiveProps({\n                    data: nativeValues,\n                    filterBy: currentValuesTo,\n                });\n\n                return {\n                    ...item,\n                    data: {\n                        ...data,\n                        prevValueTo,\n                        prevValueSettled: true,\n                    },\n                };\n            }\n\n            return item;\n        });\n\n        /**\n         * Each is item is a group, so we need to loop over each tween in group.\n         */\n        const tweenPromises = currentTweelist.map((item) => {\n            const { data } = item;\n\n            const {\n                tween,\n                callback,\n                action,\n                valuesFrom,\n                valuesTo,\n                tweenProps,\n                id,\n            } = data;\n\n            /**\n             * Clone tween prop and remove from timeline props We need to manipulate props.\n             *\n             * Immediate = true if we walk timeline only for set prevValueTo. relative props reset ( not allowed )\n             */\n            const newTweenProps = { ...tweenProps };\n            delete newTweenProps.delay;\n\n            /*\n             * activate immediate prop if we walk thru tweens in test mode\n             */\n            const { active: labelIsActive, index: labelIndex } = this.#useLabel;\n\n            /*\n             * Loop immediate ( test mode ) if:\n             *\n             * labelIsActive is true;\n             * labelIndex is minus currentIndex\n             */\n            const isImmediate = Number.isNaN(labelIndex)\n                ? false\n                : labelIsActive &&\n                  labelIndex &&\n                  // @ts-ignore\n                  this.#currentIndex < labelIndex;\n\n            /*\n             * set new immediate prop to true.\n             */\n            if (isImmediate) newTweenProps.immediate = true;\n\n            /*\n             * If some tween use relative props the value is applied as relative\n             * only the in the this loop\n             */\n            if (tweenProps && 'relative' in tweenProps && tweenProps.relative) {\n                tweenProps.relative = false;\n                relativePropInsideTimelineWarning();\n            }\n\n            /*\n             * Update current action.\n             * Use this to check if we execute the same cicly two time consegutive.\n             */\n            this.#currentAction.push({ id, action });\n\n            /*\n             * Check if the previous block is running again\n             */\n            const prevActionIsCurrent = lastAction.find(\n                ({ id: prevId, action: prevAction }) => {\n                    return prevId === id && prevAction === action;\n                }\n            );\n\n            /*\n             * Current action data. Than we match key in object.\n             */\n            const fn = {\n                set: () => {\n                    /**\n                     * Clear eventually previous primise from promise race condition\n                     */\n                    tween?.clearCurretPromise?.();\n\n                    return tween?.[/** @type {'set'} */ (action)](\n                        valuesFrom,\n                        newTweenProps\n                    );\n                },\n                goTo: () => {\n                    /**\n                     * Clear eventually previous primise from promise race condition\n                     */\n                    tween?.clearCurretPromise?.();\n\n                    return tween?.[/** @type {'goTo'} */ (action)](\n                        valuesTo,\n                        newTweenProps\n                    );\n                },\n                goFrom: () => {\n                    /**\n                     * Clear eventually previous primise from promise race condition\n                     */\n                    tween?.clearCurretPromise?.();\n\n                    return tween?.[/** @type {'goFrom'} */ (action)](\n                        valuesFrom,\n                        newTweenProps\n                    );\n                },\n                goFromTo: () => {\n                    /**\n                     * Clear eventually previous primise from promise race condition\n                     */\n                    tween?.clearCurretPromise?.();\n\n                    return tween?.[/** @type {'goFromTo'} */ (action)](\n                        valuesFrom,\n                        valuesTo,\n                        newTweenProps\n                    );\n                },\n                add: () => {\n                    /*\n                     * Prevent fire the same last add\n                     * Es reverseNext inside it cause an infinite loop\n                     */\n                    if (prevActionIsCurrent) {\n                        return new Promise((res) => res({ resolve: true }));\n                    }\n\n                    return new Promise((res) => {\n                        if (isImmediate) {\n                            res({ resolve: true });\n                            return;\n                        }\n\n                        // Custom function\n                        const direction = this.getDirection();\n                        callback({\n                            direction,\n                            loop: this.#loopCounter,\n                        });\n                        res({ resolve: true });\n                    });\n                },\n                addAsync: () => {\n                    /**\n                     * Activate addAsyncFlag\n                     *\n                     * SessionId change each play/playReverse and so on. Make sure that this step run only in current\n                     * session.\n                     */\n                    this.#addAsyncIsActive = true;\n                    const sessionId = this.#sessionId;\n\n                    /*\n                     * Prevent fire the same last addAsync\n                     * Es reverseNext inside it cause an infinite loop\n                     * prevActionIsCurrent check if the same block run twice consegutive.\n                     */\n                    if (prevActionIsCurrent) {\n                        return new Promise((res) => res({ resolve: true }));\n                    }\n\n                    return new Promise((res, reject) => {\n                        if (isImmediate) {\n                            res({ resolve: true });\n                            return;\n                        }\n\n                        const direction = this.getDirection();\n\n                        callback({\n                            direction,\n                            loop: this.#loopCounter,\n                            resolve: () => {\n                                if (sessionId === this.#sessionId) {\n                                    res({ resolve: true });\n                                    return;\n                                }\n\n                                reject();\n                            },\n                        });\n                    });\n                },\n                createGroup: () => {\n                    return new Promise((res) => res({ resolve: true }));\n                },\n                closeGroup: () => {\n                    return new Promise((res) => res({ resolve: true }));\n                },\n                label: () => {\n                    return new Promise((res) => res({ resolve: true }));\n                },\n                suspend: () => {\n                    /*\n                     * Prevent fire the same last add\n                     * Es reverseNext inside it cause an infinite loop\n                     * prevActionIsCurrent check if the same block run twice consegutive.\n                     */\n                    if (prevActionIsCurrent) {\n                        return new Promise((res) => res({ resolve: true }));\n                    }\n\n                    /*\n                     * Check callback that return a bollean to fire supend\n                     */\n                    const valueIsValid = MobCore.checkType(Boolean, callback());\n                    if (!valueIsValid) timelineSuspendWarning(callback);\n                    const sholudSuspend = valueIsValid ? callback() : true;\n                    return new Promise((res) => {\n                        if (!isImmediate && sholudSuspend) {\n                            this.#isInSuspension = true;\n                        }\n                        res({ resolve: true });\n                    });\n                },\n            };\n\n            return new Promise((res, reject) => {\n                // Get delay\n                const delay = isImmediate ? false : tweenProps?.delay;\n                const previousSessionId = this.#sessionId;\n\n                /**\n                 * Start specific delay item group\n                 */\n                if (delay) {\n                    const start = MobCore.getTime();\n                    this.#delayIsRunning = true;\n\n                    requestAnimationFrame(() => {\n                        this.#loopOnDelay({\n                            start,\n                            deltaTimeOnpause: 0,\n                            delay,\n                            reject,\n                            res,\n                            previousSessionId,\n                            tween,\n                            fn,\n                            action,\n                        });\n                    });\n\n                    return;\n                }\n\n                resolveTweenPromise({\n                    reject,\n                    res,\n                    isStopped: this.#isStopped,\n                    startOnDelay: this.#startOnDelay,\n                    isInPause: this.#isInPause,\n                    addToActiveTween: (tween) => this.#addToActiveTween(tween),\n                    currentSessionId: this.#sessionId,\n                    previousSessionId,\n                    tween,\n                    fn,\n                    action,\n                });\n            });\n        });\n\n        /**\n         * When group have waitComplete === true, all the teen in group have the same props so, check if the griup item\n         * is seted to waitComplete or not\n         */\n        const waitComplete = this.#tweenList[this.#currentIndex].some(\n            (item) => {\n                return item.data.groupProps?.waitComplete;\n            }\n        );\n\n        const promiseType = waitComplete ? 'all' : 'race';\n\n        // @ts-ignore\n        Promise[promiseType](tweenPromises)\n            .then(() => {\n                if (this.#isInSuspension || this.#isStopped) return;\n\n                /**\n                 * Current label state\n                 */\n                const {\n                    active: labelIsActive,\n                    index: labelIndex,\n                    isReverse: labelIsReverse,\n                    callback: callbackLabel,\n                } = this.#useLabel;\n\n                /*\n                 * this.#play() / this.#playFromLabel() / this.#playFromReverse() use this condition.\n                 *\n                 * Walk immediate from 0 to end of Timeline ( this.playReverse() ),\n                 * Here we have reach the end, and callback will be fired to reach the right label ( this.#play() use 0 ).\n                 *\n                 * Is skipped by this.playReverse(): does not set callback\n                 * simply reach the and of timeline in immediate mode then go on natuarally ( use this.#forceYoYo = false ).\n                 *\n                 */\n                if (\n                    callbackLabel &&\n                    labelIsActive &&\n                    // @ts-ignore\n                    this.#currentIndex === labelIndex - 1\n                ) {\n                    this.#resetUseLabel();\n                    this.#loopCounter++;\n\n                    /**\n                     * ResetUseLabel() reset reference to function not function itSelf.\n                     */\n                    callbackLabel();\n                    return;\n                }\n\n                /*\n                 * this.#playFromReverse() only\n                 *\n                 * 1) Test loop ( previous condition ) o to end of timeline.\n                 *\n                 * 2) Walk until label ( index - 1 ) is reached\n                 *\n                 * 3) Reverse next step because is playFromReverse.\n                 *\n                 * The timeline is reversed next step without increment currentIndex ( the condition end with a return statement )\n                 **/\n                if (\n                    labelIsActive &&\n                    labelIsReverse &&\n                    // @ts-ignore\n                    this.#currentIndex === labelIndex - 1\n                ) {\n                    this.reverseNext();\n                }\n\n                /**\n                 * Reverse on next step default\n                 */\n                if (this.#isReverseNext) {\n                    this.#isReverseNext = false;\n                    this.#currentIndex =\n                        this.#tweenList.length - this.#currentIndex - 1;\n                    this.#resetUseLabel();\n                    this.#revertTween();\n                    this.#run();\n                    return;\n                }\n\n                /**\n                 * Run next step default Update currentIndex\n                 */\n                if (this.#currentIndex < this.#tweenList.length - 1) {\n                    this.#currentIndex++;\n                    this.#run();\n                    return;\n                }\n\n                /**\n                 * End of timeline, check repeat\n                 */\n                if (this.#loopCounter < this.#repeat || this.#repeat === -1) {\n                    /*\n                     * Start timeline in reverse mode here set all tween to end position and go,\n                     * This step is used if we come form playReverse() ( we have labelIsActive = true )\n                     */\n                    if (\n                        labelIsActive &&\n                        labelIndex === this.#tweenList.length &&\n                        !this.#freeMode\n                    ) {\n                        const tweenPromise = this.#tweenStore.map(\n                            ({ tween }) => {\n                                const data = reduceTweenUntilIndex({\n                                    timeline: this.#tweenList,\n                                    tween,\n                                    index: this.#tweenList.length,\n                                });\n\n                                return new Promise((resolve, reject) => {\n                                    tween\n                                        .set(data)\n                                        .then(() => resolve({ resolve: true }))\n                                        .catch(() => reject());\n                                });\n                            }\n                        );\n                        Promise.all(tweenPromise)\n                            .then(() => {\n                                this.#onRepeat();\n                            })\n                            .catch(() => {});\n                        return;\n                    }\n\n                    /*\n                     * Go default\n                     */\n                    this.#onRepeat();\n                    return;\n                }\n\n                /**\n                 * All ended Fire and of timeline\n                 */\n                this.#callbackComplete.forEach(({ cb }) => cb());\n                this.#isStopped = true;\n\n                if (this.#currentResolve) {\n                    handleNextFrame.add(() => {\n                        handleNextTick.add(() => {\n                            this.#currentResolve?.({ resolve: true });\n                        });\n                    });\n                }\n            })\n            .catch(() => {\n                // If play or reverse or playFromLabel is fired diring delay tween fail\n                // After fail we can fire the action\n                if (this.#actionAfterReject.active) {\n                    console.log('actionAfterReject fired');\n                    this.#actionAfterReject.fn();\n                    this.#actionAfterReject.fn = () => {};\n                    this.#actionAfterReject.active = false;\n                    return;\n                }\n            })\n            .finally(() => {\n                /**\n                 * Primise was completed AddAsync is resolved\n                 */\n                this.#addAsyncIsActive = false;\n            });\n    }\n\n    /**\n     * The method run only if tween has delay. Resolve tween delay.\n     *\n     * @param {Object} param0\n     * @param {number} param0.start\n     * @param {number} param0.deltaTimeOnpause\n     * @param {number} param0.delay\n     * @param {(value: any) => void} param0.reject - Timeline current group item promise\n     * @param {(value: any) => void} param0.res - Timeline current group item promise\n     * @param {number} param0.previousSessionId\n     * @param {any} param0.tween\n     * @param {Record<string, () => void>} param0.fn\n     * @param {string} param0.action\n     */\n    #loopOnDelay({\n        start,\n        deltaTimeOnpause,\n        delay,\n        reject,\n        res,\n        previousSessionId,\n        tween,\n        fn,\n        action,\n    }) {\n        const current = MobCore.getTime();\n\n        /**\n         * Time elapsed from the start of current timeline step.\n         */\n        let delta = current - start;\n\n        /*\n         * Time elapsed from pause() start.\n         */\n        if (this.#isInPause) deltaTimeOnpause = current - this.#timeOnPause;\n\n        /*\n         * #actionAfterReject cache next action ( play/playReverse ) when user call previous method and a tween is waitng delay end.\n         * this condition equalize delay && delta value so enter in the resolveTweenPromise function.\n         */\n        if (this.#actionAfterReject.active) {\n            deltaTimeOnpause = 0;\n            delta = delay;\n        }\n\n        /**\n         * RESOLVE DELAY:\n         *\n         * Delta - deltaTimeOnpause: reconciliate time: total duration of current timeline step less time elapsed in\n         * pause. Loop #loopOnDelay until reconciliate time is minus delay time\n         *\n         * When reconciliate time is over delay value the tween should go ( delay is ended ). NOTE: dealy is timeline\n         * internal property not tween property. th if is the real delay check.\n         *\n         * If the time elapsed in current timeline step is over delay value need to resolve or reject timeline item\n         * group promsie. the same in case of stop new play, or reverse next\n         *\n         * If there is no problem run tween, if there is problem reject promise of current timeline group item, so\n         * timeline con go in next step.\n         *\n         * OK: resolve current timeline group promise. timeline group item promise is resolved by tweeen resolve.\n         *\n         * NO OK: reject current timeline group promise. if isStopped if play() if fired when pause status is active if\n         * sessionId change\n         */\n        if (\n            delta - deltaTimeOnpause >= delay ||\n            this.#isStopped ||\n            this.#isReverseNext\n        ) {\n            /**\n             * Is settled to true on first loopOnDelay() execution.\n             */\n            this.#delayIsRunning = false;\n\n            resolveTweenPromise({\n                reject,\n                res,\n                isStopped: this.#isStopped,\n                startOnDelay: this.#startOnDelay,\n                isInPause: this.#isInPause,\n                addToActiveTween: (tween) => {\n                    return this.#addToActiveTween(tween);\n                },\n                currentSessionId: this.#sessionId,\n                previousSessionId,\n                tween,\n                fn,\n                action,\n            });\n\n            return;\n        }\n\n        /**\n         * Continue delay loop.\n         */\n        requestAnimationFrame(() => {\n            this.#loopOnDelay({\n                start,\n                deltaTimeOnpause,\n                delay,\n                reject,\n                res,\n                previousSessionId,\n                tween,\n                fn,\n                action,\n            });\n        });\n    }\n\n    /**\n     * Execute repeat.\n     *\n     * @type {() => void}\n     */\n    #onRepeat() {\n        /*\n         * Fire callbackLoop\n         */\n        if (this.#loopCounter > 0) {\n            const direction = this.getDirection();\n            this.#callbackLoop.forEach(({ cb }) =>\n                cb({\n                    direction,\n                    loop: this.#loopCounter,\n                })\n            );\n        }\n\n        this.#loopCounter++;\n        this.#currentIndex = 0;\n        this.#resetUseLabel();\n        if (this.#yoyo || this.#forceYoyo) this.#revertTween();\n        this.#forceYoyo = false;\n        this.#run();\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineAddToActiveTween}\n     */\n    #addToActiveTween(tween) {\n        const tweenId = tween?.getId && tween.getId();\n        if (!tweenId) return NOOP;\n\n        const prevActiveTweenCounter = this.#activetweenCounter;\n        this.#activetweenCounter++;\n\n        this.#currentTween.push({\n            tween,\n            uniqueId: tweenId,\n            id: prevActiveTweenCounter,\n        });\n\n        return () => {\n            this.#currentTween = this.#currentTween.filter(\n                ({ id }) => id !== prevActiveTweenCounter\n            );\n        };\n    }\n\n    /**\n     * Revert main tweenList array. When timeline run inverse, run from currentIndex equal 0 but with an array reverted\n     * and tween props reverted.\n     *\n     * @type {() => void}\n     */\n    #revertTween() {\n        this.#isReverse = !this.#isReverse;\n        this.#tweenList = this.#tweenList.reverse().map((group) => {\n            return group.reverse().map((item) => {\n                const { data } = item;\n                const { action, valuesFrom, prevValueTo, valuesTo } = data;\n\n                const currentValueTo = valuesTo;\n\n                switch (action) {\n                    case 'goTo': {\n                        return {\n                            ...item,\n                            data: {\n                                ...data,\n                                valuesTo: prevValueTo,\n                                prevValueTo: currentValueTo,\n                            },\n                        };\n                    }\n\n                    case 'goFromTo': {\n                        return {\n                            ...item,\n                            data: {\n                                ...data,\n                                valuesFrom: valuesTo,\n                                valuesTo: valuesFrom,\n                            },\n                        };\n                    }\n\n                    case 'goFrom': {\n                        timelineReverseGoFromWarning();\n                        this.stop();\n                    }\n                }\n\n                return item;\n            });\n        });\n    }\n\n    /**\n     * Common method, add all action to main array\n     *\n     * @type {import('./type.js').AsyncTimelineAddToMainArray}\n     */\n    #addToMainArray(obj) {\n        /**\n         * Check if the is an active group and the group is just created\n         */\n        const rowIndex = this.#tweenList.findIndex((item) => {\n            return item[0]?.group && item[0].group === this.#groupId;\n        });\n\n        /**\n         * If there is an active group append interpolation to current group\n         */\n        if (rowIndex !== -1) {\n            this.#tweenList[rowIndex].push({ group: this.#groupId, data: obj });\n            return;\n        }\n\n        this.#tweenList.push([{ group: this.#groupId, data: obj }]);\n    }\n\n    /**\n     * Register all tween used in timeline.\n     *\n     * @type {import('./type.js').AsyncTimelineAddTweenToStore} tween\n     */\n    #addTweenToStore(tween) {\n        const uniqueId = tween?.getId?.();\n        const tweenIsStored = this.#tweenStore.find(\n            ({ id }) => id === uniqueId\n        );\n        if (tweenIsStored) return;\n\n        const obj = { id: uniqueId, tween };\n        this.#tweenStore.push(obj);\n    }\n\n    /**\n     * Reset all tween used in timeline.\n     *\n     * @type {() => void}\n     */\n    #resetAllTween() {\n        this.#tweenStore.forEach(({ tween }) => tween.resetData());\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineSet}\n     */\n    set(tween, valuesSet = {}, tweenProps = {}) {\n        if (!asyncTimelineTweenIsValid(tween)) return this;\n        tweenProps.delay = asyncTimelineDelayIsValid(tweenProps?.delay);\n\n        /**\n         * Get previousValues until this step and merge with user data\n         */\n        const previousValues = this.#inheritProps\n            ? reduceTweenUntilIndex({\n                  timeline: this.#tweenList,\n                  tween,\n                  index: this.#tweenList.length,\n              })\n            : {};\n\n        const obj = {\n            id: this.#currentTweenCounter,\n            tween,\n            action: 'set',\n            valuesTo: { ...previousValues, ...valuesSet },\n            valuesFrom: { ...previousValues, ...valuesSet },\n            tweenProps,\n            groupProps: { waitComplete: this.#waitComplete },\n        };\n\n        this.#currentTweenCounter++;\n        const mergedObj = { ...this.#defaultObj, ...obj };\n        this.#addToMainArray(mergedObj);\n        this.#addTweenToStore(tween);\n        return this;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineGoTo}\n     */\n    goTo(tween, valuesTo = {}, tweenProps = {}) {\n        if (!asyncTimelineTweenIsValid(tween)) return this;\n        tweenProps.delay = asyncTimelineDelayIsValid(tweenProps?.delay);\n\n        /**\n         * Get previousValues until this step and merge with user data\n         */\n        const previousValues = this.#inheritProps\n            ? reduceTweenUntilIndex({\n                  timeline: this.#tweenList,\n                  tween,\n                  index: this.#tweenList.length,\n              })\n            : {};\n\n        const obj = {\n            id: this.#currentTweenCounter,\n            tween,\n            action: 'goTo',\n            valuesTo: { ...previousValues, ...valuesTo },\n            tweenProps: tweenProps ?? {},\n            groupProps: { waitComplete: this.#waitComplete },\n        };\n\n        this.#currentTweenCounter++;\n        const mergedObj = { ...this.#defaultObj, ...obj };\n        this.#addToMainArray(mergedObj);\n        this.#addTweenToStore(tween);\n        return this;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineGoFrom}\n     */\n    goFrom(tween, valuesFrom = {}, tweenProps = {}) {\n        if (!asyncTimelineTweenIsValid(tween)) return this;\n        tweenProps.delay = asyncTimelineDelayIsValid(tweenProps?.delay);\n\n        /**\n         * Get previousValues until this step and merge with user data\n         */\n        const previousValues = this.#inheritProps\n            ? reduceTweenUntilIndex({\n                  timeline: this.#tweenList,\n                  tween,\n                  index: this.#tweenList.length,\n              })\n            : {};\n\n        const obj = {\n            id: this.#currentTweenCounter,\n            tween,\n            action: 'goFrom',\n            valuesFrom: { ...previousValues, ...valuesFrom },\n            tweenProps,\n            groupProps: { waitComplete: this.#waitComplete },\n        };\n\n        this.#currentTweenCounter++;\n        const mergedObj = { ...this.#defaultObj, ...obj };\n        this.#addToMainArray(mergedObj);\n        this.#addTweenToStore(tween);\n        return this;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineGoFromTo}\n     */\n    goFromTo(tween, valuesFrom = {}, valuesTo = {}, tweenProps = {}) {\n        if (!asyncTimelineTweenIsValid(tween)) return this;\n        tweenProps.delay = asyncTimelineDelayIsValid(tweenProps?.delay);\n\n        /**\n         * Get previousValues until this step and merge with user data\n         */\n        const previousValues = this.#inheritProps\n            ? reduceTweenUntilIndex({\n                  timeline: this.#tweenList,\n                  tween,\n                  index: this.#tweenList.length,\n              })\n            : {};\n\n        const obj = {\n            id: this.#currentTweenCounter,\n            tween,\n            action: 'goFromTo',\n            valuesFrom: { ...previousValues, ...valuesFrom },\n            valuesTo: { ...previousValues, ...valuesTo },\n            tweenProps,\n            groupProps: { waitComplete: this.#waitComplete },\n        };\n\n        this.#currentTweenCounter++;\n        const mergedObj = { ...this.#defaultObj, ...obj };\n        this.#addToMainArray(mergedObj);\n        this.#addTweenToStore(tween);\n        return this;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineAdd}\n     */\n    add(fn = NOOP) {\n        const callback = functionIsValidAndReturnDefault(\n            fn,\n            () => {},\n            'timeline add function'\n        );\n        /**\n         * Can't add this interpolation inside a group. groupId props is not null when active.\n         */\n        if (this.#groupId) {\n            asyncTimelineMetodsInsideGroupWarining('add');\n            return this;\n        }\n\n        const obj = {\n            id: this.#currentTweenCounter,\n            callback,\n            action: 'add',\n            groupProps: { waitComplete: this.#waitComplete },\n        };\n\n        this.#currentTweenCounter++;\n        const mergedObj = { ...this.#defaultObj, ...obj };\n        this.#addToMainArray(mergedObj);\n        return this;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineAddAsync}\n     */\n    addAsync(fn) {\n        const callback = addAsyncFunctionIsValid(fn);\n\n        /**\n         * Can't add this interpolation inside a group. groupId props is not null when active.\n         */\n        if (this.#groupId) {\n            asyncTimelineMetodsInsideGroupWarining('addAsync');\n            return this;\n        }\n\n        const obj = {\n            id: this.#currentTweenCounter,\n            callback,\n            action: 'addAsync',\n            groupProps: { waitComplete: this.#waitComplete },\n        };\n\n        this.#currentTweenCounter++;\n        const mergedObj = { ...this.#defaultObj, ...obj };\n        this.#addToMainArray(mergedObj);\n        return this;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineCreateGroup}\n     */\n    createGroup(groupProps = {}) {\n        /**\n         * Can't add this interpolation inside a group. groupId props is not null when active.\n         */\n        if (this.#groupId) {\n            asyncTimelineMetodsInsideGroupWarining('createGroup');\n            return this;\n        }\n\n        const obj = {\n            id: this.#currentTweenCounter,\n            action: 'createGroup',\n            groupProps,\n        };\n\n        this.#currentTweenCounter++;\n\n        const mergedObj = { ...this.#defaultObj, ...obj };\n        this.#addToMainArray(mergedObj);\n        this.#waitComplete = groupProps?.waitComplete ?? false;\n        this.#groupId = this.#groupCounter++;\n        return this;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineCloseGroup}\n     */\n    closeGroup() {\n        this.#groupId = undefined;\n\n        const obj = {\n            id: this.#currentTweenCounter,\n            action: 'closeGroup',\n        };\n\n        this.#currentTweenCounter++;\n\n        const mergedObj = { ...this.#defaultObj, ...obj };\n        this.#addToMainArray(mergedObj);\n        this.#waitComplete = false;\n        return this;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineSuspend}\n     */\n    suspend(fn = () => true) {\n        /**\n         * Can't add this interpolation inside a group. groupId props is not null when active.\n         */\n        if (this.#groupId) {\n            asyncTimelineMetodsInsideGroupWarining('suspend');\n            return this;\n        }\n\n        const obj = {\n            id: this.#currentTweenCounter,\n            callback: fn,\n            action: 'suspend',\n            groupProps: { waitComplete: this.#waitComplete },\n        };\n\n        this.#currentTweenCounter++;\n        const mergedObj = { ...this.#defaultObj, ...obj };\n        this.#addToMainArray(mergedObj);\n        return this;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineLabel}\n     */\n    label(labelProps = {}) {\n        /**\n         * Can't add this interpolation inside a group. groupId props is not null when active.\n         */\n        if (this.#groupId) {\n            asyncTimelineMetodsInsideGroupWarining('label');\n            return this;\n        }\n\n        if (!valueStringIsValid(labelProps?.name, 'asyncTimeline label:'))\n            return this;\n\n        const obj = {\n            id: this.#currentTweenCounter,\n            action: 'label',\n            labelProps,\n            groupProps: { waitComplete: this.#waitComplete },\n        };\n\n        this.#currentTweenCounter++;\n        const mergedObj = { ...this.#defaultObj, ...obj };\n        this.#addToMainArray(mergedObj);\n        return this;\n    }\n\n    /**\n     * AutoSet: Add a set 'tween' at start and end of timeline.\n     *\n     * @type {() => void}\n     */\n    #addSetBlocks() {\n        // Create set only one time\n        if (this.#autoSetIsJustCreated) return;\n        this.#autoSetIsJustCreated = true;\n\n        /*\n         * END Blocks\n         * Add set block at the end of timeline for every tween with last toValue\n         */\n        this.#tweenStore.forEach(({ tween }) => {\n            const setValueTo = tween.getInitialData();\n\n            const obj = {\n                id: this.#currentTweenCounter,\n                tween,\n                action: 'set',\n                valuesFrom: setValueTo,\n                valuesTo: setValueTo,\n                groupProps: { waitComplete: this.#waitComplete },\n            };\n\n            this.#currentTweenCounter++;\n\n            const mergedObj = { ...this.#defaultObj, ...obj };\n            this.#tweenList = [\n                [{ group: undefined, data: mergedObj }],\n                ...this.#tweenList,\n            ];\n        });\n\n        /*\n         * END Blocks\n         * Add set block at the end of timeline for every tween with last toValue\n         */\n        this.#tweenStore.forEach(({ tween }) => {\n            const setValueTo = reduceTweenUntilIndex({\n                timeline: this.#tweenList,\n                tween,\n                index: this.#tweenList.length,\n            });\n\n            const obj = {\n                id: this.#currentTweenCounter,\n                tween,\n                action: 'set',\n                valuesFrom: setValueTo,\n                valuesTo: setValueTo,\n                groupProps: { waitComplete: this.#waitComplete },\n            };\n\n            this.#currentTweenCounter++;\n            const mergedObj = { ...this.#defaultObj, ...obj };\n            this.#tweenList.push([{ group: undefined, data: mergedObj }]);\n        });\n    }\n\n    /**\n     * Execute a set() method of specified tweens at specified label\n     *\n     * @type {import('./type.js').AsyncTimelineSetTween}\n     */\n    setTween(label = '', items = []) {\n        this.stop();\n\n        const itemsIsArray = timelineSetTweenArrayIsValid(items);\n        const labelIsString = timelineSetTweenLabelIsValid(label);\n\n        if (!itemsIsArray || !labelIsString)\n            return Promise.reject(\n                new Error('timeline setTween: props is wrong')\n            );\n\n        /*\n         * Filter user tween from frameStore\n         */\n        const itemsId = new Set(items.map((item) => item?.getId?.()));\n        const tweens = this.#tweenStore.filter(({ id }) => {\n            return itemsId.has(id);\n        });\n\n        /*\n         * Get index from label\n         */\n        const index = this.#tweenList.findIndex((item) => {\n            const [firstItem] = item;\n            const labelCheck = firstItem.data.labelProps?.name;\n            return labelCheck === label;\n        });\n\n        if (index === -1) {\n            timelineSetTweenLabelNotFoundWarining(label);\n            return Promise.reject(\n                new Error(`asyncTimeline.setTween() label: ${label} not found`)\n            );\n        }\n\n        /*\n         * Fire set method of selected tween and resolve promise\n         */\n        return new Promise((resolve) => {\n            const tweenPromise = tweens.map(({ tween }) => {\n                const data = reduceTweenUntilIndex({\n                    timeline: this.#tweenList,\n                    tween,\n                    index,\n                });\n\n                return new Promise((resolveTween, rejectTween) => {\n                    tween\n                        .set(data)\n                        .then(() => resolveTween({ resolve: true }))\n                        .catch(() => rejectTween());\n                });\n            });\n            Promise.all(tweenPromise)\n                .then(() => {\n                    resolve({ resolve: true });\n                })\n                .catch(() => {\n                    timelineSetTweenFailWarining();\n                });\n        });\n    }\n\n    /**\n     * Reject promise without error in console ( Firefix do not ).\n     */\n    #rejectPromise() {\n        if (this.#currentReject) {\n            this.#currentReject(MobCore.ANIMATION_STOP_REJECT);\n            this.#currentReject = undefined;\n        }\n    }\n\n    /**\n     * Utils for play() / playReverse() / etc...\n     */\n    async #waitFps() {\n        /**\n         * Always play after FPS is ready. Reject every tentative to run timeline while fps is loading after first call.\n         * Ensure timeline return only first resolve created.\n         */\n        if (this.#fpsIsInLoading)\n            // eslint-disable-next-line unicorn/no-useless-promise-resolve-reject\n            return Promise.reject(MobCore.ANIMATION_STOP_REJECT);\n\n        this.#fpsIsInLoading = true;\n\n        /**\n         * Await fps check.\n         */\n        await MobCore.useFps();\n        this.#fpsIsInLoading = false;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelinePlayFrom}\n     */\n    async playFrom(label) {\n        await this.#waitFps();\n\n        return this.#playFromUpDown(label, false);\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelinePlayFrom}\n     */\n    async playFromReverse(label) {\n        await this.#waitFps();\n\n        return this.#playFromUpDown(label, true);\n    }\n\n    /**\n     * FLow:\n     *\n     * 2. Execute test loop via this.playReverse() to set `prevValueSettled`.\n     * 3. Then when timeline reach the end useLabel is reassigned, so walk thru right label.\n     *\n     * @type {import('./type.js').AsyncTimelinePlayUpeDown}\n     */\n    #playFromUpDown(label, isReverse) {\n        return new Promise((resolve, reject) => {\n            /**\n             * RUN\n             *\n             * Always do a test loop to get right prevValueSettled value Than redefine useLabel inside callback to reach\n             * right label index In this case no other callback after label is needed.\n             */\n            this.playReverse({\n                forceYoYo: false,\n                resolve,\n                reject,\n                callback: () => {\n                    /**\n                     * Skip of there is nothing to run\n                     */\n                    if (this.#tweenList.length === 0 || this.#addAsyncIsActive)\n                        return;\n\n                    /**\n                     * Normalize reverse status.\n                     */\n                    if (this.#isReverse) this.#revertTween();\n\n                    /*\n                     * Reset currentIndex.\n                     */\n                    this.#currentIndex = 0;\n\n                    /**\n                     * Define condition to go to right timeline index after first test loop. When playReverse loop is\n                     * ended, this.#useLabel is reassigned here, this time no callback is needed.\n                     */\n                    this.#useLabel = {\n                        isReverse,\n                        active: true,\n                        index: MobCore.checkType(String, label)\n                            ? this.#tweenList.findIndex((item) => {\n                                  const [firstItem] = item;\n                                  const labelCheck =\n                                      firstItem.data.labelProps?.name;\n                                  return labelCheck === label;\n                              })\n                            : label,\n                        callback: undefined,\n                    };\n\n                    /**\n                     * Check if label index is valid\n                     */\n                    if (MobCore.checkType(String, label))\n                        playLabelIsValid(this.#useLabel.index, label);\n\n                    this.#run();\n                },\n            });\n        });\n    }\n\n    /**\n     * 1. Execute test loop via this.playReverse() to set `prevValueSettled`.\n     * 2. Then when timeline reach the end run from currentIndex 0, ( stop() reset currentIndex )\n     *\n     * @type {() => Promise<any>}\n     */\n    async play() {\n        await this.#waitFps();\n\n        return new Promise((resolve, reject) => {\n            /**\n             * Add Tween at start/end if needed\n             */\n            if (this.#autoSet) this.#addSetBlocks();\n\n            /**\n             * RUN free mode and exit method. In free mode stop current loop. than play normally without set tween to\n             * start value ( autoSet ).\n             */\n            if (this.#freeMode) {\n                /*\n                 * In freeMode every tween start form current value in use at the moment\n                 */\n                if (this.#tweenList.length === 0 || this.#addAsyncIsActive)\n                    return;\n\n                /**\n                 * If a tween has delay and is not start reject main promise and fire the new pipe\n                 * This.#actionAfterReject will be fired when reject main promise.\n                 */\n                if (this.#delayIsRunning && !this.#actionAfterReject.active) {\n                    this.#startOnDelay = true;\n                    this.#actionAfterReject = {\n                        fn: () => this.play(),\n                        active: true,\n                    };\n                    return;\n                }\n\n                this.#startOnDelay = false;\n                this.stop();\n                this.#isStopped = false;\n\n                /**\n                 * Normalize this.#isReverse status.\n                 */\n                if (this.#isReverse) this.#revertTween();\n\n                /**\n                 * Update session id.\n                 */\n                this.#sessionId++;\n\n                /*\n                 * Run one frame after stop to avoid overlap with promise resolve/reject\n                 */\n                MobCore.useFrameIndex(() => {\n                    // Set current promise action after stop so is not fired in stop method\n                    this.#currentReject = reject;\n                    this.#currentResolve = resolve;\n\n                    /**\n                     * Clean run\n                     */\n                    this.#run();\n                }, 1);\n\n                return;\n            }\n\n            /**\n             * RUN No free mode\n             */\n            this.playReverse({\n                forceYoYo: false,\n                callback: () => {\n                    /**\n                     * Need to reset current data after reverse() of tween so use stop() this.#currentIndex is updated\n                     * in this.stop() function\n                     */\n                    this.stop();\n                    this.#isStopped = false;\n\n                    /*\n                     * When start form play in default mode ( no freeMode )\n                     * an automatic set method is Executed with initial data\n                     */\n                    const tweenPromise = this.#tweenStore.map(({ tween }) => {\n                        const data = tween.getInitialData();\n\n                        return new Promise((resolve, reject) => {\n                            tween\n                                .set(data)\n                                .then(() => resolve({ resolve: true }))\n                                .catch(() => reject());\n                        });\n                    });\n                    Promise.all(tweenPromise)\n                        .then(() => {\n                            // Set current promise action after stop so is not fired in stop method\n                            this.#currentReject = reject;\n                            this.#currentResolve = resolve;\n                            this.#run();\n                        })\n                        .catch(() => {});\n                },\n            });\n        });\n    }\n\n    /**\n     * 1. Run a test loop to update prevValueSettled\n     *\n     * 2a) callback is defined: When timeline reach the end fire this callback.\n     *\n     * 2b) no callback is defined && forceYoYo = true ( this.playReverse() clean ): this.#forceYoYo = true force\n     * timeline to fire this.#revertTween() that revert main timeline array and then go on naturally after test loop.\n     *\n     * 2c) no callback is defined && forceYoYo = false ( this.play ) start from 0 after test loop\n     *\n     * @type {import('./type.js').AsyncTimelinePlayReverse}\n     */\n    async playReverse({\n        forceYoYo = true,\n        callback,\n        resolve = null,\n        reject = null,\n    } = {}) {\n        await this.#waitFps();\n\n        return new Promise((thisResolve, thisReject) => {\n            const currentResolve = resolve ?? thisResolve;\n            const currentReject = reject ?? thisReject;\n            const forceYoYoNow = forceYoYo;\n            const callbackNow = callback;\n\n            if (this.#autoSet) this.#addSetBlocks();\n\n            /**\n             * Skip of there is nothing to run\n             */\n            if (this.#tweenList.length === 0 || this.#addAsyncIsActive) return;\n\n            /**\n             * If a tween has delay and is not start reject main promise and fire the new pipe This.#actionAfterReject\n             * will be fired when reject main promise.\n             */\n            if (this.#delayIsRunning && !this.#actionAfterReject.active) {\n                this.#startOnDelay = true;\n\n                this.#actionAfterReject = {\n                    fn: () =>\n                        this.playReverse({\n                            forceYoYo: forceYoYoNow,\n                            callback: callbackNow,\n                            resolve: currentResolve,\n                            reject: currentReject,\n                        }),\n                    active: true,\n                };\n\n                return;\n            }\n\n            /**\n             * Rest necessary props\n             */\n            this.#startOnDelay = false;\n            this.stop();\n            this.#isStopped = false;\n\n            /*\n             * Default playReverse()\n             *\n             * Walk thru timeline until the end,\n             * so we can run reverse next step with forceyoyo\n             * forceyoyo is used only if we play directly from end\n             * PlayFrom which use reverse() need to go in forward direction\n             */\n            if (forceYoYoNow) this.#forceYoyo = true;\n\n            /*\n             * Lalbel state, this run is for get prevValueSettled.\n             *\n             * Set callback to fire when timeline reach end in immediate mode ( useLabel ). In case\n             * this.playReverse() is called by play/playFromLabel/playFrom, need to reach right index after\n             * immediate loop.\n             *\n             * If no callback is used run from currentIndex 0.\n             */\n            this.#useLabel = {\n                active: true,\n                index: this.#tweenList.length,\n                isReverse: false,\n                callback,\n            };\n\n            /**\n             * When play reverse first loop is virtual So decrement the loop number by 1\n             */\n            this.#loopCounter--;\n            this.#sessionId++;\n\n            /*\n             * Run one frame after stop to avoid overlap with promise resolve/reject\n             */\n            MobCore.useFrameIndex(() => {\n                // Set current promise action after stop so is not fired in stop method\n                this.#currentResolve = currentResolve;\n                this.#currentReject = currentReject;\n                this.#run();\n            }, 1);\n        });\n    }\n\n    /**\n     * @type {() => void}\n     */\n    reverseNext() {\n        this.#isReverseNext = true;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineStop}\n     */\n    stop({ clearCache = true } = {}) {\n        this.#isStopped = true;\n        this.#currentIndex = 0;\n        this.#loopCounter = 1;\n        this.#rejectPromise();\n\n        // Reset state\n        this.#isReverseNext = false;\n        this.#resetUseLabel();\n        this.#forceYoyo = false;\n        this.#isInPause = false;\n        this.#isInSuspension = false;\n        this.#addAsyncIsActive = false;\n        this.#timeOnPause = 0;\n\n        // Stop all Tween\n        this.#tweenStore.forEach(({ tween }) => {\n            tween?.stop?.({ clearCache });\n        });\n\n        // If reverse back to default direction\n        if (this.#isReverse) this.#revertTween();\n        this.#isReverse = false;\n\n        /*\n         * If freeMode is false we\n         * set tween 'store' with original data.\n         * So we are sure that next loop start from initial data\n         */\n        if (!this.#freeMode) this.#resetAllTween();\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelinePause}\n     */\n    pause() {\n        this.#isInPause = true;\n        this.#timeOnPause = MobCore.getTime();\n        this.#currentTween.forEach(({ tween }) => {\n            tween?.pause?.();\n        });\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineResume}\n     */\n    resume() {\n        if (this.#isInPause) {\n            this.#isInPause = false;\n            this.#timeOnPause = 0;\n            this.#resumeEachTween();\n        }\n\n        if (this.#isInSuspension) {\n            this.#isInSuspension = false;\n            this.#timeOnPause = 0;\n\n            if (this.#currentIndex <= this.#tweenList.length - 2) {\n                this.#currentIndex++;\n                this.#run();\n                return;\n            }\n\n            if (this.#currentIndex === this.#tweenList.length - 1) {\n                /**\n                 * At the end suspend become item in pipe first ro skip it\n                 */\n                this.#currentIndex = this.#yoyo && !this.#isReverse ? 1 : 0;\n                this.#resetUseLabel();\n                if (this.#yoyo) this.#revertTween();\n                this.#loopCounter++;\n                this.#run();\n            }\n        }\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #resetUseLabel() {\n        this.#useLabel = {\n            active: false,\n            index: -1,\n            isReverse: false,\n            callback: undefined,\n        };\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #resumeEachTween() {\n        this.#currentTween.forEach(({ tween }) => {\n            tween?.resume?.();\n        });\n    }\n\n    /**\n     * Get an array of active instance.\n     *\n     * @example\n     *     ```javascript\n     *     const tweens = myTimeline.get()\n     *\n     *\n     *     ```;\n     *\n     * @returns {import('./type.js').AsyncTimelineCurrentTween[]} - Returns an array with all tweens active at the time\n     *   the method is called\n     */\n    get() {\n        return this.#currentTween;\n    }\n\n    /**\n     * Return active state.\n     *\n     * @example\n     *     ```javascript\n     *     const isActive = myTimeline.isActive();\n     *\n     *\n     *     ```;\n     *\n     * @returns {boolean} Returns a boolean value indicating whether the timeline is active\n     */\n    isActive() {\n        return !this.#isStopped;\n    }\n\n    /**\n     * Return pause state.\n     *\n     * @example\n     *     ```javascript\n     *     const isPaused = myTimeline.isPaused():\n     *\n     *\n     *     ```;\n     *\n     * @returns {boolean} Returns a boolean value indicating whether the timeline is in pause\n     */\n    isPaused() {\n        return this.#isInPause;\n    }\n\n    /**\n     * Return suspended state.\n     *\n     * @example\n     *     ```javascript\n     *     const isSuspended = myTimeline.isSuspended();\n     *\n     *\n     *     ```;\n     *\n     * @returns {boolean} Returns a boolean value indicating whether the timeline is suspended\n     */\n    isSuspended() {\n        return this.#isInSuspension;\n    }\n\n    /**\n     * Return current direction.\n     *\n     * @example\n     *     ```javascript\n     *     const direction = myTimeline.getDirection();\n     *\n     *\n     *     ```;\n     *\n     * @returns {import('../utils/timeline/type.js').DirectionType} Returns a boolean value indicating whether the\n     *   timeline is suspended\n     */\n    getDirection() {\n        if (this.#isStopped) return directionConstant.NONE;\n\n        /**\n         * Default\n         */\n        return this.#isReverse\n            ? directionConstant.BACKWARD\n            : directionConstant.FORWARD;\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineOnLoopEnd}\n     */\n    onLoopEnd(cb) {\n        this.#callbackLoop.push({ cb, id: this.#id });\n        const cbId = this.#id;\n        // this.callbackId++;\n\n        return () => {\n            this.#callbackLoop = this.#callbackLoop.filter(\n                (item) => item.id !== cbId\n            );\n        };\n    }\n\n    /**\n     * @type {import('./type.js').AsyncTimelineOnComplete}\n     */\n    onComplete(cb) {\n        this.#callbackComplete.push({ cb, id: this.#id });\n        const cbId = this.#id;\n        this.#id++;\n\n        return () => {\n            this.#callbackComplete = this.#callbackComplete.filter(\n                (item) => item.id !== cbId\n            );\n        };\n    }\n\n    /**\n     * Destroy timeline and all the sequencer\n     */\n    destroy() {\n        this.#tweenStore.forEach(({ tween }) => {\n            tween?.destroy?.();\n        });\n        this.#tweenList = [];\n        this.#currentTween = [];\n        this.#callbackComplete = [];\n        this.#callbackLoop = [];\n        this.#tweenStore = [];\n        this.#currentIndex = 0;\n        this.#useLabel = {\n            active: false,\n            callback: undefined,\n            index: -1,\n            isReverse: false,\n        };\n        this.#actionAfterReject = {\n            active: false,\n            fn: () => {},\n        };\n    }\n}\n", "import { clamp } from '../utils/animation-utils.js';\nimport { syncTimelineLabelWarning } from '../utils/warning.js';\nimport {\n    durationIsValid,\n    repeatIsValid,\n    valueIsBooleanAndReturnDefault,\n} from '../utils/tween-action/tween-validation.js';\nimport { MobCore } from '../../../mob-core/index.js';\nimport { directionConstant } from '../utils/timeline/timeline-constant.js';\nimport { fpsLoadedLog } from '../utils/fps-log-inizialization.js';\n\nexport default class MobSyncTimeline {\n    /**\n     * @type {number}\n     */\n    #duration;\n\n    /**\n     * @type {boolean}\n     */\n    #yoyo;\n\n    /**\n     * @type {number}\n     */\n    #repeat;\n\n    /**\n     * @type {import('./type.js').SyncTimelineSequencers[]}\n     */\n    #sequencers;\n\n    /**\n     * @type {number}\n     */\n    #startTime;\n\n    /**\n     * @type {number}\n     */\n    #timeElapsed;\n\n    /**\n     * @type {number}\n     */\n    #currentTime;\n\n    /**\n     * @type {number}\n     */\n    #pauseTime;\n\n    /**\n     * @type {number}\n     */\n    #timeAtReverse;\n\n    /**\n     * @type {number}\n     */\n    #timeAtReverseBack;\n\n    /**\n     * @type {boolean}\n     */\n    #isReverse;\n\n    /**\n     * @type {boolean}\n     */\n    #startReverse;\n\n    /**\n     * @type {boolean}\n     */\n    #isPlayngReverse;\n\n    /**\n     * @type {number}\n     */\n    #loopCounter;\n\n    /**\n     * @type {number}\n     */\n    #loopIteration;\n\n    /**\n     * @type {number}\n     */\n    #minLoopIteration;\n\n    /**\n     * @type {boolean}\n     */\n    #isStopped;\n\n    /**\n     * @type {boolean}\n     */\n    #skipFirstRender;\n\n    /**\n     * @type {boolean}\n     */\n    #completed;\n\n    /**\n     * @type {boolean}\n     */\n    #fpsIsInLoading;\n\n    /**\n     * @type {boolean}\n     */\n    #isInPause;\n\n    /**\n     * @type {number}\n     */\n    #callbackId;\n\n    /**\n     * @type {import('./type.js').SyncTimelineEvent<{\n     *     direction: import('../utils/timeline/type.js').DirectionType;\n     *     loop: number;\n     * }>[]}\n     */\n    #callbackLoop;\n\n    /**\n     * @type {import('./type.js').SyncTimelineEvent<void>[]}\n     */\n    #callbackComplete;\n\n    /**\n     * @type {import('./type.js').SyncTimelineEvent<{\n     *     time: number;\n     *     direction: import('../utils/timeline/type.js').DirectionType;\n     * }>[]}\n     */\n    #callbackOnUpdate;\n\n    /**\n     * @type{((value:any) => void)|undefined}\n     */\n    #currentResolve;\n\n    /**\n     * @type{((value:any) => void)|undefined}\n     */\n    #currentReject;\n\n    /**\n     * Available methods:\n     *\n     * ```javascript\n     * myTimeline.add();\n     * myTimeline.onLoopEnd();\n     * myTimeline.onComplete();\n     * myTimeline.onUpdate();\n     * myTimeline.stop();\n     * myTimeline.play();\n     * myTimeline.playReverse();\n     * myTimeline.playFrom();\n     * myTimeline.playFromReverse();\n     * myTimeline.reverse();\n     * myTimeline.pause();\n     * myTimeline.resume();\n     * myTimeline.isActive();\n     * myTimeline.isPaused();\n     * myTimeline.getDirection();\n     * myTimeline.getTime();\n     * myTimeline.destroy();\n     * ```\n     *\n     * @example\n     *     ```javascript\n     *     const myTimeline = new HandleSyncTimeline({\n     *       duration: [ Number ],\n     *       yoyo: [ Boolean ],\n     *       repeat: [ Number ]\n     *     })\n     *\n     *\n     *     ```;\n     *\n     * @param {import('./type.js').SyncTimeline} data\n     */\n    constructor(data = {}) {\n        this.#duration = durationIsValid(data?.duration);\n        this.#yoyo = valueIsBooleanAndReturnDefault(\n            data?.yoyo,\n            'syncTimeline: yoyo',\n            false\n        );\n        this.#repeat = repeatIsValid(data?.repeat);\n        this.#sequencers = [];\n        this.#startTime = 0;\n        this.#timeElapsed = 0;\n        this.#currentTime = 0;\n        this.#pauseTime = 0;\n        this.#timeAtReverse = 0;\n        this.#timeAtReverseBack = 0;\n        this.#isReverse = false;\n        this.#startReverse = false;\n        this.#isPlayngReverse = false;\n        this.#loopCounter = 0;\n        this.#loopIteration = 0;\n        this.#minLoopIteration = 10;\n        this.#isStopped = true;\n        this.#skipFirstRender = false;\n        this.#completed = false;\n        this.#fpsIsInLoading = false;\n        this.#isInPause = false;\n        this.#callbackId = 0;\n        this.#callbackLoop = [];\n        this.#callbackComplete = [];\n        this.#callbackOnUpdate = [];\n        this.#currentResolve = undefined;\n        this.#currentReject = undefined;\n    }\n\n    /**\n     * @param {number} time\n     * @param {number} fps\n     */\n    #updateTime(time, fps) {\n        if (this.#isStopped || this.#fpsIsInLoading) return;\n\n        // If loop anitcipate by half frame ( in milliseconds ) next loop so we a have more precise animation\n        const frameThreshold =\n            !this.#repeat ||\n            (this.#repeat >= 2 && this.#loopCounter === this.#repeat - 1)\n                ? 0\n                : 1000 / fps / 2;\n\n        if (this.#isInPause) {\n            this.#pauseTime =\n                time -\n                this.#startTime -\n                this.#timeElapsed -\n                this.#timeAtReverseBack;\n        }\n\n        this.#timeElapsed = Math.trunc(\n            time - this.#startTime - this.#pauseTime - this.#timeAtReverseBack\n        );\n\n        const partial = this.#isReverse\n            ? this.#timeAtReverse - (this.#timeElapsed - this.#timeAtReverse)\n            : this.#timeElapsed;\n\n        if (!this.#isInPause) {\n            this.#currentTime = clamp(partial, 0, this.#duration);\n\n            // When come from playReverse skip first frame because is 0\n            if (!this.#skipFirstRender) {\n                this.#sequencers.forEach((item) => {\n                    item.draw({\n                        partial: this.#currentTime,\n                        isLastDraw: false,\n                        useFrame: true,\n                        direction: this.getDirection(),\n                    });\n                });\n\n                /*\n                 * Fire callbackOnUpdate\n                 */\n                this.#callbackOnUpdate.forEach(({ cb }) => {\n                    cb({\n                        time: this.#currentTime,\n                        direction: this.getDirection(),\n                    });\n                });\n            }\n        }\n\n        this.#skipFirstRender = false;\n        this.#loopIteration++;\n\n        /**\n         * Loop control Check if end of time has been achieved\n         */\n        if (\n            partial <= this.#duration - frameThreshold &&\n            partial >= 0 + frameThreshold &&\n            !this.#isStopped\n        ) {\n            this.#completed = false;\n            this.#goToNextFrame();\n            return;\n        }\n\n        // Reset sequancer callback add function state\n        this.#resetSequencerLastValue();\n\n        /*\n         * Start revere animation\n         * In start reverse the first framme jump directly here\n         **/\n        if (this.#startReverse) {\n            this.#isReverse = true;\n            this.#timeAtReverse = 0;\n            this.#timeAtReverseBack = 0;\n            this.#startReverse = false;\n            this.#goToNextFrame();\n            return;\n        }\n\n        /*\n         * Store direction value before chengee during nextFrame\n         **/\n        const direction = this.getDirection();\n        MobCore.useNextFrame(() => {\n            /*\n             *\n             * Prevent multiple fire of complete event\n             * Send direction BACKWARD || FORWARD as argument\n             * If loop is too fast consider end of loop invalid\n             * Prevent error from cycle that start from end\n             * in reverse mode\n             **/\n            if (\n                !this.#fpsIsInLoading &&\n                !this.#completed &&\n                this.#loopIteration > this.#minLoopIteration\n            ) {\n                this.#completed = true;\n                this.#loopCounter++;\n                // this callback is fired after a frame so\n                // check end timeline use the right value not reset\n                this.#loopIteration = 0;\n\n                this.#callbackLoop.forEach(({ cb }) =>\n                    cb({\n                        direction,\n                        loop: this.#loopCounter,\n                    })\n                );\n            }\n        });\n\n        /**\n         * Timelinee is ended, no repeat or loop max iteration is reached\n         */\n        if (\n            !this.#repeat ||\n            (this.#loopCounter === this.#repeat - 1 &&\n                this.#loopIteration > this.#minLoopIteration)\n        ) {\n            // Fire callbackLoop onStop of each sequencr\n            // Prevent async problem, endTime back to start, so store the value\n            const endTime = this.#currentTime;\n            this.#sequencers.forEach((item) => {\n                item.draw({\n                    partial: endTime,\n                    isLastDraw: true,\n                    useFrame: true,\n                    direction: this.getDirection(),\n                });\n            });\n\n            this.#isStopped = true;\n            this.#resetTime();\n            this.#startTime = time;\n            if (this.#isReverse) this.#isReverse = false;\n\n            // Fire last callback on Complete\n            this.#callbackComplete.forEach(({ cb }) => cb());\n            if (this.#currentResolve) this.#currentResolve(true);\n            return;\n        }\n\n        /**\n         * In yoyo mode time line have to reverst at the end of cycle\n         */\n        if (this.#yoyo) {\n            this.reverse();\n            this.#goToNextFrame();\n            return;\n        }\n\n        /**\n         * Reverse playing\n         */\n        if (this.#isPlayngReverse) {\n            this.#resetTime();\n            this.#startTime = time;\n            if (!this.#isReverse)\n                this.#isPlayngReverse = !this.#isPlayngReverse;\n            this.#timeElapsed = this.#duration;\n            this.#currentTime = this.#duration;\n            this.#pauseTime = this.#duration;\n            this.#goToNextFrame();\n            return;\n        }\n\n        /**\n         * Default playing\n         */\n        this.#resetTime();\n        this.#startTime = time;\n        if (this.#isReverse) this.#isPlayngReverse = !this.#isPlayngReverse;\n        this.#goToNextFrame();\n    }\n\n    /**\n     * @returns {void}\n     */\n    #goToNextFrame() {\n        MobCore.useFrame(() => {\n            MobCore.useNextTick(({ time, fps }) => {\n                // Prevent fire too many raf\n                if (!this.#fpsIsInLoading) this.#updateTime(time, fps);\n            });\n        });\n    }\n\n    /**\n     * @returns {void}\n     */\n    #resetTime() {\n        this.#timeElapsed = 0;\n        this.#pauseTime = 0;\n        this.#currentTime = 0;\n        this.#timeAtReverse = 0;\n        this.#timeAtReverseBack = 0;\n    }\n\n    /**\n     * @param {string} label\n     * @returns {number}\n     */\n    #getTimeFromLabel(label) {\n        const labelObj = this.#sequencers.reduce(\n            (previous, current) => {\n                const currentLabels = current.getLabels();\n                const labelsMatched = currentLabels.find(\n                    ({ name: currentName }) => currentName === label\n                );\n\n                return labelsMatched || previous;\n            },\n            { name: '', time: 0 }\n        );\n\n        if (!labelObj) syncTimelineLabelWarning(label);\n\n        return labelObj.time;\n    }\n\n    /**\n     * @returns {void}\n     */\n    #rejectPromise() {\n        if (this.#currentReject) {\n            this.#currentReject(MobCore.ANIMATION_STOP_REJECT);\n            this.#currentReject = undefined;\n        }\n    }\n\n    /**\n     * Plays the timeline starting from the initial value With useCurrent set to true and with the timeline active, it\n     * will reverse the direction from the current value if it is scrolling in reverse, otherwise it will continue in\n     * the current direction. With useCurrent set to false (default) the animation will always start from frame 0\n     * towards the final value.\n     *\n     * @type {import('./type.js').SyncTimelinePlay}\n     */\n    play(props = {}) {\n        const useCurrent = props?.useCurrent;\n        if (!useCurrent) this.stop();\n\n        return new Promise((resolve, reject) => {\n            if (this.#fpsIsInLoading) return;\n\n            this.#rejectPromise();\n            this.#currentResolve = resolve;\n            this.#currentReject = reject;\n\n            /**\n             * If is running and useCurrent is true move from current time value\n             */\n            if (!this.#isStopped && !this.#isReverse && useCurrent) return;\n\n            if (!this.#isStopped && this.#isReverse && useCurrent) {\n                this.reverse();\n                return;\n            }\n\n            this.#playFromTime();\n        });\n    }\n\n    /**\n     * Plays the timeline forward starting from the specific time or from a label defined in a Handle Sequencer |\n     * HandleMasterSequencer instance\n     *\n     * @example\n     *     ```javascript\n     *     myTimeline.playFrom(1000).then(() => {\n     *          // code\n     *     })\n     *\n     *     myTimeline.playFrom('myLabel').then(() => {\n     *          // code\n     *     })\n     *\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SyncTimelinePlayFrom} value\n     */\n    playFrom(value = 0) {\n        this.stop();\n\n        return new Promise((resolve, reject) => {\n            if (this.#fpsIsInLoading) return;\n\n            const isNumber = MobCore.checkType(Number, value);\n            // @ts-ignore\n            const labelTime = isNumber ? value : this.#getTimeFromLabel(value);\n\n            this.#rejectPromise();\n            this.#currentResolve = resolve;\n            this.#currentReject = reject;\n            // @ts-ignore\n            this.#playFromTime(labelTime);\n        });\n    }\n\n    /**\n     * @param {number} time\n     */\n    #playFromTime(time = 0) {\n        // Reset sequancer callback add function state\n        this.#resetSequencerLastValue();\n        this.#resetTime();\n\n        /*\n         * Set time\n         */\n        this.#currentTime = time;\n        this.#timeAtReverseBack = -this.#currentTime;\n\n        /*\n         * Generic prop\n         */\n        this.#isPlayngReverse = false;\n        this.#loopIteration = 0;\n\n        /*\n         * Prevent multiple firing\n         */\n        this.#fpsIsInLoading = true;\n        this.#startAnimation(time);\n    }\n\n    /**\n     * Plays the timeline backward starting from the specific time or from a label defined in a Handle Sequencer |\n     * HandleMasterSequencer instance\n     *\n     * @example\n     *     ```javascript\n     *     myTimeline.playFromReverse(1000).then(() => {\n     *          // code\n     *     })\n     *\n     *     myTimeline.playFromReverse('myLabel').then(() => {\n     *          // code\n     *     })\n     *\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').syncTimelinePlayFromReverse} value\n     */\n    playFromReverse(value) {\n        this.stop();\n\n        return new Promise((resolve, reject) => {\n            if (this.#fpsIsInLoading) return;\n\n            const isNumber = MobCore.checkType(Number, value);\n            // @ts-ignore\n            const labelTime = isNumber ? value : this.#getTimeFromLabel(value);\n\n            this.#rejectPromise();\n            this.#currentResolve = resolve;\n            this.#currentReject = reject;\n            // @ts-ignore\n            this.#playFromTimeReverse(labelTime, true);\n        });\n    }\n\n    /**\n     * Plays the timeline starting from the end value With useCurrent set to true and with the timeline active, it will\n     * reverse the direction from the current value if it is scrolling in reverse, otherwise it will continue in the\n     * current direction. With useCurrent set to false (default) the animation will always start from the final value\n     * towards the initial value.\n     *\n     * @example\n     *     ```javascript\n     *     myTimeline.playReverse({\n     *          useCurrent: true\n     *     }).then(() => {\n     *          // code\n     *     })\n     *\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SyncTimelinePlayReverse}\n     */\n    playReverse(props = {}) {\n        const useCurrent = props?.useCurrent;\n        if (!useCurrent) this.stop();\n\n        return new Promise((resolve, reject) => {\n            if (this.#fpsIsInLoading) return;\n\n            this.#rejectPromise();\n            this.#currentResolve = resolve;\n            this.#currentReject = reject;\n\n            /**\n             * If is running and useCurrent is true move from current time value\n             */\n            if (!this.#isStopped && this.#isReverse && useCurrent) return;\n            if (!this.#isStopped && !this.#isReverse && useCurrent) {\n                this.reverse();\n                return;\n            }\n\n            // @ts-ignore\n            this.#playFromTimeReverse(this.#duration, true);\n        });\n    }\n\n    /**\n     * @param {number} time\n     * @returns {void}\n     */\n    #playFromTimeReverse(time = 0) {\n        // Reset sequancer callback add function state\n        this.#resetSequencerLastValue();\n\n        /*\n         * Set time\n         */\n        this.#timeElapsed = time;\n        this.#currentTime = time;\n        this.#pauseTime = time;\n        this.#timeAtReverse = 0;\n        this.#timeAtReverseBack = 0;\n\n        /*\n         * Generic prop\n         */\n        this.#startReverse = true;\n        this.#isPlayngReverse = true;\n        this.#skipFirstRender = true;\n        this.#loopIteration = 0;\n\n        /*\n         * Prevent multiple firing\n         */\n        this.#fpsIsInLoading = true;\n        this.#startAnimation(time);\n    }\n\n    /**\n     * Find label than match the occurrency and return the time\n     *\n     * @param {number} partial\n     * @returns {Promise<any>}\n     */\n    async #startAnimation(partial) {\n        if (this.#repeat === 0) return;\n\n        const { averageFPS } = await MobCore.useFps();\n\n        fpsLoadedLog('sequencer', averageFPS);\n        this.#isReverse = false;\n\n        this.#sequencers.forEach((item) => {\n            item.inzializeStagger();\n            item.disableStagger();\n            item.draw({\n                partial,\n                isLastDraw: false,\n                useFrame: true,\n                direction: this.getDirection(),\n            });\n        });\n\n        MobCore.useFrame(() => {\n            MobCore.useNextTick(({ time, fps }) => {\n                this.#startTime = time;\n                this.#fpsIsInLoading = false;\n                this.#isStopped = false;\n                this.#isInPause = false;\n                this.#loopCounter = 0;\n                this.#updateTime(time, fps);\n            });\n        });\n    }\n\n    /**\n     * @type {import('./type.js').SyncTimelinePause}\n     */\n    pause() {\n        if (this.#isStopped || this.#isInPause || this.#fpsIsInLoading) return;\n\n        this.#isStopped = false;\n        this.#isInPause = true;\n    }\n\n    /**\n     * @type {import('./type.js').SyncTimelineResume}\n     */\n    resume() {\n        if (this.#isStopped || !this.#isInPause || this.#fpsIsInLoading) return;\n\n        this.#isStopped = false;\n        this.#isInPause = false;\n    }\n\n    /**\n     * @type {import('./type.js').SyncTimelineReverse}\n     */\n    reverse() {\n        if (this.#isStopped || this.#isInPause || this.#fpsIsInLoading) return;\n\n        // Reset sequancer callback add function state\n        this.#resetSequencerLastValue();\n        this.#isReverse = !this.#isReverse;\n        if (this.#isReverse) {\n            this.#timeAtReverse = this.#timeElapsed;\n        } else {\n            this.#timeAtReverseBack += this.#timeElapsed - this.#currentTime;\n        }\n    }\n\n    /**\n     * @type {import('./type.js').SyncTimelineStop}\n     * @returns {void}\n     */\n    stop({ clearCache = true } = {}) {\n        this.#isStopped = true;\n        this.#isInPause = false;\n        this.#rejectPromise();\n\n        if (clearCache) {\n            this.#sequencers.forEach((item) => {\n                item.cleanCachedId();\n            });\n            return;\n        }\n\n        /**\n         * Con lo stagger il render del last frame ( es senza translate3d) va in conflitto con cleanCached Il render\n         * parziale viene perso. Utitlizziamo il render onStop solo se clarCahe \u00E9 diabilitato cosi da far finire in\n         * maniera naturale il tween di ogni stagger.\n         */\n\n        // Fire callbackLoop onStop of each sequencr\n        this.#sequencers.forEach((item) => {\n            item.draw({\n                partial: this.#currentTime,\n                isLastDraw: true,\n                useFrame: true,\n                direction: this.getDirection(),\n            });\n        });\n    }\n\n    /**\n     * Add the instance of a sequencer | masterSequencer to the timeline\n     *\n     * @example\n     *     ```javascript\n     *     myTimeline.add(mySequencer);\n     *     myTimeline.add(myMasterSequencer);\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SyncTimelineAdd}\n     */\n    add(sequencer) {\n        sequencer.setStretchFactor(this.#duration);\n        this.#sequencers.push(sequencer);\n\n        return this;\n    }\n\n    /**\n     * @type {import('./type.js').SyncTimelineSetDuration}\n     */\n    setDuration(duration) {\n        this.#duration = duration;\n\n        return this;\n    }\n\n    /**\n     * @returns {void}\n     */\n    #resetSequencerLastValue() {\n        this.#sequencers.forEach((item) => item.resetLastValue());\n    }\n\n    /**\n     * Return active status\n     *\n     * @example\n     *     ```javascript\n     *     const isActive = myTimeline.isActive();\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SyncTimelineIsActive}\n     */\n    isActive() {\n        return !this.#isStopped;\n    }\n\n    /**\n     * Return pause status\n     *\n     * @example\n     *     ```javascript\n     *     const isPaused = myTimeline.isPaused();\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SyncTimelineIsPaused}\n     */\n    isPaused() {\n        return this.#isInPause;\n    }\n\n    /**\n     * Return direction forward|backward|none\n     *\n     * @example\n     *     ```javascript\n     *     myTimeline.getDirection();\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SyncTimelineGetDirection}\n     */\n    getDirection() {\n        if (this.#isStopped) return directionConstant.NONE;\n\n        return this.#isReverse\n            ? directionConstant.BACKWARD\n            : directionConstant.FORWARD;\n    }\n\n    /**\n     * Get current time\n     *\n     * @example\n     *     ```javascript\n     *     myTimeline.getTime();\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SyncTimelineTime}\n     */\n    getTime() {\n        return this.#currentTime;\n    }\n\n    /**\n     * Callback thrown at the end of each cycle\n     *\n     * @example\n     *     ```javascript\n     *     const unsubscribeOnLoopEnd = myTimeline.onLoopEnd(({direction, loop})=>{\n     *          /// code\n     *     })\n     *     unsubscribeOnLoopEnd();\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SyncTimelineOnLoopEnd}\n     */\n    onLoopEnd(cb = () => {}) {\n        this.#callbackLoop.push({ cb, id: this.#callbackId });\n        const cbId = this.#callbackId;\n        this.#callbackId++;\n\n        return () => {\n            this.#callbackLoop = this.#callbackLoop.filter(\n                (item) => item.id !== cbId\n            );\n        };\n    }\n\n    /**\n     * Callback thrown at the end of timeline\n     *\n     * @example\n     *     ```javascript\n     *     const unsubscribeOnComplete = myTimeline.onComplete(() => {\n     *          /// code\n     *     })\n     *     unsubscribeOnComplete();\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SyncTimelineOnComplete}\n     */\n    onComplete(cb = () => {}) {\n        this.#callbackComplete.push({ cb, id: this.#callbackId });\n        const cbId = this.#callbackId;\n        this.#callbackId++;\n\n        return () => {\n            this.#callbackComplete = this.#callbackComplete.filter(\n                (item) => item.id !== cbId\n            );\n        };\n    }\n\n    /**\n     * Callback thrown at each frame during the animation\n     *\n     * @example\n     *     ```javascript\n     *     const unsubscribeOnUpdate = myTimeline.onUpdate(({direction, time}) => {\n     *          /// code\n     *     })\n     *     unsubscribeOnUpdate();\n     *\n     *\n     *     ```;\n     *\n     * @type {import('./type.js').SyncTimelineOnUpdate}\n     */\n    onUpdate(cb = () => {}) {\n        this.#callbackOnUpdate.push({ cb, id: this.#callbackId });\n        const cbId = this.#callbackId;\n        this.#callbackId++;\n\n        return () => {\n            this.#callbackOnUpdate = this.#callbackOnUpdate.filter(\n                (item) => item.id !== cbId\n            );\n        };\n    }\n\n    /**\n     * Destroy timeline and all the sequencer\n     */\n    destroy() {\n        this.stop();\n        this.#sequencers.forEach((item) => item.destroy());\n        this.#sequencers = [];\n        this.#callbackOnUpdate = [];\n        this.#callbackLoop = [];\n        this.#callbackComplete = [];\n    }\n}\n", "import { MobScrollerConstant } from './animation/scroller/mob-scroller-constant.js';\nimport MobScroller from './animation/scroller/mob-scroller.js';\n\n/**\n * Available methods:\n *\n * ```javascript\n * myParallax.init();\n * myParallax.destroy();\n * myParallax.refresh();\n * myParallax.move();\n * ```\n *\n * @example\n *     ```javascript\n *      Property schema:\n *\n *\n *      const myParallax = MobScroll.createParallax({\n *          item: String | Element,\n *          applyTo: [ String | Element ],\n *          trigger: [ String | Element ],\n *          screen: [ String | Element ],\n *          scroller: [ String | Element ],\n *          breakpoint: [ String ],\n *          queryType: [ String ],\n *          direction: [ String ],\n *          propierties: [ String ],\n *          tween: [ MobSequencer | MobScrollerTween ],\n *          range: [ String | Number ],\n *          align: [ String ],\n *          onSwitch: [ String ],\n *          reverse: [ Boolean ],\n *          ease: [ Boolean ],\n *          easeType: [ String ],\n *          lerpConfig: [ Number ],\n *          springConfig: [ String ],\n *          opacityEnd: [ Number ],\n *          opacityStart: [ Number ],\n *          limiterOff: [ Boolean ],\n *          perspective: [ Number ],\n *          disableForce3D: [ Boolean ],\n *          useThrottle: [ Boolean ],\n *      });\n *\n *\n *     ```;\n *\n * @param {import('./animation/scroller/type').MobScrollerCommon & import('./animation/scroller/type').Parallax} data\n * @returns {MobScroller}\n */\nfunction createParallax(data) {\n    return new MobScroller({\n        ...data,\n        // @ts-ignore\n        type: MobScrollerConstant.TYPE_PARALLAX,\n    });\n}\n\n/**\n * Available methods:\n *\n * ```javascript\n * myScrollTrigger.init();\n * myScrollTrigger.destroy();\n * myScrollTrigger.refresh();\n * myScrollTrigger.move();\n * ```\n *\n * @example\n *     ```javascript\n *       Property schema:\n *\n *\n *       const myScrollTrigger = MobScroll.createScrollTrigger({\n *           item: String | Element,\n *           applyTo: [ String | Element ],\n *           trigger: [ String | Element ],\n *           screen: [ String | Element ],\n *           scroller: [ String | Element ],\n *           breakpoint: [ String ],\n *           queryType: [ String ],\n *           direction: [ String ],\n *           propierties: [ String ],\n *           tween: [ MobSequencer | MobScrollerTween ],\n *           range: [ String ],\n *           dynamicRange: [ Function ],\n *           fromTo: [ Boolean ],\n *           start: [ String ],\n *           dynamicStart: {\n *              position: [ String ],\n *              value: [ Function ]\n *           },\n *           end: [ String ],\n *           dynamicEnd: {\n *              position: [ String ],\n *              value: [ Function ]\n *           },\n *           ease: [ Boolean ],\n *           easeType: [ String ],\n *           lerpConfig: [ Number ],\n *           springConfig: [ String ],\n *           pin: [ Boolean ],\n *           animatePin: [ Boolean ],\n *           anticipatePinOnLoad: [ Boolean ],\n *           marker: [ String ],\n *           forceTranspond: [ Boolean ],\n *           animateAtStart: [ Boolean ],\n *           disableForce3D: [ Boolean ],\n *           onEnter: [ Function ],\n *           onEnterBack: [ Function ],\n *           onLeave: [ Function ],\n *           onLeaveBack: [ Function ],\n *           onTick: [ Function ],\n *           perspective: [ Number ],\n *           useThrottle: [ Boolean ],\n *       });\n *\n *\n *\n *     ```;\n *\n * @param {import('./animation/scroller/type').MobScrollerCommon &\n *     import('./animation/scroller/type').ScrollTrigger} data\n * @returns {MobScroller}\n */\nfunction createScrollTrigger(data) {\n    return new MobScroller({\n        ...data,\n        // @ts-ignore\n        type: MobScrollerConstant.TYPE_SCROLLTRIGGER,\n    });\n}\n\nexport { createParallax, createScrollTrigger };\n", "// @ts-check\n\nimport { MobScrollerConstant } from './mob-scroller-constant.js';\n\n/**\n * @param {object} obj\n * @param {number} obj.prevValue\n * @param {number} obj.value\n * @param {number} obj.maxVal\n * @returns {string}\n */\nconst action = ({ prevValue, value, maxVal }) => {\n    /**\n     * ON_LEAVE\n     */\n    if (\n        (value >= maxVal && prevValue <= maxVal && maxVal >= 0) ||\n        (value <= maxVal && prevValue >= maxVal && maxVal <= 0)\n    )\n        return MobScrollerConstant.ON_LEAVE;\n\n    /**\n     * ON_ENTER_BACK\n     */\n    if (\n        (value > maxVal && prevValue <= maxVal && maxVal <= 0) ||\n        (value < maxVal && prevValue >= maxVal && maxVal >= 0)\n    )\n        return MobScrollerConstant.ON_ENTER_BACK;\n\n    /**\n     * ON_LEAVE_BACK\n     */\n    if (\n        (value >= 0 && prevValue <= 0 && maxVal <= 0) ||\n        (value <= 0 && prevValue >= 0 && maxVal >= 0)\n    )\n        return MobScrollerConstant.ON_LEAVE_BACK;\n\n    /**\n     * ON_ENTER\n     */\n    if (\n        (value > 0 && value < maxVal && prevValue <= 0 && maxVal >= 0) ||\n        (value < 0 && prevValue >= 0 && maxVal <= 0)\n    )\n        return MobScrollerConstant.ON_ENTER;\n\n    return MobScrollerConstant.ON_NOOP;\n};\n\n/**\n * @param {object} obj\n * @param {number} obj.prevValue\n * @param {number} obj.value\n * @param {number} obj.maxVal\n * @param {Function} obj.onEnter\n * @param {Function} obj.onEnterBack\n * @param {Function} obj.onLeave\n * @param {Function} obj.onLeaveBack\n * @returns {void}\n */\nexport function MobScrollerEmitter({\n    prevValue,\n    value,\n    maxVal,\n    onEnter,\n    onEnterBack,\n    onLeave,\n    onLeaveBack,\n}) {\n    const fn = {\n        [MobScrollerConstant.ON_LEAVE]: () => {\n            if (onLeave) onLeave();\n        },\n        [MobScrollerConstant.ON_ENTER_BACK]: () => {\n            if (onEnterBack) onEnterBack();\n        },\n        [MobScrollerConstant.ON_LEAVE_BACK]: () => {\n            if (onLeaveBack) onLeaveBack();\n        },\n        [MobScrollerConstant.ON_ENTER]: () => {\n            if (onEnter) onEnter();\n        },\n        [MobScrollerConstant.ON_NOOP]: () => {},\n    };\n\n    fn[action({ prevValue, value, maxVal })]();\n}\n", "import { MobScrollerConstant } from './mob-scroller-constant.js';\nimport { handleSetUp } from '../../setup.js';\nimport { MobCore } from '../../../mob-core/index.js';\n\n/**\n * @param {object} obj\n * @param {Element | undefined} obj.startMarker\n * @param {Element | undefined} obj.endMarker\n * @param {string} obj.label\n * @returns {{ lastStartMarker: Element | undefined; lastEndMarkerEl: Element | undefined }}\n */\nconst getMarker = ({ startMarker, endMarker, label }) => {\n    if (!startMarker && !endMarker) {\n        // Replace illegal character with '-'\n        // @ts-ignore\n        const labelSanitized = label.replaceAll(/^[^a-z]+|[^\\w.:-]+/gi, '-');\n\n        const startMarkerEL = document.createElement('span');\n        startMarkerEL.className += `p-marker p-marker--start  p-marker-${labelSanitized}`;\n        startMarkerEL.innerHTML = `start ${labelSanitized}`;\n\n        const endMarkerEL = document.createElement('span');\n        endMarkerEL.className += `p-marker p-marker--end  p-marker-${labelSanitized}`;\n        endMarkerEL.innerHTML = `end ${labelSanitized}`;\n\n        document.body.append(startMarkerEL);\n        document.body.append(endMarkerEL);\n\n        const startMarkerGenerated = document.querySelector(\n            `.p-marker--start.p-marker-${labelSanitized}`\n        );\n\n        const endMarkerElGenerated = document.querySelector(\n            `.p-marker--end.p-marker-${labelSanitized}`\n        );\n\n        return {\n            lastStartMarker: startMarkerGenerated ?? undefined,\n            lastEndMarkerEl: endMarkerElGenerated ?? undefined,\n        };\n    }\n\n    return {\n        lastStartMarker: startMarker,\n        lastEndMarkerEl: endMarker,\n    };\n};\n\n/**\n * @param {object} obj\n * @param {HTMLElement | globalThis | null} obj.screen\n * @returns {{ top: number; right: number; bottom: number; left: number }}\n */\nconst getPosition = ({ screen }) => {\n    if (screen === globalThis) {\n        return {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n        };\n    }\n\n    // @ts-ignore\n    const rect = screen.getBoundingClientRect();\n\n    return {\n        top: rect.top,\n        right:\n            document.documentElement.clientWidth -\n            // @ts-ignore\n            (rect.left + screen.offsetWidth),\n        // @ts-ignore\n        bottom: window.innerHeight - (rect.top + screen.offsetHeight),\n        left: rect.left,\n    };\n};\n\n/**\n * @param {object} obj\n * @param {number} obj.startPoint\n * @param {string} obj.direction\n * @param {boolean} obj.invertSide\n * @param {number} obj.top\n * @param {number} obj.bottom\n * @param {number} obj.left\n * @param {number} obj.right\n * @returns {Object}\n */\nconst getStartStyle = ({\n    startPoint,\n    direction,\n    invertSide,\n    top,\n    bottom,\n    left,\n    right,\n}) => {\n    if (direction === MobScrollerConstant.DIRECTION_VERTICAL) {\n        return invertSide\n            ? {\n                  right: 0,\n                  width: '100vw',\n                  height: '3px',\n                  top: `${startPoint + top}px`,\n                  padding: '0 30px',\n                  pointerEvents: 'none',\n              }\n            : {\n                  right: 0,\n                  width: '100vw',\n                  height: '3px',\n                  bottom: `${startPoint + bottom}px`,\n                  padding: '0 30px',\n                  pointerEvents: 'none',\n              };\n    }\n\n    return invertSide\n        ? {\n              top: 0,\n              height: '100vw',\n              width: '3px',\n              left: `${startPoint + left}px`,\n              padding: '30px 0',\n              pointerEvents: 'none',\n          }\n        : {\n              top: 0,\n              height: '100vw',\n              width: '3px',\n              right: `${startPoint + right}px`,\n              padding: '30px 0',\n              pointerEvents: 'none',\n          };\n};\n\n/**\n * @param {object} obj\n * @param {number} obj.startPoint\n * @param {number} obj.endPoint\n * @param {string} obj.direction\n * @param {boolean} obj.invertSide\n * @param {number} obj.top\n * @param {number} obj.bottom\n * @param {number} obj.left\n * @param {number} obj.right\n * @returns {Object}\n */\nconst getEndStyle = ({\n    startPoint,\n    endPoint,\n    direction,\n    invertSide,\n    top,\n    bottom,\n    left,\n    right,\n}) => {\n    if (direction === MobScrollerConstant.DIRECTION_VERTICAL) {\n        return invertSide\n            ? {\n                  right: 0,\n                  width: '100vw',\n                  height: '3px',\n                  top: `${startPoint + endPoint + top}px`,\n                  padding: '0 30px',\n                  pointerEvents: 'none',\n              }\n            : {\n                  right: 0,\n                  width: '100vw',\n                  height: '3px',\n                  bottom: `${startPoint + endPoint + bottom}px`,\n                  padding: '0 30px',\n                  pointerEvents: 'none',\n              };\n    }\n\n    return invertSide\n        ? {\n              top: 0,\n              height: '100vw',\n              width: '3px',\n              left: `${startPoint + endPoint + left}px`,\n              padding: '30px 0',\n              pointerEvents: 'none',\n          }\n        : {\n              top: 0,\n              height: '100vw',\n              width: '3px',\n              right: `${startPoint + endPoint + right}px`,\n              padding: '30px 0',\n              pointerEvents: 'none',\n          };\n};\n/**\n * @param {object} obj\n * @param {Element | undefined} obj.startMarker\n * @param {Element | undefined} obj.endMarker\n * @param {number} obj.startPoint\n * @param {number} obj.endPoint\n * @param {HTMLElement | globalThis | null} obj.screen\n * @param {string} obj.direction\n * @param {boolean} obj.invertSide\n * @param {string} obj.label\n * @returns {{ startMarker: Element | undefined; endMarker: Element | undefined }}\n */\nexport const MobScrollerMarker = ({\n    startMarker,\n    endMarker,\n    startPoint,\n    endPoint,\n    screen,\n    direction,\n    invertSide,\n    label,\n}) => {\n    // Creat emarker if not exist\n    const { lastStartMarker, lastEndMarkerEl } = getMarker({\n        startMarker,\n        endMarker,\n        label,\n    });\n\n    const { top, right, bottom, left } = getPosition({ screen });\n\n    const startStyle = getStartStyle({\n        startPoint,\n        direction,\n        invertSide,\n        top,\n        bottom,\n        left,\n        right,\n    });\n\n    const endStyle = getEndStyle({\n        startPoint,\n        endPoint,\n        direction,\n        invertSide,\n        top,\n        bottom,\n        left,\n        right,\n    });\n\n    const style = {\n        position: 'fixed',\n        zIndex: '99999',\n        background:\n            handleSetUp.get('scrollTrigger')?.markerColor?.startEnd ||\n            '#ff0000',\n        fontSize: '14px',\n        whiteSpace: 'nowrap',\n        textTransform: 'uppercase',\n    };\n\n    MobCore.useFrame(() => {\n        // @ts-ignore\n        Object.assign(lastStartMarker?.style, { ...style, ...startStyle });\n        // @ts-ignore\n        Object.assign(lastEndMarkerEl?.style, { ...style, ...endStyle });\n    });\n\n    return {\n        startMarker: lastStartMarker,\n        endMarker: lastEndMarkerEl,\n    };\n};\n", "import { handleSetUp } from '../../setup';\nimport { MobScrollerConstant } from './mob-scroller-constant';\n\n/**\n * @param {Object} param\n * @param {string} [param.marker]\n * @param {string} param.direction\n * @param {boolean | undefined} param.invertSide\n * @returns {Object}\n */\nexport const getMarkerWrapperStyle = ({ marker, direction, invertSide }) => {\n    if (!marker) return {};\n\n    const borderColor =\n        handleSetUp.get('scrollTrigger')?.markerColor?.item || '#14df3b';\n    const borderStyle = `3px ${borderColor} solid`;\n\n    if (direction === MobScrollerConstant.DIRECTION_VERTICAL) {\n        return invertSide\n            ? { borderBottom: borderStyle }\n            : { borderTop: borderStyle };\n    } else {\n        return invertSide\n            ? { borderRight: borderStyle }\n            : { borderLeft: borderStyle };\n    }\n};\n", "// @ts-check\n\nimport MobSpring from '../spring/mob-spring.js';\nimport { MobScrollerConstant } from './mob-scroller-constant.js';\nimport { position } from '../../../mob-core/utils/index.js';\nimport { clamp } from '../utils/animation-utils.js';\nimport { MobCore } from '../../../mob-core/index.js';\nimport { getMarkerWrapperStyle } from './mob-scroller-pin-utils.js';\n\nexport class MobScrollerPin {\n    /**\n     * @type {number}\n     */\n    #scrollerHeight;\n\n    /**\n     * @type {number}\n     */\n    #start;\n\n    /**\n     * @type {number}\n     */\n    #startFromTop;\n\n    /**\n     * @type {boolean | undefined}\n     */\n    #invertSide;\n\n    /**\n     * @type {number}\n     */\n    #end;\n\n    /**\n     * @type{() => number}\n     */\n    #getStart;\n\n    /**\n     * @type{() => number}\n     */\n    #getEnd;\n\n    /**\n     * @type {string}\n     */\n    #direction;\n\n    /**\n     * @type {number}\n     */\n    #compesateValue;\n\n    /**\n     * @type {HTMLElement | null | undefined}\n     */\n    #item;\n\n    /**\n     * @type {MobSpring | undefined | null}\n     */\n    #spring;\n\n    /**\n     * @type {HTMLElement | undefined}\n     */\n    #wrapper;\n\n    /**\n     * @type {String | undefined}\n     */\n    #marker;\n\n    /**\n     * @type {globalThis | HTMLElement}\n     */\n    #screen;\n\n    /**\n     * @type {HTMLElement | undefined}\n     */\n    #pin;\n\n    /**\n     * @type {boolean}\n     */\n    #isOver;\n\n    /**\n     * @type {boolean}\n     */\n    #isInner;\n\n    /**\n     * @type {boolean}\n     */\n    #isUnder;\n\n    /**\n     * @type {Function}\n     */\n    #unsubscribeScroll;\n\n    /**\n     * @type {Function}\n     */\n    #unsubscribeScrollStart;\n\n    /**\n     * @type {Function}\n     */\n    #unsubscribeSpring;\n\n    /**\n     * @type {boolean}\n     */\n    #firstTime;\n\n    /**\n     * Item style applied to pin wrapper\n     *\n     * @type {string[]}\n     */\n    #itemRequireStyleToWrapper;\n\n    /**\n     * Item style get and applied itself when transpond\n     *\n     * @type {string[]}\n     */\n    #itemRequireStyleWhenTraspond;\n\n    /**\n     * Paerent style to applied to pin\n     *\n     * @type {string[]}\n     */\n    #parentRequireStyle;\n\n    /**\n     * Item style applied to pin\n     *\n     * @type {string[]}\n     */\n    #itemRequireStyleToPin;\n\n    /**\n     * Parent style that activate transpond\n     *\n     * @type {string[]}\n     */\n    #styleToTranspond;\n\n    /**\n     * Skip parent style to activate transpond above with this value\n     *\n     * @type {string[]}\n     */\n    #nonRelevantRule;\n\n    /**\n     * @type {boolean}\n     */\n    #isInizialized;\n\n    /**\n     * @type {number}\n     */\n    #prevScroll;\n\n    /**\n     * @type {number}\n     */\n    #prevscrollY;\n\n    /**\n     * @type {boolean}\n     */\n    #animatePin;\n\n    /**\n     * @type {number}\n     */\n    #anticipateFactor;\n\n    /**\n     * @type {boolean}\n     */\n    #forceTranspond;\n\n    /**\n     * @type {boolean}\n     */\n    #justPinned;\n\n    /**\n     * @type {number}\n     */\n    #afterPinCounter;\n\n    /**\n     * @type {number}\n     */\n    #lastStep;\n\n    /**\n     * @type {boolean}\n     */\n    #afterJustPinned;\n\n    /**\n     * @type {number}\n     */\n    #afterJustPinnedCounter;\n\n    /**\n     * @type {number}\n     */\n    #numeCycleToFreeze;\n\n    /**\n     * @type {string}\n     */\n    #collisionStyleProp;\n\n    /**\n     * @type {boolean}\n     */\n    #shoulTranspond;\n\n    /**\n     * @type {boolean}\n     */\n    #anticipatePinOnLoad;\n\n    constructor() {\n        this.#scrollerHeight = 0;\n        this.#start = 0;\n        this.#startFromTop = 0;\n        this.#invertSide = undefined;\n        this.#end = 0;\n        this.#getStart = () => 0;\n        this.#getEnd = () => 0;\n        this.#direction = MobScrollerConstant.DIRECTION_VERTICAL;\n        this.#compesateValue = 0;\n        this.#item = undefined;\n        this.#spring = undefined;\n        this.#wrapper = undefined;\n        this.#pin = undefined;\n        this.#isOver = false;\n        this.#isInner = false;\n        this.#isUnder = false;\n        this.#unsubscribeScroll = () => {};\n        this.#unsubscribeScrollStart = () => {};\n        this.#unsubscribeSpring = () => {};\n        this.#firstTime = true;\n        this.#marker = undefined;\n        this.#screen = globalThis;\n        this.#collisionStyleProp = 'left';\n        this.#anticipatePinOnLoad = true;\n        this.#shoulTranspond = false;\n\n        this.#itemRequireStyleToWrapper = [\n            'flex',\n            'flex-shrink',\n            'flex-basis',\n            'float',\n            'display',\n            'grid-area',\n            'grid-column-start',\n            'grid-column-end',\n            'grid-row-start',\n            'grid-row-end',\n            'box-sizing',\n            'order',\n            'place-self',\n            'align-self',\n            'justify-self',\n        ];\n\n        this.#itemRequireStyleWhenTraspond = [\n            'font-size',\n            'padding',\n            'margin',\n            'line-height',\n            'white-space',\n        ];\n\n        this.#parentRequireStyle = ['text-align'];\n        this.#itemRequireStyleToPin = ['z-index', 'pointer-events'];\n\n        this.#styleToTranspond = [\n            'transform',\n            'position',\n            'translate',\n            'rotate',\n            'scale',\n        ];\n\n        this.#nonRelevantRule = ['none', 'static'];\n        this.#isInizialized = false;\n        this.#prevScroll = 0;\n        this.#prevscrollY = 0;\n        this.#animatePin = false;\n        this.#anticipateFactor = 1.5;\n        this.#forceTranspond = false;\n        this.#justPinned = false;\n        this.#afterPinCounter = 0;\n        this.#lastStep = 0;\n        this.#afterJustPinned = false;\n        this.#afterJustPinnedCounter = 0;\n        this.#numeCycleToFreeze = 3;\n    }\n\n    /**\n     * @param {import('./type.js').PinParams} data\n     */\n    init(data) {\n        this.#item = data.item;\n        this.#marker = data.marker;\n        this.#screen = data.screen;\n        this.#animatePin = data.animatePin;\n        this.#anticipatePinOnLoad = data.anticipatePinOnLoad;\n        this.#forceTranspond = data.forceTranspond;\n        this.#invertSide = data.invertSide;\n        this.#direction = data.direction;\n        this.#getStart = data.getStart;\n        this.#getEnd = data.getEnd;\n        this.#start = this.#getStart();\n        this.#end = this.#getEnd();\n        this.#prevscrollY = window.scrollY;\n        this.#scrollerHeight = data?.scrollerHeight;\n        this.#refreshCollisionPoint();\n\n        this.#collisionStyleProp =\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? 'top'\n                : 'left';\n        this.#isInizialized = true;\n        this.#firstTime = true;\n\n        this.#createPin();\n        this.#addStyleFromPinToWrapper();\n        this.#setPinSize();\n        this.#setUpMotion();\n\n        /**\n         * Update pix top position when use custom screen ad scroll outside on window\n         */\n        this.#unsubscribeScrollStart = MobCore.useScrollStart(() => {\n            if (!this.#isInizialized) return;\n\n            if (this.#screen !== globalThis && this.#isInner && this.#pin) {\n                MobCore.useFrame(() => {\n                    if (this.#pin)\n                        this.#pin.style.transition = `transform .85s cubic-bezier(0, 0.68, 0.45, 1.1)`;\n                });\n            }\n        });\n\n        this.#unsubscribeScroll = MobCore.useScroll(({ scrollY }) => {\n            if (!this.#isInizialized) return;\n\n            if (\n                this.#screen !== globalThis &&\n                this.#screen !== document.documentElement\n            ) {\n                if (\n                    this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ) {\n                    this.#refreshCollisionPoint();\n                }\n\n                const gap = scrollY - this.#prevscrollY;\n                this.#prevscrollY = scrollY;\n\n                if (this.#isInner && this.#pin && this.#spring) {\n                    const { verticalGap } = this.#spring.get();\n                    const translateValue = verticalGap - gap;\n\n                    /**\n                     * No need animation update data and apply style directly\n                     */\n                    this.#spring.setData({\n                        collision: 0,\n                        verticalGap: translateValue,\n                    });\n\n                    MobCore.useFrame(() => {\n                        if (this.#pin)\n                            this.#pin.style.transform = `translate(0px,${translateValue}px)`;\n                    });\n                }\n            }\n        });\n    }\n\n    #setUpMotion() {\n        this.#spring = new MobSpring({\n            data: { collision: 0, verticalGap: 0 },\n            config: 'wobbly',\n        });\n\n        this.#unsubscribeSpring = this.#spring.subscribe(\n            ({ collision, verticalGap }) => {\n                if (\n                    this.#direction ===\n                        MobScrollerConstant.DIRECTION_VERTICAL &&\n                    this.#pin\n                ) {\n                    /**\n                     * In vertical mode gap to translate when pin is in fixed position on window scroll is the same of\n                     * collision The same axis reset the two prop\n                     */\n                    this.#pin.style.transform = `translate(0px, ${collision}px)`;\n                } else if (this.#pin) {\n                    this.#pin.style.transform = `translate(${collision}px, ${verticalGap}px)`;\n                }\n            }\n        );\n    }\n\n    #resetSpring() {\n        if (this.#pin && this.#spring)\n            this.#spring.set({ collision: 0, verticalGap: 0 }).catch(() => {});\n    }\n\n    #createPin() {\n        if (!this.#item) this.#item = document.createElement('div');\n\n        /**\n         * Wrap pin element pin-wrapper , use to cache potion into dom flow when pin go to fixed\n         */\n        const wrapper = document.createElement('div');\n        wrapper.classList.add('pin-wrapper');\n\n        /**\n         * Pin wrap that go to fixed pos\n         */\n        const pin = document.createElement('div');\n        pin.classList.add('pin');\n        wrapper.append(pin);\n        const parentNode = this.#item?.parentNode;\n\n        if (parentNode) parentNode.insertBefore(wrapper, this.#item);\n\n        // @ts-ignore\n        pin.append(this.#item);\n\n        // @ts-ignore\n        this.#wrapper = this.#item.closest('.pin-wrapper');\n\n        // @ts-ignore\n        this.#pin = this.#item.closest('.pin');\n\n        /**\n         * Get style from parent and add to pin, es text-align\n         */\n        const requiredStyleToadd = this.#addRquiredStyle();\n\n        /**\n         * Get style from iem and add to pin, es z-index\n         */\n        const pinStyleFromItem = this.#addPinStyleFromItem();\n\n        const markerWrapperStyle = getMarkerWrapperStyle({\n            marker: this.#marker,\n            invertSide: this.#invertSide,\n            direction: this.#direction,\n        });\n\n        /**\n         * Add display table to avoid margin problem inside\n         */\n        const display = { display: 'table' };\n\n        MobCore.useFrame(() => {\n            if (!this.#pin || !this.#wrapper) return;\n\n            Object.assign(this.#wrapper.style, { ...markerWrapperStyle });\n            Object.assign(this.#pin.style, {\n                ...display,\n                ...pinStyleFromItem,\n                ...requiredStyleToadd,\n            });\n        });\n\n        this.#checkIfShouldTranspond();\n    }\n\n    #setPinSize() {\n        /*\n        Firse time ww don't use raf to apply basic\n        misureimmediatly on component creation\n        Otherwise we can have some wrong calculation after\n        */\n\n        if (!this.#pin || !this.#wrapper) return;\n        const height = this.#wrapper.offsetHeight;\n        const width = this.#wrapper.offsetWidth;\n        this.#wrapper.style.height = `${height}px`;\n        this.#wrapper.style.width = `${width}px`;\n        this.#pin.style.height = `${height}px`;\n        this.#pin.style.width = `${width}px`;\n    }\n\n    /**\n     * Get style from item and apply to wrapper ( es: flex)\n     */\n    #addStyleFromPinToWrapper() {\n        if (!this.#item) return;\n\n        const compStyles = globalThis.getComputedStyle(this.#item);\n        const style = this.#itemRequireStyleToWrapper.reduce((p, c) => {\n            return { ...p, [c]: compStyles.getPropertyValue(c) };\n        }, {});\n\n        MobCore.useFrame(() => {\n            if (!this.#wrapper) return;\n            Object.assign(this.#wrapper.style, style);\n        });\n    }\n\n    /**\n     * @param {HTMLElement} target\n     * @param {string} rule\n     * @returns {Record<string, any> | undefined}\n     */\n    #findStyle(target, rule) {\n        let node = target.parentNode;\n        if (!node) return;\n\n        while (node !== null && node !== document) {\n            /** @type {Record<string, any>} */\n            const style = getComputedStyle(/** @type {Element} */ (node));\n\n            if (style[rule] && !this.#nonRelevantRule.includes(style[rule])) {\n                return { [rule]: style[rule] };\n            }\n            node = node.parentNode;\n        }\n\n        return;\n    }\n\n    /**\n     * @returns {Record<string, string> | {}}\n     */\n    #addRquiredStyle() {\n        if (!this.#pin) return {};\n\n        const stylesObject = this.#parentRequireStyle\n            .map((item) => {\n                // @ts-ignore\n                return this.#findStyle(this.#pin, item);\n            })\n            .filter((item) => item !== null)\n            .reduce((p, c) => {\n                return { ...p, ...c };\n            }, {});\n\n        return stylesObject ?? {};\n    }\n\n    /**\n     * @returns {void}\n     */\n    #checkIfShouldTranspond() {\n        if (this.#forceTranspond) {\n            this.#shoulTranspond = true;\n            return;\n        }\n\n        this.#shoulTranspond = this.#styleToTranspond\n            .map((item) => {\n                // @ts-ignore\n                const style = this.#findStyle(this.#wrapper, item);\n                if (!style) return false;\n\n                const [key] = Object.keys(style);\n                const [value] = Object.values(style);\n\n                if (key === 'position') {\n                    return value === 'fixed' || value === 'absolute'\n                        ? true\n                        : false;\n                } else {\n                    return true;\n                }\n            })\n            .includes(true);\n    }\n\n    /**\n     * @returns {void}\n     */\n    #updateStartEndValue() {\n        this.#start = this.#getStart();\n        this.#end = this.#getEnd();\n    }\n\n    /**\n     * @returns {void}\n     */\n    #refreshCollisionPoint() {\n        /**\n         * Align start && end value to paralllax current values\n         */\n        this.#updateStartEndValue();\n\n        /**\n         * Update start position when use custom screen ad scroll outside on window\n         */\n        if (this.#screen !== globalThis) {\n            this.#start -=\n                this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                    ? // @ts-ignore\n                      position(this.#screen).top\n                    : // @ts-ignore\n                      position(this.#screen).left;\n        }\n\n        this.#startFromTop = this.#invertSide\n            ? this.#start\n            : this.#scrollerHeight - this.#start;\n\n        this.#compesateValue = this.#invertSide\n            ? -Math.trunc(this.#end)\n            : Math.trunc(this.#end);\n    }\n\n    /**\n     * @returns {void}\n     */\n    destroy() {\n        if (!this.#isInizialized) return;\n\n        this.#spring?.stop?.();\n        this.#unsubscribeSpring();\n        this.#unsubscribeScroll();\n        this.#unsubscribeScrollStart();\n        this.#spring?.destroy?.();\n        this.#spring = null;\n        this.#afterPinCounter = 0;\n        this.#justPinned = false;\n        this.#isUnder = false;\n        this.#isInner = false;\n        this.#isOver = false;\n\n        if (this.#pin && this.#wrapper) {\n            // @ts-ignore\n            this.#wrapper.parentNode?.insertBefore(this.#item, this.#wrapper);\n            this.#pin.remove();\n            this.#wrapper.remove();\n            this.#wrapper = undefined;\n            this.#pin = undefined;\n            this.#isInizialized = false;\n        }\n    }\n\n    /**\n     * @returns {number}\n     */\n    #getGap() {\n        if (!this.#wrapper) return 0;\n\n        return this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n            ? position(this.#wrapper).top - this.#startFromTop\n            : position(this.#wrapper).left - this.#startFromTop;\n    }\n\n    /**\n     * @returns {void}\n     */\n    #animateCollision() {\n        const gap = this.#getGap();\n        this.#tween(gap);\n    }\n\n    /**\n     * @returns {void}\n     */\n    #animateCollisionBack() {\n        const gap = this.#invertSide\n            ? this.#getGap() - this.#end\n            : this.#getGap() + this.#end;\n\n        this.#tween(gap);\n    }\n\n    /**\n     * @param {number} gap\n     */\n    #tween(gap) {\n        MobCore.useFrame(() => {\n            if (!this.#pin || !this.#collisionStyleProp) return;\n\n            /** @type{Record<string, any>} */\n            const style = this.#pin?.style ?? {};\n            style[this.#collisionStyleProp] = `${this.#startFromTop}px`;\n        });\n\n        if (this.#animatePin && !this.#firstTime && this.#pin && this.#spring) {\n            this.#spring\n                .goFrom({ collision: gap })\n                .then(() => {\n                    this.#resetPinTransform();\n                })\n                .catch(() => {});\n        }\n    }\n\n    /**\n     * @returns {void}\n     */\n    #resetPinTransform() {\n        MobCore.useFrame(() => {\n            if (!this.#pin) return;\n\n            this.#pin.style.transform = `translate(0px, 0px)`;\n        });\n    }\n\n    /**\n     * @returns {void}\n     */\n    #resetStyleWhenUnder() {\n        this.#resetSpring();\n\n        MobCore.useFrame(() => {\n            if (!this.#pin) return;\n\n            this.#pin.style.transition = '';\n            this.#pin.style.position = 'relative';\n            this.#pin.style.top = ``;\n            this.#pin.style.left = ``;\n        });\n    }\n\n    /**\n     * @returns {void}\n     */\n    #resetStyleWhenOver() {\n        this.#resetSpring();\n\n        MobCore.useFrame(() => {\n            if (!this.#pin) return;\n\n            this.#pin.style.transition = '';\n            this.#pin.style.position = 'relative';\n\n            if (this.#direction === MobScrollerConstant.DIRECTION_VERTICAL) {\n                this.#pin.style.left = ``;\n                this.#pin.style.top = `${this.#compesateValue}px`;\n            } else {\n                this.#pin.style.top = ``;\n                this.#pin.style.left = `${this.#compesateValue}px`;\n            }\n        });\n    }\n\n    /**\n     * @returns {void}\n     */\n    #setFixedPosition() {\n        if (!this.#pin) return;\n\n        const left =\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? position(this.#pin).left\n                : position(this.#pin).top;\n\n        const style =\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? 'left'\n                : 'top';\n\n        MobCore.useFrame(() => {\n            if (!this.#pin) return;\n\n            this.#pin.style.position = 'fixed';\n            this.#pin.style[style] = `${left}px`;\n\n            /**\n             * Frezze pin for two frame so avoid possible visual jump Item stop can stop ain the middle of anticipate\n             * step and just after item jump to original position\n             */\n            this.#justPinned = true;\n            this.#afterJustPinned = true;\n        });\n    }\n\n    /**\n     * @returns {object}\n     */\n    #addPinStyleFromItem() {\n        if (!this.#item) return {};\n\n        const compStyles = globalThis.getComputedStyle(this.#item);\n        return this.#itemRequireStyleToPin.reduce((p, c) => {\n            return { ...p, [c]: compStyles.getPropertyValue(c) };\n        }, {});\n    }\n\n    /**\n     * @returns {object}\n     */\n    #addStyleToItem() {\n        if (!this.#item) return {};\n\n        const compStyles = globalThis.getComputedStyle(this.#item);\n        return this.#itemRequireStyleWhenTraspond.reduce((p, c) => {\n            return { ...p, [c]: compStyles.getPropertyValue(c) };\n        }, {});\n    }\n\n    /**\n     * @returns {object}\n     */\n    #removeStyleToItem() {\n        return this.#itemRequireStyleWhenTraspond.reduce((p, c) => {\n            return { ...p, [c]: '' };\n        }, {});\n    }\n\n    /**\n     * @returns {void}\n     */\n    #activateTrasponder() {\n        if (this.#shoulTranspond) {\n            /**\n             * Interrogato DOM before rendering, avoid recalculation sryle inside RAF\n             */\n            const requiredStyleToAdd = this.#addRquiredStyle();\n            const pinStyleFromItem = this.#addPinStyleFromItem();\n            const styleToAdd = this.#addStyleToItem();\n\n            MobCore.useFrame(() => {\n                if (!this.#pin) return;\n\n                Object.assign(this.#pin.style, {\n                    ...pinStyleFromItem,\n                    ...requiredStyleToAdd,\n                });\n\n                if (this.#item) Object.assign(this.#item.style, styleToAdd);\n\n                document.body.append(this.#pin);\n            });\n        }\n    }\n\n    /**\n     * @returns {void}\n     */\n    #deactivateTrasponder() {\n        if (!this.#shoulTranspond || !this.#item || !this.#wrapper) return;\n\n        MobCore.useFrame(() => {\n            if (!this.#pin) return;\n\n            // @ts-ignore\n            Object.assign(this.#item.style, this.#removeStyleToItem());\n            this.#wrapper?.append(this.#pin);\n        });\n    }\n\n    /**\n     * @param {number} scrollTop\n     * @returns {number}\n     */\n    #getAnticipate(scrollTop) {\n        /**\n         * If come just after pin use the last step to avoid glitch If item is pinned too soon\n         */\n        const step =\n            this.#afterJustPinned && this.#afterJustPinnedCounter < 3\n                ? this.#lastStep\n                : clamp(Math.abs(scrollTop - this.#prevScroll), 0, 250);\n\n        /**\n         * Reset afterJustPinned\n         */\n        if (\n            this.#afterJustPinned &&\n            this.#afterJustPinnedCounter < this.#numeCycleToFreeze\n        ) {\n            this.#afterJustPinnedCounter++;\n        } else {\n            this.#afterJustPinnedCounter = 0;\n            this.#afterJustPinned = false;\n        }\n\n        /**\n         * Cache previous stop\n         */\n        this.#lastStep = step;\n        return step * this.#anticipateFactor;\n    }\n\n    /**\n     * @param {number} scrollTop\n     * @param {string} scrollDirection\n     * @returns {{ anticipateBottom: number; anticipateInnerIn: number; anticipateInnerOut: number }}\n     */\n    #getAnticipateValue(scrollTop, scrollDirection) {\n        if (\n            (this.#animatePin && !this.#firstTime) ||\n            (this.#firstTime && !this.#anticipatePinOnLoad)\n        ) {\n            return {\n                anticipateBottom: 0,\n                anticipateInnerIn: 0,\n                anticipateInnerOut: 0,\n            };\n        }\n\n        const anticipate = this.#getAnticipate(scrollTop);\n        const anticipateBottom =\n            scrollDirection === MobScrollerConstant.SCROLL_UP ? 0 : anticipate;\n        const anticipateInnerIn =\n            scrollDirection === MobScrollerConstant.SCROLL_UP\n                ? 0\n                : anticipate * 2;\n        const anticipateInnerOut =\n            scrollDirection === MobScrollerConstant.SCROLL_UP ? anticipate : 0;\n\n        return {\n            anticipateBottom: anticipateBottom,\n            anticipateInnerIn: anticipateInnerIn,\n            anticipateInnerOut: anticipateInnerOut,\n        };\n    }\n\n    /**\n     * @param {number} scrollTop\n     * @param {string} scrollDirection\n     * @returns {{ anticipateBottom: number; anticipateInnerIn: number; anticipateInnerOut: number }}\n     */\n    #getAnticipateValueInverted(scrollTop, scrollDirection) {\n        if (\n            (this.#animatePin && !this.#firstTime) ||\n            (this.#firstTime && !this.#anticipatePinOnLoad)\n        ) {\n            return {\n                anticipateBottom: 0,\n                anticipateInnerIn: 0,\n                anticipateInnerOut: 0,\n            };\n        }\n\n        const anticipate = this.#getAnticipate(scrollTop);\n        const anticipateBottom =\n            scrollDirection === MobScrollerConstant.SCROLL_UP ? anticipate : 0;\n        const anticipateInnerIn =\n            scrollDirection === MobScrollerConstant.SCROLL_UP\n                ? anticipate * 2\n                : 0;\n        const anticipateInnerOut =\n            scrollDirection === MobScrollerConstant.SCROLL_UP ? 0 : anticipate;\n\n        return {\n            anticipateBottom: anticipateBottom,\n            anticipateInnerIn: anticipateInnerIn,\n            anticipateInnerOut: anticipateInnerOut,\n        };\n    }\n\n    /**\n     * @param {number} scrollTop\n     */\n    onScroll(scrollTop) {\n        if (!this.#isInizialized || !this.#wrapper) return;\n\n        /**\n         * Skip pin check for 3 scroll if is if just pinned this to prevent glitch if item is pinned too son and user\n         * stop scroll too soon\n         */\n        if (\n            this.#justPinned &&\n            this.#afterPinCounter < this.#numeCycleToFreeze\n        ) {\n            this.#afterPinCounter++;\n            return;\n        } else {\n            this.#afterPinCounter = 0;\n            this.#justPinned = false;\n        }\n\n        const scrollDirection =\n            this.#prevScroll > scrollTop\n                ? MobScrollerConstant.SCROLL_UP\n                : MobScrollerConstant.SCROLL_DOWN;\n\n        /**\n         * Set up scroll condition\n         */\n        const offsetTop =\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? position(this.#wrapper).top\n                : position(this.#wrapper).left;\n\n        /**\n         * Get anticipate value\n         */\n        const { anticipateBottom, anticipateInnerIn, anticipateInnerOut } = this\n            .#invertSide\n            ? this.#getAnticipateValueInverted(scrollTop, scrollDirection)\n            : this.#getAnticipateValue(scrollTop, scrollDirection);\n\n        const bottomCondition = this.#invertSide\n            ? offsetTop < this.#start - anticipateBottom\n            : offsetTop > this.#scrollerHeight - this.#start + anticipateBottom;\n\n        const innerCondition = this.#invertSide\n            ? offsetTop >= this.#start - anticipateInnerIn &&\n              offsetTop <= this.#start + anticipateInnerOut + this.#end\n            : offsetTop <=\n                  this.#scrollerHeight - this.#start + anticipateInnerIn &&\n              this.#scrollerHeight - offsetTop <=\n                  this.#end + anticipateInnerOut + this.#start;\n\n        if (bottomCondition) {\n            if (!this.#isUnder) {\n                /**\n                 * Reset style\n                 */\n                this.#resetStyleWhenUnder();\n                this.#deactivateTrasponder();\n\n                this.#isUnder = true;\n                this.#isInner = false;\n                this.#isOver = false;\n            }\n        } else if (innerCondition) {\n            if (!this.#isInner) {\n                this.#setFixedPosition();\n\n                const fireSpring =\n                    (scrollDirection === MobScrollerConstant.SCROLL_DOWN &&\n                        !this.#invertSide) ||\n                    (scrollDirection === MobScrollerConstant.SCROLL_UP &&\n                        this.#invertSide);\n\n                this.#activateTrasponder();\n                if (fireSpring) {\n                    this.#animateCollision();\n                } else {\n                    this.#animateCollisionBack();\n                }\n\n                this.#isUnder = false;\n                this.#isInner = true;\n                this.#isOver = false;\n            }\n        } else {\n            if (!this.#isOver) {\n                this.#resetStyleWhenOver();\n                this.#deactivateTrasponder();\n                this.#isUnder = false;\n                this.#isInner = false;\n                this.#isOver = true;\n            }\n        }\n\n        this.#prevScroll = scrollTop;\n        this.#firstTime = false;\n    }\n}\n", "export const scrollerWarningNoUnitMiusure = () => {\n    console.warn(\n        'parallax prop checker: value in start or end prop with no unit misure is not allowed, failed operation, use vh in vertical mode or vw in horizontal or px'\n    );\n};\n\nexport const scrollerWarningVhIsNotAllowed = () => {\n    console.warn(\n        'parallax prop checker: value in start or end in vh is not allowed in horizontal mode, use vw or px'\n    );\n};\n\nexport const scrollerWarningVwIsNotAllowed = () => {\n    console.warn(\n        'parallax prop checker: value in start or end in vw is not allowed in vertical mode, use vh or px'\n    );\n};\n", "// @ts-check\n\nimport {\n    getScrollerPositionFromContanst,\n    getStartEndUnitMisure,\n} from './get-constant-from-regex.js';\nimport {\n    exactMatchInsensitive,\n    exactMatchInsesitivePropArray,\n} from '../utils/regex-validation.js';\nimport { MobScrollerConstant } from './mob-scroller-constant.js';\nimport {\n    scrollerWarningNoUnitMiusure,\n    scrollerWarningVhIsNotAllowed,\n    scrollerWarningVwIsNotAllowed,\n} from './warning.js';\nimport { MobCore } from '../../../mob-core/index.js';\n\n/**\n * Fail return with bad data\n *\n * @returns {import('./utils-type.js').scrollTriggerLimitValues}\n */\nconst returnWhenFail = () => {\n    return {\n        numberVal: 0,\n        unitMisure: '',\n        additionalVal: '',\n        position: '',\n    };\n};\n\n/**\n * Get px value to add (es: top +100px)\n *\n * @param {object} obj\n * @param {boolean} obj.invert\n * @param {number} obj.endValInNumber\n * @param {number} obj.scrollerHeight\n * @param {number} obj.isNegative\n * @param {number} obj.startPoint\n * @param {boolean} obj.isFromTopLeft\n * @returns Number\n */\nconst getValueInPx = ({\n    invert,\n    endValInNumber,\n    scrollerHeight,\n    isNegative,\n    startPoint,\n    isFromTopLeft,\n}) => {\n    const valueFromTop = endValInNumber * isNegative - startPoint;\n    const valueFromBottom =\n        scrollerHeight - endValInNumber * isNegative - startPoint;\n\n    if (invert) {\n        return isFromTopLeft ? valueFromTop : valueFromBottom;\n    } else {\n        return isFromTopLeft ? valueFromBottom : valueFromTop;\n    }\n};\n\n/**\n * Get vw/vh value to add (es: top +50vh)\n *\n * @param {object} obj\n * @param {boolean} obj.invert\n * @param {number} obj.endValInNumber\n * @param {number} obj.scrollerHeight\n * @param {number} obj.screenUnit\n * @param {number} obj.isNegative\n * @param {number} obj.startPoint\n * @param {boolean} obj.isFromTopLeft\n * @returns Number\n */\nconst getValueInVwVh = ({\n    invert,\n    scrollerHeight,\n    screenUnit,\n    endValInNumber,\n    isNegative,\n    startPoint,\n    isFromTopLeft,\n}) => {\n    if (invert) {\n        return isFromTopLeft\n            ? scrollerHeight -\n                  screenUnit * (100 - endValInNumber * isNegative) -\n                  startPoint\n            : screenUnit * (100 - endValInNumber * isNegative) - startPoint;\n    } else {\n        return isFromTopLeft\n            ? scrollerHeight -\n                  screenUnit * endValInNumber * isNegative -\n                  startPoint\n            : screenUnit * endValInNumber * isNegative - startPoint;\n    }\n};\n\n/**\n * @param {import('./utils-type.js').scrollTriggerIsInviewPort} obj\n * @returns {boolean}\n */\nexport const detectViewPortInterception = ({\n    offset,\n    height,\n    gap,\n    wScrollTop,\n    wHeight,\n}) => {\n    return (\n        offset + height > wScrollTop - gap &&\n        offset < wScrollTop + (wHeight + gap)\n    );\n};\n\n/**\n * Filter input value with number in value and additional value\n *\n * @example\n *     { numberVal: '100px', additionalVal: '+height', position:\"top\" }\n *     default:  { numberVal: '0', additionalVal: '', position:\"bottom\" }\n *\n * @param {string[]} values Spitted input value es: 100px +h => ['100px','+height', 'top']\n * @param {string} direction\n * @returns {import('./utils-type.js').scrollTriggerLimitValues} Return object with values or default\n */\nexport const getStartEndValue = (values, direction) => {\n    // Get number value if exist, check values array to find a item with almost 1 number ad get it\n    const numberInString = values.find((item) => {\n        return [...item].some((c) => !Number.isNaN(Number.parseFloat(c)));\n    });\n\n    // Get unit misure from nunmber case insensitive\n    const unitMisure = getStartEndUnitMisure(numberInString);\n\n    // Number without unit misure is not allowed\n    if (numberInString && !unitMisure) {\n        scrollerWarningNoUnitMiusure();\n        return returnWhenFail();\n    }\n\n    // Number in vh is not allowed in horizontal mode\n    if (\n        numberInString &&\n        unitMisure === MobScrollerConstant.VH &&\n        direction === MobScrollerConstant.DIRECTION_HORIZONTAL\n    ) {\n        scrollerWarningVhIsNotAllowed();\n        return returnWhenFail();\n    }\n\n    // Number in vw is not allowed in vertical mode\n    if (\n        numberInString &&\n        unitMisure === MobScrollerConstant.VW &&\n        direction === MobScrollerConstant.DIRECTION_VERTICAL\n    ) {\n        scrollerWarningVwIsNotAllowed();\n        return returnWhenFail();\n    }\n\n    // Get aditonal value +height +halfHeight -height -etc... if exist\n    const additionaChoice = [\n        MobScrollerConstant.PLUS_HEIGHT,\n        MobScrollerConstant.PLUS_HEIGHT_HALF,\n        MobScrollerConstant.PLUS_WIDTH,\n        MobScrollerConstant.PLUS_WIDTH_HALF,\n        MobScrollerConstant.MINUS_HEIGHT,\n        MobScrollerConstant.MINUS_HEIGHT_HALF,\n        MobScrollerConstant.MINUS_WIDTH,\n        MobScrollerConstant.MINUS_WIDTH_HALF,\n    ];\n    const getAdditionalVal = values.find((item) => {\n        return exactMatchInsesitivePropArray(additionaChoice, item);\n    });\n\n    // Get position top || bottom || left || right\n    const positionMap = [\n        MobScrollerConstant.POSITION_BOTTOM,\n        MobScrollerConstant.POSITION_TOP,\n        MobScrollerConstant.POSITION_LEFT,\n        MobScrollerConstant.POSITION_RIGHT,\n    ];\n    const getPosition = values.find((item) => {\n        return exactMatchInsesitivePropArray(positionMap, item);\n    });\n\n    return {\n        numberVal: numberInString || 0,\n        unitMisure,\n        additionalVal: getAdditionalVal ?? '',\n        position: getPosition ?? MobScrollerConstant.POSITION_BOTTOM,\n    };\n};\n\n/**\n * Get start point withuot addition value\n *\n * @param {number} screenUnit\n * @param {string} data\n * @param {string} direction\n * @returns {import('./utils-type.js').scrollTriggerStartEndPartials}\n */\nexport const getStartPoint = (screenUnit, data, direction) => {\n    /**\n     * Split into chunk data\n     */\n    const str = String(data);\n    const values = str.split(' ');\n\n    /**\n     * Process split array\n     */\n    const { numberVal, unitMisure, additionalVal, position } = getStartEndValue(\n        values,\n        direction\n    );\n\n    /**\n     * Check if number is negative\n     */\n    const firstChar = String(numberVal).charAt(0);\n    const isNegative = firstChar === '-' ? -1 : 1;\n\n    /**\n     * Get number without px or vw etc..\n     */\n    const number = Number.parseFloat(\n        // @ts-ignore\n        String(numberVal).replaceAll(/^\\D+/g, '')\n    );\n    const startValInNumber = number ?? 0;\n\n    /**\n     * Get final value without height/halfHeight etc..\n     */\n    return unitMisure === MobScrollerConstant.PX\n        ? {\n              value: startValInNumber * isNegative,\n              additionalVal,\n              position: getScrollerPositionFromContanst(position),\n          }\n        : {\n              value: screenUnit * startValInNumber * isNegative,\n              additionalVal,\n              position: getScrollerPositionFromContanst(position),\n          };\n};\n\n/**\n * Get end point withuot addition value\n *\n * @param {number} screenUnit\n * @param {string} data\n * @param {number} startPoint\n * @param {number} scrollerHeight\n * @param {boolean} invertSide\n * @param {string} direction\n * @returns {import('./utils-type.js').scrollTriggerStartEndPartials}\n */\nexport const getEndPoint = (\n    screenUnit,\n    data,\n    startPoint,\n    scrollerHeight,\n    invertSide,\n    direction\n) => {\n    /**\n     * Split into chunk data\n     */\n    const str = String(data);\n    const values = str.split(' ');\n\n    /**\n     * Process split array\n     */\n    const { numberVal, unitMisure, additionalVal, position } = getStartEndValue(\n        values,\n        direction\n    );\n\n    /**\n     * Check if number is negative\n     */\n    const firstChar = String(numberVal).charAt(0);\n    const isNegative = firstChar === '-' ? -1 : 1;\n\n    /**\n     * Get number without px or vw etc..\n     */\n    const number = Number.parseFloat(\n        // @ts-ignore\n        String(numberVal).replaceAll(/^\\D+/g, '')\n    );\n    const endValInNumber = number ?? 0;\n\n    /**\n     * Get position constant from prallax constant\n     */\n    const positionFromConstant = getScrollerPositionFromContanst(position);\n\n    /**\n     * Check direction\n     */\n    const isFromTopLeft =\n        positionFromConstant === MobScrollerConstant.POSITION_TOP ||\n        positionFromConstant === MobScrollerConstant.POSITION_LEFT;\n\n    /**\n     * Get final value without height/halfHeight etc..\n     */\n    return unitMisure === MobScrollerConstant.PX\n        ? {\n              value: invertSide\n                  ? getValueInPx({\n                        invert: true,\n                        endValInNumber,\n                        scrollerHeight,\n                        isNegative,\n                        startPoint,\n                        isFromTopLeft,\n                    })\n                  : getValueInPx({\n                        invert: false,\n                        endValInNumber,\n                        scrollerHeight,\n                        isNegative,\n                        startPoint,\n                        isFromTopLeft,\n                    }),\n              additionalVal,\n              position: positionFromConstant,\n          }\n        : {\n              value: invertSide\n                  ? getValueInVwVh({\n                        invert: true,\n                        scrollerHeight,\n                        screenUnit,\n                        endValInNumber,\n                        isNegative,\n                        startPoint,\n                        isFromTopLeft,\n                    })\n                  : getValueInVwVh({\n                        invert: false,\n                        scrollerHeight,\n                        screenUnit,\n                        endValInNumber,\n                        isNegative,\n                        startPoint,\n                        isFromTopLeft,\n                    }),\n              additionalVal,\n              position: positionFromConstant,\n          };\n};\n\n/**\n * @param {number} value\n * @param {string} stringValue\n * @param {number} height\n * @param {number} width\n * @returns {number}\n */\nexport const processFixedLimit = (value, stringValue, height, width) => {\n    const str = String(stringValue);\n\n    // plus\n    if (exactMatchInsensitive(str, MobScrollerConstant.PLUS_HEIGHT_HALF)) {\n        return value + height / 2;\n    }\n\n    if (exactMatchInsensitive(str, MobScrollerConstant.PLUS_HEIGHT)) {\n        return value + height;\n    }\n\n    if (exactMatchInsensitive(str, MobScrollerConstant.PLUS_WIDTH_HALF)) {\n        return value + width / 2;\n    }\n\n    if (exactMatchInsensitive(str, MobScrollerConstant.PLUS_WIDTH)) {\n        return value + width;\n    }\n\n    // minus\n    if (exactMatchInsensitive(str, MobScrollerConstant.MINUS_HEIGHT_HALF)) {\n        return value - height / 2;\n    }\n\n    if (exactMatchInsensitive(str, MobScrollerConstant.MINUS_HEIGHT)) {\n        return value - height;\n    }\n\n    if (exactMatchInsensitive(str, MobScrollerConstant.MINUS_WIDTH_HALF)) {\n        return value - width / 2;\n    }\n\n    if (exactMatchInsensitive(str, MobScrollerConstant.MINUS_WIDTH)) {\n        return value - width;\n    }\n\n    return value;\n};\n\n/**\n * @param {object} obj\n * @param {string | boolean} obj.switchPropierties\n * @param {boolean} obj.isReverse\n * @param {number} obj.value\n * @returns {number}\n */\nexport const getValueOnSwitch = ({ switchPropierties, isReverse, value }) => {\n    switch (switchPropierties) {\n        case MobScrollerConstant.IN_STOP: {\n            return (!isReverse && value > 0) || (isReverse && value < 0)\n                ? 0\n                : value;\n        }\n\n        case MobScrollerConstant.IN_BACK: {\n            return (!isReverse && value > 0) || (isReverse && value < 0)\n                ? -value\n                : value;\n        }\n\n        case MobScrollerConstant.OUT_STOP: {\n            return (!isReverse && value < 0) || (isReverse && value > 0)\n                ? 0\n                : value;\n        }\n\n        case MobScrollerConstant.OUT_BACK: {\n            return (!isReverse && value < 0) || (isReverse && value > 0)\n                ? -value\n                : value;\n        }\n\n        default: {\n            return value;\n        }\n    }\n};\n\n/**\n * @param {string} propierties\n * @param {number} val\n * @returns {number}\n */\nexport const getRetReverseValue = (propierties, val) => {\n    switch (propierties) {\n        case MobScrollerConstant.PROP_OPACITY: {\n            return 1 - val;\n        }\n\n        default: {\n            return -val;\n        }\n    }\n};\n\n/**\n * @param {Object} param\n * @param {import('../../../mob-core/events/scroll-utils/type.js').HandleScrollCallback<\n *     import('../../../mob-core/events/scroll-utils/type.js').HandleScroll\n * >} param.callback\n * @param {boolean} param.pin\n * @param {boolean} param.ease\n * @param {boolean} param.useThrottle\n * @returns {() => void}\n */\nexport const getScrollFunction = ({ callback, pin, ease, useThrottle }) => {\n    /**\n     * If use pin we have to get fresh value on scroll Otherwise we can optimize and fire scroll callback after requerst\n     * animationFrame\n     */\n    if (pin) return MobCore.useScrollImmediate(callback);\n\n    /**\n     * Use throttle if needed and there is a ease;\n     */\n    if (ease && useThrottle) return MobCore.useScrollThrottle(callback);\n\n    /**\n     * Default scroll\n     */\n    return MobCore.useScroll(callback);\n};\n", "// @ts-check\n\nimport { mq } from '../../utils/media-manager.js';\nimport {\n    getTranslateValues,\n    offset,\n    position,\n} from '../../../mob-core/utils/index.js';\nimport MobLerp from '../lerp/mob-lerp.js';\nimport MobSpring from '../spring/mob-spring.js';\nimport { clamp, getRoundedValue } from '../utils/animation-utils.js';\nimport { getRangeUnitMisure } from './get-constant-from-regex.js';\nimport {\n    breakpointIsValid,\n    breakpointTypeIsValid,\n    checkStringRangeOnPropierties,\n    domNodeIsValidAndReturnElOrWin,\n    domNodeIsValidAndReturnNull,\n    functionIsValidAndReturnDefault,\n    scrollerAlignIsValid,\n    directionIsValid,\n    scrollerDynamicRangeIsValid,\n    scrollerDynamicValueIsValid,\n    scrollerEaseTypeIsValid,\n    scrollerLerpConfigIsValid,\n    scrollerOnSwitchIsValid,\n    scrollerOpacityIsValid,\n    scrollerPropiertiesIsValid,\n    scrollerRangeIsValid,\n    scrollerSpringConfigIsValid,\n    scrollerTweenIsValid,\n    scrollerTypeIsValid,\n    valueIsBooleanAndReturnDefault,\n    valueIsNumberAndReturnDefault,\n    valueIsStringAndReturnDefault,\n} from '../utils/tween-action/tween-validation.js';\nimport { MobScrollerConstant } from './mob-scroller-constant.js';\nimport { MobScrollerEmitter } from './mob-scroller-emitter.js';\nimport { MobScrollerMarker } from './mob-scroller-marker.js';\nimport { MobScrollerPin } from './mob-scroller-pin.js';\nimport { MobCore } from '../../../mob-core/index.js';\nimport {\n    getEndPoint,\n    getRetReverseValue,\n    getStartPoint,\n    getValueOnSwitch,\n    detectViewPortInterception,\n    processFixedLimit,\n    getScrollFunction,\n} from './mob-scroller-utils.js';\nimport { scrollerEaseTypeSpringWarining } from '../utils/warning.js';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport MobScrollerTween from './mob-scroller-tween.js';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport MobSequencer from '../sequencer/mob-sequencer.js';\n\nexport default class MobScroller {\n    /**\n     * @type {boolean}\n     */\n    #isInzialized;\n\n    /**\n     * @type {boolean}\n     */\n    #willChangeIsActive;\n\n    /**\n     * @type {number}\n     */\n    #offset;\n\n    /**\n     * @type {number}\n     */\n    #screenPosition;\n\n    /**\n     * @type {number}\n     */\n    #endValue;\n\n    /**\n     * @type {number}\n     */\n    #height;\n\n    /**\n     * @type {number}\n     */\n    #width;\n\n    /**\n     * @type {number}\n     */\n    #scrollerScroll;\n\n    /**\n     * @type {number}\n     */\n    #scrollerHeight;\n\n    /**\n     * @type {number}\n     */\n    #windowInnerWidth;\n\n    /**\n     * @type {number}\n     */\n    #windowInnerHeight;\n\n    /**\n     * @type {number}\n     */\n    #gap;\n\n    /**\n     * @type {number}\n     */\n    #numericRange;\n\n    /**\n     * @type {Function}\n     */\n    #unsubscribeResize;\n\n    /**\n     * @type {Function}\n     */\n    #unsubscribeScroll;\n\n    /**\n     * @type {Function}\n     */\n    #unsubscribeScrollStart;\n\n    /**\n     * @type {Function}\n     */\n    #unsubscribeScrollEnd;\n\n    /**\n     * @type {Function}\n     */\n    #unsubscribeMarker;\n\n    /**\n     * @type {Element | undefined}\n     */\n    #startMarker;\n\n    /**\n     * @type {Element | undefined}\n     */\n    #endMarker;\n\n    /**\n     * @type {number | undefined}\n     */\n    #lastValue;\n\n    /**\n     * @type {number}\n     */\n    #prevFixedRawValue;\n\n    /**\n     * @type {boolean}\n     */\n    #fixedShouldRender;\n\n    /**\n     * @type {number | undefined}\n     */\n    #prevFixedClamp;\n\n    /**\n     * @type {boolean}\n     */\n    #firstTime;\n\n    /**\n     * @type {boolean}\n     */\n    #isInViewport;\n\n    /**\n     * @type {boolean}\n     */\n    #iSControlledFromOutside;\n\n    /**\n     * @type {boolean}\n     */\n    #force3D;\n\n    /**\n     * @type {MobScrollerPin | undefined}\n     */\n    #pinInstance;\n\n    /**\n     * @type {string}\n     */\n    #unitMisure;\n\n    /**\n     * @type {number}\n     */\n    #startPoint;\n\n    /**\n     * @type {number}\n     */\n    #endPoint;\n\n    /**\n     * @type {Function}\n     */\n    #unsubscribeMotion;\n\n    /**\n     * @type {Function}\n     */\n    #unsubscribeOnComplete;\n\n    /**\n     * Fixed prop\n     */\n\n    /**\n     * @type {boolean}\n     */\n    #pin;\n\n    /**\n     * @type {boolean}\n     */\n    #animatePin;\n\n    /**\n     * @type {boolean}\n     */\n    #forceTranspond;\n\n    /**\n     * @type {boolean}\n     */\n    #anticipatePinOnLoad;\n\n    /**\n     * @type {string}\n     */\n    #start;\n\n    /**\n     * @type {string}\n     */\n    #end;\n\n    /**\n     * @type {boolean}\n     */\n    #invertSide;\n\n    /**\n     * @type {string}\n     */\n    #marker;\n\n    /**\n     * @type {import('./type.js').DynamicStart}\n     */\n    #dynamicStart;\n\n    /**\n     * @type {import('./type.js').DynamicEnd}\n     */\n    #dynamicEnd;\n\n    /**\n     * @type {Function | undefined}\n     */\n    #dynamicRange;\n\n    /**\n     * @type {boolean}\n     */\n    #animateAtStart;\n\n    /**\n     * @type {Function}\n     */\n    #onEnter;\n\n    /**\n     * @type {Function}\n     */\n    #onEnterBack;\n\n    /**\n     * @type {Function}\n     */\n    #onLeave;\n\n    /**\n     * @type {Function}\n     */\n    #onLeaveBack;\n\n    /**\n     * @type {Function}\n     */\n    #onTickCallback;\n\n    /**\n     * @type {string | number}\n     */\n    #align;\n\n    /**\n     * @type {string | boolean}\n     */\n    #onSwitch;\n\n    /**\n     * @type {boolean}\n     */\n    #reverse;\n\n    /**\n     * @type {number}\n     */\n    #opacityStart;\n\n    /**\n     * @type {number}\n     */\n    #opacityEnd;\n\n    /**\n     * @type {boolean}\n     */\n    #limiterOff;\n\n    /**\n     * Common prop\n     */\n\n    /**\n     * @type {boolean | undefined}\n     */\n    #useWillChange;\n\n    /**\n     * @type {import('../../type.js').MobMasterSequencer | MobScrollerTween | MobSequencer}\n     */\n    #tween;\n\n    /**\n     * @type {HTMLElement | null}\n     */\n    #item;\n\n    /**\n     * @type {HTMLElement | globalThis | null}\n     */\n    #scroller;\n\n    /**\n     * @type {HTMLElement | globalThis | null}\n     */\n    #screen;\n\n    /**\n     * @type {HTMLElement | null | undefined}\n     */\n    #trigger;\n\n    /**\n     * @type {HTMLElement | null | undefined}\n     */\n    #applyTo;\n\n    /**\n     * @type {string}\n     */\n    #direction;\n\n    /**\n     * @type {boolean}\n     */\n    #disableForce3D;\n\n    // With pin active no throttle is usable, pin need precision\n    /**\n     * @type {boolean}\n     */\n    #useThrottle;\n\n    /**\n     * @type {string}\n     */\n    #type;\n\n    /**\n     * @type {number}\n     */\n    #perspective;\n\n    /**\n     * @type {string}\n     */\n    #breakpoint;\n\n    /**\n     * @type {string}\n     */\n    #queryType;\n\n    /**\n     * @type {string}\n     */\n    #propierties;\n\n    /**\n     * Skip render and set a default 100px value for trigger the events.\n     *\n     * @type {boolean}\n     */\n    #shouldTrackOnlyEvents;\n\n    /**\n     * @type {string | number}\n     */\n    #range;\n\n    /**\n     * Get properties, check if there is sequencer inside a Parallax, In case return y propierties\n     *\n     * @type {boolean}\n     */\n    #ease;\n\n    /**\n     * Get easeType properties, Check if a sequencer is used inside a scrollTrigger In case return a lerp\n     *\n     * @type {string}\n     */\n    #easeType;\n\n    /**\n     * Get easeType properties, Check if a sequencer is used inside a scrollTrigger In case return a lerp\n     *\n     * @type {import('../spring/type.js').SpringChoiceConfig}\n     */\n    #springConfig;\n\n    /**\n     * Get easeType properties, Check if a sequencer is used inside a scrollTrigger In case return a lerp\n     *\n     * @type {number}\n     */\n    #lerpConfig;\n\n    /**\n     * Add more precision to motion spring/lerp to trigger better force3D\n     *\n     * @type {any}\n     */\n    #motionParameters;\n\n    /**\n     * Add more precision to motion spring/lerp to trigger better force3D\n     *\n     * @type {import('./type.js').MobScrollerMotion}\n     */\n    #motion;\n\n    /**\n     * Available methods:\n     *\n     * ```javascript\n     * myInstance.init();\n     * myInstance.destroy();\n     * myInstance.refresh();\n     * myInstance.move();\n     * ```\n     *\n     * @example\n     *     ```javascript\n     *      Parallax property schema:\n     *\n     *\n     *      const myParallax = new MobScroller({\n     *          type: 'parallax',\n     *          item: String | Element,\n     *          applyTo: [ String | Element ],\n     *          trigger: [ String | Element ],\n     *          screen: [ String | Element ],\n     *          scroller: [ String | Element ],\n     *          breakpoint: [ String ],\n     *          queryType: [ String ],\n     *          direction: [ String ],\n     *          propierties: [ String ],\n     *          tween: [ MobSequencer | MobScrollerTween ],\n     *          range: [ String | Number ],\n     *          align: [ String ],\n     *          onSwitch: [ String ],\n     *          reverse: [ Boolean ],\n     *          ease: [ Boolean ],\n     *          easeType: [ String ],\n     *          lerpConfig: [ Number ],\n     *          springConfig: [ String ],\n     *          opacityEnd: [ Number ],\n     *          opacityStart: [ Number ],\n     *          limiterOff: [ Boolean ],\n     *          perspective: [ Number ],\n     *          disableForce3D: [ Boolean ],\n     *          useThrottle: [ Boolean ],\n     *      });\n     *\n     *\n     *\n     *      Scrolltrigger property schema:\n     *\n     *\n     *      const myScrollTrigger = new MobScroller({\n     *          item: String | Element,\n     *          applyTo: [ String | Element ],\n     *          trigger: [ String | Element ],\n     *          screen: [ String | Element ],\n     *          scroller: [ String | Element ],\n     *          breakpoint: [ String ],\n     *          queryType: [ String ],\n     *          direction: [ String ],\n     *          propierties: [ String ],\n     *          tween: [ MobSequencer | MobScrollerTween ],\n     *          range: [ String ],\n     *          dynamicRange: [ Function ],\n     *          fromTo: [ Boolean ],\n     *          start: [ String ],\n     *          dynamicStart: {\n     *             position: [ String ],\n     *             value: [ Function ]\n     *          },\n     *          end: [ String ],\n     *          dynamicEnd: {\n     *             position: [ String ],\n     *             value: [ Function ]\n     *          },\n     *          ease: [ Boolean ],\n     *          easeType: [ String ],\n     *          lerpConfig: [ Number ],\n     *          springConfig: [ String ],\n     *          pin: [ Boolean ],\n     *          animatePin: [ Boolean ],\n     *          anticipatePinOnLoad: [ Boolean ],\n     *          marker: [ String ],\n     *          forceTranspond: [ Boolean ],\n     *          animateAtStart: [ Boolean ],\n     *          disableForce3D: [ Boolean ],\n     *          onEnter: [ Function ],\n     *          onEnterBack: [ Function ],\n     *          onLeave: [ Function ],\n     *          onLeaveBack: [ Function ],\n     *          onTick: [ Function ],\n     *          perspective: [ Number ],\n     *          useThrottle: [ Boolean ],\n     *      });\n     *\n     *\n     *     ```;\n     *\n     * @param {import('./type.js').MobScrollerCommon &\n     *     import('./type.js').Parallax &\n     *     import('./type.js').ScrollTrigger} data\n     */\n\n    constructor(data) {\n        this.#isInzialized = false;\n        this.#willChangeIsActive = false;\n        this.#offset = 0;\n        this.#screenPosition = 0;\n        this.#endValue = 0;\n        this.#height = 0;\n        this.#width = 0;\n        this.#scrollerScroll = 0;\n        this.#scrollerHeight = 0;\n        this.#windowInnerWidth = window.innerWidth;\n        this.#windowInnerHeight = window.innerHeight;\n        this.#gap = 150;\n        this.#numericRange = 0;\n        this.#unsubscribeResize = () => {};\n        this.#unsubscribeScroll = () => {};\n        this.#unsubscribeScrollStart = () => {};\n        this.#unsubscribeScrollEnd = () => {};\n        this.#unsubscribeMarker = () => {};\n        this.#startMarker = undefined;\n        this.#endMarker = undefined;\n        this.#lastValue = undefined;\n        this.#prevFixedRawValue = 0;\n        this.#fixedShouldRender = false;\n        this.#prevFixedClamp = undefined;\n        this.#firstTime = true;\n        this.#isInViewport = false;\n        this.#iSControlledFromOutside = false;\n        this.#force3D = false;\n        this.#pinInstance = undefined;\n        this.#unitMisure = '';\n        this.#startPoint = 0;\n        this.#endPoint = 0;\n        this.#unsubscribeMotion = () => {};\n        this.#unsubscribeOnComplete = () => {};\n\n        // Initial value of direction bottom/top or right/left\n        this.#invertSide = false;\n\n        /**\n         * Fixed prop\n         */\n\n        this.#pin = valueIsBooleanAndReturnDefault(\n            data?.pin,\n            'Scrolltrigger pin propierties error:',\n            false\n        );\n\n        this.#animatePin = valueIsBooleanAndReturnDefault(\n            data?.animatePin,\n            'Scrolltrigger animatePin propierties error:',\n            false\n        );\n\n        this.#forceTranspond = valueIsBooleanAndReturnDefault(\n            data?.forceTranspond,\n            'Scrolltrigger forceTranspond propierties error:',\n            false\n        );\n\n        this.#anticipatePinOnLoad = valueIsBooleanAndReturnDefault(\n            data?.anticipatePinOnLoad,\n            'Scrolltrigger anticipatePinOnLoad propierties error:',\n            false\n        );\n\n        this.#start = valueIsStringAndReturnDefault(\n            data?.start,\n            'Scrolltrigger start propierties error:',\n            'bottom 0px'\n        );\n\n        this.#end = valueIsStringAndReturnDefault(\n            data?.end,\n            'Scrolltrigger end propierties error:',\n            'top'\n        );\n\n        this.#marker = valueIsStringAndReturnDefault(\n            data?.marker,\n            'Scrolltrigger marker propierties error:',\n            // eslint-disable-next-line unicorn/no-useless-undefined\n            undefined\n        );\n\n        this.#dynamicStart = data?.dynamicStart\n            ? scrollerDynamicValueIsValid(data.dynamicStart, 'dynamicStart')\n            : null;\n\n        this.#dynamicEnd = data?.dynamicEnd\n            ? scrollerDynamicValueIsValid(data.dynamicEnd, 'dynamicEnd')\n            : null;\n\n        this.#dynamicRange = scrollerDynamicRangeIsValid(data?.dynamicRange);\n\n        this.#animateAtStart = valueIsBooleanAndReturnDefault(\n            data?.animateAtStart,\n            'Scrolltrigger animateAtStart propierties error:',\n            false\n        );\n\n        this.#onEnter = functionIsValidAndReturnDefault(\n            data?.onEnter,\n            false,\n            'Scrolltrigger onEnter propierties error'\n        );\n\n        this.#onEnterBack = functionIsValidAndReturnDefault(\n            data?.onEnterBack,\n            false,\n            'Scrolltrigger onEnterBack propierties error'\n        );\n\n        this.#onLeave = functionIsValidAndReturnDefault(\n            data?.onLeave,\n            false,\n            'Scrolltrigger onLeave propierties error'\n        );\n\n        this.#onLeaveBack = functionIsValidAndReturnDefault(\n            data?.onLeaveBack,\n            false,\n            'Scrolltrigger onLeaveBack propierties error'\n        );\n\n        this.#onTickCallback = functionIsValidAndReturnDefault(\n            data?.onTick,\n            false,\n            'Scrolltrigger onTickCallback propierties error'\n        );\n\n        this.#align = scrollerAlignIsValid(data?.align);\n        this.#onSwitch = scrollerOnSwitchIsValid(data?.onSwitch);\n\n        this.#reverse = valueIsBooleanAndReturnDefault(\n            data?.reverse,\n            'Parallax reverse propierties error:',\n            false\n        );\n\n        this.#opacityStart = scrollerOpacityIsValid(\n            data?.opacityStart,\n            'Parallax opacityStart propierties error:',\n            100\n        );\n\n        this.#opacityEnd = scrollerOpacityIsValid(\n            data?.opacityEnd,\n            'Parallax opacityEnd propierties error:',\n            0\n        );\n\n        this.#limiterOff = valueIsBooleanAndReturnDefault(\n            data?.limiterOff,\n            'Parallax|Scrolltrigger limiterOff propierties error:',\n            false\n        );\n\n        /**\n         * Common prop\n         */\n        this.#useWillChange = data?.useWillChange;\n        this.#tween = scrollerTweenIsValid(data?.tween);\n\n        const tweenIsSequencer =\n            this.#tween?.getType &&\n            this.#tween.getType() === MobScrollerConstant.TWEEN_TIMELINE;\n\n        const tweenIsParallaxTween =\n            this.#tween?.getType &&\n            this.#tween.getType() === MobScrollerConstant.TWEEN_TWEEN;\n\n        this.#item = domNodeIsValidAndReturnElOrWin(data?.item, false);\n        this.#scroller = domNodeIsValidAndReturnElOrWin(data?.scroller, true);\n        this.#screen = domNodeIsValidAndReturnElOrWin(data?.screen, true);\n        this.#trigger = domNodeIsValidAndReturnNull(data?.trigger);\n        this.#applyTo = domNodeIsValidAndReturnNull(data?.applyTo);\n\n        this.#direction = directionIsValid(\n            data?.direction,\n            'Parallax/Scrolltrigger'\n        );\n\n        this.#disableForce3D = valueIsBooleanAndReturnDefault(\n            data?.disableForce3D,\n            'Parallax|Scrolltrigger disableForce3D propierties error:',\n            false\n        );\n\n        this.#useThrottle = valueIsBooleanAndReturnDefault(\n            data?.useThrottle,\n            'Parallax|Scrolltrigger useThrottle propierties error:',\n            false\n        );\n\n        this.#type = scrollerTypeIsValid(data?.type);\n\n        this.#perspective = valueIsNumberAndReturnDefault(\n            data?.perspective,\n            'Parallax|Scrolltrigger perspective propierties error:',\n            0\n        );\n\n        this.#breakpoint = breakpointIsValid(\n            data?.breakpoint,\n            'breakpoint',\n            'parallax/scrolltrigger'\n        );\n\n        this.#queryType = breakpointTypeIsValid(\n            data?.queryType,\n            'queryType',\n            'parallax/scrolltrigger'\n        );\n\n        /**\n         * Get properties, check if there is sequencer inside a Parallax, In case return y propierties\n         *\n         * In case of scrollTrigger if no propierties is specified skip render. Use scrollTrigger only for check events.\n         */\n        const { propierties, shouldTrackOnlyEvents } =\n            scrollerPropiertiesIsValid(\n                data?.propierties,\n                this.#type,\n                tweenIsParallaxTween,\n                tweenIsSequencer\n            );\n\n        this.#propierties = propierties;\n        this.#shouldTrackOnlyEvents = shouldTrackOnlyEvents;\n        this.#range = shouldTrackOnlyEvents\n            ? '100px'\n            : scrollerRangeIsValid(data?.range, this.#type);\n\n        this.#ease = valueIsBooleanAndReturnDefault(\n            data?.ease,\n            'Parallax|Scrolltrigger ease propierties error:',\n            false\n        );\n\n        /**\n         * Check if ease is spring and tween is a sequencer. Not allowed.\n         */\n        if (\n            tweenIsSequencer &&\n            data?.easeType === MobScrollerConstant.EASE_SPRING\n        )\n            scrollerEaseTypeSpringWarining();\n\n        this.#easeType = tweenIsSequencer\n            ? MobScrollerConstant.EASE_LERP\n            : scrollerEaseTypeIsValid(data?.easeType);\n\n        this.#springConfig = scrollerSpringConfigIsValid(\n            data?.springConfig,\n            this.#type\n        );\n\n        this.#lerpConfig = scrollerLerpConfigIsValid(\n            data?.lerpConfig,\n            this.#type\n        );\n\n        this.#motionParameters =\n            this.#easeType === MobScrollerConstant.EASE_SPRING\n                ? {\n                      configProps: {\n                          precision: MobScrollerConstant.EASE_PRECISION,\n                      },\n                  }\n                : { precision: MobScrollerConstant.EASE_PRECISION };\n\n        this.#motion =\n            this.#easeType === MobScrollerConstant.EASE_SPRING\n                ? new MobSpring()\n                : new MobLerp();\n    }\n\n    /**\n     * Initialize instance\n     */\n    init() {\n        if (this.#isInzialized) {\n            console.warn(\n                'Parallax/scrollTrigger: The init() method cannot be launched more than once. If you are passing the instance to components like horizontalScroller or smoothScroller via the children property, they will initialize the instance.'\n            );\n            return;\n        }\n\n        this.#isInzialized = true;\n        this.#setMotion();\n        this.#calcScreenPosition();\n        this.#calcOffset();\n        this.#calcHeight();\n        this.#calcWidth();\n        this.#getScreenHeight();\n        this.setPerspective();\n\n        if (this.#propierties === MobScrollerConstant.PROP_TWEEN) {\n            this.#range = this.#tween?.getDuration\n                ? this.#tween.getDuration()\n                : 0;\n            this.#dynamicRange = () => this.#range;\n            this.#tween?.inzializeStagger?.();\n        }\n\n        if (this.#type == MobScrollerConstant.TYPE_SCROLLTRIGGER) {\n            this.#limiterOff = true;\n            this.#calcRangeAndUnitMiusure();\n            this.#calcFixedLimit();\n        }\n\n        /**\n         * If scroller is !== window the instance is controlled by another component Use move() methods to control\n         * children\n         */\n        if (this.#ease) {\n            /**\n             * Force transform3D onscroll start\n             */\n            this.#unsubscribeScrollStart = MobCore.useScrollStart(() => {\n                if (!this.#disableForce3D) this.#force3D = true;\n            });\n\n            /**\n             * Avoid error with scroll module operation Clean render at the end of the scroll\n             */\n            this.#unsubscribeScrollEnd = MobCore.useScrollEnd(() => {\n                MobCore.useFrame(() => {\n                    MobCore.useNextTick(() => {\n                        this.#easeRender();\n                    });\n                });\n            });\n\n            if (this.#scroller === globalThis) {\n                this.#unsubscribeScroll = getScrollFunction({\n                    pin: this.#pin,\n                    ease: this.#ease,\n                    useThrottle: this.#useThrottle,\n                    callback: () => {\n                        this.#easeRender();\n                    },\n                });\n            }\n\n            /**\n             * First render\n             */\n            this.#easeRender();\n        } else {\n            if (this.#scroller === globalThis) {\n                this.#unsubscribeScroll = getScrollFunction({\n                    pin: this.#pin,\n                    ease: this.#ease,\n                    useThrottle: this.#useThrottle,\n                    callback: () => {\n                        this.#updateEndValue();\n                        this.#noEasingRender();\n                    },\n                });\n            }\n\n            /**\n             * First render\n             */\n            this.#updateEndValue();\n            this.#noEasingRender();\n\n            /**\n             * Execute render on scrollEnd to remove 3Dtransform\n             */\n            this.#unsubscribeScrollEnd = MobCore.useScrollEnd(() => {\n                /**\n                 * Force draw no 3d on scroll end with no ease.\n                 */\n                this.#noEasingRender({ forceRender: true });\n            });\n        }\n\n        /**\n         * Initialize marker\n         */\n        if (this.#scroller !== globalThis && this.#marker) {\n            this.#unsubscribeMarker = MobCore.useScroll(() => {\n                // Refresh marker\n                this.#calcFixedLimit();\n            });\n        }\n\n        /**\n         * Initialize refresh\n         */\n        this.#unsubscribeResize = MobCore.useResize(({ horizontalResize }) => {\n            if (horizontalResize) this.refresh();\n        });\n\n        /**\n         * Initialize pin\n         */\n        if (this.#pin) {\n            this.#pinInstance = new MobScrollerPin();\n\n            if (mq[this.#queryType](this.#breakpoint)) {\n                MobCore.useNextTick(() => {\n                    this.#getScrollerOffset();\n                    this.#pinInstance?.init(this.#getPinParams());\n                    this.#pinInstance?.onScroll(this.#scrollerScroll);\n                });\n            }\n        }\n    }\n\n    #getPinParams() {\n        return {\n            item: this.#item,\n            marker: this.#marker,\n            screen: this.#screen,\n            animatePin: this.#animatePin,\n            anticipatePinOnLoad: this.#anticipatePinOnLoad,\n            forceTranspond: this.#forceTranspond,\n            invertSide: this.#invertSide,\n            direction: this.#direction,\n            scrollerHeight: this.#scrollerHeight,\n            getStart: () => this.#startPoint,\n            getEnd: () => this.#endPoint,\n        };\n    }\n\n    /**\n     * @param {HTMLElement | globalThis} scroller\n     */\n    setScroller(scroller) {\n        this.#scroller = domNodeIsValidAndReturnElOrWin(scroller, true);\n    }\n\n    /**\n     * @param {HTMLElement | globalThis} screen\n     */\n    setScreen(screen) {\n        this.#screen = domNodeIsValidAndReturnElOrWin(screen, true);\n    }\n\n    /**\n     * @param {string} direction\n     */\n    setDirection(direction) {\n        this.#direction = directionIsValid(direction, 'Parallax/Scrolltrigger');\n    }\n\n    /**\n     * @param {import('../../utils/type.js').MqValues} breakpoint\n     */\n    setBreakPoint(breakpoint) {\n        this.#breakpoint = breakpointIsValid(\n            breakpoint,\n            'breakpoint',\n            'Parallax/Scrolltrigger'\n        );\n    }\n\n    /**\n     * @param {import('../../utils/type.js').MqAction} queryType\n     */\n    setQueryType(queryType) {\n        this.#queryType = breakpointTypeIsValid(\n            queryType,\n            'queryType',\n            'Parallax/Scrolltrigger'\n        );\n    }\n\n    /**\n     * @private\n     */\n    setPerspective() {\n        if (this.#perspective && this.#item && this.#item.parentNode) {\n            const style = {\n                perspective: `${this.#perspective}px`,\n                'transform-style': 'preserve-3d',\n            };\n            const parent = this.#item.parentNode;\n            // @ts-ignore\n            Object.assign(parent.style, style);\n        }\n    }\n\n    #setMotion() {\n        const initialValue =\n            MobScrollerConstant.PROP_SCALE ||\n            MobScrollerConstant.PROP_SCALE_X ||\n            MobScrollerConstant.PROP_SCALE_Y ||\n            MobScrollerConstant.PROP_OPACITY\n                ? 1\n                : 0;\n\n        this.#motion.setData({ val: initialValue });\n        this.#unsubscribeMotion = this.#motion.subscribe(({ val }) => {\n            if (val === this.#lastValue) return;\n\n            if (\n                this.#propierties === MobScrollerConstant.PROP_TWEEN &&\n                this.#tween?.draw\n            ) {\n                this.#tween.draw({\n                    partial: val,\n                    isLastDraw: false,\n                    useFrame: false,\n                });\n                this.#lastValue = val;\n                this.#firstTime = false;\n            } else {\n                this.#updateStyle(val);\n            }\n\n            MobCore.useNextTick(() => {\n                if (this.#onTickCallback)\n                    this.#onTickCallback({ value: val, parentIsMoving: true });\n            });\n        });\n\n        this.#unsubscribeOnComplete = this.#motion.onComplete(({ val }) => {\n            this.#force3D = false;\n\n            if (\n                this.#propierties === MobScrollerConstant.PROP_TWEEN &&\n                this.#tween?.draw\n            ) {\n                this.#tween.draw({\n                    partial: val,\n                    isLastDraw: true,\n                    useFrame: false,\n                });\n            } else {\n                this.#updateStyle(val);\n            }\n\n            MobCore.useNextTick(() => {\n                if (this.#onTickCallback)\n                    this.#onTickCallback({ value: val, parentIsMoving: false });\n            });\n        });\n\n        switch (this.#easeType) {\n            case MobScrollerConstant.EASE_LERP: {\n                if (this.#lerpConfig && 'updateVelocity' in this.#motion) {\n                    this.#motion?.updateVelocity?.(this.#lerpConfig);\n                }\n                break;\n            }\n\n            case MobScrollerConstant.EASE_SPRING: {\n                if (this.#springConfig && 'updateConfig' in this.#motion) {\n                    this.#motion?.updateConfig?.(this.#springConfig);\n                }\n                break;\n            }\n        }\n    }\n\n    #calcRangeAndUnitMiusure() {\n        if (this.#dynamicRange) {\n            const range = this.#dynamicRange();\n            this.#numericRange = Number.isNaN(range)\n                ? 0\n                : Number.parseFloat(range);\n            this.#unitMisure = MobScrollerConstant.PX;\n        } else {\n            const str = String(this.#range);\n            const firstChar = str.charAt(0);\n            const isNegative = firstChar === '-' ? -1 : 1;\n\n            /**\n             * Check if px|vw|deg or other is associated with the right props Ex: rotate have a value like '45deg'\n             */\n            const strParsed = checkStringRangeOnPropierties(\n                str,\n                this.#propierties\n            );\n\n            /**\n             * Extract number forms string\n             */\n            this.#numericRange =\n                // @ts-ignore\n                Number.parseFloat(strParsed.replaceAll(/^\\D+/g, '')) *\n                isNegative;\n\n            /**\n             * Get px|vw|etc...\n             */\n            this.#unitMisure = getRangeUnitMisure(strParsed);\n        }\n    }\n\n    #calcFixedLimit() {\n        const screenUnit = this.#scrollerHeight / 100;\n\n        // Check if there is a function that return a start value dynamically\n        if (\n            this.#dynamicStart &&\n            this.#dynamicStart?.position &&\n            this.#dynamicStart?.value?.() !== undefined\n        ) {\n            const { position, value: fn } = this.#dynamicStart;\n            const valueResult = fn();\n            if (!Number.isNaN(valueResult)) {\n                this.#start = `${position} ${valueResult}px`;\n            }\n        }\n\n        // Get position ( es: 'bottom'),\n        // Get processed value ( based on px || vh || vw)\n        // Get additional val ( +height -halfHeight etc ..)\n        const {\n            value: startPoint,\n            additionalVal: additionalStartVal,\n            position: startPosition,\n        } = getStartPoint(screenUnit, this.#start, this.#direction);\n\n        // Check if come from top or left\n        this.#invertSide =\n            startPosition === MobScrollerConstant.POSITION_TOP ||\n            startPosition === MobScrollerConstant.POSITION_LEFT;\n\n        // Add/subtract with height or half value\n        this.#startPoint = processFixedLimit(\n            startPoint,\n            additionalStartVal,\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? this.#height\n                : this.#width,\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? this.#width\n                : this.#height\n        );\n\n        // Check if there is a function that return a end value dynamically\n        if (\n            this.#dynamicEnd &&\n            this.#dynamicEnd?.position &&\n            this.#dynamicEnd?.value?.() !== undefined\n        ) {\n            const { position, value: fn } = this.#dynamicEnd;\n            const valueResult = fn();\n            if (!Number.isNaN(valueResult)) {\n                this.#end = `${position} ${valueResult}px`;\n            }\n        }\n\n        // Get position ( es: 'bottom'),\n        // Get processed value ( based on px || vh || vw)\n        // Get additional val ( +height -halfHeight etc ..)\n        const {\n            value: endPoint,\n            additionalVal: additionalEndVal,\n            position: endPosition,\n        } = getEndPoint(\n            screenUnit,\n            this.#end,\n            this.#startPoint,\n            this.#scrollerHeight,\n            this.#invertSide,\n            this.#direction\n        );\n\n        // Get positive or negative multiplier to add or subtract value basedto the position\n        const multiplier = (() => {\n            if (this.#invertSide) {\n                return endPosition === MobScrollerConstant.POSITION_BOTTOM ||\n                    endPosition === MobScrollerConstant.POSITION_RIGHT\n                    ? -1\n                    : 1;\n            } else {\n                return endPosition === MobScrollerConstant.POSITION_BOTTOM ||\n                    endPosition === MobScrollerConstant.POSITION_RIGHT\n                    ? 1\n                    : -1;\n            }\n        })();\n\n        // Add/subtract with height or half value\n        this.#endPoint = processFixedLimit(\n            endPoint,\n            additionalEndVal,\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? this.#height * multiplier\n                : this.#width * multiplier,\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? this.#width * multiplier\n                : this.#height * multiplier\n        );\n\n        this.#setMarker();\n\n        // From left to right or top to bottom\n        // the botom or right side of item sollide with start point\n        if (this.#invertSide) this.#startPoint -= this.#height;\n    }\n\n    #setMarker() {\n        if (this.#marker) {\n            // Add Marker\n            const { startMarker, endMarker } = MobScrollerMarker({\n                startMarker: this.#startMarker,\n                endMarker: this.#endMarker,\n                startPoint: this.#startPoint,\n                endPoint: this.#endPoint,\n                screen: this.#screen,\n                direction: this.#direction,\n                invertSide: this.#invertSide,\n                label: this.#marker,\n            });\n\n            this.#startMarker = startMarker;\n            this.#endMarker = endMarker;\n        }\n    }\n\n    #calcOffset() {\n        const el = this.#trigger ?? this.#item;\n\n        if (!el) return;\n\n        let x = 0;\n        let y = 0;\n        let z = 0;\n\n        if (this.#trigger) {\n            x = getTranslateValues(this.#trigger)?.x ?? 0;\n            y = getTranslateValues(this.#trigger)?.y ?? 0;\n            z = getTranslateValues(this.#trigger)?.z ?? 0;\n        }\n\n        /**\n         * Reset transform for get right offset value if transform is applied itself\n         *\n         * @ts-ignore all element is not window ( check the if statement ).\n         */\n        el.style.transform = '';\n\n        if (this.#direction === MobScrollerConstant.DIRECTION_VERTICAL) {\n            this.#offset =\n                this.#scroller === globalThis\n                    ? Math.trunc(offset(el).top)\n                    : Math.trunc(offset(el).top) -\n                      offset(/** @type {HTMLElement} */ (this.#scroller)).top;\n        } else {\n            this.#offset =\n                this.#scroller === globalThis\n                    ? Math.trunc(offset(el).left)\n                    : Math.trunc(offset(el).left) -\n                      offset(/** @type {HTMLElement} */ (this.#scroller)).left;\n        }\n\n        if (this.#screen && this.#screen !== globalThis) {\n            this.#offset -=\n                this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                    ? Math.trunc(\n                          offset(/** @type {HTMLElement} */ (this.#screen)).top\n                      )\n                    : Math.trunc(\n                          position(/** @type {HTMLElement} */ (this.#screen))\n                              .left\n                      );\n        }\n\n        if (this.#trigger && (x !== 0 || y !== 0 || z !== 0)) {\n            this.#trigger.style.transform = `translate3D(${x}px, ${y}px, ${z}px)`;\n        }\n    }\n\n    #calcScreenPosition() {\n        if (this.#screen === globalThis || !this.#screen) return;\n\n        /**\n         * @ts-ignore all element is not window ( check the if statement ).\n         */\n        this.#screenPosition =\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? Math.trunc(\n                      offset(/** @type {HTMLElement} */ (this.#screen)).top\n                  )\n                : Math.trunc(\n                      position(/** @type {HTMLElement} */ (this.#screen)).left\n                  );\n    }\n\n    #calcHeight() {\n        const el = this.#trigger ?? this.#item;\n\n        if (!el) return;\n\n        this.#height =\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? Math.trunc(el.offsetHeight)\n                : Math.trunc(el.offsetWidth);\n    }\n\n    #calcWidth() {\n        const el = this.#trigger ?? this.#item;\n\n        if (!el) return;\n\n        this.#width =\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? Math.trunc(el.offsetWidth)\n                : Math.trunc(el.offsetHeight);\n    }\n\n    #getScrollerOffset() {\n        if (!this.#scroller) return;\n\n        if (this.#scroller === globalThis) {\n            this.#scrollerScroll =\n                this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                    ? this.#scroller.scrollY\n                    : this.#scroller.scrollX;\n        } else {\n            this.#scrollerScroll =\n                this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                    ? -offset(/** @type {HTMLElement} */ (this.#scroller)).top\n                    : -offset(/** @type {HTMLElement} */ (this.#scroller)).left;\n        }\n    }\n\n    #getScreenHeight() {\n        if (!this.#screen) return;\n\n        this.#windowInnerWidth = window.innerWidth;\n        this.#windowInnerHeight = window.innerHeight;\n\n        /**\n         * @ts-ignore all element is not window ( check the if statement ).\n         */\n        if (this.#screen === globalThis) {\n            this.#scrollerHeight =\n                this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                    ? window.innerHeight\n                    : window.innerWidth;\n        } else {\n            this.#scrollerHeight =\n                this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                    ? // @ts-ignore\n                      Math.trunc(this.#screen.offsetHeight)\n                    : // @ts-ignore\n                      Math.trunc(this.#screen.offsetWidth);\n        }\n    }\n\n    /**\n     * Recalculate positions and align all values\n     */\n    refresh() {\n        if (this.#pin && this.#pinInstance) this.#pinInstance.destroy();\n\n        this.#calcScreenPosition();\n        this.#calcOffset();\n        this.#calcHeight();\n        this.#calcWidth();\n        this.#getScreenHeight();\n\n        if (this.#type == MobScrollerConstant.TYPE_SCROLLTRIGGER) {\n            this.#calcFixedLimit();\n            if (this.#dynamicRange) this.#calcRangeAndUnitMiusure();\n\n            if (\n                this.#pin &&\n                this.#pinInstance &&\n                mq[this.#queryType](this.#breakpoint)\n            ) {\n                this.#pinInstance?.init(this.#getPinParams());\n            }\n        }\n        //\n        // reset value to update animation after resize\n        this.#lastValue = undefined;\n        this.#firstTime = true;\n\n        //\n        if (mq[this.#queryType](this.#breakpoint)) {\n            if (this.#ease) {\n                this.#easeRender();\n            } else {\n                this.#updateEndValue();\n\n                // Disable 3d transform at first render after refresh.\n                this.#noEasingRender({ forceRender: true });\n            }\n        } else {\n            if (this.#ease) this.#motion?.stop?.();\n\n            // Reset Style\n            // For tween is necessary reset inside tween callback\n            MobCore.useFrameIndex(() => {\n                if (this.#applyTo) {\n                    this.#resetTweenStyle(this.#applyTo);\n                    Object.assign(this.#applyTo.style, this.#getResetStyle());\n                } else {\n                    this.#resetTweenStyle(this.#item);\n                    if (this.#item)\n                        Object.assign(this.#item.style, this.#getResetStyle());\n                }\n            }, 3);\n        }\n    }\n\n    /**\n     * Method used to control the instance from the outside. The methods accept two parameters:\n     *\n     * `value`: The scroll position of the parent. If no value is provided, the instance will calculate it autonomously.\n     *\n     * `parentIsMoving`: Value that indicates if the component using the method is moving. The value is used to manage\n     * the addition of the translate3D property. The default value is false\n     *\n     * @example\n     *     ```javascript\n     *\n     *\n     *     Control the instance from another scrollTrigger:\n     *\n     *     const myScroller = mobbu.createScrollTrigger({\n     *         ...\n     *         onTick: ({ value, parentIsMoving }) => {\n     *             myInstance.move({ value, parentIsMoving });\n     *         },\n     *         ...\n     *     });\n     *     ```;\n     *\n     * @param {import('./type.js').MobScrollerMove} obj\n     */\n    move({ value, parentIsMoving = false }) {\n        if (!mq[this.#queryType](this.#breakpoint) || !value) return;\n        this.#iSControlledFromOutside = true;\n        const scrollVal = this.#getScrollValueOnMove(value);\n\n        if (this.#ease) {\n            this.#easeRender(scrollVal);\n        } else {\n            this.#updateEndValue(scrollVal);\n            const forceRender =\n                this.#isInViewport || this.#firstTime || undefined;\n            this.#noEasingRender({ forceRender, parentIsMoving });\n        }\n    }\n\n    /**\n     * Trigger scrollStart event Used by smoothScroll to activate 3D if child (this) have ease = true\n     */\n    triggerScrollStart() {\n        if (!this.#ease) return;\n        if (!this.#disableForce3D) this.#force3D = true;\n    }\n\n    /**\n     * Trigger scrollEnd event Used by smoothScroll to deactivate 3D if child (this) have ease = false\n     */\n    triggerScrollEnd() {\n        if (this.#ease) return;\n\n        this.#noEasingRender({ forceRender: true });\n    }\n\n    /**\n     * @param {number | undefined} value\n     */\n    #getScrollValueOnMove(value) {\n        if (value === undefined) return;\n        if (this.#screen !== globalThis) return value + this.#screenPosition;\n\n        return value;\n    }\n\n    /**\n     * Stop lerp|spring tween.\n     */\n    stopMotion() {\n        this.#motion?.stop?.();\n    }\n\n    /**\n     * @param {number} [scrollVal]\n     */\n    #updateEndValue(scrollVal) {\n        if (!mq[this.#queryType](this.#breakpoint)) return;\n\n        if (scrollVal) {\n            this.#scrollerScroll = -scrollVal;\n        } else {\n            this.#getScrollerOffset();\n        }\n\n        this.#isInViewport = detectViewPortInterception({\n            offset: this.#offset,\n            height: this.#height,\n            gap: this.#gap,\n            wScrollTop: this.#scrollerScroll,\n            wHeight: this.#scrollerHeight,\n        });\n\n        // Skip motion default with limiterOff not active\n        if (\n            !this.#isInViewport &&\n            !this.#limiterOff &&\n            this.#type === MobScrollerConstant.TYPE_PARALLAX\n        )\n            return;\n\n        if (this.#pin && this.#pinInstance) {\n            this.#pinInstance.onScroll(this.#scrollerScroll);\n        }\n\n        switch (this.#type) {\n            case MobScrollerConstant.TYPE_SCROLLTRIGGER: {\n                this.#endValue = getRoundedValue(this.#getFixedValue());\n                break;\n            }\n\n            default: {\n                switch (this.#propierties) {\n                    case MobScrollerConstant.PROP_OPACITY: {\n                        this.#endValue = getRoundedValue(\n                            this.#getOpacityValue()\n                        );\n                        break;\n                    }\n\n                    default: {\n                        this.#endValue = Number.isNaN(\n                            // @ts-ignore\n                            Number.parseInt(this.#align)\n                        )\n                            ? getRoundedValue(this.#getIsNaNValue() / 2)\n                            : getRoundedValue(this.#getIsANumberValue() / 2);\n                        break;\n                    }\n                }\n            }\n        }\n\n        /**\n         * Get reverse value\n         */\n        const reverseValue =\n            this.#reverse &&\n            this.#type !== MobScrollerConstant.TYPE_SCROLLTRIGGER\n                ? getRetReverseValue(this.#propierties, this.#endValue)\n                : this.#endValue;\n\n        /**\n         * Get switch after 0 value for non scrolTrigger\n         */\n        this.#endValue =\n            this.#type === MobScrollerConstant.TYPE_SCROLLTRIGGER\n                ? reverseValue\n                : this.#getSwitchAfterZeroValue(reverseValue);\n    }\n\n    /**\n     * @param {number} [scrollVal]\n     */\n    #easeRender(scrollVal) {\n        if (!mq[this.#queryType](this.#breakpoint)) return;\n\n        this.#updateEndValue(scrollVal);\n\n        // Skip motion fixed type\n        if (\n            !this.#fixedShouldRender &&\n            !this.#firstTime &&\n            this.#type === MobScrollerConstant.TYPE_SCROLLTRIGGER\n        )\n            return;\n\n        // Skip motion default type\n        if (\n            !this.#isInViewport &&\n            !this.#firstTime &&\n            this.#type === MobScrollerConstant.TYPE_PARALLAX\n        )\n            return;\n\n        // First time render with no easing\n        const action =\n            this.#firstTime && !this.#animateAtStart ? 'set' : 'goTo';\n\n        // Maybe a destroy method is callad during animation, so check if exist.\n        if (!this.#motion) return;\n\n        this.#motion\n            [action]({ val: this.#endValue }, this.#motionParameters)\n            .catch(() => {});\n    }\n\n    /**\n     * @param {object} params\n     * @param {boolean} [params.forceRender]\n     * @param {boolean} [params.parentIsMoving]\n     * @returns {void}\n     */\n    #noEasingRender({ forceRender = false, parentIsMoving = false } = {}) {\n        if (!mq[this.#queryType](this.#breakpoint)) return;\n\n        MobCore.useFrame(() => {\n            /**\n             * Skip unnecessary rendering ( no control from outside )\n             */\n            if (\n                (this.#endValue === this.#lastValue && !forceRender) ||\n                (!this.#isInViewport && !forceRender)\n            )\n                return;\n\n            /**\n             * Set force3D if is not control from outside.\n             */\n            if (!this.#disableForce3D && !this.#iSControlledFromOutside)\n                this.#force3D = !forceRender;\n\n            /**\n             * Set force3D if is control from outside.\n             */\n            if (!this.#disableForce3D && this.#iSControlledFromOutside)\n                this.#force3D = parentIsMoving && this.#isInViewport;\n\n            /**\n             * Draw\n             */\n            if (this.#propierties === MobScrollerConstant.PROP_TWEEN) {\n                this.#tween.draw({\n                    partial: this.#endValue,\n                    isLastDraw: !this.#force3D,\n                    useFrame: false,\n                });\n                this.#lastValue = this.#endValue;\n                this.#firstTime = false;\n            } else {\n                this.#updateStyle(this.#endValue);\n            }\n\n            /**\n             * Children\n             */\n            MobCore.useNextTick(() => {\n                if (this.#onTickCallback)\n                    this.#onTickCallback({\n                        value: this.#endValue,\n                        parentIsMoving: this.#force3D,\n                    });\n            });\n        });\n    }\n\n    #getFixedValue() {\n        const partials = this.#invertSide\n            ? -(\n                  this.#scrollerScroll +\n                  this.#startPoint +\n                  this.#endPoint -\n                  (this.#offset + this.#endPoint)\n              )\n            : -(\n                  this.#scrollerScroll +\n                  this.#scrollerHeight -\n                  this.#startPoint -\n                  (this.#offset + this.#endPoint)\n              );\n\n        const maxVal = (this.#endPoint / 100) * this.#numericRange;\n        const partialVal = (partials / 100) * this.#numericRange;\n\n        const valePerDirections = (() => {\n            if (this.#reverse) {\n                return this.#invertSide ? maxVal - partialVal : partialVal;\n            } else {\n                return this.#invertSide ? partialVal : maxVal - partialVal;\n            }\n        })();\n\n        const clampValue =\n            maxVal > 0\n                ? -clamp(valePerDirections, 0, maxVal)\n                : -clamp(valePerDirections, maxVal, 0);\n\n        this.#fixedShouldRender = this.#prevFixedClamp !== clampValue;\n        this.#prevFixedClamp = clampValue;\n        if (!this.#fixedShouldRender && !this.#firstTime) return this.#endValue;\n\n        const percentValue = (clampValue * 100) / this.#endPoint;\n\n        // Fire callback if there is\n        if (\n            this.#onEnter ||\n            this.#onEnterBack ||\n            this.#onLeave ||\n            this.#onLeaveBack\n        ) {\n            MobScrollerEmitter({\n                prevValue: this.#prevFixedRawValue,\n                value: valePerDirections,\n                maxVal: maxVal,\n                onEnter: this.#onEnter,\n                onEnterBack: this.#onEnterBack,\n                onLeave: this.#onLeave,\n                onLeaveBack: this.#onLeaveBack,\n            });\n        }\n\n        this.#prevFixedRawValue = valePerDirections;\n\n        switch (this.#propierties) {\n            case MobScrollerConstant.PROP_HORIZONTAL:\n            case MobScrollerConstant.PROP_VERTICAL: {\n                return this.#getHVval(percentValue);\n            }\n\n            case MobScrollerConstant.PROP_SCALE:\n            case MobScrollerConstant.PROP_SCALE_X:\n            case MobScrollerConstant.PROP_SCALE_Y:\n            case MobScrollerConstant.PROP_OPACITY: {\n                return 1 - percentValue;\n            }\n\n            default: {\n                return -percentValue;\n            }\n        }\n    }\n\n    /**\n     * @param {number} percent\n     */\n    #getHVval(percent) {\n        switch (this.#unitMisure) {\n            case MobScrollerConstant.VW: {\n                return (this.#windowInnerWidth / 100) * -percent;\n            }\n\n            case MobScrollerConstant.VH: {\n                return (this.#windowInnerHeight / 100) * -percent;\n            }\n\n            case MobScrollerConstant.WPERCENT: {\n                return this.#direction ===\n                    MobScrollerConstant.DIRECTION_VERTICAL\n                    ? (this.#width / 100) * -percent\n                    : (this.#height / 100) * -percent;\n            }\n\n            case MobScrollerConstant.HPERCENT: {\n                return this.#direction ===\n                    MobScrollerConstant.DIRECTION_VERTICAL\n                    ? (this.#height / 100) * -percent\n                    : (this.#width / 100) * -percent;\n            }\n\n            default: {\n                return -percent;\n            }\n        }\n    }\n\n    #getOpacityValue() {\n        const vhLimit = (this.#scrollerHeight / 100) * this.#opacityEnd;\n        const vhStart =\n            this.#scrollerHeight -\n            (this.#scrollerHeight / 100) * this.#opacityStart;\n\n        const value =\n            this.#align == MobScrollerConstant.ALIGN_START\n                ? -this.#scrollerScroll * -1\n                : (this.#scrollerScroll + vhLimit - this.#offset) * -1;\n\n        const valClamped =\n            this.#align == MobScrollerConstant.ALIGN_START\n                ? 1 - value / this.#offset\n                : 1 - value / (this.#scrollerHeight - vhStart - vhLimit);\n\n        return clamp(valClamped, 0, 1);\n    }\n\n    #getIsNaNValue() {\n        const valuetoNumber = Number(this.#range);\n        const rangeNumber = Number.isNaN(valuetoNumber) ? 0 : valuetoNumber;\n\n        const documentHeight =\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? document.documentElement.scrollHeight\n                : document.documentElement.scrollWidth;\n\n        // Prefixed align\n        switch (this.#align) {\n            case MobScrollerConstant.ALIGN_START: {\n                return this.#scrollerScroll / rangeNumber;\n            }\n\n            case MobScrollerConstant.ALIGN_TOP:\n            case MobScrollerConstant.ALIGN_LEFT: {\n                return (this.#scrollerScroll - this.#offset) / rangeNumber;\n            }\n\n            case MobScrollerConstant.ALIGN_CENTER: {\n                return (\n                    (this.#scrollerScroll +\n                        (this.#scrollerHeight / 2 - this.#height / 2) -\n                        this.#offset) /\n                    rangeNumber\n                );\n            }\n\n            case MobScrollerConstant.ALIGN_BOTTOM:\n            case MobScrollerConstant.ALIGN_RIGHT: {\n                return (\n                    (this.#scrollerScroll +\n                        (this.#scrollerHeight - this.#height) -\n                        this.#offset) /\n                    rangeNumber\n                );\n            }\n\n            case MobScrollerConstant.ALIGN_END: {\n                return (\n                    -(\n                        documentHeight -\n                        (this.#scrollerScroll + this.#scrollerHeight)\n                    ) / rangeNumber\n                );\n            }\n\n            default: {\n                return 0;\n            }\n        }\n    }\n\n    /**\n     * Here the value is a number.\n     */\n    #getIsANumberValue() {\n        const align = Number(this.#align);\n        const range = Number(this.#range);\n\n        return (\n            (this.#scrollerScroll +\n                (this.#scrollerHeight / 100) * align -\n                this.#offset) /\n            range\n        );\n    }\n\n    /**\n     * @param {number} value\n     */\n    #getSwitchAfterZeroValue(value) {\n        return getValueOnSwitch({\n            switchPropierties: this.#onSwitch,\n            isReverse: this.#reverse,\n            value,\n        });\n    }\n\n    /**\n     * @param {number} value\n     */\n    #updateStyle(value) {\n        if (this.#applyTo) {\n            Object.assign(this.#applyTo.style, this.#getStyle(value));\n        } else if (this.#item) {\n            Object.assign(this.#item.style, this.#getStyle(value));\n        }\n\n        this.#lastValue = value;\n        this.#firstTime = false;\n    }\n\n    /**\n     * @param {number} value\n     */\n    #getStyle(value) {\n        if (this.#shouldTrackOnlyEvents) return;\n\n        const force3DStyle = this.#force3D ? 'translate3D(0px, 0px, 0px)' : '';\n\n        /**\n         * If frame drop ia lot (2/5) activate 'will-change: transform;'\n         */\n        this.#willChangeIsActive = this.#useWillChange\n            ? MobCore.mustMakeSomething()\n            : false;\n        const shouldWill =\n            this.#willChangeIsActive && this.#force3D ? 'transform' : '';\n\n        /**\n         * If frame drop a little (1/5) remove decimal. Used by transform ( not scale ).\n         */\n        const valueParsed = MobCore.shouldMakeSomething()\n            ? Math.round(value)\n            : value;\n\n        switch (this.#propierties) {\n            case MobScrollerConstant.PROP_VERTICAL: {\n                return {\n                    // translate: `0 ${val}px`,\n                    // transform: `${force3DStyle}`,\n                    transform: `${force3DStyle} translateY(${valueParsed}px)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case MobScrollerConstant.PROP_HORIZONTAL: {\n                return {\n                    transform: `${force3DStyle} translateX(${valueParsed}px)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case MobScrollerConstant.PROP_ROTATE: {\n                return {\n                    transform: `${force3DStyle} rotate(${valueParsed}deg)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case MobScrollerConstant.PROP_ROTATEY: {\n                return {\n                    transform: `${force3DStyle} rotateY(${valueParsed}deg)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case MobScrollerConstant.PROP_ROTATEX: {\n                return {\n                    transform: `${force3DStyle} rotateX(${valueParsed}deg)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case MobScrollerConstant.PROP_ROTATEZ: {\n                return {\n                    transform: `${force3DStyle} rotateZ(${valueParsed}deg)`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case MobScrollerConstant.PROP_OPACITY: {\n                return { opacity: `${value}` };\n            }\n\n            case MobScrollerConstant.PROP_SCALE: {\n                const scaleVal =\n                    this.#type === MobScrollerConstant.TYPE_SCROLLTRIGGER\n                        ? value\n                        : 1 + value / 1000;\n                return {\n                    transform: `${force3DStyle} scale(${scaleVal})`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case MobScrollerConstant.PROP_SCALE_X: {\n                const scaleVal =\n                    this.#type === MobScrollerConstant.TYPE_SCROLLTRIGGER\n                        ? value\n                        : 1 + value / 1000;\n                return {\n                    transform: `${force3DStyle} scaleX(${scaleVal})`,\n                    willChange: shouldWill,\n                };\n            }\n\n            case MobScrollerConstant.PROP_SCALE_Y: {\n                const scaleVal =\n                    this.#type === MobScrollerConstant.TYPE_SCROLLTRIGGER\n                        ? value\n                        : 1 + value / 1000;\n                return {\n                    transform: `${force3DStyle} scaleY(${scaleVal})`,\n                    willChange: shouldWill,\n                };\n            }\n\n            default: {\n                return {\n                    [this.#propierties.toLowerCase()]: `${value}px`,\n                };\n            }\n        }\n    }\n\n    /**\n     * Reset sequencer/parallaxTween style\n     *\n     * @param {HTMLElement | null} item\n     */\n    #resetTweenStyle(item) {\n        // @ts-ignore\n        if (this.#tween && item) item.style = '';\n    }\n\n    /**\n     * Reset default style\n     */\n    #getResetStyle() {\n        if (this.#shouldTrackOnlyEvents) return;\n\n        switch (this.#propierties) {\n            case MobScrollerConstant.PROP_VERTICAL:\n            case MobScrollerConstant.PROP_HORIZONTAL:\n            case MobScrollerConstant.PROP_ROTATE:\n            case MobScrollerConstant.PROP_ROTATEY:\n            case MobScrollerConstant.PROP_ROTATEX:\n            case MobScrollerConstant.PROP_ROTATEZ:\n            case MobScrollerConstant.PROP_SCALE: {\n                return {\n                    transform: ``,\n                };\n            }\n\n            case MobScrollerConstant.PROP_OPACITY: {\n                return { opacity: `` };\n            }\n\n            default: {\n                return { [this.#propierties.toLowerCase()]: `` };\n            }\n        }\n    }\n\n    /**\n     * Destroy instance\n     */\n    destroy() {\n        this.#motion?.stop?.();\n        this.#unsubscribeScroll();\n        this.#unsubscribeScrollStart();\n        this.#unsubscribeScrollEnd();\n        this.#unsubscribeResize();\n        this.#unsubscribeMotion();\n        this.#unsubscribeOnComplete();\n        this.#unsubscribeMarker();\n        this.#motion?.destroy?.();\n        // @ts-ignore\n        this.#motion = null;\n\n        this.#dynamicRange = () => {};\n        if (this.#dynamicStart?.value) this.#dynamicStart.value = () => 0;\n        if (this.#dynamicEnd?.value) this.#dynamicEnd.value = () => 0;\n\n        this.#onEnter = () => {};\n        this.#onEnterBack = () => {};\n        this.#onLeave = () => {};\n        this.#onLeaveBack = () => {};\n        this.#onTickCallback = () => {};\n        if (this.#pin && this.#pinInstance) this.#pinInstance?.destroy?.();\n        if (this.#startMarker) this.#startMarker?.remove?.();\n        if (this.#endMarker) this.#endMarker?.remove?.();\n        this.#startMarker = undefined;\n        this.#endMarker = undefined;\n        this.#pinInstance = undefined;\n        this.#endValue = 0;\n\n        // Remove style from element, if style prop exist.\n        const el = this.#applyTo ?? this.#item;\n        // @ts-ignore\n        if (el && 'style' in el) el.style = '';\n\n        /**\n         * Remove HTMLELement reference.\n         */\n        this.#item = null;\n        this.#scroller = null;\n        this.#screen = null;\n        this.#trigger = null;\n        this.#applyTo = null;\n    }\n}\n", "import { MobCore } from '@mobCore';\n\n/**\n * @import {MobStoreParams} from \"@mobStoreType\";\n */\n\nexport const navigationStore = MobCore.createStore(\n    /** @type {MobStoreParams<import('./type').NavigationStore>} */\n    ({\n        activeNavigationSection: () => ({\n            value: '',\n            type: String,\n            skipEqual: false,\n        }),\n        navigationIsOpen: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    })\n);\n\nnavigationStore.set('activeNavigationSection', '');\n", "import { MobMotionCore, MobTween } from '../..';\nimport { MobCore } from '../../../mob-core';\n\nlet isActive = false;\n\n/** @type {number} */\nlet lastScrollValue = window.scrollY;\n\n/** @type {boolean} */\nlet useNativeScroll = true;\n\n/** @type {boolean} */\nlet isFreezed = false;\n\n/** @type{() => void} */\nlet destroy = () => {};\n\n/** @type{() => void} */\nlet stop = () => {};\n\n/** @type{() => void} */\nlet update = () => {};\n\n/** @type {HTMLElement | undefined} */\nlet rootElementToObserve;\n\n/** @type {import('./type').MobPageScroller} */\nconst MobPageScroller = ({ velocity, rootElement }) => {\n    let lerp = MobTween.createLerp({ data: { scrollValue: window.scrollY } });\n    rootElementToObserve = rootElement;\n\n    const unsubscribe = lerp.subscribe(({ scrollValue }) => {\n        if (isFreezed) return;\n\n        window.scrollTo({\n            top: Math.trunc(scrollValue),\n            left: 0,\n            behavior: 'instant',\n        });\n    });\n\n    lerp.onComplete(() => {\n        lastScrollValue = window.scrollY;\n    });\n\n    /**\n     * Main handler.\n     */\n    const unsubscribeMouseWheel = MobCore.useMouseWheel((event) => {\n        if (isFreezed) return;\n\n        event.preventDefault();\n        useNativeScroll = false;\n        const currentValue = MobMotionCore.clamp(\n            // @ts-ignore\n            event.spinY * velocity + lastScrollValue,\n            0,\n            document.body.offsetHeight - window.innerHeight\n        );\n\n        lastScrollValue = currentValue;\n        lerp.goTo({ scrollValue: currentValue }).catch(() => {});\n    });\n\n    /**\n     * Update lerp on scrollEnd eg. when search something in page\n     */\n    const unsubsribeScrollEnd = MobCore.useScrollEnd(() => {\n        const value = window.scrollY;\n        lastScrollValue = value;\n        lerp.setImmediate({ scrollValue: value });\n    });\n\n    /**\n     * Update lerp value on native scroll event.\n     */\n    const unsubscribeScroll = MobCore.useScroll(() => {\n        if (!useNativeScroll) {\n            return;\n        }\n\n        const value = window.scrollY;\n        lastScrollValue = value;\n        lerp.setImmediate({ scrollValue: value });\n    });\n\n    /**\n     * Stop lerp if use native scrollbar\n     */\n    const unsubscribeMouseDown = MobCore.useMouseDown((event) => {\n        if (isFreezed) return;\n\n        const scrollBarWidth =\n            window.innerWidth - document.documentElement.clientWidth;\n\n        if (event.page.x > window.innerWidth - scrollBarWidth) {\n            lerp.stop();\n            lastScrollValue = window.scrollY;\n            useNativeScroll = true;\n        }\n    });\n\n    /**\n     * Update lerp value on change screen dimension\n     */\n    const resizeObserver = new ResizeObserver(() => {\n        lerp.stop();\n        lerp.setImmediate({ scrollValue: window.scrollY });\n        lastScrollValue = window.scrollY;\n    });\n\n    resizeObserver.observe(rootElement);\n\n    return {\n        destroy: () => {\n            isActive = false;\n            lastScrollValue = 0;\n            useNativeScroll = true;\n            isFreezed = false;\n\n            // Disconnect resizeObserver.\n            if (rootElementToObserve) {\n                resizeObserver.unobserve(rootElementToObserve);\n                resizeObserver.disconnect();\n            }\n\n            lerp?.stop();\n            lerp?.destroy();\n\n            // @ts-ignore\n            lerp = null;\n\n            // @ts-ignore\n            rootElementToObserve = null;\n            unsubscribe();\n            unsubscribeScroll();\n            unsubsribeScrollEnd();\n            unsubscribeMouseWheel();\n            unsubscribeMouseDown();\n            destroy = () => {};\n            stop = () => {};\n            update = () => {};\n        },\n        stop: () => {\n            lerp.stop();\n            lastScrollValue = window.scrollY;\n        },\n        update: () => {\n            lerp.setImmediate({ scrollValue: window.scrollY });\n        },\n    };\n};\n\n/** @type{(arg0?: {velocity?: number, rootElement?: HTMLElement} ) => void} */\nexport const InitMobPageScroll = ({\n    velocity = 100,\n    rootElement = document.createElement('div'),\n} = {}) => {\n    if (isActive) return;\n\n    lastScrollValue = window.scrollY;\n    isActive = true;\n    isFreezed = false;\n\n    ({ destroy, stop, update } = MobPageScroller({\n        velocity,\n        rootElement,\n    }));\n};\n\n/** @type{() => void} */\nexport const FreezeMobPageScroll = () => {\n    if (!isActive || isFreezed) return;\n\n    stop();\n    isFreezed = true;\n};\n\n/** @type{() => void} */\nexport const UnFreezeMobPageScroll = () => {\n    if (!isActive) return;\n\n    isFreezed = false;\n};\n\n/** @type{() => void} */\nexport const UnFreezeAndUPdateMobPageScroll = () => {\n    if (!isActive) return;\n\n    update();\n    lastScrollValue = window.scrollY;\n    isFreezed = false;\n};\n\n/** @type{() => void} */\nexport const UpdateMobPageScroll = () => {\n    if (!isActive) return;\n\n    update();\n};\n\n/** @type{() => void} */\nexport const DestroyMobPageScroll = () => {\n    destroy();\n};\n", "import { MobCore } from '../../../mob-core/index.js';\nimport MobTimeTween from '../../animation/tween/mob-time-tween.js';\nimport {\n    easeTweenIsValid,\n    valueIsBooleanAndReturnDefault,\n    valueIsNumberAndReturnDefault,\n} from '../../animation/utils/tween-action/tween-validation.js';\nimport { offset, isNode } from '../../../mob-core/utils/index.js';\nimport {\n    FreezeMobPageScroll,\n    UnFreezeAndUPdateMobPageScroll,\n    UpdateMobPageScroll,\n} from '../page-scroll/page-scroller.js';\n\n/** @type {import('../../animation/tween/type.js').EaseTypes} */\nconst defaultPreset = 'easeOutQuad';\n\n/** @type {MobTimeTween} */\nconst tween = new MobTimeTween({ ease: defaultPreset, data: { val: 0 } });\n\n/** @type {boolean} */\nlet isRunning = false;\n\n/** @type {boolean} */\nlet overflow = false;\n\n/**\n * Init tween\n */\ntween.subscribe(({ val }) => {\n    window.scrollTo({\n        top: val,\n        left: 0,\n        behavior: 'auto',\n    });\n\n    UpdateMobPageScroll();\n});\n\n/** @type{() => void} */\nconst onComplete = () => {\n    if (overflow) document.body.style.overflow = '';\n    tween?.updateEase?.(defaultPreset);\n    UnFreezeAndUPdateMobPageScroll();\n};\n\n/** @type{() => void} */\nconst stopTween = () => {\n    if (!isRunning) return;\n\n    tween.stop();\n    onComplete();\n};\n\n/**\n * Stop scrolling on mouseWheel, MouseDown, TouchStart.\n */\nMobCore.useMouseWheel(() => {\n    stopTween();\n});\n\nMobCore.useMouseDown(() => {\n    stopTween();\n});\n\nMobCore.useTouchStart(() => {\n    stopTween();\n});\n\n/**\n * Scroll body to values or element.\n */\nexport const MobBodyScroll = (() => {\n    /**\n     * @example\n     *     ```javascript\n     *            bodyScroll.to(0, {\n     *                duration: 1000,\n     *                overflow: true,\n     *                ease: 'easeInExpo',\n     *            });\n     *\n     *            bodyScroll.to(myDomElement, {\n     *                duration: 1000,\n     *                overflow: true,\n     *                ease: 'easeInExpo',\n     *            });\n     *\n     *     ```;\n     *\n     * @param {Number | Element} target\n     * @param {import('./type.js').MobBodyScroll} [data]\n     */\n    const to = (target, data) => {\n        if (typeof globalThis === 'undefined') return;\n\n        const targetParsed = (() => {\n            if (!target) return 0;\n\n            // @ts-ignore\n            const isValid = isNode(target) || MobCore.checkType(Number, target);\n\n            if (!isValid) {\n                console.warn(\n                    `bodyScroll ${target} is not valid target, must be a node or a number`\n                );\n                return 0;\n            }\n\n            return isNode(target)\n                ? offset(/** @type {HTMLElement} */ (target)).top\n                : /** @type {number} */ (target);\n        })();\n\n        /**\n         * Props\n         */\n        const duration = valueIsNumberAndReturnDefault(\n            data?.duration,\n            'bodyScroll: duration',\n            500\n        );\n\n        overflow = valueIsBooleanAndReturnDefault(\n            data?.overflow,\n            'bodyScroll: overflow',\n            false\n        );\n\n        if (easeTweenIsValid(data?.ease)) {\n            tween?.updateEase?.(\n                /** @type {import('../../animation/tween/type.js').EaseTypes} */ (\n                    data?.ease\n                )\n            );\n        }\n\n        if (overflow) document.body.style.overflow = 'hidden';\n\n        return new Promise((resolve) => {\n            isRunning = true;\n            FreezeMobPageScroll();\n\n            tween\n                .goFromTo(\n                    { val: window.scrollY },\n                    { val: targetParsed },\n                    { duration }\n                )\n                .then(() => {\n                    onComplete();\n                    isRunning = false;\n                    resolve(true);\n                })\n                .catch(() => {\n                    onComplete();\n                    isRunning = false;\n                    resolve(true);\n                });\n        });\n    };\n\n    return {\n        to,\n    };\n})();\n", "export const horizontalScrollerContstant = {\n    END: 'END',\n    START: 'START',\n    CENTER: 'CENTER',\n};\n", "import { mq } from '../../../utils/media-manager.js';\nimport { horizontalScrollerContstant } from './horizontal-scroller-constant.js';\n\n/**\n * @param {string} columnAlign\n * @returns {string}\n */\nconst getAlign = (columnAlign) => {\n    switch (columnAlign) {\n        case horizontalScrollerContstant.END: {\n            return 'align-items:flex-end;';\n        }\n\n        case horizontalScrollerContstant.CENTER: {\n            return 'align-items:center;';\n        }\n\n        default: {\n            return 'align-items:flex-start;';\n        }\n    }\n};\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.mainContainer\n * @param {import('../../../utils/type.js').MqAction} params.queryType\n * @param {import('../../../utils/type.js').MqValues} params.breakpoint\n * @param {string} params.container\n * @param {string} params.trigger\n * @param {string} params.row\n * @param {string} params.column\n * @param {string} params.shadow\n * @param {boolean} params.useSticky\n * @param {number} params.columnHeight\n * @param {number} params.columnWidth\n * @param {string} params.columnAlign\n */\nexport const horizontalScrollerCss = ({\n    mainContainer,\n    queryType,\n    breakpoint,\n    container,\n    trigger,\n    row,\n    column,\n    shadow,\n    useSticky,\n    columnHeight,\n    columnWidth,\n    columnAlign,\n}) => {\n    const media = mq['getBreackpoint'](breakpoint);\n\n    /**\n     * Add if\n     */\n    const userSelect = `user-select:none`;\n\n    const triggerPosition = useSticky ? 'relative' : 'absolute';\n    const rowSticky = useSticky ? 'position:sticky;top:0;' : '';\n    const align = getAlign(columnAlign);\n\n    const width = columnWidth ? `width:${columnWidth}vw;` : '';\n\n    const css = `\n      @media (${queryType}-width:${media}px){${container}{position:relative;${userSelect}}}@media (${queryType}-width:${media}px){${trigger}{z-index:10;position:${triggerPosition};pointer-events:none;overflow:hidden;top:0;left:0;right:0}}@media (${queryType}-width:${media}px){${row}{--sectionheight:${columnHeight}vh}}@media (${queryType}-width:${media}px){${row}{display:flex;height:100vh;${rowSticky}${align}}}@media (${queryType}-width:${media}px){${column}{height:var(--sectionheight);flex:0 0 auto;${width}}}.${shadow}{display:none}@media (${queryType}-width:${media}px){.${shadow}{width:100%;display:block;pointer-events:none}}.${shadow}{display:none}@media (${queryType}-width:${media}px){.${shadow}{pointer-events:none;display:block;position:absolute;left:0;right:0}.${shadow}--end,.${shadow}--in-center,.${shadow}--left,.${shadow}--out-center{opacity:0;border:1px red dashed;width:25%}.${shadow}--end.debug,.${shadow}--in-center.debug,.${shadow}--left.debug,.${shadow}--out-center.debug{opacity:1}.${shadow}--in-center{position:absolute;top:0;right:0;padding:0 40px;text-align:center}.${shadow}--out-center{position:absolute;top:0;right:0;padding:0 40px;text-align:center}.${shadow}--left{position:absolute;top:0;left:50%;transform:translateX(-50%);padding:0 40px;text-align:center}.${shadow}--end{position:absolute;top:0;left:0;padding-left:40px}}`;\n\n    const styleDiv = document.createElement('div');\n    styleDiv.classList.add('scroller-style');\n    const style = document.createElement('style');\n    style.append(document.createTextNode(css));\n    styleDiv.append(style);\n    mainContainer.prepend(styleDiv);\n};\n", "import MobScroller from '../../../animation/scroller/mob-scroller';\nimport {\n    getTranslateValues,\n    offset,\n    outerHeight,\n    outerWidth,\n} from '../../../../mob-core/utils/index.js';\nimport { horizontalScrollerCss } from './horizontal-scroller-css.js';\nimport { mq } from '../../../utils/media-manager.js';\nimport { horizontalScrollerContstant } from './horizontal-scroller-constant';\nimport { NOOP, pipe } from '../../../utils/functions-utils';\nimport {\n    breakpointIsValid,\n    breakpointTypeIsValid,\n    genericEaseTypeIsValid,\n    valueIsBooleanAndReturnDefault,\n    valueIsFunctionAndReturnDefault,\n    valueIsNumberAndReturnDefault,\n} from '../../../animation/utils/tween-action/tween-validation';\nimport { MobCore } from '../../../../mob-core';\nimport {\n    FreezeMobPageScroll,\n    UnFreezeMobPageScroll,\n} from '../../page-scroll/page-scroller';\n\nexport class MobHorizontalScroller {\n    /**\n     * @type {boolean}\n     */\n    #propsisValid;\n\n    /**\n     * @type {number}\n     */\n    #triggerTopPosition;\n\n    /**\n     * @type {boolean}\n     */\n    #touchActive;\n\n    /**\n     * @type {number}\n     */\n    #lastTouchValueX;\n\n    /**\n     * @type {number}\n     */\n    #dragSecureAreaBottom;\n\n    /**\n     * @type {number}\n     */\n    #dragSecureAreaTop;\n\n    /**\n     * @type {boolean}\n     */\n    #shouldDragValue;\n\n    /**\n     * @type {number}\n     */\n    #scrollValue;\n\n    /**\n     * @type {() => void}\n     */\n    #unsubscribeScroll;\n\n    /**\n     * @type {boolean}\n     */\n    #useDrag;\n\n    /**\n     * @type {number}\n     */\n    #threshold;\n\n    /**\n     * @type {boolean}\n     */\n    #useWillChange;\n\n    /**\n     * @type {import('../../../utils/type').MqValues}\n     */\n    #breakpoint;\n\n    /**\n     * @type {import('../../../utils/type').MqAction}\n     */\n    #queryType;\n\n    /**\n     * @type {boolean}\n     */\n    #forceTranspond;\n\n    /**\n     * @type {boolean}\n     */\n    #addCss;\n\n    /**\n     * @type {boolean}\n     */\n    #animateAtStart;\n\n    /**\n     * @type {boolean}\n     */\n    #ease;\n\n    /**\n     * @type {'lerp' | 'spring'}\n     */\n    #easeType;\n\n    /**\n     * @type {boolean}\n     */\n    #useSticky;\n\n    /**\n     * @type {boolean}\n     */\n    #animatePin;\n\n    /**\n     * @type {boolean}\n     */\n    #reverse;\n\n    /**\n     * @type {boolean}\n     */\n    #useThrottle;\n\n    /**\n     * @type {number}\n     */\n    #columnHeight;\n\n    /**\n     * @type {number}\n     */\n    #columnWidth;\n\n    /**\n     * @type {string}\n     */\n    #columnAlign;\n\n    /**\n     * @type {() => void}\n     */\n    #onEnter;\n\n    /**\n     * @type {() => void}\n     */\n    #onEnterBack;\n\n    /**\n     * @type {() => void}\n     */\n    #onLeave;\n\n    /**\n     * @type {() => void}\n     */\n    #onLeaveBack;\n\n    /**\n     * @type {() => void}\n     */\n    #afterInit;\n\n    /**\n     * @type {() => void}\n     */\n    #afterRefresh;\n\n    /**\n     * @type {() => void}\n     */\n    #afterDestroy;\n\n    /**\n     * @type {import('./type').HorizontalScrollerOnTick | undefined}\n     */\n    #onTick;\n    /**\n     * Dom element\n     */\n\n    /**\n     * @type {HTMLElement}\n     */\n    #mainContainer;\n\n    /**\n     * @type {string}\n     */\n    #container;\n\n    /**\n     * @type {HTMLElement}\n     */\n    #trigger;\n\n    /**\n     * @type {HTMLElement}\n     */\n    #row;\n\n    /**\n     * @type {NodeListOf<HTMLElement>}\n     */\n    #columns;\n\n    /**\n     * @type {NodeListOf<HTMLElement> | undefined}\n     */\n    #shadows;\n\n    #shadowMainClassTransition;\n\n    /**\n     * @type {NodeListOf<HTMLElement> | []}\n     */\n    #buttons;\n\n    /**\n     * @type {boolean}\n     */\n    #moduleisActive;\n\n    /**\n     * @type {number}\n     */\n    #horizontalWidth;\n\n    /**\n     * @type {MobScroller}\n     */\n    #scrollTriggerInstance;\n\n    /**\n     * @type {number}\n     */\n    #percentRange;\n\n    /**\n     * Initialize children.\n     *\n     * @type {MobScroller[]}\n     */\n    #children;\n\n    /**\n     * Scoped event.\n     *\n     * @type {(arg0: MouseEvent) => void}\n     * @returns {void}\n     */\n    #onMouseMove;\n\n    /**\n     * @type {(arg0: MouseEvent) => void}\n     * @returns {void}\n     */\n    #onMouseDown;\n\n    /**\n     * @type {(arg0: MouseEvent) => void}\n     * @returns {void}\n     */\n    #onMouseUp;\n\n    /**\n     * @type {(arg0: MouseEvent) => void}\n     * @returns {void}\n     */\n    #onMouseLeave;\n\n    /**\n     * @type {(arg0: TouchEvent) => void}\n     * @returns {void}\n     */\n    #onTouchStart;\n\n    /**\n     * @type {() => void}\n     * @returns {void}\n     */\n    #onTouchEnd;\n\n    /**\n     * @type {(arg0: TouchEvent) => void}\n     * @returns {void}\n     */\n    #onTouchMove;\n\n    /**\n     * @type {EventListener}\n     * @returns {void}\n     */\n    #preventFireClick;\n\n    /**\n     * @type {number}\n     */\n    #firstTouchValue;\n\n    /**\n     * Create new HorizontalScroller instance.\n     *\n     * Special attributes to handle shadow elements: Apply the following data-attributes to any element\n     *\n     * `data-shadow=\"<String>\"` Create a vertical shadow element with a custom className.\n     *\n     * `data-debug` Makes the shadow element visible\n     *\n     * Available methods: myHorizontalScroller.init(); myHorizontalScroller.refresh(); myHorizontalScroller.destroy();\n     *\n     * @example\n     *     ```html\n     *         HTML:\n     *         <div class=\"root\">\n     *             <div class=\"container\">\n     *                 <div class=\"row\">\n     *                     <section class=\"column\" data-shadow=\"section1\">\n     *                         <h1>title</h1>\n     *                     </section>\n     *                     <section class=\"column\">\n     *                         <h1 data-shadow=\"title\" data-debug>title</h1>\n     *                     </section>\n     *                     ...\n     *                 </div>\n     *                 <div class=\"trigger\"></div>\n     *             </div>\n     *         </div>\n     *     ``````javascript\n     *         JS:\n     *         const myHorizontalScroller = new HorizontalScroller({\n     *             root: '.root',\n     *             container: '.container',\n     *             row: '.row',\n     *             column: '.column',\n     *             trigger: '.trigger',\n     *             shadowClass: '.myShadowClass,\n     *             useThrottle: [ Boolean ],\n     *             useSticky: [ Boolean ],\n     *             animatePin: [ Boolean ],\n     *             forceTranspond: [ Boolean ],\n     *             useWillChange: [ Boolean ],\n     *             animateAtStart: [ Boolean ],\n     *             queryType: [ String ],\n     *             breakpoint: [ String ],\n     *             ease: [ Boolean ],\n     *             easeType: [ String ],\n     *             addCss: [ Boolean ],\n     *             columnHeight: [ Number ],\n     *             columnWidth: [ Number ],\n     *             columnAlign: [ String ],\n     *             children: [child1,child2, ...],\n     *             onEnter: () => {\n     *                 ...\n     *             },\n     *             onEnterBack: () => {\n     *                 ...\n     *             },\n     *             onLeave: () => {\n     *                 ...\n     *             },\n     *             onLeaveBack: () => {\n     *                 ...\n     *             },\n     *             afterInit: () => {\n     *                 ...\n     *             },\n     *             onTick: ({ value, parentIsMoving, percent }) => {\n     *                 ...\n     *             },\n     *             afterRefresh: () => {\n     *                 ...\n     *             },\n     *             afterDestroy: () => {\n     *                 ...\n     *             },\n     *         });\n     *     ```;\n     *\n     * @param {import('./type').MobHorizontalScroller} data\n     */\n    constructor(data) {\n        this.#propsisValid = true;\n        this.#triggerTopPosition = 0;\n        this.#touchActive = false;\n        this.#lastTouchValueX = 0;\n        this.#dragSecureAreaBottom = 100;\n        this.#dragSecureAreaTop = 100;\n        this.#shouldDragValue = false;\n        this.#scrollValue = 0;\n        this.#unsubscribeScroll = () => {};\n        this.#firstTouchValue = 0;\n        this.#container = data?.container ?? '';\n        this.#buttons = [];\n        this.#moduleisActive = false;\n        this.#horizontalWidth = 0;\n        // @ts-ignore\n        this.#scrollTriggerInstance = {};\n        this.#percentRange = 0;\n        this.#children = data?.children || [];\n\n        this.#useDrag = valueIsBooleanAndReturnDefault(\n            data?.useDrag,\n            'HorizontalScroller: useDrag',\n            false\n        );\n\n        this.#threshold = valueIsNumberAndReturnDefault(\n            data?.threshold,\n            'HorizontalScroller: threshold',\n            30\n        );\n\n        this.#useWillChange = valueIsBooleanAndReturnDefault(\n            data?.useWillChange,\n            'HorizontalScroller: useWillChange',\n            false\n        );\n\n        this.#breakpoint = breakpointIsValid(\n            data?.breakpoint,\n            'breakpoint',\n            'horizontalScroller'\n        );\n\n        this.#queryType = breakpointTypeIsValid(\n            data?.queryType,\n            'queryType',\n            'horizontalScroller'\n        );\n\n        this.#forceTranspond = valueIsBooleanAndReturnDefault(\n            data?.forceTranspond,\n            'HorizontalScroller: forceTranspond',\n            false\n        );\n\n        this.#addCss = valueIsBooleanAndReturnDefault(\n            data?.addCss,\n            'HorizontalScroller: addCss',\n            true\n        );\n\n        this.#animateAtStart = valueIsBooleanAndReturnDefault(\n            data?.animateAtStart,\n            'HorizontalScroller: animateAtStart',\n            false\n        );\n\n        this.#ease = valueIsBooleanAndReturnDefault(\n            data?.ease,\n            'HorizontalScroller: ease',\n            false\n        );\n\n        // @ts-ignore\n        this.#easeType = genericEaseTypeIsValid(\n            data?.easeType ?? '',\n            'HorizontalScroller'\n        );\n\n        this.#useSticky = valueIsBooleanAndReturnDefault(\n            data?.useSticky,\n            'HorizontalScroller: useSticky',\n            false\n        );\n\n        this.#animatePin = valueIsBooleanAndReturnDefault(\n            data?.animatePin,\n            'HorizontalScroller: animatePin',\n            false\n        );\n\n        this.#reverse = valueIsBooleanAndReturnDefault(\n            data?.reverse,\n            'HorizontalScroller: reverse',\n            false\n        );\n\n        this.#useThrottle = valueIsBooleanAndReturnDefault(\n            data?.useThrottle,\n            'HorizontalScroller: useThrottle',\n            false\n        );\n\n        this.#columnHeight = valueIsNumberAndReturnDefault(\n            data?.columnHeight,\n            'HorizontalScroller: columnHeight',\n            100\n        );\n\n        this.#columnWidth = valueIsNumberAndReturnDefault(\n            data?.columnWidth,\n            'HorizontalScroller: columnWidth',\n            null\n        );\n\n        this.#columnAlign = data?.columnAlign\n            ? data.columnAlign.toUpperCase()\n            : horizontalScrollerContstant.START;\n\n        this.#onEnter = valueIsFunctionAndReturnDefault(\n            data?.onEnter,\n            'HorizontalScroller: onEnter',\n            NOOP\n        );\n\n        this.#onEnterBack = valueIsFunctionAndReturnDefault(\n            data?.onEnterBack,\n            'HorizontalScroller: onEnterBack',\n            NOOP\n        );\n\n        this.#onLeave = valueIsFunctionAndReturnDefault(\n            data?.onLeave,\n            'HorizontalScroller: onLeave',\n            NOOP\n        );\n\n        this.#onLeaveBack = valueIsFunctionAndReturnDefault(\n            data?.onLeaveBack,\n            'HorizontalScroller: onLeaveBack',\n            NOOP\n        );\n\n        this.#afterInit = valueIsFunctionAndReturnDefault(\n            data?.afterInit,\n            'HorizontalScroller: afterInit',\n            NOOP\n        );\n\n        this.#afterRefresh = valueIsFunctionAndReturnDefault(\n            data?.afterRefresh,\n            'HorizontalScroller: afterRefresh',\n            NOOP\n        );\n\n        this.#afterDestroy = valueIsFunctionAndReturnDefault(\n            data?.afterDestroy,\n            'HorizontalScroller: afterDestroy',\n            NOOP\n        );\n\n        this.#onTick = valueIsFunctionAndReturnDefault(\n            data?.onTick,\n            'HorizontalScroller: onTick',\n            // eslint-disable-next-line unicorn/no-useless-undefined\n            undefined\n        );\n\n        // @ts-ignore\n        this.#mainContainer = MobCore.checkType(String, data.root)\n            ? // @ts-ignore\n              document.querySelector(data.root)\n            : data.root;\n\n        if (!this.#mainContainer) {\n            this.#propsisValid = false;\n            console.warn('horizontal custom: root node not found');\n        }\n\n        const scrollerTester = this.#mainContainer.querySelector(\n            this.#container\n        );\n\n        if (!scrollerTester) {\n            this.#propsisValid = false;\n            console.warn('horizontal custom: container node not found');\n        }\n\n        // @ts-ignore\n        this.#trigger = this.#mainContainer.querySelector(data.trigger);\n        if (!this.#trigger) {\n            this.#propsisValid = false;\n            console.warn('horizontal custom: trigger node not found');\n        }\n\n        // @ts-ignore\n        this.#row = this.#mainContainer.querySelector(data.row);\n        if (!this.#row) {\n            this.#propsisValid = false;\n            console.warn('horizontal custom: row node not found');\n        }\n\n        this.#columns = this.#mainContainer.querySelectorAll(data.column);\n        if (this.#columns.length === 0) {\n            this.#propsisValid = false;\n            console.warn('horizontal custom: column nodeList not found');\n        }\n\n        this.#shadows = this.#mainContainer.querySelectorAll('[data-shadow]');\n        const originalShadowClass = data?.shadowClass || 'shadow';\n        this.#shadowMainClassTransition = originalShadowClass.replace('.', '');\n        this.#buttons = this.#row.querySelectorAll('a, button');\n\n        this.#children.forEach((element) => {\n            if (this.#row) element.setScroller(this.#row);\n            element.setDirection('horizontal');\n            element.setBreakPoint(this.#breakpoint);\n            element.setQueryType(this.#queryType);\n            element.init();\n        });\n\n        if (this.#addCss)\n            horizontalScrollerCss({\n                mainContainer: this.#mainContainer,\n                queryType: this.#queryType,\n                breakpoint: this.#breakpoint,\n                container: this.#container,\n                trigger: data?.trigger ?? 'trigger',\n                row: data.row,\n                column: data.column,\n                shadow: this.#shadowMainClassTransition,\n                useSticky: this.#useSticky,\n                columnHeight: this.#columnHeight,\n                columnWidth: this.#columnWidth,\n                columnAlign: this.#columnAlign,\n            });\n\n        this.#onMouseMove = (event) => {\n            if (!this.#touchActive) return;\n\n            const { movementX } = event;\n            const value = this.#reverse ? movementX : -movementX;\n            this.#onDrag(value);\n        };\n\n        this.#onMouseDown = () => {\n            if (!mq[this.#queryType](this.#breakpoint)) return;\n\n            FreezeMobPageScroll();\n            if (this.#shouldDragValue && this.#row)\n                this.#row.style.cursor = 'move';\n            this.#touchActive = true;\n            this.#firstTouchValue = this.#scrollValue;\n        };\n\n        this.#onMouseUp = () => {\n            UnFreezeMobPageScroll();\n            this.#touchActive = false;\n            MobCore.useFrame(() => {\n                if (this.#row) this.#row.style.cursor = '';\n            });\n        };\n\n        this.#onMouseLeave = () => {\n            UnFreezeMobPageScroll();\n            this.#touchActive = false;\n            MobCore.useFrame(() => {\n                if (this.#row) this.#row.style.cursor = '';\n            });\n        };\n\n        this.#onTouchStart = (event) => {\n            if (!mq[this.#queryType](this.#breakpoint)) return;\n\n            FreezeMobPageScroll();\n            this.#lastTouchValueX = -event.touches[0].clientX;\n            this.#touchActive = true;\n            this.#firstTouchValue = this.#scrollValue;\n        };\n\n        this.#onTouchEnd = () => {\n            UnFreezeMobPageScroll();\n            this.#touchActive = false;\n        };\n\n        this.#onTouchMove = (event) => {\n            const touchValueX = -event.touches[0].clientX;\n            const gapX = this.#reverse\n                ? -touchValueX + this.#lastTouchValueX\n                : touchValueX - this.#lastTouchValueX;\n\n            this.#onDrag(gapX);\n            this.#lastTouchValueX = touchValueX;\n\n            if (\n                this.#shouldDragValue &&\n                event.cancelable &&\n                event.defaultPrevented\n            )\n                event.preventDefault();\n        };\n\n        this.#preventFireClick = (event) => {\n            if (\n                Math.abs(this.#scrollValue - this.#firstTouchValue) >\n                this.#threshold\n            )\n                event.preventDefault();\n        };\n    }\n\n    /**\n     * Initialize insatance\n     *\n     * @example\n     *     myInstance.init();\n     *\n     * @type {() => void}\n     */\n    init() {\n        if (!this.#propsisValid) return;\n\n        pipe(\n            this.#getWidth.bind(this),\n            this.#setDimension.bind(this),\n            this.#createShadow.bind(this),\n            this.#updateShadow.bind(this)\n        )().then(() => {\n            this.#initScroller();\n            if (this.#useDrag) this.#addDragListener();\n\n            MobCore.useResize(({ horizontalResize }) =>\n                this.onResize(horizontalResize)\n            );\n\n            MobCore.useFrameIndex(() => {\n                MobCore.useNextTick(() => {\n                    this.#afterInit?.();\n                    this.#children.forEach((element) => {\n                        element.refresh();\n                    });\n                });\n            }, 3);\n        });\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #setLinkAttribute() {\n        [...this.#buttons].forEach((item) =>\n            item.setAttribute('draggable', 'false')\n        );\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #removeLinkAttribute() {\n        [...this.#buttons].forEach((item) => item.removeAttribute('draggable'));\n    }\n\n    /**\n     * @type {(value: number) => void}\n     */\n    #onDrag(value) {\n        if (!this.#shouldDragValue) return;\n        MobCore.useFrame(() =>\n            window.scrollBy({ top: value, left: 0, behavior: 'instant' })\n        );\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #shouldDrag() {\n        const documentScrollTop = window.scrollY;\n\n        this.#shouldDragValue =\n            this.#triggerTopPosition - this.#dragSecureAreaTop <\n                documentScrollTop &&\n            this.#triggerTopPosition +\n                this.#dragSecureAreaBottom +\n                this.#horizontalWidth >\n                documentScrollTop + window.innerHeight;\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #addDragListener() {\n        this.#unsubscribeScroll = MobCore.useScroll(() => this.#shouldDrag());\n        this.#shouldDrag();\n\n        this.#row.addEventListener('click', this.#preventFireClick, {\n            passive: false,\n        });\n\n        this.#row.addEventListener('mousedown', this.#onMouseDown, {\n            passive: true,\n        });\n\n        this.#row.addEventListener('mouseup', this.#onMouseUp, {\n            passive: true,\n        });\n\n        this.#row.addEventListener('mouseleave', this.#onMouseLeave, {\n            passive: true,\n        });\n\n        this.#row.addEventListener('touchstart', this.#onTouchStart, {\n            passive: true,\n        });\n\n        this.#row.addEventListener('touchend', this.#onTouchEnd, {\n            passive: true,\n        });\n\n        this.#row.addEventListener('mousemove', this.#onMouseMove, {\n            passive: true,\n        });\n\n        this.#row.addEventListener('touchmove', this.#onTouchMove, {\n            passive: true,\n        });\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #removeDragListener() {\n        this.#unsubscribeScroll();\n        this.#row.removeEventListener('click', this.#preventFireClick);\n        this.#row.removeEventListener('mousedown', this.#onMouseDown);\n        this.#row.removeEventListener('mouseup', this.#onMouseUp);\n        this.#row.removeEventListener('mouseleave', this.#onMouseLeave);\n        this.#row.removeEventListener('touchstart', this.#onTouchStart);\n        this.#row.removeEventListener('touchend', this.#onTouchEnd);\n        this.#row.removeEventListener('mousemove', this.#onMouseMove);\n        this.#row.removeEventListener('touchmove', this.#onTouchMove);\n    }\n\n    /**\n     * @type {() => Promise<boolean>}\n     */\n    #setDimension() {\n        if (!this.#trigger || !this.#mainContainer || !this.#row) {\n            return new Promise((resolve) => {\n                resolve(true);\n            });\n        }\n\n        return new Promise((resolve) => {\n            MobCore.useFrame(() => {\n                const width = this.#horizontalWidth;\n                this.#percentRange =\n                    (100 * (width - window.innerWidth)) / width;\n\n                if (width > 0) {\n                    this.#trigger.style.height = `${width}px`;\n                    this.#mainContainer.style.height = `${width}px`;\n                    this.#row.style.width = `${width}px`;\n                }\n\n                resolve(true);\n            });\n        });\n    }\n\n    /**\n     * @type {() => Promise<boolean>}\n     */\n    #getWidth() {\n        return new Promise((resolve) => {\n            MobCore.useFrame(() => {\n                if (!mq[this.#queryType](this.#breakpoint)) {\n                    resolve(true);\n                    return;\n                }\n\n                this.#horizontalWidth = [...this.#columns]\n                    .map((item) => {\n                        return outerWidth(item);\n                    })\n                    .reduce((a, b) => a + b, 0);\n\n                resolve(true);\n            });\n        });\n    }\n\n    /**\n     * @type {() => Promise<boolean>}\n     */\n    #createShadow() {\n        if (!this.#trigger) {\n            return new Promise((resolve) => {\n                resolve(true);\n            });\n        }\n\n        return new Promise((resolve) => {\n            MobCore.useFrame(() => {\n                if (!mq[this.#queryType](this.#breakpoint) || !this.#shadows) {\n                    resolve(true);\n                    return;\n                }\n\n                const shadowsTransition = [...this.#shadows]\n                    .map((item) => {\n                        const shadowLabel = item.dataset['shadow'];\n                        const useDebug = Object.hasOwn(item.dataset, 'debug');\n                        const debugClass = useDebug ? 'debug' : '';\n\n                        const leftLabel = useDebug\n                            ? `left left : ${shadowLabel}`\n                            : '';\n                        const inCenterLabel = useDebug\n                            ? `in center : ${shadowLabel}`\n                            : '';\n                        const outCenterlabel = useDebug\n                            ? `center out : ${shadowLabel}`\n                            : '';\n                        const endLabel = useDebug\n                            ? `in out : ${shadowLabel}`\n                            : '';\n\n                        return /* HTML */ ` <div\n                            class=\"${this.#shadowMainClassTransition} ${this\n                                .#shadowMainClassTransition}--${shadowLabel}\"\n                            data-shadow=\"${shadowLabel}\"\n                        >\n                            <span\n                                class=\"${this\n                                    .#shadowMainClassTransition}--in-center ${debugClass}\"\n                            >\n                                ${inCenterLabel}\n                            </span>\n                            <span\n                                class=\"${this\n                                    .#shadowMainClassTransition}--out-center ${debugClass}\"\n                            >\n                                ${outCenterlabel}\n                            </span>\n                            <span\n                                class=\"${this\n                                    .#shadowMainClassTransition}--left ${debugClass}\"\n                            >\n                                ${leftLabel}\n                            </span>\n                            <span\n                                class=\"${this\n                                    .#shadowMainClassTransition}--end ${debugClass}\"\n                            >\n                                ${endLabel}\n                            </span>\n                        </div>`;\n                    })\n                    .join('');\n\n                this.#trigger.innerHTML = shadowsTransition;\n                resolve(true);\n            });\n        });\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #removeShadow() {\n        if (this.#trigger) this.#trigger.innerHTML = '';\n    }\n\n    /**\n     * @type {() => Promise<boolean>}\n     */\n    #updateShadow() {\n        return new Promise((resolve) => {\n            if (!mq[this.#queryType](this.#breakpoint)) {\n                resolve(true);\n                return;\n            }\n\n            MobCore.useFrame(() => {\n                if (!this.#shadows) return;\n\n                [...this.#shadows].forEach((item) => {\n                    const percentrange = this.#percentRange / 100;\n                    const shadowData = item.dataset['shadow'];\n                    const width = outerWidth(item);\n                    const height = outerHeight(this.#row);\n                    const x = getTranslateValues(this.#row)?.x ?? 0;\n                    const offset = this.#reverse\n                        ? this.#horizontalWidth -\n                          (item.getBoundingClientRect().right - x)\n                        : item.getBoundingClientRect().left - x;\n                    const screenRatio = window.innerWidth / window.innerHeight;\n                    const windowDifference =\n                        window.innerWidth - window.innerHeight;\n                    const widthAmount = offset / screenRatio;\n                    const diffAmount = offset - offset / screenRatio;\n\n                    /**\n                     * @type {HTMLElement | null}\n                     */\n                    const shadowTransitionEl =\n                        this.#mainContainer.querySelector(\n                            `.${this.#shadowMainClassTransition}[data-shadow=\"${shadowData}\"]`\n                        );\n\n                    /**\n                     * @type {HTMLElement | null | undefined}\n                     */\n                    const inCenterMarker = shadowTransitionEl?.querySelector(\n                        `.${this.#shadowMainClassTransition}--in-center`\n                    );\n\n                    /**\n                     * @type {HTMLElement | null | undefined}\n                     */\n                    const outCenterMarker = shadowTransitionEl?.querySelector(\n                        `.${this.#shadowMainClassTransition}--out-center`\n                    );\n\n                    /**\n                     * @type {HTMLElement | null | undefined}\n                     */\n                    const leftMarker = shadowTransitionEl?.querySelector(\n                        `.${this.#shadowMainClassTransition}--left`\n                    );\n\n                    /**\n                     * @type {HTMLElement | null | undefined}\n                     */\n                    const endMarker = shadowTransitionEl?.querySelector(\n                        `.${this.#shadowMainClassTransition}--end`\n                    );\n\n                    // Strength shadow end item to bottom of page\n                    const plusFull =\n                        window.innerWidth > window.innerHeight\n                            ? window.innerHeight\n                            : 0;\n\n                    // Strength center in out item to bottom of page\n                    const plusHalf =\n                        window.innerWidth > window.innerHeight\n                            ? window.innerHeight / 2\n                            : 0;\n\n                    const start = (() => {\n                        switch (offset) {\n                            case 0: {\n                                return 0;\n                            }\n\n                            default: {\n                                return (\n                                    widthAmount +\n                                    diffAmount / percentrange -\n                                    windowDifference / percentrange\n                                );\n                            }\n                        }\n                    })();\n\n                    const left = (() => {\n                        const val =\n                            window.innerWidth > window.innerHeight\n                                ? windowDifference / percentrange\n                                : windowDifference / percentrange +\n                                  window.innerWidth / screenRatio;\n\n                        switch (offset) {\n                            case 0: {\n                                return 0;\n                            }\n\n                            default: {\n                                return val;\n                            }\n                        }\n                    })();\n\n                    const end = (() => {\n                        const val1 = width / screenRatio;\n                        const val2 =\n                            (width - width / screenRatio) / percentrange;\n                        return val1 + val2 + left;\n                    })();\n\n                    const inCenter = (() => {\n                        return end / 2 + plusHalf;\n                    })();\n\n                    if (this.#useSticky) {\n                        // @ts-ignore\n                        this.#trigger.style['margin-top'] = `-${height}px`;\n                    }\n\n                    if (shadowTransitionEl)\n                        shadowTransitionEl.style.top = `${start}px`;\n\n                    if (inCenterMarker)\n                        inCenterMarker.style.height = `${inCenter}px`;\n\n                    if (outCenterMarker)\n                        outCenterMarker.style.height = `${inCenter}px`;\n\n                    if (outCenterMarker)\n                        outCenterMarker.style.top = `${inCenter}px`;\n\n                    if (leftMarker) leftMarker.style.height = `${left}px`;\n\n                    if (endMarker)\n                        endMarker.style.height = `${end + plusFull}px`;\n\n                    if (shadowTransitionEl)\n                        shadowTransitionEl.style.height = `${left}px`;\n                });\n\n                resolve(true);\n            });\n        });\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #initScroller() {\n        if (!this.#trigger || !mq[this.#queryType](this.#breakpoint)) return;\n\n        const scrollTriggerInstance = new MobScroller({\n            type: 'scrolltrigger',\n            item: this.#row,\n            useWillChange: this.#useWillChange,\n            trigger: this.#trigger,\n            propierties: 'x',\n            breakpoint: 'xSmall',\n            pin: !this.#useSticky,\n            animatePin: this.#animatePin,\n            ease: this.#ease,\n            forceTranspond: this.#forceTranspond,\n            useThrottle: this.#useThrottle,\n            easeType: this.#easeType,\n            springConfig: 'scroller',\n            animateAtStart: this.#animateAtStart,\n            reverse: this.#reverse,\n            dynamicRange: () => {\n                return -(this.#horizontalWidth - window.innerWidth);\n            },\n            dynamicStart: {\n                position: 'bottom',\n                value: () => {\n                    return window.innerHeight;\n                },\n            },\n            dynamicEnd: {\n                position: 'bottom',\n                value: () => {\n                    return this.#horizontalWidth;\n                },\n            },\n            onTick: ({ value, parentIsMoving }) => {\n                const valueParsed = value ?? 0;\n\n                const percent = Math.abs(\n                    -Math.round(\n                        (valueParsed * 100) /\n                            (this.#horizontalWidth - window.innerWidth)\n                    )\n                );\n\n                this.#scrollValue = valueParsed;\n\n                // onTick standalone methods.\n                if (this.#onTick)\n                    this.#onTick({\n                        value: valueParsed,\n                        parentIsMoving,\n                        percent: this.#reverse ? 100 - percent : percent,\n                    });\n\n                // Builtin children onTick;\n                this.#children.forEach((element) => {\n                    element.move({ value: valueParsed, parentIsMoving });\n                });\n            },\n            onEnter: this.#onEnter,\n            onEnterBack: this.#onEnterBack,\n            onLeave: this.#onLeave,\n            onLeaveBack: this.#onLeaveBack,\n        });\n        scrollTriggerInstance.init();\n\n        this.#moduleisActive = true;\n        this.#scrollTriggerInstance = scrollTriggerInstance;\n        this.#triggerTopPosition = offset(this.#trigger).top;\n        this.#setLinkAttribute();\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #createScroller() {\n        pipe(\n            this.#getWidth.bind(this),\n            this.#setDimension.bind(this),\n            this.#createShadow.bind(this),\n            this.#updateShadow.bind(this)\n        )().then(() => {\n            this.#initScroller();\n            this.#refreshChildren();\n        });\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #refreshChildren() {\n        MobCore.useFrameIndex(() => {\n            MobCore.useNextTick(() => {\n                this.#afterRefresh?.();\n                this.#children.forEach((element) => {\n                    element?.refresh?.();\n                });\n            });\n        }, 3);\n    }\n\n    /**\n     * Refresh instance\n     *\n     * @example\n     *     myInstance.refresh();\n     *\n     * @type {() => Promise<boolean>}\n     */\n    refresh() {\n        if (!this.#moduleisActive || !mq[this.#queryType](this.#breakpoint))\n            return new Promise((resolve) => resolve(true));\n\n        return new Promise((resolve) => {\n            pipe(\n                this.#getWidth.bind(this),\n                this.#setDimension.bind(this),\n                this.#updateShadow.bind(this)\n            )().then(() => {\n                this.#scrollTriggerInstance?.stopMotion?.();\n                this.#triggerTopPosition = offset(this.#trigger).top;\n\n                if (this.#moduleisActive) {\n                    this.#scrollTriggerInstance?.refresh?.();\n                    this.#refreshChildren();\n                }\n                resolve(true);\n            });\n        });\n    }\n\n    /**\n     * @type {(arg0: { destroyAll?: boolean }) => void}\n     */\n    #killScroller({ destroyAll = false }) {\n        if (this.#moduleisActive || destroyAll) {\n            this.#scrollTriggerInstance?.destroy?.();\n            // @ts-ignore\n            this.#scrollTriggerInstance = null;\n            if (this.#trigger) this.#trigger.style.height = '';\n            if (this.#mainContainer) this.#mainContainer.style.height = '';\n            if (this.#trigger) this.#trigger.style.marginTop = '';\n            this.#removeShadow();\n            this.#removeLinkAttribute();\n            this.#moduleisActive = false;\n\n            // Make sure that if component is running with ease the style is removed.\n            MobCore.useFrameIndex(() => {\n                if (this.#row) {\n                    this.#row.style.width = '';\n                    this.#row.style.transform = '';\n                }\n\n                if (destroyAll && this.#mainContainer) {\n                    if (this.#useDrag) this.#removeDragListener();\n\n                    const styleDiv =\n                        this.#mainContainer.querySelector('.scroller-style');\n                    if (styleDiv) styleDiv.remove();\n\n                    /**\n                     * All element is null only on Destroy. Avoid to use union type with null.\n                     */\n\n                    // @ts-ignore\n                    this.#mainContainer = null;\n                    // @ts-ignore\n                    this.#trigger = null;\n                    // @ts-ignore\n                    this.#row = null;\n                    // @ts-ignore\n                    this.#columns = [];\n                    // @ts-ignore\n                    this.#shadows = [];\n                    this.#afterInit = NOOP;\n                    this.#afterRefresh = NOOP;\n                    this.#onTick = NOOP;\n                    this.#onEnter = NOOP;\n                    this.#onEnterBack = NOOP;\n                    this.#onLeave = NOOP;\n                    this.#onLeaveBack = NOOP;\n                    // @ts-ignore\n                    this.#scrollTriggerInstance = null;\n                    this.#moduleisActive = false;\n                    this.#buttons = [];\n\n                    // @ts-ignore\n                    this.#mainContainer = null;\n                    // @ts-ignore\n                    this.#container = null;\n                    // @ts-ignore\n                    this.#trigger = null;\n                    // @ts-ignore\n                    this.#row = null;\n\n                    MobCore.useNextTick(() => {\n                        this.#afterDestroy?.();\n                        this.#afterDestroy = NOOP;\n                        this.#children.forEach((element) => {\n                            element?.destroy?.();\n                            // @ts-ignore\n                            element = null;\n                        });\n                        this.#children = [];\n                    });\n                }\n            }, 3);\n        }\n    }\n\n    /**\n     * @type {(horizontalResize: boolean) => void}\n     */\n    onResize(horizontalResize) {\n        if (this.#moduleisActive && mq[this.#queryType](this.#breakpoint)) {\n            if (horizontalResize) this.refresh();\n        } else if (\n            !this.#moduleisActive &&\n            mq[this.#queryType](this.#breakpoint)\n        ) {\n            this.#createScroller();\n        } else if (\n            this.#moduleisActive &&\n            !mq[this.#queryType](this.#breakpoint)\n        ) {\n            this.#killScroller({ destroyAll: false });\n        }\n    }\n\n    /**\n     * Destroy instance\n     *\n     * @example\n     *     myInstance.destroy();\n     *\n     * @type {() => void}\n     */\n    destroy() {\n        this.#killScroller({ destroyAll: true });\n    }\n}\n", "import { MobCore } from '../../../mob-core/index.js';\nimport { outerHeight } from '../../../mob-core/utils/index.js';\nimport MobTimeTween from '../../animation/tween/mob-time-tween.js';\n\n/** @type {Map<HTMLElement, import('./type').MobSlide>} */\nconst slideItems = new Map();\n\n/**\n * @type {(target: HTMLElement) => boolean}\n */\nconst isNode = (target) => {\n    const isValid = MobCore.checkType(Element, target);\n\n    if (!isValid)\n        console.warn(`slide utils ${target} is not a valid Dom element`);\n\n    return isValid;\n};\n\n/**\n * Subscribe element to internal store.\n *\n * @param {HTMLElement} target\n * @returns {import('./type').MobSlide} Unsubscribe function.\n */\nconst setSlideData = (target) => {\n    const tween = new MobTimeTween({ ease: 'easeOutQuad', data: { val: 0 } });\n\n    return {\n        tween,\n        unsubscribe: tween.subscribe(({ val }) => {\n            target.style.height = `${val}px`;\n        }),\n    };\n};\n\n/**\n * Slide up-down utils. It is essentially a small store where you can subscribe to dom elements and manage them.\n *\n * @example\n *     ```javascript\n *     Subscribe target in store:\n *     const unsubscribe = slide.subscribe(target);\n *\n *     Reset target:\n *     slide.reset(target);\n *\n *     Slide up-down:\n *     slide.up(target).then(() => { ... });\n *     slide.down(target).then(() => { ... });\n *\n *     Remove item from store:\n *     unsubscribe();\n *     ```;\n */\nexport const MobSlide = (() => {\n    /**\n     * Subscribe element to internal store.\n     *\n     * @param {HTMLElement} target - Dom node.\n     * @returns {() => void} Unsubscribe function.\n     */\n    const subscribe = (target) => {\n        if (!isNode(target)) return () => {};\n\n        /**\n         * Check if target is already subscribed to slide utils\n         */\n        const alreadySubscribe = slideItems.has(target);\n        if (alreadySubscribe) {\n            console.warn(`slide utils ${target} is alredysubscribed`);\n            return () => {};\n        }\n\n        /**\n         * Update items Array\n         */\n        const data = setSlideData(target);\n        slideItems.set(target, data);\n\n        /**\n         * Return unsubscribe\n         */\n        return () => {\n            data.unsubscribe();\n            const { tween } = data;\n            tween.destroy();\n            slideItems.delete(target);\n        };\n    };\n\n    /**\n     * Reset target height ( 0px ) . Set `overflow: hidden` to target.\n     *\n     * @param {HTMLElement} target - Dom node.\n     */\n    const reset = (target) => {\n        if (!isNode(target)) return;\n\n        target.style.height = '0';\n        target.style.overflow = 'hidden';\n    };\n\n    /**\n     * Slide up target. Return a promise.\n     *\n     * @example\n     *     ```javascript\n     *     slide.up(myELement)\n     *          .then(() => { ... })\n     *          .catch(() => { ... })\n     *     ```;\n     *\n     * @param {HTMLElement} target - Dom node.\n     * @returns {Promise<any>} Promise fired on animation ends.\n     */\n    const up = async (target) => {\n        // @ts-ignore\n        if (!isNode(target)) {\n            return new Promise((resolve) => resolve(true));\n        }\n\n        // Reject of target not exist in store\n        const currentItem = slideItems.get(target);\n        if (!currentItem) {\n            console.warn('slide element not exist in slide store');\n            return new Promise((resolve) => resolve(true));\n        }\n\n        // height of item may be change once opened outside tween control\n        // use fromTo in this case\n        // @ts-ignore\n        const { tween } = currentItem;\n        const currentHeight = outerHeight(target);\n\n        await tween.goFromTo(\n            { val: currentHeight },\n            { val: 0 },\n            { duration: 500 }\n        );\n    };\n\n    /**\n     * Slide down target. Return a promise.\n     *\n     * @example\n     *     ```javascript\n     *     slide.down(myELement)\n     *          .then(() => { ... })\n     *          .catch(() => { ... })\n     *     ```;\n     *\n     * @param {HTMLElement} target - Dom node.\n     * @returns {Promise<any>} Promise fired on animation ends.\n     */\n    const down = async (target) => {\n        if (!isNode(target)) {\n            return new Promise((resolve) => resolve(true));\n        }\n\n        // Reject of target not exist in store\n        const currentItem = slideItems.get(target);\n        if (!currentItem) {\n            console.warn('slide element not exist in slide store');\n            return new Promise((resolve) => resolve(true));\n        }\n\n        // @ts-ignore\n        const { tween } = currentItem;\n        const { val: currentHeight } = tween.get();\n        target.style.height = `auto`;\n        const height = outerHeight(target);\n        target.style.height = `${currentHeight}px`;\n\n        await tween.goTo({ val: height }, { duration: 500 });\n        MobCore.useNextTick(() => {\n            target.style.height = `auto`;\n        });\n    };\n\n    return { subscribe, reset, up, down };\n})();\n", "import MobLerp from '../../animation/lerp/mob-lerp.js';\nimport MobSpring from '../../animation/spring/mob-spring.js';\nimport { clamp } from '../../animation/utils/animation-utils.js';\nimport { mq } from '../../utils/media-manager.js';\nimport { NOOP } from '../../utils/functions-utils.js';\nimport { MobScrollerConstant } from '../../animation/scroller/mob-scroller-constant.js';\nimport {\n    breakpointIsValid,\n    breakpointTypeIsValid,\n    directionIsValid,\n    genericEaseTypeIsValid,\n    valueIsBooleanAndReturnDefault,\n    valueIsFunctionAndReturnDefault,\n    valueIsNumberAndReturnDefault,\n} from '../../animation/utils/tween-action/tween-validation.js';\nimport { MobCore } from '../../../mob-core/index.js';\nimport {\n    isDescendant,\n    outerHeight,\n    outerWidth,\n} from '../../../mob-core/utils/index.js';\nimport {\n    FreezeMobPageScroll,\n    UnFreezeMobPageScroll,\n} from '../page-scroll/page-scroller.js';\n\nexport class MobSmoothScroller {\n    /**\n     * @type {boolean}\n     */\n    #propsIsValid;\n\n    /**\n     * @type {number}\n     */\n    #endValue;\n\n    /**\n     * @type {number}\n     */\n    #percent;\n\n    /**\n     * @type {number}\n     */\n    #screenWidth;\n\n    /**\n     * @type {number}\n     */\n    #screenHeight;\n\n    /**\n     * @type {number}\n     */\n    #firstTouchValue;\n\n    /**\n     * @type {number}\n     */\n    #threshold;\n\n    /**\n     * @type {number}\n     */\n    #maxValue;\n\n    /**\n     * @type {boolean}\n     */\n    #dragEnable;\n\n    /**\n     * @type {number}\n     */\n    #prevTouchVal;\n\n    /**\n     * @type {number}\n     */\n    #touchVal;\n\n    /**\n     * @type {() => void}\n     */\n    #subscribeResize;\n\n    /**\n     * @type {() => void}\n     */\n    #subscribeScrollStart;\n\n    /**\n     * @type {() => void}\n     */\n    #subscribeScrollEnd;\n\n    /**\n     * @type {() => void}\n     */\n    #subscribeTouchStart;\n\n    /**\n     * @type {() => void}\n     */\n    #subscribeTouchEnd;\n\n    /**\n     * @type {() => void}\n     * @returns {void}\n     */\n    #subscribeMouseDown;\n\n    /**\n     * @type {() => void}\n     * @returns {void}\n     */\n    #subscribeMouseUp;\n\n    /**\n     * @type {() => void}\n     * @returns {void}\n     */\n    #subscribeMouseWheel;\n\n    /**\n     * @type {() => void}\n     * @returns {void}\n     */\n    #subscribeMouseMove;\n\n    /**\n     * @type {() => void}\n     * @returns {void}\n     */\n    #subscribeTouchMove;\n\n    /**\n     * @type {() => void}\n     * @returns {void}\n     */\n    #subscribeMouseClick;\n\n    /**\n     * @type {MobLerp | MobSpring}\n     */\n    #motion;\n\n    /**\n     * @type {() => void}\n     */\n    #unsubscribeMotion;\n\n    /**\n     * @type {() => void}\n     */\n    #unsubscribeOnComplete;\n\n    /**\n     * @type {string}\n     */\n    #direction;\n\n    /**\n     * @type {boolean}\n     */\n    #isDestroyed;\n\n    /**\n     * @type {'lerp' | 'spring'}\n     */\n    #easeType;\n\n    /**\n     * @type {import('../../utils/type.js').MqValues}\n     */\n    #breakpoint;\n\n    /**\n     * @type {import('../../utils/type.js').MqAction}\n     */\n    #queryType;\n\n    #scroller;\n\n    #screen;\n\n    /**\n     * @type {boolean}\n     */\n    #scopedEvent;\n\n    /**\n     * @type {number}\n     */\n    #speed;\n\n    /**\n     * @type {boolean}\n     */\n    #drag;\n\n    /**\n     * @type {import('./type.js').OnTick}\n     */\n    #onTickCallback;\n\n    /**\n     * @type {import('./type.js').OnUpdate}\n     */\n    #onUpdateCallback;\n\n    /**\n     * @type {import('./type.js').OnSwipe}\n     */\n    #onSwipeCallback;\n\n    /**\n     * @type {(arg0: { shouldScroll: boolean }) => void}\n     */\n    #onAfterRefresh;\n\n    /**\n     * @type {(arg0: { shouldScroll: boolean }) => void}\n     */\n    #afterInit;\n\n    /**\n     * @type {boolean}\n     */\n    #swipeisActive;\n\n    /**\n     * @type {any[]}\n     */\n    #children;\n\n    /**\n     * @type {(arg0: Event) => void}\n     */\n    #scopedWhell;\n\n    /**\n     * @type {(arg0: Event) => void}\n     */\n    #scopedTouchMove;\n\n    /**\n     * @type {number}\n     */\n    #lastSpinX;\n\n    /**\n     * @type {number}\n     */\n    #lastSpinY;\n\n    /**\n     * @type {boolean}\n     */\n    #useHorizontalScroll;\n\n    /**\n     * @type {boolean}\n     */\n    #useSwipe;\n\n    /**\n     * @type {boolean}\n     */\n    #revertSwipeDirection;\n\n    /**\n     * Create new SmoothScroller instance.\n     *\n     *        Available methods:\n     *        mySmoothScroll.init();\n     *        mySmoothScroll.refresh();\n     *        mySmoothScroll.destroy();\n     *        mySmoothScroll.move();\n     *        mySmoothScroll.set();\n     *\n     * @example\n     *     ```javascript\n     *        const mySmoothScroller = new SmoothScroller({\n     *            screen: [String | Element],\n     *            scroller: [String | Element],\n     *            direction: [String],\n     *            speed: [Number],\n     *            drag: [Boolean],\n     *            scopedEvent: [Boolean],\n     *            children: [child1,child2, ...],\n     *            ease: [Boolean],\n     *            easeType: [String],\n     *            afterInit: () => {\n     *                ...\n     *            },\n     *            onTick: ({ value, parentIsMoving, percent }) => {\n     *                ...\n     *            },\n     *            onUpdate: ({ value, percent }) => {\n     *                ...\n     *            },\n     *            afterRefresh: () => {\n     *                ...\n     *            },\n     *        });\n     *\n     *        mySmoothScroller.init();\n     *        ```;\n     *\n     * @param {import('./type.js').MobSmoothScroller} data\n     */\n    constructor(data) {\n        this.#propsIsValid = true;\n        this.#endValue = 0;\n        this.#percent = 0;\n        this.#screenWidth = 0;\n        this.#screenHeight = 0;\n        this.#firstTouchValue = 0;\n        this.#threshold = 30;\n        this.#maxValue = 0;\n        this.#dragEnable = false;\n        this.#prevTouchVal = 0;\n        this.#touchVal = 0;\n        this.#lastSpinX = 0;\n        this.#lastSpinY = 0;\n        this.#swipeisActive = false;\n        this.#subscribeResize = NOOP;\n        this.#subscribeScrollStart = NOOP;\n        this.#subscribeScrollEnd = NOOP;\n        this.#subscribeTouchStart = NOOP;\n        this.#subscribeTouchEnd = NOOP;\n        this.#subscribeMouseDown = NOOP;\n        this.#subscribeMouseUp = NOOP;\n        this.#subscribeMouseWheel = NOOP;\n        this.#subscribeMouseMove = NOOP;\n        this.#subscribeTouchMove = NOOP;\n        this.#subscribeMouseClick = NOOP;\n        // @ts-ignore\n        this.#motion = {};\n        this.#unsubscribeMotion = NOOP;\n        this.#unsubscribeOnComplete = NOOP;\n        this.#direction = directionIsValid(data?.direction, 'SmoothScroller');\n        this.#isDestroyed = false;\n\n        // @ts-ignore\n        this.#easeType = genericEaseTypeIsValid(\n            data?.easeType ?? '',\n            'SmoothScroller'\n        );\n\n        this.#breakpoint = breakpointIsValid(\n            data?.breakpoint,\n            'breakpoint',\n            'SmoothScroller'\n        );\n\n        this.#queryType = breakpointTypeIsValid(\n            data?.queryType,\n            'queryType',\n            'SmoothScroller'\n        );\n\n        this.#scroller = MobCore.checkType(String, data?.scroller)\n            ? document.querySelector(/** @type {string} */ (data.scroller))\n            : data.scroller;\n\n        if (!this.#scroller) {\n            console.warn('SmoothScroller: scroller node not found');\n            this.#propsIsValid = false;\n        }\n\n        this.#screen = data?.screen\n            ? (() => {\n                  return MobCore.checkType(String, data.screen)\n                      ? document.querySelector(\n                            /** @type {string} */ (data.screen)\n                        )\n                      : data.screen;\n              })()\n            : document.documentElement;\n\n        if (!this.#screen) {\n            this.#propsIsValid = false;\n            console.warn('SmoothScroller: screen node not found');\n        }\n\n        this.#scopedEvent = valueIsBooleanAndReturnDefault(\n            data?.scopedEvent,\n            'SmoothScroller: scopedEvent',\n            false\n        );\n\n        this.#speed = valueIsNumberAndReturnDefault(\n            data?.speed,\n            'SmoothScroller: speed',\n            60\n        );\n\n        this.#drag = valueIsBooleanAndReturnDefault(\n            data?.drag,\n            'SmoothScroller: drag',\n            false\n        );\n\n        this.#onTickCallback = valueIsFunctionAndReturnDefault(\n            data?.onTick,\n            'SmoothScroller: onTick',\n            NOOP\n        );\n\n        this.#onUpdateCallback = valueIsFunctionAndReturnDefault(\n            data?.onUpdate,\n            'SmoothScroller: onUpdate',\n            NOOP\n        );\n\n        this.#onSwipeCallback = valueIsFunctionAndReturnDefault(\n            data?.onSwipe,\n            'SmoothScroller: onSwipe',\n            NOOP\n        );\n\n        this.#useSwipe = valueIsBooleanAndReturnDefault(\n            data?.useSwipe,\n            'SmoothScroller: useSwipe',\n            false\n        );\n\n        this.#revertSwipeDirection = valueIsBooleanAndReturnDefault(\n            data?.revertSwipeDirection,\n            'SmoothScroller: revertSwipeDirection',\n            false\n        );\n\n        this.#useHorizontalScroll = valueIsBooleanAndReturnDefault(\n            data?.useHorizontalScroll,\n            'SmoothScroller: useBothAxis',\n            false\n        );\n\n        this.#onAfterRefresh = valueIsFunctionAndReturnDefault(\n            data?.afterRefresh,\n            'SmoothScroller: afterRefresh',\n            NOOP\n        );\n\n        this.#afterInit = valueIsFunctionAndReturnDefault(\n            data?.afterInit,\n            'SmoothScroller: afterInit',\n            NOOP\n        );\n\n        this.#children = data?.children || [];\n        this.#children.forEach((element) => {\n            element.setScroller(this.#scroller);\n            element.setDirection(this.#direction);\n            element.setScreen(this.#screen);\n            element.setBreakPoint(this.#breakpoint);\n            element.setQueryType(this.#queryType);\n            element.init();\n        });\n\n        this.#scopedWhell = (event) => {\n            const { spinY } = MobCore.normalizeWheel(event);\n            this.#onScopedWhell({\n                spinY,\n            });\n        };\n\n        this.#scopedTouchMove = (event) => {\n            // @ts-ignore\n            const { clientX, clientY } = event.touches\n                ? // @ts-ignore\n                  event.touches[0]\n                : event;\n\n            this.#onScopedTouchMove({\n                client: {\n                    x: clientX,\n                    y: clientY,\n                },\n            });\n        };\n    }\n\n    /**\n     * Check if is scrollable\n     *\n     * @type {() => boolean}\n     */\n    #getScrollableStatus() {\n        return this.#maxValue > 0;\n    }\n\n    /**\n     * Initialize insatance\n     *\n     * @example\n     *     myInstance.init();\n     *\n     * @type {() => void}\n     */\n    init() {\n        if (!this.#propsIsValid) return;\n\n        switch (this.#easeType) {\n            case MobScrollerConstant.EASE_SPRING: {\n                this.#motion = new MobSpring();\n                break;\n            }\n\n            default: {\n                this.#motion = new MobLerp();\n                break;\n            }\n        }\n\n        /**\n         * Scoped event\n         */\n        if (this.#scopedEvent) {\n            /** @type {HTMLElement} */ (this.#scroller).addEventListener(\n                'wheel',\n                this.#scopedWhell,\n                {\n                    passive: true,\n                }\n            );\n\n            /** @type {HTMLElement} */ (this.#scroller).addEventListener(\n                'mousemove',\n                this.#scopedTouchMove,\n                {\n                    passive: true,\n                }\n            );\n\n            /** @type {HTMLElement} */ (this.#scroller).addEventListener(\n                'touchmove',\n                this.#scopedTouchMove,\n                {\n                    passive: true,\n                }\n            );\n        } else {\n            this.#subscribeMouseWheel = MobCore.useMouseWheel((data) => {\n                this.#detectSwipe(data);\n                this.#onWhell(data);\n            });\n\n            this.#subscribeMouseMove = MobCore.useMouseMove((data) =>\n                this.#onTouchMove(data)\n            );\n            this.#subscribeTouchMove = MobCore.useTouchMove((data) =>\n                this.#onTouchMove(data)\n            );\n        }\n\n        /**\n         * Common event\n         */\n        this.#subscribeResize = MobCore.useResize(() => this.refresh());\n\n        this.#subscribeScrollStart = MobCore.useScrollStart(() =>\n            this.#refreshScroller()\n        );\n\n        this.#subscribeScrollEnd = MobCore.useScrollEnd(() =>\n            this.#refreshScroller()\n        );\n\n        this.#subscribeTouchStart = MobCore.useTouchStart((data) =>\n            this.#onMouseDown(data)\n        );\n\n        this.#subscribeTouchEnd = MobCore.useTouchEnd((data) =>\n            this.#onMouseUp(data)\n        );\n\n        this.#subscribeMouseDown = MobCore.useMouseDown((data) =>\n            this.#onMouseDown(data)\n        );\n\n        this.#subscribeMouseUp = MobCore.useMouseUp((data) =>\n            this.#onMouseUp(data)\n        );\n\n        /**\n         * UnFreeze page scroller\n         */\n        /** @type {HTMLElement} */ (this.#scroller).addEventListener(\n            'mouseleave',\n            () => {\n                UnFreezeMobPageScroll();\n            }\n        );\n\n        if (this.#drag) {\n            this.#subscribeMouseClick = MobCore.useMouseClick(\n                ({ target, preventDefault }) => {\n                    this.#preventChecker({ target, preventDefault });\n                }\n            );\n        }\n\n        this.#initMotion();\n\n        if (mq[this.#queryType](this.#breakpoint)) {\n            this.#setScrolerStyle();\n            this.#refreshScroller();\n        }\n\n        MobCore.useFrameIndex(() => {\n            MobCore.useNextTick(() => {\n                if (this.#isDestroyed) return;\n\n                this.#afterInit?.({\n                    shouldScroll: this.#getScrollableStatus(),\n                });\n\n                this.#children.forEach((element) => {\n                    element.refresh();\n                });\n            });\n        }, 3);\n    }\n\n    /**\n     * @param {import('../../../mob-core/events/mouse-utils/type.js').MouseEventParsed} params\n     */\n    #detectSwipe({ pixelX }) {\n        if (\n            !this.#useSwipe ||\n            !pixelX ||\n            this.#swipeisActive ||\n            this.#onSwipeCallback.length === 0\n        )\n            return;\n\n        if (Math.abs(pixelX) > 40) {\n            this.#swipeisActive = true;\n\n            const direction = pixelX > 0 ? -1 : 1;\n            const directionParsed = this.#revertSwipeDirection\n                ? direction\n                : direction * -1;\n\n            this.#onSwipeCallback({\n                direction: directionParsed,\n                move: (value) => this.move(value).catch(() => {}),\n            });\n\n            setTimeout(() => {\n                this.#swipeisActive = false;\n            }, 500);\n        }\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #setScrolerStyle() {\n        if (!this.#scroller) return;\n\n        // @ts-ignore\n        this.#scroller.style['user-select'] = 'none';\n\n        const activeElements = /** @type {HTMLElement} */ (\n            this.#scroller\n        ).querySelectorAll('a, button');\n\n        [...activeElements].forEach((item) => {\n            item.setAttribute('draggable', 'false');\n            // @ts-ignore\n            item.style['user-select'] = 'none';\n        });\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #removeScrolerStyle() {\n        if (!this.#scroller) return;\n\n        // @ts-ignore\n        this.#scroller.style['user-select'] = '';\n        const activeElement = /** @type {HTMLElement} */ (\n            this.#scroller\n        ).querySelectorAll('a, button');\n\n        [...activeElement].forEach((item) => {\n            item.removeAttribute('draggable');\n            // @ts-ignore\n            item.style['user-select'] = '';\n        });\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #initMotion() {\n        if (!this.#motion) return;\n\n        this.#motion.setData({ val: 0 });\n        this.#unsubscribeMotion = this.#motion.subscribe(({ val }) => {\n            /** @type {HTMLElement} */ (this.#scroller).style.transform =\n                this.#direction == MobScrollerConstant.DIRECTION_VERTICAL\n                    ? `translate3d(0px, 0px, 0px) translateY(${-val}px)`\n                    : `translate3d(0px, 0px, 0px) translateX(${-val}px)`;\n\n            /**\n             * TODO Move to scroll Start (scopedEvent or not , wheel touch etc...) Used by instance with ease = true;\n             */\n            this.#children.forEach((element) => {\n                element.triggerScrollStart();\n            });\n\n            MobCore.useNextTick(() => {\n                this.#onTickCallback({\n                    value: -val,\n                    percent: this.#percent,\n                    parentIsMoving: true,\n                });\n\n                this.#children.forEach((element) => {\n                    element.move({\n                        value: -val,\n                        parentIsMoving: true,\n                    });\n                });\n            });\n        });\n\n        this.#unsubscribeOnComplete = this.#motion.onComplete(({ val }) => {\n            /** @type {HTMLElement} */ (this.#scroller).style.transform =\n                this.#direction == MobScrollerConstant.DIRECTION_VERTICAL\n                    ? `translateY(${-val}px)`\n                    : `translateX(${-val}px)`;\n\n            MobCore.useNextTick(() => {\n                this.#onTickCallback({\n                    value: -val,\n                    percent: this.#percent,\n                    parentIsMoving: false,\n                });\n\n                this.#children.forEach((element) => {\n                    element.triggerScrollEnd();\n                    element.move({\n                        value: -val,\n                        parentIsMoving: false,\n                    });\n                });\n            });\n        });\n    }\n\n    /**\n     * @type {() => void}\n     */\n    #refreshScroller() {\n        if (!this.#screen) return;\n\n        this.#screenWidth =\n            this.#screen === document.documentElement\n                ? window.innerWidth\n                : outerWidth(/** @type {HTMLElement} */ (this.#screen));\n\n        this.#screenHeight =\n            this.#screen === document.documentElement\n                ? window.innerHeight\n                : outerHeight(/** @type {HTMLElement} */ (this.#screen));\n\n        this.#maxValue =\n            this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n                ? /** @type {HTMLElement} */ (this.#scroller).offsetHeight -\n                  this.#screenHeight\n                : /** @type {HTMLElement} */ (this.#scroller).offsetWidth -\n                  this.#screenWidth;\n\n        this.#calculateValue();\n    }\n\n    /**\n     * @type {import('./type.js').MobSmoothScrollerOnMouseEvent}\n     */\n    #onScopedTouchMove({ client }) {\n        if (!this.#dragEnable || !this.#drag) return;\n\n        this.#prevTouchVal = this.#touchVal;\n        this.#touchVal = this.#getMousePos({\n            x: client?.x ?? 0,\n            y: client?.y ?? 0,\n        });\n        this.#endValue += Math.round(this.#prevTouchVal - this.#touchVal);\n        this.#calculateValue();\n    }\n\n    /**\n     * @type {(arg0: { spinY: number }) => void}\n     */\n    #onScopedWhell({ spinY }) {\n        if (!mq[this.#queryType](this.#breakpoint)) return;\n\n        this.#dragEnable = false;\n        this.#endValue += spinY * this.#speed;\n        this.#calculateValue();\n    }\n\n    /**\n     * Listener related event. Global\n     */\n\n    /**\n     * @type {import('./type.js').MobSmoothScrollerOnMouseEvent}\n     */\n    #onMouseDown({ target, client }) {\n        if (!mq[this.#queryType](this.#breakpoint)) return;\n\n        if (\n            target === this.#scroller ||\n            isDescendant(\n                /** @type {HTMLElement} */ (this.#scroller),\n                /** @type {HTMLElement} */ (target)\n            )\n        ) {\n            this.#firstTouchValue = this.#endValue;\n            this.#dragEnable = true;\n            this.#prevTouchVal = this.#getMousePos({\n                x: client?.x ?? 0,\n                y: client?.y ?? 0,\n            });\n            this.#touchVal = this.#getMousePos({\n                x: client?.x ?? 0,\n                y: client?.y ?? 0,\n            });\n        }\n    }\n\n    /**\n     * @type {import('./type.js').MobSmoothScrollerOnMouseEvent}\n     */\n    #onMouseUp() {\n        this.#dragEnable = false;\n    }\n\n    /**\n     * @type {import('./type.js').MobSmoothScrollerOnMouseEvent}\n     */\n    #onTouchMove({ target, client, preventDefault }) {\n        if (\n            (target === this.#scroller ||\n                isDescendant(\n                    /** @type {HTMLElement} */ (this.#scroller),\n                    /** @type {HTMLElement} */ (target)\n                )) &&\n            this.#dragEnable &&\n            this.#drag\n        ) {\n            // @ts-ignore\n            preventDefault();\n\n            this.#prevTouchVal = this.#touchVal;\n            this.#touchVal = this.#getMousePos({\n                x: client?.x ?? 0,\n                y: client?.y ?? 0,\n            });\n\n            const result = Math.round(this.#prevTouchVal - this.#touchVal);\n            this.#endValue += result;\n\n            this.#calculateValue();\n        }\n    }\n\n    /**\n     * @type {import('./type.js').MobSmoothScrollerOnMouseEvent}\n     */\n    #onWhell({ target, spinY, spinX, preventDefault }) {\n        if (\n            !mq[this.#queryType](this.#breakpoint) ||\n            (!spinY && spinY !== 0) ||\n            (!spinX && spinX !== 0)\n        )\n            return;\n\n        if (\n            target === this.#scroller ||\n            isDescendant(\n                /** @type {HTMLElement} */ (this.#scroller),\n                /** @type {HTMLElement} */ (target)\n            )\n        ) {\n            this.#dragEnable = false;\n            preventDefault?.();\n\n            const spinXdiff = Math.abs(this.#lastSpinX - spinX);\n            const spinYdiff = Math.abs(this.#lastSpinY - spinY);\n\n            const spinValue =\n                this.#useHorizontalScroll && !this.#useSwipe\n                    ? (() => {\n                          return spinXdiff > spinYdiff ? spinX : spinY;\n                      })()\n                    : spinY;\n\n            this.#endValue += spinValue * this.#speed;\n\n            this.#calculateValue();\n            FreezeMobPageScroll();\n            this.#lastSpinY = spinY;\n            this.#lastSpinX = spinX;\n        }\n    }\n\n    /**\n     * Move scroller\n     *\n     * @example\n     *     myInstance.move(val);\n     *\n     * @param {number} percent Position in percent, from 0 to 100\n     * @returns {Promise<void>} Percent position in percent, from 0 to 100\n     */\n    move(percent) {\n        if (!mq[this.#queryType](this.#breakpoint))\n            return new Promise((resolve) => resolve());\n\n        this.#percent = percent;\n        this.#endValue = (this.#percent * this.#maxValue) / 100;\n\n        /**\n         * This.motion use spring or lerp, so goTo generic type is not the same. But we don't use props here, so skip ts\n         * error\n         */\n\n        // @ts-ignore\n        return this.#motion.goTo({ val: this.#endValue });\n    }\n\n    /**\n     * Move scroller immediatr\n     *\n     * @example\n     *     myInstance.set(val);\n     *\n     * @param {number} percent Position in percent, from 0 to 100\n     */\n    set(percent) {\n        if (!mq[this.#queryType](this.#breakpoint)) return;\n\n        this.#percent = percent;\n        this.#endValue = (this.#percent * this.#maxValue) / 100;\n\n        /**\n         * This.motion use spring or lerp, so set generic type is not the same. But we don't use props here, so skip ts\n         * error\n         */\n\n        // @ts-ignore\n        this.#motion.set({ val: this.#endValue });\n    }\n\n    /**\n     * Utils\n     *\n     * @type {() => void}\n     */\n    #calculateValue() {\n        const percentValue = (this.#endValue * 100) / this.#maxValue;\n        this.#percent = clamp(percentValue, 0, 100);\n        this.#endValue = clamp(this.#endValue, 0, this.#maxValue);\n\n        /**\n         * This.motion use spring or lerp, so goTo generic type is not the same. But we don't use props here, so skip ts\n         * error\n         */\n\n        // @ts-ignore\n        this.#motion.goTo({ val: this.#endValue }).catch(() => {});\n\n        /**\n         * Fire on update callback\n         */\n        this.#onUpdateCallback?.({\n            value: -this.#endValue,\n            percent: this.#percent,\n            parentIsMoving: true,\n        });\n    }\n\n    /**\n     * @type {import('./type.js').MobSmoothScrollerOnMouseEvent}\n     */\n    #preventChecker({ target, preventDefault }) {\n        if (\n            mq[this.#queryType](this.#breakpoint) &&\n            (target === this.#scroller ||\n                isDescendant(\n                    /** @type {HTMLElement} */ (this.#scroller),\n                    /** @type {HTMLElement} */ (target)\n                )) &&\n            Math.abs(this.#endValue - this.#firstTouchValue) > this.#threshold\n        ) {\n            // @ts-ignore\n            preventDefault();\n        }\n    }\n\n    /**\n     * @type (arg0: {x: number, y:number}) => number\n     */\n    #getMousePos({ x, y }) {\n        if (!x || !y) return 0;\n\n        return this.#direction === MobScrollerConstant.DIRECTION_VERTICAL\n            ? y\n            : x;\n    }\n\n    /**\n     * Refresh instance\n     *\n     * @example\n     *     myInstance.refresh();\n     *\n     * @type {() => void}\n     */\n    refresh() {\n        if (!mq[this.#queryType](this.#breakpoint)) {\n            this.#removeScrolerStyle();\n            this.#motion?.stop?.();\n\n            MobCore.useFrame(() => {\n                MobCore.useNextTick(() => {\n                    /** @type {HTMLElement} */ (\n                        this.#scroller\n                    ).style.transform = '';\n                });\n            });\n            return;\n        }\n\n        this.#refreshScroller();\n        this.#setScrolerStyle();\n\n        MobCore.useFrameIndex(() => {\n            MobCore.useNextTick(() => {\n                this.#onAfterRefresh?.({\n                    shouldScroll: this.#getScrollableStatus(),\n                });\n\n                this.#children.forEach((element) => {\n                    element.refresh();\n                });\n            });\n        }, 2);\n    }\n\n    /**\n     * Destroy instance\n     *\n     * @example\n     *     myInstance.destroy();\n     *\n     * @type {() => void}\n     */\n    destroy() {\n        this.#isDestroyed = true;\n        this.#removeScrolerStyle();\n        this.#subscribeResize();\n        this.#subscribeScrollStart();\n        this.#subscribeScrollEnd();\n        this.#subscribeTouchStart();\n        this.#subscribeTouchEnd();\n        this.#subscribeMouseDown();\n        this.#subscribeMouseUp();\n        this.#subscribeMouseWheel();\n        this.#subscribeMouseMove();\n        this.#subscribeTouchMove();\n        this.#subscribeMouseClick();\n        this.#unsubscribeMotion();\n        this.#unsubscribeOnComplete();\n        this.#motion?.destroy();\n        // @ts-ignore\n        this.#motion = null;\n        this.#children.forEach((element) => {\n            element?.destroy?.();\n        });\n        this.#children = [];\n        this.#onTickCallback = NOOP;\n        this.#onUpdateCallback = NOOP;\n        this.#onAfterRefresh = NOOP;\n        this.#afterInit = NOOP;\n\n        if (this.#scopedEvent) {\n            /** @type {HTMLElement} */ (this.#scroller)?.removeEventListener(\n                'wheel',\n                this.#scopedWhell\n            );\n            /** @type {HTMLElement} */ (this.#scroller)?.removeEventListener(\n                'mousemove',\n                this.#scopedTouchMove\n            );\n            /** @type {HTMLElement} */ (this.#scroller)?.removeEventListener(\n                'touchmove',\n                this.#scopedTouchMove\n            );\n        }\n\n        MobCore.useFrameIndex(() => {\n            MobCore.useNextTick(() => {\n                this.#scroller = null;\n                this.#screen = null;\n            });\n        }, 3);\n    }\n}\n", "import { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { MobCore } from '@mobCore';\nimport { MobJs } from '@mobJs';\nimport {\n    DestroyMobPageScroll,\n    FreezeMobPageScroll,\n    InitMobPageScroll,\n    UnFreezeAndUPdateMobPageScroll,\n} from '@mobMotionPlugin';\n\nlet usePrevent = false;\nlet shouldInit = false;\nlet shouldDestroyPageScroll = false;\nconst routeShoulNotUsePageScroll = new Set(['scrollerN0', 'scrollerN1']);\n\nexport const usePageScroll = () => {\n    const rootElement = /** @type {HTMLElement} */ (\n        document.querySelector('#root')\n    );\n\n    const init = () => {\n        InitMobPageScroll({ rootElement });\n        shouldInit = false;\n        usePrevent = true;\n    };\n\n    const destroy = () => {\n        DestroyMobPageScroll();\n        shouldInit = true;\n        usePrevent = false;\n    };\n\n    if (!rootElement) return;\n    InitMobPageScroll({ rootElement });\n    shouldInit = false;\n\n    navigationStore.watch('navigationIsOpen', (isOpen) => {\n        if (isOpen) {\n            destroy();\n            return;\n        }\n\n        if (shouldInit && !shouldDestroyPageScroll) {\n            init();\n        }\n    });\n\n    MobJs.mainStore.watch('routeIsLoading', (isLoading) => {\n        if (isLoading) {\n            usePrevent = true;\n            FreezeMobPageScroll();\n            return;\n        }\n\n        const currentRoute = MobJs.getActiveRoute()?.route;\n        shouldDestroyPageScroll = routeShoulNotUsePageScroll.has(currentRoute);\n\n        /**\n         * Come from route without page-scroll active And current route should not use page-scroll.\n         */\n        if (shouldInit && !shouldDestroyPageScroll) {\n            init();\n            return;\n        }\n\n        /**\n         * This rout should not use page-scroll.\n         */\n        if (shouldDestroyPageScroll) {\n            destroy();\n            return;\n        }\n\n        /**\n         * Come from route that use page-scroll and current route use too.\n         */\n        UnFreezeAndUPdateMobPageScroll();\n        usePrevent = true;\n    });\n\n    MobCore.useMouseWheel(({ preventDefault }) => {\n        if (usePrevent) preventDefault();\n    });\n};\n", "export function detectSafari() {\n    const userAgentString = navigator.userAgent;\n    let safariAgent = userAgentString.includes('Safari');\n    const chromeAgent = userAgentString.includes('Chrome');\n    if (chromeAgent && safariAgent) safariAgent = false;\n\n    return safariAgent;\n}\n\nexport function detectFirefox() {\n    const userAgentString = navigator.userAgent;\n    let firefixAgent = userAgentString.includes('Firefox');\n    const chromeAgent = userAgentString.includes('Chrome');\n    if (chromeAgent && firefixAgent) firefixAgent = false;\n\n    return firefixAgent;\n}\n\nexport function setBrowserClass() {\n    const userAgent = navigator.userAgent;\n    const body = document.body;\n\n    if (/chrome|chromium|crios/i.test(userAgent)) {\n        body.classList.add('is-chrome');\n        return;\n    }\n\n    if (/firefox|fxios/i.test(userAgent)) {\n        body.classList.add('is-firefox');\n        return;\n    }\n\n    if (/safari/i.test(userAgent)) {\n        body.classList.add('is-safari');\n        return;\n    }\n\n    if (/edg/i.test(userAgent)) {\n        body.classList.add('is-edge');\n        return;\n    }\n}\n\n/**\n * @param {object} params\n * @param {string} params.source\n * @returns {Promise<{ success: boolean; data: any }>}\n */\nexport const loadTextContent = async ({ source }) => {\n    const response = await fetch(source);\n    if (!response.ok) {\n        console.warn(`${source} not found`);\n\n        return {\n            success: false,\n            data: '',\n        };\n    }\n    const data = await response.text();\n    return {\n        success: true,\n        data,\n    };\n};\n\n/**\n * @param {object} params\n * @param {string} params.source\n * @returns {Promise<{ success: boolean; data: any }>}\n */\nexport const loadJsonContent = async ({ source }) => {\n    const response = await fetch(source);\n    if (!response.ok) {\n        console.warn(`${source} not found`);\n        return {\n            success: false,\n            data: '',\n        };\n    }\n\n    const data = await response.json();\n\n    return {\n        success: true,\n        data,\n    };\n};\n\n/**\n * @param {number} min\n * @param {number} max\n * @returns {number}\n */\nexport function randomIntFromInterval(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\n/**\n * @param {DocumentFragment} fragment\n * @returns {string}\n */\nexport const serializeFragment = (fragment) => {\n    const rawString = new XMLSerializer().serializeToString(fragment);\n    return rawString.replaceAll(' xmlns=\"http://www.w3.org/1999/xhtml\"', '');\n};\n", "/** @type {import('./type.d.ts').CommonData} */\nlet commonData;\n\nexport const getCommonData = () => commonData;\n\n/**\n * Load common data.\n */\nexport const loadData = async () => {\n    commonData = await fetch(`./data/common.json`)\n        .then((response) => response.json())\n        .then((data) => data)\n        .catch((error) => console.warn('Something went wrong.', error));\n};\n", "import { MobJs } from '@mobJs';\nimport { MobTimeline, MobMotionCore, MobTween } from '@mobMotion';\n\nlet scrollY = 0;\n\nMobJs.beforeRouteChange(() => {\n    scrollY = window.scrollY;\n});\n\n/**\n * @type {import('@mobJsType').BeforePageTransition}\n */\nexport const beforePageTransition = async ({ oldNode }) => {\n    oldNode.classList.remove('current-route');\n    oldNode.classList.add('fake-content');\n    oldNode.style.position = 'fixed';\n    oldNode.style.zIndex = '10';\n    oldNode.style.top = 'var(--header-height)';\n    oldNode.style.left = '0';\n    oldNode.style.width = '100vw';\n    oldNode.style.transform = `translate(calc(var(--header-height) / 2), -${scrollY}px)`;\n    oldNode.style.minHeight =\n        'calc(100vh - var(--header-height) - var(--footer-height))';\n};\n\n/**\n * @type {import('@mobJsType').PageTransition}\n */\nexport const pageTransition = async ({\n    oldNode,\n    newNode,\n    oldRoute,\n    newRoute,\n}) => {\n    if (MobMotionCore.mq('max', 'desktop') || oldRoute === newRoute) return;\n\n    /** @type {HTMLElement} */ (newNode).style.opacity = '0';\n\n    const oldNodeTween = MobTween.createTimeTween({\n        data: { opacity: 1 },\n        duration: 300,\n    });\n\n    const newNodeTween = MobTween.createTimeTween({\n        data: { opacity: 0 },\n        duration: 500,\n    });\n\n    oldNodeTween.subscribe(({ opacity }) => {\n        /** @type {HTMLElement} */ (oldNode).style.opacity = opacity;\n    });\n\n    newNodeTween.subscribe(({ opacity }) => {\n        /** @type {HTMLElement} */ (newNode).style.opacity = opacity;\n    });\n\n    let tl = MobTimeline.createAsyncTimeline({ repeat: 1 })\n        .createGroup({ waitComplete: true })\n        .goTo(oldNodeTween, { opacity: 0 })\n        .goTo(newNodeTween, { opacity: 1 })\n        .closeGroup();\n\n    await tl.play();\n\n    tl.destroy();\n    // @ts-ignore\n    tl = null;\n\n    /** @type {HTMLElement} */ (newNode).style.removeProperty('opacity');\n    /** @type {HTMLElement} */ (newNode).classList.add('current-route');\n};\n", "import { html } from '@mobJs';\n\nexport const pageNotFound = () => {\n    return html`\n        <div class=\"error-page\">\n            <div class=\"error-page__content\">\n                <h1 class=\"error-page__title title-big\">Page not found</h1>\n                <a class=\"error-page__link\" href=\"./#home\">back to home</a>\n            </div>\n        </div>\n    `;\n};\n", "import { MobSmoothScroller } from '@mobMotionPlugin';\n\n/** @type {import('../type').LinksScroller} */\nexport const linksScroller = ({\n    screenElement,\n    scrollerElement,\n    hideControls,\n}) => {\n    const scroller = new MobSmoothScroller({\n        screen: screenElement,\n        scroller: scrollerElement,\n        direction: 'horizontal',\n        drag: true,\n        easeType: 'lerp',\n        breakpoint: 'small',\n        afterInit: ({ shouldScroll }) => {\n            hideControls(shouldScroll);\n        },\n        afterRefresh: ({ shouldScroll }) => {\n            hideControls(shouldScroll);\n        },\n    });\n\n    scroller.init();\n\n    return {\n        destroy: () => {\n            scroller.destroy();\n        },\n    };\n};\n", "import { html } from '@mobJs';\nimport { linksScroller } from './animation/links-scroller';\n\n/**\n * @import {MobComponent} from '@mobJsType';\n */\n\n/**\n * @param {number} index\n * @returns {string}\n */\nconst getCounter = (index) => (index < 10 ? `0${index}` : `${index}`);\n\n/** @type {MobComponent<import('./type').LayoutLinks>} */\nexport const LayoutLinksFn = ({\n    setRef,\n    getRef,\n    onMount,\n    bindEffect,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n\n    onMount(() => {\n        const { screenElement, scrollerElement } = getRef();\n        const { destroy } = linksScroller({\n            screenElement,\n            scrollerElement,\n            hideControls: (value) => {\n                proxi.showControls = value;\n            },\n        });\n\n        /**\n         * Stagger start later, so show path in background later.\n         */\n        setTimeout(() => {\n            proxi.isMounted = true;\n        }, 500);\n\n        return () => {\n            destroy();\n        };\n    });\n\n    return html`<div class=\"l-links\">\n        <div\n            class=\"l-links__under is-white\"\n            ${bindEffect({\n                toggleClass: {\n                    'is-visible': () => proxi.isMounted,\n                },\n            })}\n        >\n            ${proxi.title}\n        </div>\n        <div class=\"l-links__grid\">\n            <div class=\"l-links__row l-links__row\" ${setRef('screenElement')}>\n                <div class=\"l-links__row__white\">\n                    <h6 class=\"l-links__over is-black\">${proxi.title}</h6>\n                </div>\n                <div class=\"l-links__title\">\n                    <h1 class=\"title-big\">${proxi.title}</h1>\n                </div>\n                <div\n                    class=\"l-links__scroller\"\n                    ${setRef('scrollerElement')}\n                    ${bindEffect({\n                        toggleClass: {\n                            'use-drag-cursor': () => proxi.showControls,\n                        },\n                    })}\n                >\n                    <ul class=\"l-links__list\">\n                        ${proxi.items\n                            .map((item, index) => {\n                                return /* HTML */ `\n                                    <li class=\"l-links__list__item\">\n                                        <a\n                                            class=\"l-links__list__link\"\n                                            href=\"${item.url}\"\n                                        >\n                                            <span class=\"l-links__list__counter\"\n                                                >${getCounter(index)}</span\n                                            >\n                                            <span>${item.title}</span>\n                                        </a>\n                                    </li>\n                                `;\n                            })\n                            .join('')}\n                    </ul>\n                </div>\n            </div>\n            <h6\n                class=\"l-links__scroll\"\n                ${bindEffect({\n                    toggleClass: {\n                        active: () => proxi.showControls,\n                    },\n                })}\n            >\n                Scroll or drag\n            </h6>\n        </div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { LayoutLinksFn } from './layout-links';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const LayoutLinks = MobJs.createComponent(\n    /** @type{CreateComponentParams<import ('./type').LayoutLinks>} */\n    ({\n        tag: 'layout-links',\n        component: LayoutLinksFn,\n        exportState: ['title', 'items'],\n        state: {\n            title: () => ({\n                value: '',\n                type: String,\n            }),\n            items: () => ({\n                value: [],\n                type: Array,\n            }),\n            isMounted: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            showControls: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n        child: [],\n    })\n);\n", "import { html, MobJs } from '@mobJs';\nimport { loadJsonContent } from '@utils/utils';\nimport { LayoutLinks } from '@pagesComponent/layout-links/definition';\n\nMobJs.useComponent([LayoutLinks]);\n\n/** @type {import('@mobJsType').PageAsync} */\nexport const layoutLinksPage = async ({ props }) => {\n    const { source } = props;\n    const { data } = await loadJsonContent({ source });\n\n    return html` <div class=\"l-links\">\n        <layout-links\n            ${MobJs.staticProps(\n                /** @type {import('@pagesComponent/layout-links/type').LayoutLinks['state']} */\n                ({\n                    title: data.title,\n                    items: data.items,\n                })\n            )}\n        ></layout-links>\n    </div>`;\n};\n", "// Instance name\nexport const debugComponentName = 'debug_component';\nexport const debugFilterListName = 'debug_filter_list';\nexport const debugOverlayName = 'debug_overlay';\nexport const debugTreeName = 'debug_tree';\nexport const quickNavName = 'quick_nav';\nexport const scrollDownLabelName = 'scroll_down_label';\nexport const scrollToTopName = 'scroll_to_top';\nexport const scrollToName = 'scroll_to';\nexport const headerName = 'header';\nexport const mobNavigationName = 'mob_navigation';\nexport const mobNavigationContainerName = 'mob_navigation_container';\nexport const searchOverlay = 'search_overlay';\nexport const searchOverlayList = 'search_overlay_list';\nexport const searchOverlayHeader = 'search_overlay_header';\n", "import { html, MobJs } from '@mobJs';\nimport { scrollToTopName } from '../../instance-name';\n\n/**\n * @import {MobComponent, SetStateByName} from '@mobJsType';\n * @import {ScrollToTop} from '../scroll-to-top/type';\n */\n\n/** @type {MobComponent} */\nexport const DocContainerFn = ({ onMount }) => {\n    /** @type {SetStateByName<ScrollToTop>} */\n    const setToTopState = MobJs.setStateByName(scrollToTopName);\n\n    onMount(() => {\n        setToTopState('active', true);\n\n        return () => {\n            setToTopState('active', false);\n        };\n    });\n\n    return html`\n        <div class=\"c-doc-container\">\n            <div class=\"c-doc-container__content\">\n                <mobjs-slot name=\"docs\"></mobjs-slot>\n            </div>\n            <div class=\"c-doc-container__side\">\n                <mobjs-slot name=\"section-title-small\"></mobjs-slot>\n                <mobjs-slot name=\"section-title\"></mobjs-slot>\n                <mobjs-slot name=\"section-links\"></mobjs-slot>\n            </div>\n        </div>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { DocContainerFn } from './doc-container';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DocContainer = MobJs.createComponent(\n    /** @type {CreateComponentParams<any>} */\n    ({\n        tag: 'doc-container',\n        component: DocContainerFn,\n    })\n);\n", "import { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent} */\nexport const DocTitleFn = () => {\n    return html`\n        <div class=\"c-doc-title\">\n            <h2><mobjs-slot></mobjs-slot></h2>\n        </div>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { DocTitleFn } from './doc-side';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DocTitle = MobJs.createComponent(\n    /** @type {CreateComponentParams<any>} */\n    ({\n        tag: 'doc-title',\n        component: DocTitleFn,\n        state: {},\n    })\n);\n", "import { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent} */\nexport const DocTitleSmallFn = () => {\n    return html`\n        <div class=\"c-doc-title-small\">\n            <mobjs-slot></mobjs-slot>\n        </div>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { DocTitleSmallFn } from './doc-title-small';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DocsTitleSmall = MobJs.createComponent(\n    /** @type {CreateComponentParams<any>} */\n    ({\n        tag: 'doc-title-small',\n        component: DocTitleSmallFn,\n        state: {},\n    })\n);\n", "import { html } from '@mobJs';\nimport { MobTween } from '@mobMotion';\n\n/** @type {import('@mobJsType').MobComponent<import('./type').Loader>} */\nexport const LoaderFn = ({ onMount, watch, remove, getState }) => {\n    const { position } = getState();\n\n    onMount(({ element }) => {\n        let tweenOut = MobTween.createTimeTween({\n            data: { opacity: 1, scale: 1 },\n            duration: 500,\n        });\n\n        tweenOut.subscribe(({ opacity, scale }) => {\n            element.style.opacity = opacity;\n            element.style.transform = `scale(${scale})`;\n        });\n\n        watch('shouldRemove', async (shouldRemove) => {\n            if (!shouldRemove) return;\n\n            await tweenOut.goTo({ opacity: 0, scale: 0.9 });\n            remove();\n        });\n\n        return () => {\n            tweenOut.destroy();\n            // @ts-ignore\n            tweenOut = null;\n        };\n    });\n\n    return html`\n        <div class=\"c-loader ${position}\">\n            <span class=\"c-loader__inner\"></span>\n        </div>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { LoaderFn } from './loader';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const Loader = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').Loader>} */\n    ({\n        tag: 'mob-loader',\n        component: LoaderFn,\n        exportState: ['position', 'shouldRemove'],\n        state: {\n            shouldRemove: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            position: () => ({\n                value: 'center-viewport',\n                type: String,\n                validate: (val) => {\n                    return ['center-viewport', 'center-component'].includes(\n                        val\n                    );\n                },\n            }),\n        },\n    })\n);\n", "// https://nodejs.org/api/packages.html#packages_writing_dual_packages_while_avoiding_or_minimizing_hazards\nimport HighlightJS from '../lib/core.js';\nexport { HighlightJS };\nexport default HighlightJS;\n", "const IDENT_RE = '[A-Za-z$_][0-9A-Za-z$_]*';\nconst KEYWORDS = [\n  \"as\", // for exports\n  \"in\",\n  \"of\",\n  \"if\",\n  \"for\",\n  \"while\",\n  \"finally\",\n  \"var\",\n  \"new\",\n  \"function\",\n  \"do\",\n  \"return\",\n  \"void\",\n  \"else\",\n  \"break\",\n  \"catch\",\n  \"instanceof\",\n  \"with\",\n  \"throw\",\n  \"case\",\n  \"default\",\n  \"try\",\n  \"switch\",\n  \"continue\",\n  \"typeof\",\n  \"delete\",\n  \"let\",\n  \"yield\",\n  \"const\",\n  \"class\",\n  // JS handles these with a special rule\n  // \"get\",\n  // \"set\",\n  \"debugger\",\n  \"async\",\n  \"await\",\n  \"static\",\n  \"import\",\n  \"from\",\n  \"export\",\n  \"extends\",\n  // It's reached stage 3, which is \"recommended for implementation\":\n  \"using\"\n];\nconst LITERALS = [\n  \"true\",\n  \"false\",\n  \"null\",\n  \"undefined\",\n  \"NaN\",\n  \"Infinity\"\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\nconst TYPES = [\n  // Fundamental objects\n  \"Object\",\n  \"Function\",\n  \"Boolean\",\n  \"Symbol\",\n  // numbers and dates\n  \"Math\",\n  \"Date\",\n  \"Number\",\n  \"BigInt\",\n  // text\n  \"String\",\n  \"RegExp\",\n  // Indexed collections\n  \"Array\",\n  \"Float32Array\",\n  \"Float64Array\",\n  \"Int8Array\",\n  \"Uint8Array\",\n  \"Uint8ClampedArray\",\n  \"Int16Array\",\n  \"Int32Array\",\n  \"Uint16Array\",\n  \"Uint32Array\",\n  \"BigInt64Array\",\n  \"BigUint64Array\",\n  // Keyed collections\n  \"Set\",\n  \"Map\",\n  \"WeakSet\",\n  \"WeakMap\",\n  // Structured data\n  \"ArrayBuffer\",\n  \"SharedArrayBuffer\",\n  \"Atomics\",\n  \"DataView\",\n  \"JSON\",\n  // Control abstraction objects\n  \"Promise\",\n  \"Generator\",\n  \"GeneratorFunction\",\n  \"AsyncFunction\",\n  // Reflection\n  \"Reflect\",\n  \"Proxy\",\n  // Internationalization\n  \"Intl\",\n  // WebAssembly\n  \"WebAssembly\"\n];\n\nconst ERROR_TYPES = [\n  \"Error\",\n  \"EvalError\",\n  \"InternalError\",\n  \"RangeError\",\n  \"ReferenceError\",\n  \"SyntaxError\",\n  \"TypeError\",\n  \"URIError\"\n];\n\nconst BUILT_IN_GLOBALS = [\n  \"setInterval\",\n  \"setTimeout\",\n  \"clearInterval\",\n  \"clearTimeout\",\n\n  \"require\",\n  \"exports\",\n\n  \"eval\",\n  \"isFinite\",\n  \"isNaN\",\n  \"parseFloat\",\n  \"parseInt\",\n  \"decodeURI\",\n  \"decodeURIComponent\",\n  \"encodeURI\",\n  \"encodeURIComponent\",\n  \"escape\",\n  \"unescape\"\n];\n\nconst BUILT_IN_VARIABLES = [\n  \"arguments\",\n  \"this\",\n  \"super\",\n  \"console\",\n  \"window\",\n  \"document\",\n  \"localStorage\",\n  \"sessionStorage\",\n  \"module\",\n  \"global\" // Node.js\n];\n\nconst BUILT_INS = [].concat(\n  BUILT_IN_GLOBALS,\n  TYPES,\n  ERROR_TYPES\n);\n\n/*\nLanguage: JavaScript\nDescription: JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.\nCategory: common, scripting, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/JavaScript\n*/\n\n\n/** @type LanguageFn */\nfunction javascript(hljs) {\n  const regex = hljs.regex;\n  /**\n   * Takes a string like \"<Booger\" and checks to see\n   * if we can find a matching \"</Booger\" later in the\n   * content.\n   * @param {RegExpMatchArray} match\n   * @param {{after:number}} param1\n   */\n  const hasClosingTag = (match, { after }) => {\n    const tag = \"</\" + match[0].slice(1);\n    const pos = match.input.indexOf(tag, after);\n    return pos !== -1;\n  };\n\n  const IDENT_RE$1 = IDENT_RE;\n  const FRAGMENT = {\n    begin: '<>',\n    end: '</>'\n  };\n  // to avoid some special cases inside isTrulyOpeningTag\n  const XML_SELF_CLOSING = /<[A-Za-z0-9\\\\._:-]+\\s*\\/>/;\n  const XML_TAG = {\n    begin: /<[A-Za-z0-9\\\\._:-]+/,\n    end: /\\/[A-Za-z0-9\\\\._:-]+>|\\/>/,\n    /**\n     * @param {RegExpMatchArray} match\n     * @param {CallbackResponse} response\n     */\n    isTrulyOpeningTag: (match, response) => {\n      const afterMatchIndex = match[0].length + match.index;\n      const nextChar = match.input[afterMatchIndex];\n      if (\n        // HTML should not include another raw `<` inside a tag\n        // nested type?\n        // `<Array<Array<number>>`, etc.\n        nextChar === \"<\" ||\n        // the , gives away that this is not HTML\n        // `<T, A extends keyof T, V>`\n        nextChar === \",\"\n        ) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<something>`\n      // Quite possibly a tag, lets look for a matching closing tag...\n      if (nextChar === \">\") {\n        // if we cannot find a matching closing tag, then we\n        // will ignore it\n        if (!hasClosingTag(match, { after: afterMatchIndex })) {\n          response.ignoreMatch();\n        }\n      }\n\n      // `<blah />` (self-closing)\n      // handled by simpleSelfClosing rule\n\n      let m;\n      const afterMatch = match.input.substring(afterMatchIndex);\n\n      // some more template typing stuff\n      //  <T = any>(key?: string) => Modify<\n      if ((m = afterMatch.match(/^\\s*=/))) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<From extends string>`\n      // technically this could be HTML, but it smells like a type\n      // NOTE: This is ugh, but added specifically for https://github.com/highlightjs/highlight.js/issues/3276\n      if ((m = afterMatch.match(/^\\s+extends\\s+/))) {\n        if (m.index === 0) {\n          response.ignoreMatch();\n          // eslint-disable-next-line no-useless-return\n          return;\n        }\n      }\n    }\n  };\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS,\n    literal: LITERALS,\n    built_in: BUILT_INS,\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n\n  // https://tc39.es/ecma262/#sec-literals-numeric-literals\n  const decimalDigits = '[0-9](_?[0-9])*';\n  const frac = `\\\\.(${decimalDigits})`;\n  // DecimalIntegerLiteral, including Annex B NonOctalDecimalIntegerLiteral\n  // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n  const decimalInteger = `0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*`;\n  const NUMBER = {\n    className: 'number',\n    variants: [\n      // DecimalLiteral\n      { begin: `(\\\\b(${decimalInteger})((${frac})|\\\\.)?|(${frac}))` +\n        `[eE][+-]?(${decimalDigits})\\\\b` },\n      { begin: `\\\\b(${decimalInteger})\\\\b((${frac})\\\\b|\\\\.)?|(${frac})\\\\b` },\n\n      // DecimalBigIntegerLiteral\n      { begin: `\\\\b(0|[1-9](_?[0-9])*)n\\\\b` },\n\n      // NonDecimalIntegerLiteral\n      { begin: \"\\\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\\\b\" },\n      { begin: \"\\\\b0[bB][0-1](_?[0-1])*n?\\\\b\" },\n      { begin: \"\\\\b0[oO][0-7](_?[0-7])*n?\\\\b\" },\n\n      // LegacyOctalIntegerLiteral (does not include underscore separators)\n      // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n      { begin: \"\\\\b0[0-7]+n?\\\\b\" },\n    ],\n    relevance: 0\n  };\n\n  const SUBST = {\n    className: 'subst',\n    begin: '\\\\$\\\\{',\n    end: '\\\\}',\n    keywords: KEYWORDS$1,\n    contains: [] // defined later\n  };\n  const HTML_TEMPLATE = {\n    begin: '\\.?html`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'xml'\n    }\n  };\n  const CSS_TEMPLATE = {\n    begin: '\\.?css`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'css'\n    }\n  };\n  const GRAPHQL_TEMPLATE = {\n    begin: '\\.?gql`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'graphql'\n    }\n  };\n  const TEMPLATE_STRING = {\n    className: 'string',\n    begin: '`',\n    end: '`',\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      SUBST\n    ]\n  };\n  const JSDOC_COMMENT = hljs.COMMENT(\n    /\\/\\*\\*(?!\\/)/,\n    '\\\\*/',\n    {\n      relevance: 0,\n      contains: [\n        {\n          begin: '(?=@[A-Za-z]+)',\n          relevance: 0,\n          contains: [\n            {\n              className: 'doctag',\n              begin: '@[A-Za-z]+'\n            },\n            {\n              className: 'type',\n              begin: '\\\\{',\n              end: '\\\\}',\n              excludeEnd: true,\n              excludeBegin: true,\n              relevance: 0\n            },\n            {\n              className: 'variable',\n              begin: IDENT_RE$1 + '(?=\\\\s*(-)|$)',\n              endsParent: true,\n              relevance: 0\n            },\n            // eat spaces (not newlines) so we can find\n            // types or variables\n            {\n              begin: /(?=[^\\n])\\s/,\n              relevance: 0\n            }\n          ]\n        }\n      ]\n    }\n  );\n  const COMMENT = {\n    className: \"comment\",\n    variants: [\n      JSDOC_COMMENT,\n      hljs.C_BLOCK_COMMENT_MODE,\n      hljs.C_LINE_COMMENT_MODE\n    ]\n  };\n  const SUBST_INTERNALS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    HTML_TEMPLATE,\n    CSS_TEMPLATE,\n    GRAPHQL_TEMPLATE,\n    TEMPLATE_STRING,\n    // Skip numbers when they are part of a variable name\n    { match: /\\$\\d+/ },\n    NUMBER,\n    // This is intentional:\n    // See https://github.com/highlightjs/highlight.js/issues/3288\n    // hljs.REGEXP_MODE\n  ];\n  SUBST.contains = SUBST_INTERNALS\n    .concat({\n      // we need to pair up {} inside our subst to prevent\n      // it from ending too early by matching another }\n      begin: /\\{/,\n      end: /\\}/,\n      keywords: KEYWORDS$1,\n      contains: [\n        \"self\"\n      ].concat(SUBST_INTERNALS)\n    });\n  const SUBST_AND_COMMENTS = [].concat(COMMENT, SUBST.contains);\n  const PARAMS_CONTAINS = SUBST_AND_COMMENTS.concat([\n    // eat recursive parens in sub expressions\n    {\n      begin: /(\\s*)\\(/,\n      end: /\\)/,\n      keywords: KEYWORDS$1,\n      contains: [\"self\"].concat(SUBST_AND_COMMENTS)\n    }\n  ]);\n  const PARAMS = {\n    className: 'params',\n    // convert this to negative lookbehind in v12\n    begin: /(\\s*)\\(/, // to match the parms with\n    end: /\\)/,\n    excludeBegin: true,\n    excludeEnd: true,\n    keywords: KEYWORDS$1,\n    contains: PARAMS_CONTAINS\n  };\n\n  // ES6 classes\n  const CLASS_OR_EXTENDS = {\n    variants: [\n      // class Car extends vehicle\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1,\n          /\\s+/,\n          /extends/,\n          /\\s+/,\n          regex.concat(IDENT_RE$1, \"(\", regex.concat(/\\./, IDENT_RE$1), \")*\")\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\",\n          5: \"keyword\",\n          7: \"title.class.inherited\"\n        }\n      },\n      // class Car\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\"\n        }\n      },\n\n    ]\n  };\n\n  const CLASS_REFERENCE = {\n    relevance: 0,\n    match:\n    regex.either(\n      // Hard coded exceptions\n      /\\bJSON/,\n      // Float32Array, OutT\n      /\\b[A-Z][a-z]+([A-Z][a-z]*|\\d)*/,\n      // CSSFactory, CSSFactoryT\n      /\\b[A-Z]{2,}([A-Z][a-z]+|\\d)+([A-Z][a-z]*)*/,\n      // FPs, FPsT\n      /\\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\\d)*([A-Z][a-z]*)*/,\n      // P\n      // single letters are not highlighted\n      // BLAH\n      // this will be flagged as a UPPER_CASE_CONSTANT instead\n    ),\n    className: \"title.class\",\n    keywords: {\n      _: [\n        // se we still get relevance credit for JS library classes\n        ...TYPES,\n        ...ERROR_TYPES\n      ]\n    }\n  };\n\n  const USE_STRICT = {\n    label: \"use_strict\",\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use (strict|asm)['\"]/\n  };\n\n  const FUNCTION_DEFINITION = {\n    variants: [\n      {\n        match: [\n          /function/,\n          /\\s+/,\n          IDENT_RE$1,\n          /(?=\\s*\\()/\n        ]\n      },\n      // anonymous function\n      {\n        match: [\n          /function/,\n          /\\s*(?=\\()/\n        ]\n      }\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    label: \"func.def\",\n    contains: [ PARAMS ],\n    illegal: /%/\n  };\n\n  const UPPER_CASE_CONSTANT = {\n    relevance: 0,\n    match: /\\b[A-Z][A-Z_0-9]+\\b/,\n    className: \"variable.constant\"\n  };\n\n  function noneOf(list) {\n    return regex.concat(\"(?!\", list.join(\"|\"), \")\");\n  }\n\n  const FUNCTION_CALL = {\n    match: regex.concat(\n      /\\b/,\n      noneOf([\n        ...BUILT_IN_GLOBALS,\n        \"super\",\n        \"import\"\n      ].map(x => `${x}\\\\s*\\\\(`)),\n      IDENT_RE$1, regex.lookahead(/\\s*\\(/)),\n    className: \"title.function\",\n    relevance: 0\n  };\n\n  const PROPERTY_ACCESS = {\n    begin: regex.concat(/\\./, regex.lookahead(\n      regex.concat(IDENT_RE$1, /(?![0-9A-Za-z$_(])/)\n    )),\n    end: IDENT_RE$1,\n    excludeBegin: true,\n    keywords: \"prototype\",\n    className: \"property\",\n    relevance: 0\n  };\n\n  const GETTER_OR_SETTER = {\n    match: [\n      /get|set/,\n      /\\s+/,\n      IDENT_RE$1,\n      /(?=\\()/\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      { // eat to avoid empty params\n        begin: /\\(\\)/\n      },\n      PARAMS\n    ]\n  };\n\n  const FUNC_LEAD_IN_RE = '(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)|' + hljs.UNDERSCORE_IDENT_RE + ')\\\\s*=>';\n\n  const FUNCTION_VARIABLE = {\n    match: [\n      /const|var|let/, /\\s+/,\n      IDENT_RE$1, /\\s*/,\n      /=\\s*/,\n      /(async\\s*)?/, // async is optional\n      regex.lookahead(FUNC_LEAD_IN_RE)\n    ],\n    keywords: \"async\",\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      PARAMS\n    ]\n  };\n\n  return {\n    name: 'JavaScript',\n    aliases: ['js', 'jsx', 'mjs', 'cjs'],\n    keywords: KEYWORDS$1,\n    // this will be extended by TypeScript\n    exports: { PARAMS_CONTAINS, CLASS_REFERENCE },\n    illegal: /#(?![$_A-z])/,\n    contains: [\n      hljs.SHEBANG({\n        label: \"shebang\",\n        binary: \"node\",\n        relevance: 5\n      }),\n      USE_STRICT,\n      hljs.APOS_STRING_MODE,\n      hljs.QUOTE_STRING_MODE,\n      HTML_TEMPLATE,\n      CSS_TEMPLATE,\n      GRAPHQL_TEMPLATE,\n      TEMPLATE_STRING,\n      COMMENT,\n      // Skip numbers when they are part of a variable name\n      { match: /\\$\\d+/ },\n      NUMBER,\n      CLASS_REFERENCE,\n      {\n        scope: 'attr',\n        match: IDENT_RE$1 + regex.lookahead(':'),\n        relevance: 0\n      },\n      FUNCTION_VARIABLE,\n      { // \"value\" container\n        begin: '(' + hljs.RE_STARTERS_RE + '|\\\\b(case|return|throw)\\\\b)\\\\s*',\n        keywords: 'return throw case',\n        relevance: 0,\n        contains: [\n          COMMENT,\n          hljs.REGEXP_MODE,\n          {\n            className: 'function',\n            // we have to count the parens to make sure we actually have the\n            // correct bounding ( ) before the =>.  There could be any number of\n            // sub-expressions inside also surrounded by parens.\n            begin: FUNC_LEAD_IN_RE,\n            returnBegin: true,\n            end: '\\\\s*=>',\n            contains: [\n              {\n                className: 'params',\n                variants: [\n                  {\n                    begin: hljs.UNDERSCORE_IDENT_RE,\n                    relevance: 0\n                  },\n                  {\n                    className: null,\n                    begin: /\\(\\s*\\)/,\n                    skip: true\n                  },\n                  {\n                    begin: /(\\s*)\\(/,\n                    end: /\\)/,\n                    excludeBegin: true,\n                    excludeEnd: true,\n                    keywords: KEYWORDS$1,\n                    contains: PARAMS_CONTAINS\n                  }\n                ]\n              }\n            ]\n          },\n          { // could be a comma delimited list of params to a function call\n            begin: /,/,\n            relevance: 0\n          },\n          {\n            match: /\\s+/,\n            relevance: 0\n          },\n          { // JSX\n            variants: [\n              { begin: FRAGMENT.begin, end: FRAGMENT.end },\n              { match: XML_SELF_CLOSING },\n              {\n                begin: XML_TAG.begin,\n                // we carefully check the opening tag to see if it truly\n                // is a tag and not a false positive\n                'on:begin': XML_TAG.isTrulyOpeningTag,\n                end: XML_TAG.end\n              }\n            ],\n            subLanguage: 'xml',\n            contains: [\n              {\n                begin: XML_TAG.begin,\n                end: XML_TAG.end,\n                skip: true,\n                contains: ['self']\n              }\n            ]\n          }\n        ],\n      },\n      FUNCTION_DEFINITION,\n      {\n        // prevent this from getting swallowed up by function\n        // since they appear \"function like\"\n        beginKeywords: \"while if switch catch for\"\n      },\n      {\n        // we have to count the parens to make sure we actually have the correct\n        // bounding ( ).  There could be any number of sub-expressions inside\n        // also surrounded by parens.\n        begin: '\\\\b(?!function)' + hljs.UNDERSCORE_IDENT_RE +\n          '\\\\(' + // first parens\n          '[^()]*(\\\\(' +\n            '[^()]*(\\\\(' +\n              '[^()]*' +\n            '\\\\)[^()]*)*' +\n          '\\\\)[^()]*)*' +\n          '\\\\)\\\\s*\\\\{', // end parens\n        returnBegin:true,\n        label: \"func.def\",\n        contains: [\n          PARAMS,\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1, className: \"title.function\" })\n        ]\n      },\n      // catch ... so it won't trigger the property rule below\n      {\n        match: /\\.\\.\\./,\n        relevance: 0\n      },\n      PROPERTY_ACCESS,\n      // hack: prevents detection of keywords in some circumstances\n      // .keyword()\n      // $keyword = x\n      {\n        match: '\\\\$' + IDENT_RE$1,\n        relevance: 0\n      },\n      {\n        match: [ /\\bconstructor(?=\\s*\\()/ ],\n        className: { 1: \"title.function\" },\n        contains: [ PARAMS ]\n      },\n      FUNCTION_CALL,\n      UPPER_CASE_CONSTANT,\n      CLASS_OR_EXTENDS,\n      GETTER_OR_SETTER,\n      {\n        match: /\\$[(.]/ // relevance booster for a pattern common to JS libs: `$(something)` and `$.something`\n      }\n    ]\n  };\n}\n\nexport { javascript as default };\n", "/**\n * @import {MobComponent} from '@mobJsType';\n * @import {Snippet} from './type';\n */\n\nimport { html } from '@mobJs';\nimport hljs from 'highlight.js/lib/core';\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport { loadTextContent } from '@utils/utils';\n\nhljs.registerLanguage('javascript', javascript);\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.ref\n * @param {string} params.source\n */\nconst loadSnippet = async ({ ref, source }) => {\n    if (!ref) return;\n\n    /**\n     * Get snippet data.\n     */\n    const { success, data } = await loadTextContent({ source });\n    if (!success) {\n        ref.textContent = `something went wrong`;\n        return;\n    }\n\n    /**\n     * Add contento to dom.\n     */\n    ref.textContent = data;\n\n    /**\n     * Apply highlight.\n     */\n    hljs.highlightElement(ref);\n    ref.style.height = '';\n};\n\n/** @type {MobComponent<Snippet>} */\nexport const SnippetFn = ({ onMount, getState, setRef, getRef }) => {\n    const { source, isFull, hasBorder, hasOverflow, numLines } = getState();\n    const isFullClass = isFull ? 'is-full' : '';\n    const hasBorderClass = hasBorder ? 'has-border' : '';\n    const hasOverflowClass = hasOverflow ? 'has-overflow' : '';\n\n    /**\n     * Get pre rem font size. Calculate full size of snippet before load.\n     */\n    const remValue = getComputedStyle(\n        document.documentElement\n    ).getPropertyValue('--snippet-rem-value');\n\n    const lineHeight = getComputedStyle(\n        document.documentElement\n    ).getPropertyValue('--snippet-line-height-value');\n\n    onMount(async () => {\n        const { codeEl } = getRef();\n\n        /**\n         * Async onMount, component should be destroyed. Avoid desconstruct\n         */\n        const stateObject = getState();\n        const awaitLoad = stateObject?.awaitLoad;\n\n        if (awaitLoad) {\n            await loadSnippet({ ref: codeEl, source });\n        } else {\n            loadSnippet({ ref: codeEl, source });\n        }\n\n        return () => {};\n    });\n\n    return html`<div class=\"snippet\">\n        <code class=\"${isFullClass} ${hasBorderClass}\">\n            <pre\n                class=\"${isFullClass} ${hasOverflowClass}\"\n                ${setRef('codeEl')}\n                style=\"height:${numLines *\n                Number(lineHeight) *\n                Number(remValue)}rem;\"\n            >\nLoading snippet ...</pre\n            >\n        </code>\n    </div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { SnippetFn } from './snippet';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const Snippet = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').Snippet>} */\n    ({\n        tag: 'mob-snippet',\n        component: SnippetFn,\n        exportState: [\n            'source',\n            'isFull',\n            'hasOverflow',\n            'hasBorder',\n            'numLines',\n            'awaitLoad',\n        ],\n        state: {\n            source: () => ({\n                value: '',\n                type: String,\n            }),\n            contentIsLoaded: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            isFull: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            hasOverflow: () => ({\n                value: true,\n                type: Boolean,\n            }),\n            hasBorder: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            numLines: () => ({\n                value: 1,\n                type: Number,\n            }),\n            awaitLoad: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "/**\n * @import {MobComponent, UseMethodByName} from '@mobJsType';\n * @import {SpacerAnchor} from './type';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html, MobJs } from '@mobJs';\nimport { isVisibleInViewport } from '@mobCoreUtils';\nimport { scrollToName } from '../../instance-name';\n\n/**\n * @param {object} params\n * @param {string} params.label\n * @returns {boolean}\n */\nfunction hasAnchor({ label }) {\n    return label?.length > 0;\n}\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @param {string} params.label\n * @param {HTMLElement} params.element\n * @param {boolean} params.isSection\n * @param {boolean} params.isNote\n * @returns {Promise<void>}\n */\nconst addItemToScrollComponent = async ({\n    id,\n    label,\n    element,\n    isSection,\n    isNote,\n}) => {\n    // Wait that all components is mounted.\n    await MobJs.tick();\n\n    /** @type {UseMethodByName<import('../scroll-to/type').ScrollTo>} */\n    const methods = MobJs.useMethodByName(scrollToName);\n    methods?.addItem?.({ id, label, element, isSection, isNote });\n\n    if (isVisibleInViewport(element) && !isSection) {\n        methods?.setActiveLabel?.(label);\n    }\n};\n\n/** @type {MobComponent<SpacerAnchor>} */\nexport const SpacerAnchorFn = ({ getState, onMount }) => {\n    const { style, line, id, label, isSection, isNote } = getState();\n    const lineClass = line ? 'spacer--line' : '';\n\n    onMount(({ element }) => {\n        const shouldAddToAnchor = hasAnchor({ label });\n        if (!shouldAddToAnchor) return;\n\n        addItemToScrollComponent({ id, label, element, isSection, isNote });\n\n        const unsubScribeScroll = MobCore.useScrollThrottle(() => {\n            if (isVisibleInViewport(element) && !isSection) {\n                /** @type {UseMethodByName<import('../scroll-to/type').ScrollTo>} */\n                const methods = MobJs.useMethodByName(scrollToName);\n                methods?.setActiveLabel?.(label);\n            }\n        });\n\n        return () => {\n            unsubScribeScroll();\n        };\n    });\n\n    return html`<div id=\"${id}\" class=\"spacer spacer--${style} ${lineClass}\">\n        <span></span>\n    </div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { SpacerAnchorFn } from './spacer-anchor';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const SpacerAnchor = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').SpacerAnchor>} */\n    ({\n        tag: 'mob-spacer',\n        component: SpacerAnchorFn,\n        exportState: ['style', 'line', 'id', 'label', 'isSection', 'isNote'],\n        state: {\n            style: () => ({\n                value: 'x-small',\n                type: String,\n                validate: (val) =>\n                    ['x-small', 'small', 'medium', 'big'].includes(val),\n                strict: true,\n            }),\n            line: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            id: () => ({\n                value: '',\n                type: String,\n            }),\n            label: () => ({\n                value: '',\n                type: String,\n            }),\n            isSection: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            isNote: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "import { offset } from '@mobCoreUtils';\nimport { html } from '@mobJs';\nimport { MobBodyScroll } from '@mobMotionPlugin';\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {AnchorBUtton} from './type';\n */\n\n/** @type {MobComponent<AnchorBUtton>} */\nexport const AnchorButtonFn = ({ getState, delegateEvents }) => {\n    const { content, anchor } = getState();\n\n    return html`<div>\n        <button\n            type=\"button\"\n            class=\"anchor-button\"\n            ${delegateEvents({\n                click: () => {\n                    const target = document.querySelector(anchor);\n                    if (!target) return;\n\n                    // @ts-ignore\n                    const offsetTop = offset(target).top - 50;\n                    MobBodyScroll.to(offsetTop);\n                },\n            })}\n        >\n            ${content}\n            <span class=\"anchor-button__arrow\">\n                <span class=\"anchor-button__arrow__start\"></span>\n                <span class=\"anchor-button__arrow__end\"></span>\n            </span>\n        </button>\n    </div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { AnchorButtonFn } from './anchor-button';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const AnchorButton = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').AnchorBUtton>} */\n    ({\n        tag: 'anchor-button',\n        component: AnchorButtonFn,\n        exportState: ['anchor', 'content'],\n        state: {\n            anchor: () => ({\n                value: '',\n                type: String,\n            }),\n            content: () => ({\n                value: '',\n                type: String,\n            }),\n        },\n    })\n);\n", "import { html } from '@mobJs';\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {List} from './type';\n */\n\n/**\n * @param {object} params\n * @param {Record<'label' | 'url', string>[] | string[]} params.items\n * @param {boolean} [params.links]\n * @returns {string}\n */\nconst getList = ({ items, links }) => {\n    return links\n        ? /** @type{Record<'label' | 'url', string>[]} */ (items)\n              .map(\n                  ({ label, url }) =>\n                      html`<li>\n                          <a href=\"${url}\" class=\"list-links\">\n                              ${label}\n                              <span class=\"list-links__arrow\">\n                                  <span class=\"list-links__arrow__start\"></span>\n                                  <span class=\"list-links__arrow__end\"></span>\n                              </span>\n                          </a>\n                      </li>`\n              )\n              .join('')\n        : items.map((item) => html` <li>${item}</li> `).join('');\n};\n\n/** @type {MobComponent<List>} */\nexport const ListFn = ({ getState }) => {\n    const { style, color, items, links } = getState();\n\n    const colorClass = `is-${color}`;\n    const linksClass = links ? 'use-links' : 'use-default';\n\n    return html`<ul class=\"ul ul--${style} ${colorClass} ${linksClass}\">\n        ${getList({ items, links })}\n    </ul>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { ListFn } from './list';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const List = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').List>} */\n    ({\n        tag: 'mob-list',\n        component: ListFn,\n        exportState: ['style', 'color', 'items', 'dots', 'block', 'links'],\n        state: {\n            style: () => ({\n                value: 'medium',\n                type: String,\n                validate: (val) => ['small', 'medium', 'big'].includes(val),\n                strict: true,\n            }),\n            dots: () => ({\n                value: true,\n                type: Boolean,\n            }),\n            links: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            color: () => ({\n                value: 'black',\n                type: String,\n                validate: (val) => {\n                    return ['white', 'black', 'grey', 'hightlight'].includes(\n                        val\n                    );\n                },\n            }),\n            items: () => ({\n                value: [],\n                type: Array,\n            }),\n        },\n    })\n);\n", "import { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent<import('./type').Paragraph>} */\nexport const ParagraphFn = ({ getState }) => {\n    const { style, color, boxed, note } = getState();\n    const colorClass = color === 'inherit' ? '' : `is-${color}`;\n    const boxedClass = boxed ? `p--boxed` : '';\n    const noteClass = note ? `p--note` : '';\n\n    return html`<p\n        class=\"p p--${style} ${boxedClass} ${noteClass} ${colorClass}\"\n    >\n        <mobjs-slot></mobjs-slot>\n    </p>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { ParagraphFn } from './paragraph';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const Paragraph = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').Paragraph>} */\n    ({\n        tag: 'mob-paragraph',\n        component: ParagraphFn,\n        exportState: ['style', 'color', 'boxed', 'note'],\n        state: {\n            style: () => ({\n                value: 'medium',\n                type: String,\n                validate: (val) => ['small', 'medium', 'big'].includes(val),\n                strict: true,\n            }),\n            color: () => ({\n                value: 'inherit',\n                type: String,\n                validate: (val) => {\n                    return ['inherit', 'white', 'hightlight', 'black'].includes(\n                        val\n                    );\n                },\n            }),\n            boxed: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            note: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "import { html } from '@mobJs';\n\n/**\n * @param {string} [className]\n * @param {boolean} [useTriangle]\n * @returns {string}\n */\nexport const getTrinangle = (className = '', useTriangle = true) => {\n    if (!useTriangle) return '';\n\n    return html`\n        <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n        <svg\n            width=\"685.75171\"\n            height=\"641.88232\"\n            viewBox=\"0 0 181.43847 169.83136\"\n            version=\"1.1\"\n            id=\"svg5\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:svg=\"http://www.w3.org/2000/svg\"\n            class=\"${className}\"\n        >\n            <g id=\"layer1\" transform=\"translate(0.29348888,0.2718794)\">\n                <path\n                    id=\"path1107\"\n                    transform=\"matrix(-0.26371722,0.02139075,-0.02139075,-0.26371722,201.63975,129.69612)\"\n                    d=\"M 719.78423,551.21438 37.632123,494.16328 772.89469,-88.468152 Z\"\n                />\n            </g>\n        </svg>\n    `;\n};\n", "import { outerHeight } from '@mobCoreUtils';\nimport { MobJs } from '@mobJs';\nimport { MobScroll } from '@mobMotion';\nimport { headerName } from 'src/js/component/instance-name';\n\n/**\n * @type {import('../type').SectionPinAnimation}\n */\nexport const sectionPinAnimation = ({ element }) => {\n    const container = /** @type {HTMLElement} */ (\n        element.closest('.html-content')\n    );\n\n    /** @type {import('@mobJsType').UseMethodByName<import('@layoutComponent/header/type').Header>} */\n    const headerMethods = MobJs.useMethodByName(headerName);\n\n    let scroller = MobScroll.createScrollTrigger({\n        item: element,\n        trigger: container,\n        dynamicStart: {\n            position: 'bottom',\n            value: () => {\n                return window.innerHeight - headerMethods.getHeaderHeight();\n            },\n        },\n        dynamicEnd: {\n            position: 'top',\n            value: () => {\n                return headerMethods.getHeaderHeight() - outerHeight(container);\n            },\n        },\n        pin: true,\n        animatePin: true,\n        anticipatePinOnLoad: false,\n        forceTranspond: true,\n        onEnter: () => {\n            element.classList.add('pinned');\n        },\n        onEnterBack: () => {\n            element.classList.add('pinned');\n        },\n        onLeave: () => {\n            element.classList.remove('pinned');\n        },\n        onLeaveBack: () => {\n            element.classList.remove('pinned');\n        },\n    });\n\n    scroller.init();\n\n    return {\n        destroy: () => {\n            scroller.destroy();\n            // @ts-ignore\n            scroller = null;\n        },\n    };\n};\n", "import { getTrinangle } from '@componentLibs/utils/get-triangle';\nimport { html, MobJs } from '@mobJs';\nimport { sectionPinAnimation } from './animation/pin-animation';\nimport { MobCore } from '@mobCore';\n\n/**\n * @param {string} tag\n * @returns {string}\n */\nconst shouldUseTrinagle = (tag) => {\n    return tag === `h1` ? getTrinangle() : '';\n};\n\n/**\n * @param {string} index\n * @returns {string}\n */\nconst getIndex = (index) => {\n    return index.length > 0\n        ? html`<span class=\"title-index\">${index}</span>`\n        : ``;\n};\n\nlet currentZindex = 1;\n\nMobJs.beforeRouteChange(() => {\n    currentZindex = 1;\n});\n\n/** @type {import('@mobJsType').MobComponent<import('./type').Title>} */\nexport const TitleFn = ({ onMount, bindEffect, getProxi }) => {\n    const proxi = getProxi();\n\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    let destroy = () => {};\n\n    const colorClass = proxi.color === 'inherit' ? '' : `is-${proxi.color}`;\n    const boldClass = proxi.isBold ? `is-bold` : '';\n    const isSectionClass = proxi.isSection ? `is-section` : '';\n    const useStickyClass = proxi.useSticky ? `use-sticky` : '';\n\n    /**\n     * Each section must have a z-index grater than previous for pin.\n     */\n    if (proxi.isSection) currentZindex++;\n\n    onMount(({ element }) => {\n        /**\n         * Added pin only when page is stable.\n         */\n        const unsubscribeAfterRouteChange = proxi.isSection\n            ? MobJs.afterRouteChange(async () => {\n                  await MobJs.tick();\n\n                  const pinMethods = sectionPinAnimation({\n                      element,\n                  });\n\n                  destroy = pinMethods.destroy;\n              })\n            : () => {};\n\n        /**\n         * Move sticky title before route change\n         */\n        const unsubscribeBeforeRouteChange = MobJs.beforeRouteChange(() => {\n            proxi.hideBeforeRouteChange = true;\n        });\n\n        return () => {\n            unsubscribeAfterRouteChange();\n\n            /**\n             * Destroy after some frame. If title is pinned has time start animate out.\n             */\n            MobCore.useFrameIndex(() => {\n                unsubscribeBeforeRouteChange();\n                destroy();\n                destroy = () => {};\n            }, 20);\n        };\n    });\n\n    return html`<${proxi.tag} class=\"${colorClass} ${boldClass} ${isSectionClass} ${useStickyClass}\"\n            style=\"z-index:${proxi.isSection ? currentZindex : 0};\"\n            ${bindEffect({\n                toggleClass: {\n                    hide: () =>\n                        (proxi.isSection && proxi.navigationIsOpen) ||\n                        proxi.hideBeforeRouteChange,\n                },\n            })}\n        >\n            ${getIndex(proxi.index)}\n            <span class=\"triangle-left\">${shouldUseTrinagle(proxi.tag)}</span>\n            <span class=\"triangle-right\">${shouldUseTrinagle(proxi.tag)}</span>\n            <span class=\"title-content\">\n                <mobjs-slot></mobjs-slot>\n            </span>\n        </${proxi.tag}>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { TitleFn } from './title';\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const Title = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').Title>} */\n    ({\n        tag: 'mob-title',\n        component: TitleFn,\n        exportState: [\n            'useSticky',\n            'index',\n            'isSection',\n            'tag',\n            'color',\n            'isBold',\n        ],\n        bindStore: navigationStore,\n        state: {\n            tag: () => ({\n                value: 'h1',\n                type: String,\n            }),\n            color: () => ({\n                value: 'inherit',\n                type: String,\n                validate: (val) => {\n                    return ['inherit', 'white', 'hightlight', 'black'].includes(\n                        val\n                    );\n                },\n            }),\n            isSection: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            isBold: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            index: () => ({\n                value: '',\n                type: String,\n            }),\n            useSticky: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            hideBeforeRouteChange: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "/**\n * @import {BindProps, MobComponentAsync, StaticProps} from '@mobJsType';\n * @import {HtmlContent} from './type';\n * @import {Loader} from '../loader/type';\n */\n\nimport { getTrinangle } from '@componentLibs/utils/get-triangle';\nimport { html } from '@mobJs';\nimport { loadJsonContent } from '@utils/utils';\n\n/**\n * @param {object} params\n * @param {HtmlContent['state']['data']} params.data\n * @param {StaticProps<any>} params.staticProps\n * @param {boolean} params.awaitLoadSnippet\n * @returns {string}\n */\nconst getComponents = ({ data, staticProps, awaitLoadSnippet }) => {\n    return data\n        .map((item) => {\n            const { component, props, content } = item;\n\n            return html`\n                <${component} ${staticProps({ ...props, awaitLoad: awaitLoadSnippet })}>\n                    ${content ?? ''}\n                </${component}>\n            `;\n        })\n        .join('');\n};\n\n/**\n * @param {object} param\n * @param {string} param.source\n * @param {any} param.data\n */\nconst getData = async ({ source, data }) => {\n    if (data && data.length > 0) return data;\n\n    const { success, data: currentData } = await loadJsonContent({ source });\n    if (!success) return [];\n\n    return currentData.data;\n};\n\n/**\n * @param {object} param\n * @param {any} param.data\n * @param {BindProps<HtmlContent, Loader>} param.bindProps\n */\nconst getLoader = ({ data, bindProps }) => {\n    if (data && data.length > 0) return '';\n\n    return html`\n        <mob-loader\n            ${bindProps({\n                observe: ['contentIsLoaded'],\n                props: ({ contentIsLoaded }) => {\n                    return { shouldRemove: contentIsLoaded };\n                },\n            })}\n        ></mob-loader>\n    `;\n};\n\n/**\n * @type {MobComponentAsync<HtmlContent>}\n */\nexport const HtmlContentFn = async ({\n    getState,\n    setState,\n    staticProps,\n    bindProps,\n    onMount,\n}) => {\n    const { source, data } = getState();\n    const currentData = await getData({ source, data });\n\n    const { awaitLoadSnippet, useTriangle, usePadding } = getState();\n    const usePaddingClass = usePadding ? 'use-padding' : '';\n\n    onMount(async () => {\n        setState('contentIsLoaded', true);\n\n        return () => {};\n    });\n\n    return html`\n        <section class=\"html-content ${usePaddingClass}\">\n            <div>${getTrinangle('html-content__triangle', useTriangle)}</div>\n            ${getLoader({ data, bindProps })}\n            ${getComponents({\n                data: currentData,\n                staticProps,\n                awaitLoadSnippet,\n            })}\n        </section>\n    `;\n};\n", "import { html } from '@mobJs';\nimport { loadTextContent } from '@utils/utils';\n\n/**\n * @param {Object} params\n * @param {import('./type').DocSvg['state']} params.proxi\n */\nconst loadSvg = async ({ proxi }) => {\n    const { success, data } = await loadTextContent({ source: proxi.url });\n    if (!success) {\n        return;\n    }\n\n    proxi.source = data;\n};\n\n/** @type {import('@mobJsType').MobComponent<import('./type').DocSvg>} */\nexport const DocSvgFn = ({ getProxi, invalidate, onMount }) => {\n    const proxi = getProxi();\n\n    onMount(() => {\n        loadSvg({ proxi });\n    });\n\n    return html`\n        <div class=\"c-doc-svg ${proxi.className}\">\n            ${invalidate({\n                observe: () => proxi.source,\n                render: () => proxi.source,\n            })}\n        </div>\n    `;\n};\n", "import { html, MobJs } from '@mobJs';\nimport { DocSvgFn } from './doc-svg';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DocSvg = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DocSvg>} */\n    ({\n        tag: 'doc-svg',\n        component: DocSvgFn,\n        exportState: ['url', 'className'],\n        state: {\n            source: () => ({\n                value: html`<span class=\"c-doc-svg__loading\">\n                    loading image ...\n                </span>`,\n                type: String,\n            }),\n            className: () => ({\n                value: '',\n                type: String,\n            }),\n            url: () => ({\n                value: '',\n                type: String,\n            }),\n        },\n    })\n);\n", "import { Loader } from '@commonComponent/loader/definition';\nimport { Snippet } from '@commonComponent/snippet/definition';\nimport { SpacerAnchor } from '@commonComponent/spacer-anchor/definition';\nimport { AnchorButton } from '@commonComponent/typography/anchor-button/definition';\nimport { List } from '@commonComponent/typography/list/definition';\nimport { Paragraph } from '@commonComponent/typography/paragraph/definition';\nimport { Title } from '@commonComponent/typography/titles/definition';\nimport { MobJs } from '@mobJs';\nimport { HtmlContentFn } from './html-content';\nimport { DocSvg } from '@commonComponent/doc-svg/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const HtmlContent = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').HtmlContent>} */\n    ({\n        tag: 'html-content',\n        component: HtmlContentFn,\n        exportState: [\n            'usePadding',\n            'useTriangle',\n            'source',\n            'data',\n            'awaitLoadSnippet',\n        ],\n        state: {\n            source: () => ({\n                value: '',\n                type: String,\n            }),\n            data: () => ({\n                value: [],\n                type: Array,\n            }),\n            contentIsLoaded: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            awaitLoadSnippet: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            useTriangle: () => ({\n                value: true,\n                type: Boolean,\n            }),\n            usePadding: () => ({\n                value: true,\n                type: Boolean,\n            }),\n        },\n        child: [\n            List,\n            Paragraph,\n            Title,\n            Loader,\n            Snippet,\n            SpacerAnchor,\n            AnchorButton,\n            DocSvg,\n        ],\n    })\n);\n", "import { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent<import('./type').ScrollToButton>} */\nexport const ScrollToButtonFn = ({ bindEffect, getProxi }) => {\n    const proxi = getProxi();\n    const isSectionClass = proxi.isSection ? 'is-section' : '';\n    const isNoteClass = proxi.isNote ? 'is-note' : '';\n\n    return html`\n        <button\n            type=\"button\"\n            class=\"${isSectionClass} ${isNoteClass}\"\n            ${bindEffect({\n                toggleClass: { active: () => proxi.active },\n            })}\n        >\n            <span>${proxi.label}</span>\n        </button>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { ScrollToButtonFn } from './scroll-to-button';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const ScrollToButton = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').ScrollToButton>} */\n    ({\n        tag: 'scroll-to-button',\n        component: ScrollToButtonFn,\n        exportState: ['label', 'active', 'isSection', 'isNote'],\n        state: {\n            label: () => ({\n                value: '',\n                type: String,\n            }),\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            isSection: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            isNote: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "/**\n * @import {MobComponent, ReturnBindProps, DelegateEvents, BindProps} from '@mobJsType';\n * @import {ScrollTo} from './type'\n * @import {ScrollToButton} from './button/type'\n */\n\nimport { offset } from '@mobCoreUtils';\nimport { html } from '@mobJs';\nimport { MobMotionCore } from '@mobMotion';\nimport { MobBodyScroll } from '@mobMotionPlugin';\n\nlet disableObservereffect = false;\n\n/**\n * @param {Object} param\n * @param {DelegateEvents} param.delegateEvents\n * @param {BindProps<ScrollTo, ScrollToButton>} param.bindProps\n * @param {ScrollTo['state']} param.proxi\n * @returns {string}\n */\nfunction getButtons({ delegateEvents, bindProps, proxi }) {\n    return proxi.anchorItems\n        .map((item) => {\n            /**\n             * Skip click if is section title\n             */\n            const delegateEventsFn =\n                item.isSection || item.isNote\n                    ? ''\n                    : delegateEvents({\n                          click: async () => {\n                              const { id: scroll, label, element } = item;\n\n                              const offsetTop =\n                                  scroll === 'start'\n                                      ? 0\n                                      : offset(element).top - 50;\n\n                              /**\n                               * Disable spacerAnchor observer effect during scroll.\n                               */\n                              disableObservereffect = true;\n                              proxi.activeLabel = label;\n                              await MobBodyScroll.to(offsetTop);\n\n                              /**\n                               * Back to enable spacerAnchor observer.\n                               */\n                              disableObservereffect = false;\n                          },\n                      });\n\n            return html`\n                <li>\n                    <scroll-to-button\n                        ${delegateEventsFn}\n                        ${bindProps(\n                            /** @returns {ReturnBindProps<ScrollToButton>} */\n                            () => ({\n                                active: proxi.activeLabel === item.label,\n                                label: item.label,\n                                isSection: item.isSection ?? false,\n                                isNote: item.isNote ?? false,\n                            })\n                        )}\n                    >\n                    </scroll-to-button>\n                </li>\n            `;\n        })\n        .join('');\n}\n\n/** @type {MobComponent<ScrollTo>} */\nexport const ScrollToFn = ({\n    onMount,\n    delegateEvents,\n    bindProps,\n    invalidate,\n    computed,\n    addMethod,\n    updateState,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n\n    addMethod('addItem', ({ id, label, element, isSection, isNote }) => {\n        updateState('anchorItemsToBeComputed', (val) => {\n            return [...val, { id, label, element, isSection, isNote }];\n        });\n    });\n\n    addMethod('setActiveLabel', (label) => {\n        if (disableObservereffect) return;\n        proxi.activeLabel = label;\n    });\n\n    onMount(() => {\n        if (MobMotionCore.mq('max', 'desktop')) return;\n\n        /**\n         * SpacerAnchor add label in different time during render. Use computed to get last array of label completed.\n         */\n        computed(\n            () => proxi.anchorItems,\n            () => proxi.anchorItemsToBeComputed\n        );\n    });\n\n    return html`\n        <div class=\"c-scroll-to\">\n            <ul>\n                ${invalidate({\n                    observe: () => proxi.anchorItems,\n                    render: () => {\n                        return getButtons({\n                            delegateEvents,\n                            bindProps,\n                            proxi,\n                        });\n                    },\n                })}\n            </ul>\n        </div>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { ScrollToButton } from './button/definition';\nimport { ScrollToFn } from './scroll-to';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const ScrollTo = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').ScrollTo>} */\n    ({\n        tag: 'scroll-to',\n        component: ScrollToFn,\n        state: {\n            activeLabel: () => ({\n                value: '',\n                type: String,\n            }),\n            anchorItemsToBeComputed: () => ({\n                value: [],\n                type: Array,\n            }),\n            anchorItems: () => ({\n                value: [],\n                type: Array,\n                transform: (value) => {\n                    return value.toSorted(\n                        function (/** @type {any} */ a, /** @type {any} */ b) {\n                            const { element: elementA } = a;\n                            const { element: elementB } = b;\n                            if (elementA === elementB || !elementA || !elementB)\n                                return 0;\n                            if (\n                                elementA.compareDocumentPosition(elementB) & 2\n                            ) {\n                                // b comes before a\n                                return 1;\n                            }\n                            return -1;\n                        }\n                    );\n                },\n            }),\n        },\n        child: [ScrollToButton],\n    })\n);\n", "import { html } from '@mobJs';\n\n/**\n * @param {object} params\n * @param {import('./type').LayoutSidebarAnchorBreadCrumbs[]} params.breadCrumbs\n */\nexport const getBreadCrumbs = ({ breadCrumbs }) =>\n    breadCrumbs\n        .map((item, index) =>\n            index === breadCrumbs.length - 1\n                ? html`<a href=\"${item.url}\" class=\"breadcrumbs__arrow\">\n                          <div class=\"breadcrumbs__arrow__start\"></div>\n                          <div class=\"breadcrumbs__arrow__end\"></div>\n                      </a>\n                      <a class=\"breadcrumbs__link\" href=\"${item.url}\"\n                          >${item.title}</a\n                      >`\n                : html`<a class=\"breadcrumbs__link\" href=\"${item.url}\"\n                      >${item.title}</a\n                  >`\n        )\n        .join('');\n", "import { DocContainer } from '@commonComponent/doc-container/definition';\nimport { DocTitle } from '@commonComponent/doc-title/definition';\nimport { DocsTitleSmall } from '@commonComponent/doc-title-small/definition';\nimport { HtmlContent } from '@commonComponent/html-content/definition';\nimport { ScrollTo } from '@commonComponent/scroll-to/definition';\nimport { html, MobJs } from '@mobJs';\nimport { loadJsonContent } from '@utils/utils';\nimport { getBreadCrumbs } from './utils';\nimport { scrollToName } from 'src/js/component/instance-name';\n\nMobJs.useComponent([\n    DocContainer,\n    DocsTitleSmall,\n    ScrollTo,\n    DocTitle,\n    HtmlContent,\n]);\n\n/** @type {import('@mobJsType').PageAsync<{}, import('./type').LayoutSidebarAnchor['props']>} */\nexport const layoutSidebarAnchor = async ({ props }) => {\n    const { source, title, breadCrumbs } = props;\n    const { data } = await loadJsonContent({ source });\n\n    return html` <doc-container>\n        <div>\n            <html-content\n                slot=\"docs\"\n                ${MobJs.staticProps(\n                    /** @type {Partial<import('@commonComponent/html-content/type').HtmlContent['state']>} */\n                    ({\n                        data: data.data,\n                        useMaxWidth: true,\n                    })\n                )}\n            ></html-content>\n            <doc-title-small slot=\"section-title-small\"\n                ><div>\n                    ${getBreadCrumbs({\n                        breadCrumbs,\n                    })}<span>${title}</span>\n                </div></doc-title-small\n            >\n            <scroll-to name=\"${scrollToName}\" slot=\"section-links\"></scroll-to>\n            <doc-title slot=\"section-title\">${title}</doc-title>\n        </div>\n    </doc-container>`;\n};\n", "import { DocContainer } from '@commonComponent/doc-container/definition';\nimport { DocTitle } from '@commonComponent/doc-title/definition';\nimport { DocsTitleSmall } from '@commonComponent/doc-title-small/definition';\nimport { HtmlContent } from '@commonComponent/html-content/definition';\nimport { html, MobJs } from '@mobJs';\nimport { loadJsonContent } from '@utils/utils';\nimport { getBreadCrumbs } from './utils';\n\nMobJs.useComponent([DocContainer, DocsTitleSmall, DocTitle, HtmlContent]);\n\n/** @type {import('@mobJsType').PageAsync} */\nexport const layoutSidebarLinks = async ({ props }) => {\n    const { source, title, breadCrumbs } = props;\n    const { data } = await loadJsonContent({ source });\n\n    return html` <doc-container>\n        <div>\n            <html-content\n                slot=\"docs\"\n                ${MobJs.staticProps(\n                    /** @type {Partial<import('@commonComponent/html-content/type').HtmlContent['state']>} */\n                    ({\n                        data: data.data,\n                        useMaxWidth: true,\n                    })\n                )}\n            ></html-content>\n            <doc-title-small slot=\"section-title-small\"\n                ><div>\n                    ${getBreadCrumbs({\n                        breadCrumbs,\n                    })}<span>${title}</span>\n                </div></doc-title-small\n            >\n            <doc-title slot=\"section-title\">${title}</doc-title>\n        </div>\n    </doc-container>`;\n};\n", "import { MobScroll, MobTween } from '@mobMotion';\n\n/** @type {import('../type').InspirationAnimation} */\nexport const inspirationAnimation = ({\n    weakInspirationitem,\n    weakSectio4Title,\n}) => {\n    let masterSequencer = MobTween.createMasterSequencer();\n\n    // Title animation\n    let titleSequencer = MobTween.createSequencer({\n        data: {\n            xTitle: 400,\n        },\n    });\n\n    titleSequencer.goTo({ xTitle: 0 }, { start: 0, end: 10 });\n\n    titleSequencer.subscribe(({ xTitle }) => {\n        if (!weakSectio4Title.deref()) return;\n\n        // @ts-ignore\n        weakSectio4Title.deref().style.transform = `translate3D(0,0,0) translateX(${xTitle}px)`;\n    });\n\n    titleSequencer.onStop(({ yTitle, xTitle }) => {\n        if (!weakSectio4Title.deref()) return;\n\n        // @ts-ignore\n        weakSectio4Title.deref().style.transform = ` translate(${xTitle}px, ${yTitle}%)`;\n    });\n\n    masterSequencer.add(titleSequencer);\n\n    // Chips animation\n    const staggers = MobTween.createStaggers({\n        items: weakInspirationitem,\n        stagger: {\n            type: 'end',\n            each: 5,\n            from: 'start',\n        },\n    });\n\n    staggers.forEach(({ item, start, end, index }) => {\n        const sequencer = MobTween.createSequencer({\n            data: { x: 100 + index * 20 },\n        }).goTo({ x: 0, opacity: 1 }, { start, end });\n\n        sequencer.subscribe(({ x }) => {\n            if (!item.deref()) return;\n\n            item.deref().style.transform = `translate3D(0,0,0) translateX(${x}px)`;\n        });\n\n        sequencer.onStop(({ x }) => {\n            if (!item.deref()) return;\n\n            item.deref().style.transform = `translateX(${x}px)`;\n        });\n\n        masterSequencer.add(sequencer);\n    });\n\n    let inspirationScroller = MobScroll.createScrollTrigger({\n        item: weakInspirationitem[0].deref(),\n        propierties: 'tween',\n        tween: masterSequencer,\n        dynamicStart: {\n            position: 'right',\n            value: () => 0,\n        },\n        dynamicEnd: {\n            position: 'left',\n            value: () => window.innerWidth / 2,\n        },\n        ease: false,\n    });\n\n    return {\n        inspirationScroller,\n        titleSequencer,\n        masterSequencer,\n        destroy: () => {\n            inspirationScroller.destroy();\n            // @ts-ignore\n            inspirationScroller = null;\n            titleSequencer.destroy();\n            // @ts-ignore\n            titleSequencer = null;\n            masterSequencer.destroy();\n            // @ts-ignore\n            masterSequencer = null;\n        },\n    };\n};\n", "// https://bennettfeely.com/clippy/\n\nimport { MobCore } from '@mobCore';\nimport { outerWidth } from '@mobCoreUtils';\nimport { MobScroll, MobTimeline, MobTween } from '@mobMotion';\nimport { randomIntFromInterval } from '@utils/utils';\n\n/** @type {import('../type').CreatePathAnimation} */\nexport const createPathAnimation = ({\n    weakPathElement,\n    weakScrollerElement,\n    wrapElement,\n    setActiveItem,\n}) => {\n    /**\n     * Data\n     */\n    const sequencerData = weakPathElement.map(() => {\n        return {\n            ax: 53,\n            ay: 70,\n            bx: 64,\n            by: 80,\n            cx: 89,\n            cy: 87,\n            dx: 100,\n            dy: 100,\n            ex: 0,\n            ey: 100,\n            fx: 10,\n            fy: 77,\n            gx: 17,\n            gy: 84,\n        };\n    });\n\n    const timelineData = {\n        ax: -1,\n        ay: -1,\n        bx: 1,\n        by: 1,\n        cx: -1,\n        cy: -1,\n        dx: 1,\n        dy: 1,\n        ex: 1,\n        ey: 1,\n        fx: -1,\n        fy: -1,\n        gx: 1,\n        gy: 1,\n    };\n\n    /**\n     * Sequencer Scroll shape mutation\n     */\n    let pathSequencer = MobTween.createSequencer({\n        data: { ...sequencerData[0] },\n        stagger: {\n            each: 40,\n            waitComplete: false,\n            from: 'end',\n        },\n    });\n\n    /**\n     * The senquencer is inverted. start from 10.\n     */\n    pathSequencer\n        .goTo(\n            {\n                fy: 90,\n                ay: 90,\n                cy: 70,\n            },\n            { start: 0, end: 3.5 }\n        )\n        .goTo(\n            {\n                gy: 70,\n                by: 80,\n            },\n            { start: 2, end: 5 }\n        )\n        .goTo(\n            {\n                fy: 90,\n                ay: 100,\n                cy: 90,\n            },\n            { start: 4, end: 7.5 }\n        )\n        .goTo(\n            {\n                ay: 120,\n                fy: 80,\n                cy: 80,\n            },\n            { start: 7.5, end: 10 }\n        )\n        .goTo(\n            {\n                gy: 100,\n                by: 100,\n            },\n            { start: 6, end: 10 }\n        )\n\n        /*\n         * Snap to the nearest section based on scroll direction\n         */\n        .add(() => {\n            setActiveItem(1);\n        }, 0)\n        .add(({ direction, isForced }) => {\n            if (isForced || direction === 'forward') return;\n            setActiveItem(1);\n        }, 2.5)\n        .add(({ direction, isForced }) => {\n            if (isForced || direction === 'backward') return;\n            setActiveItem(2);\n        }, 1)\n        .add(({ direction, isForced }) => {\n            if (isForced || direction === 'forward') return;\n            setActiveItem(2);\n        }, 6)\n        .add(({ direction, isForced }) => {\n            if (isForced || direction === 'backward') return;\n            setActiveItem(3);\n        }, 4.5)\n        .add(({ direction, isForced }) => {\n            if (isForced || direction === 'forward') return;\n            setActiveItem(3);\n        }, 9)\n        .add(({ direction, isForced }) => {\n            if (isForced || direction === 'backward') return;\n            setActiveItem(4);\n        }, 8);\n\n    sequencerData.forEach((item) => {\n        pathSequencer.subscribe(\n            ({ ax, ay, bx, by, cx, cy, dx, dy, ex, ey, fx, fy, gx, gy }) => {\n                item.ax = ax;\n                item.ay = ay;\n                item.bx = bx;\n                item.by = by;\n                item.cx = cx;\n                item.cy = cy;\n                item.dx = dx;\n                item.dy = dy;\n                item.ex = ex;\n                item.ey = ey;\n                item.fx = fx;\n                item.fy = fy;\n                item.gx = gx;\n                item.gy = gy;\n            }\n        );\n    });\n\n    /**\n     * Tween Perpetual movement\n     */\n    let pathTween = MobTween.createTimeTween({\n        data: { ...timelineData },\n    });\n\n    pathTween.subscribe(\n        ({ ax, ay, bx, by, cx, cy, dx, dy, ex, ey, fx, fy, gx, gy }) => {\n            timelineData.ax = ax;\n            timelineData.ay = ay;\n            timelineData.bx = bx;\n            timelineData.by = by;\n            timelineData.cx = cx;\n            timelineData.cy = cy;\n            timelineData.dx = dx;\n            timelineData.dy = dy;\n            timelineData.ex = ex;\n            timelineData.ey = ey;\n            timelineData.fx = fx;\n            timelineData.fy = fy;\n            timelineData.gx = gx;\n            timelineData.gy = gy;\n        }\n    );\n\n    /**\n     * Timeline Loop pathTween\n     */\n    let pathTimeline = MobTimeline.createAsyncTimeline({\n        repeat: -1,\n        yoyo: true,\n        autoSet: false,\n    }).goTo(\n        pathTween,\n        {\n            ax: () => randomIntFromInterval(-3, 3),\n            ay: () => randomIntFromInterval(-3, 3),\n            bx: () => randomIntFromInterval(-3, 3),\n            by: () => randomIntFromInterval(-3, 3),\n            cx: () => randomIntFromInterval(-3, 3),\n            cy: () => randomIntFromInterval(-3, 3),\n            dx: () => 0,\n            dy: () => 0,\n            ex: () => 0,\n            ey: () => 0,\n            fx: () => randomIntFromInterval(-3, 3),\n            fy: () => randomIntFromInterval(-3, 3),\n            gx: () => randomIntFromInterval(-3, 3),\n            gy: () => randomIntFromInterval(-3, 3),\n        },\n        { duration: 3000 }\n    );\n\n    pathTimeline.play();\n\n    /**\n     * Main loop Apply Perpetual + scroll value\n     */\n    let shouldLoop = true;\n    const loop = () => {\n        if (!shouldLoop) return;\n\n        sequencerData.forEach((item, index) => {\n            const a = {\n                x: item.ax + timelineData.ax,\n                y: item.ay + timelineData.ay,\n            };\n\n            const b = {\n                x: item.bx + timelineData.bx,\n                y: item.by + timelineData.by,\n            };\n\n            const c = {\n                x: item.cx + timelineData.cx,\n                y: item.cy + timelineData.cy,\n            };\n\n            const d = {\n                x: item.dx + timelineData.dx,\n                y: item.dy + timelineData.dy,\n            };\n\n            const e = {\n                x: item.ex + timelineData.ex,\n                y: item.ey + timelineData.ey,\n            };\n\n            const f = {\n                x: item.fx + timelineData.fx,\n                y: item.fy + timelineData.fy,\n            };\n\n            const g = {\n                x: item.gx + timelineData.gx,\n                y: item.gy + timelineData.gy,\n            };\n\n            if (!weakPathElement[index].deref()) return;\n\n            weakPathElement[index].deref().style.clipPath =\n                `polygon(${a.x}% ${a.y}%, ${b.x}% ${b.y}%, ${c.x}% ${c.y}%, ${d.x}% ${d.y}%,${e.x}% ${e.y}%,${f.x}% ${f.y}%,${g.x}% ${g.y}%)`;\n        });\n\n        MobCore.useNextFrame(() => loop());\n    };\n\n    MobCore.useFrame(() => loop());\n\n    /**\n     * ScrollTrigger\n     */\n    let pathScroller = MobScroll.createScrollTrigger({\n        item: wrapElement,\n        dynamicStart: {\n            position: 'left',\n            value: () => window.innerWidth,\n        },\n        dynamicEnd: {\n            position: 'right',\n            value: () => {\n                return (\n                    -outerWidth(\n                        weakScrollerElement?.deref() ??\n                            document.createElement('div')\n                    ) + window.innerWidth\n                );\n            },\n        },\n        reverse: true,\n        propierties: 'tween',\n        ease: false,\n        tween: pathSequencer,\n    });\n\n    return {\n        pathScroller,\n        pathSequencer,\n        pathTween,\n        pathTimeline,\n        stopLoop: () => {\n            shouldLoop = false;\n        },\n        destroy: () => {\n            pathScroller.destroy();\n            // @ts-ignore\n            pathScroller = null;\n            pathSequencer.destroy();\n            // @ts-ignore\n            pathSequencer = null;\n            pathTween.destroy();\n            // @ts-ignore\n            pathTween = null;\n            pathTimeline.destroy();\n            // @ts-ignore\n            pathTimeline = null;\n        },\n    };\n};\n", "import { MobScroll, MobTween } from '@mobMotion';\n\n/** @type {import('../type').AboutSection1} */\nexport const aboutSection1 = ({ title_1, title_2 }) => {\n    const title1tween = MobTween.createScrollerTween({\n        from: { y: 0 },\n        to: { y: 30 },\n    });\n\n    title1tween.subscribe(({ y }) => {\n        title_1.style.transform = `translate3d(0,0,0) translate(${0}px, ${y}px)`;\n    });\n\n    title1tween.onStop(({ y }) => {\n        title_1.style.transform = `translate(${0}px, ${y}px)`;\n    });\n\n    const title1parallax = MobScroll.createParallax({\n        item: title_1,\n        propierties: 'tween',\n        tween: title1tween,\n        ease: false,\n        align: 'start',\n    });\n\n    const title2tween = MobTween.createScrollerTween({\n        from: { y: 0 },\n        to: { y: -30 },\n    });\n\n    title2tween.subscribe(({ y }) => {\n        title_2.style.transform = `translate3d(0,0,0) translateY(${y}px)`;\n    });\n\n    title2tween.onStop(({ y }) => {\n        title_2.style.transform = `translateY(${y}px)`;\n    });\n\n    const title2parallax = MobScroll.createParallax({\n        item: title_2,\n        propierties: 'tween',\n        tween: title2tween,\n        ease: false,\n        align: 'start',\n    });\n\n    return {\n        title1parallax,\n        title2parallax,\n        title1tween,\n        title2tween,\n    };\n};\n", "import { MobScroll, MobTween } from '@mobMotion';\n\n/** @type {import('../type').AboutSection2} */\nexport const sectionContentAnimation = ({ title, copy }) => {\n    let sectionContentSequencer = MobTween.createSequencer({\n        data: {\n            yTitle: 100,\n            xTitle: -300,\n            yCopy: -100,\n            opacityTitle: 1,\n            opacityCopy: 1,\n        },\n    });\n\n    sectionContentSequencer\n        .goTo({ yTitle: 0, xTitle: 0, yCopy: 0 }, { start: 0, end: 5 })\n        .goTo({ xTitle: -150 }, { start: 7, end: 10 })\n        .goTo({ opacityTitle: 0, opacityCopy: 0 }, { start: 8.8, end: 10 });\n\n    sectionContentSequencer.subscribe(\n        ({ yTitle, xTitle, yCopy, opacityTitle, opacityCopy }) => {\n            if (!title.deref() || !copy.deref()) return;\n\n            // @ts-ignore\n            title.deref().style.transform = `translate3d(0,0,0) translate(${xTitle}px, ${yTitle}%)`;\n            // @ts-ignore\n            copy.deref().style.transform = `translate3d(0,0,0) translateY(${yCopy}%)`;\n            // @ts-ignore\n            title.deref().style.opacity = opacityTitle;\n            // @ts-ignore\n            copy.deref().style.opacity = opacityCopy;\n        }\n    );\n\n    sectionContentSequencer.onStop(\n        ({ yTitle, xTitle, yCopy, opacityTitle, opacityCopy }) => {\n            if (!title.deref() || !copy.deref()) return;\n\n            // @ts-ignore\n            title.deref().style.transform = `translate(${xTitle}px, ${yTitle}%)`;\n            // @ts-ignore\n            copy.deref().style.transform = `translateY(${yCopy}%)`;\n            // @ts-ignore\n            title.deref().style.opacity = opacityTitle;\n            // @ts-ignore\n            copy.deref().style.opacity = opacityCopy;\n        }\n    );\n\n    let sectionContentScroller = MobScroll.createScrollTrigger({\n        item: title.deref(),\n        dynamicStart: {\n            position: 'right',\n            value: () => 0,\n        },\n        dynamicEnd: {\n            position: 'left',\n            value: () => 0,\n        },\n        ease: false,\n        propierties: 'tween',\n        tween: sectionContentSequencer,\n    });\n\n    return {\n        sectionContentScroller,\n        sectionContentSequencer,\n        destroy: () => {\n            sectionContentScroller.destroy();\n            // @ts-ignore\n            sectionContentScroller = null;\n            sectionContentSequencer.destroy();\n            // @ts-ignore\n            sectionContentSequencer = null;\n        },\n    };\n};\n", "import { MobSmoothScroller } from '@mobMotionPlugin';\nimport { inspirationAnimation } from './inspiration';\nimport { createPathAnimation } from './path-animation';\nimport { aboutSection1 } from './section1';\nimport { sectionContentAnimation } from './section-content';\n\n/** @type {import('../type').AboutScroller} */\nexport const aboutAnimation = ({\n    screenElement,\n    scrollerElement,\n    pathElement,\n    wrapElement,\n    title_1,\n    title_2,\n    section2_title,\n    section2_copy,\n    section3_title,\n    section3_copy,\n    inspirationItem,\n    section4_title,\n    setActiveItem,\n    onScrollEnd,\n    onMove,\n    onSwipe,\n}) => {\n    /**\n     * Garbage collector utils for path svg Prevent path loop inside to not collected\n     */\n    const weakScrollerElement = new WeakRef(scrollerElement);\n    const weakSectio2Title = new WeakRef(section2_title);\n    const weakSectio2Copy = new WeakRef(section2_copy);\n    const weakSectio3Title = new WeakRef(section3_title);\n    const weakSectio3Copy = new WeakRef(section3_copy);\n    const weakSectio4Title = new WeakRef(section4_title);\n    const weakPathElement = pathElement.map((element) => {\n        return new WeakRef(element);\n    });\n    const weakInspirationitem = inspirationItem.map((element) => {\n        return new WeakRef(element);\n    });\n\n    const {\n        pathScroller,\n        pathSequencer,\n        pathTimeline,\n        pathTween,\n        stopLoop,\n        destroy: destroypathAnimation,\n    } = createPathAnimation({\n        weakPathElement,\n        weakScrollerElement,\n        wrapElement,\n        setActiveItem,\n    });\n\n    const { title1parallax, title2parallax, title1tween, title2tween } =\n        aboutSection1({ title_1, title_2 });\n\n    const {\n        sectionContentScroller: sectionContentScroller_1,\n        sectionContentSequencer: section2TitleSequencer_1,\n    } = sectionContentAnimation({\n        title: weakSectio2Title,\n        copy: weakSectio2Copy,\n    });\n\n    const {\n        sectionContentScroller: sectionContentScroller_2,\n        sectionContentSequencer: section2TitleSequencer_2,\n        destroy: destroyContentAnimation,\n    } = sectionContentAnimation({\n        title: weakSectio3Title,\n        copy: weakSectio3Copy,\n    });\n\n    const {\n        inspirationScroller,\n        masterSequencer,\n        titleSequencer,\n        destroy: destroyInspirationAnimation,\n    } = inspirationAnimation({\n        weakInspirationitem,\n        weakSectio4Title,\n    });\n\n    let aboutScroller = new MobSmoothScroller({\n        screen: screenElement,\n        scroller: scrollerElement,\n        direction: 'horizontal',\n        drag: true,\n        easeType: 'spring',\n        breakpoint: 'small',\n        useHorizontalScroll: false,\n        useSwipe: true,\n        revertSwipeDirection: false,\n        children: [\n            pathScroller,\n            title1parallax,\n            title2parallax,\n            sectionContentScroller_1,\n            sectionContentScroller_2,\n            inspirationScroller,\n        ],\n        onUpdate: ({ value }) => {\n            onMove(value);\n            onScrollEnd();\n        },\n        onSwipe: ({ direction }) => {\n            onSwipe(direction);\n        },\n    });\n\n    aboutScroller.init();\n\n    /**\n     * Refresh nav if is coming from menu. TODO: add afterNavigationClose state\n     */\n    setTimeout(() => {\n        aboutScroller?.refresh?.();\n    }, 500);\n\n    return {\n        goTo: (value) => {\n            aboutScroller?.move?.(value).catch(() => {});\n        },\n        destroy: () => {\n            aboutScroller.destroy();\n            // @ts-ignore\n            aboutScroller = null;\n            pathSequencer.destroy();\n            pathScroller.destroy();\n            pathTimeline.destroy();\n            pathTween.destroy();\n            title1parallax.destroy();\n            title2parallax.destroy();\n            title1tween.destroy();\n            title2tween.destroy();\n            sectionContentScroller_1.destroy();\n            section2TitleSequencer_1.destroy();\n            sectionContentScroller_2.destroy();\n            section2TitleSequencer_2.destroy();\n            inspirationScroller.destroy();\n            masterSequencer.destroy();\n            titleSequencer.destroy();\n            stopLoop();\n            destroypathAnimation();\n            destroyContentAnimation();\n            destroyInspirationAnimation();\n        },\n    };\n};\n", "import { MobTween } from '@mobMotion';\n\n/** @type {import('../type').AboutSvgAnimation} */\nexport const aboutSvgAnimation = ({ elements }) => {\n    let svgSpring = MobTween.createSpring({\n        data: { x: 0 },\n        stagger: {\n            each: 5,\n        },\n    });\n\n    const svgs = elements.map((el) => el.querySelector('svg'));\n\n    svgs.forEach((el) => {\n        if (!el) return;\n\n        svgSpring.subscribe(({ x }) => {\n            el.style.transform = `translate3D(0,0,0) translateY(${-x}px)`;\n        });\n\n        svgSpring.onComplete(({ x }) => {\n            el.style.transform = `translateY(${-x}px)`;\n        });\n    });\n\n    return {\n        svgSpring,\n        destroySvgSpring: () => {\n            svgSpring.destroy();\n            // @ts-ignore\n            svgSpring = null;\n        },\n    };\n};\n", "/**\n * @import {BindEffect, DelegateEvents, GetState, MobComponent, SetRef} from '@mobJsType';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { aboutAnimation } from './animation';\nimport { aboutSvgAnimation } from './animation/svg-animation';\n\n/** @type{(value: number) => void} */\nlet _goTo = () => {};\n\n/**\n * @param {number} value\n * @returns {Promise<any>}\n */\nlet moveSvg = (value) => Promise.resolve(value);\nlet moveSvgFromNav = () => {};\n\n/** @type{Record<number, number>} */\nconst goToPercentage = {\n    1: 0,\n    2: 100 / 3 + 3,\n    3: (100 / 3) * 2 + 6,\n    4: 100,\n};\n\n/**\n * @param {object} params\n * @param {SetRef<import('./type').About>} params.setRef\n * @param {GetState<import('./type').About>} params.getState\n */\nconst block01 = ({ setRef, getState }) => {\n    const { titleTop, titleBottom } = getState().block_1;\n\n    return html`\n        <section\n            class=\"l-about__section l-about__section l-about__section--first \"\n        >\n            <div class=\"l-about__section__top has-overflow\">\n                <h1 class=\"title-big\" ${setRef('title_1')}>${titleTop}</h1>\n            </div>\n            <div class=\"l-about__section__bottom has-overflow\">\n                <h1 class=\"title-biggest\" ${setRef('title_2')}>\n                    ${titleBottom}\n                </h1>\n            </div>\n        </section>\n    `;\n};\n\n/**\n * @param {object} params\n * @param {SetRef<import('./type').About>} params.setRef\n * @param {GetState<import('./type').About>} params.getState\n */\nconst block02 = ({ setRef, getState }) => {\n    const { title, copy } = getState().block_2;\n\n    return html`\n        <section class=\"l-about__section\">\n            <div class=\"l-about__section__top has-overflow\">\n                <div class=\"l-about__section__left\"></div>\n                <div class=\"l-about__section__right\">\n                    <h1 class=\"title-biggest\" ${setRef('section2_title')}>\n                        ${title}\n                    </h1>\n                </div>\n            </div>\n            <div class=\"l-about__section__bottom has-overflow\">\n                <div class=\"l-about__section__right\">\n                    <p\n                        class=\"l-about__section__copy paragraph-big\"\n                        ${setRef('section2_copy')}\n                    >\n                        ${copy}\n                    </p>\n                </div>\n            </div>\n        </section>\n    `;\n};\n\n/**\n * @param {object} params\n * @param {SetRef<import('./type').About>} params.setRef\n * @param {GetState<import('./type').About>} params.getState\n */\nconst block03 = ({ setRef, getState }) => {\n    const { title, copy } = getState().block_3;\n\n    return html`\n        <section class=\"l-about__section\">\n            <div class=\"l-about__section__top has-overflow\">\n                <div class=\"l-about__section__left\"></div>\n                <div class=\"l-about__section__right\">\n                    <h1 class=\"title-biggest\" ${setRef('section3_title')}>\n                        ${title}\n                    </h1>\n                </div>\n            </div>\n            <div class=\"l-about__section__bottom has-overflow\">\n                <div class=\"l-about__section__right\">\n                    <p\n                        class=\"l-about__section__copy paragraph-big\"\n                        ${setRef('section3_copy')}\n                    >\n                        ${copy}\n                    </p>\n                </div>\n            </div>\n        </section>\n    `;\n};\n\n/**\n * @param {object} params\n * @param {SetRef<import('./type').About>} params.setRef\n * @param {GetState<import('./type').About>} params.getState\n */\nconst block04 = ({ setRef, getState }) => {\n    const { title, items } = getState().block_4;\n\n    return html`\n        <section class=\"l-about__section l-about__section--last\">\n            <div class=\"l-about__section__top\">\n                <h1 class=\"title-biggest\" ${setRef('section4_title')}>\n                    ${title}\n                </h1>\n            </div>\n            <div class=\"l-about__section__bottom\">\n                <ul class=\"l-about__list\">\n                    ${items\n                        .map((item) => {\n                            return /* HTML */ `\n                                <li ${setRef('inspirationItem')}>${item}</li>\n                            `;\n                        })\n                        .join('')}\n                </ul>\n            </div>\n        </section>\n    `;\n};\n\n/**\n * @param {object} params\n * @param {import('./type').About['state']} params.proxi\n * @param {DelegateEvents} params.delegateEvents\n * @param {BindEffect<import('./type').About>} params.bindEffect\n */\nconst navigation = ({ proxi, delegateEvents, bindEffect }) => {\n    return html`\n        <ul class=\"l-about__nav\">\n            ${proxi.navItem\n                .map(({ index }) => {\n                    return html`\n                        <li class=\"l-about__nav__item\">\n                            <button\n                                class=\"l-about__nav__button\"\n                                ${delegateEvents({\n                                    click: () => {\n                                        _goTo(goToPercentage[index]);\n                                        moveSvgFromNav();\n                                    },\n                                })}\n                            >\n                                <span\n                                    class=\"l-about__nav__dot\"\n                                    ${bindEffect({\n                                        toggleClass: {\n                                            active: () =>\n                                                proxi.activenavItem === index,\n                                        },\n                                    })}\n                                ></span>\n                            </button>\n                        </li>\n                    `;\n                })\n                .join('')}\n        </ul>\n    `;\n};\n\n/**\n * @param {object} params\n * @param {SetRef<import('./type').About>} params.setRef\n * @returns {string}\n */\nconst getShapeTrail = ({ setRef }) => {\n    const items = [...Array.from({ length: 1 }).keys()];\n\n    return html`${items\n        .map(() => {\n            return html`\n                <div\n                    class=\"l-about__shape l-about__shape--back\"\n                    ${setRef('pathElement')}\n                ></div>\n            `;\n        })\n        .join('')}`;\n};\n\n/** @type {MobComponent<import('./type').About>} */\nexport const AboutComponentFn = ({\n    onMount,\n    setRef,\n    getRef,\n    getRefs,\n    getState,\n    bindEffect,\n    delegateEvents,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n    const numberOfSection = 4;\n\n    let freezeOnLag = false;\n\n    onMount(() => {\n        const {\n            screenElement,\n            scrollerElement,\n            wrapElement,\n            title_1,\n            title_2,\n            section2_title,\n            section2_copy,\n            section3_title,\n            section3_copy,\n            section4_title,\n        } = getRef();\n\n        const { inspirationItem, pathElement, svg } = getRefs();\n\n        let startpercent = 0;\n        let isMoving = false;\n        let svgShiftAmount = 0;\n\n        /**\n         * About svg animation\n         */\n        const { svgSpring, destroySvgSpring } = aboutSvgAnimation({\n            elements: svg,\n        });\n\n        /**\n         * Move about svg 1:1 with drag. Stop on fps slowdown.\n         */\n        moveSvg = async (value) => {\n            const shouldStop = MobCore.shouldMakeSomething();\n\n            if (shouldStop || freezeOnLag) {\n                svgSpring.stop();\n                freezeOnLag = true;\n                setTimeout(() => {\n                    freezeOnLag = false;\n                }, 2000);\n\n                return;\n            }\n\n            const valueParsed = -Math.abs(value / 30);\n            await svgSpring.goTo({ x: valueParsed }).catch(() => {});\n        };\n\n        /**\n         * Move about svg from nav handler.\n         */\n        moveSvgFromNav = () => {\n            moveSvg(3000);\n\n            setTimeout(() => {\n                moveSvg(0);\n            }, 500);\n        };\n\n        const { destroy, goTo } = aboutAnimation({\n            screenElement,\n            scrollerElement,\n            pathElement,\n            wrapElement,\n            title_1,\n            title_2,\n            section2_title,\n            section2_copy,\n            section3_title,\n            section3_copy,\n            inspirationItem,\n            section4_title,\n            setActiveItem: (value) => {\n                proxi.activenavItem = value;\n            },\n            onMove: (value) => {\n                if (!isMoving) {\n                    startpercent = value;\n                }\n\n                isMoving = true;\n                svgShiftAmount = startpercent - value;\n                moveSvg(svgShiftAmount);\n            },\n            onSwipe: (direction) => {\n                if (direction === -1) {\n                    proxi.activenavItem -= 1;\n                }\n\n                if (direction === 1) {\n                    proxi.activenavItem += 1;\n                }\n\n                _goTo(goToPercentage[proxi.activenavItem]);\n            },\n            /**\n             * Snap to active item. Debuounce update with 500,s value Scroll to the nearest section based on scroll\n             * direction\n             */\n            onScrollEnd: MobCore.useDebounce(() => {\n                _goTo(goToPercentage[proxi.activenavItem]);\n                isMoving = false;\n                svgShiftAmount = 0;\n                moveSvg(svgShiftAmount);\n            }, 500),\n        });\n\n        /**\n         * Transfer goTo reference to _goTo that is visible by DOM element.\n         */\n        _goTo = goTo;\n\n        return () => {\n            _goTo = () => {};\n            destroy();\n            destroySvgSpring();\n        };\n    });\n\n    return html`<div\n        class=\"l-about\"\n        ${setRef('screenElement')}\n        style=\"--number-of-section:${numberOfSection}\"\n    >\n        <span class=\"l-about__background\">\n            <div\n                class=\"l-about__about-svg l-about__about-svg--bottom\"\n                ${setRef('svg')}\n            >\n                ${proxi.aboutSvg}\n            </div>\n        </span>\n        ${getShapeTrail({ setRef })}\n        <div\n            class=\"l-about__about-svg l-about__about-svg--back\"\n            ${setRef('svg')}\n        >\n            ${proxi.aboutSvg}\n        </div>\n        <div\n            class=\"l-about__shape l-about__shape--front\"\n            ${setRef('pathElement')}\n        >\n            <div class=\"l-about__about-svg l-about__about-svg--front\">\n                ${proxi.aboutSvg}\n            </div>\n        </div>\n        <button\n            type=\"button\"\n            class=\"l-about__arrow l-about__arrow--prev\"\n            ${bindEffect({\n                toggleClass: {\n                    active: () => proxi.activenavItem > 1,\n                },\n            })}\n            ${delegateEvents({\n                click: () => {\n                    proxi.activenavItem -= 1;\n                    _goTo(goToPercentage[proxi.activenavItem]);\n                    moveSvgFromNav();\n                },\n            })}\n        >\n            <span></span>\n        </button>\n        <button\n            type=\"button\"\n            class=\"l-about__arrow l-about__arrow--next\"\n            ${bindEffect({\n                toggleClass: {\n                    active: () => proxi.activenavItem < 4,\n                },\n            })}\n            ${delegateEvents({\n                click: () => {\n                    proxi.activenavItem += 1;\n                    _goTo(goToPercentage[proxi.activenavItem]);\n                    moveSvgFromNav();\n                },\n            })}\n        >\n            <span></span>\n        </button>\n        <h5 class=\"l-about__scroll\">Scroll or drag</h5>\n        <div class=\"l-about__scroller\" ${setRef('scrollerElement')}>\n            <div class=\"l-about__wrap\" ${setRef('wrapElement')}>\n                ${block01({ setRef, getState })}\n                ${block02({ setRef, getState })}\n                ${block03({ setRef, getState })}\n                ${block04({ setRef, getState })}\n            </div>\n        </div>\n        ${navigation({ bindEffect, delegateEvents, proxi })}\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { MobMotionCore } from '@mobMotion';\nimport { AboutComponentFn } from './about';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const AboutComponent = MobJs.createComponent(\n    /** @type{CreateComponentParams<import ('./type').About>} */\n    ({\n        tag: 'about-component',\n        component: AboutComponentFn,\n        exportState: ['block_1', 'block_2', 'block_3', 'block_4', 'aboutSvg'],\n        state: {\n            block_1: () => ({\n                value: {\n                    titleTop: '',\n                    titleBottom: '',\n                },\n                type: 'any',\n            }),\n            block_2: () => ({\n                value: {\n                    title: '',\n                    copy: '',\n                },\n                type: 'any',\n            }),\n            block_3: () => ({\n                value: {\n                    title: '',\n                    copy: '',\n                },\n                type: 'any',\n            }),\n            block_4: () => ({\n                value: {\n                    title: '',\n                    items: [''],\n                },\n                type: 'any',\n            }),\n            aboutSvg: () => ({\n                value: '',\n                type: String,\n            }),\n            navItem: () => ({\n                value: [{ index: 1 }, { index: 2 }, { index: 3 }, { index: 4 }],\n                type: Array,\n            }),\n            activenavItem: () => ({\n                value: 1,\n                type: Number,\n                transform: (value) => {\n                    return MobMotionCore.clamp(value, 1, 4);\n                },\n            }),\n        },\n        child: [],\n    })\n);\n", "import { html, MobJs } from '@mobJs';\nimport { AboutComponent } from '@pagesComponent/about/definition';\nimport { loadJsonContent, loadTextContent } from '@utils/utils';\n\nMobJs.useComponent([AboutComponent]);\n\n/** @type {import('@mobJsType').PageAsync} */\nexport const layoutAbout = async () => {\n    const { data } = await loadJsonContent({\n        source: './data/about/index.json',\n    });\n\n    const { data: aboutSvg } = await loadTextContent({\n        source: './asset/svg/about.svg?v=0.1',\n    });\n\n    return html`<about-component\n        ${MobJs.staticProps(\n            /** @type {import('@pagesComponent/about/type').About['state']} */\n            ({\n                block_1: data.block_1,\n                block_2: data.block_2,\n                block_3: data.block_3,\n                block_4: data.block_4,\n                aboutSvg,\n            })\n        )}\n    ></about-component> `;\n};\n", "//@ts-check\n\nimport { html } from '@mobJs';\n\n/**\n * @import {MobComponent} from '@mobJsType';\n */\n\n/** @type {MobComponent<import('./type').BenchMarkFakeComponent>} */\nexport const BenchMarkFakeComponentFn = ({\n    getProxi,\n    bindObject,\n    delegateEvents,\n    onMount,\n    id,\n    bindEffect,\n}) => {\n    const proxiState = getProxi();\n\n    onMount(() => {\n        return () => {};\n    });\n\n    return html`<div\n        class=\"benchmark-fake\"\n        ${bindEffect({\n            toggleClass: { selected: () => proxiState.isSelected },\n        })}\n    >\n        <div class=\"benchmark-fake__row\">\n            <strong>id:</strong><br />\n            ${id}\n        </div>\n        <div class=\"benchmark-fake__row\">\n            ${bindObject`<strong>index:</strong><br/> ${() => proxiState.index}`}\n        </div>\n        <div class=\"benchmark-fake__row\">\n            ${bindObject`<strong>label:</strong><br/> ${() => proxiState.label}`}\n        </div>\n        <div class=\"benchmark-fake__row\">\n            ${bindObject`<strong>counter: </strong><br/> ${() => proxiState.counter}`}\n        </div>\n        <div class=\"benchmark-fake__row\">\n            <button\n                class=\"benchmark-fake__button\"\n                type=\"button\"\n                ${delegateEvents({\n                    click: () => {\n                        proxiState.isSelected = !proxiState.isSelected;\n                    },\n                })}\n            >\n                Select\n            </button>\n        </div>\n    </div> `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { BenchMarkFakeComponentFn } from './benchmark-fake-component';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const BenchMarkFakeComponent = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').BenchMarkFakeComponent>} */\n    ({\n        tag: 'benchmark-fake-component',\n        component: BenchMarkFakeComponentFn,\n        exportState: ['index', 'counter', 'label'],\n        state: {\n            counter: () => ({\n                value: 0,\n                type: Number,\n            }),\n            label: () => ({\n                value: '',\n                type: String,\n            }),\n            index: () => ({\n                value: 0,\n                type: Number,\n            }),\n            isSelected: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "import { BenchMarkFakeComponent } from '../fake-component/definition';\n\nexport const benchMarkDefinitionPartial = (maxItem = 1001) => ({\n    exportState: ['svg'],\n    state: {\n        counter: () => ({\n            value: 0,\n            type: Number,\n        }),\n        data: () => ({\n            value: [],\n            type: Array,\n            validate: (/** @type {any[]} */ value) => value.length < maxItem,\n            strict: true,\n            skipEqual: false,\n        }),\n        time: () => ({\n            value: 0,\n            type: Number,\n            transform: (/** @type {number} */ value) => Math.round(value),\n            skipEqual: false,\n        }),\n        isLoading: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    },\n    child: [BenchMarkFakeComponent],\n});\n", "//@ts-check\n\nimport { MobCore } from '@mobCore';\nimport { html, MobJs } from '@mobJs';\n\n/**\n * @import {DelegateEvents, SetRef, GetRef,  SetState, UpdateState, GetState, BindEffect} from '@mobJsType';\n */\n\n/**\n * @param {{ label: string }[]} array\n * @returns {{ label: string }[]}\n */\nexport const shuffle = (array) => {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n\n    return array;\n};\n\n/**\n * @param {number} numberOfItem\n * @returns {{ label: string }[]}\n */\nexport const createBenchMarkArray = (numberOfItem) => {\n    const valueSanitized = MobCore.checkType(Number, numberOfItem)\n        ? numberOfItem\n        : 0;\n\n    return [...Array.from({ length: valueSanitized }).keys()].map((i) => ({\n        label: `comp-${i + 1}`,\n    }));\n};\n\n/**\n * @param {object} params\n * @param {SetState<import('../type').BenchMark>} params.setState\n * @param {number} params.value\n * @param {boolean} [params.useShuffle]\n */\nconst setData = async ({ setState, value, useShuffle = false }) => {\n    setState('isLoading', true);\n    await MobJs.tick();\n\n    // await loading class is applied before saturate thread.\n    MobCore.useFrame(() => {\n        MobCore.useNextTick(async () => {\n            const startTime = performance.now();\n            setState(\n                'data',\n                useShuffle\n                    ? shuffle(createBenchMarkArray(value))\n                    : createBenchMarkArray(value)\n            );\n            await MobJs.tick();\n\n            const endTime = performance.now();\n            const difference = endTime - startTime;\n            setState('time', difference);\n            setState('isLoading', false);\n        });\n    });\n};\n\n/**\n * @param {object} params\n * @param {DelegateEvents} params.delegateEvents\n * @param {SetRef<import('../type').BenchMark>} params.setRef\n * @param {GetRef<import('../type').BenchMark>} params.getRef\n * @param {UpdateState<import('../type').BenchMark>} params.updateState\n * @param {GetState<import('../type').BenchMark>} params.getState\n * @param {SetState<import('../type').BenchMark>} params.setState\n * @param {BindEffect<import('../type').BenchMark>} params.bindEffect\n */\nexport const benchMarkListPartial = ({\n    delegateEvents,\n    setRef,\n    getRef,\n    updateState,\n    getState,\n    setState,\n    bindEffect,\n}) => {\n    return html`\n        <div\n            class=\"benchmark__loading\"\n            ${bindEffect({\n                observe: 'isLoading',\n                toggleClass: { active: () => getState().isLoading },\n            })}\n        >\n            generate components\n        </div>\n        <div class=\"benchmark__head__controls\">\n            <input\n                class=\"benchmark__head__input\"\n                type=\"text\"\n                placeholder=\"Number of component\"\n                ${setRef('input')}\n                ${delegateEvents({\n                    keydown: (/** @type {Event} */ event) => {\n                        // @ts-ignore\n                        if (event.keyCode === 13) {\n                            event.preventDefault();\n\n                            const value = Number(\n                                /** @type {HTMLInputElement} */ (event.target)\n                                    ?.value ?? 0\n                            );\n\n                            setData({ setState, value });\n                        }\n                    },\n                })}\n            />\n            <button\n                type=\"button\"\n                class=\"benchmark__head__button\"\n                ${delegateEvents({\n                    click: () => {\n                        const { input } = getRef();\n                        const value = Number(\n                            /** @type {HTMLInputElement} */ (input)?.value ?? 0\n                        );\n\n                        setData({ setState, value });\n                    },\n                })}\n            >\n                Generate components\n            </button>\n            <button\n                type=\"button\"\n                class=\"benchmark__head__button\"\n                ${delegateEvents({\n                    click: () => {\n                        const { data } = getState();\n                        setData({\n                            setState,\n                            value: data.length,\n                            useShuffle: true,\n                        });\n                    },\n                })}\n            >\n                Shuffle array\n            </button>\n            <button\n                type=\"button\"\n                class=\"benchmark__head__button\"\n                ${delegateEvents({\n                    click: () => {\n                        updateState('counter', (value) => value + 1);\n                    },\n                })}\n            >\n                Update counter\n            </button>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { html } from '@mobJs';\nimport { benchMarkListPartial } from '../partials/bench-mark-list-partial';\n\n/**\n * @import {MobComponent, ReturnBindProps} from '@mobJsType';\n */\n\n/** @type {MobComponent<import('../type').BenchMark>} */\nexport const BenchMarkInvalidateFn = ({\n    onMount,\n    delegateEvents,\n    bindText,\n    invalidate,\n    getState,\n    staticProps,\n    setRef,\n    getRef,\n    setState,\n    updateState,\n    bindProps,\n    bindEffect,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n\n    onMount(() => {\n        return () => {\n            // Chorme leak memory with input, maintain reference.\n            getRef()?.input.remove();\n        };\n    });\n\n    return html`<div class=\"benchmark\">\n        <div class=\"benchmark__head\">\n            <h3 class=\"benchmark__head__subtitle\">Invalidate:</h3>\n            <h2 class=\"benchmark__head__title\">\n                Generate components performance\n            </h2>\n            <p>\n                Invalidate a large list of components with 5 reactive elements\n                inside.<br />\n                ( max component <strong>1000</strong> ).\n            </p>\n            ${benchMarkListPartial({\n                setRef,\n                getRef,\n                setState,\n                updateState,\n                delegateEvents,\n                getState,\n                bindEffect,\n            })}\n\n            <div class=\"benchmark__head__time\">\n                ${bindText`components generate in <strong>${'time'}ms</strong>`}\n            </div>\n        </div>\n        <div class=\"benchmark__list\">\n            ${invalidate({\n                observe: () => proxi.data,\n                render: () => {\n                    const { data } = getState();\n\n                    return html`\n                        ${data\n                            .map(({ label }, index) => {\n                                return html`\n                                    <benchmark-fake-component\n                                        ${staticProps(\n                                            /** @type {import('../fake-component/type').BenchMarkFakeComponent['state']} */ ({\n                                                label,\n                                                index,\n                                            })\n                                        )}\n                                        ${bindProps(\n                                            /**\n                                             * @returns {ReturnBindProps<\n                                             *     import('../fake-component/type').BenchMarkFakeComponent\n                                             * >}\n                                             */\n                                            () => ({\n                                                counter: proxi.counter,\n                                            })\n                                        )}\n                                    ></benchmark-fake-component>\n                                `;\n                            })\n                            .join('')}\n                    `;\n                },\n            })}\n        </div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { benchMarkDefinitionPartial } from '../partials/definition-partial';\nimport { BenchMarkInvalidateFn } from './benchmark-invalidate';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const BenchMarkInvalidate = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('../type').BenchMark>} */\n    ({\n        tag: 'benchmark-invalidate',\n        component: BenchMarkInvalidateFn,\n        ...benchMarkDefinitionPartial(),\n    })\n);\n", "import { html } from '@mobJs';\n\nexport const benchMarkGarbagePartial = () => {\n    return html`\n        <p>\n            Generates and updates a large list of components with 5 reactive\n            elements inside.<br />\n            ( max component <strong>1000</strong> ).\n        </p>\n    `;\n};\n", "//@ts-check\n\nimport { html } from '@mobJs';\nimport { benchMarkGarbagePartial } from '../partials/bench-mark-garbage-partial';\nimport { benchMarkListPartial } from '../partials/bench-mark-list-partial';\n\n/**\n * @import {MobComponent, ReturnBindProps} from '@mobJsType';\n * @import {BenchMarkFakeComponent} from '../fake-component/type';\n */\n\n/** @type {MobComponent<import('../type').BenchMark>} */\nexport const BenchMarkRepeatWithKyFn = ({\n    onMount,\n    delegateEvents,\n    bindText,\n    setRef,\n    getRef,\n    getState,\n    setState,\n    updateState,\n    bindProps,\n    repeat,\n    bindEffect,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n\n    onMount(() => {\n        return () => {\n            // Chorme leak memory with input, maintain reference.\n            getRef()?.input.remove();\n        };\n    });\n\n    return html`<div class=\"benchmark\">\n        <div class=\"benchmark__head\">\n            <h3 class=\"benchmark__head__subtitle\">Repeat ( with key ):</h3>\n            <h2 class=\"benchmark__head__title\">\n                Generate components performance\n            </h2>\n            ${benchMarkGarbagePartial()}\n            ${benchMarkListPartial({\n                setRef,\n                getRef,\n                setState,\n                updateState,\n                delegateEvents,\n                getState,\n                bindEffect,\n            })}\n\n            <div class=\"benchmark__head__time\">\n                ${bindText`components generate in <strong>${'time'}ms</strong>`}\n            </div>\n        </div>\n        <div class=\"benchmark__list\">\n            ${repeat({\n                observe: () => proxi.data,\n                useSync: true,\n                key: 'label',\n                render: ({ sync, current }) => {\n                    return html`\n                        <benchmark-fake-component\n                            class=\"old\"\n                            ${bindProps(\n                                /** @returns {ReturnBindProps<BenchMarkFakeComponent>} */\n                                () => ({\n                                    index: current.index,\n                                    label: current.value.label,\n                                    counter: proxi.counter,\n                                })\n                            )}\n                            ${sync()}\n                        >\n                        </benchmark-fake-component>\n                    `;\n                },\n            })}\n        </div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { benchMarkDefinitionPartial } from '../partials/definition-partial';\nimport { BenchMarkRepeatWithKyFn } from './benchmark-repeat-with-key';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const BenchMarkRepeatWithKey = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('../type').BenchMark>} */\n    ({\n        tag: 'benchmark-repeat-key',\n        component: BenchMarkRepeatWithKyFn,\n        ...benchMarkDefinitionPartial(),\n    })\n);\n", "//@ts-check\n\nimport { html } from '@mobJs';\nimport { benchMarkListPartial } from '../partials/bench-mark-list-partial';\n\n/**\n * @import {MobComponent, ReturnBindProps} from '@mobJsType';\n * @import {BenchMarkFakeComponent} from '../fake-component/type';\n */\n\n/** @type {MobComponent<import('../type').BenchMark>} */\nexport const BenchMarkRepeatWithKyFnNested = ({\n    onMount,\n    delegateEvents,\n    bindText,\n    setRef,\n    getRef,\n    getState,\n    setState,\n    updateState,\n    bindProps,\n    repeat,\n    bindObject,\n    bindEffect,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n\n    onMount(() => {\n        return () => {\n            // Chorme leak memory with input, maintain reference.\n            getRef()?.input.remove();\n        };\n    });\n\n    return html`<div class=\"benchmark\">\n        <div class=\"benchmark__head\">\n            <h3 class=\"benchmark__head__subtitle\">\n                Repeat ( nested with key ):\n            </h3>\n            <p class=\"benchmark__head__title\">\n                Repater without component with the same repeater with component\n                inside<br />\n                ( max value <strong>10</strong> ).\n            </p>\n            ${benchMarkListPartial({\n                setRef,\n                getRef,\n                setState,\n                updateState,\n                delegateEvents,\n                getState,\n                bindEffect,\n            })}\n\n            <div class=\"benchmark__head__time\">\n                ${bindText`components generate in <strong>${'time'}ms</strong>`}\n            </div>\n        </div>\n        <div class=\"benchmark__list\">\n            ${repeat({\n                observe: () => proxi.data,\n                key: 'label',\n                useSync: true,\n                render: ({ current }) => {\n                    return html`<div class=\"benchmark__static-item\">\n                        <div class=\"benchmark__static-item__inner\">\n                            ${bindObject`label: ${() => current.value.label}`}\n                        </div>\n                        <div>\n                            ${repeat({\n                                observe: () => proxi.data,\n                                useSync: true,\n                                key: 'label',\n                                render: ({ sync, current }) => {\n                                    return html`\n                                        <benchmark-fake-component\n                                            ${bindProps(\n                                                /** @returns {ReturnBindProps<BenchMarkFakeComponent>} */\n                                                () => ({\n                                                    index: current.index,\n                                                    label: current.value.label,\n                                                    counter: proxi.counter,\n                                                })\n                                            )}\n                                            ${sync()}\n                                        >\n                                        </benchmark-fake-component>\n                                    `;\n                                },\n                            })}\n                        </div>\n                    </div>`;\n                },\n            })}\n        </div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { benchMarkDefinitionPartial } from '../partials/definition-partial';\nimport { BenchMarkRepeatWithKyFnNested } from './benchmark-repeat-with-key-nested';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const BenchMarkRepeatWithKeyNested = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('../type').BenchMark>} */\n    ({\n        tag: 'benchmark-repeat-key-nested',\n        component: BenchMarkRepeatWithKyFnNested,\n        ...benchMarkDefinitionPartial(31),\n    })\n);\n", "//@ts-check\n\nimport { html } from '@mobJs';\nimport { benchMarkGarbagePartial } from '../partials/bench-mark-garbage-partial';\nimport { benchMarkListPartial } from '../partials/bench-mark-list-partial';\n\n/**\n * @import {MobComponent, ReturnBindProps} from '@mobJsType';\n * @import {BenchMarkFakeComponent} from '../fake-component/type';\n */\n\n/** @type {MobComponent<import('../type').BenchMark>} */\nexport const BenchMarkRepeatNoKyFn = ({\n    onMount,\n    delegateEvents,\n    bindText,\n    setRef,\n    getRef,\n    getState,\n    setState,\n    updateState,\n    bindProps,\n    repeat,\n    bindEffect,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n\n    onMount(() => {\n        return () => {\n            // Chorme leak memory with input, maintain reference.\n            getRef()?.input.remove();\n        };\n    });\n\n    return html`<div class=\"benchmark\">\n        <div class=\"benchmark__head\">\n            <h3 class=\"benchmark__head__subtitle\">Repeat ( without key ):</h3>\n            <h2 class=\"benchmark__head__title\">\n                Generate components performance\n            </h2>\n            ${benchMarkGarbagePartial()}\n            ${benchMarkListPartial({\n                setRef,\n                getRef,\n                setState,\n                updateState,\n                delegateEvents,\n                getState,\n                bindEffect,\n            })}\n\n            <div class=\"benchmark__head__time\">\n                ${bindText`components generate in <strong>${'time'}ms</strong>`}\n            </div>\n        </div>\n        <div class=\"benchmark__list\">\n            ${repeat({\n                observe: () => proxi.data,\n                useSync: true,\n                render: ({ sync, current }) => {\n                    return html`\n                        <benchmark-fake-component\n                            ${bindProps(\n                                /** @returns {ReturnBindProps<BenchMarkFakeComponent>} */\n                                () => ({\n                                    index: current.index,\n                                    label: current.value.label,\n                                    counter: proxi.counter,\n                                })\n                            )}\n                            ${sync()}\n                        >\n                        </benchmark-fake-component>\n                    `;\n                },\n            })}\n        </div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { benchMarkDefinitionPartial } from '../partials/definition-partial';\nimport { BenchMarkRepeatNoKyFn } from './benchmark-repeat-no-key';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const BenchMarkRepeatNoKey = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('../type').BenchMark>} */\n    ({\n        tag: 'benchmark-repeat-no-key',\n        component: BenchMarkRepeatNoKyFn,\n        ...benchMarkDefinitionPartial(),\n    })\n);\n", "import { MobCore } from '@mobCore';\n\n/**\n * @import {MobStoreParams, MobStoreReturnType} from \"@mobStoreType\";\n */\n\nexport const externalBenchmarkStore = MobCore.createStore(\n    /** @type {MobStoreParams<import('./type').ExternalStore>} */\n    ({\n        data: () => ({\n            value: [],\n            type: Array,\n            validate: (value) => value.length < 1001,\n            strict: true,\n            skipEqual: false,\n        }),\n        counter: () => ({\n            value: 0,\n            type: Number,\n        }),\n        time: () => ({\n            value: 0,\n            type: Number,\n            transform: (value) => Math.round(value),\n            skipEqual: false,\n        }),\n        isLoading: () => ({\n            value: false,\n            type: Boolean,\n        }),\n    })\n);\n", "//@ts-check\n\nimport { MobCore } from '@mobCore';\nimport { html, MobJs } from '@mobJs';\nimport {\n    createBenchMarkArray,\n    shuffle,\n} from '../partials/bench-mark-list-partial';\nimport { externalBenchmarkStore } from './store';\n\n/**\n * @import {DelegateEvents, SetRef, GetRef, GetState, BindEffect} from '@mobJsType';\n */\n\n/**\n * @param {object} params\n * @param {number} params.value\n * @param {boolean} [params.useShuffle]\n */\nconst setData = async ({ value, useShuffle = false }) => {\n    const { set } = externalBenchmarkStore;\n\n    set('isLoading', true);\n    await MobJs.tick();\n\n    // await loading class is applied before saturate thread.\n    MobCore.useFrame(() => {\n        MobCore.useNextTick(async () => {\n            const startTime = performance.now();\n            set(\n                'data',\n                useShuffle\n                    ? shuffle(createBenchMarkArray(value))\n                    : createBenchMarkArray(value)\n            );\n            await MobJs.tick();\n\n            const endTime = performance.now();\n            const difference = endTime - startTime;\n            set('time', difference);\n            set('isLoading', false);\n        });\n    });\n};\n\n/**\n * @param {object} params\n * @param {DelegateEvents} params.delegateEvents\n * @param {SetRef<import('./type').BenchMarkExternal>} params.setRef\n * @param {GetRef<import('./type').BenchMarkExternal>} params.getRef\n * @param {GetState<import('./type').BenchMarkExternal>} params.getState\n * @param {BindEffect<import('./type').BenchMarkExternal>} params.bindEffect\n */\nexport const benchMarkListExternalPartial = ({\n    delegateEvents,\n    setRef,\n    getRef,\n    getState,\n    bindEffect,\n}) => {\n    const { update } = externalBenchmarkStore;\n\n    return html`\n        <div\n            class=\"benchmark__loading\"\n            ${bindEffect({\n                observe: 'isLoading',\n                toggleClass: { active: () => getState().isLoading },\n            })}\n        >\n            generate components\n        </div>\n        <div class=\"benchmark__head__controls\">\n            <input\n                class=\"benchmark__head__input\"\n                type=\"text\"\n                placeholder=\"Number of component\"\n                ${setRef('input')}\n                ${delegateEvents({\n                    keydown: (/** @type {KeyboardEvent} */ event) => {\n                        if (event.code.toLowerCase() === 'enter') {\n                            event.preventDefault();\n\n                            const value = Number(\n                                /** @type {HTMLInputElement} */ (event.target)\n                                    ?.value ?? 0\n                            );\n\n                            setData({ value });\n                        }\n                    },\n                })}\n            />\n            <button\n                type=\"button\"\n                class=\"benchmark__head__button\"\n                ${delegateEvents({\n                    click: () => {\n                        const { input } = getRef();\n                        const value = Number(\n                            /** @type {HTMLInputElement} */ (input)?.value ?? 0\n                        );\n\n                        setData({ value });\n                    },\n                })}\n            >\n                Generate components\n            </button>\n            <button\n                type=\"button\"\n                class=\"benchmark__head__button\"\n                ${delegateEvents({\n                    click: () => {\n                        const { data } = getState();\n                        setData({\n                            value: data.length,\n                            useShuffle: true,\n                        });\n                    },\n                })}\n            >\n                Shuffle array\n            </button>\n            <button\n                type=\"button\"\n                class=\"benchmark__head__button\"\n                ${delegateEvents({\n                    click: () => {\n                        update('counter', (value) => value + 1);\n                    },\n                })}\n            >\n                Update counter\n            </button>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { html } from '@mobJs';\nimport { benchMarkListExternalPartial } from './bench-mark-list-external-partial';\nimport { externalBenchmarkStore } from './store';\n\n/**\n * @import {MobComponent, ReturnBindProps} from '@mobJsType';\n * @import {BenchMarkFakeComponent} from '../fake-component/type';\n */\n\n/** @type {MobComponent<import('./type').BenchMarkExternal>} */\nexport const BenchMarkRepeatNoKyBindStoreFn = ({\n    onMount,\n    delegateEvents,\n    bindText,\n    setRef,\n    getRef,\n    getState,\n    bindProps,\n    repeat,\n    bindEffect,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n\n    onMount(() => {\n        return () => {\n            getRef()?.input.remove();\n            externalBenchmarkStore.set('data', []);\n            externalBenchmarkStore.set('time', 0);\n        };\n    });\n\n    return html`<div class=\"benchmark\">\n        <div class=\"benchmark__head\">\n            <h3 class=\"benchmark__head__subtitle\">\n                Repeat bind external store ( without key ):\n            </h3>\n            <p class=\"benchmark__head__title\">\n                Use extrernal store as state ( bindStore module ).<br />\n                ( max value <strong>1000</strong> ).\n            </p>\n            ${benchMarkListExternalPartial({\n                setRef,\n                getRef,\n                delegateEvents,\n                getState,\n                bindEffect,\n            })}\n\n            <div class=\"benchmark__head__time\">\n                ${bindText`components generate in <strong>${'time'}ms</strong>`}\n            </div>\n        </div>\n        <div class=\"benchmark__list\">\n            ${repeat({\n                observe: () => proxi.data,\n                useSync: true,\n                afterUpdate: () => {\n                    // externalStore.debug();\n                },\n                render: ({ sync, current }) => {\n                    return html`\n                        <benchmark-fake-component\n                            ${bindProps(\n                                /** @returns {ReturnBindProps<BenchMarkFakeComponent>} */\n                                () => ({\n                                    index: current.index,\n                                    label: current.value.label,\n                                    counter: proxi.counter,\n                                })\n                            )}\n                            ${sync()}\n                        >\n                        </benchmark-fake-component>\n                    `;\n                },\n            })}\n        </div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { BenchMarkFakeComponent } from '../fake-component/definition';\nimport { BenchMarkRepeatNoKyBindStoreFn } from './benchmark-repeat-no-key-bind-store';\nimport { externalBenchmarkStore } from './store';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const BenchMarkRepeatNoKeyBindStore = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').BenchMarkExternal>} */\n    ({\n        tag: 'benchmark-repeat-no-key-bind-store',\n        component: BenchMarkRepeatNoKyBindStoreFn,\n        bindStore: externalBenchmarkStore,\n        state: {},\n        child: [BenchMarkFakeComponent],\n    })\n);\n", "//@ts-check\n\nimport { html } from '@mobJs';\nimport { benchMarkListPartial } from '../partials/bench-mark-list-partial';\n\n/**\n * @import {MobComponent, ReturnBindProps} from '@mobJsType';\n * @import {BenchMarkFakeComponent} from '../fake-component/type';\n */\n\n/** @type {MobComponent<import('../type').BenchMark>} */\nexport const BenchMarkRepeatWithNoKeyFnNested = ({\n    onMount,\n    delegateEvents,\n    bindText,\n    setRef,\n    getRef,\n    getState,\n    setState,\n    updateState,\n    bindProps,\n    repeat,\n    bindObject,\n    bindEffect,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n\n    onMount(() => {\n        return () => {\n            // Chorme leak memory with input, maintain reference.\n            getRef()?.input.remove();\n        };\n    });\n\n    return html`<div class=\"benchmark\">\n        <div class=\"benchmark__head\">\n            <h3 class=\"benchmark__head__subtitle\">\n                Repeat ( nested without key ):\n            </h3>\n            <p class=\"benchmark__head__title\">\n                Repater without component with the same repeater with component\n                inside<br />\n                ( max value <strong>10</strong> ).\n            </p>\n            ${benchMarkListPartial({\n                setRef,\n                getRef,\n                setState,\n                updateState,\n                delegateEvents,\n                getState,\n                bindEffect,\n            })}\n\n            <div class=\"benchmark__head__time\">\n                ${bindText`components generate in <strong>${'time'}ms</strong>`}\n            </div>\n        </div>\n        <div class=\"benchmark__list\">\n            ${repeat({\n                observe: () => proxi.data,\n                useSync: true,\n                render: ({ current }) => {\n                    return html`<div class=\"benchmark__static-item\">\n                        <div class=\"benchmark__static-item__inner\">\n                            ${bindObject`label: ${() => current.value.label}`}\n                        </div>\n                        <div>\n                            ${repeat({\n                                observe: () => proxi.data,\n                                useSync: true,\n                                render: ({ sync, current }) => {\n                                    return html`\n                                        <benchmark-fake-component\n                                            ${bindProps(\n                                                /** @returns {ReturnBindProps<BenchMarkFakeComponent>} */\n                                                () => ({\n                                                    index: current.index,\n                                                    label: current.value.label,\n                                                    counter: proxi.counter,\n                                                })\n                                            )}\n                                            ${sync()}\n                                        >\n                                        </benchmark-fake-component>\n                                    `;\n                                },\n                            })}\n                        </div>\n                    </div>`;\n                },\n            })}\n        </div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { benchMarkDefinitionPartial } from '../partials/definition-partial';\nimport { BenchMarkRepeatWithNoKeyFnNested } from './benchmark-repeat-with-key-nested';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const BenchMarkRepeatWithNoKeyNested = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('../type').BenchMark>} */\n    ({\n        tag: 'benchmark-repeat-key-no-nested',\n        component: BenchMarkRepeatWithNoKeyFnNested,\n        ...benchMarkDefinitionPartial(31),\n    })\n);\n", "import { html, MobJs } from '@mobJs';\nimport { BenchMarkInvalidate } from '@pagesComponent/benchmark/invalidate/definition';\nimport { BenchMarkRepeatWithKey } from '@pagesComponent/benchmark/repeat-key/definition';\nimport { BenchMarkRepeatWithKeyNested } from '@pagesComponent/benchmark/repeat-key-nested/definition';\nimport { BenchMarkRepeatNoKey } from '@pagesComponent/benchmark/repeat-no-key/definition';\nimport { BenchMarkRepeatNoKeyBindStore } from '@pagesComponent/benchmark/repeat-no-key-bind-store/definition';\nimport { BenchMarkRepeatWithNoKeyNested } from '@pagesComponent/benchmark/repeat-no-key-nested/definition';\n\nMobJs.useComponent([\n    BenchMarkInvalidate,\n    BenchMarkRepeatNoKey,\n    BenchMarkRepeatWithKey,\n    BenchMarkRepeatWithKeyNested,\n    BenchMarkRepeatWithNoKeyNested,\n    BenchMarkRepeatNoKeyBindStore,\n]);\n\n/** @type {import('@mobJsType').PageAsync} */\nexport const benchMark = async ({ props }) => {\n    const { rootComponent } = props;\n    console.log(rootComponent);\n\n    return html`<div class=\"l-benchMark\"><${rootComponent}></${rootComponent}></div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { quickNavName } from '../../instance-name';\n\n/**\n * @import {SetStateByName} from '@mobJsType';\n */\n\n/**\n * @type {import('./type').UpdateQuickNavState}\n */\nexport const updateQuickNavState = ({\n    active = true,\n    nextRoute = '',\n    prevRoute = '',\n    backRoute = '',\n    color = 'white',\n}) => {\n    /** @type {SetStateByName<import('./type').QuickNav>} */\n    const setQuickNavState = MobJs.setStateByName(quickNavName);\n    setQuickNavState('active', active);\n    setQuickNavState('nextRoute', nextRoute);\n    setQuickNavState('prevRoute', prevRoute);\n    setQuickNavState('backRoute', backRoute);\n    setQuickNavState('color', color);\n};\n", "export const canvasBackground = '#e8e8e8';\n\n/**\n * @param {object} params\n * @param {boolean} params.disableOffcanvas\n * @returns {{ useOffscreen: boolean; context: 'bitmaprenderer' | '2d' }}\n */\nexport const getCanvasContext = ({ disableOffcanvas }) => {\n    const useOffscreen = 'OffscreenCanvas' in globalThis && !disableOffcanvas;\n    const context = useOffscreen ? 'bitmaprenderer' : '2d';\n    return { useOffscreen, context };\n};\n\n/**\n * @param {object} params\n * @param {boolean} params.useOffscreen\n * @param {HTMLCanvasElement} params.canvas\n * @returns {{\n *     offscreen: OffscreenCanvas | null;\n *     offScreenCtx: OffscreenCanvasRenderingContext2D | undefined | null;\n * }}\n */\nexport const getOffsetCanvas = ({ useOffscreen, canvas }) => {\n    const offscreen = useOffscreen\n        ? new OffscreenCanvas(canvas.width, canvas.height)\n        : null;\n    const offScreenCtx = useOffscreen ? offscreen?.getContext('2d') : null;\n\n    return { offscreen, offScreenCtx };\n};\n\n/**\n * @param {object} params\n * @param {boolean} params.useOffscreen\n * @param {OffscreenCanvas | null} params.offscreen\n * @param {ImageBitmapRenderingContext | null} params.ctx\n * @returns {void}\n */\nexport const copyCanvasBitmap = ({ useOffscreen, offscreen, ctx }) => {\n    if (useOffscreen && offscreen && ctx) {\n        const bitmap = offscreen.transferToImageBitmap();\n        ctx.transferFromImageBitmap(bitmap);\n    }\n};\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @returns {boolean}\n */\nexport const roundRectIsSupported = (ctx) => 'roundRect' in ctx;\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {number} x\n * @param {number} y\n * @param {number} w\n * @param {number} h\n * @param {number} r\n * @returns {void}\n */\nexport const roundRectCustom = (ctx, x, y, w, h, r) => {\n    if (w < 2 * r) r = w / 2;\n    if (h < 2 * r) r = h / 2;\n    ctx.beginPath();\n    ctx.moveTo(x + r, y);\n    ctx.arcTo(x + w, y, x + w, y + h, r);\n    ctx.arcTo(x + w, y + h, x, y + h, r);\n    ctx.arcTo(x, y + h, x, y, r);\n    ctx.arcTo(x, y, x + w, y, r);\n    ctx.closePath();\n};\n\n/**\n * @type {import('./type').CreateGrid}\n */\nexport const createGrid = ({\n    canvas,\n    numberOfRow,\n    numberOfColumn,\n    cellWidth,\n    cellHeight,\n    gutter,\n}) => {\n    /** @type {import('./type').GridType} */\n    const initValue = { row: 0, col: -1, items: [] };\n\n    return [\n        ...Array.from({\n            length: numberOfRow * numberOfColumn + numberOfRow,\n        }).keys(),\n    ].reduce((previous) => {\n        const { row, col, items: previousItems } = previous;\n        const newCol = col < numberOfColumn ? col + 1 : 0;\n        const newRow = newCol === 0 ? row + 1 : row;\n\n        const x = (cellWidth + gutter) * newCol;\n        const y = (cellHeight + gutter) * newRow;\n\n        return {\n            row: newRow,\n            col: newCol,\n            items: [\n                ...previousItems,\n                {\n                    width: cellWidth,\n                    height: cellHeight,\n                    x,\n                    y,\n                    centerX: x + cellWidth / 2,\n                    centerY: y + cellHeight / 2,\n                    offsetXCenter: getOffsetXCenter({\n                        canvasWidth: canvas.width,\n                        width: cellWidth,\n                        gutter,\n                        numberOfColumn,\n                    }),\n                    offsetYCenter: getOffsetYCenter({\n                        canvasHeight: canvas.height,\n                        height: cellHeight,\n                        gutter,\n                        numberOfRow,\n                    }),\n                    gutter,\n                    numberOfColumn,\n                },\n            ],\n        };\n    }, initValue);\n};\n\n/**\n * @param {object} params\n * @param {number} params.canvasWidth\n * @param {number} params.width\n * @param {number} params.gutter\n * @param {number} params.numberOfColumn\n * @returns {number}\n */\nexport const getOffsetXCenter = ({\n    canvasWidth,\n    width,\n    gutter,\n    numberOfColumn,\n}) => {\n    return (\n        canvasWidth / 2 - ((width + gutter) * numberOfColumn) / 2 - width / 2\n    );\n};\n\n/**\n * @param {object} params\n * @param {number} params.canvasHeight\n * @param {number} params.height\n * @param {number} params.gutter\n * @param {number} params.numberOfRow\n * @returns {number}\n */\nexport const getOffsetYCenter = ({\n    canvasHeight,\n    height,\n    gutter,\n    numberOfRow,\n}) => {\n    return (\n        canvasHeight / 2 -\n        ((height + gutter) * (numberOfRow + 1)) / 2 -\n        height / 2\n    );\n};\n", "//@ts-check\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { MobCore } from '@mobCore';\nimport { MobJs } from '@mobJs';\nimport { MobTimeline, MobTween } from '@mobMotion';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    createGrid,\n    getCanvasContext,\n    getOffsetCanvas,\n    getOffsetXCenter,\n    getOffsetYCenter,\n    roundRectIsSupported,\n} from '@utils/canvas-utils';\n\n/** @type {import('../type').AnimatedPatternN0Animation} */\nexport const animatedPatternN0Animation = ({\n    canvas,\n    numberOfRow,\n    numberOfColumn,\n    cellWidth,\n    cellHeight,\n    gutter,\n    fill,\n    disableOffcanvas,\n    stagger,\n    reorder,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let ctx = canvas.getContext(context, { alpha: false });\n\n    const activeRoute = MobJs.getActiveRoute();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n    let wichContext = useOffscreen ? offScreenCtx : ctx;\n    const useRadius = roundRectIsSupported(\n        /** @type {CanvasRenderingContext2D} */ (wichContext)\n    );\n    wichContext = null;\n\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     * Create basic grid.\n     */\n    let gridData = createGrid({\n        canvas,\n        numberOfRow,\n        numberOfColumn,\n        cellWidth,\n        cellHeight,\n        gutter,\n    }).items;\n\n    /**\n     * Add props to transform. Order byy hasFill, so is like z-index: -1.\n     */\n    let data = reorder\n        ? gridData\n              .map((item, i) => {\n                  return {\n                      ...item,\n                      scale: 1,\n                      rotate: 0,\n                      hasFill: fill.includes(i),\n                  };\n              })\n              .sort((value) => (value.hasFill ? -1 : 1))\n              .reverse()\n        : gridData.map((item, i) => {\n              const hasFill = fill.includes(i);\n              return {\n                  ...item,\n                  scale: 1,\n                  rotate: 0,\n                  hasFill,\n              };\n          });\n\n    /**\n     * Create tween\n     */\n    let gridTween = MobTween.createTimeTween({\n        ease: 'easeInOutQuad',\n        stagger,\n        data: { scale: 1, rotate: 0 },\n    });\n\n    /**\n     * Subscribe to tween\n     */\n    data.forEach((item) => {\n        gridTween.subscribeCache(item, ({ scale, rotate }) => {\n            item.rotate = rotate;\n            item.scale = scale;\n        });\n    });\n\n    /**\n     * Main draw function.\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen && offscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen\n            ? offScreenCtx\n            : /** @type {CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D} */ (\n                  ctx\n              );\n\n        if (!context) return;\n\n        /**\n         * Clear rpevious render.\n         */\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        data.forEach(\n            ({\n                x,\n                y,\n                centerX,\n                centerY,\n                width,\n                height,\n                rotate,\n                scale,\n                hasFill,\n                offsetXCenter,\n                offsetYCenter,\n            }) => {\n                const rotation = (Math.PI / 180) * rotate;\n                const xx = Math.cos(rotation) * scale;\n                const xy = Math.sin(rotation) * scale;\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(\n                    xx,\n                    xy,\n                    -xy,\n                    xx,\n                    Math.round(centerX + offsetXCenter),\n                    Math.round(centerY + offsetYCenter)\n                );\n\n                /**\n                 * Draw.\n                 */\n                if (useRadius) {\n                    context.beginPath();\n                    context.roundRect(\n                        Math.round(-centerX + x),\n                        Math.round(-centerY + y),\n                        width,\n                        height,\n                        5\n                    );\n                } else {\n                    context.beginPath();\n                    context.rect(\n                        Math.round(-centerX + x),\n                        Math.round(-centerY + y),\n                        width,\n                        height\n                    );\n                }\n\n                if (hasFill) {\n                    context.fillStyle = `#000000`;\n                    context.fill();\n                } else {\n                    context.fillStyle = '#fff';\n                    context.fill();\n                    // context.strokeStyle = '#ccc';\n                    // context.stroke();\n                }\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        // @ts-ignore\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Create timeline.\n     */\n    let gridTimeline = MobTimeline.createAsyncTimeline({\n        repeat: -1,\n        yoyo: true,\n        autoSet: false,\n    })\n        .label({ name: 'label1' })\n        .goTo(gridTween, { scale: 1.5, rotate: 90 }, { duration: 1000 })\n        .goTo(gridTween, { scale: 0.5 }, { duration: 500 })\n        .goTo(gridTween, { rotate: 180, scale: 1.2 }, { duration: 500 })\n        .goTo(gridTween, { scale: 1.3 }, { duration: 500 })\n        .goTo(gridTween, { scale: 1 }, { duration: 1200 });\n\n    gridTimeline.onLoopEnd(({ direction, loop }) => {\n        console.log(`loop end: ${direction}, ${loop}`);\n    });\n\n    /**\n     * Start timeline.\n     */\n    gridTimeline.play();\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n\n        if (!isActive) return;\n        MobCore.useNextFrame(() => loop());\n    };\n\n    /**\n     * Start loop.\n     */\n    MobCore.useFrame(() => {\n        loop();\n    });\n\n    const unsubscribeResize = MobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n\n        /**\n         * Update offset position to center grid in canvas.\n         */\n        data.forEach((item) => {\n            const { width, height, gutter, numberOfColumn } = item;\n\n            item.offsetXCenter = getOffsetXCenter({\n                canvasWidth: canvas.width,\n                width,\n                gutter,\n                numberOfColumn,\n            });\n\n            item.offsetYCenter = getOffsetYCenter({\n                canvasHeight: canvas.height,\n                height,\n                gutter,\n                numberOfRow,\n            });\n        });\n\n        /**\n         * Render.\n         */\n        MobCore.useFrame(() => draw());\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('navigationIsOpen', (val) => {\n        if (val) {\n            gridTimeline?.stop();\n            isActive = false;\n            return;\n        }\n\n        setTimeout(async () => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const currentRoute = MobJs.getActiveRoute();\n            if (currentRoute.route !== activeRoute.route) return;\n\n            /**\n             * Restart loop\n             */\n            gridTimeline?.play();\n            MobCore.useFrame(() => loop());\n        }, 500);\n    });\n\n    /**\n     * Destroy.\n     */\n    return () => {\n        gridTween.destroy();\n        gridTimeline.destroy();\n        unsubscribeResize();\n        unWatchPause();\n        // @ts-ignore\n        gridTween = null;\n        // @ts-ignore\n        gridTimeline = null;\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        gridData = [];\n        data = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {AnimatedPatternN0} from './type';\n * @import {AnimationTitle} from '@commonComponent/animation-title/type';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { canvasBackground } from '@utils/canvas-utils';\nimport { animatedPatternN0Animation } from './animation/animation';\n\n/** @type {MobComponent<AnimatedPatternN0>} */\nexport const AnimatedPatternN0Fn = ({\n    onMount,\n    getState,\n    setRef,\n    getRef,\n    bindEffect,\n    getProxi,\n    staticProps,\n}) => {\n    const proxi = getProxi();\n    document.body.style.background = canvasBackground;\n\n    onMount(() => {\n        const { canvas } = getRef();\n\n        const destroyAnimation = animatedPatternN0Animation({\n            canvas,\n            ...getState(),\n        });\n\n        MobCore.useFrame(() => {\n            proxi.isMounted = true;\n        });\n\n        return () => {\n            destroyAnimation();\n            document.body.style.background = '';\n        };\n    });\n\n    return html`\n        <div>\n            <div class=\"c-canvas\">\n                <div\n                    class=\"c-canvas__wrap\"\n                    ${bindEffect({\n                        toggleClass: { active: () => proxi.isMounted },\n                    })}\n                >\n                    <canvas ${setRef('canvas')}></canvas>\n                </div>\n                <animation-title\n                    ${staticProps(\n                        /** @type {AnimationTitle['state']} */ ({\n                            title: 'Animated pattern',\n                            list: ['TimeTween', 'AsyncTimeline'],\n                        })\n                    )}\n                ></animation-title>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {AnimationTitle} from './type';\n */\n\nimport { html } from '@mobJs';\n\n/** @type {MobComponent<AnimationTitle>} */\nexport const AnimationTitleFn = ({ getState }) => {\n    const { title, list } = getState();\n    const listParsed = list ?? [];\n\n    return html`\n        <div>\n            <div class=\"c-animation-title\">\n                <ul class=\"c-animation-title__list\">\n                    ${listParsed\n                        .map((item) => {\n                            return html`<li class=\"c-animation-title__item\">\n                                <h6>${item}</h6>\n                            </li>`;\n                        })\n                        .join('')}\n                </ul>\n                <h2 class=\"c-animation-title__mail\">${title}</h2>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { AnimationTitleFn } from './animation-title';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const AnimationTitle = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').AnimationTitle>} */\n    ({\n        tag: 'animation-title',\n        component: AnimationTitleFn,\n        exportState: ['title', 'list'],\n        state: {\n            title: () => ({\n                value: '',\n                type: String,\n            }),\n            list: () => ({\n                value: [],\n                type: Array,\n            }),\n        },\n    })\n);\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { detectFirefox, detectSafari } from '@utils/utils';\nimport { AnimatedPatternN0Fn } from './animated-pattern-n0';\nimport { AnimationTitle } from '@commonComponent/animation-title/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const AnimatedPatternN0 = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').AnimatedPatternN0>} */\n    ({\n        tag: 'animatedpattern-n0',\n        component: AnimatedPatternN0Fn,\n        exportState: [\n            'numberOfRow',\n            'numberOfColumn',\n            'cellWidth',\n            'cellHeight',\n            'gutter',\n            'fill',\n            'stagger',\n            'reorder',\n            'disableOffcanvas',\n        ],\n        state: {\n            isMounted: false,\n            numberOfRow: () => ({\n                value: 10,\n                type: Number,\n            }),\n            numberOfColumn: () => ({\n                value: 10,\n                type: Number,\n            }),\n            cellWidth: () => ({\n                value: window.innerHeight / 16,\n                type: Number,\n            }),\n            cellHeight: () => ({\n                value: window.innerHeight / 16,\n                type: Number,\n            }),\n            gutter: () => ({\n                value: 1,\n                type: Number,\n            }),\n            fill: () => ({\n                value: [16, 27, 38, 49, 60, 71, 82, 93],\n                type: Array,\n            }),\n            stagger: () => ({\n                value: {\n                    each: 5,\n                    grid: { col: 11, row: 11, direction: 'row' },\n                    waitComplete: false,\n                },\n                type: 'any',\n            }),\n            reorder: () => ({\n                value: true,\n                type: Boolean,\n            }),\n            disableOffcanvas: () => ({\n                value: detectFirefox() || detectSafari() ? true : false,\n                type: Boolean,\n            }),\n        },\n        child: [AnimationTitle],\n    })\n);\n", "export const animatedPatternN0Params = [\n    {\n        animation: {},\n        nav: {\n            prevRoute: '#async-timeline',\n            nextRoute: '#animatedPatternN0?version=1&activeId=1',\n            backRoute: '#canvas-overview',\n        },\n    },\n    {\n        title: 'Animated pattern N.0 v1',\n        animation: {\n            fill: [\n                0, 13, 20, 45, 65, 71, 72, 73, 74, 75, 76, 77, 83, 92, 96, 113,\n                117, 134, 138, 155, 156, 157, 158, 159, 189, 209,\n            ],\n            gutter: 1,\n            numberOfColumn: 20,\n            numberOfRow: 10,\n            cellWidth: window.innerHeight / 18,\n            cellHeight: window.innerHeight / 18,\n            stagger: {\n                each: 2,\n                from: 'random',\n                waitComplete: false,\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#animatedPatternN0?version=0&activeId=0',\n            nextRoute: '#animatedPatternN0?version=2&activeId=2',\n            backRoute: '#canvas-overview',\n        },\n    },\n    {\n        animation: {\n            fill: [\n                0, 13, 20, 45, 65, 71, 72, 73, 74, 75, 76, 77, 83, 92, 96, 113,\n                117, 134, 138, 155, 156, 157, 158, 159, 189, 209,\n            ],\n            gutter: 1,\n            numberOfColumn: 10,\n            numberOfRow: 10,\n            stagger: {\n                each: 10,\n                from: 'edges',\n                waitComplete: false,\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#animatedPatternN0?version=1&activeId=1',\n            nextRoute: '#animatedPatternN0?version=3&activeId=3',\n            backRoute: '#canvas-overview',\n        },\n    },\n    {\n        title: 'Animated pattern N.0 v3',\n        animation: {\n            fill: [],\n            gutter: 1,\n            numberOfColumn: 12,\n            numberOfRow: 13,\n            cellWidth: window.innerHeight / 22,\n            cellHeight: window.innerHeight / 22,\n            stagger: {\n                each: 20,\n                from: { x: 6, y: 6 },\n                grid: {\n                    col: 13,\n                    row: 13,\n                    direction: 'radial',\n                },\n                waitComplete: false,\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#animatedPatternN0?version=2&activeId=2',\n            nextRoute: '#animatedPatternN1',\n            backRoute: '#canvas-overview',\n        },\n    },\n];\n", "import { updateQuickNavState } from '@commonComponent/quick-nav/utils';\nimport { html, MobJs } from '@mobJs';\nimport { AnimatedPatternN0 } from '@pagesComponent/animated-pattern/n0/definition';\nimport { animatedPatternN0Params } from './animated-pattern-n0-params';\n\nMobJs.useComponent([AnimatedPatternN0]);\n\n/** @type {import('@mobJsType').Page} */\nexport const animatedPatternN0 = ({ params }) => {\n    const { version } = params;\n\n    const props =\n        animatedPatternN0Params[\n            Math.max(\n                0,\n                Math.min(Number(version), animatedPatternN0Params.length - 1)\n            )\n        ];\n\n    /** Quicknav */\n    updateQuickNavState({\n        active: true,\n        prevRoute: props.nav.prevRoute,\n        nextRoute: props.nav.nextRoute,\n        backRoute: props.nav.backRoute,\n        color: 'black',\n    });\n\n    return html`<div class=\"l-padding\">\n        <animatedpattern-n0\n            ${MobJs.staticProps(\n                /** @type {import('@pagesComponent/animated-pattern/n0/type').AnimatedPatternN0['state']} */\n                ({\n                    ...props.animation,\n                })\n            )}\n        ></animatedpattern-n0>\n    </div>`;\n};\n", "//@ts-check\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { MobCore } from '@mobCore';\nimport { offset } from '@mobCoreUtils';\nimport { MobJs } from '@mobJs';\nimport { MobMotionCore, MobTimeline, MobTween } from '@mobMotion';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    createGrid,\n    getCanvasContext,\n    getOffsetCanvas,\n    getOffsetXCenter,\n    getOffsetYCenter,\n} from '@utils/canvas-utils';\n\n/** @type {import('../type').AnimatedPatternN1Animation} */\nexport const animatedPatternN1Animation = ({\n    canvas,\n    numberOfRow,\n    numberOfColumn,\n    cellWidth,\n    cellHeight,\n    gutter,\n    fill,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let { top, left } = offset(canvas);\n    let ctx = canvas.getContext(context, { alpha: false });\n\n    const activeRoute = MobJs.getActiveRoute();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     * Create basic grid.\n     */\n    let gridData = createGrid({\n        canvas,\n        numberOfRow,\n        numberOfColumn,\n        cellWidth,\n        cellHeight,\n        gutter,\n    }).items;\n\n    /**\n     * Add props to transform.\n     */\n    let data = gridData\n        .map((item, i) => {\n            return {\n                ...item,\n                scale: 0,\n                mouseX: 0,\n                mouseY: 0,\n                hasFill: fill.includes(i),\n            };\n        })\n        .sort((value) => (value.hasFill ? -1 : 1));\n\n    /**\n     * Create mouse tween.\n     */\n    let centerTween = MobTween.createLerp({\n        data: { mouseX: 0, mouseY: 0 },\n    });\n\n    /**\n     * Subscribe rect to mouse tween.\n     */\n    data.forEach((item) => {\n        centerTween.subscribeCache(item, ({ mouseX, mouseY }) => {\n            item.mouseX = mouseX;\n            item.mouseY = mouseY;\n        });\n    });\n\n    /**\n     * Create tween\n     */\n    let gridTween = MobTween.createTimeTween({\n        ease: 'easeInOutSine',\n        stagger: {\n            each: 5,\n            from: 'center',\n            // grid: { col: 15, row: 7, direction: 'row' },\n            waitComplete: false,\n        },\n        data: { scale: 0 },\n    });\n\n    /**\n     * Subscribe to tween\n     */\n    data.forEach((item) => {\n        gridTween.subscribeCache(item, ({ scale }) => {\n            item.scale = scale;\n        });\n    });\n\n    /**\n     * Main draw function.\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen && offscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen\n            ? offScreenCtx\n            : /** @type {CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D} */ (\n                  ctx\n              );\n\n        if (!context) return;\n\n        /**\n         * Clear rpevious render.\n         */\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        data.forEach(\n            ({\n                x,\n                y,\n                centerX,\n                centerY,\n                width,\n                height,\n                mouseX,\n                mouseY,\n                scale,\n                hasFill,\n                offsetXCenter,\n                offsetYCenter,\n            }) => {\n                /**\n                 * X difference in px form mouse to square.\n                 */\n                const mouseXparsed =\n                    mouseX -\n                    (canvas.width - (width + gutter) * numberOfColumn) / 2;\n\n                /**\n                 * Y difference in px form mouse to square.\n                 */\n                const mouseYparsed =\n                    mouseY -\n                    (canvas.height - (height + gutter) * numberOfRow) / 2;\n\n                /**\n                 * Scale value\n                 */\n                const xScale = (x - mouseXparsed) / 250;\n                const yScale = (y - mouseYparsed) / 250;\n\n                /**\n                 * Scale factor y and x together.\n                 */\n                const delta = Math.sqrt(\n                    Math.pow(Math.abs(xScale), 2) +\n                        Math.pow(Math.abs(yScale), 2)\n                );\n\n                /**\n                 * Clamp scale factor between .1 and 1.\n                 */\n                const scaleFactor = MobMotionCore.clamp(Math.abs(delta), 0, 2);\n\n                /**\n                 * Basic data for setTransform.\n                 */\n                const rotation = 0;\n                const xx = Math.cos(rotation) * (scaleFactor + scale);\n                const xy = Math.sin(rotation) * (scaleFactor + scale);\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(\n                    xx,\n                    xy,\n                    -xy,\n                    xx,\n                    Math.round(centerX + offsetXCenter),\n                    Math.round(centerY + offsetYCenter)\n                );\n\n                /**\n                 * Draw.\n                 */\n                context.beginPath();\n                context.rect(\n                    Math.round(-centerX + x),\n                    Math.round(-centerY + y),\n                    width,\n                    height\n                );\n\n                if (hasFill) {\n                    context.fillStyle = `#000000`;\n                    context.fill();\n                } else {\n                    context.fillStyle = canvasBackground;\n                    context.fill();\n                }\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        // @ts-ignore\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Create timeline.\n     */\n    let gridTimeline = MobTimeline.createAsyncTimeline({\n        repeat: -1,\n        yoyo: true,\n        autoSet: false,\n    }).goTo(gridTween, { scale: 0.3 }, { duration: 1000 });\n\n    /**\n     * Start timeline.\n     */\n    gridTimeline.play();\n\n    /**\n     * @param {object} params\n     * @param {number} params.x\n     * @param {number} params.y\n     * @returns {void}\n     */\n    const move = ({ x, y }) => {\n        centerTween.goTo({ mouseX: x - left, mouseY: y - top }).catch(() => {});\n    };\n\n    const unsubscribeMouseMove = MobCore.useMouseMove(({ client }) => {\n        const { x, y } = client;\n        move({ x, y });\n    });\n\n    const unsubscribeTouchMove = MobCore.useTouchMove(({ client }) => {\n        const { x, y } = client;\n        move({ x, y });\n    });\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n\n        if (!isActive) return;\n        MobCore.useNextFrame(() => loop());\n    };\n\n    /**\n     * Start loop.\n     */\n    MobCore.useFrame(() => {\n        loop();\n    });\n\n    /**\n     * On resize.\n     */\n    const unsubscribeResize = MobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n        top = offset(canvas).top;\n        left = offset(canvas).left;\n\n        /**\n         * Update offset position to center grid in canvas.\n         */\n        data.forEach((item) => {\n            const { width, height, gutter, numberOfColumn } = item;\n\n            item.offsetXCenter = getOffsetXCenter({\n                canvasWidth: canvas.width,\n                width,\n                gutter,\n                numberOfColumn,\n            });\n\n            item.offsetYCenter = getOffsetYCenter({\n                canvasHeight: canvas.height,\n                height,\n                gutter,\n                numberOfRow,\n            });\n        });\n\n        /**\n         * Render.\n         */\n        MobCore.useFrame(() => draw());\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('navigationIsOpen', (val) => {\n        if (val) {\n            gridTimeline?.stop();\n            isActive = false;\n            return;\n        }\n\n        setTimeout(async () => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const currentRoute = MobJs.getActiveRoute();\n            if (currentRoute.route !== activeRoute.route) return;\n\n            /**\n             * Restart loop\n             */\n            gridTimeline?.play();\n            MobCore.useFrame(() => loop());\n        }, 500);\n    });\n\n    /**\n     * Destroy.\n     */\n    return () => {\n        gridTween.destroy();\n        gridTimeline.destroy();\n        centerTween.destroy();\n        unsubscribeResize();\n        unsubscribeMouseMove();\n        unsubscribeTouchMove();\n        unWatchPause();\n        // @ts-ignore\n        gridTween = null;\n        // @ts-ignore\n        gridTimeline = null;\n        // @ts-ignore\n        centerTween = null;\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        gridData = [];\n        data = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {AnimatedPatternN1} from './type';\n * @import {AnimationTitle} from '@commonComponent/animation-title/type';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { canvasBackground } from '@utils/canvas-utils';\nimport { animatedPatternN1Animation } from './animation/animation';\n\n/** @type {MobComponent<AnimatedPatternN1>} */\nexport const AnimatedPatternN1Fn = ({\n    onMount,\n    getState,\n    setRef,\n    getRef,\n    bindEffect,\n    getProxi,\n    staticProps,\n}) => {\n    const proxi = getProxi();\n    document.body.style.background = canvasBackground;\n\n    onMount(() => {\n        const { canvas } = getRef();\n\n        const destroyAnimation = animatedPatternN1Animation({\n            canvas,\n            ...getState(),\n        });\n\n        MobCore.useFrame(() => {\n            proxi.isMounted = true;\n        });\n\n        return () => {\n            document.body.style.background = '';\n            destroyAnimation();\n        };\n    });\n\n    return html`\n        <div>\n            <div class=\"c-canvas\">\n                <div\n                    class=\"c-canvas__wrap\"\n                    ${bindEffect({\n                        toggleClass: { active: () => proxi.isMounted },\n                    })}\n                >\n                    <canvas ${setRef('canvas')}></canvas>\n                </div>\n                <animation-title\n                    ${staticProps(\n                        /** @type {AnimationTitle['state']} */ ({\n                            title: 'Animated pattern',\n                            list: ['Lerp', 'AsyncTimeline'],\n                        })\n                    )}\n                ></animation-title>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { detectFirefox, detectSafari } from '@utils/utils';\nimport { AnimatedPatternN1Fn } from './animated-pattern-n1';\nimport { AnimationTitle } from '@commonComponent/animation-title/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const AnimatedPatternN1 = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').AnimatedPatternN1>} */\n    ({\n        tag: 'animatedpattern-n1',\n        component: AnimatedPatternN1Fn,\n        exportState: [\n            'numberOfRow',\n            'numberOfColumn',\n            'cellWidth',\n            'cellHeight',\n            'gutter',\n            'fill',\n            'disableOffcanvas',\n        ],\n        state: {\n            isMounted: false,\n            numberOfRow: 7,\n            numberOfColumn: 15,\n            cellWidth: window.innerHeight / 13,\n            cellHeight: window.innerHeight / 13,\n            gutter: window.innerHeight / 150,\n            fill: [\n                2, 18, 10, 27, 21, 22, 23, 24, 25, 25, 26, 37, 42, 53, 58, 69,\n                74, 85, 86, 87, 88, 89, 90, 44, 60, 65, 66,\n            ],\n            disableOffcanvas: () => ({\n                value: detectFirefox() || detectSafari() ? true : false,\n                type: Boolean,\n            }),\n        },\n        child: [AnimationTitle],\n    })\n);\n", "import { updateQuickNavState } from '@commonComponent/quick-nav/utils';\nimport { html, MobJs } from '@mobJs';\nimport { AnimatedPatternN1 } from '@pagesComponent/animated-pattern/n1/definition';\n\nMobJs.useComponent([AnimatedPatternN1]);\n\nexport const animatedPatternN1 = () => {\n    /** Quicknav */\n    updateQuickNavState({\n        active: true,\n        prevRoute: '#animatedPatternN0?version=3&activeId=3',\n        nextRoute: '#scrollerN0?version=0&activeId=0',\n        backRoute: '#canvas-overview',\n        color: 'black',\n    });\n\n    return html`<div class=\"l-padding\">\n        <animatedpattern-n1></animatedpattern-n1>\n    </div>`;\n};\n", "//@ts-check\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { MobCore } from '@mobCore';\nimport { offset } from '@mobCoreUtils';\nimport { MobJs } from '@mobJs';\nimport { MobTween } from '@mobMotion';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    getCanvasContext,\n    getOffsetCanvas,\n} from '@utils/canvas-utils';\n\n/**\n * @param {object} params\n * @param {number} params.width\n * @param {number} params.relativeIndex\n * @param {number} params.amountOfPath\n * @returns {number}\n */\nfunction getWithRounded({ width, relativeIndex, amountOfPath }) {\n    return (\n        Math.sqrt(\n            Math.pow(width * relativeIndex, 2) -\n                Math.pow(\n                    ((width * relativeIndex) / amountOfPath) * relativeIndex,\n                    2\n                )\n        ) * 2\n    );\n}\n\n/**\n * @param {object} params\n * @param {number} params.height\n * @param {number} params.relativeIndex\n * @param {number} params.amountOfPath\n * @returns {number}\n */\nfunction getHeightRounded({ height, relativeIndex, amountOfPath }) {\n    return (\n        Math.sqrt(\n            Math.pow(height * relativeIndex, 2) -\n                Math.pow(\n                    ((height * relativeIndex) / amountOfPath) * relativeIndex,\n                    2\n                )\n        ) * 2\n    );\n}\n\n/** @type {import('../type').CaterpillarN0Animation} */\nexport const caterpillarN0Animation = ({\n    canvas,\n    amountOfPath,\n    width,\n    height,\n    fill,\n    stroke,\n    opacity,\n    spacerY,\n    intialRotation,\n    perpetualRatio,\n    mouseMoveRatio,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let ctx = canvas.getContext(context, { alpha: false });\n    let { left } = offset(canvas);\n    const activeRoute = MobJs.getActiveRoute();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n\n    const useRadius = false;\n\n    /**\n     * Initial misure.\n     */\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     * Setup data.\n     */\n    let stemData = [...Array.from({ length: amountOfPath }).keys()].map(\n        (_item, i) => {\n            const count = i;\n            const index =\n                count < amountOfPath / 2 ? amountOfPath - count : count;\n            const relativeIndex = index - (amountOfPath - index);\n\n            return {\n                width: Math.floor(\n                    getWithRounded({ width, relativeIndex, amountOfPath })\n                ),\n                height: Math.floor(\n                    getHeightRounded({ height, relativeIndex, amountOfPath })\n                ),\n                fill,\n                stroke,\n                opacity: relativeIndex * opacity,\n                rotate: 0,\n                y: 0,\n                relativeIndex,\n                index: i,\n            };\n        }\n    );\n\n    /**\n     * Subdived oginal array in half and reverse the half section.\n     */\n    let steamDataReorded = stemData\n        .splice(0, stemData.length / 2)\n        // eslint-disable-next-line unicorn/prefer-spread\n        .concat(stemData.reverse());\n\n    /**\n     * Create tween.\n     */\n    let mainTween = MobTween.createSpring({\n        data: { rotate: 0, y: 0 },\n        stagger: { each: 5, from: 'center' },\n    });\n\n    /**\n     * Subscribe rect to rotation tween.\n     */\n    [...steamDataReorded].forEach((item) => {\n        mainTween.subscribeCache(item, ({ rotate }) => {\n            item.rotate = rotate;\n        });\n    });\n\n    /**\n     * Main draw function.\n     */\n    const draw = ({ time = 0 }) => {\n        if (!ctx) return;\n\n        if (useOffscreen && offscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen\n            ? offScreenCtx\n            : /** @type {CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D} */ (\n                  ctx\n              );\n\n        if (!context) return;\n\n        /**\n         * Get center of canvas.\n         */\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n\n        /**\n         * Clear rpevious render.\n         */\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        steamDataReorded.forEach(\n            ({ width, height, opacity, rotate, relativeIndex, index: i }) => {\n                /**\n                 * Pertual movement based on timeframe.\n                 */\n                const offset =\n                    Math.sin(time / 1000) * perpetualRatio * relativeIndex;\n\n                /**\n                 * Invert perpetual movement by the two half of array and set multiplier.\n                 */\n                const offsetInverse =\n                    i < amountOfPath / 2\n                        ? offset + (15 * relativeIndex) / 2\n                        : -offset - (15 * relativeIndex) / 2;\n\n                /**\n                 * Space between tho half\n                 */\n                const centerDirection = i < amountOfPath / 2 ? -1 : 1;\n\n                /**\n                 * Center canvas in the screen\n                 */\n\n                const scale = 1;\n                const rotation = (Math.PI / 180) * (rotate - intialRotation);\n                const xx = Math.cos(rotation) * scale;\n                const xy = Math.sin(rotation) * scale;\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(\n                    xx,\n                    xy,\n                    -xy,\n                    xx,\n                    centerX,\n                    centerY + height / 2\n                );\n\n                if (useRadius) {\n                    context.beginPath();\n                    context.roundRect(\n                        -(width * centerDirection) / 2,\n                        -height / 2 +\n                            offsetInverse +\n                            spacerY(i < amountOfPath / 2),\n                        width,\n                        height,\n                        [200, 0]\n                    );\n                } else {\n                    context.beginPath();\n                    context.rect(\n                        -(width * centerDirection) / 2,\n                        -height / 2 +\n                            offsetInverse +\n                            spacerY(i < amountOfPath / 2),\n                        width,\n                        height\n                    );\n                }\n\n                /**\n                 * Color.\n                 */\n                context.strokeStyle = `rgba(0, 0, 0, ${opacity})`;\n                context.fillStyle = `rgba(255, 255, 255, ${opacity})`;\n                context.stroke();\n                context.fill();\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        // @ts-ignore\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Loop\n     */\n    const loop = ({ time = 0 }) => {\n        draw({ time });\n\n        if (!isActive) return;\n\n        MobCore.useNextFrame(({ time }) => loop({ time }));\n    };\n\n    /**\n     * Start loop.\n     */\n    MobCore.useFrame(({ time }) => {\n        loop({ time });\n    });\n\n    /**\n     * Resize canvas.\n     */\n    const unsubscribeResize = MobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n        left = offset(canvas).left;\n        MobCore.useFrame(({ time }) => {\n            draw({ time });\n        });\n    });\n\n    /**\n     * @param {object} params\n     * @param {number} params.x\n     * @returns {void}\n     */\n    const move = ({ x }) => {\n        const xCenter = x - canvas.width / 2 - left;\n        mainTween\n            .goTo({\n                rotate: xCenter / mouseMoveRatio,\n            })\n            .catch(() => {});\n    };\n\n    /**\n     * Mouse move.\n     */\n    const unsubscribeMouseMove = MobCore.useMouseMove(({ client }) => {\n        const { x } = client;\n        move({ x });\n    });\n\n    const unsubscribeTouchMove = MobCore.useTouchMove(({ client }) => {\n        const { x } = client;\n        move({ x });\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('navigationIsOpen', (val) => {\n        if (val) {\n            isActive = false;\n            return;\n        }\n\n        setTimeout(() => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const currentRoute = MobJs.getActiveRoute();\n            if (currentRoute.route !== activeRoute.route) return;\n\n            /**\n             * Restart loop\n             */\n            MobCore.useFrame(({ time }) => loop({ time }));\n        }, 500);\n    });\n\n    return () => {\n        mainTween.destroy();\n        unsubscribeResize();\n        unsubscribeMouseMove();\n        unsubscribeTouchMove();\n        unWatchPause();\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        // @ts-ignore\n        mainTween = null;\n        steamDataReorded = [];\n        stemData = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {CaterpillarN0} from './type';\n * @import {AnimationTitle} from '@commonComponent/animation-title/type';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { canvasBackground } from '@utils/canvas-utils';\nimport { caterpillarN0Animation } from './animation/animation';\n\n/** @type {MobComponent<CaterpillarN0>} */\nexport const CaterpillarN0Fn = ({\n    onMount,\n    setRef,\n    getRef,\n    getState,\n    bindEffect,\n    getProxi,\n    staticProps,\n}) => {\n    const proxi = getProxi();\n    document.body.style.background = canvasBackground;\n\n    onMount(() => {\n        const { canvas } = getRef();\n\n        /**\n         * Animation.\n         */\n        const destroyAnimation = caterpillarN0Animation({\n            canvas,\n            ...getState(),\n        });\n\n        MobCore.useFrame(() => {\n            proxi.isMounted = true;\n        });\n\n        return () => {\n            destroyAnimation();\n            document.body.style.background = '';\n        };\n    });\n\n    return html`\n        <div>\n            <div class=\"c-canvas\">\n                <div\n                    class=\"c-canvas__wrap\"\n                    ${bindEffect({\n                        toggleClass: { active: () => proxi.isMounted },\n                    })}\n                >\n                    <canvas ${setRef('canvas')}></canvas>\n                </div>\n                <animation-title\n                    ${staticProps(\n                        /** @type {AnimationTitle['state']} */ ({\n                            title: 'Canvas Mouse interaction 01',\n                            list: ['Spring', 'AsyncTimeline'],\n                        })\n                    )}\n                ></animation-title>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { detectFirefox, detectSafari } from '@utils/utils';\nimport { CaterpillarN0Fn } from './caterpillar-n0';\nimport { AnimationTitle } from '@commonComponent/animation-title/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const CaterpillarN0 = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').CaterpillarN0>} */\n    ({\n        tag: 'caterpillar-n0',\n        component: CaterpillarN0Fn,\n        exportState: [\n            'nextRoute',\n            'prevRoute',\n            'amountOfPath',\n            'width',\n            'height',\n            'radius',\n            'fill',\n            'stroke',\n            'opacity',\n            'spacerY',\n            'intialRotation',\n            'perpetualRatio',\n            'mouseMoveRatio',\n            'disableOffcanvas',\n        ],\n        state: {\n            isMounted: false,\n            nextRoute: () => ({\n                value: '',\n                type: String,\n            }),\n            prevRoute: () => ({\n                value: '',\n                type: String,\n            }),\n            amountOfPath: 17,\n            width: window.innerHeight / 30,\n            height: window.innerHeight / 30,\n            radius: 0,\n            fill: [-1],\n            stroke: '#000',\n            opacity: 0.05,\n            spacerY: (/** @type {any} */ condition) => (condition ? 300 : -400),\n            intialRotation: 33,\n            perpetualRatio: 6,\n            mouseMoveRatio: 10,\n            disableOffcanvas: () => ({\n                value: detectFirefox() || detectSafari() ? true : false,\n                type: Boolean,\n            }),\n        },\n        child: [AnimationTitle],\n    })\n);\n", "import { updateQuickNavState } from '@commonComponent/quick-nav/utils';\nimport { html, MobJs } from '@mobJs';\nimport { CaterpillarN0 } from '@pagesComponent/canvas/n0/definition';\n\nMobJs.useComponent([CaterpillarN0]);\n\nexport const caterpillarN0 = () => {\n    /** Quicknav */\n    updateQuickNavState({\n        active: true,\n        prevRoute: '',\n        nextRoute: '#caterpillarN1',\n        backRoute: '#canvas-overview',\n        color: 'black',\n    });\n\n    return html`<div class=\"l-padding\">\n        <caterpillar-n0></caterpillar-n0>\n    </div>`;\n};\n", "//@ts-check\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { MobCore } from '@mobCore';\nimport { offset } from '@mobCoreUtils';\nimport { MobJs } from '@mobJs';\nimport { MobMotionCore, MobTimeline, MobTween } from '@mobMotion';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    getCanvasContext,\n    getOffsetCanvas,\n} from '@utils/canvas-utils';\n\n/** @type {import('../type').CaterpillarN1Animation} */\nexport const caterpillarN1Animation = ({\n    canvas,\n    numItems,\n    width,\n    height,\n    fill,\n    opacity,\n    radius,\n    rotationDuration,\n    rotationEach,\n    centerEach,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let ctx = canvas.getContext(context, { alpha: false });\n    let { top, left } = offset(canvas);\n    const activeRoute = MobJs.getActiveRoute();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n\n    const useRadius = false;\n\n    /**\n     * Initial misure.\n     */\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    let squareData = [...Array.from({ length: numItems }).keys()].map(\n        (_item, i) => {\n            const relativeIndex =\n                i >= numItems / 2 ? numItems / 2 + (numItems / 2 - i) : i;\n\n            const opacityVal = fill.includes(i) ? 1 : relativeIndex * opacity;\n\n            return {\n                width: relativeIndex * width,\n                height: relativeIndex * height,\n                x: 0,\n                y: 0,\n                hasFill: fill.includes(i),\n                opacity: opacityVal,\n                radius,\n                rotate: 0,\n                relativeIndex,\n            };\n        }\n    );\n\n    /**\n     * Create rotation tween.\n     */\n    let rotationTween = MobTween.createTimeTween({\n        data: { rotate: 0 },\n        stagger: { each: rotationEach, from: 'center' },\n        ease: 'easeLinear',\n        relative: true,\n    });\n\n    /**\n     * Subscribe rect to rotation tween.\n     */\n    [...squareData].forEach((item) => {\n        rotationTween.subscribeCache(item, ({ rotate }) => {\n            item.rotate = rotate;\n        });\n    });\n\n    /**\n     * Create rotation tween.\n     */\n    let centerTween = MobTween.createSpring({\n        data: { x: 0, y: 0 },\n        stagger: { each: centerEach, from: 'end' },\n    });\n\n    /**\n     * Subscribe rect to rotation tween.\n     */\n    [...squareData].forEach((item) => {\n        centerTween.subscribeCache(item, ({ x, y }) => {\n            item.x = x;\n            item.y = y;\n        });\n    });\n\n    /**\n     * Draw\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen && offscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen\n            ? offScreenCtx\n            : /** @type {CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D} */ (\n                  ctx\n              );\n\n        if (!context) return;\n\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n        squareData.forEach(\n            ({ width, height, x, y, opacity, rotate, hasFill }, i) => {\n                const unitInverse = squareData.length - i;\n                const centerX = canvas.width / 2;\n                const centerY = canvas.height / 2;\n\n                /**\n                 * Center canvas\n                 */\n\n                const scale = 1;\n                const rotation = (Math.PI / 180) * rotate;\n                const xx = Math.cos(rotation) * scale;\n                const xy = Math.sin(rotation) * scale;\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(\n                    xx,\n                    xy,\n                    -xy,\n                    xx,\n                    centerX + x + (unitInverse * x) / 20,\n                    centerY + y + (unitInverse * y) / 20\n                );\n\n                if (useRadius) {\n                    context.beginPath();\n                    context.roundRect(\n                        Math.round(-width / 2),\n                        Math.round(-height / 2),\n                        width,\n                        height,\n                        [200, 0]\n                    );\n                } else {\n                    context.beginPath();\n                    context.rect(\n                        Math.round(-width / 2),\n                        Math.round(-height / 2),\n                        width,\n                        height\n                    );\n                }\n\n                if (hasFill) {\n                    context.fillStyle = `#000000`;\n                } else {\n                    context.strokeStyle = `rgba(0, 0, 0, ${opacity})`;\n                    context.fillStyle = `rgba(255, 255, 255, ${opacity})`;\n                    context.stroke();\n                }\n\n                context.fill();\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        // @ts-ignore\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Create timeline\n     */\n    let rectTimeline = MobTimeline.createAsyncTimeline({\n        repeat: -1,\n        yoyo: false,\n        autoSet: false,\n    });\n\n    /**\n     * Anim timeline.\n     */\n    rectTimeline.goTo(\n        rotationTween,\n        { rotate: 360 },\n        { duration: rotationDuration }\n    );\n\n    /**\n     * Play\n     */\n    rectTimeline.play();\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n\n        if (!isActive) return;\n        MobCore.useNextFrame(() => loop());\n    };\n\n    MobCore.useFrame(() => loop());\n\n    /**\n     * Resize canvas.\n     */\n    const unsubscribeResize = MobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n        top = offset(canvas).top;\n        left = offset(canvas).left;\n        draw();\n    });\n\n    /**\n     * @param {object} params\n     * @param {number} params.x\n     * @param {number} params.y\n     * @returns {void}\n     */\n    const move = ({ x, y }) => {\n        const winWidth = window.innerWidth;\n        const winHeight = window.innerHeight;\n        const xCenter = x - canvas.width / 2 - left;\n        const yCenter = y - canvas.height / 2 - top;\n        centerTween\n            .goTo({\n                x: MobMotionCore.clamp(\n                    xCenter,\n                    -winWidth / 2 + 400 + left,\n                    winWidth / 2 - 400 - left\n                ),\n                y: MobMotionCore.clamp(\n                    yCenter,\n                    -winHeight / 2 + 200 + top,\n                    winHeight / 2 - 200 - top\n                ),\n            })\n            .catch(() => {});\n    };\n\n    const unsubscribeMouseMove = MobCore.useMouseMove(({ client }) => {\n        const { x, y } = client;\n        move({ x, y });\n    });\n\n    const unsubscribeTouchMove = MobCore.useTouchMove(({ client }) => {\n        const { x, y } = client;\n        move({ x, y });\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('navigationIsOpen', (val) => {\n        if (val) {\n            isActive = false;\n            rectTimeline?.pause();\n            return;\n        }\n\n        setTimeout(() => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const currentRoute = MobJs.getActiveRoute();\n            if (currentRoute.route !== activeRoute.route) return;\n\n            /**\n             * Restart loop\n             */\n            rectTimeline?.resume();\n            MobCore.useFrame(() => loop());\n        }, 500);\n    });\n\n    return () => {\n        rotationTween.destroy();\n        centerTween.destroy();\n        rectTimeline.destroy();\n        unsubscribeResize();\n        unsubscribeMouseMove();\n        unsubscribeTouchMove();\n        unWatchPause();\n        // @ts-ignore\n        rotationTween = null;\n        // @ts-ignore\n        centerTween = null;\n        // @ts-ignore\n        rectTimeline = null;\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        squareData = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {CaterpillarN1} from './type';\n * @import {AnimationTitle} from '@commonComponent/animation-title/type';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { canvasBackground } from '@utils/canvas-utils';\nimport { caterpillarN1Animation } from './animation/animation';\n\n/** @type {MobComponent<CaterpillarN1>} */\nexport const CaterpillarN1Fn = ({\n    onMount,\n    getState,\n    getRef,\n    setRef,\n    bindEffect,\n    getProxi,\n    staticProps,\n}) => {\n    const proxi = getProxi();\n    document.body.style.background = canvasBackground;\n\n    onMount(() => {\n        const { canvas } = getRef();\n\n        const destroyAnimation = caterpillarN1Animation({\n            canvas,\n            ...getState(),\n        });\n\n        MobCore.useFrame(() => {\n            proxi.isMounted = true;\n        });\n\n        return () => {\n            destroyAnimation();\n            document.body.style.background = '';\n        };\n    });\n\n    return html`\n        <div>\n            <div class=\"c-canvas\">\n                <div\n                    class=\"c-canvas__wrap\"\n                    ${bindEffect({\n                        toggleClass: { active: () => proxi.isMounted },\n                    })}\n                >\n                    <canvas ${setRef('canvas')}></canvas>\n                </div>\n                <animation-title\n                    ${staticProps(\n                        /** @type {AnimationTitle['state']} */ ({\n                            title: 'Canvas Mouse interaction 02',\n                            list: ['Spring', 'TimeTween', 'AsyncTimeline'],\n                        })\n                    )}\n                ></animation-title>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { detectFirefox, detectSafari } from '@utils/utils';\nimport { CaterpillarN1Fn } from './caterpillar-n1';\nimport { AnimationTitle } from '@commonComponent/animation-title/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const CaterpillarN1 = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').CaterpillarN1>} */\n    ({\n        tag: 'caterpillar-n1',\n        component: CaterpillarN1Fn,\n        exportState: [\n            'numItems',\n            'width',\n            'height',\n            'fill',\n            'opacity',\n            'radius',\n            'rotationEach',\n            'centerEach',\n            'rotationDuration',\n            'disableOffcanvas',\n        ],\n        state: {\n            isMounted: false,\n            numItems: 20,\n            width: window.innerHeight / 30,\n            height: window.innerHeight / 30,\n            fill: [14],\n            opacity: 0.05,\n            radius: 0,\n            rotationEach: 15,\n            centerEach: 3,\n            rotationDuration: 5000,\n            disableOffcanvas: () => ({\n                value: detectFirefox() || detectSafari() ? true : false,\n                type: Boolean,\n            }),\n        },\n        child: [AnimationTitle],\n    })\n);\n", "import { updateQuickNavState } from '@commonComponent/quick-nav/utils';\nimport { html, MobJs } from '@mobJs';\nimport { CaterpillarN1 } from '@pagesComponent/canvas/n1/definition';\n\nMobJs.useComponent([CaterpillarN1]);\n\nexport const caterpillarN1 = () => {\n    /** Quicknav */\n    updateQuickNavState({\n        active: true,\n        prevRoute: '#caterpillarN0',\n        nextRoute: '#caterpillarN2',\n        backRoute: '#canvas-overview',\n        color: 'black',\n    });\n\n    return html`<div class=\"l-padding\">\n        <caterpillar-n1></caterpillar-n1>\n    </div>`;\n};\n", "//@ts-check\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { MobCore } from '@mobCore';\nimport { MobJs } from '@mobJs';\nimport { MobTimeline, MobTween } from '@mobMotion';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    getCanvasContext,\n    getOffsetCanvas,\n} from '@utils/canvas-utils';\n\n/**\n * @param {object} params\n * @param {any} params.value\n * @param {import('src/js/mob/mob-motion/animation/utils/timeline/type').DirectionType} params.direction\n * @param {boolean} params.isForced\n */\nconst logAddMethods = ({ value, direction, isForced }) => {\n    if (isForced) return;\n    console.log(`current: ${value}, direction: ${direction}`);\n};\n\n/** @type {import('../type').CaterpillarN2Animation} */\nexport const caterpillarN2Animation = ({\n    canvas,\n    numItems,\n    width,\n    height,\n    radius,\n    fill,\n    opacity,\n    xAmplitude,\n    yAmplitude,\n    duration,\n    friction,\n    rotationDefault,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let ctx = canvas.getContext(context, { alpha: false });\n    let userRotation = rotationDefault;\n    const activeRoute = MobJs.getActiveRoute();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n    // let wichContext = useOffscreen ? offScreenCtx : ctx;\n    // const useRadius = roundRectIsSupported(wichContext) && !detectSafari();\n    // wichContext = null;\n\n    const useRadius = false;\n\n    let squareData = [...Array.from({ length: numItems }).keys()].map(\n        (_item, i) => {\n            const relativeIndex =\n                i >= numItems / 2 ? numItems / 2 + (numItems / 2 - i) : i;\n\n            const itemWidth = width + (width / 3) * relativeIndex;\n            const itemHeight = height + (height / 3) * relativeIndex;\n            const opacityVal = fill.includes(i) ? 1 : (numItems - i) * opacity;\n\n            return {\n                width: itemWidth,\n                height: itemHeight,\n                x: 0,\n                y: 0,\n                hasFill: fill.includes(i),\n                opacity: opacityVal,\n                radius,\n                rotate: 0,\n            };\n        }\n    );\n\n    /**\n     * Initial misure.\n     */\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    let infiniteTween = MobTween.createSequencer({\n        stagger: { each: 6 },\n        data: { x: duration / 4, rotate: 0 },\n        duration,\n    })\n        .goTo(\n            { x: duration + duration / 4 },\n            { start: 0, end: duration, ease: 'easeLinear' }\n        )\n        .goTo(\n            { rotate: () => -userRotation },\n            { start: 0, end: 5, ease: 'easeInOutBack' }\n        )\n        .goTo({ rotate: 0 }, { start: 5, end: duration, ease: 'easeInOutBack' })\n        .label('mylabel', 2)\n        .add(({ isForced, direction }) => {\n            logAddMethods({ isForced, direction, value: 1 });\n        }, 1)\n        .add(({ isForced, direction }) => {\n            logAddMethods({ isForced, direction, value: 5 });\n        }, 5)\n        .add(({ isForced, direction }) => {\n            logAddMethods({ isForced, direction, value: 9 });\n        }, 9);\n\n    /**\n     * Subscribe sequencer to timeline.\n     */\n    squareData.forEach((item) => {\n        infiniteTween.subscribeCache(item, ({ x, rotate }) => {\n            const val = x / friction;\n            const factor = 2 / (3 - Math.cos(2 * val));\n            const xr = factor * Math.cos(val) * xAmplitude;\n            const yr = ((factor * Math.sin(2 * val)) / 2) * yAmplitude;\n            item.x = xr;\n            item.y = yr;\n            item.rotate = rotate;\n        });\n    });\n\n    /**\n     * Create timeline.\n     */\n    let syncTimeline = MobTimeline.createSyncTimeline({\n        repeat: -1,\n        yoyo: false,\n        duration: 4000,\n    }).add(infiniteTween);\n\n    syncTimeline.onLoopEnd(({ loop, direction }) => {\n        console.log(`loop end: ${loop} , ${direction}`);\n    });\n\n    /**\n     * Draw\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen && offscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen\n            ? offScreenCtx\n            : /** @type {CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D} */ (\n                  ctx\n              );\n\n        if (!context) return;\n\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        squareData.forEach(\n            ({ width, height, x, y, rotate, hasFill, opacity }) => {\n                const centerX = canvas.width / 2;\n                const centerY = canvas.height / 2;\n\n                /**\n                 * Center canvas\n                 */\n\n                const scale = 1;\n                const rotation = (Math.PI / 180) * rotate;\n                const xx = Math.cos(rotation) * scale;\n                const xy = Math.sin(rotation) * scale;\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(xx, xy, -xy, xx, centerX + x, centerY + y);\n\n                /**\n                 * Shape\n                 */\n                if (useRadius) {\n                    context.beginPath();\n                    context.roundRect(\n                        Math.round(-width / 2),\n                        Math.round(-height / 2),\n                        width,\n                        height,\n                        [150, 0]\n                    );\n                } else {\n                    context.beginPath();\n                    context.rect(\n                        Math.round(-width / 2),\n                        Math.round(-height / 2),\n                        width,\n                        height\n                    );\n                }\n\n                if (hasFill) {\n                    context.fillStyle = `#000000`;\n                } else {\n                    context.strokeStyle = `rgba(0, 0, 0, ${opacity})`;\n                    context.fillStyle = `rgba(255, 255, 255, ${opacity})`;\n                    context.stroke();\n                }\n\n                context.fill();\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        // @ts-ignore\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n\n        if (!isActive) return;\n        MobCore.useNextFrame(() => loop());\n    };\n\n    MobCore.useFrame(() => loop());\n\n    /**\n     * Play timeline.\n     */\n    syncTimeline.play();\n\n    /**\n     * Resize canvas.\n     */\n    const unsubscribeResize = MobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n        draw();\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('navigationIsOpen', (val) => {\n        if (val) {\n            isActive = false;\n            syncTimeline?.pause();\n            return;\n        }\n\n        setTimeout(() => {\n            isActive = true;\n            /**\n             * If close nav but change route skip.\n             */\n            const currentRoute = MobJs.getActiveRoute();\n            if (currentRoute.route !== activeRoute.route) return;\n\n            /**\n             * Restart loop\n             */\n            syncTimeline?.resume();\n            MobCore.useFrame(() => loop());\n        }, 500);\n    });\n\n    return {\n        destroy: () => {\n            isActive = false;\n            unsubscribeResize();\n            unWatchPause();\n            infiniteTween.destroy();\n            // @ts-ignore\n            infiniteTween = null;\n            syncTimeline.destroy();\n            // @ts-ignore\n            syncTimeline = null;\n            ctx = null;\n            offscreen = null;\n            offScreenCtx = null;\n            squareData = [];\n        },\n        play: () => {\n            syncTimeline.play();\n        },\n        playReverse: () => {\n            syncTimeline.playReverse();\n        },\n        playUseCurrent: () => syncTimeline.play({ useCurrent: true }),\n        playReverseUseCurrent: () =>\n            syncTimeline.playReverse({ useCurrent: true }),\n        playFromLabel: () => {\n            syncTimeline.playFrom('mylabel');\n        },\n        plaFromLabelReverse: () => {\n            syncTimeline.playFromReverse('mylabel');\n        },\n        stop: () => syncTimeline.stop(),\n        pause: () => syncTimeline.pause(),\n        resume: () => syncTimeline.resume(),\n        reverse: () => syncTimeline.reverse(),\n        setRotation: (value) => (userRotation = value),\n    };\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {CaterpillarN2, CaterpillarN2Button} from './type';\n * @import {AnimationTitle} from '@commonComponent/animation-title/type';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { canvasBackground } from '@utils/canvas-utils';\nimport { caterpillarN2Animation } from './animation/animation';\n\n/**\n * @param {object} params\n * @param {CaterpillarN2Button} params.buttons\n * @returns {string}\n */\nfunction getControls({ buttons }) {\n    return Object.entries(buttons)\n        .map(([className, value]) => {\n            const { label } = value;\n\n            return html` <li class=\"c-canvas__controls__item\">\n                <button\n                    type=\"button\"\n                    class=\"c-canvas__controls__btn ${className}\"\n                >\n                    ${label}\n                </button>\n            </li>`;\n        })\n        .join('');\n}\n\n/** @type {MobComponent<CaterpillarN2>} */\nexport const CaterpillarN2Fn = ({\n    onMount,\n    getState,\n    setRef,\n    getRef,\n    bindEffect,\n    getProxi,\n    staticProps,\n}) => {\n    const proxi = getProxi();\n    document.body.style.background = canvasBackground;\n\n    onMount(({ element }) => {\n        const { canvas, rangeValue, rotationButton } = getRef();\n\n        /**\n         * Inizializa animation and get anima methods.\n         */\n        const animationMethods = caterpillarN2Animation({\n            canvas,\n            ...getState(),\n        });\n\n        /**\n         * Get destroy methods.\n         */\n        const { destroy, setRotation } = animationMethods;\n\n        /**\n         * Inizalize controls handler.\n         */\n        Object.entries(proxi.buttons).forEach(([className, value]) => {\n            const { method } = value;\n            const btn = element.querySelector(`.${className}`);\n            // @ts-ignore\n            btn?.addEventListener('click', () => animationMethods?.[method]());\n        });\n\n        /**\n         * Rotation handler\n         */\n        rotationButton.addEventListener('change', () => {\n            const value = rotationButton.value;\n            setRotation(Number(value));\n            rangeValue.textContent = value;\n        });\n\n        MobCore.useFrame(() => {\n            proxi.isMounted = true;\n        });\n\n        return () => {\n            document.body.style.background = '';\n            destroy();\n        };\n    });\n\n    return html`\n        <div>\n            <div class=\"c-canvas\">\n                <div\n                    class=\"c-canvas__wrap\"\n                    ${bindEffect({\n                        toggleClass: { active: () => proxi.isMounted },\n                    })}\n                >\n                    <ul class=\"c-canvas__controls\">\n                        ${getControls({ buttons: proxi.buttons })}\n                        <li class=\"c-canvas__controls__item is-like-button\">\n                            <label class=\"c-canvas__controls__label\">\n                                deg:\n                                <span\n                                    class=\"js-range-value\"\n                                    ${setRef('rangeValue')}\n                                    >${proxi.rotationDefault}</span\n                                >\n                            </label>\n                            <div class=\"c-canvas__controls__range\">\n                                <input\n                                    type=\"range\"\n                                    min=\"0\"\n                                    max=\"720\"\n                                    value=\"${proxi.rotationDefault}\"\n                                    step=\"1\"\n                                    ${setRef('rotationButton')}\n                                />\n                            </div>\n                        </li>\n                    </ul>\n                    <canvas ${setRef('canvas')}></canvas>\n                </div>\n                <animation-title\n                    ${staticProps(\n                        /** @type {AnimationTitle['state']} */ ({\n                            title: 'SyncTimeline with controls',\n                            list: ['Sequencer', 'SyncTimeline'],\n                        })\n                    )}\n                ></animation-title>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { detectFirefox, detectSafari } from '@utils/utils';\nimport { CaterpillarN2Fn } from './caterpillar-n2';\nimport { AnimationTitle } from '@commonComponent/animation-title/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nconst duration = 10;\n\nconst buttons = {\n    'js-CN2-play': {\n        label: 'play',\n        method: 'play',\n    },\n    'js-CN2-playReverse': {\n        label: 'play reverse',\n        method: 'playReverse',\n    },\n    'js-CN2-play-current': {\n        label: 'go forward if is backward',\n        method: 'playUseCurrent',\n    },\n    'js-CN2-playReverse-current': {\n        label: 'go backward if is forward',\n        method: 'playReverseUseCurrent',\n    },\n    'js-CN2-play-label': {\n        label: 'play from label',\n        method: 'playFromLabel',\n    },\n    'js-CN2-playReverse-label': {\n        label: 'play from label reverse',\n        method: 'plaFromLabelReverse',\n    },\n    'js-CN2-reverse': {\n        label: 'reverse',\n        method: 'reverse',\n    },\n    'js-CN2-stop': {\n        label: 'stop',\n        method: 'stop',\n    },\n    'js-CN2-pause': {\n        label: 'pause',\n        method: 'pause',\n    },\n    'js-CN2-resume': {\n        label: 'resume',\n        method: 'resume',\n    },\n};\n\nexport const CaterpillarN2 = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').CaterpillarN2>} */\n    ({\n        tag: 'caterpillar-n2',\n        component: CaterpillarN2Fn,\n        exportState: [\n            'numItems',\n            'width',\n            'height',\n            'radius',\n            'fill',\n            'opacity',\n            'xAmplitude',\n            'yAmplitude',\n            'duration',\n            'rotationDefault',\n            'friction',\n            'disableOffcanvas',\n        ],\n        state: {\n            isMounted: false,\n            numItems: 20,\n            width: window.innerHeight / 13,\n            height: window.innerHeight / 13,\n            radius: 0,\n            fill: [2],\n            opacity: 0.02,\n            xAmplitude: 500,\n            yAmplitude: 400,\n            duration: 10,\n            rotationDefault: 360,\n            friction: duration / 2 / Math.PI,\n            disableOffcanvas: () => ({\n                value: detectFirefox() || detectSafari() ? true : false,\n                type: Boolean,\n            }),\n            buttons: () => ({\n                value: buttons,\n                type: 'Any',\n            }),\n        },\n        child: [AnimationTitle],\n    })\n);\n", "import { updateQuickNavState } from '@commonComponent/quick-nav/utils';\nimport { html, MobJs } from '@mobJs';\nimport { CaterpillarN2 } from '@pagesComponent/canvas/n2/definition';\n\nMobJs.useComponent([CaterpillarN2]);\n\nexport const caterpillarN2 = () => {\n    /** Quicknav */\n    updateQuickNavState({\n        active: true,\n        prevRoute: '#caterpillarN1',\n        nextRoute: '#async-timeline',\n        backRoute: '#canvas-overview',\n        color: 'black',\n    });\n\n    return html`<div class=\"l-padding\">\n        <caterpillar-n2></caterpillar-n2>\n    </div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { scrollDownLabelName } from '../../instance-name';\n\n/**\n * @import {SetStateByName} from '@mobJsType';\n */\n\n/** @type{() => void} */\nexport const activateScrollDownArrow = () => {\n    /** @type {SetStateByName<import('./type').ScrollDownLabel>} */\n    const setScrollDownState = MobJs.setStateByName(scrollDownLabelName);\n    setScrollDownState('active', true);\n};\n\n/** @type{() => void} */\nexport const deactivateScrollDownArrow = () => {\n    /** @type {SetStateByName<import('./type').ScrollDownLabel>} */\n    const setScrollDownState = MobJs.setStateByName(scrollDownLabelName);\n    setScrollDownState('active', false);\n};\n", "// @ts-check\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { MobCore } from '@mobCore';\nimport { outerHeight } from '@mobCoreUtils';\nimport { MobJs } from '@mobJs';\nimport { MobScroll, MobTween } from '@mobMotion';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    createGrid,\n    getCanvasContext,\n    getOffsetCanvas,\n    getOffsetXCenter,\n    getOffsetYCenter,\n    roundRectCustom,\n    roundRectIsSupported,\n} from '@utils/canvas-utils';\n\n/** @type {import('../type').ScrollerN0Animation} */\nexport const scrollerN0Animation = ({\n    canvas,\n    canvasScroller,\n    numberOfRow,\n    numberOfColumn,\n    cellWidth,\n    cellHeight,\n    gutter,\n    fill,\n    stagger,\n    reorder,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let masterSequencer = MobTween.createMasterSequencer();\n    let ctx = canvas.getContext(context, { alpha: false });\n    const activeRoute = MobJs.getActiveRoute();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n    let wichContext = useOffscreen ? offScreenCtx : ctx;\n    const useRadius = roundRectIsSupported(\n        /** @type {CanvasRenderingContext2D} */ (wichContext)\n    );\n    wichContext = null;\n\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     * Create basic grid.\n     */\n    let gridData = createGrid({\n        canvas,\n        numberOfRow,\n        numberOfColumn,\n        cellWidth,\n        cellHeight,\n        gutter,\n    }).items;\n\n    /**\n     * Add props to transform. Order by hasFill, so is like z-index: -1.\n     */\n    let data = reorder\n        ? gridData\n              .map((item, i) => {\n                  return {\n                      ...item,\n                      scale: 0,\n                      rotate: 0,\n                      hasFill: fill.includes(i),\n                  };\n              })\n              .sort((value) => (value.hasFill ? -1 : 1))\n        : gridData.map((item, i) => {\n              return {\n                  ...item,\n                  scale: 0,\n                  rotate: 0,\n                  hasFill: fill.includes(i),\n              };\n          });\n\n    /**\n     * Create staggers array.\n     */\n    let staggers = MobTween.createStaggers({\n        items: data,\n        stagger,\n    });\n\n    /**\n     * Create sequencer instances from staggera array\n     */\n\n    let sequencersInstances = staggers.map(({ item, start, end }) => {\n        const scale = item.hasFill ? 1.1 : 1;\n\n        const sequencer = MobTween.createSequencer({ data: { scale: 0 } }).goTo(\n            { scale },\n            { start, end, ease: 'easeInOutQuad' }\n        );\n\n        const unsubscribe = sequencer.subscribe(({ scale }) => {\n            item.scale = scale;\n        });\n\n        masterSequencer.add(sequencer);\n        return { sequencer, unsubscribe };\n    });\n\n    /**\n     * Main draw function.\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen && offscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen\n            ? offScreenCtx\n            : /** @type {CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D} */ (\n                  ctx\n              );\n\n        if (!context) return;\n\n        /**\n         * Clear rpevious render.\n         */\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        data.forEach(\n            ({\n                x,\n                y,\n                centerX,\n                centerY,\n                width,\n                height,\n                rotate,\n                scale,\n                hasFill,\n                offsetXCenter,\n                offsetYCenter,\n            }) => {\n                const rotation = (Math.PI / 180) * rotate;\n                const xx = Math.cos(rotation) * scale;\n                const xy = Math.sin(rotation) * scale;\n\n                /**\n                 * Apply scale/rotation/scale all together.\n                 */\n                context.setTransform(\n                    xx,\n                    xy,\n                    -xy,\n                    xx,\n                    Math.round(centerX + offsetXCenter),\n                    Math.round(centerY + offsetYCenter)\n                );\n\n                /**\n                 * Draw.\n                 */\n                roundRectCustom(\n                    /** @type {CanvasRenderingContext2D} */ (context),\n                    Math.round(-centerX + x),\n                    Math.round(-centerY + y),\n                    width,\n                    height,\n                    5\n                );\n\n                if (useRadius) {\n                    context.beginPath();\n                    context.roundRect(\n                        Math.round(-centerX + x),\n                        Math.round(-centerY + y),\n                        width,\n                        height,\n                        5\n                    );\n                } else {\n                    context.beginPath();\n                    context.rect(\n                        Math.round(-centerX + x),\n                        Math.round(-centerY + y),\n                        width,\n                        height\n                    );\n                }\n\n                if (hasFill) {\n                    context.fillStyle = `#000000`;\n                    context.fill();\n                } else {\n                    context.fillStyle = '#fff';\n                    context.fill();\n\n                    if (!useRadius) {\n                        context.strokeStyle = '#ccc';\n                        context.stroke();\n                    }\n                }\n\n                /**\n                 * Reset all transform instead save() restore().\n                 */\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n        );\n\n        // @ts-ignore\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Create scrollTrigger.\n     */\n    let scrollerInstance = MobScroll.createScrollTrigger({\n        trigger: canvasScroller,\n        propierties: 'tween',\n        tween: masterSequencer,\n        dynamicStart: {\n            position: 'bottom',\n            value: () => window.innerHeight,\n        },\n        dynamicEnd: {\n            position: 'bottom',\n            value: () => outerHeight(canvasScroller),\n        },\n        reverse: true,\n        ease: true,\n        easeType: 'lerp',\n    });\n\n    /**\n     * Initialize scrollTrigger.\n     */\n    scrollerInstance.init();\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n\n        if (!isActive) return;\n        MobCore.useNextFrame(() => loop());\n    };\n\n    /**\n     * Start loop.\n     */\n    MobCore.useFrame(() => {\n        loop();\n    });\n\n    const unsubscribeResize = MobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n\n        /**\n         * Update offset position to center grid in canvas.\n         */\n        data.forEach((item) => {\n            const { width, height, gutter, numberOfColumn } = item;\n\n            item.offsetXCenter = getOffsetXCenter({\n                canvasWidth: canvas.width,\n                width,\n                gutter,\n                numberOfColumn,\n            });\n\n            item.offsetYCenter = getOffsetYCenter({\n                canvasHeight: canvas.height,\n                height,\n                gutter,\n                numberOfRow,\n            });\n        });\n\n        /**\n         * Render.\n         */\n        MobCore.useFrame(() => draw());\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('navigationIsOpen', (val) => {\n        if (val) {\n            isActive = false;\n            return;\n        }\n\n        setTimeout(async () => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const currentRoute = MobJs.getActiveRoute();\n            if (currentRoute.route !== activeRoute.route) return;\n\n            /**\n             * Restart loop\n             */\n            MobCore.useFrame(() => loop());\n        }, 500);\n    });\n\n    /**\n     * Destroy.\n     */\n    return () => {\n        unsubscribeResize();\n        unWatchPause();\n        sequencersInstances.forEach(({ sequencer, unsubscribe }) => {\n            sequencer.destroy();\n            unsubscribe();\n        });\n        sequencersInstances = [];\n        masterSequencer.destroy();\n        // @ts-ignore\n        masterSequencer = null;\n        staggers = [];\n        scrollerInstance.destroy();\n        // @ts-ignore\n        scrollerInstance = null;\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        gridData = [];\n        data = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {ScrollerN0} from './type';\n * @import {AnimationTitle} from '@commonComponent/animation-title/type';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { canvasBackground } from '@utils/canvas-utils';\nimport {\n    activateScrollDownArrow,\n    deactivateScrollDownArrow,\n} from '../../../common/scroll-down-label/utils';\nimport { scrollerN0Animation } from './animation/animation';\n\n/** @type {MobComponent<ScrollerN0>} */\nexport const ScrollerN0Fn = ({\n    onMount,\n    getState,\n    setRef,\n    getRef,\n    bindEffect,\n    getProxi,\n    staticProps,\n}) => {\n    const proxi = getProxi();\n    document.body.style.background = canvasBackground;\n\n    onMount(() => {\n        /** Show scroll down label. */\n        activateScrollDownArrow();\n\n        /**\n         * Refs\n         */\n        const { canvas, canvasScroller } = getRef();\n\n        /**\n         * Prevent landing at bottom of the page.\n         */\n        window.scrollTo(0, 0);\n\n        const destroyAnimation = scrollerN0Animation({\n            canvas,\n            canvasScroller,\n            ...getState(),\n        });\n\n        MobCore.useFrame(() => {\n            proxi.isMounted = true;\n        });\n\n        return () => {\n            destroyAnimation();\n            deactivateScrollDownArrow();\n            document.body.style.background = '';\n        };\n    });\n\n    /**\n     * Desktop\n     */\n    return html`\n        <div>\n            <div class=\"c-canvas c-canvas--fixed \">\n                <div\n                    class=\"c-canvas__wrap\"\n                    ${bindEffect({\n                        toggleClass: { active: () => proxi.isMounted },\n                    })}\n                >\n                    <canvas ${setRef('canvas')}></canvas>\n                </div>\n                <animation-title\n                    ${staticProps(\n                        /** @type {AnimationTitle['state']} */ ({\n                            title: 'Scroll control',\n                            list: [\n                                'Sequencer',\n                                'CreateStagger',\n                                'ScrollTrigger',\n                            ],\n                        })\n                    )}\n                ></animation-title>\n            </div>\n            <div class=\"c-canvas-scroller\" ${setRef('canvasScroller')}></div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { detectFirefox, detectSafari } from '@utils/utils';\nimport { ScrollerN0Fn } from './scroller-n0';\nimport { AnimationTitle } from '@commonComponent/animation-title/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const ScrollerN0 = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').ScrollerN0>} */\n    ({\n        tag: 'scroller-n0',\n        component: ScrollerN0Fn,\n        exportState: [\n            'numberOfRow',\n            'numberOfColumn',\n            'cellWidth',\n            'cellHeight',\n            'gutter',\n            'fill',\n            'stagger',\n            'reorder',\n            'disableOffcanvas',\n        ],\n        state: {\n            isMounted: false,\n            numberOfRow: () => ({\n                value: 10,\n                type: Number,\n            }),\n            numberOfColumn: () => ({\n                value: 10,\n                type: Number,\n            }),\n            cellWidth: () => ({\n                value: window.innerHeight / 16,\n                type: Number,\n            }),\n            cellHeight: () => ({\n                value: window.innerHeight / 16,\n                type: Number,\n            }),\n            gutter: () => ({\n                value: 1,\n                type: Number,\n            }),\n            fill: () => ({\n                value: [\n                    36, 37, 38, 39, 40, 47, 51, 58, 62, 69, 73, 80, 81, 82, 83,\n                    84,\n                ],\n                type: Array,\n            }),\n            stagger: () => ({\n                value: {\n                    type: 'equal',\n                    each: 6,\n                    from: 'random',\n                },\n                type: 'Any',\n            }),\n            reorder: () => ({\n                value: true,\n                type: Boolean,\n            }),\n            disableOffcanvas: () => ({\n                value: detectFirefox() || detectSafari() ? true : false,\n                type: Boolean,\n            }),\n        },\n        child: [AnimationTitle],\n    })\n);\n", "export const scrollerParams = [\n    {\n        animation: {},\n        nav: {\n            prevRoute: '#animatedPatternN1',\n            nextRoute: '#scrollerN0?version=1&activeId=1',\n            backRoute: '#canvas-overview',\n        },\n    },\n    {\n        title: 'Scroller N.0 v1',\n        animation: {\n            stagger: {\n                type: 'end',\n                each: 1,\n                from: { x: 0, y: 0 },\n                grid: { col: 11, row: 10, direction: 'radial' },\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#scrollerN0?version=0&activeId=0',\n            nextRoute: '#scrollerN0?version=2&activeId=2',\n            backRoute: '#canvas-overview',\n        },\n    },\n    {\n        animation: {\n            stagger: {\n                type: 'equal',\n                each: 7,\n                from: 'center',\n                grid: { col: 11, row: 10, direction: 'col' },\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#scrollerN0?version=1&activeId=1',\n            nextRoute: '#scrollerN0?version=3&activeId=3',\n            backRoute: '#canvas-overview',\n        },\n    },\n    {\n        title: 'Scroller N.0 v3',\n        animation: {\n            stagger: {\n                type: 'equal',\n                each: 3,\n                from: 'end',\n                grid: { col: 11, row: 10, direction: 'row' },\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#scrollerN0?version=2&activeId=2',\n            nextRoute: '#scrollerN0?version=4&activeId=4',\n            backRoute: '#canvas-overview',\n        },\n    },\n    {\n        title: 'Scroller N.0 v4',\n        animation: {\n            stagger: {\n                type: 'equal',\n                each: 2,\n                from: 'end',\n            },\n            reorder: false,\n        },\n        nav: {\n            prevRoute: '#scrollerN0?version=3&activeId=3',\n            nextRoute: '#scrollerN1',\n            backRoute: '#canvas-overview',\n        },\n    },\n];\n", "import { updateQuickNavState } from '@commonComponent/quick-nav/utils';\nimport { html, MobJs } from '@mobJs';\nimport { ScrollerN0 } from '@pagesComponent/scroller/n0/definition';\nimport { scrollerParams } from './scroller-params';\n\nMobJs.useComponent([ScrollerN0]);\n\n/** @type {import('@mobJsType').Page} */\nexport const scrollerN0 = ({ params }) => {\n    const { version } = params;\n\n    const props =\n        scrollerParams[\n            Math.max(0, Math.min(Number(version), scrollerParams.length - 1))\n        ];\n\n    /** Quicknav */\n    updateQuickNavState({\n        active: true,\n        prevRoute: props.nav.prevRoute,\n        nextRoute: props.nav.nextRoute,\n        backRoute: props.nav.backRoute,\n        color: 'black',\n    });\n\n    return html`<div>\n        <scroller-n0\n            ${MobJs.staticProps(\n                /** @type {import('@pagesComponent/scroller/n0/type').ScrollerN0['state']} */\n                ({\n                    ...props.animation,\n                })\n            )}\n        ></scroller-n0>\n    </div>`;\n};\n", "// @ts-check\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { MobCore } from '@mobCore';\nimport { outerHeight } from '@mobCoreUtils';\nimport { MobJs } from '@mobJs';\nimport { MobScroll, MobTween } from '@mobMotion';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    getCanvasContext,\n    getOffsetCanvas,\n} from '@utils/canvas-utils';\n\n/**\n * @param {object} params\n * @param {number} params.width\n * @param {number} params.relativeIndex\n * @param {number} params.amountOfPath\n * @returns {number}\n */\nfunction getWithRounded({ width, relativeIndex, amountOfPath }) {\n    return (\n        Math.sqrt(\n            Math.pow(width * relativeIndex, 2) -\n                Math.pow(\n                    ((width * relativeIndex) / amountOfPath) * relativeIndex,\n                    2\n                )\n        ) * 2\n    );\n}\n\n/**\n * @param {object} params\n * @param {number} params.height\n * @param {number} params.relativeIndex\n * @param {number} params.amountOfPath\n * @returns {number}\n */\nfunction getHeightRounded({ height, relativeIndex, amountOfPath }) {\n    return (\n        Math.sqrt(\n            Math.pow(height * relativeIndex, 2) -\n                Math.pow(\n                    ((height * relativeIndex) / amountOfPath) * relativeIndex,\n                    2\n                )\n        ) * 2\n    );\n}\n\n/** @type {import('../type').ScrollerN1Animation} */\nexport const scrollerN1Animation = ({\n    canvas,\n    canvasScroller,\n    amountOfPath,\n    width,\n    height,\n    opacity,\n    intialRotation,\n    endRotation,\n    disableOffcanvas,\n}) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let ctx = canvas.getContext(context, { alpha: false });\n    const activeRoute = MobJs.getActiveRoute();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n    // let wichContext = useOffscreen ? offScreenCtx : ctx;\n    // const useRadius = roundRectIsSupported(wichContext) && !detectSafari();\n    // wichContext = null;\n\n    const useRadius = false;\n\n    /**\n     * Initial misure.\n     */\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    /**\n     * Setup data.\n     */\n    let stemData = [...Array.from({ length: amountOfPath }).keys()].map(\n        (_item, i) => {\n            const relativeIndex =\n                i >= amountOfPath / 2\n                    ? amountOfPath / 2 + (amountOfPath / 2 - i)\n                    : i;\n\n            return {\n                width: Math.floor(\n                    getWithRounded({ width, relativeIndex, amountOfPath })\n                ),\n                height: Math.floor(\n                    getHeightRounded({ height, relativeIndex, amountOfPath })\n                ),\n                opacity: relativeIndex * opacity,\n                rotate: 0,\n                relativeIndex,\n                index: i,\n            };\n        }\n    );\n\n    /**\n     * Create tween.\n     */\n    let scrollerTween = MobTween.createScrollerTween({\n        from: { rotate: 0 },\n        to: { rotate: endRotation },\n        stagger: { each: 5, from: 'center' },\n    });\n\n    /**\n     * Subscribe rect to rotation tween.\n     */\n    [...stemData].forEach((item) => {\n        scrollerTween.subscribeCache(item, ({ rotate }) => {\n            item.rotate = rotate;\n        });\n    });\n\n    /**\n     * Main draw function.\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen && offscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen\n            ? offScreenCtx\n            : /** @type {CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D} */ (\n                  ctx\n              );\n\n        if (!context) return;\n\n        /**\n         * Get center of canvas.\n         */\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n\n        /**\n         * Clear rpevious render.\n         */\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        stemData.forEach(({ width, height, opacity, rotate, index }) => {\n            const unitInverse = stemData.length / 2 - index;\n\n            /**\n             * Center canvas in the screen\n             */\n\n            const scale = 1;\n            const rotation = (Math.PI / 180) * (rotate - intialRotation);\n            const xx = Math.cos(rotation) * scale;\n            const xy = Math.sin(rotation) * scale;\n\n            /**\n             * Apply scale/rotation/scale all together.\n             */\n            context.setTransform(\n                xx,\n                xy,\n                -xy,\n                xx,\n                centerX,\n                centerY + unitInverse * 19\n            );\n\n            /**\n             * Shape\n             */\n            if (useRadius) {\n                context.beginPath();\n                context.roundRect(\n                    -width / 2,\n                    -height / 2 + unitInverse * 19,\n                    width,\n                    height,\n                    150\n                );\n            } else {\n                context.beginPath();\n                context.rect(\n                    Math.round(-width / 2),\n                    Math.round(-height / 2),\n                    width,\n                    height\n                );\n            }\n\n            /**\n             * Color.\n             */\n            context.strokeStyle = `rgba(0, 0, 0, ${opacity})`;\n            context.fillStyle = `rgba(255, 255, 255, ${opacity})`;\n            context.stroke();\n            context.fill();\n\n            /**\n             * Reset all transform instead save() restore().\n             */\n            context.setTransform(1, 0, 0, 1, 0, 0);\n        });\n\n        // @ts-ignore\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Create scrollTrigger.\n     */\n    let scrollerInstance = MobScroll.createScrollTrigger({\n        trigger: canvasScroller,\n        propierties: 'tween',\n        tween: scrollerTween,\n        dynamicStart: {\n            position: 'bottom',\n            value: () => window.innerHeight,\n        },\n        dynamicEnd: {\n            position: 'bottom',\n            value: () => outerHeight(canvasScroller),\n        },\n        ease: true,\n        easeType: 'spring',\n    });\n\n    /**\n     * Initialize scrollTrigger.\n     */\n    scrollerInstance.init();\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n        if (!isActive) return;\n\n        MobCore.useNextFrame(() => loop());\n    };\n\n    /**\n     * Start loop.\n     */\n    MobCore.useFrame(() => {\n        loop();\n    });\n\n    /**\n     * Resize canvas.\n     */\n    const unsubscribeResize = MobCore.useResize(() => {\n        canvas.width = canvas.clientWidth;\n        canvas.height = canvas.clientHeight;\n\n        MobCore.useFrame(() => {\n            draw();\n        });\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('navigationIsOpen', (val) => {\n        if (val) {\n            isActive = false;\n            return;\n        }\n\n        setTimeout(() => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const currentRoute = MobJs.getActiveRoute();\n            if (currentRoute.route !== activeRoute.route) return;\n\n            /**\n             * Restart loop\n             */\n            MobCore.useFrame(() => loop());\n        }, 500);\n    });\n\n    return () => {\n        scrollerTween.destroy();\n        unsubscribeResize();\n        unWatchPause();\n        scrollerTween.destroy();\n        // @ts-ignore\n        scrollerTween = null;\n        scrollerInstance.destroy();\n        // @ts-ignore\n        scrollerInstance = null;\n        ctx = null;\n        offscreen = null;\n        offScreenCtx = null;\n        // @ts-ignore\n        scrollerTween = null;\n        stemData = [];\n        isActive = false;\n    };\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {ScrollerN1} from './type';\n * @import {AnimationTitle} from '@commonComponent/animation-title/type';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { canvasBackground } from '@utils/canvas-utils';\nimport {\n    activateScrollDownArrow,\n    deactivateScrollDownArrow,\n} from '../../../common/scroll-down-label/utils';\nimport { scrollerN1Animation } from './animation/animation';\n\n/** @type {MobComponent<ScrollerN1>} */\nexport const ScrollerN1Fn = ({\n    onMount,\n    getState,\n    setState,\n    setRef,\n    getRef,\n    bindEffect,\n    getProxi,\n    staticProps,\n}) => {\n    const proxi = getProxi();\n\n    document.body.style.background = canvasBackground;\n\n    onMount(() => {\n        /** Show scroll down label. */\n        activateScrollDownArrow();\n\n        /**\n         * Refs\n         */\n        const { canvas, canvasScroller } = getRef();\n\n        const destroyAnimation = scrollerN1Animation({\n            canvas,\n            canvasScroller,\n            ...getState(),\n        });\n\n        MobCore.useFrame(() => {\n            setState('isMounted', true);\n        });\n\n        return () => {\n            destroyAnimation();\n            deactivateScrollDownArrow();\n            document.body.style.background = '';\n        };\n    });\n\n    /**\n     * Desktop\n     */\n    return html`\n        <div>\n            <div class=\"c-canvas c-canvas--fixed \">\n                <div\n                    class=\"c-canvas__wrap\"\n                    ${bindEffect({\n                        toggleClass: { active: () => proxi.isMounted },\n                    })}\n                >\n                    <canvas ${setRef('canvas')}></canvas>\n                </div>\n                <animation-title\n                    ${staticProps(\n                        /** @type {AnimationTitle['state']} */ ({\n                            title: 'Scroll control',\n                            list: ['ScrollerTween', 'ScrollTrigger'],\n                        })\n                    )}\n                ></animation-title>\n            </div>\n            <div class=\"c-canvas-scroller\" ${setRef('canvasScroller')}></div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { detectFirefox, detectSafari } from '@utils/utils';\nimport { ScrollerN1Fn } from './scroller-n1';\nimport { AnimationTitle } from '@commonComponent/animation-title/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const ScrollerN1 = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').ScrollerN1>} */\n    ({\n        tag: 'scroller-n1',\n        component: ScrollerN1Fn,\n        exportState: [\n            'amountOfPath',\n            'width',\n            'height',\n            'radius',\n            'opacity',\n            'intialRotation',\n            'endRotation',\n            'disableOffcanvas',\n        ],\n        state: {\n            isMounted: false,\n            amountOfPath: 17,\n            width: 15,\n            height: 40,\n            radius: 0,\n            opacity: 0.05,\n            intialRotation: 33,\n            endRotation: 720,\n            disableOffcanvas: () => ({\n                value: detectFirefox() || detectSafari() ? true : false,\n                type: Boolean,\n            }),\n        },\n        child: [AnimationTitle],\n    })\n);\n", "import { updateQuickNavState } from '@commonComponent/quick-nav/utils';\nimport { html, MobJs } from '@mobJs';\nimport { ScrollerN1 } from '@pagesComponent/scroller/n1/definition';\n\nMobJs.useComponent([ScrollerN1]);\n\nexport const scrollerN1 = () => {\n    /** Quicknav */\n    updateQuickNavState({\n        active: true,\n        prevRoute: '#scrollerN0?version=4&activeId=4',\n        nextRoute: '',\n        backRoute: '#canvas-overview',\n        color: 'black',\n    });\n\n    return html`<div class=\"l-padding\">\n        <scroller-n1></scroller-n1>\n    </div>`;\n};\n", "//@ts-check\n\nimport { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent<import('./type').DynamicListButton>} */\nexport const DynamicListButtonFn = ({ getProxi, bindEffect }) => {\n    const proxi = getProxi();\n\n    return html`\n        <button\n            type=\"button\"\n            class=\"c-dynamic-list-button\"\n            ${bindEffect({\n                observe: 'active',\n                toggleClass: { active: () => proxi.active },\n            })}\n        >\n            ${proxi.label}\n        </button>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { DynamicListButtonFn } from './dynamic-list-button';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DynamicListButton = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DynamicListButton>} */\n    ({\n        tag: 'dynamic-list-button',\n        component: DynamicListButtonFn,\n        exportState: ['active', 'label'],\n        state: {\n            label: () => ({\n                value: '',\n                type: String,\n            }),\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "//@ts-check\n\nimport { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent<import('./type').DynamicListCardInner>} */\nexport const DynamicListCardInnerFn = ({ bindText }) => {\n    return html`<span class=\"dynamic-list-card-inner\">\n        <span>${bindText`${'key'}`}</span>\n    </span>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { DynamicListCardInnerFn } from './dynamic-list-card-inner';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DynamicListCardInner = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DynamicListCardInner>} */\n    ({\n        tag: 'dynamic-list-card-inner',\n        component: DynamicListCardInnerFn,\n        exportState: ['key'],\n        state: {\n            key: () => ({\n                value: '',\n                type: String,\n            }),\n        },\n    })\n);\n", "//@ts-check\n\nexport const startData = [\n    {\n        key: 'a',\n        label: 'A',\n    },\n    {\n        key: 'b',\n        label: 'B',\n    },\n    {\n        key: 'c',\n        label: 'C',\n    },\n    {\n        key: 'd',\n        label: 'D',\n    },\n];\n\nexport const state1 = [\n    {\n        key: 'f',\n        label: 'F',\n    },\n    {\n        key: 'b',\n        label: 'B',\n    },\n    {\n        key: 'e',\n        label: 'E',\n    },\n    {\n        key: 'c',\n        label: 'C',\n    },\n    {\n        key: 'b',\n        label: 'B',\n    },\n    {\n        key: 'a',\n        label: 'A',\n    },\n    {\n        key: 'g',\n        label: 'G',\n    },\n    {\n        key: 'h',\n        label: 'H',\n    },\n    {\n        key: 'd',\n        label: 'D',\n    },\n    {\n        key: 'b',\n        label: 'B',\n    },\n];\n\nexport const state2 = [\n    {\n        key: 'm',\n        label: 'M',\n    },\n    {\n        key: 'q',\n        label: 'Q',\n    },\n    {\n        key: 'z',\n        label: 'Z',\n    },\n    {\n        key: 'i',\n        label: 'I',\n    },\n    {\n        key: 'b',\n        label: 'B',\n    },\n    {\n        key: 'e',\n        label: 'E',\n    },\n    {\n        key: 'n',\n        label: 'N',\n    },\n    {\n        key: 'a',\n        label: 'A',\n    },\n    {\n        key: 'g',\n        label: 'G',\n    },\n    {\n        key: 'h',\n        label: 'H',\n    },\n    {\n        key: 'l',\n        label: 'L',\n    },\n    {\n        key: 'j',\n        label: 'J',\n    },\n    {\n        key: 'd',\n        label: 'D',\n    },\n];\n\nexport const state3 = [\n    {\n        key: 'h',\n        label: 'H',\n    },\n    {\n        key: 'f',\n        label: 'F',\n    },\n    {\n        key: 'a',\n        label: 'A',\n    },\n    {\n        key: 'd',\n        label: 'D',\n    },\n];\n\nexport const innerData = [\n    [{ key: 4 }],\n    [\n        { key: 20 },\n        { key: 10 },\n        { key: 10 },\n        { key: 6 },\n        { key: 10 },\n        { key: 10 },\n        { key: 30 },\n    ],\n    [\n        { key: 3 },\n        { key: 20 },\n        { key: 5 },\n        { key: 20 },\n        { key: 5 },\n        { key: 5 },\n        { key: 5 },\n        { key: 5 },\n        { key: 60 },\n        { key: 5 },\n        { key: 5 },\n        { key: 5 },\n        { key: 5 },\n        { key: 5 },\n        { key: 5 },\n        { key: 5 },\n        { key: 5 },\n        { key: 10 },\n        { key: 5 },\n    ],\n];\n", "//@ts-check\n\n/**\n * @import {MobComponent, ReturnBindProps,  StaticProps, DelegateEvents, BindProps} from '@mobJsType';\n * @import {DynamicList} from './type';\n * @import {DynamicListButton} from './button/type';]\n * @import {DynamicListRepeater} from './repeaters/type';]\n * @import {DynamicListCardInner} from './card/innerCard/type';]\n */\n\nimport { html, MobJs } from '@mobJs';\nimport { startData, state1, state2, state3 } from './data';\n\nconst buttons = [\n    {\n        buttonLabel: 'sample1',\n        data: state1,\n    },\n    {\n        buttonLabel: 'salmple2',\n        data: state2,\n    },\n    {\n        buttonLabel: 'sample3',\n        data: state3,\n    },\n    {\n        buttonLabel: 'Initial',\n        data: startData,\n    },\n];\n\nconst repeaters = [\n    {\n        label: 'repeater with key',\n        key: 'key',\n        clean: false,\n    },\n    {\n        label: 'repeater without key',\n        key: '',\n        clean: false,\n    },\n    {\n        label: 'repeater clear',\n        key: '',\n        clean: true,\n    },\n];\n\n/**\n * @param {object} param\n * @param {StaticProps} param.staticProps\n * @param {DelegateEvents} param.delegateEvents\n * @param {BindProps<DynamicList, DynamicListButton>} param.bindProps\n * @param {DynamicList['state']} param.proxi\n */\nfunction getButton({ staticProps, delegateEvents, bindProps, proxi }) {\n    return buttons\n        .map((column, index) => {\n            const { data, buttonLabel } = column;\n\n            return html`\n                <dynamic-list-button\n                    class=\"c-dynamic-list__top__button\"\n                    ${staticProps(\n                        /** @type {DynamicListButton['state']} */ ({\n                            label: buttonLabel,\n                        })\n                    )}\n                    ${delegateEvents({\n                        click: async () => {\n                            proxi.data = data;\n                            proxi.activeSample = index;\n\n                            await MobJs.tick();\n                        },\n                    })}\n                    ${bindProps(\n                        /** @returns {ReturnBindProps<DynamicListButton>} */\n                        () => ({\n                            active: index === proxi.activeSample,\n                        })\n                    )}\n                ></dynamic-list-button>\n            `;\n        })\n        .join('');\n}\n\n/**\n * @param {object} param\n * @param {StaticProps} param.staticProps\n * @param {BindProps<DynamicList, DynamicListRepeater>} param.bindProps\n * @param {DynamicList['state']} param.proxi\n */\nfunction getRepeaters({ bindProps, staticProps, proxi }) {\n    return repeaters\n        .map((item, index) => {\n            const { key, clean, label } = item;\n\n            return html`\n                <dynamic-list-repeater\n                    ${staticProps(\n                        /** @type {DynamicListRepeater['state']} */ ({\n                            listId: index,\n                            key,\n                            clean,\n                            label,\n                        })\n                    )}\n                    ${bindProps(\n                        /** @returns {ReturnBindProps<DynamicListRepeater>} */\n                        () => ({\n                            data: proxi.data,\n                            counter: proxi.counter,\n                        })\n                    )}\n                ></dynamic-list-repeater>\n            `;\n        })\n        .join('');\n}\n\n/** @type {MobComponent<DynamicList>} */\nexport const DynamicListFn = ({\n    updateState,\n    staticProps,\n    bindProps,\n    delegateEvents,\n    invalidate,\n    bindText,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n\n    return html`\n        <div class=\"c-dynamic-list\">\n            <div class=\"c-dynamic-list__header\">\n                <div class=\"c-dynamic-list__top\">\n                    ${getButton({\n                        delegateEvents,\n                        staticProps,\n                        bindProps,\n                        proxi,\n                    })}\n                    <dynamic-list-button\n                        class=\"c-dynamic-list__top__button\"\n                        ${staticProps(\n                            /** @type {DynamicListButton['state']} */ ({\n                                label: '+ counter ( max: 10 )',\n                            })\n                        )}\n                        ${delegateEvents({\n                            click: async () => {\n                                updateState('counter', (prev) => {\n                                    return prev + 1;\n                                });\n                            },\n                        })}\n                    ></dynamic-list-button>\n                    <dynamic-list-button\n                        class=\"c-dynamic-list__top__button\"\n                        ${staticProps(\n                            /** @type {DynamicListButton['state']} */ ({\n                                label: '- counter: ( min 0 )',\n                            })\n                        )}\n                        ${delegateEvents({\n                            click: async () => {\n                                updateState('counter', (prev) => {\n                                    if (prev > 0) return (prev -= 1);\n                                    return prev;\n                                });\n                            },\n                        })}\n                    ></dynamic-list-button>\n                </div>\n            </div>\n\n            <!-- Invalidate -->\n            <div class=\"c-dynamic-list__invalidate\">\n                <h4 class=\"c-dynamic-list__invalidate__title\">\n                    Invalidate component on counter mutation:\n                </h4>\n                <div class=\"c-dynamic-list__invalidate__wrap\">\n                    ${invalidate({\n                        observe: () => proxi.counter,\n                        render: () => {\n                            return html`<div class=\"validate-test-wrapper\">\n                                <dynamic-list-card-inner\n                                    ${bindProps(\n                                        /** @returns {ReturnBindProps<DynamicListCardInner>} */\n                                        () => ({\n                                            key: `${proxi.counter}`,\n                                        })\n                                    )}\n                                ></dynamic-list-card-inner>\n                            </div>`;\n                        },\n                    })}\n                </div>\n            </div>\n\n            <div class=\"c-dynamic-list__counter\">\n                <h4>List counter</h4>\n                <span>${bindText`${'counter'}`}</span>\n            </div>\n\n            <!-- Repeaters -->\n            <div class=\"c-dynamic-list__container\">\n                <div class=\"c-dynamic-list__grid\">\n                    ${getRepeaters({ bindProps, staticProps, proxi })}\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent<import('./type').DynamicCounter>} */\nexport const DynamicListCounterFn = ({ getState, bindText }) => {\n    const { parentListId } = getState();\n\n    return html`<div class=\"dynamic-counter\">\n        <p class=\"c-dynamic-counter__title\">Nested:</p>\n        <p class=\"c-dynamic-counter__subtitle\">(slotted)</p>\n        <p class=\"c-dynamic-counter__list\">list index: ${parentListId}</p>\n        <span>${bindText`${'counter'}`}</span>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { DynamicListCounterFn } from './dynamic-list-counter';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DynamicCounter = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DynamicCounter>} */\n    ({\n        tag: 'dynamic-list-counter',\n        component: DynamicListCounterFn,\n        exportState: ['counter', 'parentListId'],\n        state: {\n            parentListId: () => ({\n                value: -1,\n                type: Number,\n            }),\n            counter: () => ({\n                value: 0,\n                type: Number,\n            }),\n        },\n    })\n);\n", "//@ts-check\n\nimport { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent} */\nexport const DynamicListEmptyFn = () => {\n    return html`<div class=\"c-dynamic-list-empty\">\n        <p>empty comp</p>\n        <mobjs-slot name=\"empty-slot\"></mobjs-slot>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { DynamicListEmptyFn } from './dynamic-list-empty';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DynamicListEmpty = MobJs.createComponent(\n    /** @type {CreateComponentParams<any>} */\n    ({\n        tag: 'dynamic-list-empty',\n        component: DynamicListEmptyFn,\n    })\n);\n", "//@ts-check\n\n/**\n * @import {MobComponent, ReturnBindProps, StaticProps, DelegateEvents} from '@mobJsType';\n * @import {DynamicListCardInner} from './innerCard/type';\n * @import {DynamicListCard} from './type';\n * @import {DynamicCounter} from '../counter/type';\n * @import {DynamicListButton} from '../button/type';\n */\n\nimport { html, MobJs } from '@mobJs';\nimport { innerData } from '../data';\n\n/** @param {number} numberOfItem */\nfunction createArray(numberOfItem) {\n    return [...Array.from({ length: numberOfItem }).keys()].map((i) => i + 1);\n}\n\n/**\n * @param {object} params\n * @param {StaticProps<DynamicListCardInner>} params.staticProps\n * @param {DelegateEvents} params.delegateEvents\n * @param {DynamicListCard['state']} params.proxi\n */\nconst getInvalidateRender = ({ staticProps, delegateEvents, proxi }) => {\n    return html`\n        ${createArray(proxi.counter)\n            .map((item) => {\n                return html`\n                    <div class=\"validate-test-wrapper\">\n                        <dynamic-list-card-inner\n                            ${staticProps(\n                                /** @type {DynamicListCardInner['state']} */ ({\n                                    key: `${item}`,\n                                })\n                            )}\n                            ${delegateEvents({\n                                click: () => {\n                                    console.log(\n                                        'invalidate inside reepater click'\n                                    );\n                                },\n                            })}\n                        >\n                        </dynamic-list-card-inner>\n                    </div>\n                `;\n            })\n            .join('')}\n    `;\n};\n\n/** @type {MobComponent<DynamicListCard>} */\nexport const DynamicListCardFn = ({\n    onMount,\n    key,\n    staticProps,\n    bindProps,\n    id,\n    delegateEvents,\n    invalidate,\n    repeat,\n    bindText,\n    bindEffect,\n    getProxi,\n    computed,\n}) => {\n    const proxi = getProxi();\n    let repeaterIndex = 0;\n\n    computed(\n        () => proxi.innerDataUnivoque,\n        () =>\n            proxi.innerData.filter(\n                (value, index, self) =>\n                    self.map(({ key }) => key).indexOf(value.key) === index\n            )\n    );\n\n    onMount(async () => {\n        (async () => {\n            await MobJs.tick();\n            proxi.isMounted = true;\n        })();\n\n        return () => {};\n    });\n\n    const isFullClass = proxi.isFull ? 'is-full' : '';\n\n    return html`\n        <div\n            class=\"c-dynamic-card ${isFullClass}\"\n            ${bindEffect({\n                toggleClass: {\n                    active: () => proxi.isMounted,\n                    'is-selected': () => proxi.isSelected,\n                },\n            })}\n        >\n            <div class=\"c-dynamic-card__container\">\n                <p class=\"c-dynamic-card__title\">card content</p>\n                <dynamic-list-button\n                    class=\"c-dynamic-card__button\"\n                    ${delegateEvents({\n                        click: () => {\n                            proxi.isSelected = !proxi.isSelected;\n                        },\n                    })}\n                    ${bindProps(\n                        /** @returns {ReturnBindProps<DynamicListButton>} */\n                        () => ({\n                            active: proxi.isSelected,\n                        })\n                    )}\n                >\n                    Select\n                </dynamic-list-button>\n                <div class=\"id\">id: ${id}</div>\n                <div class=\"parentId\">list index: ${proxi.parentListId}</div>\n                <div class=\"index\">${bindText`index: ${'index'}`}</div>\n                <div class=\"label\">${bindText`label: ${'label'}`}</div>\n                <div class=\"counter\">${bindText`counter: ${'counter'}`}</div>\n                <div class=\"key\">key: ${key.length > 0 ? key : 'no-key'}</div>\n                <mobjs-slot name=\"card-label-slot\"></mobjs-slot>\n                <dynamic-list-empty>\n                    <dynamic-list-counter\n                        slot=\"empty-slot\"\n                        ${staticProps(\n                            /** @type {DynamicCounter['state']} */ ({\n                                parentListId: proxi.parentListId,\n                            })\n                        )}\n                        ${bindProps(\n                            /** @returns {ReturnBindProps<DynamicCounter>} */\n                            () => ({\n                                counter: proxi.counter,\n                            })\n                        )}\n                    />\n                </dynamic-list-empty>\n\n                <!-- Inner repeater -->\n                <div class=\"c-dynamic-card__repeater-container\">\n                    <p><strong>Inner repeater:</strong></p>\n                    <dynamic-list-button\n                        class=\"c-dynamic-card__button\"\n                        ${delegateEvents({\n                            click: async () => {\n                                repeaterIndex =\n                                    repeaterIndex < innerData.length - 1\n                                        ? repeaterIndex + 1\n                                        : 0;\n\n                                proxi.innerData = innerData[repeaterIndex];\n                                await MobJs.tick();\n                            },\n                        })}\n                    >\n                        Update:\n                    </dynamic-list-button>\n\n                    <!-- repeater by key -->\n                    <div class=\"c-dynamic-card__repeater\">\n                        ${repeat({\n                            observe: () => proxi.innerDataUnivoque,\n                            key: 'key',\n                            render: ({ current }) => {\n                                return html`<dynamic-list-card-inner\n                                    ${bindProps(\n                                        /** @returns {ReturnBindProps<DynamicListCardInner>} */\n                                        () => ({\n                                            key: `${current.value.key}`,\n                                        })\n                                    )}\n                                ></dynamic-list-card-inner>`;\n                            },\n                        })}\n                    </div>\n\n                    <!-- repeater no key -->\n                    <div class=\"c-dynamic-card__repeater\">\n                        ${repeat({\n                            observe: () => proxi.innerData,\n                            render: ({ current }) => {\n                                return html`<dynamic-list-card-inner\n                                    ${bindProps(\n                                        /** @returns {ReturnBindProps<DynamicListCardInner>} */\n                                        () => ({\n                                            key: `${current.value.key}`,\n                                        })\n                                    )}\n                                ></dynamic-list-card-inner>`;\n                            },\n                        })}\n                    </div>\n                </div>\n\n                <!-- Invalidate -->\n                <div class=\"c-dynamic-card__invalidate\">\n                    <p>\n                        <strong\n                            >Inner invalidate<br />\n                            on counter mutation:</strong\n                        >\n                    </p>\n                    <div class=\"c-dynamic-card__invalidate__wrap\">\n                        ${invalidate({\n                            observe: () => proxi.counter,\n                            render: () => {\n                                return getInvalidateRender({\n                                    delegateEvents,\n                                    staticProps,\n                                    proxi,\n                                });\n                            },\n                        })}\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { DynamicListButton } from '../button/definition';\nimport { DynamicCounter } from '../counter/definition';\nimport { innerData } from '../data';\nimport { DynamicListEmpty } from '../empty/definition';\nimport { DynamicListCardFn } from './dynamic-list-card';\nimport { DynamicListCardInner } from './innerCard/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DynamicListCard = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DynamicListCard>} */\n    ({\n        tag: 'dynamic-list-card',\n        component: DynamicListCardFn,\n        exportState: ['isFull', 'label', 'index', 'counter', 'parentListId'],\n        state: {\n            parentListId: () => ({\n                value: -1,\n                type: Number,\n            }),\n            isFull: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            label: () => ({\n                value: '-',\n                type: String,\n            }),\n            index: () => ({\n                value: -1,\n                type: Number,\n            }),\n            counter: () => ({\n                value: 1,\n                type: Number,\n            }),\n            innerData: () => ({\n                value: innerData[0],\n                type: Array,\n            }),\n            innerDataUnivoque: () => ({\n                value: innerData[0],\n                type: Array,\n            }),\n            isSelected: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            isMounted: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n        child: [\n            DynamicCounter,\n            DynamicListEmpty,\n            DynamicListCardInner,\n            DynamicListButton,\n        ],\n    })\n);\n", "//@ts-check\n\nimport { html } from '@mobJs';\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {DynamicListSlottedLabel} from './type';\n */\n\n/** @type {MobComponent<DynamicListSlottedLabel>} * */\nexport const DynamicListSlottedLabelFn = ({ bindText }) => {\n    return html`<div class=\"c-dynamic-list-slotted-label\">\n        <p class=\"content\">${bindText`slotted: ${'label'}`}</p>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { DynamicListSlottedLabelFn } from './dynamic-list-slotted-label';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DynamicListSlottedLabel = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DynamicListSlottedLabel>} */\n    ({\n        tag: 'dynamic-slotted-label',\n        component: DynamicListSlottedLabelFn,\n        exportState: ['label'],\n        state: {\n            label: () => ({\n                value: '',\n                type: String,\n            }),\n        },\n    })\n);\n", "//@ts-check\n\n/**\n * @import {Current, MobComponent, ReturnBindProps, StaticProps, BindProps, DelegateEvents} from '@mobJsType';\n * @import {DynamicListCard} from '../card/type';\n * @import {DynamicListRepeater} from './type';\n * @import {DynamicListSlottedLabel} from '../slotted-label/type';\n */\n\nimport { html } from '@mobJs';\n\n/**\n * @param {object} param\n * @param {StaticProps<DynamicListCard>} param.staticProps\n * @param {BindProps<DynamicListRepeater>} param.bindProps\n * @param {DelegateEvents} param.delegateEvents\n * @param {Current<DynamicListRepeater, 'data'>} param.current\n * @param {DynamicListRepeater['state']} param.proxi\n */\nfunction getRepeaterCard({\n    staticProps,\n    bindProps,\n    delegateEvents,\n    current,\n    proxi,\n}) {\n    return html`\n        <div class=\"c-dynamic-list-repeater__item\">\n            <dynamic-list-card\n                ${staticProps(\n                    /** @type {DynamicListCard['state']} */ ({\n                        parentListId: proxi.listId,\n                    })\n                )}\n                ${bindProps(\n                    /** @returns {ReturnBindProps<DynamicListCard>} */\n                    () => ({\n                        counter: proxi.counter,\n                        label: current.value.label,\n                        index: current.index,\n                    })\n                )}\n                ${delegateEvents({\n                    click: () => {\n                        console.log(current.value?.label, current.index);\n                    },\n                })}\n            >\n                <dynamic-slotted-label\n                    slot=\"card-label-slot\"\n                    ${bindProps(\n                        /** @returns {ReturnBindProps<DynamicListSlottedLabel>} */\n                        () => ({\n                            label: `label: ${current.value.label} <br/> counter: ${proxi.counter}`,\n                        })\n                    )}\n                >\n                </dynamic-slotted-label>\n            </dynamic-list-card>\n        </div>\n    `;\n}\n\n/** @type {MobComponent<DynamicListRepeater>} */\nexport const DynamicListRepeaterFn = ({\n    staticProps,\n    bindProps,\n    delegateEvents,\n    repeat,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n    const keyParsed = proxi.key.length > 0 ? proxi.key : undefined;\n\n    return html`\n        <div class=\"c-dynamic-list-repeater\">\n            <h4 class=\"c-dynamic-list-repeater__title\">${proxi.label}</h4>\n            <div class=\"c-dynamic-list-repeater__list\">\n                ${repeat({\n                    observe: () => proxi.data,\n                    clean: proxi.clean,\n                    key: keyParsed,\n                    afterUpdate: () => {\n                        console.log('repeater updated');\n                    },\n                    render: ({ current }) => {\n                        return getRepeaterCard({\n                            staticProps,\n                            bindProps,\n                            delegateEvents,\n                            current,\n                            proxi,\n                        });\n                    },\n                })}\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { DynamicListCard } from '../card/definition';\nimport { DynamicListSlottedLabel } from '../slotted-label/definition';\nimport { DynamicListRepeaterFn } from './dynamic-list-repeater';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DynamicListRepeater = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DynamicListRepeater>} */\n    ({\n        tag: 'dynamic-list-repeater',\n        component: DynamicListRepeaterFn,\n        exportState: [\n            'label',\n            'clean',\n            'data',\n            'listId',\n            'key',\n            'listId',\n            'counter',\n        ],\n        state: {\n            data: () => ({\n                value: [],\n                type: Array,\n            }),\n            key: () => ({\n                value: '',\n                type: String,\n            }),\n            clean: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            listId: () => ({\n                value: -1,\n                type: Number,\n            }),\n            counter: () => ({\n                value: -1,\n                type: Number,\n            }),\n            label: () => ({\n                value: '',\n                type: String,\n            }),\n        },\n        child: [DynamicListCard, DynamicListSlottedLabel],\n    })\n);\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { DynamicListButton } from './button/definition';\nimport { DynamicListCardInner } from './card/innerCard/definition';\nimport { startData } from './data';\nimport { DynamicListFn } from './dynamic-list';\nimport { DynamicListRepeater } from './repeaters/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DynamicList = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DynamicList>} */\n    ({\n        tag: 'dynamic-list',\n        component: DynamicListFn,\n        state: {\n            counter: () => ({\n                value: 1,\n                type: Number,\n                validate: (val) => val <= 10 && val >= 0,\n                strict: true,\n            }),\n            data: () => ({\n                value: startData,\n                type: Array,\n            }),\n            activeSample: () => ({\n                value: 3,\n                type: Number,\n            }),\n        },\n        child: [DynamicListButton, DynamicListRepeater, DynamicListCardInner],\n    })\n);\n", "import { html, MobJs } from '@mobJs';\nimport { DynamicList } from '@pagesComponent/dynamic-list/definition';\n\nMobJs.useComponent([DynamicList]);\n\nexport const dynamic_list = () => {\n    return html` <dynamic-list> </dynamic-list> `;\n};\n", "//@ts-check\n\nimport { MobTimeline, MobTween } from '@mobMotion';\n\n/** @type {import('./type').SimpleIntroAnimation} */\nexport const simpleIntroAnimation = ({ refs }) => {\n    let introTween = MobTween.createTimeTween({\n        data: { opacity: 0, scale: 0.5 },\n        duration: 2000,\n        ease: 'easeOutQuart',\n        stagger: { each: 8, from: 'end' },\n    });\n\n    let loopTween = MobTween.createTimeTween({\n        data: { scale: 1 },\n        duration: 6000,\n        ease: 'easeInOutQuad',\n        stagger: { each: 12, from: 'end' },\n    });\n\n    refs.forEach((item) => {\n        introTween.subscribeCache(item, ({ scale, opacity }) => {\n            item.style.scale = `${scale}`;\n            item.style.opacity = `${opacity}`;\n        });\n\n        loopTween.subscribe(({ scale }) => {\n            item.style.scale = `${scale}`;\n        });\n    });\n\n    let introTl = MobTimeline.createAsyncTimeline({\n        repeat: 1,\n        autoSet: false,\n    }).goTo(introTween, {\n        opacity: 1,\n        scale: 1,\n    });\n\n    let loopTimeline = MobTimeline.createAsyncTimeline({\n        repeat: -1,\n        yoyo: true,\n        autoSet: false,\n    }).goTo(loopTween, {\n        scale: 1.1,\n    });\n\n    return {\n        playIntro: () => introTl?.play(),\n        playSvg: () => {\n            loopTimeline?.play();\n        },\n        destroy: () => {\n            introTween.destroy();\n            // @ts-ignore\n            introTween = null;\n            introTl.destroy();\n            // @ts-ignore\n            introTl = null;\n            loopTween.destroy();\n            // @ts-ignore\n            loopTween = null;\n            loopTimeline.destroy();\n            // @ts-ignore\n            loopTimeline = null;\n        },\n    };\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {HomeComponent} from './type';\n */\n\nimport { simpleIntroAnimation } from '@componentLibs/animation/simple-intro';\nimport { html } from '@mobJs';\n\n/**\n * @param {object} params\n * @param {() => Promise<void>} params.playIntro\n * @param {() => void} params.playSvg\n * @returns {Promise<void>}\n */\nconst playAnimation = async ({ playIntro, playSvg }) => {\n    await playIntro();\n    playSvg();\n};\n\n/** @type {MobComponent<HomeComponent>} */\nexport const HomeComponentFn = ({ onMount, getState, setState }) => {\n    const { svg } = getState();\n\n    onMount(({ element }) => {\n        const svg_group = [...element.querySelectorAll('[ref=\"svg_group\"]')];\n\n        const { destroy, playIntro, playSvg } = simpleIntroAnimation({\n            refs: /** @type {HTMLElement[]} */ (svg_group),\n        });\n\n        setTimeout(() => {\n            playAnimation({ playIntro, playSvg });\n            setState('isMounted', true);\n        }, 500);\n\n        return () => {\n            destroy();\n        };\n    });\n\n    return html`<div class=\"l-index\">\n        <div class=\"l-index__logo\">${svg}</div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { HomeComponentFn } from './home';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const HomeComponent = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').HomeComponent>} */\n    ({\n        tag: 'home-component',\n        component: HomeComponentFn,\n        exportState: ['svg'],\n        state: {\n            svg: () => ({\n                value: '',\n                type: String,\n            }),\n            isMounted: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n        child: [],\n    })\n);\n", "import { html, MobJs } from '@mobJs';\nimport { HomeComponent } from '@pagesComponent/homepage/definition';\nimport { loadTextContent } from '@utils/utils';\n\nMobJs.useComponent([HomeComponent]);\n\nexport const home = async () => {\n    const { data: svg } = await loadTextContent({\n        source: './asset/svg/ms.svg?v=1.2',\n    });\n\n    return html`\n        <home-component\n            ${MobJs.staticProps(\n                /** @type {import('@pagesComponent/homepage/type').HomeComponent['state']} */\n                ({\n                    svg,\n                })\n            )}\n        ></home-component>\n    `;\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent, DelegateEvents, UpdateState, BindProps, StaticProps, Repeat,  UpdateStateByName, Invalidate, GetState, ReturnBindProps} from '@mobJsType'\n * @import {Matrioska} from './type'\n * @import {MatrioskaItem} from './item/type'\n */\n\nimport { MobCore } from '@mobCore';\nimport { html, MobJs } from '@mobJs';\n\nconst buttons = [\n    {\n        state: 'level1',\n        maxItem: 10,\n        ref: 'level1_counter',\n        label_plus: 'level1 +',\n        label_minus: 'level1 -',\n    },\n    {\n        state: 'level2',\n        maxItem: 10,\n        ref: 'level2_counter',\n        label_plus: 'level2 +',\n        label_minus: 'level2 -',\n    },\n    {\n        state: 'level3',\n        maxItem: 6,\n        ref: 'level3_counter',\n        label_plus: 'level3 +',\n        label_minus: 'level3 -',\n    },\n];\n\n/** @param {number} max */\nfunction getRandomInt(max) {\n    return Math.floor(Math.random() * max);\n}\n\n/**\n * @param {object} params\n * @param {DelegateEvents} params.delegateEvents\n * @param {UpdateState<Matrioska>} params.updateState\n * @param {Invalidate<Matrioska>} params.invalidate\n * @param {GetState<Matrioska>} params.getState\n */\nconst getButtons = ({ delegateEvents, updateState, invalidate, getState }) => {\n    return html`\n        ${buttons\n            .map((button) => {\n                return html` <div class=\"matrioska__head__item\">\n                    <dynamic-list-button\n                        class=\"matrioska__button\"\n                        ${delegateEvents({\n                            click: async () => {\n                                updateState(\n                                    /** @type {'level1' | 'level2' | 'level3'} */ (\n                                        button.state\n                                    ),\n                                    (val) => {\n                                        return val.slice(0, -1);\n                                    }\n                                );\n\n                                await MobJs.tick();\n                            },\n                        })}\n                        >${button.label_minus}</dynamic-list-button\n                    >\n                    <dynamic-list-button\n                        class=\"matrioska__button\"\n                        ${delegateEvents({\n                            click: async () => {\n                                updateState(\n                                    /** @type {'level1' | 'level2' | 'level3'} */ (\n                                        button.state\n                                    ),\n                                    (val) => {\n                                        return [\n                                            ...val,\n                                            {\n                                                key: getRandomInt(1000),\n                                                value: MobCore.getUnivoqueId(),\n                                            },\n                                        ];\n                                    }\n                                );\n\n                                await MobJs.tick();\n                            },\n                        })}\n                        >${button.label_plus}</dynamic-list-button\n                    >\n                    <div class=\"matrioska__head__counter\">\n                        ${invalidate({\n                            observe:\n                                /** @type {'level1' | 'level2' | 'level3'} */ (\n                                    button.state\n                                ),\n                            render: () => {\n                                // @ts-ignore\n                                const data = getState()?.[button.state];\n\n                                return html`\n                                    Number of items: ${data.length} ( max\n                                    ${button.maxItem} )\n                                `;\n                            },\n                        })}\n                    </div>\n                </div>`;\n            })\n            .join('')}\n        <div class=\"matrioska__head__cta-counter\">\n            <dynamic-list-button\n                class=\"matrioska__button\"\n                ${delegateEvents({\n                    click: () => {\n                        updateState('counter', (val) => val + 1);\n                    },\n                })}\n                >Increment counter</dynamic-list-button\n            >\n        </div>\n    `;\n};\n\n/**\n * @param {object} params\n * @param {Repeat<Matrioska>} params.repeat\n * @param {StaticProps<MatrioskaItem>} params.staticProps\n * @param {BindProps<Matrioska, MatrioskaItem>} params.bindProps\n * @param {DelegateEvents} params.delegateEvents\n * @param {Matrioska['state']} params.proxi\n */\nconst getSecondLevel = ({\n    repeat,\n    staticProps,\n    bindProps,\n    delegateEvents,\n    proxi,\n}) => {\n    return html`\n        <div class=\"matrioska__level matrioska__level--2\">\n            ${repeat({\n                observe: () => proxi.level2,\n                render: ({ current }) => {\n                    return html`\n                        <div\n                            class=\"matrioska__item-wrap matrioska__item-wrap--2\"\n                        >\n                            <matrioska-item\n                                class=\"matrioska-item--2\"\n                                ${staticProps(\n                                    /** @type {MatrioskaItem['state']} */ ({\n                                        level: 'level 2',\n                                    })\n                                )}\n                                ${bindProps(\n                                    /** @returns {ReturnBindProps<MatrioskaItem>} */\n                                    () => ({\n                                        key: `${current.value.key}`,\n                                        value: `${current.value.value}`,\n                                        index: current.index,\n                                        counter: proxi.counter,\n                                    })\n                                )}\n                            >\n                                ${getThirdLevel({\n                                    repeat,\n                                    staticProps,\n                                    delegateEvents,\n                                    bindProps,\n                                    proxi,\n                                })}\n                            </matrioska-item>\n                        </div>\n                    `;\n                },\n            })}\n        </div>\n    `;\n};\n\n/**\n * @param {object} params\n * @param {Repeat<Matrioska>} params.repeat\n * @param {StaticProps<MatrioskaItem>} params.staticProps\n * @param {BindProps<Matrioska, MatrioskaItem>} params.bindProps\n * @param {DelegateEvents} params.delegateEvents\n * @param {Matrioska['state']} params.proxi\n */\nconst getThirdLevel = ({\n    repeat,\n    staticProps,\n    bindProps,\n    delegateEvents,\n    proxi,\n}) => {\n    return html`\n        <div class=\"matrioska__level matrioska__level--3\">\n            ${repeat({\n                observe: () => proxi.level3,\n                render: ({ current }) => {\n                    const name = MobCore.getUnivoqueId();\n                    const name2 = MobCore.getUnivoqueId();\n\n                    /**\n                     * With key bind props is unnecessary here\n                     */\n                    return html`\n                        <div\n                            class=\"matrioska__item-wrap matrioska__item-wrap--3\"\n                        >\n                            <matrioska-item\n                                class=\"matrioska-item--3\"\n                                name=\"${name}\"\n                                ${staticProps(\n                                    /** @type {MatrioskaItem['state']} */ ({\n                                        level: 'level 3',\n                                    })\n                                )}\n                                ${bindProps(\n                                    /** @returns {ReturnBindProps<MatrioskaItem>} */\n                                    () => ({\n                                        key: `${current.value.key}`,\n                                        value: `${current.value.value}`,\n                                        index: current.index,\n                                        counter: proxi.counter,\n                                    })\n                                )}\n                                ${delegateEvents({\n                                    click: () => {\n                                        /** @type {UpdateStateByName<MatrioskaItem>} */\n                                        const updateActiveState =\n                                            MobJs.updateStateByName(name);\n\n                                        updateActiveState(\n                                            'active',\n                                            (val) => !val\n                                        );\n                                    },\n                                })}\n                            >\n                            </matrioska-item>\n                            <matrioska-item\n                                class=\"matrioska-item--3\"\n                                name=\"${name2}\"\n                                ${staticProps(\n                                    /** @type {MatrioskaItem['state']} */ ({\n                                        level: 'level 3',\n                                    })\n                                )}\n                                ${bindProps({\n                                    props: () => {\n                                        return {\n                                            key: `${current.value.key}`,\n                                            value: `${current.value.value}`,\n                                            index: current.index,\n                                            counter: proxi.counter,\n                                        };\n                                    },\n                                })}\n                                ${delegateEvents({\n                                    click: () => {\n                                        /** @type {UpdateStateByName<MatrioskaItem>} */\n                                        const updateActiveState =\n                                            MobJs.updateStateByName(name2);\n                                        updateActiveState(\n                                            'active',\n                                            (val) => !val\n                                        );\n                                    },\n                                })}\n                            >\n                            </matrioska-item>\n                        </div>\n                    `;\n                },\n            })}\n        </div>\n    `;\n};\n\n/** @type {MobComponent<Matrioska>} */\nexport const MatrioskaFn = ({\n    delegateEvents,\n    updateState,\n    repeat,\n    staticProps,\n    bindProps,\n    invalidate,\n    getState,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n\n    return html`<div class=\"matrioska\">\n        <div class=\"matrioska__head\">\n            ${getButtons({\n                delegateEvents,\n                updateState,\n                invalidate,\n                getState,\n            })}\n        </div>\n        <h4 class=\"matrioska__head__title\">\n            Nested repater like matrioska in same component.\n            <span> First/Second/third level repeater without key. </span>\n            <span> Third level use shuffle order. </span>\n        </h4>\n        <div class=\"matrioska__body\">\n            <div class=\"matrioska__level matrioska__level--1\">\n                ${repeat({\n                    observe: () => proxi.level1,\n                    render: ({ current }) => {\n                        return html`\n                            <div\n                                class=\"matrioska__item-wrap matrioska__item-wrap--1\"\n                            >\n                                <matrioska-item\n                                    class=\"matrioska-item--1\"\n                                    ${staticProps(\n                                        /** @type {MatrioskaItem['state']} */ ({\n                                            level: 'level 1',\n                                        })\n                                    )}\n                                    ${bindProps(\n                                        /** @returns {ReturnBindProps<MatrioskaItem>} */\n                                        () => ({\n                                            key: `${current.value.key}`,\n                                            value: `${current.value.value}`,\n                                            index: current.index,\n                                            counter: proxi.counter,\n                                        })\n                                    )}\n                                >\n                                    ${getSecondLevel({\n                                        repeat,\n                                        staticProps,\n                                        bindProps,\n                                        delegateEvents,\n                                        proxi,\n                                    })}\n                                </matrioska-item>\n                            </div>\n                        `;\n                    },\n                })}\n            </div>\n        </div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { html } from '@mobJs';\n\n/**\n * @import {MobComponent} from \"@mobJsType\";\n * @import {MatrioskaItem} from \"./type\";\n */\n\n/** @type {MobComponent<MatrioskaItem>} */\nexport const MatrioskaItemFn = ({ getProxi, bindText, id, bindEffect }) => {\n    const proxi = getProxi();\n\n    return html`<matrioska-item\n        class=\"matrioska-item\"\n        ${bindEffect({\n            toggleClass: { active: () => proxi.active },\n        })}\n    >\n        <div class=\"matrioska-item__info\">\n            <h4 class=\"matrioska-item__level\">${proxi.level}:</h4>\n            <h6 class=\"matrioska-item__key\">\n                ${bindText`key: <span>${'key'}</span>`}\n            </h6>\n            <h6 class=\"matrioska-item__key\">\n                ${bindText`index: <span>${'index'}</span>`}\n            </h6>\n            <h6 class=\"matrioska-item__value\">\n                ${bindText`Value: <span>${'value'}</span>`}\n            </h6>\n            <h6 class=\"matrioska-item__value\">\n                ${bindText`counter: <span>${'counter'}</span>`}\n            </h6>\n            <h6 class=\"matrioska-item__value\">\n                Component id: <span>${id}</span>\n            </h6>\n        </div>\n        <div class=\"matrioska-item__child\">\n            <mobjs-slot></mobjs-slot>\n        </div>\n    </matrioska-item>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { MatrioskaItemFn } from './matrioska-item';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const MatrioskaItem = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').MatrioskaItem>} */\n    ({\n        tag: 'matrioska-item',\n        component: MatrioskaItemFn,\n        exportState: ['level', 'key', 'value', 'active', 'counter', 'index'],\n        state: {\n            level: () => ({\n                value: '',\n                type: String,\n            }),\n            key: () => ({\n                value: '',\n                strict: true,\n                type: String,\n            }),\n            index: () => ({\n                value: 0,\n                strict: true,\n                type: Number,\n            }),\n            value: () => ({\n                value: '',\n                type: String,\n            }),\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            counter: () => ({\n                value: -1,\n                type: Number,\n            }),\n        },\n        child: [],\n        style: /* CSS */ `:host { display: block; } `,\n        // connectedCallback: ({ context, params }) => {\n        //     console.log(context, params);\n        // },\n    })\n);\n", "//@ts-check\n\nimport { MobCore } from '@mobCore';\nimport { MobJs } from '@mobJs';\nimport { DynamicListButton } from '../dynamic-list/button/definition';\nimport { MatrioskaFn } from './matrioska';\nimport { MatrioskaItem } from './item/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\n/**\n * @param {{ key: number; value: string }[]} array\n * @returns {{ key: number; value: string }[]}\n */\nconst shuffle = (array) => {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n};\n\nexport const Matrioska = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').Matrioska>} */\n    ({\n        tag: 'page-matrioska',\n        component: MatrioskaFn,\n        exportState: [],\n        state: {\n            level1: () => ({\n                value: [{ key: 1, value: MobCore.getUnivoqueId() }],\n                type: Array,\n                validate: (val) => val.length <= 10,\n                strict: true,\n            }),\n            level2: () => ({\n                value: [\n                    { key: 1, value: MobCore.getUnivoqueId() },\n                    { key: 2, value: MobCore.getUnivoqueId() },\n                ],\n                type: Array,\n                validate: (val) => val.length <= 10,\n                strict: true,\n            }),\n            level3: () => ({\n                value: [\n                    { key: 1, value: MobCore.getUnivoqueId() },\n                    { key: 2, value: MobCore.getUnivoqueId() },\n                ],\n                type: Array,\n                transform: (val, oldVal) => {\n                    return val > oldVal ? shuffle(val) : val;\n                },\n                validate: (val) => val.length <= 6,\n                strict: true,\n            }),\n            counter: () => ({\n                value: 0,\n                type: Number,\n            }),\n        },\n        child: [DynamicListButton, MatrioskaItem],\n    })\n);\n", "import { html, MobJs } from '@mobJs';\nimport { Matrioska } from '@pagesComponent/matrioska/definition';\n\nMobJs.useComponent([Matrioska]);\n\nexport const matrioska_page = () => {\n    return html` <page-matrioska> </page-matrioska> `;\n};\n", "// @ts-check\nimport { MobCore } from '@mobCore';\nimport { MobHorizontalScroller } from '@mobMotionPlugin';\nimport { outerWidth } from '@mobCoreUtils';\nimport { MobScroll } from '@mobMotion';\n\nlet sideWidth = 0;\n\n/**\n * @param {object} params\n * @param {HTMLElement[]} params.indicators\n * @param {import('@mobJsType').SetState<import('../type.d.ts').HorizontalScroller>} params.setState\n * @returns {import('@mobMotionType').MobScroller[]}\n */\nconst createPins = ({ indicators, setState }) => {\n    return [...indicators].map((button, i) => {\n        return MobScroll.createScrollTrigger({\n            item: button,\n            pin: true,\n            animateAtStart: false,\n            animatePin: true,\n            useThrottle: true,\n            dynamicStart: {\n                position: 'right',\n                value: () => {\n                    return (\n                        window.innerWidth +\n                        sideWidth -\n                        outerWidth(button) * (i + 1)\n                    );\n                },\n            },\n            dynamicEnd: {\n                position: 'right',\n                value: () => {\n                    const relativeIndex = indicators.length - (i - 2);\n                    return (window.innerWidth / 10) * 9 * relativeIndex;\n                },\n            },\n            onEnter: () => {\n                setState('currentId', -1);\n                setState('currentIdFromScroll', i);\n            },\n            onLeaveBack: () => {\n                // setState('currentId', -1);\n                setState('currentIdFromScroll', i - 1);\n            },\n        });\n    });\n};\n\n/**\n * @param {object} params\n * @param {import('@mobMotionType').MobScroller[]} params.pins\n */\nconst refreshPins = ({ pins }) => {\n    pins.forEach((pin) => pin.refresh());\n};\n\n/**\n * @param {object} params\n * @param {HTMLElement[]} params.titles\n * @returns {import('@mobMotionType').MobScroller[]}\n */\nconst createParallax = ({ titles }) => {\n    return [...titles].map((title) => {\n        return MobScroll.createParallax({\n            item: title,\n            propierties: 'x',\n            reverse: true,\n            range: 9,\n        });\n    });\n};\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.nav\n * @returns {void}\n */\nconst showNav = ({ nav }) => {\n    nav.classList.add('active');\n\n    const indicators = document.querySelectorAll('.js-indicator');\n    [...indicators].forEach((indicator) => {\n        indicator.classList.add('active');\n    });\n};\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.nav\n * @returns {void}\n */\nconst hideNav = ({ nav }) => {\n    nav.classList.remove('active');\n\n    const indicators = document.querySelectorAll('.js-indicator');\n    [...indicators].forEach((indicator) => {\n        indicator.classList.remove('active');\n    });\n};\n\n/**\n * @param {object} params\n * @param {HTMLElement[]} params.indicators\n * @param {HTMLElement[]} params.titles\n * @param {HTMLElement} params.nav\n * @param {boolean} params.animatePin\n * @param {import('@mobJsType').SetState<import('../type.d.ts').HorizontalScroller>} params.setState\n * @param {HTMLElement} params.rootRef\n */\nexport const horizontalScrollerAnimation = ({\n    indicators,\n    titles,\n    nav,\n    animatePin,\n    setState,\n    rootRef,\n}) => {\n    let pins = createPins({ indicators, setState });\n    let titlesParallax = createParallax({ titles });\n\n    const side = document.querySelector('.l-navcontainer__side');\n    // @ts-ignore\n    sideWidth = outerWidth(side) / 2;\n\n    const unsubscribeResize = MobCore.useResize(() => {\n        // @ts-ignore\n        sideWidth = outerWidth(side) / 2;\n    });\n\n    let horizontalCustom = new MobHorizontalScroller({\n        root: rootRef,\n        container: '.js-container',\n        row: '.js-row',\n        column: '.js-column',\n        trigger: '.js-trigger',\n        shadowClass: '.shadowClass',\n        useWillChange: true,\n        useDrag: true,\n        useSticky: !animatePin,\n        useThrottle: true,\n        animateAtStart: false,\n        ease: true,\n        easeType: 'lerp',\n        addCss: true,\n        columnHeight: 70,\n        columnWidth: 100,\n        columnAlign: 'center',\n        animatePin,\n        breakpoint: 'tablet',\n        children: [...pins, ...titlesParallax],\n        onEnter: () => {\n            showNav({ nav });\n        },\n        onEnterBack: () => {\n            /**\n             * With fast scroll forward bottom of the page pin can lost position. So upodate when scroller back active.\n             */\n            refreshPins({ pins });\n            showNav({ nav });\n        },\n        onLeave: () => {\n            hideNav({ nav });\n        },\n        onLeaveBack: () => {\n            hideNav({ nav });\n        },\n    });\n\n    horizontalCustom.init();\n\n    return {\n        destroy: () => {\n            /**\n             * Destroy pin.\n             */\n            pins.forEach((pin) => {\n                pin?.destroy();\n            });\n            pins = [];\n\n            /**\n             * Destroy titles.\n             */\n            titlesParallax.forEach((item) => {\n                item?.destroy();\n            });\n            titlesParallax = [];\n\n            /**\n             * Destroy timelines.\n             */\n            horizontalCustom.destroy();\n            // @ts-ignore\n            horizontalCustom = null;\n            unsubscribeResize();\n        },\n        refresh: () => horizontalCustom.refresh(),\n    };\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent, SetState, BindProps, StaticProps, DelegateEvents, ReturnBindProps} from '@mobJsType';\n * @import {HorizontalScroller} from './type';\n * @import {HorizontalScrollerButton} from './button/type';\n */\n\nimport { offset, outerHeight } from '@mobCoreUtils';\nimport { html } from '@mobJs';\nimport { MobMotionCore } from '@mobMotion';\nimport { MobBodyScroll } from '@mobMotionPlugin';\nimport { horizontalScrollerAnimation } from './animation/animation';\n\n/**\n * @param {object} params\n * @param {number} params.numOfCol\n * @param {boolean} params.pinIsVisible\n * @param {StaticProps<import('./section/type').HorizontalScrollerSection>} params.staticProps\n * @returns {string}\n */\nconst getColumns = ({ numOfCol, pinIsVisible, staticProps }) => {\n    const pinClass = pinIsVisible ? '' : 'hidden';\n\n    return [...Array.from({ length: numOfCol }).keys()]\n        .map((_col, i) => {\n            return html`\n                <horizontal-scroller-section\n                    ${staticProps(\n                        /** @type {import('./section/type').HorizontalScrollerSection['state']} */ ({\n                            id: i,\n                            pinClass,\n                        })\n                    )}\n                ></horizontal-scroller-section>\n            `;\n        })\n        .join('');\n};\n\n/**\n * @param {object} param\n * @param {number} param.numOfCol\n * @param {SetState<HorizontalScroller>} param.setState\n * @param {BindProps<HorizontalScroller, HorizontalScrollerButton>} param.bindProps\n * @param {StaticProps} param.staticProps\n * @param {DelegateEvents} param.delegateEvents\n * @param {HorizontalScroller['state']} param.proxi\n */\nconst getNav = ({\n    numOfCol,\n    setState,\n    bindProps,\n    staticProps,\n    delegateEvents,\n    proxi,\n}) => {\n    return [...Array.from({ length: numOfCol }).keys()]\n        .map((_col, i) => {\n            return html`\n                <horizontal-scroller-button\n                    ${staticProps(\n                        /** @type {HorizontalScrollerButton['state']} */ ({\n                            id: i,\n                        })\n                    )}\n                    ${delegateEvents({\n                        click: () => setState('currentId', i),\n                    })}\n                    ${bindProps(\n                        /** @returns {ReturnBindProps<HorizontalScrollerButton>} */\n                        () => ({\n                            active:\n                                proxi.currentId === i ||\n                                proxi.currentIdFromScroll === i,\n                        })\n                    )}\n                ></horizontal-scroller-button>\n            `;\n        })\n        .join('');\n};\n\n/** @type {MobComponent<HorizontalScroller>} */\nexport const HorizontalScrollerFn = ({\n    onMount,\n    getState,\n    setState,\n    watch,\n    staticProps,\n    bindProps,\n    delegateEvents,\n    setRef,\n    getRef,\n    getProxi,\n}) => {\n    const { animatePin } = getState();\n    const proxi = getProxi();\n\n    onMount(({ element }) => {\n        if (MobMotionCore.mq('max', 'desktop')) return;\n\n        const indicators = [...element.querySelectorAll('.js-indicator')];\n        const nav = element.querySelector('.js-nav');\n        const titles = [...element.querySelectorAll('.js-title h1')];\n        const { destroy } = horizontalScrollerAnimation({\n            rootRef: getRef().js_root,\n            // @ts-ignore\n            indicators,\n            // @ts-ignore\n            titles,\n            // @ts-ignore\n            nav,\n            ...getState(),\n            setState,\n        });\n\n        /**\n         * Prevent landing at bottom of the page.\n         */\n        window.scrollTo(0, 0);\n\n        watch(\n            () => proxi.currentId,\n            (id) => {\n                if (id === -1) return;\n\n                /**\n                 * Hre the nav is open so on route landing the offset is wrong So, refresh scroller and the scroll to\n                 * item.\n                 */\n\n                /**\n                 * Get item shadow element.\n                 */\n                const shadowCenter = element.querySelector(\n                    `.shadowClass--section-${id} .shadowClass--in-center`\n                );\n\n                /**\n                 * Get scroll value.\n                 */\n                // @ts-ignore\n                const { top } = offset(shadowCenter);\n                // @ts-ignore\n                const height = outerHeight(shadowCenter);\n                const scrollValue =\n                    /**\n                     * Need previous and current value difference > 0 so add 1px. active: currentId ||\n                     * currentIdFromScroll ( onLeaveBack issue )\n                     */\n                    // @ts-ignore\n                    Number.parseInt(id) === 0\n                        ? window.innerHeight + 1\n                        : top + height - window.innerHeight;\n\n                /**\n                 * Scroll\n                 */\n                MobBodyScroll.to(scrollValue, { duration: 2000 });\n            }\n        );\n\n        return () => {\n            destroy();\n        };\n    });\n\n    /**\n     * Skip mobile.\n     */\n    if (MobMotionCore.mq('max', 'desktop'))\n        return html`<div><only-desktop></only-desktop></div>`;\n\n    /**\n     * Desktop\n     */\n    return html`<div class=\"l-h-scroller\">\n        <only-desktop></only-desktop>\n        <div class=\"l-h-scroller__top\">scroll down</div>\n        <ul class=\"l-h-scroller__nav js-nav\" ${setRef('js_nav')}>\n            ${getNav({\n                numOfCol: 10,\n                setState,\n                bindProps,\n                staticProps,\n                delegateEvents,\n                proxi,\n            })}\n        </ul>\n        <div class=\"l-h-scroller__root js-root\" ${setRef('js_root')}>\n            <div\n                class=\"l-h-scroller__container js-container\"\n                ${setRef('js_container')}\n            >\n                <div class=\"l-h-scroller__row js-row\" ${setRef('js_root')}>\n                    ${getColumns({\n                        numOfCol: 10,\n                        pinIsVisible: !animatePin,\n                        staticProps,\n                    })}\n                    <section\n                        class=\"l-h-scroller__fakeColumn js-column\"\n                        ${setRef('js_column')}\n                    ></section>\n                </div>\n                <div\n                    class=\"l-h-scroller__trigger js-trigger\"\n                    ${setRef('js_trigger')}\n                ></div>\n            </div>\n        </div>\n        <div class=\"l-h-scroller__bottom\">scroll up</div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent<import('./type').HorizontalScrollerButton>} */\nexport const HorizontalScrollerButtonFn = ({ getProxi, bindEffect }) => {\n    const proxi = getProxi();\n\n    return html`\n        <li>\n            <button\n                type=\"button\"\n                data-id=\"${proxi.id}\"\n                class=\"l-h-scroller__nav__btn\"\n                ${bindEffect({\n                    toggleClass: { active: () => proxi.active },\n                })}\n            >\n                ${proxi.id}\n            </button>\n        </li>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { HorizontalScrollerButtonFn } from './horizontal-scroller-button';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const HorizontalScrollerButton = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').HorizontalScrollerButton>} */\n    ({\n        tag: 'horizontal-scroller-button',\n        component: HorizontalScrollerButtonFn,\n        exportState: ['id', 'active'],\n        state: {\n            id: () => ({\n                value: -1,\n                type: Number,\n            }),\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "//@ts-check\n\nimport { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent<import('./type').HorizontalScrollerSection>} */\nexport const HorizontalScrollerSectionFn = ({ getState }) => {\n    const { id, pinClass } = getState();\n\n    return html`\n        <section\n            class=\"l-h-scroller__column js-column\"\n            data-shadow=\"section-${id}\"\n        >\n            <div class=\"l-h-scroller__wrap\">\n                <span class=\"l-h-scroller__indicator js-indicator ${pinClass}\">\n                    <span></span>\n                </span>\n                <div class=\"l-h-scroller__title js-title\">\n                    <h1>${id}</h1>\n                </div>\n            </div>\n        </section>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { HorizontalScrollerSectionFn } from './horizontal-scroller-section';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const HorizontalScrollerSection = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').HorizontalScrollerSection>} */\n    ({\n        tag: 'horizontal-scroller-section',\n        component: HorizontalScrollerSectionFn,\n        exportState: ['id', 'pinClass'],\n        state: {\n            id: () => ({\n                value: -1,\n                type: Number,\n            }),\n            pinClass: () => ({\n                value: '',\n                type: String,\n            }),\n        },\n    })\n);\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { HorizontalScrollerFn } from './horizontal-scroller';\nimport { HorizontalScrollerButton } from './button/definition';\nimport { HorizontalScrollerSection } from './section/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const HorizontalScroller = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').HorizontalScroller>} */\n    ({\n        tag: 'horizontal-scroller',\n        component: HorizontalScrollerFn,\n        exportState: [\n            'nextRoute',\n            'prevRoute',\n            'backRoute',\n            'currentId',\n            'currentIdFromScroll',\n            'animatePin',\n        ],\n        state: {\n            currentId: () => ({\n                value: 0,\n                type: Number,\n            }),\n            currentIdFromScroll: () => ({\n                value: 0,\n                type: Number,\n            }),\n            animatePin: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n        child: [HorizontalScrollerButton, HorizontalScrollerSection],\n    })\n);\n", "import { updateQuickNavState } from '@commonComponent/quick-nav/utils';\nimport { html, MobJs } from '@mobJs';\nimport { HorizontalScroller } from '@pagesComponent/horizontal-scroller/definition';\n\nMobJs.useComponent([HorizontalScroller]);\n\n/** @type {import('@mobJsType').PageAsync} */\nexport const horizontalScroller = async () => {\n    /** Quicknav */\n    updateQuickNavState({\n        active: true,\n        prevRoute: '',\n        nextRoute: '#move3D-shape1',\n        backRoute: '#plugin-overview',\n        color: 'white',\n    });\n\n    return html`<div>\n        <horizontal-scroller\n            ${MobJs.staticProps(\n                /** @type {import('@pagesComponent/horizontal-scroller/type').HorizontalScroller['state']} */\n                ({\n                    animatePin: false,\n                })\n            )}\n        ></horizontal-scroller>\n    </div>`;\n};\n", "import { html } from '@mobJs';\n\n/**\n * @import {MobComponent} from '@mobJsType';\n */\n\n/** @type {MobComponent<import('./type').StarSvg>} */\nexport const StarSvgFn = ({ getState }) => {\n    const { fill } = getState();\n\n    return html`\n        <svg\n            viewBox=\"0 0 105.83333 105.83334\"\n            version=\"1.1\"\n            id=\"svg1713\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:svg=\"http://www.w3.org/2000/svg\"\n            fill=${fill}\n        >\n            <path\n                d=\"M 314.66331,372.25958 93.889916,264.46734 -120.06656,385.22612 -85.772782,141.94851 -266.73739,-24.219674 -24.76928,-66.781266 77.344916,-290.23763 192.59565,-73.264538 436.67031,-45.199981 265.93107,131.45836 Z\"\n                transform=\"matrix(0.13816225,0,0,0.13816225,41.19189,46.490067)\"\n            />\n        </svg>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { StarSvgFn } from './star-svg';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const StarSvg = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').StarSvg>} */\n    ({\n        tag: 'svg-star',\n        component: StarSvgFn,\n        exportState: ['fill'],\n        state: {\n            fill: () => ({\n                value: '#000000',\n                type: String,\n            }),\n        },\n    })\n);\n", "//@ts-check\n\nimport { html } from '@mobJs';\n\n/**\n * @import {BindObject, DelegateEvents, MobComponent, ProxiState, ReturnBindProps} from '@mobJsType';\n */\n\n/**\n * @param {object} params\n * @param {DelegateEvents} params.delegateEvents\n * @param {BindObject} params.bindObject\n * @param {ProxiState<import('./type').Move3DPage>} params.proxiState\n */\nconst getControls = ({ delegateEvents, bindObject, proxiState }) => {\n    return html`<div class=\"c-move3d-page__controls\">\n        <div class=\"c-move3d-page__controls__block\">\n            <div class=\"c-move3d-page__controls__range\">\n                <input\n                    type=\"range\"\n                    value=${proxiState.factor}\n                    ${delegateEvents({\n                        input: (/** @type {KeyboardEvent} */ event) => {\n                            const value =\n                                /** @type {HTMLInputElement} */ (event.target)\n                                    .value ?? 0;\n                            proxiState.factor = Number(value);\n                        },\n                    })}\n                />\n            </div>\n            <div>${bindObject`factor: ${() => proxiState.factor}`}</div>\n        </div>\n        <div class=\"c-move3d-page__controls__block\">\n            <div class=\"c-move3d-page__controls__range\">\n                <input\n                    type=\"range\"\n                    value=${proxiState.xDepth}\n                    ${delegateEvents({\n                        input: (/** @type {KeyboardEvent} */ event) => {\n                            const value =\n                                /** @type {HTMLInputElement} */ (event.target)\n                                    .value ?? 0;\n                            proxiState.xDepth = Number(value);\n                        },\n                    })}\n                />\n            </div>\n            <div>${bindObject`xDepth: ${() => proxiState.xDepth}`}</div>\n        </div>\n        <div class=\"c-move3d-page__controls__block\">\n            <div class=\"c-move3d-page__controls__range\">\n                <input\n                    type=\"range\"\n                    value=${proxiState.xLimit}\n                    max=${proxiState.xLimit}\n                    ${delegateEvents({\n                        input: (/** @type {KeyboardEvent} */ event) => {\n                            const value =\n                                /** @type {HTMLInputElement} */ (event.target)\n                                    .value ?? 0;\n                            proxiState.xLimit = Number(value);\n                        },\n                    })}\n                />\n            </div>\n            <div>${bindObject`xLimit: ${() => proxiState.xLimit}`}</div>\n        </div>\n        <div class=\"c-move3d-page__controls__block\">\n            <div class=\"c-move3d-page__controls__range\">\n                <input\n                    type=\"range\"\n                    value=${proxiState.yDepth}\n                    ${delegateEvents({\n                        input: (/** @type {KeyboardEvent} */ event) => {\n                            const value =\n                                /** @type {HTMLInputElement} */ (event.target)\n                                    .value ?? 0;\n                            proxiState.yDepth = Number(value);\n                        },\n                    })}\n                />\n            </div>\n            <div>${bindObject`yDepth: ${() => proxiState.yDepth}`}</div>\n        </div>\n        <div class=\"c-move3d-page__controls__block\">\n            <div class=\"c-move3d-page__controls__range\">\n                <input\n                    type=\"range\"\n                    value=${proxiState.yLimit}\n                    max=${proxiState.yLimit}\n                    ${delegateEvents({\n                        input: (/** @type {KeyboardEvent} */ event) => {\n                            const value =\n                                /** @type {HTMLInputElement} */ (event.target)\n                                    .value ?? 0;\n                            proxiState.yLimit = Number(value);\n                        },\n                    })}\n                />\n            </div>\n            <div>${bindObject`yLimit: ${() => proxiState.yLimit}`}</div>\n        </div>\n        <div class=\"c-move3d-page__controls__block\">\n            <button\n                type=\"button\"\n                class=\"c-move3d-page__controls__button\"\n                ${delegateEvents({\n                    click: () => {\n                        proxiState.debug = !proxiState.debug;\n                    },\n                })}\n            >\n                Toggle Debug\n            </button>\n        </div>\n    </div>`;\n};\n\n/** @type {MobComponent<import('./type').Move3DPage>} */\nexport const Move3DPagefn = ({\n    bindProps,\n    delegateEvents,\n    bindObject,\n    getProxi,\n}) => {\n    const proxiState = getProxi();\n\n    return html`<div>\n        ${getControls({ delegateEvents, bindObject, proxiState })}\n        <move-3d\n            ${bindProps(\n                /** @returns {ReturnBindProps<import('../../common/move-3d/type').Move3D>} */\n                () => ({\n                    shape: proxiState.data,\n                    xDepth: proxiState.xDepth,\n                    yDepth: proxiState.yDepth,\n                    xLimit: proxiState.xLimit,\n                    yLimit: proxiState.yLimit,\n                    factor: proxiState.factor,\n                    debug: proxiState.debug,\n                })\n            )}\n        ></move-3d>\n        <move-3d\n            ${bindProps(\n                /** @returns {ReturnBindProps<import('../../common/move-3d/type').Move3D>} */\n                () => ({\n                    shape: proxiState.data,\n                    xDepth: proxiState.xDepth,\n                    yDepth: proxiState.yDepth,\n                    xLimit: proxiState.xLimit,\n                    yLimit: proxiState.yLimit,\n                    factor: proxiState.factor,\n                    debug: proxiState.debug,\n                })\n            )}\n        ></move-3d>\n    </div>`;\n};\n", "import { html, MobJs } from '@mobJs';\n\n/**\n * @param {object} params\n * @param {boolean} params.debug\n * @param {number} [params.id]\n * @returns {string}\n */\nconst getDebug = ({ debug, id }) => {\n    return debug ? html`<span class=\"c-move3d-item__debug\">${id}</span>` : '';\n};\n\n/** @type{(arg0: {data: import(\"../type\").Move3DChildren[], root: boolean, childrenId: string, debug: boolean} ) => string} */\nexport const Recursive3Dshape = ({ data, root, childrenId, debug }) => {\n    return data\n        .map(({ children, props }) => {\n            return html`<move-3d-item\n                name=\"${childrenId}\"\n                ${MobJs.staticProps(\n                    /** @type {import('../move-3d-item/type').Move3DItem['state']} */ ({\n                        root,\n                        ...props,\n                    })\n                )}\n            >\n                ${getDebug({ debug, id: props.id })}\n                ${Recursive3Dshape({\n                    data: children ?? [],\n                    root: false,\n                    childrenId,\n                    debug,\n                })}\n            </move-3d-item>`;\n        })\n        .join('');\n};\n", "import { MobJs } from '@mobJs';\nimport { offset, outerHeight, outerWidth } from '@mobCoreUtils';\n\n/**\n * @import {UseMethodArrayByName} from '@mobJsType'\n */\n\n/**\n * @type {(arg0: { element: HTMLElement }) => {\n *     height: number;\n *     width: number;\n *     offSetLeft: number;\n *     offSetTop: number;\n * }}\n */\nexport const getMove3DDimension = ({ element }) => {\n    return {\n        height: outerHeight(element),\n        width: outerWidth(element),\n        offSetLeft: offset(element).left,\n        offSetTop: offset(element).top,\n    };\n};\n\n/** @type{(arg0: {childrenId: string} ) => ((arg0: {delta:number, factor:number}) => void)[]} */\nexport const getChildrenMethod = ({ childrenId }) => {\n    /** @type {UseMethodArrayByName<import('./move-3d-item/type').Move3DItem>} */\n    const methods = MobJs.useMethodArrayByName(childrenId);\n\n    return methods.map((method) => {\n        return (/** @type{{delta:number, factor:number}} */ props) =>\n            method?.move?.(props);\n    });\n};\n\n/**\n * @param {object} params\n * @param {number} params.ratio\n * @returns {{ get3dItemUnit: (value: number) => string }}\n */\nexport const createUnit3D = ({ ratio }) => {\n    return {\n        get3dItemUnit: (value) => {\n            return `min(${value}px, calc((((100vw) * ${value}) / ${ratio} )))`;\n        },\n    };\n};\n", "import { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { MobMotionCore, MobTween } from '@mobMotion';\nimport { Recursive3Dshape } from './partials/recursive-3d-shape';\nimport { getChildrenMethod, getMove3DDimension } from './utils';\n\nconst NOOP = () => {};\n\n/**\n * @import {MobComponent} from '@mobJsType';\n */\n\n/** @type {MobComponent<import('./type').Move3D>} */\nexport const Move3Dfn = ({\n    onMount,\n    setRef,\n    getRef,\n    watch,\n    computed,\n    invalidate,\n    getProxi,\n    bindEffect,\n}) => {\n    /**\n     * Base id for checlren instance\n     */\n    const childrenId = MobCore.getUnivoqueId();\n\n    /**\n     * State\n     */\n    const proxi = getProxi();\n\n    /**\n     * Mutable scoped reference\n     */\n    let height = 0;\n    let width = 0;\n    let offSetLeft = 0;\n    let offSetTop = 0;\n    let lastX = 0;\n    let dragX = 0;\n    let lastY = 0;\n    let dragY = 0;\n    let onDrag = false;\n    let firstDrag = false;\n    let pageCoord = { x: 0, y: 0 };\n    let lastScrolledTop = 0;\n    let unsubscribeTouchStart = NOOP;\n    let unsubscribeTouchEnd = NOOP;\n    let unsubscribeTouchDown = NOOP;\n    let unsubscribeTouchUp = NOOP;\n    let unsubscribeTouchMove = NOOP;\n    let unsubscribeScroll = NOOP;\n    /** @type {any[]} */\n    let childrenMethods = [];\n\n    /**\n     * Create tween\n     */\n    let spring = MobTween.createSpring({ data: { delta: 0, ax: 0, ay: 0 } });\n\n    /** @type{() => void } */\n    const onMouseUp = () => {\n        onDrag = false;\n    };\n\n    /** @type{() => void } */\n    const onMove = () => {\n        const { vw, vh } =\n            proxi.centerToViewoport || proxi.drag\n                ? {\n                      vw: window.innerWidth,\n                      vh: window.innerHeight,\n                  }\n                : {\n                      vw: width,\n                      vh: height,\n                  };\n\n        const x = pageCoord.x;\n        const y = pageCoord.y;\n\n        const { xgap, ygap } = (() => {\n            if (!onDrag) return { xgap: 0, ygap: 0 };\n\n            if (firstDrag) {\n                firstDrag = false;\n                return {\n                    xgap: 0,\n                    ygap: 0,\n                };\n            } else {\n                return {\n                    xgap: x - lastX,\n                    ygap: y - lastY,\n                };\n            }\n        })();\n\n        if (onDrag) {\n            dragX += xgap;\n            dragY += ygap;\n        }\n\n        const { xInMotion, yInMotion } = onDrag\n            ? {\n                  xInMotion: dragX,\n                  yInMotion: dragY,\n              }\n            : {\n                  xInMotion: x,\n                  yInMotion: y,\n              };\n\n        /*\n         * ax = grado di rotazione sull'asse X\n         * ay = grado di rotazione sull'asse Y\n         */\n        const { ax, ay } =\n            proxi.centerToViewoport || proxi.drag\n                ? {\n                      ax: -(vw / 2 - xInMotion) / proxi.xDepth,\n                      ay: (vh / 2 - yInMotion) / proxi.yDepth,\n                  }\n                : {\n                      ax: -(vw / 2 - (xInMotion - offSetLeft)) / proxi.xDepth,\n                      ay: (vh / 2 - (yInMotion - offSetTop)) / proxi.yDepth,\n                  };\n\n        lastX = x;\n        lastY = y;\n\n        const xLimitReached = ax > proxi.xLimit || ax < -proxi.xLimit;\n        const yLimitReached = ay > proxi.yLimit || ay < -proxi.yLimit;\n\n        if (xLimitReached) dragX -= xgap;\n        if (yLimitReached) dragY -= ygap;\n\n        const axClamped = MobMotionCore.clamp(ax, -proxi.xLimit, proxi.xLimit);\n\n        const ayClamped = MobMotionCore.clamp(ay, -proxi.yLimit, proxi.yLimit);\n\n        /*\n         * Calcolo il valore da passare ai componenti figli per animarre l'asse Z.\n         * Il delta sar\u00E0 l'ipotenusa del triangolo formato dai volri ax e ay\n         */\n        const delta = Math.sqrt(\n            Math.pow(Math.abs(ayClamped), 2) + Math.pow(Math.abs(axClamped), 2)\n        );\n\n        spring.goTo({ delta, ax: axClamped, ay: ayClamped }).catch(() => {});\n\n        /**\n         * Move children\n         */\n        childrenMethods.forEach((moveChild) => {\n            moveChild({ delta, factor: proxi.factor });\n        });\n    };\n\n    /** @type{(scrollY: number) => void} */\n    const onScroll = (scrollY) => {\n        if (lastScrolledTop !== scrollY) {\n            pageCoord.y -= lastScrolledTop;\n            lastScrolledTop = scrollY;\n            pageCoord.y += lastScrolledTop;\n        }\n\n        onMove();\n    };\n\n    /** @type{(arg0: {page: { x: number, y:number }} ) => boolean} */\n    const draggable = ({ page }) => {\n        return (\n            page.y > offSetTop &&\n            page.y < offSetTop + height &&\n            page.x > offSetLeft &&\n            page.x < offSetLeft + width\n        );\n    };\n\n    /** @type{(arg0: {page: { x: number, y:number }} ) => void } */\n    const onMouseDown = ({ page }) => {\n        if (draggable({ page })) {\n            onDrag = true;\n            firstDrag = true;\n        }\n    };\n\n    /** @type{() => void } */\n    const addScrollListener = () => {\n        unsubscribeScroll();\n\n        unsubscribeScroll = proxi.useScroll\n            ? MobCore.useScroll(({ scrollY }) => {\n                  onScroll(scrollY);\n              })\n            : () => {};\n    };\n\n    onMount(({ element }) => {\n        const { container } = getRef();\n        proxi.afterInit(element);\n\n        /**\n         * Handler\n         */\n        const unsubscribeSpring = spring.subscribe(({ delta, ax, ay }) => {\n            container.style.transform = `translate3D(0,0,0) rotateY(${ax}deg) rotateX(${ay}deg)`;\n\n            // Callback\n            proxi.onUpdate({ delta, deltaX: ax, deltaY: ay });\n        });\n\n        const unsubscribeOnComplete = spring.onComplete(({ ax, ay }) => {\n            container.style.transform = `rotateY(${ax}deg) rotateX(${ay}deg)`;\n        });\n\n        const unsubscribeMouseMove = MobCore.useMouseMove(({ page }) => {\n            pageCoord = { x: page.x, y: page.y };\n            onMove();\n        });\n\n        /**\n         * Update root size\n         */\n        const unsubscribeResize = MobCore.useResize(() => {\n            ({ height, width, offSetTop, offSetLeft } = getMove3DDimension({\n                element,\n            }));\n        });\n\n        watch(\n            () => proxi.drag,\n            (value) => {\n                unsubscribeTouchMove();\n                unsubscribeTouchUp();\n                unsubscribeTouchDown();\n                unsubscribeTouchEnd();\n                unsubscribeTouchStart();\n\n                if (value) {\n                    dragX = window.innerWidth / 2;\n                    dragY = window.innerHeight / 2;\n\n                    unsubscribeTouchStart = MobCore.useTouchStart(\n                        ({ page }) => {\n                            onMouseDown({ page });\n                        }\n                    );\n\n                    unsubscribeTouchEnd = MobCore.useTouchEnd(() => {\n                        onMouseUp();\n                    });\n\n                    unsubscribeTouchDown = MobCore.useMouseDown(({ page }) => {\n                        onMouseDown({ page });\n                    });\n\n                    unsubscribeTouchUp = MobCore.useMouseUp(() => {\n                        onMouseUp();\n                    });\n\n                    unsubscribeTouchMove = MobCore.useTouchMove(({ page }) => {\n                        pageCoord = { x: page.x, y: page.y };\n                        onMove();\n                    });\n\n                    return;\n                }\n            },\n            { immediate: true }\n        );\n\n        /**\n         * Set useScroll\n         */\n        watch(\n            () => proxi.useScroll,\n            (value, prevValue) => {\n                if (value) {\n                    addScrollListener();\n                    return;\n                }\n\n                if (value !== prevValue) unsubscribeScroll();\n            }\n        );\n\n        computed(\n            () => proxi.useScroll,\n            () => {\n                return !proxi.drag && !proxi.centerToViewoport;\n            }\n        );\n\n        MobCore.useNextLoop(() => {\n            ({ height, width, offSetTop, offSetLeft } = getMove3DDimension({\n                element,\n            }));\n\n            pageCoord = { x: window.innerWidth / 2, y: window.innerHeight / 2 };\n            onMove();\n        });\n\n        return () => {\n            unsubscribeSpring();\n            unsubscribeOnComplete();\n            unsubscribeResize();\n            unsubscribeMouseMove();\n            unsubscribeScroll();\n            unsubscribeTouchStart();\n            unsubscribeTouchEnd();\n            unsubscribeTouchDown();\n            unsubscribeTouchUp();\n            unsubscribeTouchMove();\n            spring.destroy();\n            childrenMethods = [];\n\n            // @ts-ignore\n            spring = null;\n            // @ts-ignore\n            height = null;\n            // @ts-ignore\n            width = null;\n            // @ts-ignore\n            offSetLeft = null;\n            // @ts-ignore\n            offSetTop = null;\n            // @ts-ignore\n            lastX = null;\n            // @ts-ignore\n            dragX = null;\n            // @ts-ignore\n            lastY = null;\n            // @ts-ignore\n            dragY = null;\n            // @ts-ignore\n            onDrag = null;\n            // @ts-ignore\n            firstDrag = null;\n            // @ts-ignore\n            pageCoord = null;\n            // @ts-ignore\n            lastScrolledTop = null;\n        };\n    });\n\n    return html`<div\n        class=\"c-move-3d\"\n        ${bindEffect({\n            toggleClass: { 'move3D--drag': () => proxi.drag },\n        })}\n    >\n        <div\n            class=\"c-move-3d__scene\"\n            ${bindEffect({\n                toggleStyle: {\n                    perspective: () => `${proxi.perspective}px`,\n                },\n            })}\n        >\n            <div class=\"c-move-3d__container\" ${setRef('container')}>\n                ${invalidate({\n                    observe: [() => proxi.shape, () => proxi.debug],\n                    afterUpdate: () => {\n                        /**\n                         * Update children's methods\n                         */\n                        childrenMethods = getChildrenMethod({\n                            childrenId,\n                        });\n                    },\n                    render: () => {\n                        return Recursive3Dshape({\n                            data: proxi.shape,\n                            root: true,\n                            childrenId,\n                            debug: proxi.debug,\n                        });\n                    },\n                })}\n            </div>\n        </div>\n    </div>`;\n};\n", "/**\n * @param {object} params\n * @param {number} params.startRotation\n * @param {number} params.range\n * @param {number} params.delta\n * @param {number} params.limit\n * @returns {number}\n */\nexport const getRotate = ({ startRotation, range, delta, limit }) => {\n    return Number.parseFloat(\n        ((range * delta) / limit - startRotation).toFixed(2)\n    );\n};\n\n/**\n * @param {object} params\n * @param {string} params.rotate\n * @param {string} params.anchorPoint\n * @param {number} params.baseRotateX\n * @param {number} params.baseRotateY\n */\nexport const getRotateFromPosition = ({\n    rotate,\n    anchorPoint,\n    baseRotateX,\n    baseRotateY,\n}) => {\n    if (!rotate || !anchorPoint)\n        return {\n            rotateX: 0,\n            rotateY: 0,\n        };\n\n    switch (rotate.toUpperCase()) {\n        case 'X': {\n            return (() => {\n                switch (anchorPoint.toUpperCase()) {\n                    case 'BOTTOM': {\n                        return {\n                            rotateX: baseRotateX,\n                            rotateY: 0,\n                        };\n                    }\n\n                    case 'TOP': {\n                        return {\n                            rotateX: -baseRotateX,\n                            rotateY: 0,\n                        };\n                    }\n\n                    default: {\n                        return {\n                            rotateX: 0,\n                            rotateY: 0,\n                        };\n                    }\n                }\n            })();\n        }\n\n        case 'Y': {\n            return (() => {\n                switch (anchorPoint.toUpperCase()) {\n                    case 'LEFT': {\n                        return {\n                            rotateX: 0,\n                            rotateY: baseRotateY,\n                        };\n                    }\n\n                    case 'RIGHT': {\n                        return {\n                            rotateX: 0,\n                            rotateY: -baseRotateY,\n                        };\n                    }\n\n                    default: {\n                        return {\n                            rotateX: 0,\n                            rotateY: 0,\n                        };\n                    }\n                }\n            })();\n        }\n\n        case 'XY': {\n            return (() => {\n                switch (anchorPoint.toUpperCase()) {\n                    case 'TOP-LEFT': {\n                        return {\n                            rotateX: -baseRotateX,\n                            rotateY: baseRotateY,\n                        };\n                    }\n\n                    case 'TOP-RIGHT': {\n                        return {\n                            rotateX: -baseRotateX,\n                            rotateY: -baseRotateY,\n                        };\n                    }\n\n                    case 'BOTTOM-LEFT': {\n                        return {\n                            rotateX: baseRotateX,\n                            rotateY: baseRotateY,\n                        };\n                    }\n\n                    case 'BOTTOM-RIGHT': {\n                        return {\n                            rotateX: baseRotateX,\n                            rotateY: -baseRotateY,\n                        };\n                    }\n\n                    default: {\n                        return {\n                            rotateX: 0,\n                            rotateY: 0,\n                        };\n                    }\n                }\n            })();\n        }\n\n        default: {\n            return {\n                rotateX: 0,\n                rotateY: 0,\n            };\n        }\n    }\n};\n", "import { html, MobJs } from '@mobJs';\nimport { MobTween } from '@mobMotion';\nimport { getRotate, getRotateFromPosition } from './utils';\n\n/**\n * @import {MobComponent} from '@mobJsType';\n */\n\n/** @type{(component: {tagName: string, className: string, props: any} ) => string} */\nconst getComponent = (component) => {\n    if (component?.tagName.length === 0) {\n        return '';\n    }\n\n    return html`\n        <div class=\"c-move3d-item__component ${component?.className}\">\n            <${component.tagName} ${MobJs.staticProps(component?.props ?? {})}>\n            </${component.tagName}>\n        </div>`;\n};\n\n/** @type {import('./type').Move3DItemMove} */\nconst move = ({\n    delta: currentDelta,\n    factor,\n    initialRotate,\n    depth,\n    range,\n    rotate,\n    anchorPoint,\n    lerp,\n}) => {\n    const currentDepth = Math.round((depth * currentDelta) / factor);\n\n    const getRotateData = {\n        startRotation: initialRotate ?? 0,\n        range: range ?? 20,\n        delta: currentDelta,\n        limit: factor,\n    };\n    const baseRotateX = getRotate(getRotateData);\n    const baseRotateY = getRotate(getRotateData);\n\n    const getRotateFromPositionData = {\n        rotate: rotate ?? 'center',\n        anchorPoint: anchorPoint,\n        baseRotateX,\n        baseRotateY,\n    };\n\n    const { rotateX, rotateY } = getRotateFromPosition(\n        getRotateFromPositionData\n    );\n\n    lerp.goTo({ depth: currentDepth, rotateX, rotateY }).catch(() => {});\n};\n\n/** @type {MobComponent<import('./type').Move3DItem>} */\nexport const Move3DItemfn = ({ getState, addMethod, onMount }) => {\n    const {\n        root,\n        anchorPoint,\n        animate,\n        depth,\n        rotate,\n        width,\n        height,\n        offsetX,\n        offsetY,\n        range,\n        initialRotate,\n        initialDepth,\n        classList,\n        component,\n    } = getState();\n\n    const rootClass = root ? 'is-root' : 'is-children';\n    const widthCssVar = `--item-width:${width};`;\n    const heightCssVar = `--item-height:${height};`;\n    const offsetXCssVar = `--offset-x:${offsetX};`;\n    const offsetYCssVar = `--offset-y:${offsetY};`;\n\n    let lerp = MobTween.createLerp({\n        data: { depth: 0, rotateX: 0, rotateY: 0 },\n    });\n\n    addMethod('move', ({ delta, factor }) => {\n        if (animate) {\n            move({\n                delta,\n                factor,\n                initialRotate,\n                depth,\n                range,\n                rotate,\n                anchorPoint,\n                lerp,\n            });\n        }\n    });\n\n    onMount(({ element }) => {\n        const unsubscribelerp = lerp.subscribe(\n            ({ depth, rotateX, rotateY }) => {\n                const currentDepth = depth + initialDepth;\n                element.style.transform = `translate3D(0,0,${currentDepth}px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n            }\n        );\n\n        const unsubscribeOnComplete = lerp.onComplete(\n            ({ depth, rotateX, rotateY }) => {\n                const currentDepth = depth + initialDepth;\n                element.style.transform = `translateZ(${currentDepth}px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n            }\n        );\n\n        /**\n         * Initial z-index state\n         */\n        const currentDepth = initialDepth;\n        element.style.transform = `translateZ(${currentDepth}px)`;\n\n        return () => {\n            unsubscribelerp();\n            unsubscribeOnComplete();\n            lerp.destroy();\n\n            // @ts-ignore\n            lerp = null;\n        };\n    });\n\n    return html`<div\n        class=\"c-move3d-item ${rootClass} anchor-${anchorPoint}\"\n        style=\"${widthCssVar}${heightCssVar}${offsetXCssVar}${offsetYCssVar}\"\n    >\n        <div class=\"c-move3d-item__content ${classList}\"></div>\n        ${getComponent({\n            tagName: component?.tagName ?? '',\n            className: component?.className ?? '',\n            props: component?.props ?? {},\n        })}\n        <mobjs-slot></mobjs-slot>\n    </div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { Move3DItemfn } from './move-3d-item';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const Move3DItem = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').Move3DItem>} */\n    ({\n        tag: 'move-3d-item',\n        component: Move3DItemfn,\n        exportState: [\n            'root',\n            'depth',\n            'rotate',\n            'width',\n            'height',\n            'offsetX',\n            'offsetY',\n            'range',\n            'animate',\n            'anchorPoint',\n            'classList',\n            'component',\n            'initialRotate',\n            'initialDepth',\n        ],\n        state: {\n            root: () => ({\n                value: true,\n                type: Boolean,\n            }),\n            depth: () => ({\n                value: 0,\n                type: Number,\n            }),\n            rotate: () => ({\n                value: 'x',\n                type: String,\n            }),\n            id: () => ({\n                value: '',\n                type: String,\n            }),\n            width: () => ({\n                value: '0px',\n                type: String,\n            }),\n            height: () => ({\n                value: '0px',\n                type: String,\n            }),\n            offsetX: () => ({\n                value: '0px',\n                type: String,\n            }),\n            offsetY: () => ({\n                value: '0px',\n                type: String,\n            }),\n            range: () => ({\n                value: 20,\n                type: Number,\n            }),\n            anchorPoint: () => ({\n                value: 'center',\n                type: String,\n            }),\n            animate: () => ({\n                value: true,\n                type: Boolean,\n            }),\n            initialRotate: () => ({\n                value: 0,\n                type: Number,\n            }),\n            initialDepth: () => ({\n                value: 0,\n                type: Number,\n            }),\n            classList: () => ({\n                value: '',\n                type: String,\n            }),\n            component: {\n                tagName: () => ({\n                    value: '',\n                    type: String,\n                }),\n                className: () => ({\n                    value: '',\n                    type: String,\n                }),\n                props: () => ({\n                    value: '',\n                    type: 'any',\n                }),\n            },\n        },\n    })\n);\n", "import { MobJs } from '@mobJs';\nimport { Move3Dfn } from './move-3d';\nimport { Move3DItem } from './move-3d-item/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const Move3D = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').Move3D>} */\n    ({\n        tag: 'move-3d',\n        component: Move3Dfn,\n        exportState: [\n            'drag',\n            'centerToViewoport',\n            'xDepth',\n            'yDepth',\n            'xLimit',\n            'yLimit',\n            'factor',\n            'shape',\n            'debug',\n            'perspective',\n            'afterInit',\n            'onUpdate',\n        ],\n        state: {\n            drag: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            centerToViewoport: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            useScroll: () => ({\n                value: true,\n                type: Boolean,\n            }),\n            perspective: () => ({\n                value: 700,\n                type: Number,\n            }),\n            xDepth: () => ({\n                value: 20,\n                type: Number,\n                validate: (value) => {\n                    return value > 1;\n                },\n                strict: true,\n            }),\n            yDepth: () => ({\n                value: 20,\n                type: Number,\n                validate: (value) => {\n                    return value > 1;\n                },\n                strict: true,\n            }),\n            xLimit: () => ({\n                value: 10_000,\n                type: Number,\n            }),\n            yLimit: () => ({\n                value: 10_000,\n                type: Number,\n            }),\n            factor: () => ({\n                value: 45,\n                type: Number,\n                validate: (value) => {\n                    return value > 1;\n                },\n                strict: true,\n            }),\n            shape: () => ({\n                value: [],\n                type: Array,\n            }),\n            debug: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            afterInit: () => ({\n                value: () => {},\n                type: Function,\n            }),\n            onUpdate: () => ({\n                value: () => {},\n                type: Function,\n            }),\n        },\n        child: [Move3DItem],\n    })\n);\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { Move3DPagefn } from './move-3d-page';\nimport { Move3D } from '@commonComponent/move-3d/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const Move3DPage = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').Move3DPage>} */\n    ({\n        tag: 'move-3d-page',\n        component: Move3DPagefn,\n        exportState: ['data', 'prevRoute', 'nextRoute'],\n        state: {\n            data: () => ({\n                value: [],\n                type: Array,\n            }),\n            xDepth: () => ({\n                value: 20,\n                type: Number,\n            }),\n            yDepth: () => ({\n                value: 20,\n                type: Number,\n            }),\n            xLimit: () => ({\n                value: 1000,\n                type: Number,\n            }),\n            yLimit: () => ({\n                value: 1000,\n                type: Number,\n            }),\n            perspective: () => ({\n                value: 700,\n                type: Number,\n            }),\n            debug: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            factor: () => ({\n                value: 45,\n                type: Number,\n                validate: (value) => {\n                    return value > 1;\n                },\n                strict: true,\n            }),\n        },\n        child: [Move3D],\n    })\n);\n", "import { updateQuickNavState } from '@commonComponent/quick-nav/utils';\nimport { StarSvg } from '@commonComponent/svg-shape/star/definition';\nimport { html, MobJs } from '@mobJs';\nimport { Move3DPage } from '@pagesComponent/move-3d/definition';\n\nMobJs.useComponent([Move3DPage, StarSvg]);\n\n/** @type {import('@mobJsType').PageAsync} */\nexport const move3DRoute = async ({ props }) => {\n    const { data, prevRoute, nextRoute } = props;\n\n    /** Quicknav */\n    updateQuickNavState({\n        active: true,\n        prevRoute: prevRoute,\n        nextRoute: nextRoute,\n        backRoute: '#plugin-overview',\n        color: 'white',\n    });\n\n    return html`<move-3d-page\n        ${MobJs.staticProps(\n            /** @type {import('@pagesComponent/move-3d/type').Move3DPage['state']} */\n            ({ data })\n        )}\n    ></move-3d-page> `;\n};\n", "import { createUnit3D } from '../utils';\n\nconst { get3dItemUnit } = createUnit3D({ ratio: 1980 });\n\n/** @type {import('../type').Move3DChildren[]} */\nexport const move3DShape1 = [\n    {\n        props: {\n            id: 0,\n            depth: 0,\n            anchorPoint: 'center',\n            classList: 'move3d-square',\n            animate: true,\n            width: get3dItemUnit(150),\n            height: get3dItemUnit(150),\n        },\n        children: [\n            {\n                props: {\n                    id: 1,\n                    depth: 200,\n                    width: get3dItemUnit(150),\n                    height: get3dItemUnit(150),\n                    rotate: '',\n                    anchorPoint: 'center',\n                    initialDepth: 100,\n                    classList: 'move3d-square has-star pippo',\n                    component: {\n                        tagName: 'svg-star',\n                        className: 'move3d-square__star',\n                        props: {\n                            fill: '#f28f3b',\n                        },\n                    },\n                    animate: true,\n                },\n                children: [],\n            },\n            {\n                props: {\n                    id: 2,\n                    depth: 200,\n                    width: get3dItemUnit(80),\n                    height: get3dItemUnit(80),\n                    offsetX: get3dItemUnit(40),\n                    offsetY: get3dItemUnit(40),\n                    rotate: '',\n                    initialDepth: 200,\n                    anchorPoint: 'center',\n                    classList: 'move3d-square is-small is-white is-center',\n                    animate: true,\n                },\n                children: [],\n            },\n            {\n                props: {\n                    id: 3,\n                    depth: 200,\n                    width: get3dItemUnit(80),\n                    height: get3dItemUnit(80),\n                    offsetX: get3dItemUnit(-10),\n                    offsetY: get3dItemUnit(80),\n                    rotate: '',\n                    initialDepth: 50,\n                    anchorPoint: 'center',\n                    classList: 'move3d-square is-small is-white is-center',\n                    animate: true,\n                },\n                children: [],\n            },\n            {\n                props: {\n                    id: 4,\n                    depth: 200,\n                    width: get3dItemUnit(80),\n                    height: get3dItemUnit(80),\n                    offsetX: get3dItemUnit(80),\n                    offsetY: get3dItemUnit(80),\n                    rotate: '',\n                    initialDepth: 50,\n                    anchorPoint: 'center',\n                    classList: 'move3d-square is-small is-white is-center',\n                    animate: true,\n                },\n                children: [],\n            },\n            {\n                props: {\n                    id: 5,\n                    depth: 200,\n                    width: get3dItemUnit(80),\n                    height: get3dItemUnit(80),\n                    offsetX: get3dItemUnit(-10),\n                    offsetY: get3dItemUnit(-10),\n                    rotate: '',\n                    initialDepth: 50,\n                    anchorPoint: 'center',\n                    classList: 'move3d-square is-small is-white is-center',\n                    animate: true,\n                },\n                children: [],\n            },\n            {\n                props: {\n                    id: 6,\n                    depth: 200,\n                    width: get3dItemUnit(80),\n                    height: get3dItemUnit(80),\n                    offsetX: get3dItemUnit(80),\n                    offsetY: get3dItemUnit(-10),\n                    rotate: '',\n                    initialDepth: 50,\n                    anchorPoint: 'center',\n                    classList: 'move3d-square is-small is-white is-center',\n                    animate: true,\n                },\n                children: [],\n            },\n            {\n                props: {\n                    id: 7,\n                    depth: 100,\n                    width: get3dItemUnit(150),\n                    height: get3dItemUnit(150),\n                    rotate: 'x',\n                    range: 20,\n                    anchorPoint: 'bottom',\n                    classList: 'move3d-square',\n                    animate: true,\n                },\n                children: [\n                    {\n                        props: {\n                            id: 8,\n                            depth: 0,\n                            width: get3dItemUnit(150),\n                            height: get3dItemUnit(150),\n                            rotate: 'x',\n                            range: 30,\n                            anchorPoint: 'bottom',\n                            classList: 'move3d-square',\n                            animate: true,\n                        },\n                        children: [],\n                    },\n                ],\n            },\n            {\n                props: {\n                    id: 9,\n                    depth: 100,\n                    width: get3dItemUnit(150),\n                    height: get3dItemUnit(150),\n                    rotate: 'x',\n                    range: 20,\n                    anchorPoint: 'top',\n                    classList: 'move3d-square',\n                    animate: true,\n                },\n                children: [\n                    {\n                        props: {\n                            id: 10,\n                            depth: 0,\n                            width: get3dItemUnit(150),\n                            height: get3dItemUnit(150),\n                            rotate: 'x',\n                            range: 20,\n                            anchorPoint: 'top',\n                            classList: 'move3d-square',\n                            animate: true,\n                        },\n                        children: [],\n                    },\n                ],\n            },\n            {\n                props: {\n                    id: 11,\n                    depth: 100,\n                    width: get3dItemUnit(150),\n                    height: get3dItemUnit(150),\n                    rotate: 'y',\n                    range: 20,\n                    anchorPoint: 'left',\n                    classList: 'move3d-square',\n                    animate: true,\n                },\n                children: [\n                    {\n                        props: {\n                            id: 12,\n                            depth: 0,\n                            width: get3dItemUnit(150),\n                            height: get3dItemUnit(150),\n                            rotate: 'y',\n                            range: 30,\n                            anchorPoint: 'left',\n                            classList: 'move3d-square',\n                            animate: true,\n                        },\n                        children: [\n                            {\n                                props: {\n                                    id: 13,\n                                    depth: 0,\n                                    width: get3dItemUnit(150),\n                                    height: get3dItemUnit(150),\n                                    rotate: 'y',\n                                    range: 40,\n                                    anchorPoint: 'left',\n                                    classList: 'move3d-square',\n                                    animate: true,\n                                },\n                                children: [],\n                            },\n                        ],\n                    },\n                ],\n            },\n            {\n                props: {\n                    id: 13,\n                    depth: 100,\n                    width: get3dItemUnit(150),\n                    height: get3dItemUnit(150),\n                    rotate: 'y',\n                    range: 20,\n                    anchorPoint: 'right',\n                    classList: 'move3d-square',\n                    animate: true,\n                },\n                children: [\n                    {\n                        props: {\n                            id: 14,\n                            depth: 0,\n                            width: get3dItemUnit(150),\n                            height: get3dItemUnit(150),\n                            rotate: 'y',\n                            range: 30,\n                            anchorPoint: 'right',\n                            classList: 'move3d-square',\n                            animate: true,\n                        },\n                        children: [\n                            {\n                                props: {\n                                    id: 15,\n                                    depth: 0,\n                                    width: get3dItemUnit(150),\n                                    height: get3dItemUnit(150),\n                                    rotate: 'y',\n                                    range: 40,\n                                    anchorPoint: 'right',\n                                    classList: 'move3d-square',\n                                    animate: true,\n                                },\n                                children: [],\n                            },\n                        ],\n                    },\n                ],\n            },\n            {\n                props: {\n                    id: 16,\n                    depth: 150,\n                    rotate: 'xy',\n                    width: get3dItemUnit(150),\n                    height: get3dItemUnit(150),\n                    offsetX: get3dItemUnit(20),\n                    offsetY: get3dItemUnit(20),\n                    range: 20,\n                    anchorPoint: 'bottom-left',\n                    classList: 'move3d-square',\n                    animate: true,\n                },\n                children: [\n                    {\n                        props: {\n                            id: 17,\n                            depth: 100,\n                            rotate: '',\n                            width: get3dItemUnit(150),\n                            height: get3dItemUnit(150),\n                            range: 100,\n                            anchorPoint: 'center',\n                            classList:\n                                'move3d-square is-small is-white is-center',\n                            animate: true,\n                        },\n                        children: [],\n                    },\n                ],\n            },\n            {\n                props: {\n                    id: 18,\n                    depth: 150,\n                    rotate: 'xy',\n                    width: get3dItemUnit(150),\n                    height: get3dItemUnit(150),\n                    offsetX: get3dItemUnit(20),\n                    offsetY: get3dItemUnit(20),\n                    range: 20,\n                    anchorPoint: 'bottom-right',\n                    classList: 'move3d-square',\n                    animate: true,\n                },\n                children: [\n                    {\n                        props: {\n                            id: 19,\n                            depth: 100,\n                            rotate: '',\n                            width: get3dItemUnit(150),\n                            height: get3dItemUnit(150),\n                            range: 100,\n                            anchorPoint: 'center',\n                            classList:\n                                'move3d-square is-small is-white is-center',\n                            animate: true,\n                        },\n                        children: [],\n                    },\n                ],\n            },\n            {\n                props: {\n                    id: 20,\n                    depth: 150,\n                    rotate: 'xy',\n                    width: get3dItemUnit(150),\n                    height: get3dItemUnit(150),\n                    offsetX: get3dItemUnit(20),\n                    offsetY: get3dItemUnit(20),\n                    range: 20,\n                    anchorPoint: 'top-left',\n                    classList: 'move3d-square',\n                    animate: true,\n                },\n                children: [\n                    {\n                        props: {\n                            id: 21,\n                            depth: 100,\n                            rotate: '',\n                            width: get3dItemUnit(150),\n                            height: get3dItemUnit(150),\n                            range: 100,\n                            anchorPoint: 'center',\n                            classList:\n                                'move3d-square is-small is-white is-center',\n                            animate: true,\n                        },\n                        children: [],\n                    },\n                ],\n            },\n            {\n                props: {\n                    id: 22,\n                    depth: 150,\n                    rotate: 'xy',\n                    width: get3dItemUnit(150),\n                    height: get3dItemUnit(150),\n                    offsetX: get3dItemUnit(20),\n                    offsetY: get3dItemUnit(20),\n                    range: 20,\n                    anchorPoint: 'top-right',\n                    classList: 'move3d-square',\n                    animate: true,\n                },\n                children: [\n                    {\n                        props: {\n                            id: 23,\n                            depth: 100,\n                            rotate: '',\n                            width: get3dItemUnit(150),\n                            height: get3dItemUnit(150),\n                            range: 100,\n                            anchorPoint: 'center',\n                            classList:\n                                'move3d-square is-small is-white is-center',\n                            animate: true,\n                        },\n                        children: [],\n                    },\n                ],\n            },\n        ],\n    },\n];\n", "import { move3DShape1 } from '@commonComponent/move-3d/shape/shape1';\n\nexport const move3DrouteProps = {\n    shape1: {\n        prevRoute: '#horizontalScroller?version=0&activeId=0',\n        nextRoute: '',\n        data: move3DShape1,\n    },\n};\n", "import { html } from '@mobJs';\n\n/**\n * @import {MobComponent} from '@mobJsType';\n */\n\n/** @type {MobComponent<import('./type').AnyComponent>} */\nexport const AnyComponentFn = ({ getState }) => {\n    const { content } = getState();\n\n    return html`${content}`;\n};\n", "import { MobJs } from '@mobJs';\nimport { AnyComponentFn } from './any-component';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const AnyComponent = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').AnyComponent>} */\n    ({\n        tag: 'any-component',\n        component: AnyComponentFn,\n        exportState: ['content'],\n        state: {\n            content: () => ({\n                value: '',\n                type: String,\n            }),\n        },\n    })\n);\n", "import { serializeFragment } from './utils';\n\n/**\n * @param {object} params\n * @param {string} params.svg\n * @param {string} params.id\n * @returns String\n */\nexport const parseSvg = ({ svg, id }) => {\n    const fragment = document.createRange().createContextualFragment(svg);\n    const layers = fragment.querySelectorAll('[type=\"layer\"]');\n    const layerToRemove = fragment.querySelectorAll('[type=\"delete\"]');\n\n    [...layers].forEach((layer) => {\n        const currentId = layer.id;\n        if (currentId !== id) layer.remove();\n    });\n\n    [...layerToRemove].forEach((layer) => {\n        layer.remove();\n    });\n\n    const serialized = serializeFragment(fragment);\n\n    return serialized;\n};\n", "/** @type {import('./type.js').GetLetteringMob} */\nexport const getLettering_01 = ({\n    u0,\n    u1,\n    o,\n    o_b,\n    m1,\n    m2,\n    m3,\n    m4,\n    b1,\n    b1_b,\n    b2,\n    b3,\n    b4,\n    b5,\n    g1,\n    sign,\n    m1_b,\n    m2_b,\n    m3_b,\n    m4_b,\n    b1_stone,\n    m1_stone,\n    m2_stone,\n}) => {\n    return [\n        {\n            props: {\n                id: 0,\n                depth: 200,\n                anchorPoint: 'center',\n                classList: '',\n                animate: true,\n            },\n            children: [\n                {\n                    props: {\n                        id: 1,\n                        depth: -500,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: u0,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 1,\n                        depth: -50,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: u1,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 2,\n                        depth: 20,\n                        initialDepth: 0,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: o,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 2,\n                        depth: 21,\n                        initialDepth: 0,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: o_b,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 3,\n                        depth: 150,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: m1,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 3,\n                        depth: 150,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: m1_b,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 6,\n                        depth: 155,\n                        initialDepth: 1,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: m4,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 6,\n                        depth: 155,\n                        initialDepth: 1,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: m4_b,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 6,\n                        depth: 170,\n                        initialDepth: 1,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: m1_stone,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 4,\n                        depth: 180,\n                        initialDepth: 1,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: m2,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 4,\n                        depth: 180,\n                        initialDepth: 1,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: m2_b,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 4,\n                        depth: 180,\n                        initialDepth: 1,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: sign,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 5,\n                        depth: 100,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: m3,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 5,\n                        depth: 100,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: m3_b,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 5,\n                        depth: 100,\n                        initialDepth: 5,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: m2_stone,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 6,\n                        depth: 50,\n                        anchorPoint: 'center',\n                        initialDepth: 1,\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: b1,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 6,\n                        depth: 51,\n                        anchorPoint: 'center',\n                        initialDepth: 1,\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: b1_b,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 7,\n                        depth: 120,\n                        anchorPoint: 'center',\n                        initialDepth: 10,\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: b2,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 7,\n                        depth: 120,\n                        anchorPoint: 'center',\n                        initialDepth: 10,\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: b1_stone,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 8,\n                        depth: 100,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: b3,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 10,\n                        depth: 170,\n                        anchorPoint: 'center',\n                        initialDepth: 10,\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: b4,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 11,\n                        depth: 100,\n                        anchorPoint: 'center',\n                        initialDepth: 1,\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: b5,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n                {\n                    props: {\n                        id: 12,\n                        initialDepth: 2,\n                        depth: 102,\n                        anchorPoint: 'center',\n                        classList: '',\n                        animate: true,\n                        rotate: 'y',\n                        component: {\n                            tagName: 'any-component',\n                            className: 'u-any-center-svg l-lettering-01__block',\n                            props: {\n                                content: g1,\n                            },\n                        },\n                    },\n                    children: [],\n                },\n            ],\n        },\n    ];\n};\n", "import { AnyComponent } from '@commonComponent/any-component/definition';\nimport { Move3D } from '@commonComponent/move-3d/definition';\nimport { updateQuickNavState } from '@commonComponent/quick-nav/utils';\nimport { html, MobJs } from '@mobJs';\nimport { parseSvg } from '@utils/parse-svg';\nimport { loadTextContent } from '@utils/utils';\nimport { getLettering_01 } from './lettering-01-data';\nimport { AnimationTitle } from '@commonComponent/animation-title/definition';\n\nMobJs.useComponent([Move3D, AnyComponent, AnimationTitle]);\n\nexport const lettering01 = async () => {\n    const { data: letteringMob } = await loadTextContent({\n        source: './asset/svg/lettering-mob.svg?v=0.9',\n    });\n\n    const [\n        u0,\n        u1,\n        o,\n        o_b,\n        m1,\n        m1_b,\n        m2,\n        m2_b,\n        m3,\n        m3_b,\n        m4,\n        m4_b,\n        b1,\n        b1_b,\n        b2,\n        b3,\n        b4,\n        b5,\n        g1,\n        sign,\n        b1_stone,\n        m1_stone,\n        m2_stone,\n    ] = [\n        'U0_block',\n        'U1_block',\n        'O_block',\n        'O_b_block',\n        'M1_block',\n        'M1_b_block',\n        'M2_block',\n        'M2_b_block',\n        'M3_block',\n        'M3_b_block',\n        'M4_block',\n        'M4_b_block',\n        'B1_block',\n        'B1_b_block',\n        'B2_block',\n        'B3_block',\n        'B4_block',\n        'B5_block',\n        'G1_block',\n        'sign',\n        'Bstone_1_block',\n        'Mstone_1_block',\n        'Mstone_2_block',\n    ].map((id) => {\n        return parseSvg({\n            svg: letteringMob,\n            id: id,\n        });\n    });\n\n    /** Quicknav */\n    updateQuickNavState({\n        active: true,\n        prevRoute: '',\n        nextRoute: '',\n        backRoute: '#svg-overview',\n        color: 'black',\n    });\n\n    return html`<div class=\"l-lettering-01\">\n        <move-3d\n            ${MobJs.staticProps(\n                /** @type {import('@commonComponent/move-3d/type').Move3D['state']} */ ({\n                    shape: getLettering_01({\n                        u0,\n                        u1,\n                        o,\n                        o_b,\n                        m1,\n                        m2,\n                        m3,\n                        m4,\n                        b1,\n                        b1_b,\n                        b2,\n                        b3,\n                        b4,\n                        b5,\n                        g1,\n                        sign,\n                        m1_b,\n                        m2_b,\n                        m3_b,\n                        m4_b,\n                        b1_stone,\n                        m1_stone,\n                        m2_stone,\n                    }),\n                    xDepth: 100,\n                    yDepth: 30,\n                    factor: 20,\n                    xLimit: 20,\n                    yLimit: 20,\n                    drag: true,\n                    perspective: 1000,\n                })\n            )}\n        ></move-3d>\n        <animation-title\n            ${MobJs.staticProps(\n                /** @type {import('@commonComponent/animation-title/type').AnimationTitle['state']} */ ({\n                    title: 'Mob 01',\n                    list: ['Svg', 'Spring', 'Lerp'],\n                })\n            )}\n        ></animation-title>\n    </div>`;\n};\n", "/**\n * @import {MobComponent} from '@mobJsType';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { MobMotionCore } from '@mobMotion';\n\nconst shouldActivateCta = () => {\n    return /** @type {boolean} */ (MobMotionCore.mq('min', 'desktop'));\n};\n\n/** @type {MobComponent<import('./type').OnlyDesktop>} */\nexport const OnlyDesktopFnCta = ({ onMount, getProxi, bindEffect }) => {\n    const proxi = getProxi();\n    proxi.active = shouldActivateCta();\n\n    onMount(() => {\n        const unsubscribeResize = MobCore.useResize(() => {\n            proxi.active = shouldActivateCta();\n        });\n\n        return () => {\n            unsubscribeResize();\n        };\n    });\n\n    return html`\n        <a\n            href=\"#home\"\n            class=\"l-only-desktop__link\"\n            ${bindEffect({\n                toggleClass: {\n                    active: () => proxi.active,\n                },\n            })}\n        >\n            home page\n        </a>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { OnlyDesktopFnCta } from './only-desktop-cta';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const OnlyDesktopCta = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').OnlyDesktop>} */\n    ({\n        tag: 'only-desktop-cta',\n        component: OnlyDesktopFnCta,\n        state: {\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "import { OnlyDesktopCta } from '@commonComponent/only-desktop-cta/definition';\nimport { html, MobJs } from '@mobJs';\nimport { loadTextContent } from '@utils/utils';\n\nMobJs.useComponent([OnlyDesktopCta]);\n\n/** @type {import('@mobJsType').Page} */\nexport const onlyDesktop = async () => {\n    const { data: letteringMob } = await loadTextContent({\n        source: './asset/svg/lettering-mob-only-desktop.svg?v=0.1',\n    });\n\n    return html`\n        <div class=\"l-only-desktop\">\n            <div class=\"l-only-desktop__content\">\n                <h3 class=\"l-only-desktop__title\">\n                    This site is available<br />\n                    only on desktop<br />\n                    .. at now\n                </h3>\n                <div>\n                    <only-desktop-cta></only-desktop-cta>\n                </div>\n                <div class=\"l-only-desktop__svg\">${letteringMob}</div>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { MobCore } from '@mobCore';\nimport { MobJs } from '@mobJs';\nimport { MobTimeline, MobTween } from '@mobMotion';\nimport {\n    canvasBackground,\n    copyCanvasBitmap,\n    createGrid,\n    getCanvasContext,\n    getOffsetCanvas,\n    roundRectIsSupported,\n} from '@utils/canvas-utils';\n\n/** @type {import('../type').AsyncTimelineAnimation} */\nexport const asyncTimelineanimation = ({ canvas, disableOffcanvas }) => {\n    /**\n     * Check if offscrennCanvas can be used.\n     */\n    const { useOffscreen, context } = getCanvasContext({ disableOffcanvas });\n\n    /**\n     * Mutable keyword is used for destroy reference.\n     */\n    let isActive = true;\n    let ctx = canvas.getContext(context, { alpha: false });\n\n    const activeRoute = MobJs.getActiveRoute();\n\n    /**\n     * If offscreen is supported use.\n     */\n    let { offscreen, offScreenCtx } = getOffsetCanvas({ useOffscreen, canvas });\n    let wichContext = useOffscreen ? offScreenCtx : ctx;\n    const useRadius = roundRectIsSupported(\n        /** @type {CanvasRenderingContext2D} */ (wichContext)\n    );\n    wichContext = null;\n\n    canvas.width = canvas.clientWidth;\n    canvas.height = canvas.clientHeight;\n\n    const numberOfRow = 10;\n    const numberOfColumn = 10;\n    const cellWidth = window.innerHeight / 18;\n    const cellHeight = window.innerHeight / 18;\n    const gutter = 3;\n\n    /**\n     * Create basic grid.\n     */\n    let gridData = createGrid({\n        canvas,\n        numberOfRow,\n        numberOfColumn,\n        cellWidth,\n        cellHeight,\n        gutter,\n    }).items;\n\n    /**\n     * Add props to transform. Order byy hasFill, so is like z-index: -1.\n     */\n    let data = gridData.map((item) => {\n        return {\n            ...item,\n            scale: 1,\n            rotate: 0,\n        };\n    });\n\n    /**\n     * Start from 0,0\n     *\n     * @param {object} params\n     * @param {number} params.row\n     * @param {number} params.col\n     */\n    const getCoordinate = ({ row, col }) => {\n        const rowIndex = (numberOfColumn + 1) * row;\n        return data[rowIndex + col];\n    };\n\n    /**\n     * Create data for single tweens\n     */\n    const initialTweenAroundData = {\n        ...getCoordinate({ row: 1, col: 1 }),\n        scale: 1,\n        rotate: 0,\n    };\n\n    let tweenAroundTarget = initialTweenAroundData;\n\n    const initialTweenRotateData = {\n        ...getCoordinate({ row: 4, col: 5 }),\n        scale: 1,\n        rotate: 0,\n    };\n\n    let tweenRotateTarget = initialTweenRotateData;\n\n    /**\n     * Create tween\n     */\n\n    let tweenGrid = MobTween.createTimeTween({\n        ease: 'easeInOutQuad',\n        stagger: {\n            each: 10,\n            from: 'random',\n        },\n        data: { scale: 1, rotate: 0 },\n    });\n\n    let tweenAround = MobTween.createTimeTween({\n        data: tweenAroundTarget,\n        duration: 1000,\n        ease: 'easeInOutBack',\n    });\n\n    let tweenGridRotate = MobTween.createSpring({\n        data: tweenRotateTarget,\n    });\n\n    /**\n     * Subscribe tweens\n     */\n    data.forEach((item) => {\n        tweenGrid.subscribeCache(item, ({ scale, rotate }) => {\n            item.rotate = rotate;\n            item.scale = scale;\n        });\n    });\n\n    tweenAround.subscribe((data) => {\n        tweenAroundTarget = data;\n    });\n\n    tweenGridRotate.subscribe((data) => {\n        tweenRotateTarget = data;\n    });\n\n    /**\n     * Create grid timeline\n     */\n    let gridTimeline = MobTimeline.createAsyncTimeline({\n        repeat: -1,\n        autoSet: false,\n    });\n\n    gridTimeline\n        .goTo(tweenGrid, { scale: 0.2, rotate: 90 }, { duration: 1000 })\n        .goTo(tweenGrid, { rotate: 180, scale: 1.2 }, { duration: 500 })\n        .goTo(tweenGrid, { scale: 1.3 }, { duration: 500 })\n        .goTo(tweenGrid, { scale: 1 }, { duration: 1200 });\n\n    /**\n     * Create single item timeline\n     */\n    let timeline = MobTimeline.createAsyncTimeline({\n        repeat: -1,\n        yoyo: true,\n        autoSet: false,\n    });\n\n    timeline\n        .goTo(tweenAround, {\n            x: getCoordinate({ row: 1, col: 8 }).x,\n            rotate: 360,\n            scale: 2,\n        })\n        .createGroup({ waitComplete: false })\n        .goTo(tweenAround, {\n            y: getCoordinate({ row: 8, col: 8 }).y,\n            rotate: 180,\n        })\n        .goTo(\n            tweenGridRotate,\n            { y: getCoordinate({ row: 0, col: 8 }).y },\n            { delay: 500 }\n        )\n        .closeGroup()\n        .label({ name: 'my-label' })\n        .createGroup({ waitComplete: false })\n        .goTo(tweenAround, {\n            x: getCoordinate({ row: 8, col: 1 }).x,\n            rotate: 0,\n            scale: 1,\n        })\n        .goTo(\n            tweenGridRotate,\n            {\n                rotate: 360,\n                scale: 2,\n            },\n            { delay: 0 }\n        )\n        .closeGroup()\n        .createGroup({ waitComplete: false })\n        .goTo(\n            tweenAround,\n            { y: getCoordinate({ row: 1, col: 1 }).y, rotate: -180 },\n            { duration: 1000 }\n        )\n        .goTo(\n            tweenGridRotate,\n            {\n                rotate: 0,\n                y: getCoordinate({ row: 8, col: 8 }).y,\n                scale: 1,\n            },\n            { delay: 200 }\n        )\n        .closeGroup();\n\n    /**\n     * @param {object} params\n     * @param {number} params.x\n     * @param {number} params.y\n     * @param {number} params.width\n     * @param {number} params.height\n     * @param {number} params.rotate\n     * @param {number} params.scale\n     * @param {number} params.offsetYCenter\n     * @param {number} params.offsetXCenter\n     * @param {CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D} params.context\n     * @param {string} params.fill\n     */\n    const drawItem = ({\n        x,\n        y,\n        width,\n        height,\n        rotate,\n        scale,\n        offsetXCenter,\n        offsetYCenter,\n        context,\n        fill,\n    }) => {\n        const rotation = (Math.PI / 180) * rotate;\n        const xx = Math.cos(rotation) * scale;\n        const xy = Math.sin(rotation) * scale;\n\n        /**\n         * Apply scale/rotation/scale all together.\n         */\n        context.setTransform(\n            xx,\n            xy,\n            -xy,\n            xx,\n            offsetXCenter + x,\n            offsetYCenter + y\n        );\n\n        /**\n         * Draw.\n         */\n        if (useRadius) {\n            context.beginPath();\n            context.roundRect(\n                Math.round(-width / 2),\n                Math.round(-height / 2),\n                width,\n                height,\n                5\n            );\n        } else {\n            context.beginPath();\n            context.rect(\n                Math.round(-width / 2),\n                Math.round(-height / 2),\n                width,\n                height\n            );\n        }\n\n        context.fillStyle = fill;\n        context.fill();\n\n        /**\n         * Reset all transform instead save() restore().\n         */\n        // context.setTransform(1, 0, 0, 1, 0, 0);\n    };\n\n    /**\n     * Main draw function.\n     */\n    const draw = () => {\n        if (!ctx) return;\n\n        if (useOffscreen && offscreen) {\n            offscreen.width = canvas.width;\n            offscreen.height = canvas.height;\n        }\n\n        const context = useOffscreen\n            ? offScreenCtx\n            : /** @type {CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D} */ (\n                  ctx\n              );\n\n        if (!context) return;\n\n        /**\n         * Clear rpevious render.\n         */\n        context.fillStyle = canvasBackground;\n        context.fillRect(0, 0, canvas.width, canvas.height);\n\n        /**\n         * Grid\n         */\n        data.forEach(\n            ({\n                x,\n                y,\n                width,\n                height,\n                rotate,\n                scale,\n                offsetXCenter,\n                offsetYCenter,\n            }) => {\n                drawItem({\n                    x,\n                    y,\n                    width,\n                    height,\n                    rotate,\n                    scale,\n                    offsetXCenter,\n                    offsetYCenter,\n                    context,\n                    fill: '#ffffff',\n                });\n            }\n        );\n\n        /**\n         * Tween1\n         */\n        drawItem({\n            x: tweenAroundTarget.x,\n            y: tweenAroundTarget.y,\n            width: tweenAroundTarget.width,\n            height: tweenAroundTarget.height,\n            rotate: tweenAroundTarget.rotate,\n            scale: tweenAroundTarget.scale,\n            offsetXCenter: tweenAroundTarget.offsetXCenter,\n            offsetYCenter: tweenAroundTarget.offsetYCenter,\n            context,\n            fill: '#000000',\n        });\n\n        /**\n         * Fixed tween\n         */\n        drawItem({\n            x: tweenRotateTarget.x,\n            y: tweenRotateTarget.y,\n            width: tweenRotateTarget.width,\n            height: tweenRotateTarget.height,\n            rotate: tweenRotateTarget.rotate,\n            scale: tweenRotateTarget.scale,\n            offsetXCenter: tweenRotateTarget.offsetXCenter,\n            offsetYCenter: tweenRotateTarget.offsetYCenter,\n            context,\n            fill: '#000000',\n        });\n\n        /**\n         * Reset all transform instead save() restore().\n         */\n        context.setTransform(1, 0, 0, 1, 0, 0);\n\n        // @ts-ignore\n        copyCanvasBitmap({ useOffscreen, offscreen, ctx });\n    };\n\n    /**\n     * Loop\n     */\n    const loop = () => {\n        draw();\n\n        if (!isActive) return;\n        MobCore.useNextFrame(() => loop());\n    };\n\n    /**\n     * Start loop.\n     */\n    MobCore.useFrame(() => {\n        loop();\n    });\n\n    /**\n     * Pause/Resume animation on nav open.\n     */\n    const unWatchPause = navigationStore.watch('navigationIsOpen', (val) => {\n        if (val) {\n            // gridTimeline?.stop();\n            isActive = false;\n            return;\n        }\n\n        setTimeout(async () => {\n            isActive = true;\n\n            /**\n             * If close nav but change route skip.\n             */\n            const currentRoute = MobJs.getActiveRoute();\n            if (currentRoute.route !== activeRoute.route) return;\n\n            /**\n             * Restart loop\n             */\n            // gridTimeline?.play();\n            MobCore.useFrame(() => loop());\n        }, 500);\n    });\n\n    /**\n     * Destroy.\n     */\n    return {\n        destroy: () => {\n            unWatchPause();\n            ctx = null;\n            offscreen = null;\n            offScreenCtx = null;\n            gridData = [];\n            data = [];\n            isActive = false;\n\n            tweenGrid?.destroy?.();\n            tweenAround?.destroy?.();\n            tweenGridRotate?.destroy?.();\n            timeline?.destroy?.();\n            gridTimeline?.destroy?.();\n\n            // @ts-ignore\n            tweenGrid = null;\n            // @ts-ignore\n            tweenAround = null;\n            // @ts-ignore\n            tweenGridRotate = null;\n            // @ts-ignore\n            timeline = null;\n\n            // @ts-ignore\n            gridTimeline = null;\n        },\n        play: () => {\n            timeline.play();\n            gridTimeline.play();\n        },\n        playReverse: () => {\n            timeline.playReverse();\n            gridTimeline.play();\n        },\n        playFromLabel: () => {\n            timeline\n                .setTween('my-label', [tweenAround, tweenGridRotate])\n                .then(() => {\n                    timeline.playFrom('my-label').then(() => {\n                        console.log('resolve promise playFrom');\n                    });\n                    gridTimeline.play();\n                });\n        },\n        playFromLabelReverse: () => {\n            timeline\n                .setTween('my-label', [tweenAround, tweenGridRotate])\n                .then(() => {\n                    timeline.playFromReverse('my-label').then(() => {\n                        console.log('resolve promise playFrom');\n                    });\n                    gridTimeline.play();\n                });\n        },\n        revertNext: () => {\n            timeline.reverseNext();\n        },\n        pause: () => {\n            timeline.pause();\n            gridTimeline.stop();\n        },\n        resume: () => {\n            timeline.resume();\n            gridTimeline.play();\n        },\n        stop: () => {\n            timeline.stop();\n            gridTimeline.stop();\n        },\n    };\n};\n", "//@ts-check\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {AsyncTimeline, AsyncTimelineControls} from './type';\n * @import {AnimationTitle} from '@commonComponent/animation-title/type';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { canvasBackground } from '@utils/canvas-utils';\nimport { asyncTimelineanimation } from './animation/animation';\n\n/**\n * @param {object} params\n * @param {AsyncTimelineControls} params.buttons\n * @returns {string}\n */\nfunction getControls({ buttons }) {\n    return Object.entries(buttons)\n        .map(([className, value]) => {\n            const { label } = value;\n\n            return html` <li class=\"c-canvas__controls__item\">\n                <button\n                    type=\"button\"\n                    class=\"c-canvas__controls__btn ${className}\"\n                >\n                    ${label}\n                </button>\n            </li>`;\n        })\n        .join('');\n}\n\n/** @type {MobComponent<AsyncTimeline>} */\nexport const AsyncTimelineFn = ({\n    onMount,\n    getState,\n    setRef,\n    getRef,\n    bindEffect,\n    getProxi,\n    staticProps,\n}) => {\n    const proxi = getProxi();\n    document.body.style.background = canvasBackground;\n\n    let methods = {};\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    let destroy = () => {};\n\n    onMount(({ element }) => {\n        const { canvas } = getRef();\n\n        methods = asyncTimelineanimation({\n            canvas,\n            ...getState(),\n        });\n\n        // @ts-ignore\n        destroy = methods.destroy;\n\n        const unsubscribeResize = MobCore.useResize(() => {\n            destroy();\n\n            methods = asyncTimelineanimation({\n                canvas,\n                ...getState(),\n            });\n\n            // @ts-ignore\n            destroy = methods.destroy;\n\n            // @ts-ignore\n            methods?.play?.();\n        });\n\n        /**\n         * Inizalize controls handler.\n         */\n        Object.entries(proxi.buttons).forEach(([className, value]) => {\n            const { method } = value;\n            const btn = element.querySelector(`.${className}`);\n            // @ts-ignore\n            btn?.addEventListener('click', () => methods?.[method]());\n        });\n\n        MobCore.useFrame(() => {\n            proxi.isMounted = true;\n        });\n\n        // @ts-ignore\n        methods?.play?.();\n\n        return () => {\n            unsubscribeResize();\n            destroy();\n            document.body.style.background = '';\n        };\n    });\n\n    return html`\n        <div>\n            <div class=\"c-canvas\">\n                <div\n                    class=\"c-canvas__wrap\"\n                    ${bindEffect({\n                        toggleClass: { active: () => proxi.isMounted },\n                    })}\n                >\n                    <ul class=\"c-canvas__controls\">\n                        ${getControls({ buttons: proxi.buttons })}\n                    </ul>\n                    <canvas ${setRef('canvas')}></canvas>\n                </div>\n                <animation-title\n                    ${staticProps(\n                        /** @type {AnimationTitle['state']} */ ({\n                            title: 'AsyncTimeline example',\n                            list: ['Spring', 'TimeTween', 'AsyncTimeline'],\n                        })\n                    )}\n                ></animation-title>\n            </div>\n        </div>\n    `;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { detectFirefox, detectSafari } from '@utils/utils';\nimport { AsyncTimelineFn } from './async-timeline';\nimport { AnimationTitle } from '@commonComponent/animation-title/definition';\n\nconst buttons = {\n    'js-async-timeline-play': {\n        label: 'play',\n        method: 'play',\n    },\n    'js-async-timeline-playReverse': {\n        label: 'play reverse',\n        method: 'playReverse',\n    },\n    'js-async-timeline-play-label': {\n        label: 'play from label',\n        method: 'playFromLabel',\n    },\n    'js-async-timeline-playReverse-label': {\n        label: 'play from label reverse',\n        method: 'playFromLabelReverse',\n    },\n    'js-async-timeline-revert-next': {\n        label: 'revert next',\n        method: 'revertNext',\n    },\n    'js-async-timeline-pause': {\n        label: 'pause',\n        method: 'pause',\n    },\n    'js-async-timeline-resume': {\n        label: 'resume',\n        method: 'resume',\n    },\n    'js-async-timeline-stop': {\n        label: 'stop',\n        method: 'stop',\n    },\n};\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const AsyncTimeline = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').AsyncTimeline>} */\n    ({\n        tag: 'async-timeline',\n        component: AsyncTimelineFn,\n        exportState: ['disableOffcanvas'],\n        state: {\n            isMounted: false,\n            disableOffcanvas: () => ({\n                value: detectFirefox() || detectSafari() ? true : false,\n                type: Boolean,\n            }),\n            buttons: () => ({\n                value: buttons,\n                type: 'Any',\n            }),\n        },\n        child: [AnimationTitle],\n    })\n);\n", "import { updateQuickNavState } from '@commonComponent/quick-nav/utils';\nimport { html, MobJs } from '@mobJs';\nimport { AsyncTimeline } from '@pagesComponent/async-timeline/definition';\n\nMobJs.useComponent([AsyncTimeline]);\n\n/** @type {import('@mobJsType').Page} */\nexport const asyncTimeline = () => {\n    /** Quicknav */\n    updateQuickNavState({\n        active: true,\n        prevRoute: '#caterpillarN2',\n        nextRoute: '#animatedPatternN0?version=0&activeId=0',\n        backRoute: '#canvas-overview',\n        color: 'black',\n    });\n\n    return html`<div class=\"l-padding\">\n        <async-timeline\n            ${MobJs.staticProps(\n                /** @type {import('@pagesComponent/async-timeline/type').AsyncTimeline['state']} */\n                ({\n                    disableOffcanvas: false,\n                })\n            )}\n        ></async-timeline\n    </div>`;\n};\n", "import { pageNotFound } from './404';\nimport { layoutLinksPage } from './layout/layout-links';\nimport { layoutSidebarAnchor } from './layout/layout-sidebar-anchor';\nimport { layoutSidebarLinks } from './layout/layout-sidebar-links';\nimport { layoutAbout } from './about/layout-about';\nimport { benchMark } from './benchmark';\nimport { animatedPatternN0 } from './canvas/animated-pattern-n0';\nimport { animatedPatternN1 } from './canvas/animate-pattern-n1';\nimport { caterpillarN0 } from './canvas/caterpillar-n0';\nimport { caterpillarN1 } from './canvas/caterpillar-n1';\nimport { caterpillarN2 } from './canvas/caterpillar-n2';\nimport { scrollerN0 } from './canvas/scroller';\nimport { scrollerN1 } from './canvas/scroller-n1';\nimport { dynamic_list } from './dynamic-list';\nimport { home } from './home';\nimport { matrioska_page } from './matrioska';\nimport { horizontalScroller } from './plugin/horizontal-scroller';\nimport { move3DRoute } from './plugin/move-3d';\nimport { move3DrouteProps } from './plugin/move-3d/props';\nimport { lettering01 } from './svg/lettering-01';\nimport { onlyDesktop } from './onlyDesktop';\nimport { asyncTimeline } from './canvas/async-timeline';\n\nexport const PAGE_TEMPLATE_COMPONENT_MOBJS = 'templateMobJsComponent';\n\nconst mobJsComponentBreadCrumbs = [\n    {\n        url: './#mobJs-overview',\n        title: 'mobJs',\n    },\n    {\n        url: './#mobJs-component',\n        title: 'component',\n    },\n];\n\nconst mobJsOverviewBreadCrumbs = [\n    {\n        url: './#mobJs-overview',\n        title: 'mobJs',\n    },\n];\n\nconst mobCoreOverviewBreadCrumbs = [\n    {\n        url: './#mobCore-overview',\n        title: 'mobCore',\n    },\n];\n\nconst mobMotionOverviewBreadCrumbs = [\n    {\n        url: './#mobMotion-overview',\n        title: 'mobMotion',\n    },\n];\n\n/**\n * @type {import('@mobJsType').Route[]}\n */\nexport const routes = [\n    {\n        name: 'pageNotFound',\n        layout: pageNotFound,\n        props: {},\n    },\n    {\n        name: 'onlyDesktop',\n        layout: onlyDesktop,\n        props: {},\n    },\n    {\n        name: 'about',\n        layout: layoutAbout,\n        props: {},\n    },\n    {\n        name: 'animatedPatternN0',\n        layout: animatedPatternN0,\n        props: {},\n    },\n    {\n        name: 'animatedPatternN1',\n        layout: animatedPatternN1,\n        props: {},\n    },\n    {\n        name: 'caterpillarN0',\n        layout: caterpillarN0,\n        props: {},\n    },\n    {\n        name: 'caterpillarN1',\n        layout: caterpillarN1,\n        props: {},\n    },\n    {\n        name: 'caterpillarN2',\n        layout: caterpillarN2,\n        props: {},\n    },\n    {\n        name: 'async-timeline',\n        layout: asyncTimeline,\n        props: {},\n    },\n    {\n        name: 'canvas-overview',\n        layout: layoutLinksPage,\n        props: {\n            source: './data/canvas/data.json',\n        },\n    },\n    {\n        name: 'scrollerN0',\n        layout: scrollerN0,\n        props: {},\n    },\n    {\n        name: 'scrollerN1',\n        layout: scrollerN1,\n        props: {},\n    },\n    {\n        name: 'dynamic-list',\n        layout: dynamic_list,\n        props: {\n            source: './data/mob-js/general-repeat-test.json',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            title: '( test ) repeat & invalidate',\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'matrioska',\n        layout: matrioska_page,\n        props: {\n            source: './data/mob-js/matrioska.json',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            title: '( test ) matrioska',\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'home',\n        layout: home,\n        props: {},\n    },\n    {\n        name: 'mobCore-overview',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-core/overview.json',\n            title: 'mobCore',\n            breadCrumbs: [],\n            section: 'mobCore',\n        },\n    },\n    {\n        name: 'mobCore-defaults',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-core/defaults.json',\n            title: 'Defaults',\n            breadCrumbs: mobCoreOverviewBreadCrumbs,\n            section: 'mobCore',\n        },\n    },\n    {\n        name: 'mobCore-events',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-core/events.json',\n            title: 'Events',\n            breadCrumbs: mobCoreOverviewBreadCrumbs,\n            section: 'mobCore',\n        },\n    },\n    {\n        name: 'mobCore-store',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-core/store.json',\n            title: 'Store',\n            breadCrumbs: mobCoreOverviewBreadCrumbs,\n            section: 'mobCore',\n        },\n    },\n    {\n        name: 'mobJs-overview',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-js/overview.json',\n            title: 'mobJs',\n            breadCrumbs: [],\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-initialization',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-js/initialization.json',\n            title: 'initialization',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-component',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-js/component.json',\n            title: 'component',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-routing',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-js/routing.json',\n            title: 'routing',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-benchmark-invalidate',\n        layout: benchMark,\n        props: {\n            rootComponent: 'benchmark-invalidate',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            source: './data/mob-js/benchmark-invalidate.json',\n            title: '( test ) benchmark invalidate',\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-benchmark-repeat-no-key',\n        layout: benchMark,\n        props: {\n            rootComponent: 'benchmark-repeat-no-key',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            source: './data/mob-js/benchmark-repeat-without-key.json',\n            title: '( test ) benchmark repeat without key',\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-benchmark-repeat-key',\n        layout: benchMark,\n        props: {\n            rootComponent: 'benchmark-repeat-key',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            source: './data/mob-js/benchmark-repeat-key.json',\n            title: '( test ) benchmark repeat key',\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-benchmark-repeat-no-key-nested',\n        layout: benchMark,\n        props: {\n            rootComponent: 'benchmark-repeat-key-no-nested',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            source: './data/mob-js/benchmark-repeat-without-key-nested.json',\n            title: '( test ) benchmark repeat nested without key',\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-benchmark-repeat-key-nested',\n        layout: benchMark,\n        props: {\n            rootComponent: 'benchmark-repeat-key-nested',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            source: './data/mob-js/benchmark-repeat-key-nested.json',\n            title: '( test ) benchmark repeat nested with key',\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-benchmark-repeat-key-bind-store',\n        layout: benchMark,\n        props: {\n            rootComponent: 'benchmark-repeat-no-key-bind-store',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            source: './data/mob-js/benchmark-repeat-external.json',\n            title: '( test ) benchmark repeat bindStore',\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-tick',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-js/tick.json',\n            title: 'tick',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-utils',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-js/utils.json',\n            title: 'utils',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-memory-management',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-js/memory-management.json',\n            title: 'memory management',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-debug',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-js/debug.json',\n            title: 'debug',\n            breadCrumbs: mobJsOverviewBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-onMount',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/on-mount.json',\n            title: 'onMount',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-getState',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/get-state.json',\n            title: 'getState',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-setState',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/set-state.json',\n            title: 'setState',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-updateState',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/update-state.json',\n            title: 'updateState',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-getProxi',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/get-proxi.json',\n            title: 'getProxi',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-watch',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/watch.json',\n            title: 'watch',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-staticProps',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/static-props.json',\n            title: 'staticProps',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-dataAttribute',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/data-attribute.json',\n            title: 'dataAttribute',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-bindProps',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/bind-props.json',\n            title: 'bindProps',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-bindEvents',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/bind-events.json',\n            title: 'bindEvents',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-delegateEvents',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/delegate-events.json',\n            title: 'delegateEvents',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-bindtext',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/bind-text.json',\n            title: 'bindText',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-bindObject',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/bind-object.json',\n            title: 'bindObject',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-bind-effect',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/bind-effect.json',\n            title: 'bindEffect',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-methods',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/methods.json',\n            title: 'add methods',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-useMethodByName',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/use-method-by-name.json',\n            title: 'useMethodByName',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-useMethodArrayByName',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/use-method-array-by-name.json',\n            title: 'useMethodArrayByName',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-setStateByName',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/set-state-by-name.json',\n            title: 'setStateByName',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-updateStateByName',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/update-state-by-name.json',\n            title: 'updateStateByName',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-refs',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/refs.json',\n            title: 'refs',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-runtime',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/runtime.json',\n            title: 'renderComponent',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-repeat',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/repeat.json',\n            title: 'repeat',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-invalidate',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/invalidate.json',\n            title: 'invalidate',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-invalidate-vs-repeater',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/invalidate-vs-repeater.json',\n            title: 'invalidate vs repeater',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-web-component',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/web-component.json',\n            title: 'webComponent',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-slot',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/slot.json',\n            title: 'slot',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-unBind',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/unbind.json',\n            title: 'unBind',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-emit',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/emit.json',\n            title: 'emit',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-emitAsync',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/emit-async.json',\n            title: 'emitAsync',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-computed',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/computed.json',\n            title: 'computed',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-bindStore',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/bind-store.json',\n            title: 'bindStore',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-removeDom',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/remove-dom.json',\n            title: 'removeDom',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-remove',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/remove.json',\n            title: 'remove',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-getChildren',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/get-children.json',\n            title: 'getChildren',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-freezeProp',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/freeze-prop.json',\n            title: 'freezeProp',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-unFreezeProp',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/unfreeze-prop.json',\n            title: 'unFreezeProp',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-getParentId',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/get-parent-id.json',\n            title: 'getParentId',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-watchParent',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/watch-parent.json',\n            title: 'watchParent',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-instanceName',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/instance-name.json',\n            title: 'instanceName',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobJs-class-list',\n        templateName: PAGE_TEMPLATE_COMPONENT_MOBJS,\n        layout: layoutSidebarLinks,\n        props: {\n            source: './data/mob-js/class-list.json',\n            title: 'classList',\n            breadCrumbs: mobJsComponentBreadCrumbs,\n            section: 'mobJs',\n        },\n    },\n    {\n        name: 'mobMotion-stagger',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-motion/stagger.json',\n            title: 'Stagger',\n            breadCrumbs: mobMotionOverviewBreadCrumbs,\n            section: 'mobMotion',\n        },\n    },\n    {\n        name: 'mobMotion-defaults',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-motion/defaults.json',\n            title: 'Defaults',\n            breadCrumbs: mobMotionOverviewBreadCrumbs,\n            section: 'mobMotion',\n        },\n    },\n    {\n        name: 'mobMotion-overview',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-motion/overview.json',\n            title: 'mobMotion',\n            breadCrumbs: [],\n            section: 'mobMotion',\n        },\n    },\n    {\n        name: 'mobMotion-parallax',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-motion/parallax.json',\n            title: 'Parallax',\n            breadCrumbs: mobMotionOverviewBreadCrumbs,\n            section: 'mobMotion',\n        },\n    },\n    {\n        name: 'mobMotion-sequencer',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-motion/sequencer.json',\n            title: 'Sequencer',\n            breadCrumbs: mobMotionOverviewBreadCrumbs,\n            section: 'mobMotion',\n        },\n    },\n    {\n        name: 'mobMotion-scrolltrigger',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-motion/scroll-trigger.json',\n            title: 'ScrollTrigger',\n            breadCrumbs: mobMotionOverviewBreadCrumbs,\n            section: 'mobMotion',\n        },\n    },\n    {\n        name: 'mobMotion-sync-timeline',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-motion/sync-timeline.json',\n            title: 'Synctimeline',\n            breadCrumbs: mobMotionOverviewBreadCrumbs,\n            section: 'mobMotion',\n        },\n    },\n    {\n        name: 'mobMotion-create-stagger',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-motion/create-stagger.json',\n            title: 'CreateStagger',\n            breadCrumbs: mobMotionOverviewBreadCrumbs,\n            section: 'mobMotion',\n        },\n    },\n    {\n        name: 'mobMotion-async-timeline',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-motion/async-timeline.json',\n            title: 'Asynctimeline',\n            breadCrumbs: mobMotionOverviewBreadCrumbs,\n            section: 'mobMotion',\n        },\n    },\n    {\n        name: 'mobMotion-tween-spring-lerp',\n        layout: layoutSidebarAnchor,\n        props: {\n            source: './data/mob-motion/tween-spring-lerp.json',\n            title: 'Tween Spring Lerp',\n            breadCrumbs: mobMotionOverviewBreadCrumbs,\n            section: 'mobMotion',\n        },\n    },\n    {\n        name: 'horizontalScroller',\n        templateName: 'generic',\n        layout: horizontalScroller,\n        restoreScroll: false,\n        props: {},\n    },\n    {\n        name: 'plugin-overview',\n        layout: layoutLinksPage,\n        props: {\n            source: './data/plugin/data.json',\n        },\n    },\n    {\n        name: 'move3D-shape1',\n        templateName: 'generic',\n        layout: move3DRoute,\n        props: move3DrouteProps.shape1,\n    },\n    {\n        name: 'svg-overview',\n        layout: layoutLinksPage,\n        props: {\n            source: './data/svg/data.json',\n        },\n    },\n    {\n        name: 'mob_01',\n        layout: lettering01,\n        props: {},\n    },\n];\n", "import { MobCore } from '@mobCore';\n\nconst setValue = () => {\n    const value = window.innerWidth - document.documentElement.clientWidth;\n\n    document.documentElement.style.setProperty(\n        '--scrollbar-with',\n        `${value}px`\n    );\n};\n\nexport const getScrollbarWith = () => {\n    setValue();\n\n    MobCore.useResize(() => {\n        setValue();\n    });\n};\n", "export const RESET_FILTER_DEBUG = 'reset';\nexport const DEBUG_USE_TREE = 'tree';\nexport const DEBUG_USE_FILTER_COMPONENT = 'filter_component';\n", "// @ts-check\n\nimport { outerHeight, outerWidth } from '@mobCoreUtils';\nimport { MobSmoothScroller } from '@mobMotionPlugin';\n\n/** @type {import('./type').VerticalScroller} */\nexport const verticalScroller = ({ screen, scroller, scrollbar }) => {\n    /** @type {MobSmoothScroller} */\n    let instance;\n\n    return {\n        init: () => {\n            if (instance) return;\n\n            instance = new MobSmoothScroller({\n                screen,\n                scroller,\n                direction: 'vertical',\n                drag: true,\n                scopedEvent: false,\n                breakpoint: 'desktop',\n                onTick: ({ percent }) => {\n                    scrollbar.value = `${percent}`;\n                },\n                afterRefresh: ({ shouldScroll }) => {\n                    scrollbar?.classList.toggle(\n                        'hide-scrollbar',\n                        !shouldScroll\n                    );\n                },\n            });\n\n            instance.init();\n        },\n        destroy: () => {\n            instance?.destroy();\n            // @ts-ignore\n            instance = null;\n        },\n        refresh: () => {\n            instance?.refresh();\n        },\n        updateScroller: () => {\n            if (!instance) return;\n\n            /**\n             * Get thumb width.\n             */\n            const scrollerHeight = outerHeight(scroller);\n            const screenHeight = outerHeight(screen);\n            const scrollBarHeight = outerWidth(scrollbar);\n            const thumbWidth =\n                (screenHeight / scrollerHeight) * scrollBarHeight;\n            scrollbar.style.setProperty('--thumb-width', `${thumbWidth}px`);\n\n            /**\n             * Refresh scroller instance.\n             */\n            instance?.refresh();\n        },\n        move: (val) => {\n            if (!instance) return;\n\n            instance.move(val).catch(() => {});\n        },\n        goToTop: () => {\n            instance?.set(0);\n        },\n    };\n};\n", "/**\n * @import {MobStoreParams} from '@mobStoreType';\n */\n\nimport { MobCore } from '@mobCore';\n\nexport const debugActiveComponentStore = MobCore.createStore(\n    /** @type {MobStoreParams<import('./type').DebugActiveComponentStore>} */\n    ({\n        currentId: () => ({\n            value: '',\n            type: String,\n        }),\n    })\n);\n", "//@ts-check\n\n/**\n * @import {GetRef, GetState, MobComponent} from '@mobJsType';\n */\n\nimport { verticalScroller } from '@componentLibs/animation/vertical-scroller';\nimport { html, MobJs } from '@mobJs';\nimport { RESET_FILTER_DEBUG } from '../constant';\nimport { debugActiveComponentStore } from '../store/debug-active-component';\n\n/**\n * @param {DOMTokenList | undefined} value\n * @returns {string}\n */\nconst getClassList = (value) => {\n    if (!value) return '';\n\n    return [...value].reduce(\n        (previous, current) => `${previous}.${current}`,\n        ''\n    );\n};\n\n/**\n * @param {{ [key: string]: any }} methods\n * @returns {string}\n */\nconst getObjectKeys = (methods) => {\n    return Object.keys(methods).reduce((previous, current) => {\n        return `${previous} ${current},`;\n    }, '');\n};\n\n/**\n * @param {{} | { [key: string]: string[] }} child\n * @returns {string}\n */\nconst getChild = (child) => {\n    return Object.entries(child)\n        .map(([key, value]) => {\n            return html`<div>\n                <strong>${key}:</strong>\n                ${value.map((item) => html`${item}, `).join('.')}\n            </div>`;\n        })\n        .join('');\n};\n\n/**\n * @param {string[] | undefined} props\n * @returns {string}\n */\nconst getFreezeProp = (props) => {\n    if (!props) return '';\n    return props.map((prop) => `${prop}, `).join('');\n};\n\n/**\n * @param {object | undefined} states\n * @returns {string}\n */\nconst getStateProps = (states) => {\n    return Object.entries(/** @type {any[]} */ (states))\n        .map(([key, value]) => {\n            return html`<div>\n                <strong>${key}:</strong>\n                ${JSON.stringify(value)}\n            </div>`;\n        })\n        .join('');\n};\n\n/**\n * @param {object} params\n * @param {GetState<import('./type').DebugComponent>} params.getState\n */\nconst getContent = ({ getState }) => {\n    const { id } = getState();\n    if (id === RESET_FILTER_DEBUG) return '';\n\n    const item = MobJs.componentMap.get(id);\n    if (!item) return `component not found`;\n\n    return html`<div>\n        <!-- Basic props -->\n        <div><strong>id</strong>: ${id}</div>\n        <div><strong>parent id</strong>: ${item.parentId}</div>\n        <div>\n            <strong>component root</strong>:\n            ${item.element.tagName}${getClassList(item.element.classList)}\n        </div>\n        <div><strong>componentName</strong>: ${item.componentName}</div>\n        <div><strong>instance name:</strong>: ${item.instanceName}</div>\n        <div><strong>methods:</strong>: ${getObjectKeys(item.methods)}</div>\n        <div><strong>refs:</strong>: ${getObjectKeys(item.refs)}</div>\n        <div><strong>persistent:</strong>: ${item.persistent}</div>\n\n        <!-- Children -->\n        <h3 class=\"c-debug-component__section-title\">Children:</h3>\n        <div>${getChild(item?.child ?? {})}</div>\n\n        <!-- Repeater -->\n        <h3 class=\"c-debug-component__section-title\">Repeater props:</h3>\n        <div>\n            <strong>component repeater id</strong>: ${item.componentRepeatId}\n        </div>\n        <div><strong>repeater state bind</strong>: ${item.repeatPropBind}</div>\n        <div>\n            <strong>repeater inner wrapper</strong>:\n            ${item?.repeaterInnerWrap?.tagName}${getClassList(\n                item?.repeaterInnerWrap?.classList\n            )}\n        </div>\n        <div><strong>repeat key</strong>: ${item.key}</div>\n        <div>\n            <strong>repeat current state</strong>:\n            ${JSON.stringify(item.currentRepeaterState?.current)}\n        </div>\n        <div>\n            <strong>repeat current index</strong>:\n            ${JSON.stringify(item.currentRepeaterState?.index)}\n        </div>\n\n        <!-- State -->\n        <h3 class=\"c-debug-component__section-title\">State:</h3>\n        <div>\n            <strong>Freezed prop:</strong>\n            ${getFreezeProp(item?.freezedPros)}\n        </div>\n        <div>\n            <h4 class=\"c-debug-component__section-subtitle\">\n                States current values:\n            </h4>\n            ${getStateProps(item.state.get())}\n        </div>\n        <div>\n            <h4 class=\"c-debug-component__section-subtitle\">\n                States current validation:\n            </h4>\n            ${getStateProps(item.state.getValidation())}\n        </div>\n    </div>`;\n};\n\n/**\n * @param {object} params\n * @param {GetRef<import('./type').DebugComponent>} params.getRef\n */\nconst initScroller = ({ getRef }) => {\n    const { screen, scroller, scrollbar } = getRef();\n\n    scrollbar.addEventListener('input', () => {\n        // @ts-ignore\n        move(scrollbar.value);\n    });\n\n    const methods = verticalScroller({\n        screen,\n        scroller,\n        scrollbar,\n    });\n\n    const init = methods.init;\n    const destroy = methods.destroy;\n    const refresh = methods.refresh;\n    const move = methods.move;\n    const updateScroller = methods.updateScroller;\n    init();\n    updateScroller();\n    move(0);\n\n    return {\n        destroy,\n        move,\n        refresh,\n        updateScroller,\n    };\n};\n\n/** @type {MobComponent<import('./type').DebugComponent>} */\nexport const DebugComponentFn = ({\n    onMount,\n    addMethod,\n    getState,\n    invalidate,\n    setRef,\n    getRef,\n    watch,\n    getProxi,\n    emit,\n}) => {\n    const proxi = getProxi();\n\n    addMethod('updateId', (id) => {\n        proxi.id = id;\n        debugActiveComponentStore.set('currentId', id);\n    });\n\n    addMethod('refreshId', () => {\n        // Force invalidate.\n        emit(() => proxi.id);\n    });\n\n    /** @type{(val:number) => void} */\n    let move;\n\n    onMount(() => {\n        const {\n            destroy,\n            updateScroller,\n            move: moveUpdated,\n            refresh,\n        } = initScroller({\n            getRef,\n        });\n\n        // update slide move reference\n        move = moveUpdated;\n\n        watch(\n            () => proxi.id,\n            async () => {\n                // update scroller after app is updated.\n                await MobJs.tick();\n\n                refresh();\n                updateScroller();\n                move(0);\n            }\n        );\n\n        return () => {\n            destroy?.();\n        };\n    });\n\n    return html`<div class=\"c-debug-component\" ${setRef('screen')}>\n        <input\n            type=\"range\"\n            id=\"test\"\n            name=\"test\"\n            min=\"0\"\n            max=\"100\"\n            value=\"0\"\n            step=\".5\"\n            ${setRef('scrollbar')}\n            class=\"c-debug-component__scrollbar\"\n        />\n        <div class=\"c-debug-component__container\" ${setRef('scroller')}>\n            ${invalidate({\n                observe: () => proxi.id,\n                render: () => {\n                    return getContent({ getState });\n                },\n            })}\n        </div>\n    </div>`;\n};\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { RESET_FILTER_DEBUG } from '../constant';\nimport { DebugComponentFn } from './debug-component';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DebugComponent = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DebugComponent>} */\n    ({\n        tag: 'debug-component',\n        component: DebugComponentFn,\n        state: {\n            id: () => ({\n                value: RESET_FILTER_DEBUG,\n                type: String,\n                skipEqual: false,\n            }),\n        },\n    })\n);\n", "import { html, MobJs } from '@mobJs';\nimport { debugFilterListName } from 'src/js/component/instance-name';\n\n/**\n * @import {MobComponent, UseMethodByName} from '@mobJsType';\n */\n\nconst refreshList = async (testString = '') => {\n    await MobJs.tick();\n\n    /** @type {UseMethodByName<import('../list/type').DebugFilterList>} */\n    const methods = MobJs.useMethodByName(debugFilterListName);\n    methods?.refreshList?.({ testString });\n};\n\n/** @type {MobComponent<import('./type').DebugFilterHead>} */\nexport const DebugFilterHeadFn = ({\n    onMount,\n    setRef,\n    getRef,\n    delegateEvents,\n}) => {\n    onMount(() => {\n        /**\n         * Update filter list on mount. No filter is applied here.\n         */\n        refreshList();\n\n        return () => {\n            // Chorme leak memory with input, maintain reference.\n            getRef()?.input.remove();\n        };\n    });\n\n    return html`<div class=\"c-debug-filter-head\">\n        <span class=\"c-debug-filter-head__title\">Filter by tag</span>\n        <input\n            type=\"text\"\n            class=\"c-debug-filter-head__input\"\n            value=\"\"\n            ${setRef('input')}\n            ${delegateEvents({\n                keydown: (/** @type {KeyboardEvent} */ event) => {\n                    if (event.code.toLowerCase() === 'enter') {\n                        event.preventDefault();\n\n                        const testString = /** @type {HTMLInputElement} */ (\n                            event.target\n                        ).value;\n                        refreshList(testString);\n                    }\n                },\n            })}\n        />\n        <button\n            class=\"c-debug-filter-head__button\"\n            type=\"button\"\n            ${delegateEvents({\n                click: () => {\n                    const { input } = getRef();\n                    const testString = input.value;\n                    refreshList(testString);\n                },\n            })}\n        >\n            find\n        </button>\n    </div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { DebugFilterHeadFn } from './debug-filter-head';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DebugFilterHead = MobJs.createComponent(\n    /** @type {CreateComponentParams<any>} */\n    ({\n        tag: 'debug-filter-head',\n        component: DebugFilterHeadFn,\n    })\n);\n", "import { verticalScroller } from '@componentLibs/animation/vertical-scroller';\nimport { MobCore } from '@mobCore';\nimport { html, MobJs } from '@mobJs';\n\n/**\n * @import {MobComponent, ReturnBindProps} from '@mobJsType';\n * @import {DebugFilterListItem} from './item/type';\n */\n\n/** @type {import('./type').DebugInitScroller} */\nconst initScroller = async ({ getRef }) => {\n    await MobJs.tick();\n\n    const { screen, scroller, scrollbar } = getRef();\n\n    const methods = verticalScroller({\n        screen,\n        scroller,\n        scrollbar,\n    });\n\n    const init = methods.init;\n    const destroy = methods.destroy;\n    const refresh = methods.refresh;\n    const move = methods.move;\n    const updateScroller = methods.updateScroller;\n    init();\n    updateScroller();\n    move(0);\n\n    return {\n        destroy,\n        move,\n        refresh,\n        updateScroller,\n    };\n};\n\n// number should fail system.\nconst getFakeReplacement = (/** @type {number} */ index) => `~${index}`;\n\n/**\n * @param {object} params\n * @param {string} params.testString\n * @returns {Omit<DebugFilterListItem['state'], 'currentId'>[]} Params\n */\nconst getDataFiltered = ({ testString }) => {\n    /**\n     * `~` char is not allowed ( is getFakeReplacement )\n     */\n    const stringParsed =\n        testString\n            .replaceAll('~', '')\n            .split(' ')\n            .filter((block) => block !== '') ?? '';\n\n    return (() => {\n        /**\n         * Prefer cycle componentMap instead create a copy for performance. Better for memory.\n         */\n        const result = [];\n        for (const item of MobJs.componentMap.values()) {\n            const condition = stringParsed.every((piece) =>\n                item.componentName.includes(piece)\n            );\n\n            if (condition) result.push(item);\n        }\n\n        return result;\n\n        // [...MobJs.componentMap.values()].filter(({ componentName }) => {\n        //     return stringParsed.every((piece) =>\n        //         componentName.includes(piece)\n        //     );\n        // }) ?? []\n    })().map(({ id, componentName, instanceName }) => ({\n        id,\n        active: false,\n        tag: (() => {\n            /**\n             * Exclude string after ~ from substitution ( previuos replace )\n             */\n            const stringParseWithPlaceholder = stringParsed.reduce(\n                (previous, current, index) => {\n                    return previous.replaceAll(\n                        new RegExp(`(?<!~)${current.toLowerCase()}`, 'g'),\n                        `${getFakeReplacement(index)}`\n                    );\n                },\n                componentName\n            );\n\n            /**\n             * Replace placeholder with real occurrence in original order.\n             */\n            return stringParsed.reduce((previous, current, index) => {\n                return previous.replaceAll(\n                    `${getFakeReplacement(index)}`,\n                    `<span class=\"match-string\">${current}</span>`\n                );\n            }, stringParseWithPlaceholder);\n        })(),\n        name: instanceName,\n    }));\n};\n\n/** @type {MobComponent<import('./type').DebugFilterList>} */\nexport const DebugFilterListFn = ({\n    onMount,\n    setRef,\n    getRef,\n    addMethod,\n    repeat,\n    staticProps,\n    bindProps,\n    bindEffect,\n    getProxi,\n    computed,\n}) => {\n    const proxi = getProxi();\n\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    let destroy = () => {};\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    let move = () => {};\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    let refresh = () => {};\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    let updateScroller = () => {};\n\n    /**\n     * Show/hide no-result label\n     */\n    computed(\n        () => proxi.noResult,\n        () => {\n            return proxi.data.length === 0 && !proxi.isLoading;\n        }\n    );\n\n    /**\n     * List data is controlled by DebugFilterHead component.\n     */\n    addMethod('refreshList', async ({ testString }) => {\n        /**\n         * With very large result (800/1000 item) before create list set loading true. Await css con be applied before\n         * large parse that block thread.\n         */\n        proxi.isLoading = true;\n        await MobJs.tick();\n\n        /**\n         * Await one tick. Generate label need apply classList before generate list.\n         */\n        MobCore.useNextTick(async () => {\n            /**\n             * After useFrame of isLoading watcher Set current data state. With very large result (500/1000 item) before\n             * create list set loading true.\n             */\n            proxi.data = getDataFiltered({ testString });\n\n            // Await end of list creation.\n            await MobJs.tick();\n            refresh?.();\n            updateScroller?.();\n\n            // Reset loading.\n            proxi.isLoading = false;\n        });\n    });\n\n    onMount(() => {\n        const { scrollbar } = getRef();\n\n        scrollbar.addEventListener('input', () => {\n            // @ts-ignore\n            move(scrollbar.value);\n        });\n\n        (async () => {\n            // @ts-ignore\n            ({ destroy, move, refresh, updateScroller } = await initScroller({\n                getRef,\n            }));\n        })();\n\n        return () => {\n            destroy?.();\n            destroy = () => {};\n            refresh = () => {};\n            updateScroller = () => {};\n            move = () => {};\n        };\n    });\n\n    return html`\n        <div class=\"c-debug-filter-list\">\n            <div class=\"c-debug-filter-list__list\" ${setRef('screen')}>\n                <input\n                    type=\"range\"\n                    id=\"test\"\n                    name=\"test\"\n                    min=\"0\"\n                    max=\"100\"\n                    value=\"0\"\n                    step=\".5\"\n                    ${setRef('scrollbar')}\n                    class=\"c-debug-filter-list__scrollbar\"\n                />\n                <span\n                    class=\"c-debug-filter-list__status\"\n                    ${bindEffect({\n                        toggleClass: { visible: () => proxi.isLoading },\n                    })}\n                    >Generate list</span\n                >\n                <span\n                    class=\"c-debug-filter-list__status\"\n                    ${bindEffect({\n                        toggleClass: { visible: () => proxi.noResult },\n                    })}\n                    >no result</span\n                >\n                <div\n                    class=\"c-debug-filter-list__scroller\"\n                    ${setRef('scroller')}\n                >\n                    ${repeat({\n                        observe: () => proxi.data,\n                        key: 'id',\n                        useSync: true,\n                        render: ({ sync, current }) => {\n                            return html`\n                                <debug-filter-list-item\n                                    ${staticProps(\n                                        /** @type {DebugFilterListItem['state']} */ ({\n                                            id: current.value.id,\n                                            name: current.value.name,\n                                        })\n                                    )}\n                                    ${bindProps(\n                                        /** @returns {ReturnBindProps<DebugFilterListItem>} */\n                                        () => ({\n                                            tag: current.value.tag,\n                                        })\n                                    )}\n                                    ${sync()}\n                                ></debug-filter-list-item>\n                            `;\n                        },\n                    })}\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "/**\n * @import {MobComponent, UseMethodByName} from '@mobJsType';\n */\n\nimport { html, MobJs } from '@mobJs';\nimport { debugComponentName } from 'src/js/component/instance-name';\n\n/** @type {MobComponent<import('./type').DebugFilterListItem>} */\nexport const DebugFilterListItemFn = ({\n    delegateEvents,\n    bindText,\n    bindEffect,\n    getProxi,\n    computed,\n}) => {\n    const proxi = getProxi();\n\n    computed(\n        () => proxi.active,\n        () => proxi.id === proxi.currentId\n    );\n\n    return html`\n        <div class=\"c-debug-filter-list-item\">\n            <span class=\"c-debug-filter-list-item__id\">${proxi.id}</span> |\n            <span class=\"c-debug-filter-list-item__tag\"\n                >${bindText`${'tag'}`}</span\n            >\n            |\n            <span class=\"c-debug-filter-list-item__name\">${proxi.name}</span>\n            <button\n                type=\"button\"\n                class=\"c-debug-filter-list-item__expand\"\n                ${delegateEvents({\n                    click: () => {\n                        /** @type {UseMethodByName<import('../../../debug-component/type').DebugComponent>} */\n                        const methods =\n                            MobJs.useMethodByName(debugComponentName);\n\n                        methods?.updateId(proxi.id);\n                    },\n                })}\n            >\n                [ > ]\n            </button>\n            <span\n                class=\"c-debug-tree-item__selected\"\n                ${bindEffect({\n                    toggleClass: { active: () => proxi.active },\n                })}\n            ></span>\n        </div>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { DebugFilterListItemFn } from './debug-filter-list-item';\nimport { debugActiveComponentStore } from '@commonComponent/debug/debug-overlay/store/debug-active-component';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DebugFilterListItem = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DebugFilterListItem>} */\n    ({\n        tag: 'debug-filter-list-item',\n        component: DebugFilterListItemFn,\n        exportState: ['id', 'tag', 'name'],\n        bindStore: debugActiveComponentStore,\n        state: {\n            id: () => ({\n                value: '',\n                type: String,\n            }),\n            tag: () => ({\n                value: '',\n                type: String,\n            }),\n            name: () => ({\n                value: '',\n                type: String,\n            }),\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "import { MobJs } from '@mobJs';\nimport { DebugFilterListFn } from './debug-filter-list';\nimport { DebugFilterListItem } from './item/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DebugFilterList = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DebugFilterList>} */\n    ({\n        tag: 'debug-filter-list',\n        component: DebugFilterListFn,\n        state: {\n            data: () => ({\n                value: [],\n                type: Array,\n            }),\n            isLoading: () => ({\n                value: true,\n                type: Boolean,\n            }),\n            noResult: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n        child: [DebugFilterListItem],\n    })\n);\n", "/**\n * @import {MobComponent} from '@mobJsType';\n */\n\nimport { html, MobJs } from '@mobJs';\nimport { getBindObjectParentSize } from '../../../../../mob/mob-js/modules/bind-object';\nimport { getBindTextParentSize } from '../../../../../mob/mob-js/modules/bind-text';\n\n/** @type {MobComponent<import('./type').DebugHead>} */\nexport const DebugHeadFn = ({ invalidate, getProxi }) => {\n    const proxi = getProxi();\n\n    return html`<div class=\"c-debug-head\">\n        <div class=\"c-debug-head__general\">\n            ${invalidate({\n                observe: () => proxi.active,\n                render: () => {\n                    if (!proxi.active) return '';\n\n                    return html`\n                        <div>\n                            <strong> Debug activated: </strong>\n                            ${MobJs.getDebugMode()}\n                        </div>\n                        <div class=\"c-debug-head__total\">\n                            <strong>Number of component</strong>:\n                            ${MobJs.componentMap.size} ( excluded generated\n                            debug )\n                        </div>\n                        <div class=\"c-debug-head__repeater\">\n                            <strong>Active repeater: </strong>:\n                            ${MobJs.getNumberOfActiveRepeater()}\n                        </div>\n                        <div class=\"c-debug-head__invalidate\">\n                            <strong>Active invalidate: </strong>:\n                            ${MobJs.getNumberOfActiveInvalidate()}\n                        </div>\n                        <div class=\"c-debug-head__invalidate\">\n                            <strong>Active bindText: </strong>:\n                            ${getBindTextParentSize()}\n                        </div>\n                        <div class=\"c-debug-head__invalidate\">\n                            <strong>Active bindObject: </strong>:\n                            ${getBindObjectParentSize()}\n                        </div>\n                    `;\n                },\n            })}\n        </div>\n        <div class=\"c-debug-head__search\">\n            <div>\n                <debug-search></debug-search>\n            </div>\n        </div>\n    </div>`;\n};\n", "/**\n * @import {MobComponent, UseMethodByName} from '@mobJsType';\n */\n\nimport { html, MobJs } from '@mobJs';\nimport { RESET_FILTER_DEBUG } from '../../constant';\nimport { debugComponentName } from 'src/js/component/instance-name';\n\nconst updateId = (id = '') => {\n    /** @type {UseMethodByName<import('../../debug-component/type').DebugComponent>} */\n    const methods = MobJs.useMethodByName(debugComponentName);\n    methods?.updateId(id ?? '');\n};\n\n/** @type {MobComponent<import('./type').DebugSearch>} */\nexport const DebugSearchFn = ({ setRef, getRef, delegateEvents }) => {\n    return html`<div class=\"c-debug-search\">\n        <div>\n            <span class=\"c-debug-search__label\">\n                <strong>Search by ID:</strong>\n            </span>\n            <input\n                class=\"c-debug-search__input\"\n                type=\"text\"\n                ${setRef('id_input')}\n                ${delegateEvents({\n                    keydown: (/** @type {KeyboardEvent} */ event) => {\n                        if (event.code.toLowerCase() === 'enter') {\n                            event.preventDefault();\n\n                            const id = /** @type {HTMLInputElement} */ (\n                                event.target\n                            ).value;\n\n                            updateId(id);\n                        }\n                    },\n                })}\n            />\n            <button\n                class=\"c-debug-search__button\"\n                type=\"button\"\n                ${delegateEvents({\n                    click: () => {\n                        const { id_input } = getRef();\n                        const id = /** @type {HTMLInputElement} */ (id_input)\n                            .value;\n\n                        updateId(id);\n                    },\n                })}\n            >\n                find\n            </button>\n        </div>\n        <div>\n            <span class=\"c-debug-search__label\">\n                <strong>Search by InstanceName:</strong>\n            </span>\n            <input\n                class=\"c-debug-search__input\"\n                type=\"text\"\n                ${setRef('instance_input')}\n                ${delegateEvents({\n                    keydown: (/** @type {KeyboardEvent} */ event) => {\n                        if (event.code.toLowerCase() === 'enter') {\n                            event.preventDefault();\n\n                            const instanceName =\n                                /** @type {HTMLInputElement} */ (event.target)\n                                    .value;\n\n                            const id = MobJs.getIdByInstanceName(instanceName);\n                            updateId(id);\n                        }\n                    },\n                })}\n            />\n            <button\n                class=\"c-debug-search__button\"\n                type=\"button\"\n                ${delegateEvents({\n                    click: () => {\n                        const { instance_input } = getRef();\n                        const instanceName = instance_input.value;\n                        const id = MobJs.getIdByInstanceName(instanceName);\n                        updateId(id);\n                    },\n                })}\n            >\n                find\n            </button>\n            <div>\n                <span class=\"c-debug-search__label\">\n                    <strong>Clear:</strong>\n                </span>\n                <button\n                    class=\"c-debug-search__button\"\n                    type=\"button\"\n                    ${delegateEvents({\n                        click: () => {\n                            const { instance_input, id_input } = getRef();\n                            instance_input.value = '';\n                            id_input.value = '';\n                            updateId(RESET_FILTER_DEBUG);\n                        },\n                    })}\n                >\n                    clear\n                </button>\n            </div>\n            <div>\n                <span class=\"c-debug-search__label\">\n                    <strong>Refresh:</strong>\n                </span>\n                <button\n                    class=\"c-debug-search__button\"\n                    type=\"button\"\n                    ${delegateEvents({\n                        click: () => {\n                            /** @type {UseMethodByName<import('../../debug-component/type').DebugComponent>} */\n                            const methods =\n                                MobJs.useMethodByName(debugComponentName);\n                            methods?.refreshId();\n                        },\n                    })}\n                >\n                    refresh component\n                </button>\n            </div>\n        </div>\n    </div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { DebugSearchFn } from './debug-search';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DebugSearch = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DebugSearch>} */\n    ({\n        tag: 'debug-search',\n        component: DebugSearchFn,\n    })\n);\n", "import { MobJs } from '@mobJs';\nimport { DebugHeadFn } from './debug-head';\nimport { DebugSearch } from './search/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DebugHead = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DebugHead>} */\n    ({\n        tag: 'debug-head',\n        component: DebugHeadFn,\n        exportState: ['active'],\n        state: {\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            shouldUpdate: () => ({\n                value: true,\n                type: Boolean,\n                skipEqual: false,\n            }),\n        },\n        child: [DebugSearch],\n    })\n);\n", "import { bindEventMap } from '../../../mob/mob-js/modules/bind-events';\nimport { currentRepeaterValueMap } from '../../../mob/mob-js/modules/repeater/repeater-value';\nimport { onMountCallbackMap } from '../../../mob/mob-js/modules/on-mount';\nimport { activeRepeatMap } from '../../../mob/mob-js/modules/repeater/active-repeater';\nimport { staticPropsMap } from '../../../mob/mob-js/modules/static-props';\nimport { getSlotPlaceholderSize } from '../../../mob/mob-js/modules/slot';\nimport { getUserChildPlaceholderSize } from '../../../mob/mob-js/modules/user-component';\nimport {\n    getBindTextParentSize,\n    getBindTextPlaceholderSize,\n} from '../../../mob/mob-js/modules/bind-text';\nimport { repeatIdPlaceHolderMap } from '../../../mob/mob-js/modules/repeater/repeat-id-placeholder-map';\nimport { repeatFunctionMap } from '../../../mob/mob-js/modules/repeater/repeat-function-map';\nimport { invalidateIdPlaceHolderMap } from '../../../mob/mob-js/modules/invalidate/invalidate-id-placeholder-map';\nimport { invalidateIdHostMap } from '../../../mob/mob-js/modules/invalidate/invalidate-id-host-map';\nimport { invalidateFunctionMap } from '../../../mob/mob-js/modules/invalidate/invalidate-function-map';\nimport { bindPropsMap } from '../../../mob/mob-js/modules/bind-props/bind-props-map';\nimport { MobJs } from '@mobJs';\nimport { instanceMap } from 'src/js/mob/mob-js/component/instance-map';\n\nexport const consoleLogDebug = () => {\n    MobJs.mainStore.debugStore();\n    console.log('componentMap', MobJs.componentMap);\n    console.log('Tree structure:', MobJs.getTree());\n    console.log('bindEventMap', bindEventMap);\n    console.log('currentListValueMap', currentRepeaterValueMap);\n    console.log('activeRepeatMap', activeRepeatMap);\n    console.log('onMountCallbackMap', onMountCallbackMap);\n    console.log('staticPropsMap', staticPropsMap);\n    console.log('dynamicPropsMap', bindPropsMap);\n    console.log('eventDelegationMap', MobJs.eventDelegationMap);\n    console.log('tempDelegateEventMap', MobJs.tempDelegateEventMap);\n    console.log('invalidateIdPlaceHolderMap', invalidateIdPlaceHolderMap);\n    console.log('invalidateIdHostMap', invalidateIdHostMap.size);\n    console.log('invalidateFunctionMap', invalidateFunctionMap);\n    console.log('repeatIdPlaceHolderMap', repeatIdPlaceHolderMap);\n    console.log('repeatFunctionMap', repeatFunctionMap);\n    console.log('userChildPlaceholderSize', getUserChildPlaceholderSize());\n    console.log('slotPlaceholderSize', getSlotPlaceholderSize());\n    console.log('bindTextMapSize', getBindTextParentSize());\n    console.log('bindTextPlaceholderMapSize', getBindTextPlaceholderSize());\n    console.log('instanceMap', instanceMap);\n};\n", "// @ts-check\n\nimport { html, MobJs } from '@mobJs';\nimport { consoleLogDebug } from '../console-log';\nimport { DEBUG_USE_FILTER_COMPONENT, DEBUG_USE_TREE } from './constant';\nimport {\n    debugComponentName,\n    debugFilterListName,\n    debugTreeName,\n} from 'src/js/component/instance-name';\n\n/**\n * @import {MobComponent, ReturnBindProps} from '@mobJsType';\n * @import {DebugHead} from './head/type';\n */\n\n/** @type {MobComponent<import('./type').DebugOverlay>} */\nexport const DebugOverlayFn = ({\n    delegateEvents,\n    addMethod,\n    bindProps,\n    invalidate,\n    bindEffect,\n    getProxi,\n    onMount,\n}) => {\n    const proxi = getProxi();\n\n    addMethod('toggle', () => {\n        proxi.active = !proxi.active;\n    });\n\n    onMount(() => {\n        /**\n         * Close overlay on route change. Avoid infinite debuf overlay filter item increase. If filter list is visible\n         * avoid to count them.\n         */\n        const unsubScribeBeforeRouterChange = MobJs.beforeRouteChange(() => {\n            proxi.active = false;\n            proxi.listType = DEBUG_USE_TREE;\n        });\n\n        return () => {\n            unsubScribeBeforeRouterChange();\n        };\n    });\n\n    return html`<div\n        class=\"c-debug-overlay\"\n        ${bindEffect({\n            toggleClass: { active: () => proxi.active },\n        })}\n    >\n        <button\n            class=\"c-debug-overlay__background\"\n            type=\"button\"\n            ${delegateEvents({\n                click: () => {\n                    proxi.active = false;\n                    proxi.listType = DEBUG_USE_TREE;\n                },\n            })}\n        ></button>\n        <button\n            type=\"button\"\n            class=\"c-debug-overlay__close\"\n            ${delegateEvents({\n                click: () => {\n                    proxi.active = false;\n                    proxi.listType = DEBUG_USE_TREE;\n                },\n            })}\n        ></button>\n        <div class=\"c-debug-overlay__grid\">\n            <button\n                type=\"button\"\n                class=\"c-debug-overlay__log\"\n                ${delegateEvents({\n                    click: () => {\n                        consoleLogDebug();\n                    },\n                })}\n            >\n                console log\n            </button>\n\n            <div class=\"c-debug-overlay__head\">\n                <debug-head\n                    ${bindProps(\n                        /** @returns {ReturnBindProps<DebugHead>} */\n                        () => ({\n                            active: proxi.active,\n                        })\n                    )}\n                ></debug-head>\n            </div>\n            <div class=\"c-debug-overlay__list\">\n                <div class=\"c-debug-overlay__list__header\">\n                    <div>\n                        ${invalidate({\n                            observe: [() => proxi.listType, () => proxi.active],\n                            render: () => {\n                                if (\n                                    proxi.listType === DEBUG_USE_TREE &&\n                                    proxi.active\n                                )\n                                    return html`<div\n                                        class=\"c-debug-overlay__list__title\"\n                                    >\n                                        Tree structure\n                                    </div>`;\n\n                                if (\n                                    proxi.listType ===\n                                        DEBUG_USE_FILTER_COMPONENT &&\n                                    proxi.active\n                                )\n                                    return html`<debug-filter-head></debug-filter-head>`;\n\n                                // Remove component\n                                return '';\n                            },\n                        })}\n                    </div>\n\n                    <div class=\"c-debug-overlay__list__ctas\">\n                        <button\n                            type=\"button\"\n                            class=\"c-debug-overlay__list__toggle\"\n                            ${delegateEvents({\n                                click: () => {\n                                    proxi.listType = DEBUG_USE_TREE;\n                                },\n                            })}\n                            ${bindEffect({\n                                toggleClass: {\n                                    active: () =>\n                                        proxi.listType === DEBUG_USE_TREE,\n                                },\n                            })}\n                        >\n                            Tree\n                        </button>\n                        <button\n                            type=\"button\"\n                            class=\"c-debug-overlay__list__toggle\"\n                            ${delegateEvents({\n                                click: () => {\n                                    proxi.listType = DEBUG_USE_FILTER_COMPONENT;\n                                },\n                            })}\n                            ${bindEffect({\n                                toggleClass: {\n                                    active: () =>\n                                        proxi.listType ===\n                                        DEBUG_USE_FILTER_COMPONENT,\n                                },\n                            })}\n                        >\n                            Filter\n                        </button>\n                    </div>\n                </div>\n                <div>\n                    ${invalidate({\n                        observe: [() => proxi.listType, () => proxi.active],\n                        render: () => {\n                            if (\n                                proxi.listType === DEBUG_USE_TREE &&\n                                proxi.active\n                            )\n                                return html`\n                                    <debug-tree\n                                        name=\"${debugTreeName}\"\n                                    ></debug-tree>\n                                `;\n\n                            if (\n                                proxi.listType === DEBUG_USE_FILTER_COMPONENT &&\n                                proxi.active\n                            )\n                                return html`\n                                    <debug-filter-list\n                                        name=\"${debugFilterListName}\"\n                                    ></debug-filter-list>\n                                `;\n\n                            return '';\n                        },\n                    })}\n                </div>\n            </div>\n            <div class=\"c-debug-overlay__component\">\n                <debug-component name=\"${debugComponentName}\"></debug-component>\n            </div>\n        </div>\n    </div>`;\n};\n", "import { html } from '@mobJs';\n\n/**\n * @import {StaticProps} from '@mobJsType';\n */\n\n/**\n * @param {object} params\n * @param {import('./item/type').DebugTreeItem['state'][]} params.data\n * @param {StaticProps<import('./item/type').DebugTreeItem>} params.staticProps\n * @returns {string}\n */\nexport const generateTreeComponents = ({ data, staticProps }) => {\n    return data\n        .map(({ id, componentName, instanceName, children }) => {\n            return html`<debug-tree-item\n                ${staticProps(\n                    /** @type {import('./item/type').DebugTreeItem['state']} */ ({\n                        id,\n                        componentName,\n                        instanceName,\n                        children,\n                    })\n                )}\n            ></debug-tree-item>`;\n        })\n        .join('');\n};\n", "/**\n * @import {MobComponent} from '@mobJsType';\n */\n\nimport { verticalScroller } from '@componentLibs/animation/vertical-scroller';\nimport { html, MobJs } from '@mobJs';\nimport { generateTreeComponents } from './recursive-tree';\n\n/** @type {import('../debug-filter/list/type').DebugInitScroller} */\nconst initScroller = async ({ getRef }) => {\n    await MobJs.tick();\n\n    const { screen, scroller, scrollbar } = getRef();\n\n    const methods = verticalScroller({\n        screen,\n        scroller,\n        scrollbar,\n    });\n\n    const destroy = methods.destroy;\n    const refresh = methods.refresh;\n    const move = methods.move;\n    const updateScroller = methods.updateScroller;\n\n    methods.init();\n    updateScroller();\n    move(0);\n\n    return {\n        destroy,\n        refresh,\n        move,\n        updateScroller,\n    };\n};\n\n/** @type {MobComponent<import('./type').DebugTree>} */\nexport const DebugTreeFn = ({\n    onMount,\n    setState,\n    invalidate,\n    staticProps,\n    setRef,\n    getRef,\n    addMethod,\n    bindEffect,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n    //\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    let destroy = () => {};\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    let refresh = () => {};\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    let updateScroller = () => {};\n    // eslint-disable-next-line unicorn/consistent-function-scoping\n    let move = () => {};\n\n    onMount(() => {\n        const { scrollbar } = getRef();\n\n        scrollbar.addEventListener('input', () => {\n            // @ts-ignore\n            move(scrollbar.value);\n        });\n\n        addMethod('refresh', () => {\n            refresh?.();\n            updateScroller?.();\n        });\n\n        (async () => {\n            setState('isLoading', true);\n            await MobJs.tick();\n\n            destroy?.();\n            setState('data', MobJs.getTree());\n            // @ts-ignore\n            ({ destroy, move, refresh, updateScroller } = await initScroller({\n                getRef,\n            }));\n            setState('isLoading', false);\n        })();\n\n        return () => {\n            destroy?.();\n            destroy = () => {};\n            refresh = () => {};\n            updateScroller = () => {};\n            move = () => {};\n        };\n    });\n\n    return html`\n        <div class=\"c-debug-tree\">\n            <div class=\"c-debug-tree__list\" ${setRef('screen')}>\n                <input\n                    type=\"range\"\n                    id=\"test\"\n                    name=\"test\"\n                    min=\"0\"\n                    max=\"100\"\n                    value=\"0\"\n                    step=\".5\"\n                    ${setRef('scrollbar')}\n                    class=\"c-debug-tree__scrollbar\"\n                />\n                <span\n                    class=\"c-debug-tree__status\"\n                    ${bindEffect({\n                        toggleClass: { visible: () => proxi.isLoading },\n                    })}\n                    >Generate tree</span\n                >\n                <div class=\"c-debug-tree__scroller\" ${setRef('scroller')}>\n                    ${invalidate({\n                        observe: () => proxi.data,\n                        render: () => {\n                            return generateTreeComponents({\n                                data: proxi.data,\n                                staticProps,\n                            });\n                        },\n                    })}\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "/**\n * @import {MobComponent,  UseMethodByName} from '@mobJsType';\n */\n\nimport { html, MobJs } from '@mobJs';\nimport { MobSlide } from '@mobMotionPlugin';\nimport { generateTreeComponents } from '../recursive-tree';\nimport {\n    debugComponentName,\n    debugTreeName,\n} from 'src/js/component/instance-name';\n\n/**\n * @param {number} value\n */\nconst getCounter = (value) => {\n    return value > 0 ? `( ${value} ) ` : '';\n};\n\n/**\n * @param {object} params\n * @param {string} params.id\n * @param {string} params.value\n * @returns {boolean}\n */\nconst activeItemChildren = ({ id, value }) => {\n    const component = MobJs.componentMap.get(id);\n    const children = component?.child;\n    if (!children) return false;\n\n    const flatChildren = Object.values(children).flat();\n    const hasOccurrence = flatChildren.includes(value);\n    if (hasOccurrence) return true;\n\n    return flatChildren.some((id) => activeItemChildren({ id, value }));\n};\n\n/** @type {MobComponent<import('./type').DebugTreeItem>} */\nexport const DebugTreeItemFn = ({\n    onMount,\n    staticProps,\n    getRef,\n    setRef,\n    delegateEvents,\n    watch,\n    bindEffect,\n    getProxi,\n    computed,\n}) => {\n    const proxi = getProxi();\n    const hasChildrenClass = proxi.children.length > 0 ? 'has-children' : '';\n\n    /**\n     * Active state.\n     */\n    computed(\n        () => proxi.isActive,\n        () => proxi.id === proxi.currentId\n    );\n\n    /**\n     * Highlight children if there is an active eitem inside accordion.\n     */\n    computed(\n        () => proxi.hasActiveChildren,\n        () =>\n            activeItemChildren({\n                id: proxi.id,\n                value: proxi.currentId,\n            })\n    );\n\n    onMount(() => {\n        const { content } = getRef();\n\n        const unsubscribeSlide = MobSlide.subscribe(content);\n        MobSlide.reset(content);\n\n        /**\n         * Open/Close accordion.\n         */\n        watch(\n            () => proxi.isOpen,\n            async (isOpen) => {\n                const action = isOpen ? 'down' : 'up';\n                await MobSlide[action](content);\n\n                /** @type {UseMethodByName<import('../type').DebugTree>} */\n                const methods = MobJs.useMethodByName(debugTreeName);\n                methods?.refresh();\n            }\n        );\n\n        return () => {\n            unsubscribeSlide();\n        };\n    });\n\n    return html`<div class=\"c-debug-tree-item\">\n        <div\n            class=\"c-debug-tree-item__head ${hasChildrenClass}\"\n            ${delegateEvents({\n                click: () => {\n                    proxi.isOpen = !proxi.isOpen;\n                },\n            })}\n            ${bindEffect([\n                {\n                    toggleClass: { open: () => proxi.isOpen },\n                },\n                {\n                    toggleClass: {\n                        'has-children-selected': () => proxi.hasActiveChildren,\n                    },\n                },\n            ])}\n        >\n            <span class=\"c-debug-tree-item__id\">${proxi.id}</span> |\n            <span class=\"c-debug-tree-item__component\"\n                >${proxi.componentName}</span\n            >\n            |\n            <span class=\"c-debug-tree-item__instance\"\n                >${proxi.instanceName}</span\n            >\n            <span>${getCounter(proxi.children.length)}</span>\n            <button\n                type=\"button\"\n                class=\"c-debug-tree-item__expand\"\n                ${delegateEvents({\n                    click: () => {\n                        /** @type {UseMethodByName<import('../../debug-component/type').DebugComponent>} */\n                        const methods =\n                            MobJs.useMethodByName(debugComponentName);\n                        methods?.updateId(proxi.id);\n                    },\n                })}\n            >\n                [ > ]\n            </button>\n            <span\n                class=\"c-debug-tree-item__selected\"\n                ${bindEffect({\n                    toggleClass: { active: () => proxi.isActive },\n                })}\n            ></span>\n        </div>\n        <div class=\"c-debug-tree-item__content\" ${setRef('content')}>\n            ${generateTreeComponents({ data: proxi.children, staticProps })}\n        </div>\n    </div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { DebugTreeItemFn } from './debug-tree-item';\nimport { debugActiveComponentStore } from '../../store/debug-active-component';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DebugTreeItem = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DebugTreeItem>} */\n    ({\n        tag: 'debug-tree-item',\n        component: DebugTreeItemFn,\n        exportState: ['id', 'componentName', 'instanceName', 'children'],\n        bindStore: debugActiveComponentStore,\n        state: {\n            id: () => ({\n                value: '',\n                type: String,\n            }),\n            componentName: () => ({\n                value: '',\n                type: String,\n            }),\n            instanceName: () => ({\n                value: '',\n                type: String,\n            }),\n            children: () => ({\n                value: [],\n                type: Array,\n            }),\n            isOpen: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            isActive: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            hasActiveChildren: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "import { MobJs } from '@mobJs';\nimport { DebugTreeFn } from './debug-tree';\nimport { DebugTreeItem } from './item/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DebugTree = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DebugTree>} */\n    ({\n        tag: 'debug-tree',\n        component: DebugTreeFn,\n        state: {\n            data: () => ({\n                value: [],\n                type: Array,\n            }),\n            isLoading: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n        child: [DebugTreeItem],\n    })\n);\n", "//@ts-check\n\nimport { MobJs } from '@mobJs';\nimport { DEBUG_USE_TREE } from './constant';\nimport { DebugComponent } from './debug-component/definition';\nimport { DebugFilterHead } from './debug-filter/head/definition';\nimport { DebugFilterList } from './debug-filter/list/definition';\nimport { DebugHead } from './head/definition';\nimport { DebugOverlayFn } from './debug-overlay';\nimport { DebugTree } from './tree/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DebugOverlay = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').DebugOverlay>} */\n    ({\n        tag: 'debug-overlay',\n        component: DebugOverlayFn,\n        state: {\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            listType: () => ({\n                value: DEBUG_USE_TREE,\n                type: String,\n            }),\n        },\n        child: [\n            DebugTree,\n            DebugComponent,\n            DebugHead,\n            DebugFilterHead,\n            DebugFilterList,\n        ],\n    })\n);\n", "/**\n * @import {BindProps, MobComponent, StaticProps} from '@mobJsType';\n * @import {LinksMobJs, LinksMobJsButton} from './type';\n */\n\nimport { verticalScroller } from '@componentLibs/animation/vertical-scroller';\nimport { getCommonData } from '@data/index';\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { html, MobJs } from '@mobJs';\nimport { PAGE_TEMPLATE_COMPONENT_MOBJS } from '../../../pages';\n\n/**\n * This component is a singleton so use module scope.\n */\nlet init = () => {};\nlet destroy = () => {};\nlet move = () => {};\nlet updateScroller = () => {};\n\n/**\n * @param {object} param\n * @param {StaticProps} param.staticProps\n * @param {BindProps<LinksMobJs, LinksMobJsButton>} param.bindProps\n * @param {LinksMobJs['state']} param.proxi\n */\nconst getItems = ({ staticProps, bindProps, proxi }) => {\n    return proxi.data\n        .map((item) => {\n            const { label, url, isLabel } = item;\n\n            return isLabel\n                ? html`<p class=\"c-params-mobjs__label\">${label}</p>`\n                : html`<li>\n                      <links-mobjs-button\n                          ${staticProps(\n                              /** @type {LinksMobJsButton['state']} */ ({\n                                  label,\n                                  url,\n                              })\n                          )}\n                          ${bindProps(() => ({\n                              active: proxi.activeSection === url,\n                          }))}\n                      ></links-mobjs-button>\n                  </li>`;\n        })\n        .join('');\n};\n\n/** @type {MobComponent<LinksMobJs>} */\nexport const LinksMobJsFn = ({\n    staticProps,\n    setRef,\n    getRef,\n    onMount,\n    setState,\n    bindProps,\n    invalidate,\n    bindEffect,\n    getProxi,\n}) => {\n    const mainData = getCommonData();\n    const proxi = getProxi();\n\n    /** @type{Record<string, any>} */\n    const templateData = {\n        [PAGE_TEMPLATE_COMPONENT_MOBJS]:\n            mainData.sideBarLinks.mobJsComponentParams,\n    };\n\n    onMount(() => {\n        const { screenEl, scrollerEl, scrollbar } = getRef();\n\n        let isActive = false;\n\n        scrollbar.addEventListener('input', () => {\n            // @ts-ignore\n            move?.(scrollbar.value);\n        });\n\n        navigationStore.watch('navigationIsOpen', (value) => {\n            const { templateName } = MobJs.getActiveRoute();\n            if (!(templateName in templateData)) return;\n            setState('shift', value);\n        });\n\n        const unsubscribeRoute = MobJs.afterRouteChange(\n            async ({ currentTemplate, currentRoute }) => {\n                const currentData = templateData?.[currentTemplate] ?? [];\n                setState('data', currentData);\n\n                /**\n                 * Await list was created, then create scroller\n                 */\n                await MobJs.tick();\n                setState('activeSection', currentRoute);\n\n                if (currentData.length > 0) {\n                    setState('hide', false);\n\n                    /**\n                     * Update scroller\n                     */\n                    if (isActive) {\n                        updateScroller();\n                        return;\n                    }\n\n                    /**\n                     * Create scroller\n                     */\n                    // @ts-ignore\n                    ({ init, destroy, move, updateScroller } = verticalScroller(\n                        {\n                            screen: screenEl,\n                            scroller: scrollerEl,\n                            scrollbar,\n                        }\n                    ));\n\n                    isActive = true;\n                    init();\n                    updateScroller();\n                    // @ts-ignore\n                    move(0);\n                }\n\n                if (currentData.length === 0) {\n                    setState('hide', true);\n                    destroy?.();\n                    isActive = false;\n                }\n            }\n        );\n\n        return () => {\n            destroy?.();\n            unsubscribeRoute();\n            init = () => {};\n            destroy = () => {};\n            move = () => {};\n            updateScroller = () => {};\n        };\n    });\n\n    return html`<div\n        class=\"c-params-mobjs\"\n        ${setRef('screenEl')}\n        ${bindEffect({\n            toggleClass: {\n                hide: () => proxi.hide,\n                shift: () => proxi.shift,\n            },\n        })}\n    >\n        <input\n            type=\"range\"\n            id=\"test\"\n            name=\"test\"\n            min=\"0\"\n            max=\"100\"\n            value=\"0\"\n            step=\".5\"\n            ${setRef('scrollbar')}\n            class=\"c-params-mobjs__scrollbar\"\n        />\n        <ul ${setRef('scrollerEl')}>\n            ${invalidate({\n                observe: () => proxi.data,\n                render: () => {\n                    return getItems({\n                        staticProps,\n                        bindProps,\n                        proxi,\n                    });\n                },\n            })}\n        </ul>\n    </div>`;\n};\n", "import { html } from '@mobJs';\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {LinksMobJsButton} from './type';\n */\n\n/**\n * @type {MobComponent<LinksMobJsButton>}\n */\nexport const LinksMobJsButtonFn = ({ getProxi, bindEffect }) => {\n    const proxi = getProxi();\n\n    return html` <a\n        href=\"./#${proxi.url}\"\n        ${bindEffect({\n            toggleClass: { current: () => proxi.active },\n        })}\n        ><span>${proxi.label}</span></a\n    >`;\n};\n", "import { MobJs } from '@mobJs';\nimport { LinksMobJsFn } from './links-mobjs';\nimport { LinksMobJsButtonFn } from './links-mobjs-button';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const LinksMobJsButton = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').LinksMobJsButton>} */\n    ({\n        tag: 'links-mobjs-button',\n        component: LinksMobJsButtonFn,\n        exportState: ['label', 'url', 'active'],\n        state: {\n            label: () => ({\n                value: '',\n                type: String,\n            }),\n            url: () => ({\n                value: '',\n                type: String,\n            }),\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n\nexport const LinksMobJs = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').LinksMobJs>} */\n    ({\n        tag: 'links-mobjs',\n        component: LinksMobJsFn,\n        child: [LinksMobJsButton],\n        state: {\n            data: () => ({\n                value: [],\n                type: Array,\n            }),\n            activeSection: () => ({\n                value: '',\n                type: String,\n            }),\n            hide: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            shift: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\n<svg width=\"50.51\" height=\"51.18\" version=\"1.1\" viewBox=\"0 0 13.364 13.541\" xmlns=\"http://www.w3.org/2000/svg\">\n <g transform=\"translate(-6.0855 -4.2559)\">\n  <path d=\"m7.5846 9.2554h10.366l-5.1892 7.0421z\" color=\"#000000\" stroke-linejoin=\"round\" stroke-width=\"3\" style=\"-inkscape-stroke:none\"/>\n  <path d=\"m7.584 7.7559a1.5002 1.5002 0 0 0-1.207 2.3887l5.1758 7.041a1.5002 1.5002 0 0 0 2.416 2e-3l5.1895-7.043a1.5002 1.5002 0 0 0-1.207-2.3887zm2.9648 3h4.4316l-2.2188 3.0117z\" color=\"#000000\" style=\"-inkscape-stroke:none\"/>\n  <path d=\"m10.712 5.7557h4.1113v4.4858h-4.1113z\" color=\"#000000\" stroke-linejoin=\"round\" stroke-width=\"3\" style=\"-inkscape-stroke:none\"/>\n  <path d=\"m10.711 4.2559a1.5002 1.5002 0 0 0-1.5 1.5v4.4863a1.5002 1.5002 0 0 0 1.5 1.5h4.1113a1.5002 1.5002 0 0 0 1.5-1.5v-4.4863a1.5002 1.5002 0 0 0-1.5-1.5zm1.5 3h1.1113v1.4863h-1.1113z\" color=\"#000000\" style=\"-inkscape-stroke:none\"/>\n </g>\n</svg>\n", "/**\n * @import {MobComponent} from '@mobJsType';\n * @import {QuickNav} from './type';\n */\n\nimport { html, MobJs } from '@mobJs';\n// @ts-ignore\nimport arrow from '../../../../svg/scroll_arrow.svg';\n\n/** @type {MobComponent<QuickNav>} */\nexport const QuickNavFn = ({ getProxi, bindEffect }) => {\n    const proxi = getProxi();\n\n    /**\n     * Reset.\n     */\n    MobJs.beforeRouteChange(() => {\n        proxi.active = false;\n        proxi.nextRoute = '';\n        proxi.prevRoute = '';\n        proxi.backRoute = '';\n        proxi.color = 'white';\n    });\n\n    return html`<div\n        class=\"c-quick-nav-container\"\n        ${bindEffect([\n            {\n                toggleClass: { active: () => proxi.active },\n            },\n            {\n                toggleClass: {\n                    'fill-white': () => proxi.color === 'white',\n                    'fill-black': () => proxi.color === 'black',\n                },\n            },\n        ])}\n    >\n        <a\n            class=\"c-quick-nav c-quick-nav--back\"\n            ${bindEffect({\n                toggleClass: { 'is-disable': () => !proxi.backRoute },\n                toggleAttribute: {\n                    href: () => {\n                        const route = proxi.backRoute;\n                        return route.length > 0 ? route : null;\n                    },\n                },\n            })}\n            >${arrow}</a\n        >\n        <a\n            class=\"c-quick-nav c-quick-nav--prev\"\n            ${bindEffect({\n                toggleClass: { 'is-disable': () => !proxi.prevRoute },\n                toggleAttribute: {\n                    href: () => {\n                        const route = proxi.prevRoute;\n                        return route.length > 0 ? route : null;\n                    },\n                },\n            })}\n            >${arrow}</a\n        >\n        <a\n            class=\"c-quick-nav c-quick-nav--next\"\n            ${bindEffect({\n                toggleClass: { 'is-disable': () => !proxi.nextRoute },\n                toggleAttribute: {\n                    href: () => {\n                        const route = proxi.nextRoute;\n                        return route && route.length > 0 ? route : null;\n                    },\n                },\n            })}\n            >${arrow}</a\n        >\n    </div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { QuickNavFn } from './next-page';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const QuickNav = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').QuickNav>} */\n    ({\n        tag: 'quick-nav',\n        component: QuickNavFn,\n        exportState: ['color', 'active', 'prevRoute', 'nextRoute', 'backRoute'],\n        state: {\n            color: () => ({\n                value: 'white',\n                type: String,\n                validate: (value) => {\n                    return ['white', 'black'].includes(value);\n                },\n            }),\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            backRoute: () => ({\n                value: '',\n                type: String,\n            }),\n            prevRoute: () => ({\n                value: '',\n                type: String,\n            }),\n            nextRoute: () => ({\n                value: '',\n                type: String,\n            }),\n        },\n    })\n);\n", "/**\n * @import {MobComponent} from '@mobJsType';\n * @import {RouteLoader} from './type';\n */\n\nimport { html, MobJs } from '@mobJs';\nimport { MobTween } from '@mobMotion';\n\n/** @type {MobComponent<RouteLoader>} */\nexport const RouteLoaderFn = ({ onMount, getProxi, bindEffect }) => {\n    const proxi = getProxi();\n\n    onMount(({ element }) => {\n        proxi.isDisable = true;\n\n        let tweenOut = MobTween.createTimeTween({\n            data: { opacity: 1, scale: 1 },\n            duration: 500,\n        });\n\n        tweenOut.subscribe(({ opacity, scale }) => {\n            element.style.opacity = opacity;\n            element.style.transform = `scale(${scale})`;\n        });\n\n        const unsubscribeBeforeRouteChange = MobJs.beforeRouteChange(() => {\n            tweenOut.goTo({ opacity: 1, scale: 1 });\n\n            proxi.isDisable = false;\n        });\n\n        const unsubScribeAfterRouteChange = MobJs.afterRouteChange(async () => {\n            await tweenOut.goTo({ opacity: 0, scale: 0.9 }).catch(() => {});\n\n            proxi.isDisable = true;\n        });\n\n        return () => {\n            tweenOut.destroy();\n            // @ts-ignore\n            tweenOut = null;\n            unsubscribeBeforeRouteChange();\n            unsubScribeAfterRouteChange();\n        };\n    });\n\n    return html`\n        <div\n            class=\"c-loader center-viewport\"\n            ${bindEffect({\n                toggleClass: { disable: () => proxi.isDisable },\n            })}\n        >\n            <span class=\"c-loader__inner\"></span>\n        </div>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { RouteLoaderFn } from './route-loader';\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const RouteLoader = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').RouteLoader>} */\n    ({\n        tag: 'route-loader',\n        component: RouteLoaderFn,\n        state: {\n            isLoading: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            isDisable: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "/**\n * @import {MobComponent} from '@mobJsType';\n * @import {ScrollDownLabel} from './type';\n */\n\n// @ts-ignore\nimport arrow from '../../../../svg/scroll_arrow.svg';\nimport { html } from '@mobJs';\n\n/** @type {MobComponent<ScrollDownLabel>} */\nexport const ScrollDownLabelFn = ({ getProxi, bindEffect }) => {\n    const proxi = getProxi();\n\n    return html`\n        <div\n            class=\"c-scroller-down-label\"\n            ${bindEffect({\n                toggleClass: { active: () => proxi.active },\n            })}\n        >\n            <h1>Scroll down</h1>\n            ${arrow}\n        </div>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { ScrollDownLabelFn } from './scroll-down-label';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const ScrollDownLabel = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').ScrollDownLabel>} */\n    ({\n        tag: 'scroll-down-label',\n        component: ScrollDownLabelFn,\n        exportState: ['active'],\n        state: {\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "import { html } from '@mobJs';\n\nexport const Triangles = html`\n    <svg\n        width=\"140mm\"\n        height=\"140mm\"\n        viewBox=\"0 0 139.99999 140\"\n        version=\"1.1\"\n        id=\"svg5\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:svg=\"http://www.w3.org/2000/svg\"\n    >\n        <defs id=\"defs2\" />\n        <g id=\"layer1\" transform=\"translate(-47.229393,-65.97476)\">\n            <path\n                style=\"fill-opacity:1\"\n                id=\"path846\"\n                d=\"M 569.10562,588.28308 373.8052,701.03981 178.50481,813.79657 l 1e-5,-225.5135 -1e-5,-225.51347 195.3004,112.75675 z\"\n                transform=\"matrix(0.23369642,0,0,0.23369642,5.8240088,16.026465)\"\n            />\n            <path\n                style=\"fill-opacity:1\"\n                id=\"path846-3\"\n                transform=\"matrix(-0.10716864,0,0,-0.10716864,108.53022,161.51294)\"\n                d=\"M 569.10562,588.28308 373.8052,701.03981 178.50481,813.79657 l 1e-5,-225.5135 -1e-5,-225.51347 195.3004,112.75675 z\"\n            />\n            <path\n                style=\"fill-opacity:1\"\n                id=\"path846-3-6\"\n                transform=\"matrix(-0.02667159,-0.04619655,0.04619655,-0.02667159,79.271975,140.55737)\"\n                d=\"M 569.10562,588.28308 373.8052,701.03981 178.50481,813.79657 l 1e-5,-225.5135 -1e-5,-225.51347 195.3004,112.75675 z\"\n            />\n            <path\n                style=\"fill-opacity:1\"\n                id=\"path846-3-6-7\"\n                transform=\"matrix(0.01432203,0.02480649,-0.02480649,0.01432203,119.95024,86.660707)\"\n                d=\"M 569.10562,588.28308 373.8052,701.03981 178.50481,813.79657 l 1e-5,-225.5135 -1e-5,-225.51347 195.3004,112.75675 z\"\n            />\n        </g>\n    </svg>\n`;\n", "import { html } from '@mobJs';\nimport { MobBodyScroll } from '@mobMotionPlugin';\nimport { Triangles } from './triangles';\n\n/**\n * @import {MobComponent} from '@mobJsType';\n * @import {ScrollToTop} from './type';\n */\n\n/** @type {MobComponent<ScrollToTop>} */\nexport const ScrollToTopFn = ({ delegateEvents, bindEffect, getProxi }) => {\n    const proxi = getProxi();\n\n    return html`\n        <div\n            class=\"scroll-to-top\"\n            ${bindEffect({\n                toggleClass: {\n                    active: () => {\n                        return proxi.active && !proxi.navigationIsOpen;\n                    },\n                    shift: () => proxi.navigationIsOpen,\n                },\n            })}\n        >\n            <button\n                type=\"button\"\n                class=\"scroll-to-top__button\"\n                ${delegateEvents({\n                    click: () => {\n                        MobBodyScroll.to(0);\n                    },\n                })}\n            ></button>\n            <div class=\"scroll-to-top__triangles\">${Triangles}</div>\n        </div>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { ScrollToTopFn } from './scroll-to-top';\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const ScrollToTop = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').ScrollToTop>} */\n    ({\n        tag: 'scroll-to-top',\n        component: ScrollToTopFn,\n        exportState: ['active'],\n        bindStore: navigationStore,\n        state: {\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "import { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent} */\nexport const TestScssGridFn = () => {\n    return html`\n        <div class=\"test-grid\">\n            <div class=\"test-grid__grid\">\n                <span></span><span></span><span></span><span></span><span></span\n                ><span></span><span></span><span></span><span></span\n                ><span></span><span></span><span></span>\n            </div>\n            <div class=\"test-grid__cont\"><span>test</span></div>\n        </div>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { TestScssGridFn } from './test-scss-grid';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const TestScssGrid = MobJs.createComponent(\n    /** @type {CreateComponentParams<any>} */\n    ({\n        tag: 'test-scss-grid',\n        component: TestScssGridFn,\n    })\n);\n", "import { consoleLogDebug } from '@commonComponent/debug/console-log';\nimport { html, MobJs } from '@mobJs';\nimport { debugOverlayName } from '../../instance-name';\n\n/**\n * @import {MobComponent, UseMethodByName} from '@mobJsType'\n * @import {DebugOverlay} from '../../common/debug/debug-overlay/type'\n */\n\n/** @type {MobComponent} */\nexport const FooterFn = ({ delegateEvents }) => {\n    return html`\n        <footer class=\"l-footer\">\n            <div class=\"l-footer__container\">\n                <footer-nav></footer-nav>\n                <div class=\"l-footer__debug\">\n                    <debug-button\n                        class=\"c-button-debug\"\n                        ${delegateEvents({\n                            click: () => {\n                                /** @type {UseMethodByName<DebugOverlay>} */\n                                const methods =\n                                    MobJs.useMethodByName(debugOverlayName);\n                                methods?.toggle();\n                            },\n                        })}\n                    >\n                        Debug App</debug-button\n                    >\n                    <debug-button\n                        class=\"c-button-console\"\n                        ${delegateEvents({\n                            click: () => {\n                                consoleLogDebug();\n                            },\n                        })}\n                    >\n                        Log\n                    </debug-button>\n                </div>\n            </div>\n        </footer>\n    `;\n};\n", "/**\n * @import {MobComponent} from '@mobJsType';\n * @import {FooterNavButton} from './type';\n */\n\nimport { html } from '@mobJs';\n\n/** @type {MobComponent<FooterNavButton>} */\nexport const FooterNavButtonFn = ({ getProxi, bindEffect, computed }) => {\n    const proxi = getProxi();\n\n    computed(\n        () => proxi.active,\n        () => {\n            return proxi.section === proxi.activeNavigationSection;\n        }\n    );\n\n    return html`\n        <button\n            type=\"button\"\n            class=\"footer-nav__button\"\n            ${bindEffect({\n                toggleClass: { current: () => proxi.active },\n            })}\n        >\n            ${proxi.label}\n        </button>\n    `;\n};\n", "/**\n * @import {DelegateEvents, MobComponent, StaticProps} from '@mobJsType';\n */\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { html, MobJs } from '@mobJs';\nimport { getCommonData } from '@data/index';\n\n/**\n * @param {object} params\n * @param {DelegateEvents} params.delegateEvents\n * @param {StaticProps<import('./type').FooterNavButton>} params.staticProps\n */\nconst getItems = ({ delegateEvents, staticProps }) => {\n    const data = getCommonData();\n\n    return data.footer.nav\n        .map(({ label, url, section }) => {\n            return html`<li class=\"footer-nav__item\">\n                <footer-nav-button\n                    ${delegateEvents({\n                        click: () => {\n                            MobJs.loadUrl({ url });\n                            navigationStore.set('navigationIsOpen', false);\n                        },\n                    })}\n                    ${staticProps(\n                        /** @type {import('./type').FooterNavButton['state']} */ ({\n                            label,\n                            section,\n                        })\n                    )}\n                ></footer-nav-button>\n            </li> `;\n        })\n        .join('');\n};\n\n/** @type {MobComponent} */\nexport const FooterNavFn = ({ delegateEvents, staticProps }) => {\n    return html`\n        <ul class=\"footer-nav\">\n            ${getItems({ delegateEvents, staticProps })}\n        </ul>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { FooterNavButtonFn } from './footer-button';\nimport { FooterNavFn } from './footer-nav';\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const FooterNavButton = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').FooterNavButton>} */\n    ({\n        tag: 'footer-nav-button',\n        component: FooterNavButtonFn,\n        exportState: ['label', 'section'],\n        bindStore: navigationStore,\n        state: {\n            label: () => ({\n                value: '',\n                type: String,\n            }),\n            section: () => ({\n                value: '',\n                type: String,\n            }),\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n\nexport const FooterNav = MobJs.createComponent({\n    tag: 'footer-nav',\n    component: FooterNavFn,\n    child: [FooterNavButton],\n});\n", "import { html } from '@mobJs';\n\n/**\n * @import {MobComponent} from '@mobJsType';\n */\n\n/** @type {MobComponent} */\nexport const DebugButtonFn = () => {\n    return html`\n        <button type=\"button\" class=\"c-btn-debug\">\n            <mobjs-slot></mobjs-slot>\n        </button>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { DebugButtonFn } from './debug-button';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const DebugButton = MobJs.createComponent(\n    /** @type {CreateComponentParams<any>} */\n    ({\n        tag: 'debug-button',\n        component: DebugButtonFn,\n    })\n);\n", "import { MobJs } from '@mobJs';\nimport { FooterFn } from './footer';\nimport { FooterNav } from './footer-nav/definition';\nimport { DebugButton } from '@commonComponent/debug/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const Footer = MobJs.createComponent(\n    /** @type {CreateComponentParams<any>} */\n    ({\n        tag: 'mob-footer',\n        component: FooterFn,\n        child: [FooterNav, DebugButton],\n    })\n);\n", "/**\n * @import {MobComponent, UseMethodByName} from '@mobJsType';\n */\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { outerHeight } from '@mobCoreUtils';\nimport { html, MobJs } from '@mobJs';\nimport {\n    mobNavigationContainerName,\n    mobNavigationName,\n} from '../../instance-name';\n\nfunction titleHandler() {\n    MobJs.loadUrl({ url: '#home' });\n    navigationStore.set('navigationIsOpen', false);\n\n    /** @type {UseMethodByName<import('../navigation/type').Navigation>} */\n    const mainNavigationMethods = MobJs.useMethodByName(mobNavigationName);\n    mainNavigationMethods?.closeAllAccordion();\n\n    /** @type {UseMethodByName<import('../navigation/type').NavigationContainer>} */\n    const navContainerMethods = MobJs.useMethodByName(\n        mobNavigationContainerName\n    );\n    navContainerMethods?.scrollTop();\n}\n\n/** @type {MobComponent<import('./type').Header>} */\nexport const HeaderFn = ({\n    delegateEvents,\n    bindEffect,\n    getProxi,\n    onMount,\n    addMethod,\n}) => {\n    const proxi = getProxi();\n\n    onMount(({ element }) => {\n        addMethod('getHeaderHeight', () => {\n            return outerHeight(element);\n        });\n\n        setTimeout(() => {\n            proxi.isMounted = true;\n        }, 500);\n    });\n\n    return html`\n        <header class=\"l-header\">\n            <div class=\"l-header__container\">\n                <div class=\"l-header__grid\">\n                    <div class=\"l-header__toggle\">\n                        <mob-header-toggle></mob-header-toggle>\n                    </div>\n                    <button\n                        type=\"button\"\n                        class=\"l-header__title\"\n                        ${delegateEvents({\n                            click: () => {\n                                titleHandler();\n                            },\n                        })}\n                    >\n                        <div class=\"l-header__title-container\">\n                            <h3\n                                ${bindEffect({\n                                    toggleClass: {\n                                        visible: () => proxi.isMounted,\n                                    },\n                                })}\n                            >\n                                <span>Mob</span>Project\n                            </h3>\n                            <h5\n                                ${bindEffect({\n                                    toggleClass: {\n                                        visible: () => proxi.isMounted,\n                                    },\n                                })}\n                            >\n                                v 1.0\n                            </h5>\n                        </div>\n                    </button>\n                    <div class=\"l-header__utils\">\n                        <mob-header-nav></mob-header-nav>\n                    </div>\n                </div>\n            </div>\n        </header>\n    `;\n};\n", "<svg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 24 24\"><path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\"/></svg>\n\n", "/**\n * @import {DelegateEvents, MobComponent} from '@mobJsType';\n */\n\nimport { html, MobJs } from '@mobJs';\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\n// @ts-ignore\nimport githubIcon from '../../../../svg/icon-github.svg';\nimport { getCommonData } from '@data/index';\n\n/** @type{Record<string, any>} */\nconst icon = {\n    github: githubIcon,\n};\n\n/**\n * @param {object} params\n * @param {Event} params.event\n * @returns {void}\n */\nconst onClick = ({ event }) => {\n    const button = event.target;\n    console.log(button);\n    const { url } = /** @type {HTMLButtonElement} */ (button)?.dataset ?? '';\n    MobJs.loadUrl({ url });\n    navigationStore.set('navigationIsOpen', false);\n};\n\n/**\n * @param {object} params\n * @param {DelegateEvents} params.delegateEvents\n * @returns {string}\n */\nfunction additems({ delegateEvents }) {\n    /** @type {import('./type').HeaderLinks} */\n    const header = getCommonData().header;\n    const { links } = header;\n\n    return links\n        .map((link) => {\n            const { svg, url, internal } = link;\n\n            return html`<li class=\"l-header__sidenav__item\">\n                ${internal\n                    ? html`\n                          <button\n                              type=\"button\"\n                              data-url=\"${url}\"\n                              class=\"l-header__sidenav__link\"\n                              ${delegateEvents({\n                                  click: (/** @type {Event} */ event) => {\n                                      console.log('click');\n                                      onClick({ event });\n                                  },\n                              })}\n                          >\n                              ${icon[svg]}\n                          </button>\n                      `\n                    : html`\n                          <a\n                              href=\"${url}\"\n                              target=\"_blank\"\n                              class=\"l-header__sidenav__link\"\n                          >\n                              ${icon[svg]}\n                          </a>\n                      `}\n            </li>`;\n        })\n        .join('');\n}\n\n/** @type {MobComponent} */\nexport const HeadernavFn = ({ delegateEvents }) => {\n    return html`\n        <ul class=\"l-header__sidenav\">\n            <li class=\"l-header__sidenav__item\">\n                <search-cta></search-cta>\n            </li>\n            ${additems({ delegateEvents })}\n        </ul>\n    `;\n};\n", "/**\n * @import {MobComponent} from '@mobJsType';\n */\n\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { html } from '@mobJs';\n\n/** @type {MobComponent<import('./type').HeaderToggle>} */\nexport const HeaderToggleFn = ({ delegateEvents, bindEffect, getProxi }) => {\n    const proxi = getProxi();\n\n    return html`\n        <button\n            class=\"hamburger hamburger--squeeze\"\n            type=\"button\"\n            ${delegateEvents({\n                click: () => {\n                    navigationStore.update(\n                        'navigationIsOpen',\n                        (state) => !state\n                    );\n                },\n            })}\n            ${bindEffect({\n                toggleClass: {\n                    'is-open': () => proxi.navigationIsOpen,\n                },\n            })}\n        >\n            <div class=\"hamburger-box\">\n                <div class=\"hamburger-inner\"></div>\n            </div>\n        </button>\n    `;\n};\n", "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<svg\n   viewBox=\"0 0 60.020653 60.002285\"\n   x=\"0px\"\n   y=\"0px\"\n   version=\"1.1\"\n   width=\"60.020653\"\n   height=\"60.002285\"\n   xmlns=\"http://www.w3.org/2000/svg\"\n   xmlns:svg=\"http://www.w3.org/2000/svg\">\n  <path d=\"m 25.488429,6.1344291e-5 a 25.5,25.5 0 1 0 15,46.129999655709 l 12.7,12.7 a 4.0022244,4.0022244 0 0 0 5.66,-5.66 l -12.7,-12.7 A 25.48,25.48 0 0 0 25.488429,6.1344291e-5 Z m 0,42.999999655709 a 17.5,17.5 0 1 1 17.5,-17.5 17.52,17.52 0 0 1 -17.5,17.5 z\" />\n</svg>\n", "import { useMethodByName } from 'src/js/mob/mob-js/modules';\n\n// @ts-ignore\nimport searchSvg from '../../../../../svg/search.svg';\n\n/**\n * @import {MobComponent, UseMethodByName} from '@mobJsType';\n */\n\nimport { html } from '@mobJs';\nimport {\n    searchOverlay,\n    searchOverlayHeader,\n} from 'src/js/component/instance-name';\n\nconst onClick = () => {\n    /**\n     * @type {UseMethodByName<import('../search-overlay/type').SearchOverlay>}\n     */\n    const overlayMethods = useMethodByName(searchOverlay);\n    overlayMethods?.toggle();\n\n    /**\n     * @type {UseMethodByName<import('../search-overlay/header/type').SearchOverlayHeader>}\n     */\n    const headerMethods = useMethodByName(searchOverlayHeader);\n    headerMethods?.setInputFocus();\n};\n\n/** @type {MobComponent} */\nexport const SearchCtaFn = ({ delegateEvents }) => {\n    return html`<button\n        type=\"button\"\n        class=\"search-cta\"\n        ${delegateEvents({\n            click: () => {\n                onClick();\n            },\n        })}\n    >\n        ${searchSvg}\n    </button>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { SearchCtaFn } from './search-cta';\n\nexport const Search = MobJs.createComponent({\n    tag: 'search-cta',\n    component: SearchCtaFn,\n    exportState: [],\n    state: {},\n});\n", "import { MobJs } from '@mobJs';\nimport { HeaderFn } from './header';\nimport { HeadernavFn } from './header-nav';\nimport { HeaderToggleFn } from './header-toggle';\nimport { Search } from '@commonComponent/search/cta-search/definition';\nimport { navigationStore } from '@layoutComponent/navigation/store/nav-store';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const HeaderNav = MobJs.createComponent(\n    /** @type {CreateComponentParams<any>} */\n    ({\n        tag: 'mob-header-nav',\n        component: HeadernavFn,\n        child: [Search],\n    })\n);\n\nexport const HeaderToggle = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').HeaderToggle>} */\n    ({\n        tag: 'mob-header-toggle',\n        component: HeaderToggleFn,\n        bindStore: navigationStore,\n    })\n);\n\nexport const Header = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').Header>} */\n    ({\n        tag: 'mob-header',\n        component: HeaderFn,\n        state: {\n            isMounted: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n        child: [HeaderNav, HeaderToggle],\n    })\n);\n", "import { navigationStore } from '@layoutComponent/navigation/store/nav-store';\nimport { outerHeight } from '@mobCoreUtils';\nimport { MobSmoothScroller } from '@mobMotionPlugin';\n\nlet currentPercent = 0;\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.root\n * @returns {{ scrollNativationToTop: () => void; refreshScroller: () => void }}\n */\nexport const initNavigationScoller = ({ root }) => {\n    const screenEl = /** @type {HTMLElement} */ (\n        root.querySelector('.l-navcontainer__wrap')\n    );\n    const scrollerEl = /** @type {HTMLElement} */ (\n        root.querySelector('.l-navcontainer__scroll')\n    );\n    const percentEl =\n        /** @type {HTMLElement} */\n        (root.querySelector('.l-navcontainer__percent'));\n    const setDelay = 200;\n\n    /**\n     * Initialize Scroller.\n     */\n    const navScroller = new MobSmoothScroller({\n        screen: screenEl,\n        scroller: scrollerEl,\n        direction: 'vertical',\n        drag: true,\n        scopedEvent: false,\n        breakpoint: 'small',\n        onUpdate: ({ percent }) => {\n            const { navigationIsOpen } = navigationStore.get();\n            if (!navigationIsOpen) return;\n\n            currentPercent = Math.round(percent) / 100;\n            percentEl.style.transform = `translateZ(0) scaleX(${currentPercent})`;\n        },\n    });\n\n    navScroller.init();\n\n    /**\n     * Aign menu to current active main section label\n     */\n    navigationStore.watch('activeNavigationSection', (section) => {\n        const currentSection = /** @type {HTMLElement} */ (\n            document.querySelector(`[data-sectionname='${section}']`)\n        );\n\n        if (!currentSection) return;\n\n        const header = /** @type {HTMLElement} */ (\n            document.querySelector('.l-header')\n        );\n        const navHeight = outerHeight(scrollerEl);\n        const headerHeight = outerHeight(header);\n        const percent =\n            (100 * currentSection.offsetTop) /\n            (navHeight - window.innerHeight + headerHeight);\n\n        const maxValue = percent;\n\n        navScroller.move(maxValue).catch(() => {});\n    });\n\n    /**\n     * Open/close nav.\n     */\n    navigationStore.watch('navigationIsOpen', (val) => {\n        if (val) {\n            percentEl.style.transform = `translateZ(0) scaleX(${currentPercent})`;\n            return;\n        }\n\n        percentEl.style.transform = `translateZ(0) scaleX(0)`;\n    });\n\n    return {\n        scrollNativationToTop: () => {\n            setTimeout(() => {\n                navScroller.move(0).catch(() => {});\n\n                /**\n                 * Reset active section to scroll.\n                 */\n                navigationStore.set('activeNavigationSection', 'no-section');\n            }, setDelay);\n        },\n        refreshScroller: () => {\n            navScroller.refresh();\n        },\n    };\n};\n", "import { MobCore } from '@mobCore';\nimport { html, MobJs } from '@mobJs';\nimport { MobBodyScroll } from '@mobMotionPlugin';\nimport { initNavigationScoller } from './animation/nav-scroller';\nimport { navigationStore } from './store/nav-store';\nimport {\n    mobNavigationContainerName,\n    mobNavigationName,\n} from '../../instance-name';\n\n/**\n * @import {SetState, UseMethodByName} from '@mobJsType'\n */\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.main\n * @param {SetState<import('./type').NavigationContainer>} params.setState\n * @returns {void}\n */\nfunction closeNavigation({ main, setState }) {\n    setState('isOpen', false);\n\n    MobCore.useFrame(() => {\n        document.body.style.overflow = '';\n        main.classList.remove('shift');\n    });\n}\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.main\n * @param {SetState<import('./type').NavigationContainer>} params.setState\n * @returns {void}\n */\nfunction openNavigation({ main, setState }) {\n    /** @type {UseMethodByName<import('./type').NavigationContainer>} */\n    const methods = MobJs.useMethodByName(mobNavigationContainerName);\n    methods?.refresh();\n    setState('isOpen', true);\n\n    MobCore.useFrame(() => {\n        document.body.style.overflow = 'hidden';\n        main.classList.add('shift');\n    });\n}\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.main\n * @returns {void}\n */\nfunction addMainHandler({ main }) {\n    main.addEventListener('click', () => {\n        navigationStore.set('navigationIsOpen', false);\n    });\n}\n\nconst toTopBtnHandler = () => {\n    /** @type {UseMethodByName<import('./type').NavigationContainer>} */\n    const navContainerMethods = MobJs.useMethodByName(\n        mobNavigationContainerName\n    );\n    navContainerMethods?.scrollTop();\n\n    /** @type {UseMethodByName<import('./type').Navigation>} */\n    const mainNavigationMethods = MobJs.useMethodByName(mobNavigationName);\n    mainNavigationMethods?.closeAllAccordion();\n\n    const { navigationIsOpen } = navigationStore.get();\n    if (!navigationIsOpen) MobBodyScroll.to(0);\n};\n\n/** @type {import('@mobJsType').MobComponent<import('./type').NavigationContainer>} */\nexport const NavigationContainerFn = ({\n    onMount,\n    addMethod,\n    setState,\n    delegateEvents,\n    bindEffect,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n\n    onMount(({ element }) => {\n        const main = /** @type {HTMLElement} */ (\n            document.querySelector('main.main')\n        );\n\n        /**\n         * Open/Close navigation.\n         */\n        navigationStore.watch('navigationIsOpen', (val) => {\n            if (val && main) {\n                openNavigation({ main, setState });\n                return;\n            }\n\n            closeNavigation({ main, setState });\n        });\n\n        addMainHandler({ main });\n\n        const { scrollNativationToTop, refreshScroller } =\n            initNavigationScoller({\n                root: element,\n            });\n\n        addMethod('scrollTop', scrollNativationToTop);\n        addMethod('refresh', refreshScroller);\n\n        return () => {};\n    });\n\n    return html`\n        <div\n            class=\"l-navcontainer\"\n            ${bindEffect({\n                toggleClass: { active: () => proxi.isOpen },\n            })}\n        >\n            <div class=\"l-navcontainer__side\">\n                <div class=\"l-navcontainer__percent\"></div>\n                <button\n                    class=\"l-navcontainer__totop\"\n                    ${delegateEvents({\n                        click: () => {\n                            toTopBtnHandler();\n                        },\n                    })}\n                ></button>\n            </div>\n            <div class=\"l-navcontainer__wrap\">\n                <div class=\"l-navcontainer__scroll\">\n                    <mob-navigation\n                        name=\"${mobNavigationName}\"\n                    ></mob-navigation>\n                </div>\n            </div>\n        </div>\n    `;\n};\n", "/**\n * @import {MobComponent, ReturnBindProps, StaticProps, BindProps} from '@mobJsType';\n * @import {Navigation, NavigationButton, NavigationLabel, NavigationSubmenu} from './type';\n */\n\nimport { html } from '@mobJs';\nimport { getCommonData } from '@data/index';\n\n/**\n * Create first level items.\n *\n * @param {object} param\n * @param {import('../../../data/type').CommonData['navigation']} param.data\n * @param {StaticProps} param.staticProps\n * @param {BindProps<Navigation, NavigationSubmenu>} param.bindProps\n * @param {Navigation['state']} param.proxi\n */\nfunction getItems({ data, staticProps, bindProps, proxi }) {\n    return data\n        .map((item, index) => {\n            const {\n                label,\n                url,\n                activeId,\n                children,\n                section,\n                sectioName,\n                scrollToSection,\n                forceChildren,\n            } = item;\n\n            if (section) {\n                return html`\n                    <mob-navigation-label\n                        ${staticProps(\n                            /** @type {NavigationLabel['state']} */ ({\n                                label,\n                                sectioName,\n                            })\n                        )}\n                    ></mob-navigation-label>\n                `;\n            }\n\n            return children\n                ? html`\n                      <mob-navigation-submenu\n                          ${staticProps(\n                              /** @type {NavigationSubmenu['state']} */ {\n                                  headerButton: {\n                                      label,\n                                      url,\n                                  },\n                                  children,\n                                  callback: () =>\n                                      (proxi.currentAccordionId = index),\n                              }\n                          )}\n                          ${bindProps(\n                              /** @returns {ReturnBindProps<NavigationSubmenu>} */\n                              () => ({\n                                  isOpen: proxi.currentAccordionId === index,\n                              })\n                          )}\n                      >\n                      </mob-navigation-submenu>\n                  `\n                : html`\n                      <li class=\"l-navigation__item\">\n                          <mob-navigation-button\n                              ${staticProps(\n                                  /** @type {NavigationButton['state']} */ ({\n                                      label,\n                                      url,\n                                      scrollToSection:\n                                          scrollToSection ?? 'no-scroll',\n                                      activeId: activeId ?? -1,\n                                      forceChildren: forceChildren ?? [],\n                                  })\n                              )}\n                          ></mob-navigation-button>\n                      </li>\n                  `;\n        })\n        .join('');\n}\n\n/** @type {MobComponent<Navigation>} */\nexport const NavigationFn = ({\n    staticProps,\n    setState,\n    bindProps,\n    addMethod,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n    const { navigation: data } = getCommonData();\n\n    /**\n     * Close all accordion.\n     */\n    addMethod('closeAllAccordion', ({ fireCallback = true } = {}) => {\n        setState('currentAccordionId', -1, { emit: fireCallback });\n    });\n\n    return html`\n        <nav class=\"l-navigation\">\n            <ul class=\"l-navigation__list\">\n                ${getItems({\n                    data,\n                    staticProps,\n                    bindProps,\n                    proxi,\n                })}\n            </ul>\n        </nav>\n    `;\n};\n", "/**\n * @import {MobComponent} from '@mobJsType';\n * @import {NavigationButton} from './type';\n */\n\nimport { MobCore } from '@mobCore';\nimport { html, MobJs } from '@mobJs';\nimport { navigationStore } from './store/nav-store';\n\n/** @type {MobComponent<NavigationButton>} */\nexport const NavigationButtonFn = ({\n    setState,\n    getState,\n    delegateEvents,\n    getProxi,\n    bindEffect,\n}) => {\n    const proxi = getProxi();\n\n    const {\n        label,\n        url,\n        arrowClass,\n        subMenuClass,\n        fireRoute,\n        callback,\n        scrollToSection,\n        activeId,\n        forceChildren,\n    } = getState();\n\n    MobJs.afterRouteChange(({ currentRoute }) => {\n        MobCore.useFrame(() => {\n            const urlParsed = url.split('?');\n\n            /**\n             * Get hash.\n             */\n            const hash = urlParsed?.[0] ?? '';\n\n            /**\n             * Check is activeId match with route\n             */\n            const activeParams = MobJs.getActiveParams();\n\n            const paramsMatch =\n                activeId === -1 || activeParams?.['activeId'] === `${activeId}`;\n\n            const isActiveRoute = currentRoute === hash && paramsMatch;\n\n            /**\n             * Match virtual children, with no submenu. Virtual children is defined in forceChildren props\n             */\n            const forceChildrenMatch = forceChildren.includes(currentRoute);\n\n            setState('isCurrent', isActiveRoute || forceChildrenMatch);\n\n            /**\n             * Set current accordion menu open state. On load route, or if route is loaded outside menu.\n             */\n            if (isActiveRoute && fireRoute) {\n                callback();\n\n                /**\n                 * Aign menu to current active main section label\n                 */\n                navigationStore.set('activeNavigationSection', scrollToSection);\n            }\n        });\n    });\n\n    return html`\n        <button\n            type=\"button\"\n            class=\"l-navigation__link  ${arrowClass} ${subMenuClass}\"\n            ${delegateEvents({\n                click: () => {\n                    /**\n                     * Set current accordion menu open state. On Submenu label click.\n                     */\n                    callback();\n                    if (!fireRoute) return;\n\n                    /**\n                     * Fire page transition if button is cliccable.\n                     */\n                    MobJs.loadUrl({ url });\n                    navigationStore.set('navigationIsOpen', false);\n                },\n            })}\n            ${bindEffect({\n                toggleClass: {\n                    active: () => proxi.isOpen,\n                    current: () => proxi.isCurrent,\n                },\n            })}\n        >\n            ${label}\n        </button>\n    `;\n};\n", "import { html } from '@mobJs';\n\n/** @type {import('@mobJsType').MobComponent<import('./type').NavigationLabel>} */\nexport const NavigationLabelFn = ({ bindEffect, getProxi }) => {\n    const proxi = getProxi();\n\n    return html`\n        <div\n            class=\"l-navigation__label\"\n            data-sectionname=\"${proxi.sectioName}\"\n            ${bindEffect({\n                toggleClass: {\n                    active: () =>\n                        proxi.sectioName === proxi.activeNavigationSection,\n                },\n            })}\n        >\n            ${proxi.label}\n        </div>\n    `;\n};\n", "/**\n * @import {MobComponent, ReturnBindProps, StaticProps, UseMethodByName} from '@mobJsType';\n * @import {Navigation, NavigationButton, NavigationContainer, NavigationSubmenu} from './type';\n */\n\nimport { html, MobJs } from '@mobJs';\nimport { MobSlide } from '@mobMotionPlugin';\nimport {\n    mobNavigationContainerName,\n    mobNavigationName,\n} from '../../instance-name';\n\n/**\n * @param {object} params\n * @param {NavigationSubmenu['state']} params.proxi\n * @param {StaticProps<NavigationButton>} params.staticProps\n * @returns {string}\n */\nfunction getSubmenu({ proxi, staticProps }) {\n    return proxi.children\n        .map((child) => {\n            const { label, url, scrollToSection, activeId } = child;\n\n            return html`\n                <li class=\"l-navigation__submenu__item\">\n                    <mob-navigation-button\n                        ${staticProps(\n                            /** @type {NavigationButton['state']} */ ({\n                                callback: proxi.callback,\n                                label,\n                                url,\n                                subMenuClass: 'l-navigation__link--submenu',\n                                scrollToSection,\n                                activeId: activeId ?? -1,\n                            })\n                        )}\n                    ></mob-navigation-button>\n                </li>\n            `;\n        })\n        .join('');\n}\n\n/**\n * @type {MobComponent<NavigationSubmenu>}\n */\nexport const NavigationSubmenuFn = ({\n    onMount,\n    staticProps,\n    bindProps,\n    watch,\n    setRef,\n    getRef,\n    getProxi,\n}) => {\n    const proxi = getProxi();\n    const { label, url, activeId } = proxi.headerButton;\n\n    onMount(() => {\n        /**\n         * Accordion\n         */\n        const { content } = getRef();\n\n        MobSlide.subscribe(content);\n        MobSlide.reset(content);\n\n        watch(\n            () => proxi.isOpen,\n            async (isOpen) => {\n                const action = isOpen ? 'down' : 'up';\n                await MobSlide[action](content);\n\n                /** @type {UseMethodByName<NavigationContainer>} */\n                const navContainerMethods = MobJs.useMethodByName(\n                    mobNavigationContainerName\n                );\n                navContainerMethods?.refresh();\n\n                if (isOpen) return;\n\n                /**\n                 * When accordion is closed form element itSelf Need to reset currentAccordionId without fire callback.\n                 */\n\n                /** @type {UseMethodByName<Navigation>} */\n                const mainNavigationMethods =\n                    MobJs.useMethodByName(mobNavigationName);\n\n                mainNavigationMethods?.closeAllAccordion({\n                    fireCallback: false,\n                });\n            },\n            { immediate: true }\n        );\n\n        return () => {};\n    });\n\n    return html`\n        <li class=\"l-navigation__item has-child\">\n            <mob-navigation-button\n                ${staticProps(\n                    /** @type {NavigationButton['state']} */ ({\n                        label,\n                        url,\n                        arrowClass: 'l-navigation__link--arrow',\n                        fireRoute: false,\n                        activeId: activeId ?? -1,\n                        callback: () => {\n                            proxi.isOpen = !proxi.isOpen;\n                            if (proxi.isOpen) proxi.callback();\n                        },\n                    })\n                )}\n                ${bindProps(\n                    /** @returns {ReturnBindProps<NavigationButton>} */\n                    () => ({\n                        isOpen: proxi.isOpen,\n                    })\n                )}\n            ></mob-navigation-button>\n            <ul class=\"l-navigation__submenu\" ${setRef('content')}>\n                ${getSubmenu({ proxi, staticProps })}\n            </ul>\n        </li>\n    `;\n};\n", "import { MobJs } from '@mobJs';\nimport { NavigationContainerFn } from './nav-container';\nimport { NavigationFn } from './navigation';\nimport { NavigationButtonFn } from './navigation-button';\nimport { NavigationLabelFn } from './navigation-label';\nimport { NavigationSubmenuFn } from './navigation-submenu';\nimport { navigationStore } from './store/nav-store';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const NavigationButton = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').NavigationButton>} */\n    ({\n        tag: 'mob-navigation-button',\n        component: NavigationButtonFn,\n        exportState: [\n            'label',\n            'url',\n            'arrowClass',\n            'subMenuClass',\n            'fireRoute',\n            'callback',\n            'isOpen',\n            'scrollToSection',\n            'activeId',\n            'forceChildren',\n        ],\n        state: {\n            label: () => ({\n                value: '',\n                type: String,\n            }),\n            url: () => ({\n                value: '',\n                type: String,\n            }),\n            activeId: () => ({\n                value: -1,\n                type: Number,\n            }),\n            scrollToSection: () => ({\n                value: '',\n                type: String,\n            }),\n            arrowClass: () => ({\n                value: '',\n                type: String,\n            }),\n            subMenuClass: () => ({\n                value: '',\n                type: String,\n            }),\n            fireRoute: () => ({\n                value: true,\n                type: Boolean,\n            }),\n            callback: () => ({\n                value: () => {},\n                type: Function,\n            }),\n            isOpen: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            isCurrent: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            forceChildren: () => ({\n                value: [],\n                type: Array,\n            }),\n        },\n    })\n);\n\nexport const NavigationLabel = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').NavigationLabel>} */\n    ({\n        tag: 'mob-navigation-label',\n        component: NavigationLabelFn,\n        exportState: ['label', 'sectioName'],\n        bindStore: navigationStore,\n        state: {\n            label: () => ({\n                value: '',\n                type: String,\n            }),\n            sectioName: () => ({\n                value: '',\n                type: String,\n            }),\n        },\n    })\n);\n\nexport const NavigationSubmenu = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').NavigationSubmenu>} */\n    ({\n        tag: 'mob-navigation-submenu',\n        component: NavigationSubmenuFn,\n        exportState: ['children', 'headerButton', 'isOpen', 'callback'],\n        state: {\n            callback: () => ({\n                value: () => {},\n                type: Function,\n            }),\n            headerButton: () => ({\n                value: {},\n                type: 'Any',\n            }),\n            children: () => ({\n                value: [],\n                type: Array,\n            }),\n            isOpen: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n        child: [NavigationButton],\n    })\n);\n\nexport const Navigation = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').Navigation>} */\n    ({\n        tag: 'mob-navigation',\n        component: NavigationFn,\n        exportState: ['currentAccordionId'],\n        state: {\n            currentAccordionId: () => ({\n                value: -1,\n                type: Number,\n                skipEqual: false,\n            }),\n        },\n        child: [NavigationLabel, NavigationSubmenu, NavigationButton],\n    })\n);\n\nexport const NavigationContainer = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').NavigationContainer>} */\n    ({\n        tag: 'mob-navigation-container',\n        component: NavigationContainerFn,\n        child: [Navigation],\n        state: {\n            isOpen: () => ({\n                value: false,\n                type: Boolean,\n            }),\n        },\n    })\n);\n", "/**\n * @import {MobComponent, UseMethodByName} from '@mobJsType';\n */\n\nimport { html } from '@mobJs';\nimport {\n    searchOverlayHeader,\n    searchOverlayList,\n} from 'src/js/component/instance-name';\nimport { useMethodByName } from 'src/js/mob/mob-js/modules';\n\n/**\n * @param {object} params\n * @param {import('./type').SearchOverlay['state']} params.proxi\n */\nconst closeOverlay = ({ proxi }) => {\n    proxi.active = false;\n    const headerMethods = useMethodByName(searchOverlayHeader);\n    headerMethods?.closeSuggestion();\n};\n\n/**\n * @param {object} params\n * @param {HTMLElement} params.currentTarget\n */\nconst shouldCloseSuggestion = ({ currentTarget }) => {\n    if (!currentTarget) return;\n\n    /**\n     * @type {UseMethodByName<import('./header/type').SearchOverlayHeader>}\n     */\n    const headerMethods = useMethodByName(searchOverlayHeader);\n    headerMethods?.shouldCloseSuggestion(currentTarget);\n};\n\n/** @type {MobComponent<import('./type').SearchOverlay>} */\nexport const SearchOverlayFn = ({\n    getProxi,\n    delegateEvents,\n    bindEffect,\n    addMethod,\n    bindObject,\n    staticProps,\n}) => {\n    const proxi = getProxi();\n\n    addMethod('toggle', () => {\n        proxi.active = !proxi.active;\n    });\n\n    return html`<div\n        class=\"search-overlay\"\n        ${bindEffect({\n            toggleClass: {\n                active: () => proxi.active,\n            },\n        })}\n    >\n        <button\n            class=\"search-overlay__background\"\n            type=\"button\"\n            ${delegateEvents({\n                click: () => {\n                    closeOverlay({ proxi });\n                },\n            })}\n        ></button>\n        <button\n            type=\"button\"\n            class=\"search-overlay__close\"\n            ${delegateEvents({\n                click: () => {\n                    closeOverlay({ proxi });\n                },\n            })}\n        ></button>\n\n        <!-- Main content -->\n        <div\n            class=\"search-overlay__grid\"\n            ${delegateEvents({\n                click: (/** @type {Event} */ event) => {\n                    shouldCloseSuggestion({\n                        currentTarget: /** @type {HTMLElement} */ (\n                            event.currentTarget\n                        ),\n                    });\n                },\n            })}\n        >\n            <!-- Title -->\n            <h2 class=\"search-overlay__title\">Search</h2>\n\n            <!-- Header -->\n            <div class=\"search-overlay__header\">\n                <search-overlay-header\n                    name=\"${searchOverlayHeader}\"\n                ></search-overlay-header>\n            </div>\n            <div class=\"search-overlay__current-search\">\n                <p>\n                    ${bindObject`search for: <strong>${() => proxi.currentSearch}</strong>`}\n                </p>\n            </div>\n\n            <!-- List -->\n            <div class=\"search-overlay__list\">\n                <search-overlay-list\n                    ${staticProps(\n                        /** @type {import('./list/type').SearchOverlayList['state']} */\n                        ({\n                            updatePrentSearchKey: (value) => {\n                                proxi.currentSearch = value;\n                            },\n                        })\n                    )}\n                    name=\"${searchOverlayList}\"\n                ></search-overlay-list>\n            </div>\n        </div>\n    </div>`;\n};\n", "/**\n * @import {GetRef, MobComponent, ReturnBindProps, UseMethodByName} from '@mobJsType';\n */\n\nimport { getCommonData } from '@data/index';\nimport { MobCore } from '@mobCore';\nimport { html } from '@mobJs';\nimport { searchOverlayList } from 'src/js/component/instance-name';\nimport { useMethodByName } from 'src/js/mob/mob-js/modules';\n\n/**\n * @param {object} params\n * @param {string} params.currentSearch\n */\nconst sendSearch = async ({ currentSearch }) => {\n    /**\n     * @type {UseMethodByName<import('../list/type').SearchOverlayList>}\n     */\n    const listMethods = useMethodByName(searchOverlayList);\n    listMethods?.update(currentSearch);\n};\n\n/**\n * @param {object} params\n * @param {GetRef<import('./type').SearchOverlayHeader>} params.getRef\n * @param {import('./type').SearchOverlayHeader['state']} params.proxi\n */\nconst sendToList = ({ getRef }) => {\n    const { search_input } = getRef();\n    const currentSearch = /** @type {HTMLInputElement} */ (search_input).value;\n\n    // send on click submit\n    sendSearch({ currentSearch });\n};\n\n/**\n * @param {object} params\n * @param {GetRef<import('./type').SearchOverlayHeader>} params.getRef\n * @param {import('./type').SearchOverlayHeader['state']} params.proxi\n */\nconst sendReset = ({ getRef, proxi }) => {\n    /**\n     * @type {UseMethodByName<import('../list/type').SearchOverlayList>}\n     */\n    const listMethods = useMethodByName(searchOverlayList);\n    listMethods?.reset();\n\n    const { search_input } = getRef();\n    search_input.value = '';\n    proxi.suggestionListData = [];\n};\n\n// number should fail system.\nconst getFakeReplacement = (/** @type {number} */ index) => `~${index}`;\n\n/**\n * @param {object} params\n * @param {string} params.currentSearch\n * @param {import('./type').SearchOverlayHeader['state']} params.proxi\n */\nconst filterSuggestion = ({ currentSearch, proxi }) => {\n    const mainData = getCommonData();\n    const searchSuggestionKey = mainData.suggestion;\n\n    if (currentSearch.length === 0) proxi.suggestionListData = [];\n\n    /**\n     * Use last word of input search for filter suggestion.\n     */\n    const inputSearchLastWord = currentSearch.split(' ').slice(-1).join('');\n\n    /**\n     * `~` char is not allowed ( is getFakeReplacement ). Remove `~` character. stringParsed is an array in case we want\n     * to process more than one word. Current logic use only last word so is unnecessary.\n     */\n    const stringParsed =\n        inputSearchLastWord\n            .replaceAll('~', '')\n            .split(' ')\n            .filter((block) => block !== '') ?? '';\n\n    /**\n     * Update suggestion list based on last input search word.\n     */\n    proxi.suggestionListData = (\n        searchSuggestionKey.filter(({ word }) => {\n            return stringParsed.some((piece) =>\n                word.toLowerCase().includes(piece.toLowerCase())\n            );\n        }) ?? []\n    ).map(({ word }) => {\n        return {\n            word,\n            wordHiglight: (() => {\n                /**\n                 * Avoid to replce string in <span> tag added. Repelce placeholder, and trask order\n                 */\n                const stringParseWithPlaceholder = stringParsed.reduce(\n                    (previous, current, index) => {\n                        /**\n                         * Exclude string after ~ from substitution ( previuos replace )\n                         */\n                        return previous\n                            .toLowerCase()\n                            .replaceAll(\n                                new RegExp(\n                                    `(?<!~)${current.toLowerCase()}`,\n                                    'g'\n                                ),\n                                `${getFakeReplacement(index)}`\n                            );\n                    },\n                    word\n                );\n\n                /**\n                 * Replace placeholder with real occurrence in original order.\n                 */\n                return stringParsed.reduce((previous, current, index) => {\n                    return previous.replaceAll(\n                        `${getFakeReplacement(index)}`,\n                        `<span class=\"match-string\">${current}</span>`\n                    );\n                }, stringParseWithPlaceholder);\n            })(),\n        };\n    });\n};\n\n/** @type {MobComponent<import('./type').SearchOverlayHeader>} */\nexport const SearchOverlayHeaderFn = ({\n    delegateEvents,\n    getRef,\n    setRef,\n    getProxi,\n    bindProps,\n    addMethod,\n    onMount,\n    computed,\n    bindEffect,\n}) => {\n    const proxi = getProxi();\n\n    // Close suggestion pop-up when no occorrence found\n    computed(\n        () => proxi.suggestionListActive,\n        () => proxi.suggestionListData.length > 0\n    );\n\n    onMount(() => {\n        const { search_input, suggestionElement } = getRef();\n\n        /**\n         * Update innput value from outside ( suggestion component ) and send\n         */\n        addMethod('updateCurrentSearchFromSuggestion', (value) => {\n            const currentValue = search_input.value;\n\n            /**\n             * Replace last word with suggestion value.\n             */\n            const currentValueSplitted = currentValue.split(' ');\n            const newSearchValue =\n                currentValueSplitted.length === 0\n                    ? value\n                    : (() => {\n                          const currentValueLessLast = currentValueSplitted\n                              .slice(0, -1)\n                              .join(' ');\n                          return `${currentValueLessLast} ${value}`;\n                      })();\n            search_input.value = newSearchValue;\n            proxi.suggestionListData = [];\n            search_input.focus();\n        });\n\n        /**\n         * Close suggestion from outside ( main component click )\n         */\n        addMethod('shouldCloseSuggestion', (element) => {\n            if (\n                suggestionElement !== element &&\n                !suggestionElement.contains(element)\n            )\n                proxi.suggestionListData = [];\n        });\n\n        /**\n         * Close suggestion from outside ( main component click )\n         */\n        addMethod('closeSuggestion', () => {\n            proxi.suggestionListData = [];\n        });\n\n        /**\n         * Wait animation completed before set focus to input\n         */\n        addMethod('setInputFocus', async () => {\n            // reset input value\n            // search_input.value = '';\n\n            setTimeout(() => {\n                search_input.focus();\n            }, 300);\n        });\n    });\n\n    return html`<div class=\"search-overlay-header\">\n        <div class=\"search-overlay-header__input-container\">\n            <input\n                type=\"text\"\n                class=\"search-overlay-header__input\"\n                ${setRef('search_input')}\n                ${delegateEvents({\n                    keyup: MobCore.useDebounce(\n                        (/** @type {KeyboardEvent} */ event) => {\n                            // send on enter press\n\n                            if (event.code.toLowerCase() === 'enter') {\n                                event.preventDefault();\n                                sendToList({ getRef, proxi });\n                                proxi.suggestionListData = [];\n                                return;\n                            }\n\n                            if (event.code.toLowerCase() === 'escape') {\n                                event.preventDefault();\n                                proxi.suggestionListData = [];\n                                return;\n                            }\n\n                            // update suggestion\n                            const currentSearch =\n                                /** @type {HTMLInputElement} */ (event.target)\n                                    .value;\n                            filterSuggestion({ currentSearch, proxi });\n                        },\n                        60\n                    ),\n                })}\n            />\n            <div\n                class=\"search-overlay-header__suggestion-container\"\n                ${setRef('suggestionElement')}\n                ${bindEffect({\n                    toggleClass: {\n                        active: () => proxi.suggestionListActive,\n                    },\n                })}\n            >\n                <search-overlay-suggestion\n                    ${bindProps(\n                        /** @returns {ReturnBindProps<import('./suggestion/type').SearchOverlaySuggestion>} */\n                        () => ({\n                            list: proxi.suggestionListData,\n                        })\n                    )}\n                ></search-overlay-suggestion>\n            </div>\n        </div>\n\n        <!-- Submit -->\n        <button\n            type=\"button\"\n            class=\"search-overlay-header__button\"\n            ${delegateEvents({\n                click: () => {\n                    sendToList({ getRef, proxi });\n                },\n                keydown: (/** @type {KeyboardEvent} */ event) => {\n                    if (event.code.toLowerCase() === 'enter') {\n                        sendToList({ getRef, proxi });\n                    }\n                },\n            })}\n        >\n            submit\n        </button>\n\n        <!-- Reset -->\n        <button\n            type=\"button\"\n            class=\"search-overlay-header__button\"\n            ${delegateEvents({\n                click: () => {\n                    sendReset({ getRef, proxi });\n                },\n                keydown: (/** @type {KeyboardEvent} */ event) => {\n                    if (event.code.toLowerCase() === 'enter') {\n                        sendReset({ getRef, proxi });\n                    }\n                },\n            })}\n        >\n            reset\n        </button>\n    </div>`;\n};\n", "/**\n * @import {MobComponent, UseMethodByName} from '@mobJsType';\n */\n\nimport { html } from '@mobJs';\nimport { searchOverlayHeader } from 'src/js/component/instance-name';\nimport { useMethodByName } from 'src/js/mob/mob-js/modules';\n\n/**\n * @param {string} word\n * @returns {void}\n */\nconst sendWord = (word) => {\n    /**\n     * @type {UseMethodByName<import('../type').SearchOverlayHeader>}\n     */\n    const headerMethods = useMethodByName(searchOverlayHeader);\n    headerMethods?.updateCurrentSearchFromSuggestion(word);\n};\n\nconst onEsc = () => {\n    /**\n     * @type {UseMethodByName<import('../type').SearchOverlayHeader>}\n     */\n    const headerMethods = useMethodByName(searchOverlayHeader);\n    headerMethods?.closeSuggestion();\n};\n\n/**\n * @param {object} params\n * @param {string} params.code\n * @param {string} params.word\n * @returns {void}\n */\nconst onKeyDown = ({ code, word }) => {\n    if (code.toLowerCase() === 'enter') {\n        sendWord(word);\n        return;\n    }\n\n    if (code.toLowerCase() === 'escape') {\n        onEsc();\n        return;\n    }\n};\n\n/** @type {MobComponent<import('./type').SearchOverlaySuggestion>} */\nexport const SearchOverlaySuggestionFn = ({\n    getProxi,\n    repeat,\n    bindObject,\n    delegateEvents,\n}) => {\n    const proxi = getProxi();\n\n    return html`<div>\n        <div class=\"search-overlay-suggestion\">\n            <ul class=\"search-overlay-suggestion__list\">\n                ${repeat({\n                    observe: () => proxi.list,\n                    key: 'word',\n                    render: ({ current }) => {\n                        return html`\n                            <li class=\"search-overlay-suggestion__item\">\n                                <button\n                                    type=\"button\"\n                                    class=\"search-overlay-suggestion__button\"\n                                    ${delegateEvents({\n                                        click: () => {\n                                            sendWord(current.value.word);\n                                        },\n                                        keydown: (\n                                            /** @type {KeyboardEvent} */ event\n                                        ) => {\n                                            event.preventDefault();\n\n                                            onKeyDown({\n                                                code: event.code,\n                                                word: current.value.word,\n                                            });\n                                        },\n                                    })}\n                                >\n                                    ${bindObject`${() => current.value.wordHiglight}`}\n                                </button>\n                            </li>\n                        `;\n                    },\n                })}\n            </ul>\n        </div>\n    </div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { SearchOverlaySuggestionFn } from './suggestion';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const SearchOverlaySuggestion = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').SearchOverlaySuggestion>} */\n    ({\n        tag: 'search-overlay-suggestion',\n        component: SearchOverlaySuggestionFn,\n        exportState: ['list'],\n        state: {\n            list: () => ({\n                value: [],\n                type: Array,\n            }),\n        },\n    })\n);\n", "import { MobJs } from '@mobJs';\nimport { SearchOverlayHeaderFn } from './header';\nimport { SearchOverlaySuggestion } from './suggestion/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const SearchOverlayHeader = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').SearchOverlayHeader>} */\n    ({\n        tag: 'search-overlay-header',\n        component: SearchOverlayHeaderFn,\n        exportState: [],\n        state: {\n            suggestionListActive: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            suggestionListData: () => ({\n                value: [],\n                type: Array,\n            }),\n        },\n        child: [SearchOverlaySuggestion],\n    })\n);\n", "import { routes } from 'src/js/pages';\n\n/**\n * @param {object} params\n * @param {string} params.source\n * @param {string} params.uri\n * @param {string} params.title\n * @param {string} params.section\n * @param {{ title: string; url: string }[]} params.breadCrumbs\n * @returns {Promise<{\n *     success: boolean;\n *     data: import('./type').FetchData[];\n *     uri: string;\n *     title: string;\n *     section: string;\n *     breadCrumbs: { title: string; url: string }[];\n * }>}\n */\nexport const executeFetch = async ({\n    source,\n    uri,\n    title,\n    section,\n    breadCrumbs,\n}) => {\n    const response = await fetch(source);\n    if (!response.ok) {\n        console.warn(`${source} not found`);\n        return {\n            success: false,\n            data: [{ component: '', props: {} }],\n            uri,\n            title,\n            section,\n            breadCrumbs: [],\n        };\n    }\n\n    const data = await response.json();\n\n    return {\n        success: true,\n        data: data.data,\n        uri,\n        title,\n        section,\n        breadCrumbs,\n    };\n};\n\nconst validComponent = new Set(['mob-title', 'mob-paragraph', 'mob-list']);\nconst componentWithContent = new Set(['mob-title', 'mob-paragraph']);\nconst listComponent = new Set(['mob-list']);\n\n/**\n * @param {object} params\n * @param {string} params.currentSearch\n */\nexport const fetchSearchResult = async ({ currentSearch = '' }) => {\n    const pageList = routes\n        .filter(({ props }) => {\n            return props?.source && props?.title;\n        })\n        .map(({ name, props }) => {\n            return {\n                fn: executeFetch({\n                    source: props.source ?? '',\n                    uri: name ?? 'uri not forud',\n                    title: props.title ?? 'title not found',\n                    section: props.section ?? 'title not found',\n                    breadCrumbs: props.breadCrumbs ?? [],\n                }),\n            };\n        });\n\n    const result = await Promise.all(pageList.map(({ fn }) => fn));\n\n    /**\n     * @type import('./type').FetchData[]}\n     */\n    const initialState = [];\n\n    const resultParsed = result\n        .filter(({ success }) => success)\n        .map(({ data, uri, title, section, breadCrumbs }) => {\n            /**\n             * Extract HTMl-content\n             */\n            const dataParsed = data.reduce((previous, current) => {\n                if (!current) return previous;\n\n                const { component } = current;\n                if (!component) return previous;\n\n                const isHTMLContent = current.component === 'html-content';\n\n                if (!isHTMLContent) {\n                    return [...previous, current];\n                }\n\n                if (!current?.props?.data) return previous;\n\n                /**\n                 * HTMLContent\n                 */\n                return [...previous, current.props.data];\n            }, initialState);\n\n            /**\n             * Filter valid component\n             */\n            const filterDataByComponent = dataParsed\n                .flat()\n                .filter(({ component }) => {\n                    return validComponent.has(component);\n                });\n\n            /**\n             * Extract data content from component\n             */\n            const filterDataByContent = filterDataByComponent.flatMap(\n                (item) => {\n                    /*\n                     * Title/paragraph\n                     */\n                    if (componentWithContent.has(item?.component)) {\n                        return item.content;\n                    }\n\n                    /**\n                     * List\n                     */\n                    if (listComponent.has(item?.component)) {\n                        // liks\n                        if (item?.props?.links) {\n                            // @ts-ignore\n                            return item.props.items.map(({ label }) => label);\n                        }\n\n                        return item.props.items;\n                    }\n\n                    return item;\n                }\n            );\n\n            return {\n                uri,\n                title,\n                section,\n                breadCrumbs,\n                data: filterDataByContent,\n            };\n        });\n\n    const currentSearchSplitted = currentSearch.split(' ');\n\n    /**\n     * Get filtered result\n     */\n    const searchResult = resultParsed\n        .filter((item) => {\n            const dataJoined = item.data.join(' ');\n            return currentSearchSplitted.every((word) => {\n                return dataJoined.toLowerCase().includes(word.toLowerCase());\n            });\n        })\n        .toSorted((first) => {\n            /**\n             * Switch in first position item with title equal currentSearch\n             */\n            if (first.title.toLowerCase().includes(currentSearch.toLowerCase()))\n                return -1;\n\n            return 1;\n        })\n        .map(({ title, uri, section, breadCrumbs, data }) => {\n            /**\n             * Number of occurrence in copies\n             */\n            const count = data\n                .join('')\n                .toLowerCase()\n                .split(currentSearch.toLowerCase());\n\n            const breadCrumbsParsed =\n                breadCrumbs.length > 0\n                    ? breadCrumbs.reduce((previous, current, index) => {\n                          const slash = index > 0 ? '/' : '';\n                          return `${previous}${slash}${current.title}`;\n                      }, '')\n                    : title;\n\n            return {\n                title,\n                uri,\n                section,\n                breadCrumbs: breadCrumbsParsed,\n                count: count?.length ?? 0,\n            };\n        });\n\n    return searchResult;\n};\n", "/**\n * @import {GetRef, MobComponent, UseMethodByName} from '@mobJsType';\n */\n\nimport { verticalScroller } from '@componentLibs/animation/vertical-scroller';\nimport { html, MobJs } from '@mobJs';\nimport { searchOverlay } from 'src/js/component/instance-name';\nimport { useMethodByName } from 'src/js/mob/mob-js/modules';\nimport { fetchSearchResult } from './fetch-data';\n\n/**\n * @param {object} params\n * @param {string} params.uri\n */\nconst loadPage = ({ uri }) => {\n    MobJs.loadUrl({ url: uri });\n\n    /**\n     * @type {UseMethodByName<import('../type').SearchOverlay>}\n     */\n    const searchMethods = useMethodByName(searchOverlay);\n    searchMethods?.toggle();\n};\n\n/**\n * @param {object} params\n * @param {GetRef<import('./type').SearchOverlayList>} params.getRef\n */\nconst initScroller = ({ getRef }) => {\n    const { screen, scroller, scrollbar } = getRef();\n\n    scrollbar.addEventListener('input', () => {\n        // @ts-ignore\n        move(scrollbar.value);\n    });\n\n    const methods = verticalScroller({\n        screen,\n        scroller,\n        scrollbar,\n    });\n\n    const init = methods.init;\n    const destroy = methods.destroy;\n    const refresh = methods.refresh;\n    const move = methods.move;\n    const updateScroller = methods.updateScroller;\n    init();\n    updateScroller();\n    move(0);\n\n    return {\n        destroy,\n        move,\n        refresh,\n        updateScroller,\n    };\n};\n\n/** @type {MobComponent<import('./type').SearchOverlayList>} */\nexport const SearchOverlayListFn = ({\n    getProxi,\n    repeat,\n    bindObject,\n    setRef,\n    getRef,\n    onMount,\n    watch,\n    addMethod,\n    delegateEvents,\n    bindEffect,\n    invalidate,\n}) => {\n    const proxi = getProxi();\n\n    /**\n     * TODO: fetch result and update proxi.list\n     */\n    addMethod('update', async (currentSearch) => {\n        if (proxi.loading) return;\n\n        proxi.loading = true;\n        proxi.noResult = false;\n        proxi.list = await fetchSearchResult({ currentSearch });\n        proxi.loading = false;\n        proxi.noResult = proxi.list.length === 0;\n        proxi.updatePrentSearchKey(currentSearch);\n    });\n\n    addMethod('reset', () => {\n        proxi.updatePrentSearchKey('');\n        proxi.list = [];\n    });\n\n    /** @type{(val:number) => void} */\n    let move;\n\n    onMount(() => {\n        const {\n            destroy,\n            updateScroller,\n            move: moveUpdated,\n            refresh,\n        } = initScroller({\n            getRef,\n        });\n\n        // update slide move reference\n        move = moveUpdated;\n\n        watch(\n            () => proxi.list,\n            async () => {\n                // update scroller after app is updated.\n                await MobJs.tick();\n\n                refresh();\n                updateScroller();\n                move(0);\n            }\n        );\n\n        return () => {\n            destroy?.();\n        };\n    });\n\n    return html`<div class=\"search-overlay-list\" ${setRef('screen')}>\n        <span\n            class=\"search-overlay-list__loading\"\n            ${bindEffect({\n                toggleClass: {\n                    active: () => proxi.loading,\n                },\n            })}\n            >fetch data</span\n        >\n        <input\n            type=\"range\"\n            id=\"test\"\n            name=\"test\"\n            min=\"0\"\n            max=\"100\"\n            value=\"0\"\n            step=\".5\"\n            ${setRef('scrollbar')}\n            class=\"search-overlay-list__scrollbar\"\n        />\n\n        <!-- no result -->\n        <div>\n            ${invalidate({\n                observe: () => proxi.noResult,\n                render: () => {\n                    return proxi.noResult\n                        ? html`\n                              <ul class=\"search-overlay-list__ul\">\n                                  <li class=\"search-overlay-list__item\">\n                                      <div class=\"search-overlay-list__section\">\n                                          <p><strong>no result</strong></p>\n                                      </div>\n                                  </li>\n                              </ul>\n                          `\n                        : '';\n                },\n            })}\n        </div>\n\n        <!-- result list -->\n        <ul class=\"search-overlay-list__ul\" ${setRef('scroller')}>\n            ${repeat({\n                observe: () => proxi.list,\n                render: ({ current }) => {\n                    return html`\n                        <li\n                            class=\"search-overlay-list__item\"\n                            ${bindEffect({\n                                toggleClass: {\n                                    current: () =>\n                                        proxi.activeRoute.route ===\n                                        current.value.uri,\n                                },\n                            })}\n                        >\n                            <button\n                                type=\"button\"\n                                class=\"search-overlay-list__button\"\n                                ${delegateEvents({\n                                    click: () => {\n                                        loadPage({ uri: current.value.uri });\n                                    },\n                                })}\n                            >\n                                <div class=\"search-overlay-list__section\">\n                                    <p>\n                                        ${bindObject`<strong>${() => current.value.breadCrumbs}</strong> (${() => current.value.count})`}\n                                    </p>\n                                </div>\n                                <div class=\"search-overlay-list__title\">\n                                    <h6>\n                                        ${bindObject`${() => current.value.title}`}\n                                    </h6>\n                                </div>\n                            </button>\n                        </li>\n                    `;\n                },\n            })}\n        </ul>\n    </div>`;\n};\n", "import { MobJs } from '@mobJs';\nimport { SearchOverlayListFn } from './list';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const SearchOverlayList = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').SearchOverlayList>} */\n    ({\n        tag: 'search-overlay-list',\n        component: SearchOverlayListFn,\n        exportState: ['updatePrentSearchKey'],\n        bindStore: MobJs.mainStore,\n        state: {\n            list: () => ({\n                value: [],\n                type: Array,\n            }),\n            loading: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            noResult: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            updatePrentSearchKey: () => ({\n                value: () => {},\n                type: Function,\n            }),\n        },\n    })\n);\n", "import { MobJs } from '@mobJs';\nimport { SearchOverlayFn } from './search-overlay';\nimport { SearchOverlayHeader } from './header/definition';\nimport { SearchOverlayList } from './list/definition';\n\n/**\n * @import {CreateComponentParams} from \"@mobJsType\";\n */\n\nexport const SearchOverlay = MobJs.createComponent(\n    /** @type {CreateComponentParams<import('./type').SearchOverlay>} */\n    ({\n        tag: 'search-overlay',\n        component: SearchOverlayFn,\n        exportState: [],\n        state: {\n            active: () => ({\n                value: false,\n                type: Boolean,\n            }),\n            currentSearch: () => ({\n                value: '',\n                type: String,\n            }),\n        },\n        child: [SearchOverlayHeader, SearchOverlayList],\n    })\n);\n", "import { DebugOverlay } from '@commonComponent/debug/debug-overlay/definition';\nimport { LinksMobJs } from '@commonComponent/links-mob-js/definition';\nimport { QuickNav } from '@commonComponent/quick-nav/definition';\nimport { RouteLoader } from '@commonComponent/route-loader/definition';\nimport { ScrollDownLabel } from '@commonComponent/scroll-down-label/definition';\nimport { ScrollToTop } from '@commonComponent/scroll-to-top/definition';\nimport { TestScssGrid } from '@commonComponent/test-scss-grid/definition';\nimport { Footer } from '@layoutComponent/footer/definition';\nimport { Header } from '@layoutComponent/header/definition';\nimport { NavigationContainer } from '@layoutComponent/navigation/definition';\nimport { html, MobJs } from '@mobJs';\nimport {\n    debugOverlayName,\n    headerName,\n    mobNavigationContainerName,\n    quickNavName,\n    scrollDownLabelName,\n    scrollToTopName,\n    searchOverlay,\n} from '../component/instance-name';\nimport { SearchOverlay } from '@commonComponent/search/search-overlay/definition';\n\nMobJs.useComponent([\n    Header,\n    NavigationContainer,\n    Footer,\n    QuickNav,\n    RouteLoader,\n    ScrollDownLabel,\n    ScrollToTop,\n    LinksMobJs,\n    DebugOverlay,\n    TestScssGrid,\n    SearchOverlay,\n]);\n\nexport const wrapper = async () => {\n    const useScssTestGrid = false;\n\n    return html`\n        ${useScssTestGrid ? '<test-scss-grid></test-scss-grid>' : ''}\n        <debug-overlay name=\"${debugOverlayName}\"></debug-overlay>\n        <mob-header name=\"${headerName}\"></mob-header>\n        <mob-navigation-container\n            name=\"${mobNavigationContainerName}\"\n        ></mob-navigation-container>\n        <main class=\"main\">\n            <div class=\"container\">\n                <div class=\"inner-wrap\">\n                    <div id=\"content\"></div>\n                </div>\n            </div>\n        </main>\n        <mob-footer> </mob-footer>\n        <quick-nav name=\"${quickNavName}\"></quick-nav>\n        <route-loader></route-loader>\n        <scroll-down-label name=\"${scrollDownLabelName}\"></scroll-down-label>\n        <scroll-to-top name=\"${scrollToTopName}\"></scroll-to-top>\n        <links-mobjs></links-mobjs>\n        <search-overlay name=\"${searchOverlay}\"></search-overlay>\n    `;\n};\n", "import { MobCore } from '@mobCore';\nimport { MobJs } from '@mobJs';\nimport { MobMotionCore, MobTween } from '@mobMotion';\nimport { usePageScroll } from '@utils/page-scroll';\nimport { setBrowserClass } from '@utils/utils';\nimport { loadData } from './data';\nimport { beforePageTransition, pageTransition } from './page-transition';\nimport { routes } from './pages';\nimport { getScrollbarWith } from './utils/scrollbar-with';\nimport { wrapper } from './wrapper';\n// import { storeTest } from './test/store-test';\n\nconst shouldRedirect = () => {\n    return /** @type {boolean} */ (MobMotionCore.mq('max', 'desktop'));\n};\n\n/**\n * Temp: Redirect every page to `onlyDesktop` route in tablet/mobile TODO: should be removed.\n */\nconst redirectOnResize = () => {\n    MobCore.useResize(() => {\n        if (!shouldRedirect()) return;\n\n        MobJs.loadUrl({ url: 'onlyDesktop' });\n    });\n};\n\n/**\n * Query main loader && background inside index.html outside app.\n */\nlet jsMainLoader = document.body.querySelector('.js-main-loader');\nlet jsMainLoaderBackground = document.body.querySelector(\n    '.js-main-loader-background'\n);\n\n/**\n * Creare tween for loader/background\n */\nlet loaderTween = MobTween.createTimeTween({\n    data: { opacity: 1, scale: 1 },\n    duration: 1000,\n});\n\n/**\n * Subscribe loader/background\n */\nif (jsMainLoader && jsMainLoaderBackground) {\n    [jsMainLoader, jsMainLoaderBackground].forEach((item) => {\n        loaderTween?.subscribe(({ opacity, scale }) => {\n            // @ts-ignore\n            item.style.opacity = opacity;\n            // @ts-ignore\n            item.style.transform = `scale(${scale})`;\n        });\n    });\n}\n\n/**\n * Initialize app\n */\nconst initApp = async () => {\n    await loadData();\n\n    MobJs.inizializeApp({\n        rootId: '#root',\n        contentId: '#content',\n        wrapper,\n        routes,\n        index: 'home',\n        pageNotFound: 'pageNotFound',\n        beforePageTransition,\n        pageTransition,\n        afterInit: async () => {\n            await loaderTween.goTo({ opacity: 0, scale: 0.9 });\n            loaderTween.destroy();\n\n            // @ts-ignore\n            loaderTween = null;\n\n            jsMainLoader?.remove();\n            jsMainLoaderBackground?.remove();\n\n            // @ts-ignore\n            jsMainLoader = null;\n            // @ts-ignore\n            jsMainLoaderBackground = null;\n\n            getScrollbarWith();\n            redirectOnResize();\n        },\n        redirect: ({ route }) => {\n            return shouldRedirect() ? 'onlyDesktop' : route;\n        },\n        restoreScroll: true,\n        componentDefaultProps: {\n            scoped: false,\n            maxParseIteration: 10_000,\n            debug: false,\n        },\n    });\n};\n\n/**\n * Set default\n */\nMobCore.useLoad(() => {\n    setBrowserClass();\n\n    MobMotionCore.setDefault({\n        deferredNextTick: true,\n        usePassive: false,\n    });\n\n    // MobMotionCore.printDefault();\n\n    initApp();\n    usePageScroll();\n    // storeTest();\n});\n"],
  "mappings": "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AAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAAStB,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,YAAa,SACb,UAAW,GACX,QAAS,GACT,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASC,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,GACP,aAAc,EACd,YAAa,SACb,UAAW,GACX,QAAS,GACT,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASC,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,GACP,aAAc,EACd,YAAa,SACb,UAAW,GACX,QAAS,GACT,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASC,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASC,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASY,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,aAAc,EACd,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAAST,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,aAAc,EACd,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASY,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,aAAc,EACd,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASE,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,aAAc,EACd,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAAShB,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,aAAc,EACd,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASY,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,aAAc,EACd,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASF,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAAST,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASY,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,aAAc,EACd,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASI,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,GACP,YAAa,SACb,aAAc,EACd,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASd,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,GACP,YAAa,SACb,aAAc,EACd,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASC,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,YAAa,SACb,aAAc,GACd,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASC,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,YAAa,SACb,aAAc,GACd,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASU,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,EACJ,MAAO,IACP,YAAa,SACb,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAAST,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,GACJ,MAAO,IACP,YAAa,SACb,aAAc,GACd,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASC,CACb,CACJ,CACJ,EACA,SAAU,CAAC,CACf,EACA,CACI,MAAO,CACH,GAAI,GACJ,MAAO,IACP,YAAa,SACb,aAAc,EACd,UAAW,GACX,QAAS,GACT,OAAQ,IACR,UAAW,CACP,QAAS,gBACT,UAAW,yCACX,MAAO,CACH,QAASC,CACb,CAC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,OAAQkB,GACR,MAAO,CACH,OAAQ,8BACR,MAAO,SACP,YAAalB,GACb,QAAS,SACb,CACJ,EACA,CACI,KAAM,gBACN,OAAQkB,GACR,MAAO,CACH,OAAQ,6BACR,MAAO,QACP,YAAalB,GACb,QAAS,SACb,CACJ,EACA,CACI,KAAM,iBACN,OAAQkB,GACR,MAAO,CACH,OAAQ,8BACR,MAAO,QACP,YAAa,CAAC,EACd,QAAS,OACb,CACJ,EACA,CACI,KAAM,uBACN,OAAQA,GACR,MAAO,CACH,OAAQ,oCACR,MAAO,iBACP,YAAanB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,kBACN,OAAQmB,GACR,MAAO,CACH,OAAQ,+BACR,MAAO,YACP,YAAanB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,gBACN,OAAQmB,GACR,MAAO,CACH,OAAQ,6BACR,MAAO,UACP,YAAanB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,6BACN,OAAQoB,GACR,MAAO,CACH,cAAe,uBACf,YAAapB,GACb,OAAQ,0CACR,MAAO,gCACP,QAAS,OACb,CACJ,EACA,CACI,KAAM,gCACN,OAAQoB,GACR,MAAO,CACH,cAAe,0BACf,YAAapB,GACb,OAAQ,kDACR,MAAO,wCACP,QAAS,OACb,CACJ,EACA,CACI,KAAM,6BACN,OAAQoB,GACR,MAAO,CACH,cAAe,uBACf,YAAapB,GACb,OAAQ,0CACR,MAAO,gCACP,QAAS,OACb,CACJ,EACA,CACI,KAAM,uCACN,OAAQoB,GACR,MAAO,CACH,cAAe,iCACf,YAAapB,GACb,OAAQ,yDACR,MAAO,+CACP,QAAS,OACb,CACJ,EACA,CACI,KAAM,oCACN,OAAQoB,GACR,MAAO,CACH,cAAe,8BACf,YAAapB,GACb,OAAQ,iDACR,MAAO,4CACP,QAAS,OACb,CACJ,EACA,CACI,KAAM,wCACN,OAAQoB,GACR,MAAO,CACH,cAAe,qCACf,YAAapB,GACb,OAAQ,+CACR,MAAO,sCACP,QAAS,OACb,CACJ,EACA,CACI,KAAM,aACN,OAAQmB,GACR,MAAO,CACH,OAAQ,0BACR,MAAO,OACP,YAAanB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,cACN,OAAQmB,GACR,MAAO,CACH,OAAQ,2BACR,MAAO,QACP,YAAanB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,0BACN,OAAQmB,GACR,MAAO,CACH,OAAQ,uCACR,MAAO,oBACP,YAAanB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,cACN,OAAQmB,GACR,MAAO,CACH,OAAQ,2BACR,MAAO,QACP,YAAanB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,gBACN,aAAcF,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,8BACR,MAAO,UACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,iBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,+BACR,MAAO,WACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,iBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,+BACR,MAAO,WACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,oBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,kCACR,MAAO,cACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,iBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,+BACR,MAAO,WACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,cACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,2BACR,MAAO,QACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,oBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,kCACR,MAAO,cACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,sBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,oCACR,MAAO,gBACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,kBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,gCACR,MAAO,YACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,mBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,iCACR,MAAO,aACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,uBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,qCACR,MAAO,iBACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,iBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,+BACR,MAAO,WACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,mBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,iCACR,MAAO,aACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,oBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,iCACR,MAAO,aACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,gBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,6BACR,MAAO,cACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,wBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,wCACR,MAAO,kBACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,6BACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,8CACR,MAAO,uBACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,uBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,uCACR,MAAO,iBACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,0BACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,0CACR,MAAO,oBACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,aACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,0BACR,MAAO,OACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,gBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,6BACR,MAAO,kBACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,eACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,4BACR,MAAO,SACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,mBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,gCACR,MAAO,aACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,+BACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,4CACR,MAAO,yBACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,sBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,mCACR,MAAO,eACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,aACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,0BACR,MAAO,OACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,eACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,4BACR,MAAO,SACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,aACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,0BACR,MAAO,OACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,kBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,gCACR,MAAO,YACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,iBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,8BACR,MAAO,WACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,kBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,gCACR,MAAO,YACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,kBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,gCACR,MAAO,YACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,eACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,4BACR,MAAO,SACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,oBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,kCACR,MAAO,cACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,mBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,iCACR,MAAO,aACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,qBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,mCACR,MAAO,eACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,oBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,mCACR,MAAO,cACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,oBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,kCACR,MAAO,cACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,qBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,mCACR,MAAO,eACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,mBACN,aAAcD,EACd,OAAQuB,GACR,MAAO,CACH,OAAQ,gCACR,MAAO,YACP,YAAatB,GACb,QAAS,OACb,CACJ,EACA,CACI,KAAM,oBACN,OAAQoB,GACR,MAAO,CACH,OAAQ,iCACR,MAAO,UACP,YAAajB,GACb,QAAS,WACb,CACJ,EACA,CACI,KAAM,qBACN,OAAQiB,GACR,MAAO,CACH,OAAQ,kCACR,MAAO,WACP,YAAajB,GACb,QAAS,WACb,CACJ,EACA,CACI,KAAM,qBACN,OAAQiB,GACR,MAAO,CACH,OAAQ,kCACR,MAAO,YACP,YAAa,CAAC,EACd,QAAS,WACb,CACJ,EACA,CACI,KAAM,qBACN,OAAQA,GACR,MAAO,CACH,OAAQ,kCACR,MAAO,WACP,YAAajB,GACb,QAAS,WACb,CACJ,EACA,CACI,KAAM,sBACN,OAAQiB,GACR,MAAO,CACH,O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",
  "names": ["require_core", "__commonJSMin", "exports", "module", "deepFreeze", "obj", "name", "prop", "type", "Response", "mode", "escapeHTML", "value", "inherit$1", "original", "objects", "result", "key", "SPAN_CLOSE", "emitsWrappingTags", "node", "scopeToCSSClass", "prefix", "pieces", "x", "i", "HTMLRenderer", "parseTree", "options", "text", "className", "newNode", "opts", "TokenTree", "_TokenTree", "scope", "builder", "child", "el", "TokenTreeEmitter", "emitter", "source", "re", "lookahead", "concat", "anyNumberOfTimes", "optional", "args", "stripOptionsFromArgs", "either", "countMatchGroups", "startsWith", "lexeme", "match", "BACKREF_RE", "_rewriteBackreferences", "regexps", "joinWith", "numCaptures", "regex", "offset", "out", "MATCH_NOTHING_RE", "IDENT_RE", "UNDERSCORE_IDENT_RE", "NUMBER_RE", "C_NUMBER_RE", "BINARY_NUMBER_RE", "RE_STARTERS_RE", "SHEBANG", "beginShebang", "m", "resp", "BACKSLASH_ESCAPE", "APOS_STRING_MODE", "QUOTE_STRING_MODE", "PHRASAL_WORDS_MODE", "COMMENT", "begin", "end", "modeOptions", "ENGLISH_WORD", "C_LINE_COMMENT_MODE", "C_BLOCK_COMMENT_MODE", "HASH_COMMENT_MODE", "NUMBER_MODE", "C_NUMBER_MODE", "BINARY_NUMBER_MODE", "REGEXP_MODE", "TITLE_MODE", "UNDERSCORE_TITLE_MODE", "METHOD_GUARD", "END_SAME_AS_BEGIN", "MODES", "skipIfHasPrecedingDot", "response", "scopeClassName", "_parent", "beginKeywords", "parent", "compileIllegal", "compileMatch", "compileRelevance", "beforeMatchExt", "originalMode", "COMMON_KEYWORDS", "DEFAULT_KEYWORD_SCOPE", "compileKeywords", "rawKeywords", "caseInsensitive", "scopeName", "compiledKeywords", "compileList", "keywordList", "keyword", "pair", "scoreForKeyword", "providedScore", "commonKeyword", "seenDeprecations", "error", "message", "warn", "deprecated", "version", "MultiClassError", "remapScopeNames", "regexes", "scopeNames", "emit", "positions", "beginMultiClass", "endMultiClass", "scopeSugar", "MultiClass", "compileLanguage", "language", "langRe", "global", "MultiRegex", "terminators", "s", "matchData", "ResumableMultiRegex", "index", "matcher", "m2", "buildModeRegex", "mm", "term", "compileMode", "cmode", "ext", "keywordPattern", "c", "expandOrCloneMode", "dependencyOnParent", "variant", "HTMLInjectionError", "reason", "html", "escape", "inherit", "NO_MATCH", "MAX_KEYWORD_HITS", "HLJS", "hljs", "languages", "aliases", "plugins", "SAFE_MODE", "LANGUAGE_NOT_FOUND", "PLAINTEXT_LANGUAGE", "shouldNotHighlight", "languageName", "blockLanguage", "block", "classes", "getLanguage", "_class", "highlight", "codeOrLanguageName", "optionsOrCode", "ignoreIllegals", "code", "context", "fire", "_highlight", "codeToHighlight", "continuation", "keywordHits", "keywordData", "matchText", "processKeywords", "top", "modeBuffer", "lastIndex", "buf", "word", "data", "kind", "keywordRelevance", "relevance", "cssClass", "emitKeyword", "processSubLanguage", "continuations", "highlightAuto", "processBuffer", "emitMultiClass", "max", "klass", "startNewMode", "endOfMode", "matchPlusRemainder", "matched", "doIgnore", "resumeScanAtSamePosition", "doBeginMatch", "newMode", "beforeCallbacks", "cb", "doEndMatch", "endMode", "origin", "processContinuations", "list", "current", "item", "lastMatch", "processLexeme", "textBeforeMatch", "err", "processed", "iterations", "md", "beforeMatch", "processedCount", "justTextHighlightResult", "languageSubset", "plaintext", "results", "autoDetection", "sorted", "a", "b", "best", "secondBest", "updateClassName", "element", "currentLang", "resultLang", "highlightElement", "configure", "userOptions", "initHighlighting", "highlightAll", "initHighlightingOnLoad", "wantsHighlight", "boot", "registerLanguage", "languageDefinition", "lang", "error$1", "registerAliases", "unregisterLanguage", "alias", "listLanguages", "aliasList", "upgradePluginAPI", "plugin", "addPlugin", "removePlugin", "event", "deprecateHighlightBlock", "modules_exports", "__export", "ANIMATION_STOP_REJECT", "checkType", "createStore", "getFps", "getInstantFps", "getTime", "getTypeName", "getUnivoqueId", "mustMakeSomething", "normalizeWheel", "shouldMakeSomething", "store", "useCache", "debounceFuncion", "useFps", "useFrame", "useFrameIndex", "useLoad", "useMouseClick", "useMouseDown", "useMouseMove", "useMouseUp", "useMouseWheel", "useNextFrame", "useNextLoop", "useNextTick", "usePointerDown", "usePointerLeave", "usePointerMove", "usePointerOut", "usePointerOver", "usePointerUp", "useResize", "useScroll", "useScrollEnd", "useScrollImmediate", "useScrollStart", "useScrollThrottle", "useTouchEnd", "useTouchMove", "useTouchStart", "useVisibilityChange", "outerHeight", "element", "height", "style", "outerWidth", "width", "offset", "rect", "position", "isDescendant", "parent", "child", "node", "getTranslateValues", "element", "style", "matrix", "matrixType", "matrixValues", "isNode", "getUnivoqueId", "isVisibleInViewport", "element", "elementStyle", "rect", "baseElementLeft", "baseElementTop", "elementFromStartingPoint", "elementZIndex", "elementOverlappingZIndex", "clamp", "num", "lower", "upper", "setTimeOutQueque", "useNextLoop", "fn", "TYPE_IS_ANY", "UNTYPED", "STRING", "NUMBER", "OBJECT", "FUNCTION", "ARRAY", "BOOLEAN", "ELEMENT", "HTMLELEMENT", "NODELIST", "SET", "MAP", "storeType", "value", "getTypeName", "type", "checkType", "mapsAreEqual", "m1", "m2", "key", "setsAreEqual", "a", "b", "value", "arrayAreEquals", "elements", "x", "count1", "e", "count2", "objectAreEqual", "obj1", "obj2", "checkDataOrder", "_obj1", "_obj2", "obj1Props", "obj2Props", "prop", "val1", "val2", "checkEquality", "type", "oldValue", "newValue", "TYPE_IS_ANY", "ARRAY", "SET", "MAP", "STORE_SET", "STORE_UPDATE", "current_key_exports", "__export", "extractKeysFromArray", "extractkeyFromProp", "getCurrentDependencies", "getFirstCurrentDependencies", "initializeCurrentDependencies", "setCurrentDependencies", "current_computed_keys", "active", "initializeCurrentDependencies", "getCurrentDependencies", "getFirstCurrentDependencies", "setCurrentDependencies", "key", "extractkeyFromProp", "prop", "checkType", "extractKeysFromArray", "keys", "waitMap", "runCallbackQueqe", "callBackWatcher", "prop", "newValue", "oldValue", "validationValue", "instanceId", "currentProp", "fn", "wait", "queueByInstanceId", "shouldWait", "useNextLoop", "propsPerIdNow", "valueNow", "runCallbackQueqeAsync", "logStyle", "getLogStyle", "storeMap", "getStateFromMainMap", "id", "valueNow", "updateMainMap", "state", "removeStateFromMainMap", "storeDepthWarning", "data", "style", "storeSetWarning", "prop", "style", "storeSetPropValWarning", "val", "storeSetPropPropWarning", "storeSetPropTypeWarning", "type", "getTypeName", "storeSetObjectValWarning", "storeSetObjectPropWarning", "storeSetObjKeysWarning", "key", "storeSetObjDepthWarning", "storeSetObjTypeWarning", "subProp", "subVal", "storeGetPropWarning", "storeEmitWarning", "storeComputedKeyUsedWarning", "keys", "storeWatchWarning", "storeObjectIsNotAnyWarning", "CUSTOM_OBJECT", "maxDepth", "object", "storeType", "values", "value", "getDataRecursive", "data", "shouldRecursive", "p", "c", "key", "functionResult", "getPropRecursive", "prop", "fallback", "propParsed", "inizializeStoreData", "depth", "logStyle", "storeDepthWarning", "inizializeSpecificProp", "cloneValueOrGet", "checkType", "checkIfPropIsComputed", "instanceId", "state", "getStateFromMainMap", "callBackComputed", "isComputed", "currentProp", "setProp", "instanceId", "state", "prop", "val", "fireCallback", "useStrict", "type", "fnTransformation", "store", "fnValidate", "strict", "validationStatusObject", "skipEqual", "callBackWatcher", "bindInstanceBy", "logStyle", "getLogStyle", "isCustomObject", "TYPE_IS_ANY", "storeType", "storeSetPropValWarning", "storeSetPropPropWarning", "oldVal", "valueTransformed", "checkType", "storeSetPropTypeWarning", "isValidated", "checkEquality", "runCallbackQueqe", "addToComputedWaitLsit", "id", "setObj", "storeSetObjectValWarning", "storeSetObjectPropWarning", "valKeys", "propKeys", "item", "storeSetObjKeysWarning", "subProp", "subVal", "subValOld", "previous", "current", "typeResponse", "storeSetObjTypeWarning", "strictObjectResult", "strictCheck", "newValParsedByStrict", "key", "validateResult", "storeObjectIsNotAnyWarning", "oldObjectValues", "newObjectValues", "value", "maxDepth", "storeSetObjDepthWarning", "storeSetAction", "clone", "action", "storeSetWarning", "previousValue", "cloneValueOrGet", "valueParsed", "STORE_UPDATE", "storeSetEntryPoint", "getStateFromMainMap", "newState", "updateMainMap", "storeQuickSetEntrypoint", "mergeStoreFromBindInstance", "bindInstance", "currentState", "currentStore", "fireComputed", "computedPropsQueque", "callBackComputed", "computedFiltered", "keys", "storeMerged", "computedValues", "fn", "valuesToObject", "STORE_SET", "computedRunning", "useNextLoop", "storeComputedAction", "hasCircularDependecies", "currentProp", "currentKeys", "storeComputedKeyUsedWarning", "initializeCompuntedProp", "callback", "valuesObject", "storeComputedEntryPoint", "keysDetected", "initializeCurrentDependencies", "getCurrentDependencies", "inizializeValidation", "initialState", "store", "validationStatusObject", "previous", "current", "key", "value", "storeType", "inizializeAllProps", "instanceId", "item", "prop", "state", "getStateFromMainMap", "newState", "storeSetAction", "STORE_SET", "updateMainMap", "storeWatchAction", "state", "prop", "callback", "wait", "store", "callBackWatcher", "logStyle", "getLogStyle", "storeWatchWarning", "id", "getUnivoqueId", "unsubScribeWatch", "instanceId", "unsubscribeId", "getStateFromMainMap", "updateMainMap", "watchMobStore", "newState", "watchEntryPoint", "bindInstance", "unsubscribeBindInstance", "currentBindId", "storeMap", "unsubscribe", "inizializeInstance", "data", "dataDepth", "maxDepth", "inizializeStoreData", "getLogStyle", "inizializeSpecificProp", "UNTYPED", "value", "storeGet", "instanceId", "state", "getStateFromMainMap", "store", "storeGetEntryPoint", "bindInstance", "id", "previous", "current", "storeGetProp", "prop", "storeGetPropWarning", "getLogStyle", "storeGetPropEntryPoint", "currentBindId", "storeMap", "storeEmit", "instanceId", "prop", "state", "getStateFromMainMap", "store", "callBackWatcher", "validationStatusObject", "bindInstanceBy", "runCallbackQueqe", "addToComputedWaitLsit", "id", "storeEmitWarning", "getLogStyle", "storeEmitEntryPoint", "bindInstance", "currentBindId", "storeMap", "storeEmitAsync", "resolve", "runCallbackQueqeAsync", "storeEmitAsyncEntryPoint", "storeGetValidationEntryPoint", "instanceId", "state", "getStateFromMainMap", "validationStatusObject", "storeDebugStoreEntryPoint", "store", "storeDebugValidateEntryPoint", "storeDebugEntryPoint", "getProxiEntryPoint", "instanceId", "state", "storeMap", "bindInstance", "previousProxiObject", "store", "selfProxi", "target", "prop", "value", "checkIfPropIsComputed", "storeSetEntryPoint", "STORE_SET", "setCurrentDependencies", "updateMainMap", "bindedProxi", "id", "bindedProxiArray", "proxies", "currentProxi", "proxi", "addSelfIdToBindInstanceBy", "selfId", "bindId", "state", "getStateFromMainMap", "bindInstanceBy", "bindInstanceByUpdated", "updateMainMap", "removeSelfIdToBindInstanceBy", "id", "bindStoreEntryPoint", "value", "instanceId", "bindInstance", "ids", "checkType", "store", "bindInstanceUpdated", "destroyStoreEntryPoint", "instanceId", "state", "getStateFromMainMap", "unsubscribeBindInstance", "bindInstance", "unsubscribe", "id", "removeSelfIdToBindInstanceBy", "removeStateFromMainMap", "mobStore", "data", "instanceId", "getUnivoqueId", "initialState", "inizializeInstance", "stateUpdated", "inizializeValidation", "updateMainMap", "inizializeAllProps", "value", "bindStoreEntryPoint", "storeGetEntryPoint", "prop", "storeGetPropEntryPoint", "emit", "propParsed", "extractkeyFromProp", "checkIfPropIsComputed", "storeSetEntryPoint", "STORE_SET", "clone", "STORE_UPDATE", "getProxiEntryPoint", "storeQuickSetEntrypoint", "callback", "wait", "immediate", "unwatch", "watchEntryPoint", "useNextLoop", "storeEmitEntryPoint", "keys", "keysParsed", "extractKeysFromArray", "storeComputedEntryPoint", "storeEmitAsyncEntryPoint", "storeGetValidationEntryPoint", "storeDebugEntryPoint", "storeDebugStoreEntryPoint", "storeDebugValidateEntryPoint", "destroyStoreEntryPoint", "eventStore", "mobStore", "initialized", "callbacks", "handler", "value", "init", "addCallback", "cb", "id", "getUnivoqueId", "handleLoad", "normalizeWheel", "event", "sX", "sY", "pX", "pY", "getPageData", "type", "event", "touchEvent", "getClientData", "handleMouse", "eventType", "initialized", "callbacks", "usePassive", "eventStore", "handler", "init", "pageX", "pageY", "clientX", "clientY", "target", "mouseData", "spinYMaxValue", "spinXMaxValue", "spinX", "spinY", "pixelX", "pixelY", "normalizeWheel", "clamp", "value", "cb", "id", "getUnivoqueId", "handleMouseClick", "handleMouseDown", "handleTouchStart", "handleMouseMove", "handleTouchMove", "handleMouseUp", "handleTouchEnd", "handleMouseWheel", "cacheCoutner", "subscriberMap", "add", "el", "fn", "id", "getUnivoqueId", "item", "frameToSubstract", "update", "callBackObject", "frame", "currentFrame", "eventStore", "data", "remove", "clean", "get", "fire", "frameCounter", "value", "fireObject", "obj", "getCacheCounter", "updateFrameId", "maxFramecounter", "key", "newMap", "object", "handleCache", "initialized", "callbacks", "handler", "visibilityData", "value", "init", "addCb", "cb", "id", "getUnivoqueId", "handleVisibilityChange", "callbacks", "add", "cb", "priority", "fire", "time", "fps", "a", "b", "handleNextTick", "callbacks", "add", "callBack", "get", "callBackArray", "handleNextFrame", "indexCallbackMap", "updateKeys", "currentFrameLimit", "oldMapToArray", "index", "value", "fire", "currentFrame", "time", "fps", "callabacks", "item", "add", "callback", "frameIndex", "eventStore", "getAmountOfFrameToFire", "handleFrameIndex", "ANIMATION_STOP_REJECT", "catchAnimationReject", "loadFpsIsReady", "loadFps", "duration", "instantFps", "eventStore", "resolve", "frameTimes", "frameCursor", "numFrames", "totalFPS", "then", "frameCounter", "render", "now", "deltaTime", "rawFps", "fps", "averageFPS", "getTime", "defaultTimestep", "loadFps", "currentFrameLimit", "firstRunDuration", "frameIsRuning", "callback", "time", "getTime", "startTime", "rawTime", "timeElapsed", "lastTime", "timeLost", "isStopped", "fps", "maxFps", "frames", "fpsPrevTime", "currentFrame", "mustMakeSomethingIsActive", "shouldMakeSomethingIsActive", "mustMakeSomethingCheck", "shouldMakeSomethingCheck", "mustMakeSomethingStart", "shouldMakeSomethingStart", "handleVisibilityChange", "visibilityState", "catchAnimationReject", "eventStore", "initFrame", "nextTickFn", "handleFrameIndex", "handleCache", "handleNextTick", "handleNextFrame", "render", "timestamp", "frameDuration", "timeToSubsctract", "item", "useNextLoop", "defaultTimestep", "handleFrame", "cb", "arr", "debounceFuncion", "fn", "time", "timeout", "functionCall", "initialized", "callbacks", "debouceFunctionReference", "previousWindowHeight", "previousWindowWidth", "handler", "windowsHeight", "windowsWidth", "verticalResize", "horizontalResize", "resizeData", "value", "init", "debounceFuncion", "addCb", "cb", "id", "getUnivoqueId", "handleResize", "initialized", "callbacks", "UP", "DOWN", "prev", "val", "direction", "scrollData", "handler", "value", "init", "addCb", "cb", "id", "getUnivoqueId", "handleScrollImmediate", "initialized", "callbacks", "unsubscribe", "handler", "scrollData", "handleFrame", "handleNextTick", "value", "init", "handleScrollImmediate", "addCb", "cb", "id", "getUnivoqueId", "handleScroll", "throttle", "func", "limit", "lastFunc", "lastRan", "context", "args", "getTime", "initialized", "callbacks", "throttleFunctionReference", "unsubscribe", "handler", "scrollData", "handleFrame", "handleNextTick", "value", "init", "throttle", "eventStore", "handleScrollImmediate", "addCb", "cb", "id", "getUnivoqueId", "handleScrollThrottle", "unsubscribeScrollStart", "unsubscribeScrollEnd", "debouceFunctionReference", "handleScrollUtils", "type", "initialized", "callbacks", "isScrolling", "handler", "handleFrame", "handleNextTick", "scrollData", "value", "init", "debounceFuncion", "handleScrollImmediate", "scrollY", "cb", "id", "getUnivoqueId", "handleScrollStart", "handleScrollEnd", "handlePointer", "eventType", "initialized", "callbacks", "handler", "event", "value", "init", "cb", "id", "getUnivoqueId", "handlePointerOver", "handlePointerDown", "handlePointerMove", "handlePointerUp", "handlePointerOut", "handlePointerLeave", "createStore", "data", "mobStore", "getInstantFps", "eventStore", "getFps", "handleFrame", "mustMakeSomething", "shouldMakeSomething", "useFrame", "callback", "useNextTick", "handleNextTick", "useNextFrame", "handleNextFrame", "useFrameIndex", "frame", "handleFrameIndex", "useFps", "obj", "loadFps", "useLoad", "handleLoad", "useCache", "handleCache", "useResize", "handleResize", "useVisibilityChange", "handleVisibilityChange", "useMouseClick", "handleMouseClick", "useMouseDown", "handleMouseDown", "useTouchStart", "handleTouchStart", "useMouseMove", "handleMouseMove", "useTouchMove", "handleTouchMove", "useMouseUp", "handleMouseUp", "useTouchEnd", "handleTouchEnd", "useMouseWheel", "handleMouseWheel", "useScroll", "handleScroll", "useScrollImmediate", "handleScrollImmediate", "useScrollThrottle", "handleScrollThrottle", "useScrollStart", "handleScrollStart", "useScrollEnd", "handleScrollEnd", "usePointerOver", "handlePointerOver", "usePointerDown", "handlePointerDown", "usePointerMove", "handlePointerMove", "usePointerUp", "handlePointerUp", "usePointerOut", "handlePointerOut", "usePointerLeave", "handlePointerLeave", "store", "modules_exports", "__export", "afterRouteChange", "beforeRouteChange", "componentMap", "createComponent", "eventDelegationMap", "getActiveParams", "getActiveRoute", "getChildrenIdByName", "getComponentNameById", "getDebugMode", "getIdByInstanceName", "getNumberOfActiveInvalidate", "getNumberOfActiveRepeater", "getParentIdById", "getPropsFromParent", "getStateById", "getStateByName", "getTree", "inizializeApp", "loadUrl", "mainStore", "onRouteLoading", "removeAndDestroyById", "setStateById", "setStateByName", "staticProps", "tempDelegateEventMap", "tick", "updateStateByName", "useComponent", "useMethodArrayByName", "useMethodByName", "watchById", "MAIN_STORE_ACTIVE_ROUTE", "MAIN_STORE_ACTIVE_PARAMS", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "MAIN_STORE_AFTER_ROUTE_CHANGE", "MAIN_STORE_ROUTE_IS_LOADING", "MAIN_STORE_ASYNC_PARSER", "mainStore", "modules_exports", "MAIN_STORE_ACTIVE_ROUTE", "MAIN_STORE_ACTIVE_PARAMS", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "MAIN_STORE_AFTER_ROUTE_CHANGE", "MAIN_STORE_ROUTE_IS_LOADING", "MAIN_STORE_ASYNC_PARSER", "resetMainStoreAsyncParser", "beforeRouteChange", "callback", "mainStore", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "currentRoute", "currentTemplate", "nextRoute", "nextTemplate", "afterRouteChange", "MAIN_STORE_AFTER_ROUTE_CHANGE", "previousRoute", "previousTemplate", "onRouteLoading", "MAIN_STORE_ROUTE_IS_LOADING", "state", "getActiveRoute", "activeRoute", "getActiveParams", "activeParams", "componentMap", "repeatIdPlaceHolderMap", "setRepeaterComponentChildren", "componentId", "repeatId", "item", "repeatIdPlaceHolderMap", "componentChildren", "removeRepeaterComponentChildren", "id", "getRepeaterComponentChildren", "repeaterhasComponentChildren", "weakElementMap", "addElementToWeakElementMap", "element", "id", "getIdFromWeakElementMap", "setElementById", "id", "newElement", "item", "componentMap", "addElementToWeakElementMap", "getElementById", "getIdByElement", "element", "getIdFromWeakElementMap", "getElementsByKeyAndRepeatId", "keyValue", "repeatId", "getRepeaterComponentChildren", "getIdsByByRepeatId", "ATTR_IS_COMPONENT", "ATTR_COMPONENT_ID", "ATTR_BIND_TEXT_ID", "ATTR_BIND_OBJECT_ID", "ATTR_PROPS", "ATTR_BIND_PROPS", "ATTR_INSTANCENAME", "ATTR_COMPONENT_NAME", "ATTR_SLOT", "ATTR_CHILD_REPEATID", "ATTR_KEY", "ATTR_CURRENT_LIST_VALUE", "ATTR_REPEATER_PROP_BIND", "ATTR_BIND_EVENTS", "ATTR_WEAK_BIND_EVENTS", "ATTR_BIND_EFFECT", "ATTR_PARENT_ID", "ATTR_BIND_REFS_ID", "ATTR_BIND_REFS_NAME", "ATTR_INVALIDATE", "ATTR_MOBJS_REPEAT", "DEFAULT_CURRENT_REPEATER_STATE", "QUEQUE_TYPE_BINDPROPS", "QUEQUE_TYPE_REPEATER", "QUEQUE_TYPE_INVALIDATE", "repeatIdHostMap", "getRepeatParent", "id", "repeatIdPlaceHolderMap", "repeatIdHostMap", "host", "setRepeaterStateById", "id", "value", "item", "componentMap", "getFirstChildOfElementParentOfElement", "rootNode", "currentNode", "findFirstRepeaterElementWrap", "node", "getRepeaterStateById", "DEFAULT_CURRENT_REPEATER_STATE", "currentRepeaterState", "setRepeaterInnerWrap", "id", "repeatId", "element", "item", "componentMap", "repeaterParentElement", "getRepeatParent", "elementWrapper", "findFirstRepeaterElementWrap", "getRepeaterInnerWrap", "getChildrenIdByName", "id", "componentName", "child", "componentMap", "getOrderedChunkByCurrentRepeatValue", "children", "key", "current", "currentUnivoque", "useIndex", "currentParsed", "childrenRemapped", "items", "indexValue", "currentValue", "getRepeaterStateById", "item", "index", "currentItem", "prop", "childrenItem", "contentAttributeId", "DOMContentElement", "setContentId", "contentId", "setContentElement", "DOMContentElement", "contentAttributeId", "getContentElement", "instanceMap", "addIdToInstanceMap", "instanceName", "id", "idCollection", "removeIdFromInstanceMap", "idCollectionFiltered", "item", "getIdsFromInstanceMap", "getComponentNameById", "id", "component", "componentMap", "getComponentNameByElement", "element", "getIdFromWeakElementMap", "item", "getIdByInstanceName", "name", "getIdsFromInstanceMap", "getIdArrayByInstanceName", "componentIsPersistent", "id", "element", "componentMap", "getContentElement", "getTreeRecursive", "chunk", "previous", "current", "key", "value", "child", "componentName", "instanceName", "childrenId", "childrenChunk", "item", "componentMap", "getTree", "addMethodById", "id", "name", "fn", "item", "componentMap", "methods", "getMethodsById", "useMethodByName", "getIdByInstanceName", "useMethodArrayByName", "getIdArrayByInstanceName", "method", "walkPreOrder", "node", "child", "selectAll", "root", "firstOccurrence", "result", "queryAllFutureComponent", "firstOccurence", "userPlaceholder", "skipAddUserComponent", "addUserPlaceholder", "element", "removeUserPlaceholder", "getFirstUserChildPlaceHolder", "userComponent", "item", "getAllUserChildPlaceholder", "component", "getAllUserComponentUseNamedSlot", "getUserChildPlaceholderSize", "setSkipAddUserComponent", "value", "skipAddUserComponent", "getSkipAddUserComponent", "updateChildrenArray", "currentChild", "id", "componentName", "childGroupByName", "removeChildFromChildrenArray", "currentId", "addPropsToState", "props", "store", "key", "value", "getParentIdById", "id", "parentId", "componentMap", "addSelfIdToParentComponent", "item", "componentName", "value", "child", "updateChildrenArray", "addParentIdToFutureComponent", "element", "queryAllFutureComponent", "getAllUserChildPlaceholder", "component", "getParentIdFromWeakElementMap", "parentNode", "getIdFromWeakElementMap", "compareIdOrParentIdRecursive", "compareValue", "bindPropsMap", "bindComponentTobindId", "removeCurrentIdToBindProps", "componentId", "key", "value", "bindPropsMap", "currentComponentId", "watchById", "id", "prop", "cb", "wait", "componentMap", "staticPropsMap", "setStaticProps", "props", "id", "modules_exports", "getPropsFromParent", "removeOrphansPropsFromParent", "staticPropsMap", "staticProps", "props", "ATTR_PROPS", "setStaticProps", "clamp", "num", "lower", "upper", "detectProp", "prop", "modules_exports", "current_key_exports", "bindObjectMap", "bindObjectPlaceHolderMap", "addBindObjectPlaceHolderMap", "host", "componentId", "bindObjectId", "getBindObjectKeys", "values", "item", "detectProp", "current_key_exports", "renderBindObject", "strings", "accumulator", "currentText", "i", "addBindObjectParent", "id", "parentElement", "items", "itemsUpdated", "removeBindObjectByBindObjectId", "switchBindObjectMap", "placeholder", "removeBindObjectParentById", "getParentBindObject", "getBindObjectParentSize", "previous", "_", "createBindObjectWatcher", "id", "bindObjectId", "keys", "render", "watchIsRunning", "ref", "unsubScribeFunction", "state", "watchById", "modules_exports", "refElement", "getParentBindObject", "removeBindObjectByBindObjectId", "fn", "getStateById", "id", "componentMap", "bindTextMap", "bindTextPlaceHolderMap", "addBindTextPlaceHolderMap", "host", "componentId", "bindTextId", "arrayValuesFromProp", "value", "splitPropUntilSquare", "parsePropValue", "previous", "current", "arrayValues", "accumulator", "currentProp", "renderBindText", "id", "strings", "values", "props", "getStateById", "states", "prop", "currentText", "i", "addBindTextParent", "parentElement", "items", "itemsUpdated", "item", "removeBindTextByBindTextId", "switchBindTextMap", "placeholder", "removeBindTextParentById", "getParentBindText", "getBindTextParentSize", "_", "getBindTextPlaceholderSize", "createBindTextWatcher", "render", "watchIsRunning", "ref", "unsubScribeFunction", "state", "stateToWatch", "finalStateTowatch", "watchById", "modules_exports", "refElement", "fn", "invalidateFunctionMap", "invalidateIdPlaceHolderMap", "removeInvalidateId", "id", "invalidateFunctionMap", "value", "invalidateId", "invalidateIdPlaceHolderMap", "repeatFunctionMap", "removeRepeaterId", "id", "repeatFunctionMap", "value", "repeatId", "repeatIdPlaceHolderMap", "removeItselfFromParent", "id", "parentId", "componentName", "value", "componentMap", "child", "removeChildFromChildrenArray", "nonPersisitentComponentSet", "removeNonPersisitentComponent", "id", "nonPersisitentComponentSet", "removeAndDestroyById", "id", "instanceValue", "componentMap", "parentId", "componentName", "child", "element", "state", "destroy", "parentPropsWatcher", "componentRepeatId", "instanceName", "persistent", "childId", "removeItselfFromParent", "unwatch", "removeInvalidateId", "removeRepeaterId", "removeBindTextParentById", "removeBindObjectParentById", "removeRepeaterComponentChildren", "removeIdFromInstanceMap", "removeNonPersisitentComponent", "removeCurrentIdToBindProps", "getStateByName", "name", "id", "getIdByInstanceName", "getStateById", "freezePropById", "id", "prop", "item", "componentMap", "freezedPros", "unFreezePropById", "currentProp", "getFreezePropStatus", "setParentRepeater", "repeatId", "host", "item", "repeatIdPlaceHolderMap", "parent", "element", "repeatIdHostMap", "defineRepeatComponent", "getSkipAddUserComponent", "dataset", "host", "repeatId", "ATTR_MOBJS_REPEAT", "setParentRepeater", "invalidateIdHostMap", "setParentInvalidate", "invalidateId", "host", "item", "invalidateIdPlaceHolderMap", "parent", "invalidateIdHostMap", "defineInvalidateComponent", "dataset", "host", "invalidateId", "ATTR_INVALIDATE", "setParentInvalidate", "slotPlaceholder", "addSlotPlaceholder", "slot", "clearSlotPlaceHolder", "getUnamedPlaceholderSlot", "element", "hasSlot", "getSlotByName", "name", "getAllSlot", "getSlotPlaceholderSize", "defineSlotComponent", "#slotName", "dataset", "ATTR_COMPONENT_NAME", "host", "addSlotPlaceholder", "inMemoryElementSet", "addElementToInMemorySet", "element", "getInMemorySet", "cleanInMemorySet", "defineUserComponent", "componentList", "key", "value", "_connectedCallBack", "_disconnectedCallback", "_adoptedCallback", "_attributeChangedCallback", "style", "attributeToObserve", "#componentname", "#componentId", "#params", "#isPlaceholder", "#name", "#staticPropsId", "#dynamicPropsId", "#bindEventsId", "#dynamicPropsFromSlotId", "#propsFromSlotId", "#currentRepeatValueId", "#slotPosition", "#currentKey", "#parentId", "#componentRepeatId", "#delegateEventId", "#repeatPropBind", "#bindRefId", "#bindRefName", "modules_exports", "host", "skip", "getSkipAddUserComponent", "addElementToInMemorySet", "styleTag", "slot", "id", "data", "ATTR_INSTANCENAME", "ATTR_PROPS", "ATTR_BIND_PROPS", "ATTR_KEY", "ATTR_BIND_EVENTS", "ATTR_CURRENT_LIST_VALUE", "ATTR_SLOT", "ATTR_PARENT_ID", "ATTR_CHILD_REPEATID", "ATTR_WEAK_BIND_EVENTS", "ATTR_REPEATER_PROP_BIND", "ATTR_BIND_REFS_ID", "ATTR_BIND_REFS_NAME", "attribute", "addUserPlaceholder", "removeUserPlaceholder", "cleanInMemorySet", "name", "oldValue", "newValue", "defineBindTextComponent", "dataset", "host", "componentId", "ATTR_COMPONENT_ID", "bindTextId", "ATTR_BIND_TEXT_ID", "addBindTextPlaceHolderMap", "defineBindObjectComponent", "dataset", "host", "componentId", "ATTR_COMPONENT_ID", "bindObjectId", "ATTR_BIND_OBJECT_ID", "addBindObjectPlaceHolderMap", "componentListMap", "getComponentList", "availableComponent", "setComponentList", "previous", "current", "defineUserComponent", "defineSlotComponent", "defineInvalidateComponent", "defineRepeatComponent", "defineBindTextComponent", "defineBindObjectComponent", "useComponent", "components", "component", "checkIfStateIsExportable", "componentName", "propName", "getComponentList", "setStateById", "id", "prop", "value", "emit", "getFreezePropStatus", "item", "componentMap", "state", "componentName", "checkIfStateIsExportable", "setStateByName", "name", "id", "getIdByInstanceName", "prop", "value", "emit", "setStateById", "updateStateById", "id", "prop", "value", "emit", "clone", "getFreezePropStatus", "item", "componentMap", "state", "componentName", "checkIfStateIsExportable", "updateStateByName", "name", "id", "getIdByInstanceName", "prop", "value", "emit", "clone", "updateStateById", "defaultComponent", "setDefaultComponent", "obj", "getDefaultComponent", "getDebugMode", "debug", "createComponent", "tag", "component", "state", "bindStore", "exportState", "scoped", "connectedCallback", "disconnectedCallback", "adoptedCallback", "attributeToObserve", "attributeChangedCallback", "style", "child", "useComponent", "routeList", "indexPage", "pageNotFound", "setRouteList", "list", "getRouteByName", "routeName", "name", "setIndex", "getIndex", "setPageNotFound", "getPageNotFound", "selectAll", "root", "result", "node", "walkPreOrder", "queryComponentUseSlot", "child", "selectAll", "root", "result", "node", "walkPreOrder", "queryGenericSlot", "child", "selectAll", "root", "slotName", "node", "walkPreOrder", "querySecificSlot", "child", "result", "selectAll", "root", "node", "walkPreOrder", "queryUnNamedSlot", "child", "result", "currentRepeaterValueMap", "setComponentRepeaterState", "current", "id", "modules_exports", "getComponentRepeaterState", "DEFAULT_CURRENT_REPEATER_STATE", "value", "ELEMENT_TYPE_NODE", "ELEMENT_TYPE_TEXT", "ELEMENT_TYPE_MIX_NODE_TEXT", "ELEMENT_TYPE_NOT_VALID", "renderHtml", "getElementOrTextFromNode", "node", "childNodes", "ELEMENT_TYPE_NOT_VALID", "ELEMENT_TYPE_NODE", "ELEMENT_TYPE_MIX_NODE_TEXT", "textContent", "ELEMENT_TYPE_TEXT", "insertElementOrText", "parent", "itemObject", "position", "item", "type", "setRepeatAttribute", "components", "current", "index", "observe", "repeatId", "key", "component", "ATTR_CURRENT_LIST_VALUE", "setComponentRepeaterState", "ATTR_KEY", "ATTR_REPEATER_PROP_BIND", "ATTR_CHILD_REPEATID", "setRepeatAttributeFromInMemory", "cleanInMemorySet", "getNewElement", "element", "content", "debug", "getDefaultComponent", "template", "node", "removeOrphanSlot", "getAllSlot", "slot", "addToNamedSlot", "componentWithSlot", "queryComponentUseSlot", "component", "slotName", "getSlotByName", "executeConversion", "prevContent", "getElementOrTextFromNode", "newElement", "id", "delegateEventId", "bindRefId", "bindRefName", "unNamedSlot", "getUnamedPlaceholderSlot", "insertElementOrText", "ATTR_WEAK_BIND_EVENTS", "ATTR_BIND_REFS_ID", "ATTR_BIND_REFS_NAME", "ATTR_IS_COMPONENT", "convertToRealElement", "currentIterationCounter", "incrementCurrentIterationCounter", "getCurrentIterationCounter", "resetCurrentIterationCounter", "getParseSourceArray", "element", "currentSelectors", "componentToParse", "parseSourceArray", "query", "getFirstUserChildPlaceHolder", "setDestroyCallback", "cb", "id", "item", "componentMap", "onMountCallbackMap", "addOnMoutCallback", "id", "cb", "fireOnMountCallBack", "element", "destroyCallback", "setDestroyCallback", "awaitNextLoop", "resolve", "modules_exports", "queque", "maxQueuqueSize", "incrementTickQueuque", "props", "id", "modules_exports", "queueIsResolved", "tick", "debug", "previousResolve", "awaitNextLoop", "value", "resolve", "shouldFireEvent", "allowFireEvent", "preventFireEvent", "getFireEvent", "bindEventMap", "setBindEvents", "eventsData", "eventsDataParsed", "checkType", "id", "modules_exports", "applyBindEvents", "element", "componentId", "bindEventsId", "eventArray", "event", "eventName", "callback", "e", "getFireEvent", "preventFireEvent", "tick", "allowFireEvent", "currentRepeaterState", "getRepeaterStateById", "removeOrphansBindEvent", "setDynamicPropsWatch", "id", "unWatchArray", "item", "componentMap", "parentPropsWatcher", "unBind", "unwatch", "repeaterQueque", "repeaterQuequeIsEmpty", "maxQueuqueSize", "incrementRepeaterTickQueuque", "props", "id", "modules_exports", "queueIsResolved", "repeaterTick", "debug", "previousResolve", "awaitNextLoop", "value", "resolve", "invalidateQueque", "invalidateQuequeIsEmpty", "maxQueuqueSize", "incrementInvalidateTickQueuque", "props", "id", "modules_exports", "queueIsResolved", "invalidateTick", "debug", "previousResolve", "awaitNextLoop", "value", "resolve", "setBindProps", "data", "stateToWatch", "item", "detectProp", "current_key_exports", "modules_exports", "dataUpdated", "id", "bindPropsMap", "updateBindProp", "componentId", "observe", "props", "currentParentId", "fireCallback", "parentState", "getStateById", "parentStateKeys", "state", "componentMap", "currentRepeaterState", "getRepeaterStateById", "newProps", "key", "value", "setStateById", "addCurrentIdToBindProps", "propsId", "repeatPropBind", "bindComponentTobindId", "applyBindProps", "applyBindProps", "componentId", "repeatPropBind", "inizilizeWatcher", "moduleId", "bindComponentTobindId", "dynamicProps", "bindPropsMap", "observe", "props", "parentId", "observeParsed", "updateBindProp", "repeaterQuequeIsEmpty", "repeaterTick", "invalidateQuequeIsEmpty", "invalidateTick", "watchIsRunning", "unWatchArray", "state", "watchById", "decrementQueue", "incrementTickQueuque", "QUEQUE_TYPE_BINDPROPS", "modules_exports", "setDynamicPropsWatch", "item", "key", "value", "currentComponentId", "removeOrphansBindProps", "destroyComponentInsideNodeById", "id", "container", "child", "componentMap", "state", "element", "currentId", "removeAndDestroyById", "bindEffectMap", "getExplicitBind", "observe", "modules_exports", "item", "detectProp", "getAutoBind", "toggleClass", "toggleStyle", "toggleAttribute", "current_key_exports", "fn", "setBindEffect", "data", "id", "dataBindToArray", "univoqueId", "applyBindEffect", "element", "ATTR_BIND_EFFECT", "target", "watchBindEffect", "applyClass", "ref", "className", "applyStyle", "styleName", "applyAttribute", "attributeName", "value", "items", "unsubScribeFunction", "watchIsRunning", "state", "watchById", "getBindRefs", "element", "refs", "ATTR_BIND_REFS_ID", "initialValue", "previous", "current", "refId", "refName", "ATTR_BIND_REFS_NAME", "newRefsByName", "getRefsSorter", "a", "b", "mergeRefsAndOrder", "addBindRefsToComponent", "entries", "scopeId", "item", "componentMap", "previousRef", "newRefs", "getBindRefsById", "id", "refsUpdated", "name", "collection", "ref", "getBindRefById", "root", "setRoot", "element", "getRoot", "tempDelegateEventMap", "eventDelegationMap", "eventToAdd", "eventRegistered", "setDelegateBindEvent", "eventsData", "eventsDataParsed", "checkType", "id", "modules_exports", "findParentElementInMap", "target", "parent", "getItemFromTarget", "handleAction", "eventKey", "event", "getFireEvent", "preventFireEvent", "tick", "allowFireEvent", "targetParsed", "data", "currentEvent", "callback", "componentId", "getIdByElement", "currentRepeaterState", "getRepeaterStateById", "DEFAULT_CURRENT_REPEATER_STATE", "applyDelegationBindEvent", "root", "repeaterTick", "invalidateTick", "ATTR_WEAK_BIND_EVENTS", "element", "dataParsed", "item", "current", "rootElement", "getRoot", "MODULE_REPEATER", "MODULE_INVALIDATE", "getRepeatOrInvalidateInsideElement", "element", "skipInitialized", "onlyInitialized", "componentId", "module", "entries", "repeatIdPlaceHolderMap", "invalidateIdPlaceHolderMap", "result", "item", "_id", "currentElement", "initialized", "scopeId", "compareIdOrParentIdRecursive", "id", "parent", "removeRepeatByRepeatId", "id", "repeatId", "repeatFunctionMap", "value", "valueParsed", "item", "repeatIdPlaceHolderMap", "destroyNestedRepeat", "id", "repeatParent", "repeatChildToDelete", "getRepeatOrInvalidateInsideElement", "MODULE_REPEATER", "value", "repeatFunctionMap", "repeatId", "unsubscribe", "current", "removeRepeatByRepeatId", "inizializeNestedRepeat", "repeatParent", "id", "newRepeatChild", "getRepeatOrInvalidateInsideElement", "MODULE_REPEATER", "value", "repeatFunctionMap", "repeatId", "fn", "current", "addInvalidateUnsubcribe", "id", "invalidateId", "unsubscribe", "item", "invalidateFunctionMap", "removeInvalidateByInvalidateId", "id", "invalidateId", "invalidateFunctionMap", "value", "valueParsed", "item", "invalidateIdPlaceHolderMap", "destroyNestedInvalidate", "id", "invalidateParent", "invalidatechildToDelete", "getRepeatOrInvalidateInsideElement", "MODULE_INVALIDATE", "value", "invalidateFunctionMap", "invalidateId", "unsubscribe", "current", "fn", "removeInvalidateByInvalidateId", "getInvalidateParent", "id", "invalidateIdPlaceHolderMap", "invalidateIdHostMap", "host", "inizializeNestedInvalidate", "invalidateParent", "id", "newInvalidateChild", "getRepeatOrInvalidateInsideElement", "MODULE_INVALIDATE", "value", "invalidateFunctionMap", "invalidateId", "fn", "current", "inizializeInvalidateWatch", "observe", "beforeUpdate", "afterUpdate", "watch", "id", "invalidateId", "persistent", "renderFunction", "watchIsRunning", "fallBackParentId", "getParentIdFromWeakElementMap", "getInvalidateParent", "unsubScribeArray", "state", "freezePropById", "invalidateParent", "descrementQueue", "incrementTickQueuque", "QUEQUE_TYPE_INVALIDATE", "decrementInvalidateQueque", "incrementInvalidateTickQueuque", "modules_exports", "unFreezePropById", "destroyNestedInvalidate", "destroyNestedRepeat", "destroyComponentInsideNodeById", "mainStore", "MAIN_STORE_ASYNC_PARSER", "resetMainStoreAsyncParser", "inizializeNestedInvalidate", "inizializeNestedRepeat", "addInvalidateUnsubcribe", "parseObserveInvalidate", "observeProp", "modules_exports", "item", "detectProp", "setInvalidateFunction", "id", "invalidateId", "fn", "currentFunctions", "invalidateFunctionMap", "setInvalidatePlaceholderMapInitialized", "invalidateId", "item", "invalidateIdPlaceHolderMap", "setInvalidatePlaceholderMapScopedId", "invalidateId", "scopeId", "invalidateIdPlaceHolderMap", "addRepeatUnsubcribe", "id", "repeatId", "unsubscribe", "item", "repeatFunctionMap", "activeRepeatMap", "addActiveRepeat", "id", "state", "container", "removeActiveRepeat", "repeat", "getActiveRepeater", "getItemToRemoveByKey", "current", "previous", "key", "el", "value", "a", "mixPreviousAndCurrentData", "index", "arrayhaskey", "arr", "item", "modules_exports", "listKeyExist", "getUnivoqueByKey", "data", "v", "i", "v2", "chunkIdsByCurrentValue", "children", "previousChildren", "initialState", "getRepeaterStateById", "indexParsed", "values", "getRepeaterPlaceholderCurrentData", "repeatId", "item", "repeatIdPlaceHolderMap", "REPEAT_PROXI_INDEX", "getRepeatProxi", "observe", "hasKey", "key", "keyValue", "index", "repeatId", "inistalState", "getRepeaterPlaceholderCurrentData", "startValue", "item", "currentValue", "lastValue", "_", "prop", "current_key_exports", "state", "maxValue", "indexByKey", "clamp", "updateRepeaterWitoutKey", "diff", "current", "previousLenght", "render", "state", "repeatId", "range", "_item", "index", "initialValue", "initialIndex", "proxiObject", "getRepeatProxi", "rawRender", "lastSkipUserValue", "getSkipAddUserComponent", "setSkipAddUserComponent", "fragment", "components", "queryAllFutureComponent", "element", "setRepeatAttribute", "setRepeatAttributeFromInMemory", "getInMemorySet", "getSyncWithoutKey", "ATTR_CURRENT_LIST_VALUE", "setComponentRepeaterState", "ATTR_REPEATER_PROP_BIND", "ATTR_CHILD_REPEATID", "updateRepeaterWithoutKeyUseSync", "updateRepeaterWithtKey", "currentValue", "key", "keyValue", "getSyncWithKey", "ATTR_KEY", "updateRepeaterWithtKeyUseSync", "currentValueCopy", "getRenderWithoutSync", "currentUnique", "observe", "hasKey", "item", "getRenderWithSync", "sync", "setRepeaterNativeDOMChildren", "repeatId", "id", "observe", "item", "repeatIdPlaceHolderMap", "element", "children", "stateByProp", "getStateById", "child", "index", "getRepeaterNativeDOMChildren", "nativeDOMChildren", "setRepeaterPlaceholderCurrentData", "repeatId", "currentData", "item", "repeatIdPlaceHolderMap", "addDebugToComponent", "element", "container", "componentName", "getComponentNameByElement", "addWithKey", "state", "current", "previous", "repeaterParentElement", "key", "id", "render", "repeatId", "useSync", "currentUnique", "getUnivoqueByKey", "setRepeaterPlaceholderCurrentData", "currentItemToRemoveByKey", "getItemToRemoveByKey", "componentsToRemoveByKey", "item", "keyValue", "getElementsByKeyAndRepeatId", "shouldRemoveComponent", "firstOccurrence", "firstCurrentId", "elementWrapper", "getRepeaterInnerWrap", "nestedParent", "destroyNestedInvalidate", "destroyNestedRepeat", "removeAndDestroyById", "getRepeaterNativeDOMChildren", "currentElement", "destroyComponentInsideNodeById", "newSequenceByKey", "mixPreviousAndCurrentData", "isNewElement", "index", "wrapperParsed", "persistentElement", "persistentDOMwrapper", "debug", "getDefaultComponent", "currentValue", "currentRender", "updateRepeaterWithtKeyUseSync", "updateRepeaterWithtKey", "removeMissedDebugComment", "container", "lastElementChild", "node", "nextNode", "addWithoutKey", "state", "current", "previous", "repeaterParentElement", "render", "repeatId", "id", "useSync", "currentChildren", "setRepeaterPlaceholderCurrentData", "currentLenght", "previousLenght", "diff", "currentRender", "updateRepeaterWithoutKeyUseSync", "updateRepeaterWitoutKey", "element", "childrenComponentChunkedByWrapper", "chunkIdsByCurrentValue", "_child", "i", "childArray", "childId", "getElementById", "elementWrapper", "getRepeaterInnerWrap", "nestedParent", "destroyNestedInvalidate", "destroyNestedRepeat", "removeAndDestroyById", "debug", "getDefaultComponent", "childrenFromRepeater", "getRepeaterNativeDOMChildren", "index", "item", "currentElement", "destroyComponentInsideNodeById", "updateRepeater", "state", "persistent", "repeaterParentElement", "current", "previous", "key", "id", "fallBackParentId", "render", "repeatId", "useSync", "currentChildren", "currentUnivoque", "listKeyExist", "addWithKey", "addWithoutKey", "mainStore", "MAIN_STORE_ASYNC_PARSER", "resetMainStoreAsyncParser", "watchRepeat", "state", "setState", "persistent", "watch", "clean", "beforeUpdate", "afterUpdate", "key", "id", "repeatId", "render", "useSync", "mainComponent", "getElementById", "parentByElement", "getRepeatParent", "fallBackParentId", "getParentIdFromWeakElementMap", "current", "previous", "modules_exports", "repeaterParentElement", "descrementQueue", "incrementTickQueuque", "QUEQUE_TYPE_REPEATER", "descrementRepeaterQueue", "incrementRepeaterTickQueuque", "freezePropById", "getActiveRepeater", "unFreezePropById", "childrenBeforeUdateByRepeatId", "getIdsByByRepeatId", "removeAndDestroyById", "addActiveRepeat", "currentUpdated", "updateRepeater", "childrenFilteredByRepeatId", "hasKey", "childrenChunkedByWrapper", "chunkIdsByCurrentValue", "chunkChildrenOrdered", "getOrderedChunkByCurrentRepeatValue", "childArray", "index", "currentValue", "realIndex", "value", "setRepeaterStateById", "removeActiveRepeat", "inizializeNestedInvalidate", "inizializeNestedRepeat", "setRepeaterNativeDOMChildren", "inizializeRepeatWatch", "repeatId", "persistent", "state", "setState", "emit", "watch", "clean", "beforeUpdate", "afterUpdate", "key", "id", "render", "useSync", "unsubscribe", "watchRepeat", "addRepeatUnsubcribe", "setRepeatFunction", "id", "repeatId", "fn", "currentFunctions", "repeatFunctionMap", "setRepeaterPlaceholderMapInitialized", "repeatId", "item", "repeatIdPlaceHolderMap", "setRepeaterPlaceholderDOMRender", "repeatId", "initialDOMRender", "item", "repeatIdPlaceHolderMap", "initializeRepeaterPlaceholderMap", "repeatId", "scopeId", "repeatIdPlaceHolderMap", "getParamsForComponentFunction", "getState", "setState", "updateState", "getProxi", "emit", "emitAsync", "computed", "watch", "id", "key", "bindEventsId", "debug", "attachTo", "component", "position", "clean", "destroyComponentInsideNodeById", "mainStore", "MAIN_STORE_ASYNC_PARSER", "componentIsPersistent", "resetMainStoreAsyncParser", "componentName", "getChildrenIdByName", "prop", "bindParsed", "detectProp", "freezePropById", "unFreezePropById", "unBind", "data", "dataNormalized", "ATTR_BIND_PROPS", "setBindProps", "obj", "ATTR_PROPS", "setStaticProps", "removeAndDestroyById", "element", "getParentIdById", "cb", "unsubscribeParent", "watchById", "setDynamicPropsWatch", "addOnMoutCallback", "eventsData", "ATTR_BIND_EVENTS", "setBindEvents", "ATTR_WEAK_BIND_EVENTS", "setDelegateBindEvent", "effectData", "ATTR_BIND_EFFECT", "setBindEffect", "name", "fn", "addMethodById", "value", "ATTR_BIND_REFS_ID", "ATTR_BIND_REFS_NAME", "getBindRefById", "getBindRefsById", "strings", "values", "bindTextId", "modules_exports", "render", "renderBindText", "createBindTextWatcher", "ATTR_COMPONENT_ID", "ATTR_BIND_TEXT_ID", "keys", "getBindObjectKeys", "bindObjectId", "renderBindObject", "createBindObjectWatcher", "ATTR_BIND_OBJECT_ID", "observe", "beforeUpdate", "afterUpdate", "observeParsed", "parseObserveInvalidate", "invalidateId", "sync", "ATTR_INVALIDATE", "invalidateRender", "isInizialized", "setInvalidatePlaceholderMapScopedId", "setInvalidateFunction", "inizializeInvalidateWatch", "setInvalidatePlaceholderMapInitialized", "useSync", "repeatId", "hasKey", "initializeRepeaterPlaceholderMap", "initialState", "currentUnique", "getUnivoqueByKey", "setRepeaterPlaceholderCurrentData", "initialStringRender", "getRenderWithSync", "initialDOMRender", "getRenderWithoutSync", "setRepeaterPlaceholderDOMRender", "setRepeatFunction", "inizializeRepeatWatch", "setRepeaterPlaceholderMapInitialized", "repeaterhasComponentChildren", "setRepeaterNativeDOMChildren", "ATTR_MOBJS_REPEAT", "filterExportableStateFromObject", "componentName", "currentProps", "exportableState", "getComponentList", "key", "previous", "current", "value", "getParamsFromWebComponent", "element", "parentIdForced", "id", "instanceName", "parentIdFromWebComponent", "parentId", "getParentIdFromWeakElementMap", "propsId", "dynamicPropsId", "bindEventsId", "currentRepeaterValueId", "componentRepeatId", "key", "componentName", "cleanProsId", "propsFromParent", "getPropsFromParent", "baseProps", "repeatPropBind", "currentRepeatValue", "getComponentRepeaterState", "filterExportableStateFromObject", "addNonPersisitentComponent", "id", "nonPersisitentComponentSet", "addComponentToStore", "element", "instanceName", "props", "state", "bindStore", "methods", "key", "currentRepeaterState", "DEFAULT_CURRENT_REPEATER_STATE", "repeaterInnerWrap", "repeatPropBind", "componentRepeatId", "parentPropsWatcher", "refs", "destroy", "freezedPros", "persistent", "child", "parentId", "id", "componentName", "store", "modules_exports", "addPropsToState", "addNonPersisitentComponent", "setRepeaterComponentChildren", "addIdToInstanceMap", "componentMap", "prop", "value", "emit", "getFreezePropStatus", "updateFunction", "clone", "fn", "keys", "cb", "wait", "immediate", "getInvalidateFunctions", "id", "invalidateFunctionMap", "getRepeatFunctions", "id", "repeatFunctionMap", "parseComponentsWhile", "element", "persistent", "parentIdForced", "componentList", "getComponentList", "functionToFireAtTheEnd", "result", "getParseSourceArray", "currentSelectors", "componentToParse", "componentToParseName", "userFunctionComponent", "componentParams", "scoped", "bindStore", "props", "id", "componentName", "instanceName", "key", "dynamicPropsId", "currentRepeatValue", "bindEventsId", "parentId", "componentRepeatId", "repeatPropBind", "getParamsFromWebComponent", "state", "getState", "setState", "updateState", "getProxi", "emit", "emitAsync", "computed", "watch", "debug", "addComponentToStore", "addSelfIdToParentComponent", "setRepeaterStateById", "setRepeaterInnerWrap", "addCurrentIdToBindProps", "objectFromComponentFunction", "getParamsForComponentFunction", "content", "classList", "newElement", "convertToRealElement", "clearSlotPlaceHolder", "setElementById", "invalidateFunctions", "getInvalidateFunctions", "repeatFunctions", "getRepeatFunctions", "applyBindEvents", "shoulBeScoped", "getDefaultComponent", "fireOnMountCallBack", "applyBindProps", "fn", "parseLimitReached", "getCurrentIterationCounter", "incrementCurrentIterationCounter", "bindRefs", "getBindRefs", "addBindRefsToComponent", "item", "onMount", "initializeBindPropsWatcher", "fireInvalidateFunction", "fireRepeatFunction", "applyDelegationBindEvent", "applyBindEffect", "switchBindTextMap", "switchBindObjectMap", "parseComponents", "element", "persistent", "parentIdForced", "parseComponentsWhile", "resetCurrentIterationCounter", "initParseWatcher", "mainStore", "MAIN_STORE_ASYNC_PARSER", "parentId", "HISTORY_BACK", "HISTORY_NEXT", "historyBack", "historyNext", "deleteLastHistoryBack", "deleteLastHistoryNext", "setHistoryBack", "value", "setHistoryNext", "resetNext", "historyBackSize", "getLastHistoryBack", "getPenultimateHistoryNext", "getLastHistoryNext", "getLastHistory", "direction", "HISTORY_BACK", "removeOrphanTempIds", "removeOrphansPropsFromParent", "removeOrphansBindEvent", "removeOrphansBindProps", "pageTransition", "beforePageTransition", "setBeforePageTransition", "fn", "setPageTransition", "getBeforePageTransition", "getPageTransition", "restoreScroll", "setRestoreScroll", "value", "getRestoreScroll", "removeCancellableComponent", "id", "nonPersisitentComponentSet", "removeAndDestroyById", "loadRoute", "route", "templateName", "restoreScroll", "params", "scrollY", "skipTransition", "mainStore", "MAIN_STORE_ROUTE_IS_LOADING", "tick", "contentElement", "getContentElement", "fromRoute", "MAIN_STORE_BEFORE_ROUTE_CHANGE", "skip", "unWatchRouteChange", "removeOrphanTempIds", "MAIN_STORE_ACTIVE_ROUTE", "MAIN_STORE_ACTIVE_PARAMS", "routeObejct", "getRouteByName", "props", "content", "beforePageTransition", "getBeforePageTransition", "clone", "removeCancellableComponent", "parseComponents", "MAIN_STORE_AFTER_ROUTE_CHANGE", "getRestoreScroll", "pageTransition", "getPageTransition", "redirectFunction", "route", "setRedirectFunction", "fn", "tryRedirect", "newRoute", "getRouteModule", "url", "index", "getIndex", "pageNotFound", "getPageNotFound", "getRouteByName", "getTemplateName", "getRestoreScrollVale", "previousHash", "previousParamsToPush", "currentStringParams", "currentSkipTransition", "historyDirection", "previousHistory", "currentHistory", "sanitizeParams", "value", "sanitizeHash", "getParams", "previous", "current", "currentParams", "key", "convertObjectParamsToString", "params", "index", "hashHandler", "historyObejct", "modules_exports", "originalHash", "routeIsLoading", "mainStore", "currentRoute", "isRedirect", "tryRedirect", "parts", "search", "hash", "paramsToPush", "setHistoryBack", "HISTORY_BACK", "setHistoryNext", "HISTORY_NEXT", "getLastHistoryNext", "loadRoute", "getRouteModule", "getTemplateName", "getRestoreScrollVale", "getLastHistory", "router", "event", "historyBackSize", "resetNext", "loadUrl", "url", "skipTransition", "objectParams", "stringParams", "urlsParams", "inizializeApp", "rootId", "wrapper", "contentId", "routes", "afterInit", "redirect", "route", "index", "pageNotFound", "beforePageTransition", "pageTransition", "restoreScroll", "componentDefaultProps", "setDefaultComponent", "rootEl", "wrapperDOM", "setRedirectFunction", "setContentId", "setRoot", "setPageTransition", "setBeforePageTransition", "setRestoreScroll", "initParseWatcher", "setComponentList", "setRouteList", "setIndex", "setPageNotFound", "setContentElement", "parseComponents", "modules_exports", "router", "getNumberOfActiveInvalidate", "invalidateIdPlaceHolderMap", "getNumberOfActiveRepeater", "repeatIdPlaceHolderMap", "core_exports", "__export", "clamp", "getDefault", "mq", "printDefault", "setDefault", "springPresetConfig", "easeReference", "MQ_MIN", "MQ_MAX", "defaultMqValueDefault", "easeDefault", "springConfigDefault", "mqDefault", "sequencerDurationDefault", "lerpConfigDefault", "markerStartDefault", "markerItemDefault", "scrollerRangeDefault", "scrollerTweenDurationDefault", "tweenDurationDefault", "tweenRealtiveDefault", "springRealtiveDefault", "lerpRelativeDefault", "lerpPrecisionDefault", "lerpVelocityDefault", "setupValidation", "obj", "deferredNextTick", "checkSetUpType", "modules_exports", "usePassive", "throttle", "mq", "checkSetUpMq", "defaultMqValue", "defaultMqType", "sequencerDuration", "sequencerEase", "checkSetUpEase", "scrollTriggerSpringConfig", "scrollTriggerLerpConfig", "scrollTriggerMarkerEnd", "scrollTriggerMarkerItem", "scrollerRange", "scrollerSpringConfig", "scrollerLerpConfig", "scrollerTweenDuration", "scrollerTweenEase", "tweenDuration", "tweenEase", "tweenRelative", "springRelative", "lerpRelative", "lerpPrecision", "lerpVelocity", "springPresetConfig", "prop", "value", "defaultValue", "type", "isValid", "label", "mergeDeep", "target", "source", "isMergingArrays", "obj", "cloneObj", "isObject", "key", "targetValue", "sourceValue", "x", "i", "getData", "modules_exports", "mqDefault", "defaultMqValueDefault", "MQ_MIN", "sequencerDurationDefault", "easeDefault", "springConfigDefault", "lerpConfigDefault", "markerStartDefault", "markerItemDefault", "scrollerRangeDefault", "scrollerTweenDurationDefault", "tweenDurationDefault", "tweenRealtiveDefault", "springPresetConfig", "handleSetUp", "data", "obj", "setupValidation", "mergeDeep", "prop", "max", "breakpoint", "handleSetUp", "min", "getBreackpoint", "mq", "getRoundedValue", "x", "modules_exports", "e", "clamp", "num", "min", "max", "lerp", "start", "end", "amt", "compareKeys", "a", "b", "aKeys", "bKeys", "element", "index", "sliceIntoChunks", "arr", "chunkSize", "res", "i", "chunk", "arrayColumn", "n", "setDefault", "props", "handleSetUp", "getDefault", "prop", "printDefault", "mq", "action", "breakpoint", "tween_exports", "__export", "createLerp", "createMasterSequencer", "createScrollerTween", "createSequencer", "createSpring", "createStaggers", "createTimeTween", "setFromByCurrent", "arr", "item", "setFromCurrentByTo", "setFromToByCurrent", "setReverseValues", "obj", "keysTorevert", "fromValue", "toValue", "setRelative", "relative", "setRelativeTween", "arr", "relative", "item", "DIRECTION_ROW", "DIRECTION_COL", "DIRECTION_RADIAL", "STAGGER_START", "STAGGER_END", "STAGGER_CENTER", "STAGGER_EDGES", "STAGGER_RANDOM", "MERGE_FROM_UP", "MERGE_FROM_DOWN", "STAGGER_TYPE_EQUAL", "STAGGER_TYPE_START", "STAGGER_TYPE_END", "STAGGER_TYPE_CENTER", "STAGGER_DEFAULT_OBJ", "STAGGER_DEFAULT_INDEX_OBJ", "MobScrollerConstant", "possibleChoice", "choice", "item", "compareKeysWarning", "label", "fromObj", "toObj", "staggerIsOutOfRangeWarning", "max", "dataTweenValueIsNotValidWarning", "sequencerRangeStartWarning", "val", "sequencerRangeEndWarning", "relativePropInsideTimelineWarning", "timelineSuspendWarning", "timelineReverseGoFromWarning", "timelineSetTweenArrayWarining", "items", "timelineSetTweenLabelWarining", "timelineSetTweenLabelNotFoundWarining", "timelineSetTweenFailWarining", "syncTimelineLabelWarning", "syncTimelineAddFnWarning", "fn", "syncTimelineAddTimeWarning", "time", "springPresetWarning", "preset", "springConfigPropWarning", "springConfigSpecificPropWarning", "config", "tweenEaseWarning", "staggerEachWarning", "staggerRowColGenericWarining", "staggerWaitCompleteWarning", "staggerGridDirectionWarning", "staggerColRowWarning", "staggerFromGenericWarning", "from", "durationWarining", "value", "durationNumberOrFunctionWarining", "repeatWarining", "initialDataPropWarining", "prop", "initialDataValueWarining", "value", "createStaggerItemsWarning", "createStaggerItemsTypeWarning", "createStaggerTypeWarning", "STAGGER_TYPE_EQUAL", "STAGGER_START", "STAGGER_TYPE_END", "STAGGER_TYPE_CENTER", "createStaggerEachWarning", "eachProportion", "relativeWarining", "val", "tweenType", "booleanWarning", "label", "stringWarning", "naumberWarning", "functionWarning", "lerpVelocityWarining", "lerpPrecisionWarining", "asyncTimelineMetodsInsideGroupWarining", "methodName", "valueStringWarning", "asyncTimelineTweenWaring", "asyncTimelineDelayWarning", "playLabelWarining", "addAsyncFunctionWarining", "scrollerDirectionWarining", "component", "MobScrollerConstant", "scrollerDynmicValueWarining", "scrollerDynmicRangeValueWarining", "scrollerTweenWarning", "scrollerAlignWarining", "choice", "possibleChoice", "scrollerOnSwitchWarining", "scrollerOpacityWarning", "scrollerTypeWarining", "scrollerPropiertiesWarining", "scrollerEaseTypeWarining", "genericEaseTypeWarining", "scrollerEaseTypeSpringWarining", "scrollerSpringCongifWarining", "scrollerRangeNumberWarning", "scrollerRangeStringWarning", "breakpointWarning", "mq", "scrollerUseSequencerWarining", "scrollerLerpConfigWarning", "scrollerNoTweenDefinedWarning", "scrollerUseTweenButNotProsDefinedWarning", "functionIsValidAndReturnDefaultWarining", "scrollTriggerRangeWarning", "string", "properties", "scrollTriggerCustomRangeWarning", "scrollTriggerRangeScaleWarning", "tweenConfig", "easeReference", "elapsed", "initialValue", "amountOfChange", "duration", "s", "p", "a", "getTweenFn", "prop", "tweenConfig", "tweenEaseWarning", "handleSetUp", "escapeRegExp", "text", "checkIfIsOnlyNumberPositiveNegative", "pattern", "checkIfIsOnlyNumber", "exactMatchInsensitive", "string", "regex", "exactMatchInsesitiveNumberProp", "exactMatchInsesitiveNumberPropArray", "arr", "unitMisure", "exactMatchInsesitivePropArray", "getPropiertiesValueFromConstant", "value", "exactMatchInsensitive", "MobScrollerConstant", "getStartEndUnitMisure", "pattern", "exactMatchInsesitiveNumberProp", "getScrollerPositionFromContanst", "position", "getRangeUnitMisure", "string", "dataTweenValueIsValid", "val", "modules_exports", "sequencerRangeValidate", "start", "end", "startIsValid", "endIsValid", "sequencerRangeStartWarning", "sequencerRangeEndWarning", "durationIsValid", "duration", "isValid", "durationWarining", "handleSetUp", "repeatIsValid", "repeat", "repeatWarining", "easeIsValid", "ease", "tweenConfig", "tweenEaseWarning", "easeScrollerTweenIsValid", "getTweenFn", "initialDataPropValidate", "prop", "value", "propIsValid", "valueIsValid", "initialDataPropWarining", "initialDataValueWarining", "validateStaggerEach", "each", "eachIsValid", "staggerEachWarning", "validateStaggerFrom", "from", "fromIsAValidString", "STAGGER_START", "STAGGER_END", "STAGGER_CENTER", "STAGGER_EDGES", "STAGGER_RANDOM", "fromIsANumber", "fromIsAValidObject", "fromIsValid", "staggerFromGenericWarning", "validateStaggerColRow", "valIsValid", "staggerRowColGenericWarining", "validateStaggerDirection", "direction", "directionisValid", "DIRECTION_RADIAL", "DIRECTION_ROW", "DIRECTION_COL", "staggerGridDirectionWarning", "validateStaggerWaitComplete", "waitComplete", "staggerWaitCompleteWarning", "validateStaggerItems", "arr", "createStaggerItemsWarning", "staggerItemsIsValid", "validateStaggerType", "type", "STAGGER_TYPE_EQUAL", "STAGGER_TYPE_START", "STAGGER_TYPE_END", "STAGGER_TYPE_CENTER", "createStaggerTypeWarning", "relativeIsValid", "val", "tweenType", "isValid", "modules_exports", "relativeWarining", "handleSetUp", "easeTweenIsValidGetFunction", "ease", "tweenConfig", "tweenEaseWarning", "getTweenFn", "easeTweenIsValid", "springConfigIsValidAndGetNew", "config", "allConfig", "isInConfig", "obj", "isValidPropsValue", "prop", "springPresetWarning", "springConfigSpecificPropWarning", "springConfigIsValid", "springConfigPropIsValid", "springConfigPropWarning", "durationIsNumberOrFunctionIsValid", "duration", "durationResult", "durationNumberOrFunctionWarining", "valueIsBooleanAndTrue", "value", "label", "booleanWarning", "valueIsBooleanAndReturnDefault", "defaultValue", "valueIsStringAndReturnDefault", "stringWarning", "valueIsNumberAndReturnDefault", "naumberWarning", "valueIsFunctionAndReturnDefault", "functionWarning", "lerpVelocityIsValid", "lerpVelocityWarining", "lerpPrecisionIsValid", "lerpPrecisionWarining", "valueStringIsValid", "valueStringWarning", "asyncTimelineDelayIsValid", "asyncTimelineDelayWarning", "asyncTimelineTweenIsValid", "instance", "asyncTimelineTweenWaring", "playLabelIsValid", "index", "playLabelWarining", "functionIsValidAndReturnDefault", "fn", "functionIsValidAndReturnDefaultWarining", "addAsyncFunctionIsValid", "addAsyncFunctionWarining", "resolve", "timelineSetTweenArrayIsValid", "arr", "timelineSetTweenArrayWarining", "timelineSetTweenLabelIsValid", "timelineSetTweenLabelWarining", "domNodeIsValidAndReturnElOrWin", "element", "returnWindow", "realEl", "domNodeIsValidAndReturnNull", "directionIsValid", "direction", "component", "MobScrollerConstant", "scrollerDirectionWarining", "scrollerDynamicValueIsValid", "positionChoice", "valueIsObject", "positionIsValid", "valueIsValid", "scrollerDynmicValueWarining", "scrollerDynamicRangeIsValid", "scrollerDynmicRangeValueWarining", "scrollerTweenIsValid", "scrollerTweenWarning", "scrollerAlignIsValid", "choice", "scrollerAlignWarining", "scrollerOnSwitchIsValid", "scrollerOnSwitchWarining", "scrollerOpacityIsValid", "scrollerOpacityWarning", "scrollerTypeIsValid", "valueLowerCase", "scrollerTypeWarining", "scrollerRangeIsValid", "type", "isOnlyNumber", "checkIfIsOnlyNumber", "scrollerRangeNumberWarning", "scrollerRangeStringWarning", "breakpointIsValid", "mq", "defaultMq", "mqObj", "breakpointWarning", "breakpointTypeIsValid", "defaultType", "MQ_MAX", "MQ_MIN", "scrollerPropiertiesIsValid", "tweenIsParallaxTween", "tweenIsSequencer", "shouldTrackOnlyEvents", "scrollerPropiertiesWarining", "notParallaxTweenInsideParallax", "scrollerNoTweenDefinedWarning", "scrollerUseTweenButNotProsDefinedWarning", "scrollerUseSequencerWarining", "valueParsed", "valueFromConstant", "getPropiertiesValueFromConstant", "scrollerEaseTypeIsValid", "scrollerEaseTypeWarining", "fallback", "genericEaseTypeIsValid", "genericEaseTypeWarining", "scrollerSpringConfigIsValid", "defaultConfig", "springDefaultConfig", "scrollerSpringCongifWarining", "scrollerLerpConfigIsValid", "scrollerLerpConfigWarning", "checkStringRangeOnPropierties", "properties", "parallalxXYRangeChoice", "exactMatchInsesitiveNumberPropArray", "scrollTriggerRangeWarning", "checkIfIsOnlyNumberPositiveNegative", "scrollTriggerRangeScaleWarning", "scrollTriggerCustomRangeWarning", "getEachByFps", "each", "instantFps", "modules_exports", "eachByFps", "getStaggerFromProps", "props", "validateStaggerType", "STAGGER_DEFAULT_OBJ", "validateStaggerEach", "validateStaggerFrom", "STAGGER_TYPE_START", "validateStaggerColRow", "validateStaggerDirection", "DIRECTION_COL", "validateStaggerWaitComplete", "getStaggerArray", "callbackCache", "callbackDefault", "isOdd", "num", "getRandomInt", "max", "getRandomChoice", "arrayChunk", "each", "index", "previousFrame", "item", "_item", "i", "x", "getStaggerIndex", "arraylenght", "stagger", "randomChoice", "from", "eachByFps", "getEachByFps", "STAGGER_RANDOM", "STAGGER_START", "STAGGER_END", "STAGGER_CENTER", "half", "STAGGER_EDGES", "checkType", "getItemsByRow", "arrayDefault", "chunckSizeCol", "DIRECTION_ROW", "chunkByCol", "sliceIntoChunks", "p", "_c", "arrayColumn", "getDefaultStagger", "arrayOnStop", "slowlestStagger", "fastestStagger", "chunckSizeRow", "staggerArray", "staggerArrayOnComplete", "chunksize", "chunked", "firstChunk", "frame", "chunkItem", "getRadialY", "arr", "x", "y", "total", "row", "i", "offset", "newRow", "p", "c", "getRadialX", "chunk", "_row", "xStart", "xEnd", "isAvailableIntoChunk", "newRowFiltered", "item", "i2", "getRadialArray", "stagger", "col", "sliceIntoChunks", "radialArrY", "radialArrX", "radialXY", "_c", "arrayLength", "MERGE_FROM_UP", "MERGE_FROM_DOWN", "previous", "_current", "index", "merged", "downRow", "upRow", "current", "getRadial", "arrayDefault", "arrayOnStop", "stagger", "slowlestStagger", "fastestStagger", "modules_exports", "cleanCb", "getRadialArray", "counter", "chunk", "i", "item", "eachByFps", "getEachByFps", "frame", "cleanEndCb", "cleanArray", "staggerArray", "endstaggerArray", "getDefault", "fromList", "STAGGER_START", "STAGGER_END", "STAGGER_CENTER", "STAGGER_EDGES", "STAGGER_RANDOM", "staggerColRowWarning", "getDefaultStagger", "setStagger", "result", "DIRECTION_RADIAL", "staggerArrayOnComplete", "fastestStaggerUpdated", "slowlestStaggerUpdated", "defaultCallback", "stagger", "callback", "callbackCache", "callBackObject", "useStagger", "modules_exports", "cb", "frame", "defaultCallbackOnComplete", "onComplete", "callbackOnComplete", "slowlestStagger", "fastestStagger", "index", "callBackStore", "modules_exports", "updateSubScribers", "currentCallback", "arrayOfCallback", "id", "callBackStore", "arrayOfCallbackUpdated", "prevId", "cb", "index", "frame", "updateSubscribersCache", "item", "unsubscribeCacheArray", "cacheId", "unsubscribe", "modules_exports", "parseGoToObject", "obj", "item", "dataTweenValueIsValid", "dataTweenValueIsNotValidWarning", "toValue", "modules_exports", "parseGoFromObject", "value", "parseGoFromToObject", "fromObj", "toObj", "fromValue", "parseSetObject", "initRaf", "callbackPauseArray", "rafFunction", "pauseFunction", "modules_exports", "time", "fps", "prevent", "cb", "fpsLoadedLog", "label", "fps", "shouldInizializzeStagger", "each", "firstRun", "arrayToCompare1", "arrayToCompare2", "modules_exports", "staggerEachWarning", "resume", "rafFunction", "modules_exports", "time", "fps", "getValueObj", "arr", "key", "item", "p", "c", "getValueObjToNative", "getValueObjFromNative", "mergeArray", "newData", "data", "item", "itemToMerge", "newItem", "mergeArrayTween", "lerpGetValuesOnDraw", "values", "fps", "velocity", "precision", "item", "currentValue", "toValue", "lerpValue", "lerp", "newCurrentValue", "getRoundedValue", "MobLerp", "#stagger", "#relative", "#velocity", "#precision", "#uniqueId", "#isRunning", "#currentResolve", "#currentReject", "#currentPromise", "#values", "#initialData", "#callback", "#callbackCache", "#callbackOnComplete", "#callbackStartInPause", "#unsubscribeCache", "#pauseStatus", "#firstRun", "#useStagger", "#fpsInLoading", "#defaultProps", "#slowlestStagger", "#fastestStagger", "data", "getStaggerFromProps", "relativeIsValid", "lerpVelocityIsValid", "lerpPrecisionIsValid", "modules_exports", "STAGGER_DEFAULT_INDEX_OBJ", "props", "#draw", "_time", "fps", "lerpGetValuesOnDraw", "callBackObject", "getValueObj", "defaultCallback", "item", "onComplete", "cbObjectSettled", "defaultCallbackOnComplete", "time", "#onReuqestAnim", "#inzializeStagger", "shouldInizializzeStagger", "averageFPS", "fpsLoadedLog", "cb", "getStaggerArray", "staggerIsOutOfRangeWarning", "staggerArray", "staggerArrayOnComplete", "fastestStagger", "slowlestStagger", "setStagger", "#startRaf", "resolve", "reject", "initRaf", "clearCache", "updateValues", "setFromToByCurrent", "setFromByCurrent", "resume", "obj", "prop", "value", "mergeDeep", "#mergeProps", "newProps", "velocity", "precision", "relative", "toObject", "spacialProps", "toObjectparsed", "parseGoToObject", "#doAction", "fromObject", "specialProps", "fromObjectParsed", "parseGoFromObject", "compareKeys", "compareKeysWarning", "objectParsed", "parseGoFromToObject", "setObject", "setObjectParsed", "parseSetObject", "mergeArray", "reverse", "valueIsBooleanAndTrue", "setReverseValues", "setRelative", "setFromCurrentByTo", "newObjectparsed", "newObjectRaw", "immediate", "shouldInitializeRAF", "getValueObjFromNative", "getValueObjToNative", "arrayOfCallbackUpdated", "unsubscribeCb", "updateSubScribers", "fn", "unsubscribeCache", "updateSubscribersCache", "unsubscribe", "syncCallback", "each", "useStagger", "isLastDraw", "callBackObject", "callback", "callbackCache", "callbackOnStop", "modules_exports", "cb", "frame", "MobScrollerTween", "#ease", "#duration", "#stagger", "#values", "#callbackOnStop", "#callback", "#callbackCache", "#unsubscribeCache", "#type", "data", "easeScrollerTweenIsValid", "durationIsValid", "getStaggerFromProps", "props", "cb", "getStaggerArray", "staggerIsOutOfRangeWarning", "staggerArray", "staggerArrayOnComplete", "setStagger", "STAGGER_DEFAULT_INDEX_OBJ", "partial", "isLastDraw", "item", "toIsFn", "toFn", "toValue", "fromIsFn", "fromFn", "fromValue", "toValueParsed", "fromValueParsed", "toValFinal", "currentValue", "getRoundedValue", "callBackObject", "getValueObj", "modules_exports", "syncCallback", "obj", "valToArray", "prop", "value", "#mergeData", "newData", "itemToMerge", "newItem", "parseGoToObject", "arrayOfCallbackUpdated", "unsubscribeCb", "updateSubScribers", "fn", "unsubscribeCache", "updateSubscribersCache", "unsubscribe", "MobMasterSequencer", "#type", "#children", "partial", "isLastDraw", "useFrame", "item", "val", "goToSyncUtils", "obj", "ease", "item", "dataTweenValueIsValid", "getTweenFn", "dataTweenValueIsNotValidWarning", "goFromSyncUtils", "goFromToSyncUtils", "fromObj", "toObj", "directionConstant", "propToSet", "getFirstValidValueBack", "arr", "index", "prop", "propToFind", "previous", "valuesForward", "result", "propToCompare", "active", "checkIsLastUsableProp", "partial", "p", "start", "values", "nextItem", "sequencerGetValusOnDraw", "timeline", "valuesState", "partial", "valueItem", "item", "previous", "start", "end", "values", "index", "currentValuesItem", "prop", "toValue", "fromValue", "ease", "checkIsLastUsableProp", "newToValue", "modules_exports", "newFromValue", "duration", "inactivePosition", "newCurrentValue", "newCurrentValueSanitize", "currentValueRoudned", "getRoundedValue", "setPropFromAncestor", "timeline", "activeProp", "item", "index", "values", "propToFind", "newValues", "valueItem", "prop", "active", "previousValidValue", "getFirstValidValueBack", "propToSet", "orderByProp", "arr", "prop", "a", "b", "insertNewRow", "timeline", "values", "start", "end", "duration", "propToFind", "priority", "newTimeline", "timelineOrderByStart", "orderByProp", "mergeNewValues", "data", "values", "item", "itemToMerge", "newItem", "MobSequencer", "#values", "#timeline", "#labels", "#callback", "#callbackCache", "#callbackOnStop", "#callbackAdd", "#unsubscribeCache", "#duration", "#type", "#defaultProp", "#firstRun", "#forceAddFnAtFirstRun", "#direction", "#lastPartial", "#stagger", "#useStagger", "#staggerIsReady", "data", "durationIsValid", "easeIsValid", "getStaggerFromProps", "props", "cb", "getStaggerArray", "staggerIsOutOfRangeWarning", "staggerArray", "staggerArrayOnComplete", "setStagger", "STAGGER_DEFAULT_INDEX_OBJ", "partial", "isLastDraw", "useFrame", "direction", "directionConstant", "#onDraw", "modules_exports", "#actionAtFirstRender", "item", "sequencerGetValusOnDraw", "callBackObject", "getValueObj", "syncCallback", "#fireAddCallBack", "time", "fn", "fnTime", "mustFireForward", "mustFireBackward", "duration", "stretchFactor", "start", "end", "getRoundedValue", "obj", "prop", "value", "isValid", "initialDataPropValidate", "valueSanitized", "getTweenFn", "handleSetUp", "propMerged", "ease", "sequencerRangeValidate", "goToSyncUtils", "newValues", "mergeNewValues", "activeProp", "newTimeline", "insertNewRow", "setPropFromAncestor", "goFromSyncUtils", "fromObj", "toObj", "compareKeys", "compareKeysWarning", "goFromToSyncUtils", "name", "fnIsValid", "timeIsValid", "addIsValid", "syncTimelineAddFnWarning", "syncTimelineAddTimeWarning", "arrayOfCallbackUpdated", "unsubscribeCb", "updateSubScribers", "unsubscribeCache", "updateSubscribersCache", "val", "unsubscribe", "springGetValuesOndraw", "values", "tension", "friction", "mass", "precision", "fps", "item", "currentValue", "toValue", "velocity", "tensionForce", "dampingForce", "acceleration", "newVelocity", "rawCurrentValue", "newCurrentValue", "getRoundedValue", "isVelocity", "isDisplacement", "MobSpring", "#stagger", "#relative", "#configProps", "#uniqueId", "#isRunning", "#currentResolve", "#currentReject", "#currentPromise", "#values", "#initialData", "#callback", "#callbackCache", "#callbackOnComplete", "#callbackStartInPause", "#unsubscribeCache", "#pauseStatus", "#firstRun", "#useStagger", "#fpsInLoading", "#defaultProps", "#slowlestStagger", "#fastestStagger", "data", "getStaggerFromProps", "relativeIsValid", "springConfigIsValidAndGetNew", "modules_exports", "STAGGER_DEFAULT_INDEX_OBJ", "props", "#draw", "_time", "fps", "tension", "friction", "mass", "precision", "springGetValuesOndraw", "callBackObject", "getValueObj", "defaultCallback", "item", "onComplete", "cbObjectSettled", "defaultCallbackOnComplete", "time", "#onReuqestAnim", "#inzializeStagger", "shouldInizializzeStagger", "averageFPS", "fpsLoadedLog", "cb", "getStaggerArray", "staggerIsOutOfRangeWarning", "staggerArray", "staggerArrayOnComplete", "fastestStagger", "slowlestStagger", "setStagger", "#startRaf", "resolve", "reject", "initRaf", "clearCache", "updateValues", "setFromToByCurrent", "setFromByCurrent", "resume", "obj", "prop", "value", "mergeDeep", "#mergeProps", "allPresetConfig", "handleSetUp", "configPreset", "springConfigIsValid", "springPresetConfig", "configPropsToMerge", "springConfigPropIsValid", "configProps", "newProps", "relative", "toObject", "specialProps", "toObjectParsed", "parseGoToObject", "#doAction", "fromObject", "spacialProps", "fromObjectParsed", "parseGoFromObject", "compareKeys", "compareKeysWarning", "objectParsed", "parseGoFromToObject", "setObject", "setObjectParsed", "parseSetObject", "mergeArray", "reverse", "valueIsBooleanAndTrue", "setReverseValues", "setRelative", "setFromCurrentByTo", "newObjectParsed", "newObjectRaw", "immediate", "shouldInitializeRAF", "getValueObjFromNative", "getValueObjToNative", "configToMerge", "config", "arrayOfCallbackUpdated", "unsubscribeCb", "updateSubScribers", "fn", "unsubscribeCache", "updateSubscribersCache", "unsubscribe", "tweenGetValueOnDraw", "values", "timeElapsed", "duration", "ease", "item", "rawCurrentValue", "getRoundedValue", "MobTimeTween", "#ease", "#duration", "#relative", "#stagger", "#uniqueId", "#isRunning", "#currentResolve", "#currentReject", "#currentPromise", "#values", "#initialData", "#callback", "#callbackCache", "#callbackOnComplete", "#callbackStartInPause", "#unsubscribeCache", "#pauseStatus", "#comeFromResume", "#startTime", "#timeElapsed", "#pauseTime", "#firstRun", "#useStagger", "#fpsInLoading", "#defaultProps", "#slowlestStagger", "#fastestStagger", "data", "easeTweenIsValidGetFunction", "durationIsNumberOrFunctionIsValid", "relativeIsValid", "getStaggerFromProps", "modules_exports", "easeTweenIsValid", "STAGGER_DEFAULT_INDEX_OBJ", "props", "#draw", "time", "tweenGetValueOnDraw", "isSettled", "callBackObject", "getValueObj", "defaultCallback", "defaultCallbackOnComplete", "item", "#onReuqestAnim", "#inzializeStagger", "shouldInizializzeStagger", "averageFPS", "fpsLoadedLog", "cb", "getStaggerArray", "staggerIsOutOfRangeWarning", "staggerArray", "staggerArrayOnComplete", "fastestStagger", "slowlestStagger", "setStagger", "#startRaf", "resolve", "reject", "initRaf", "clearCache", "updateValues", "setFromToByCurrent", "obj", "prop", "value", "mergeDeep", "#updateDataWhileRunning", "#mergeProps", "newProps", "ease", "duration", "relative", "toObject", "specialProps", "toObjectparsed", "parseGoToObject", "#doAction", "fromObject", "fromObjectParsed", "parseGoFromObject", "compareKeys", "compareKeysWarning", "objectParsed", "parseGoFromToObject", "setObject", "setObjectParsed", "parseSetObject", "propsParsed", "mergeArrayTween", "reverse", "valueIsBooleanAndTrue", "setReverseValues", "setRelativeTween", "setFromCurrentByTo", "newObjectParsed", "newObjectRaw", "immediate", "shouldInitializeRAF", "getValueObjFromNative", "getValueObjToNative", "arrayOfCallbackUpdated", "unsubscribeCb", "updateSubScribers", "fn", "unsubscribeCache", "updateSubscribersCache", "unsubscribe", "getStaggerEqual", "each", "duration", "numItem", "index", "eachByNumItem", "stepDuration", "start", "getRoundedValue", "end", "staggerDuration", "remainSpace", "validNumItem", "staggerStart", "getStaggerSpecial", "type", "cleanStart", "gap", "STAGGER_TYPE_START", "STAGGER_TYPE_CENTER", "space", "STAGGER_TYPE_END", "MobCreateStaggers", "data", "items", "staggerItemsIsValid", "stagger", "getStaggerFromProps", "durationIsValid", "eachProportion", "fallBack", "item", "i", "validateStaggerItems", "staggerIsOutOfRangeWarning", "modules_exports", "createStaggerEachWarning", "staggerArray", "setStagger", "STAGGER_DEFAULT_INDEX_OBJ", "staggerArrayFiltered", "createStaggerItemsTypeWarning", "frameArray", "frame", "frameSet", "a", "b", "STAGGER_TYPE_EQUAL", "createScrollerTween", "data", "MobScrollerTween", "createSequencer", "MobSequencer", "createMasterSequencer", "MobMasterSequencer", "createStaggers", "MobCreateStaggers", "createTimeTween", "MobTimeTween", "createSpring", "MobSpring", "createLerp", "MobLerp", "timeline_exports", "__export", "createAsyncTimeline", "createSyncTimeline", "NOOP", "pipe", "functions", "input", "chain", "func", "filterActiveProps", "data", "filterBy", "item", "prop", "val", "valueIsValid", "active", "p", "c", "reduceTweenUntilIndex", "timeline", "tween", "index", "currentId", "initialData", "previous", "current", "currentTween", "data", "currentValueTo", "propsInUse", "filterActiveProps", "resolveTweenPromise", "reject", "res", "isStopped", "startOnDelay", "previousSessionId", "currentSessionId", "isInPause", "tween", "fn", "action", "addToActiveTween", "unsubscribeActiveTween", "unsubscribeTweenStartInPause", "NOOP", "MobAsyncTimeline", "#repeat", "#yoyo", "#freeMode", "#autoSet", "#inheritProps", "#tweenList", "#currentTween", "#tweenStore", "#waitComplete", "#defaultObj", "#useLabel", "#groupCounter", "#groupId", "#currentTweenCounter", "#currentIndex", "#loopCounter", "#isReverseNext", "#forceYoyo", "#isReverse", "#isInPause", "#isInSuspension", "#addAsyncIsActive", "#isStopped", "#delayIsRunning", "#startOnDelay", "#actionAfterReject", "#sessionId", "#activetweenCounter", "#timeOnPause", "#autoSetIsJustCreated", "#currentAction", "#fpsIsInLoading", "#id", "#callbackLoop", "#callbackComplete", "#currentResolve", "#currentReject", "data", "repeatIsValid", "valueIsBooleanAndReturnDefault", "#run", "currentTweelist", "lastAction", "item", "tween", "currentValuesTo", "prevValueSettled", "nativeValues", "prevValueTo", "filterActiveProps", "tweenPromises", "callback", "action", "valuesFrom", "valuesTo", "tweenProps", "id", "newTweenProps", "labelIsActive", "labelIndex", "isImmediate", "relativePropInsideTimelineWarning", "prevActionIsCurrent", "prevId", "prevAction", "fn", "res", "direction", "sessionId", "reject", "valueIsValid", "modules_exports", "timelineSuspendWarning", "sholudSuspend", "delay", "previousSessionId", "start", "#loopOnDelay", "resolveTweenPromise", "#addToActiveTween", "promiseType", "labelIsReverse", "callbackLabel", "#resetUseLabel", "#revertTween", "tweenPromise", "reduceTweenUntilIndex", "resolve", "#onRepeat", "cb", "handleNextFrame", "handleNextTick", "deltaTimeOnpause", "current", "delta", "tweenId", "NOOP", "prevActiveTweenCounter", "group", "currentValueTo", "timelineReverseGoFromWarning", "#addToMainArray", "obj", "rowIndex", "#addTweenToStore", "uniqueId", "#resetAllTween", "valuesSet", "asyncTimelineTweenIsValid", "asyncTimelineDelayIsValid", "previousValues", "mergedObj", "functionIsValidAndReturnDefault", "asyncTimelineMetodsInsideGroupWarining", "addAsyncFunctionIsValid", "groupProps", "labelProps", "valueStringIsValid", "#addSetBlocks", "setValueTo", "label", "items", "itemsIsArray", "timelineSetTweenArrayIsValid", "labelIsString", "timelineSetTweenLabelIsValid", "itemsId", "tweens", "index", "firstItem", "timelineSetTweenLabelNotFoundWarining", "resolveTween", "rejectTween", "timelineSetTweenFailWarining", "#rejectPromise", "#waitFps", "#playFromUpDown", "isReverse", "playLabelIsValid", "forceYoYo", "thisResolve", "thisReject", "currentResolve", "currentReject", "forceYoYoNow", "callbackNow", "clearCache", "#resumeEachTween", "directionConstant", "cbId", "MobSyncTimeline", "#duration", "#yoyo", "#repeat", "#sequencers", "#startTime", "#timeElapsed", "#currentTime", "#pauseTime", "#timeAtReverse", "#timeAtReverseBack", "#isReverse", "#startReverse", "#isPlayngReverse", "#loopCounter", "#loopIteration", "#minLoopIteration", "#isStopped", "#skipFirstRender", "#completed", "#fpsIsInLoading", "#isInPause", "#callbackId", "#callbackLoop", "#callbackComplete", "#callbackOnUpdate", "#currentResolve", "#currentReject", "data", "durationIsValid", "valueIsBooleanAndReturnDefault", "repeatIsValid", "#updateTime", "time", "fps", "frameThreshold", "partial", "clamp", "item", "cb", "#goToNextFrame", "#resetSequencerLastValue", "direction", "modules_exports", "endTime", "#resetTime", "#getTimeFromLabel", "label", "labelObj", "previous", "current", "currentName", "syncTimelineLabelWarning", "#rejectPromise", "props", "useCurrent", "resolve", "reject", "#playFromTime", "value", "labelTime", "#startAnimation", "#playFromTimeReverse", "averageFPS", "fpsLoadedLog", "clearCache", "sequencer", "duration", "directionConstant", "cbId", "createSyncTimeline", "data", "MobSyncTimeline", "createAsyncTimeline", "MobAsyncTimeline", "scroller_exports", "__export", "createParallax", "createScrollTrigger", "action", "prevValue", "value", "maxVal", "MobScrollerConstant", "MobScrollerEmitter", "onEnter", "onEnterBack", "onLeave", "onLeaveBack", "getMarker", "startMarker", "endMarker", "label", "labelSanitized", "startMarkerEL", "endMarkerEL", "startMarkerGenerated", "endMarkerElGenerated", "getPosition", "screen", "rect", "getStartStyle", "startPoint", "direction", "invertSide", "top", "bottom", "left", "right", "MobScrollerConstant", "getEndStyle", "endPoint", "MobScrollerMarker", "lastStartMarker", "lastEndMarkerEl", "startStyle", "endStyle", "style", "handleSetUp", "modules_exports", "getMarkerWrapperStyle", "marker", "direction", "invertSide", "borderStyle", "handleSetUp", "MobScrollerConstant", "MobScrollerPin", "#scrollerHeight", "#start", "#startFromTop", "#invertSide", "#end", "#getStart", "#getEnd", "#direction", "#compesateValue", "#item", "#spring", "#wrapper", "#marker", "#screen", "#pin", "#isOver", "#isInner", "#isUnder", "#unsubscribeScroll", "#unsubscribeScrollStart", "#unsubscribeSpring", "#firstTime", "#itemRequireStyleToWrapper", "#itemRequireStyleWhenTraspond", "#parentRequireStyle", "#itemRequireStyleToPin", "#styleToTranspond", "#nonRelevantRule", "#isInizialized", "#prevScroll", "#prevscrollY", "#animatePin", "#anticipateFactor", "#forceTranspond", "#justPinned", "#afterPinCounter", "#lastStep", "#afterJustPinned", "#afterJustPinnedCounter", "#numeCycleToFreeze", "#collisionStyleProp", "#shoulTranspond", "#anticipatePinOnLoad", "MobScrollerConstant", "data", "#refreshCollisionPoint", "#createPin", "#addStyleFromPinToWrapper", "#setPinSize", "#setUpMotion", "modules_exports", "scrollY", "gap", "verticalGap", "translateValue", "MobSpring", "collision", "#resetSpring", "wrapper", "pin", "parentNode", "requiredStyleToadd", "#addRquiredStyle", "pinStyleFromItem", "#addPinStyleFromItem", "markerWrapperStyle", "getMarkerWrapperStyle", "display", "#checkIfShouldTranspond", "height", "width", "compStyles", "style", "p", "c", "#findStyle", "target", "rule", "node", "item", "key", "value", "#updateStartEndValue", "position", "#getGap", "#animateCollision", "#tween", "#animateCollisionBack", "#resetPinTransform", "#resetStyleWhenUnder", "#resetStyleWhenOver", "#setFixedPosition", "left", "#addStyleToItem", "#removeStyleToItem", "#activateTrasponder", "requiredStyleToAdd", "styleToAdd", "#deactivateTrasponder", "#getAnticipate", "scrollTop", "step", "clamp", "#getAnticipateValue", "scrollDirection", "anticipate", "anticipateBottom", "anticipateInnerIn", "anticipateInnerOut", "#getAnticipateValueInverted", "offsetTop", "bottomCondition", "innerCondition", "fireSpring", "scrollerWarningNoUnitMiusure", "scrollerWarningVhIsNotAllowed", "scrollerWarningVwIsNotAllowed", "returnWhenFail", "getValueInPx", "invert", "endValInNumber", "scrollerHeight", "isNegative", "startPoint", "isFromTopLeft", "valueFromTop", "valueFromBottom", "getValueInVwVh", "screenUnit", "detectViewPortInterception", "offset", "height", "gap", "wScrollTop", "wHeight", "getStartEndValue", "values", "direction", "numberInString", "item", "c", "unitMisure", "getStartEndUnitMisure", "scrollerWarningNoUnitMiusure", "MobScrollerConstant", "scrollerWarningVhIsNotAllowed", "scrollerWarningVwIsNotAllowed", "additionaChoice", "getAdditionalVal", "exactMatchInsesitivePropArray", "positionMap", "getPosition", "getStartPoint", "data", "numberVal", "additionalVal", "position", "startValInNumber", "getScrollerPositionFromContanst", "getEndPoint", "invertSide", "positionFromConstant", "processFixedLimit", "value", "stringValue", "width", "str", "exactMatchInsensitive", "getValueOnSwitch", "switchPropierties", "isReverse", "getRetReverseValue", "propierties", "val", "getScrollFunction", "callback", "pin", "ease", "useThrottle", "modules_exports", "MobScroller", "#isInzialized", "#willChangeIsActive", "#offset", "#screenPosition", "#endValue", "#height", "#width", "#scrollerScroll", "#scrollerHeight", "#windowInnerWidth", "#windowInnerHeight", "#gap", "#numericRange", "#unsubscribeResize", "#unsubscribeScroll", "#unsubscribeScrollStart", "#unsubscribeScrollEnd", "#unsubscribeMarker", "#startMarker", "#endMarker", "#lastValue", "#prevFixedRawValue", "#fixedShouldRender", "#prevFixedClamp", "#firstTime", "#isInViewport", "#iSControlledFromOutside", "#force3D", "#pinInstance", "#unitMisure", "#startPoint", "#endPoint", "#unsubscribeMotion", "#unsubscribeOnComplete", "#pin", "#animatePin", "#forceTranspond", "#anticipatePinOnLoad", "#start", "#end", "#invertSide", "#marker", "#dynamicStart", "#dynamicEnd", "#dynamicRange", "#animateAtStart", "#onEnter", "#onEnterBack", "#onLeave", "#onLeaveBack", "#onTickCallback", "#align", "#onSwitch", "#reverse", "#opacityStart", "#opacityEnd", "#limiterOff", "#useWillChange", "#tween", "#item", "#scroller", "#screen", "#trigger", "#applyTo", "#direction", "#disableForce3D", "#useThrottle", "#type", "#perspective", "#breakpoint", "#queryType", "#propierties", "#shouldTrackOnlyEvents", "#range", "#ease", "#easeType", "#springConfig", "#lerpConfig", "#motionParameters", "#motion", "data", "valueIsBooleanAndReturnDefault", "valueIsStringAndReturnDefault", "scrollerDynamicValueIsValid", "scrollerDynamicRangeIsValid", "functionIsValidAndReturnDefault", "scrollerAlignIsValid", "scrollerOnSwitchIsValid", "scrollerOpacityIsValid", "scrollerTweenIsValid", "tweenIsSequencer", "MobScrollerConstant", "tweenIsParallaxTween", "domNodeIsValidAndReturnElOrWin", "domNodeIsValidAndReturnNull", "directionIsValid", "scrollerTypeIsValid", "valueIsNumberAndReturnDefault", "breakpointIsValid", "breakpointTypeIsValid", "propierties", "shouldTrackOnlyEvents", "scrollerPropiertiesIsValid", "scrollerRangeIsValid", "scrollerEaseTypeSpringWarining", "scrollerEaseTypeIsValid", "scrollerSpringConfigIsValid", "scrollerLerpConfigIsValid", "MobSpring", "MobLerp", "#setMotion", "#calcScreenPosition", "#calcOffset", "#calcHeight", "#calcWidth", "#getScreenHeight", "#calcRangeAndUnitMiusure", "#calcFixedLimit", "modules_exports", "#easeRender", "getScrollFunction", "#updateEndValue", "#noEasingRender", "horizontalResize", "MobScrollerPin", "mq", "#getScrollerOffset", "#getPinParams", "scroller", "screen", "direction", "breakpoint", "queryType", "style", "parent", "initialValue", "val", "#updateStyle", "range", "str", "isNegative", "strParsed", "checkStringRangeOnPropierties", "getRangeUnitMisure", "screenUnit", "position", "fn", "valueResult", "startPoint", "additionalStartVal", "startPosition", "getStartPoint", "processFixedLimit", "endPoint", "additionalEndVal", "endPosition", "getEndPoint", "multiplier", "#setMarker", "startMarker", "endMarker", "MobScrollerMarker", "el", "x", "y", "z", "getTranslateValues", "offset", "#resetTweenStyle", "#getResetStyle", "value", "parentIsMoving", "scrollVal", "#getScrollValueOnMove", "forceRender", "detectViewPortInterception", "getRoundedValue", "#getFixedValue", "#getOpacityValue", "#getIsNaNValue", "#getIsANumberValue", "reverseValue", "getRetReverseValue", "#getSwitchAfterZeroValue", "action", "partials", "maxVal", "partialVal", "valePerDirections", "clampValue", "clamp", "percentValue", "MobScrollerEmitter", "#getHVval", "percent", "vhLimit", "vhStart", "valClamped", "valuetoNumber", "rangeNumber", "documentHeight", "align", "getValueOnSwitch", "#getStyle", "force3DStyle", "shouldWill", "valueParsed", "scaleVal", "item", "createParallax", "data", "MobScroller", "MobScrollerConstant", "createScrollTrigger", "navigationStore", "modules_exports", "isActive", "lastScrollValue", "useNativeScroll", "isFreezed", "destroy", "stop", "update", "rootElementToObserve", "MobPageScroller", "velocity", "rootElement", "lerp", "tween_exports", "unsubscribe", "scrollValue", "unsubscribeMouseWheel", "modules_exports", "event", "currentValue", "core_exports", "unsubsribeScrollEnd", "value", "unsubscribeScroll", "unsubscribeMouseDown", "scrollBarWidth", "resizeObserver", "InitMobPageScroll", "FreezeMobPageScroll", "UnFreezeMobPageScroll", "UnFreezeAndUPdateMobPageScroll", "UpdateMobPageScroll", "DestroyMobPageScroll", "defaultPreset", "tween", "MobTimeTween", "isRunning", "overflow", "val", "UpdateMobPageScroll", "onComplete", "UnFreezeAndUPdateMobPageScroll", "stopTween", "modules_exports", "MobBodyScroll", "target", "data", "targetParsed", "isNode", "offset", "duration", "valueIsNumberAndReturnDefault", "valueIsBooleanAndReturnDefault", "easeTweenIsValid", "resolve", "FreezeMobPageScroll", "horizontalScrollerContstant", "getAlign", "columnAlign", "horizontalScrollerContstant", "horizontalScrollerCss", "mainContainer", "queryType", "breakpoint", "container", "trigger", "row", "column", "shadow", "useSticky", "columnHeight", "columnWidth", "media", "mq", "userSelect", "triggerPosition", "rowSticky", "align", "width", "css", "styleDiv", "style", "MobHorizontalScroller", "#propsisValid", "#triggerTopPosition", "#touchActive", "#lastTouchValueX", "#dragSecureAreaBottom", "#dragSecureAreaTop", "#shouldDragValue", "#scrollValue", "#unsubscribeScroll", "#useDrag", "#threshold", "#useWillChange", "#breakpoint", "#queryType", "#forceTranspond", "#addCss", "#animateAtStart", "#ease", "#easeType", "#useSticky", "#animatePin", "#reverse", "#useThrottle", "#columnHeight", "#columnWidth", "#columnAlign", "#onEnter", "#onEnterBack", "#onLeave", "#onLeaveBack", "#afterInit", "#afterRefresh", "#afterDestroy", "#onTick", "#mainContainer", "#container", "#trigger", "#row", "#columns", "#shadows", "#shadowMainClassTransition", "#buttons", "#moduleisActive", "#horizontalWidth", "#scrollTriggerInstance", "#percentRange", "#children", "#onMouseMove", "#onMouseDown", "#onMouseUp", "#onMouseLeave", "#onTouchStart", "#onTouchEnd", "#onTouchMove", "#preventFireClick", "#firstTouchValue", "data", "valueIsBooleanAndReturnDefault", "valueIsNumberAndReturnDefault", "breakpointIsValid", "breakpointTypeIsValid", "genericEaseTypeIsValid", "horizontalScrollerContstant", "valueIsFunctionAndReturnDefault", "NOOP", "modules_exports", "originalShadowClass", "element", "horizontalScrollerCss", "event", "movementX", "value", "#onDrag", "mq", "FreezeMobPageScroll", "UnFreezeMobPageScroll", "touchValueX", "gapX", "pipe", "#getWidth", "#setDimension", "#createShadow", "#updateShadow", "#initScroller", "#addDragListener", "horizontalResize", "#setLinkAttribute", "item", "#removeLinkAttribute", "#shouldDrag", "documentScrollTop", "#removeDragListener", "resolve", "width", "outerWidth", "a", "b", "shadowsTransition", "shadowLabel", "useDebug", "debugClass", "leftLabel", "inCenterLabel", "outCenterlabel", "endLabel", "#removeShadow", "percentrange", "shadowData", "height", "outerHeight", "x", "getTranslateValues", "offset", "screenRatio", "windowDifference", "widthAmount", "diffAmount", "shadowTransitionEl", "inCenterMarker", "outCenterMarker", "leftMarker", "endMarker", "plusFull", "plusHalf", "start", "left", "val", "end", "val1", "val2", "inCenter", "scrollTriggerInstance", "MobScroller", "parentIsMoving", "valueParsed", "percent", "#createScroller", "#refreshChildren", "#killScroller", "destroyAll", "styleDiv", "slideItems", "isNode", "target", "isValid", "modules_exports", "setSlideData", "tween", "MobTimeTween", "val", "MobSlide", "data", "resolve", "currentItem", "currentHeight", "outerHeight", "height", "MobSmoothScroller", "#propsIsValid", "#endValue", "#percent", "#screenWidth", "#screenHeight", "#firstTouchValue", "#threshold", "#maxValue", "#dragEnable", "#prevTouchVal", "#touchVal", "#subscribeResize", "#subscribeScrollStart", "#subscribeScrollEnd", "#subscribeTouchStart", "#subscribeTouchEnd", "#subscribeMouseDown", "#subscribeMouseUp", "#subscribeMouseWheel", "#subscribeMouseMove", "#subscribeTouchMove", "#subscribeMouseClick", "#motion", "#unsubscribeMotion", "#unsubscribeOnComplete", "#direction", "#isDestroyed", "#easeType", "#breakpoint", "#queryType", "#scroller", "#screen", "#scopedEvent", "#speed", "#drag", "#onTickCallback", "#onUpdateCallback", "#onSwipeCallback", "#onAfterRefresh", "#afterInit", "#swipeisActive", "#children", "#scopedWhell", "#scopedTouchMove", "#lastSpinX", "#lastSpinY", "#useHorizontalScroll", "#useSwipe", "#revertSwipeDirection", "data", "NOOP", "directionIsValid", "genericEaseTypeIsValid", "breakpointIsValid", "breakpointTypeIsValid", "modules_exports", "valueIsBooleanAndReturnDefault", "valueIsNumberAndReturnDefault", "valueIsFunctionAndReturnDefault", "element", "event", "spinY", "#onScopedWhell", "clientX", "clientY", "#onScopedTouchMove", "#getScrollableStatus", "MobScrollerConstant", "MobSpring", "MobLerp", "#detectSwipe", "#onWhell", "#onTouchMove", "#refreshScroller", "#onMouseDown", "#onMouseUp", "UnFreezeMobPageScroll", "target", "preventDefault", "#preventChecker", "#initMotion", "mq", "#setScrolerStyle", "pixelX", "direction", "directionParsed", "value", "item", "#removeScrolerStyle", "val", "outerWidth", "outerHeight", "#calculateValue", "client", "#getMousePos", "isDescendant", "result", "spinX", "spinXdiff", "spinYdiff", "spinValue", "FreezeMobPageScroll", "percent", "resolve", "percentValue", "clamp", "x", "y", "usePrevent", "shouldInit", "shouldDestroyPageScroll", "routeShoulNotUsePageScroll", "usePageScroll", "rootElement", "init", "InitMobPageScroll", "destroy", "DestroyMobPageScroll", "navigationStore", "isOpen", "modules_exports", "isLoading", "FreezeMobPageScroll", "currentRoute", "UnFreezeAndUPdateMobPageScroll", "preventDefault", "detectSafari", "userAgentString", "safariAgent", "detectFirefox", "firefixAgent", "setBrowserClass", "userAgent", "body", "loadTextContent", "source", "response", "loadJsonContent", "randomIntFromInterval", "min", "max", "serializeFragment", "fragment", "commonData", "getCommonData", "loadData", "response", "data", "error", "scrollY", "modules_exports", "beforePageTransition", "oldNode", "pageTransition", "newNode", "oldRoute", "newRoute", "core_exports", "oldNodeTween", "tween_exports", "newNodeTween", "opacity", "tl", "timeline_exports", "pageNotFound", "renderHtml", "linksScroller", "screenElement", "scrollerElement", "hideControls", "scroller", "MobSmoothScroller", "shouldScroll", "getCounter", "index", "LayoutLinksFn", "setRef", "getRef", "onMount", "bindEffect", "getProxi", "proxi", "screenElement", "scrollerElement", "destroy", "linksScroller", "value", "renderHtml", "item", "LayoutLinks", "modules_exports", "LayoutLinksFn", "modules_exports", "LayoutLinks", "layoutLinksPage", "props", "source", "data", "loadJsonContent", "renderHtml", "debugComponentName", "debugFilterListName", "debugOverlayName", "debugTreeName", "quickNavName", "scrollDownLabelName", "scrollToTopName", "scrollToName", "headerName", "mobNavigationName", "mobNavigationContainerName", "searchOverlay", "searchOverlayList", "searchOverlayHeader", "DocContainerFn", "onMount", "setToTopState", "modules_exports", "scrollToTopName", "renderHtml", "DocContainer", "modules_exports", "DocContainerFn", "DocTitleFn", "renderHtml", "DocTitle", "modules_exports", "DocTitleFn", "DocTitleSmallFn", "renderHtml", "DocsTitleSmall", "modules_exports", "DocTitleSmallFn", "LoaderFn", "onMount", "watch", "remove", "getState", "position", "element", "tweenOut", "tween_exports", "opacity", "scale", "shouldRemove", "renderHtml", "Loader", "modules_exports", "LoaderFn", "val", "import_core", "core_default", "HighlightJS", "IDENT_RE", "KEYWORDS", "LITERALS", "TYPES", "ERROR_TYPES", "BUILT_IN_GLOBALS", "BUILT_IN_VARIABLES", "BUILT_INS", "javascript", "hljs", "regex", "hasClosingTag", "match", "after", "tag", "IDENT_RE$1", "FRAGMENT", "XML_SELF_CLOSING", "XML_TAG", "response", "afterMatchIndex", "nextChar", "m", "afterMatch", "KEYWORDS$1", "decimalDigits", "frac", "decimalInteger", "NUMBER", "SUBST", "HTML_TEMPLATE", "CSS_TEMPLATE", "GRAPHQL_TEMPLATE", "TEMPLATE_STRING", "COMMENT", "SUBST_INTERNALS", "SUBST_AND_COMMENTS", "PARAMS_CONTAINS", "PARAMS", "CLASS_OR_EXTENDS", "CLASS_REFERENCE", "USE_STRICT", "FUNCTION_DEFINITION", "UPPER_CASE_CONSTANT", "noneOf", "list", "FUNCTION_CALL", "x", "PROPERTY_ACCESS", "GETTER_OR_SETTER", "FUNC_LEAD_IN_RE", "FUNCTION_VARIABLE", "core_default", "javascript", "loadSnippet", "ref", "source", "success", "data", "loadTextContent", "SnippetFn", "onMount", "getState", "setRef", "getRef", "isFull", "hasBorder", "hasOverflow", "numLines", "isFullClass", "hasBorderClass", "hasOverflowClass", "remValue", "lineHeight", "codeEl", "renderHtml", "Snippet", "modules_exports", "SnippetFn", "hasAnchor", "label", "addItemToScrollComponent", "id", "element", "isSection", "isNote", "modules_exports", "methods", "scrollToName", "isVisibleInViewport", "SpacerAnchorFn", "getState", "onMount", "style", "line", "lineClass", "unsubScribeScroll", "renderHtml", "SpacerAnchor", "modules_exports", "SpacerAnchorFn", "val", "AnchorButtonFn", "getState", "delegateEvents", "content", "anchor", "renderHtml", "target", "offsetTop", "offset", "MobBodyScroll", "AnchorButton", "modules_exports", "AnchorButtonFn", "getList", "items", "links", "label", "url", "renderHtml", "item", "ListFn", "getState", "style", "color", "colorClass", "List", "modules_exports", "ListFn", "val", "ParagraphFn", "getState", "style", "color", "boxed", "note", "colorClass", "renderHtml", "Paragraph", "modules_exports", "ParagraphFn", "val", "getTrinangle", "className", "useTriangle", "renderHtml", "sectionPinAnimation", "element", "container", "headerMethods", "modules_exports", "headerName", "scroller", "scroller_exports", "outerHeight", "shouldUseTrinagle", "tag", "getTrinangle", "getIndex", "index", "renderHtml", "currentZindex", "modules_exports", "TitleFn", "onMount", "bindEffect", "getProxi", "proxi", "destroy", "colorClass", "boldClass", "isSectionClass", "useStickyClass", "element", "unsubscribeAfterRouteChange", "sectionPinAnimation", "unsubscribeBeforeRouteChange", "Title", "modules_exports", "TitleFn", "navigationStore", "val", "getComponents", "data", "staticProps", "awaitLoadSnippet", "item", "component", "props", "content", "renderHtml", "getData", "source", "success", "currentData", "loadJsonContent", "getLoader", "bindProps", "contentIsLoaded", "HtmlContentFn", "getState", "setState", "onMount", "useTriangle", "usePadding", "usePaddingClass", "getTrinangle", "loadSvg", "proxi", "success", "data", "loadTextContent", "DocSvgFn", "getProxi", "invalidate", "onMount", "renderHtml", "DocSvg", "modules_exports", "DocSvgFn", "renderHtml", "HtmlContent", "modules_exports", "HtmlContentFn", "List", "Paragraph", "Title", "Loader", "Snippet", "SpacerAnchor", "AnchorButton", "DocSvg", "ScrollToButtonFn", "bindEffect", "getProxi", "proxi", "isSectionClass", "isNoteClass", "renderHtml", "ScrollToButton", "modules_exports", "ScrollToButtonFn", "disableObservereffect", "getButtons", "delegateEvents", "bindProps", "proxi", "item", "delegateEventsFn", "scroll", "label", "element", "offsetTop", "offset", "MobBodyScroll", "renderHtml", "ScrollToFn", "onMount", "invalidate", "computed", "addMethod", "updateState", "getProxi", "id", "isSection", "isNote", "val", "core_exports", "ScrollTo", "modules_exports", "ScrollToFn", "value", "a", "b", "elementA", "elementB", "ScrollToButton", "getBreadCrumbs", "breadCrumbs", "item", "index", "renderHtml", "modules_exports", "DocContainer", "DocsTitleSmall", "ScrollTo", "DocTitle", "HtmlContent", "layoutSidebarAnchor", "props", "source", "title", "breadCrumbs", "data", "loadJsonContent", "renderHtml", "getBreadCrumbs", "scrollToName", "modules_exports", "DocContainer", "DocsTitleSmall", "DocTitle", "HtmlContent", "layoutSidebarLinks", "props", "source", "title", "breadCrumbs", "data", "loadJsonContent", "renderHtml", "getBreadCrumbs", "inspirationAnimation", "weakInspirationitem", "weakSectio4Title", "masterSequencer", "tween_exports", "titleSequencer", "xTitle", "yTitle", "item", "start", "end", "index", "sequencer", "x", "inspirationScroller", "scroller_exports", "createPathAnimation", "weakPathElement", "weakScrollerElement", "wrapElement", "setActiveItem", "sequencerData", "timelineData", "pathSequencer", "tween_exports", "direction", "isForced", "item", "ax", "ay", "bx", "by", "cx", "cy", "dx", "dy", "ex", "ey", "fx", "fy", "gx", "gy", "pathTween", "pathTimeline", "timeline_exports", "randomIntFromInterval", "shouldLoop", "loop", "index", "a", "b", "c", "d", "e", "f", "g", "modules_exports", "pathScroller", "scroller_exports", "outerWidth", "aboutSection1", "title_1", "title_2", "title1tween", "tween_exports", "y", "title1parallax", "scroller_exports", "title2tween", "title2parallax", "sectionContentAnimation", "title", "copy", "sectionContentSequencer", "tween_exports", "yTitle", "xTitle", "yCopy", "opacityTitle", "opacityCopy", "sectionContentScroller", "scroller_exports", "aboutAnimation", "screenElement", "scrollerElement", "pathElement", "wrapElement", "title_1", "title_2", "section2_title", "section2_copy", "section3_title", "section3_copy", "inspirationItem", "section4_title", "setActiveItem", "onScrollEnd", "onMove", "onSwipe", "weakScrollerElement", "weakSectio2Title", "weakSectio2Copy", "weakSectio3Title", "weakSectio3Copy", "weakSectio4Title", "weakPathElement", "element", "weakInspirationitem", "pathScroller", "pathSequencer", "pathTimeline", "pathTween", "stopLoop", "destroypathAnimation", "createPathAnimation", "title1parallax", "title2parallax", "title1tween", "title2tween", "aboutSection1", "sectionContentScroller_1", "section2TitleSequencer_1", "sectionContentAnimation", "sectionContentScroller_2", "section2TitleSequencer_2", "destroyContentAnimation", "inspirationScroller", "masterSequencer", "titleSequencer", "destroyInspirationAnimation", "inspirationAnimation", "aboutScroller", "MobSmoothScroller", "value", "direction", "aboutSvgAnimation", "elements", "svgSpring", "tween_exports", "el", "x", "_goTo", "moveSvg", "value", "moveSvgFromNav", "goToPercentage", "block01", "setRef", "getState", "titleTop", "titleBottom", "renderHtml", "block02", "title", "copy", "block03", "block04", "items", "item", "navigation", "proxi", "delegateEvents", "bindEffect", "index", "getShapeTrail", "AboutComponentFn", "onMount", "getRef", "getRefs", "getProxi", "numberOfSection", "freezeOnLag", "screenElement", "scrollerElement", "wrapElement", "title_1", "title_2", "section2_title", "section2_copy", "section3_title", "section3_copy", "section4_title", "inspirationItem", "pathElement", "svg", "startpercent", "isMoving", "svgShiftAmount", "svgSpring", "destroySvgSpring", "aboutSvgAnimation", "modules_exports", "valueParsed", "destroy", "goTo", "aboutAnimation", "direction", "AboutComponent", "modules_exports", "AboutComponentFn", "value", "core_exports", "modules_exports", "AboutComponent", "layoutAbout", "data", "loadJsonContent", "aboutSvg", "loadTextContent", "renderHtml", "BenchMarkFakeComponentFn", "getProxi", "bindObject", "delegateEvents", "onMount", "id", "bindEffect", "proxiState", "renderHtml", "BenchMarkFakeComponent", "modules_exports", "BenchMarkFakeComponentFn", "benchMarkDefinitionPartial", "maxItem", "value", "BenchMarkFakeComponent", "shuffle", "array", "i", "j", "createBenchMarkArray", "numberOfItem", "valueSanitized", "modules_exports", "setData", "setState", "value", "useShuffle", "startTime", "difference", "benchMarkListPartial", "delegateEvents", "setRef", "getRef", "updateState", "getState", "bindEffect", "renderHtml", "event", "input", "data", "BenchMarkInvalidateFn", "onMount", "delegateEvents", "bindText", "invalidate", "getState", "staticProps", "setRef", "getRef", "setState", "updateState", "bindProps", "bindEffect", "getProxi", "proxi", "renderHtml", "benchMarkListPartial", "data", "label", "index", "BenchMarkInvalidate", "modules_exports", "BenchMarkInvalidateFn", "benchMarkDefinitionPartial", "benchMarkGarbagePartial", "renderHtml", "BenchMarkRepeatWithKyFn", "onMount", "delegateEvents", "bindText", "setRef", "getRef", "getState", "setState", "updateState", "bindProps", "repeat", "bindEffect", "getProxi", "proxi", "renderHtml", "benchMarkGarbagePartial", "benchMarkListPartial", "sync", "current", "BenchMarkRepeatWithKey", "modules_exports", "BenchMarkRepeatWithKyFn", "benchMarkDefinitionPartial", "BenchMarkRepeatWithKyFnNested", "onMount", "delegateEvents", "bindText", "setRef", "getRef", "getState", "setState", "updateState", "bindProps", "repeat", "bindObject", "bindEffect", "getProxi", "proxi", "renderHtml", "benchMarkListPartial", "current", "sync", "BenchMarkRepeatWithKeyNested", "modules_exports", "BenchMarkRepeatWithKyFnNested", "benchMarkDefinitionPartial", "BenchMarkRepeatNoKyFn", "onMount", "delegateEvents", "bindText", "setRef", "getRef", "getState", "setState", "updateState", "bindProps", "repeat", "bindEffect", "getProxi", "proxi", "renderHtml", "benchMarkGarbagePartial", "benchMarkListPartial", "sync", "current", "BenchMarkRepeatNoKey", "modules_exports", "BenchMarkRepeatNoKyFn", "benchMarkDefinitionPartial", "externalBenchmarkStore", "modules_exports", "value", "setData", "value", "useShuffle", "set", "externalBenchmarkStore", "modules_exports", "startTime", "shuffle", "createBenchMarkArray", "difference", "benchMarkListExternalPartial", "delegateEvents", "setRef", "getRef", "getState", "bindEffect", "update", "renderHtml", "event", "input", "data", "BenchMarkRepeatNoKyBindStoreFn", "onMount", "delegateEvents", "bindText", "setRef", "getRef", "getState", "bindProps", "repeat", "bindEffect", "getProxi", "proxi", "externalBenchmarkStore", "renderHtml", "benchMarkListExternalPartial", "sync", "current", "BenchMarkRepeatNoKeyBindStore", "modules_exports", "BenchMarkRepeatNoKyBindStoreFn", "externalBenchmarkStore", "BenchMarkFakeComponent", "BenchMarkRepeatWithNoKeyFnNested", "onMount", "delegateEvents", "bindText", "setRef", "getRef", "getState", "setState", "updateState", "bindProps", "repeat", "bindObject", "bindEffect", "getProxi", "proxi", "renderHtml", "benchMarkListPartial", "current", "sync", "BenchMarkRepeatWithNoKeyNested", "modules_exports", "BenchMarkRepeatWithNoKeyFnNested", "benchMarkDefinitionPartial", "modules_exports", "BenchMarkInvalidate", "BenchMarkRepeatNoKey", "BenchMarkRepeatWithKey", "BenchMarkRepeatWithKeyNested", "BenchMarkRepeatWithNoKeyNested", "BenchMarkRepeatNoKeyBindStore", "benchMark", "props", "rootComponent", "renderHtml", "updateQuickNavState", "active", "nextRoute", "prevRoute", "backRoute", "color", "setQuickNavState", "modules_exports", "quickNavName", "canvasBackground", "getCanvasContext", "disableOffcanvas", "useOffscreen", "getOffsetCanvas", "canvas", "offscreen", "offScreenCtx", "copyCanvasBitmap", "ctx", "bitmap", "roundRectIsSupported", "roundRectCustom", "x", "y", "w", "h", "r", "createGrid", "numberOfRow", "numberOfColumn", "cellWidth", "cellHeight", "gutter", "initValue", "previous", "row", "col", "previousItems", "newCol", "newRow", "getOffsetXCenter", "getOffsetYCenter", "canvasWidth", "width", "canvasHeight", "height", "animatedPatternN0Animation", "canvas", "numberOfRow", "numberOfColumn", "cellWidth", "cellHeight", "gutter", "fill", "disableOffcanvas", "stagger", "reorder", "useOffscreen", "context", "getCanvasContext", "isActive", "ctx", "activeRoute", "modules_exports", "offscreen", "offScreenCtx", "getOffsetCanvas", "wichContext", "useRadius", "roundRectIsSupported", "gridData", "createGrid", "data", "item", "i", "value", "hasFill", "gridTween", "tween_exports", "scale", "rotate", "draw", "canvasBackground", "x", "y", "centerX", "centerY", "width", "height", "offsetXCenter", "offsetYCenter", "rotation", "xx", "xy", "copyCanvasBitmap", "gridTimeline", "timeline_exports", "direction", "loop", "unsubscribeResize", "getOffsetXCenter", "getOffsetYCenter", "unWatchPause", "navigationStore", "val", "AnimatedPatternN0Fn", "onMount", "getState", "setRef", "getRef", "bindEffect", "getProxi", "staticProps", "proxi", "canvasBackground", "canvas", "destroyAnimation", "animatedPatternN0Animation", "modules_exports", "renderHtml", "AnimationTitleFn", "getState", "title", "list", "renderHtml", "item", "AnimationTitle", "modules_exports", "AnimationTitleFn", "AnimatedPatternN0", "modules_exports", "AnimatedPatternN0Fn", "detectFirefox", "detectSafari", "AnimationTitle", "animatedPatternN0Params", "modules_exports", "AnimatedPatternN0", "animatedPatternN0", "params", "version", "props", "animatedPatternN0Params", "updateQuickNavState", "renderHtml", "animatedPatternN1Animation", "canvas", "numberOfRow", "numberOfColumn", "cellWidth", "cellHeight", "gutter", "fill", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "top", "left", "offset", "ctx", "activeRoute", "modules_exports", "offscreen", "offScreenCtx", "getOffsetCanvas", "gridData", "createGrid", "data", "item", "i", "value", "centerTween", "tween_exports", "mouseX", "mouseY", "gridTween", "scale", "draw", "canvasBackground", "x", "y", "centerX", "centerY", "width", "height", "hasFill", "offsetXCenter", "offsetYCenter", "mouseXparsed", "mouseYparsed", "xScale", "yScale", "delta", "scaleFactor", "core_exports", "rotation", "xx", "xy", "copyCanvasBitmap", "gridTimeline", "timeline_exports", "move", "unsubscribeMouseMove", "client", "unsubscribeTouchMove", "loop", "unsubscribeResize", "getOffsetXCenter", "getOffsetYCenter", "unWatchPause", "navigationStore", "val", "AnimatedPatternN1Fn", "onMount", "getState", "setRef", "getRef", "bindEffect", "getProxi", "staticProps", "proxi", "canvasBackground", "canvas", "destroyAnimation", "animatedPatternN1Animation", "modules_exports", "renderHtml", "AnimatedPatternN1", "modules_exports", "AnimatedPatternN1Fn", "detectFirefox", "detectSafari", "AnimationTitle", "modules_exports", "AnimatedPatternN1", "animatedPatternN1", "updateQuickNavState", "renderHtml", "getWithRounded", "width", "relativeIndex", "amountOfPath", "getHeightRounded", "height", "caterpillarN0Animation", "canvas", "fill", "stroke", "opacity", "spacerY", "intialRotation", "perpetualRatio", "mouseMoveRatio", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "ctx", "left", "offset", "activeRoute", "modules_exports", "offscreen", "offScreenCtx", "getOffsetCanvas", "useRadius", "stemData", "_item", "i", "count", "index", "steamDataReorded", "mainTween", "tween_exports", "item", "rotate", "draw", "time", "centerX", "centerY", "canvasBackground", "offsetInverse", "centerDirection", "scale", "rotation", "xx", "xy", "copyCanvasBitmap", "loop", "unsubscribeResize", "move", "x", "xCenter", "unsubscribeMouseMove", "client", "unsubscribeTouchMove", "unWatchPause", "navigationStore", "val", "CaterpillarN0Fn", "onMount", "setRef", "getRef", "getState", "bindEffect", "getProxi", "staticProps", "proxi", "canvasBackground", "canvas", "destroyAnimation", "caterpillarN0Animation", "modules_exports", "renderHtml", "CaterpillarN0", "modules_exports", "CaterpillarN0Fn", "condition", "detectFirefox", "detectSafari", "AnimationTitle", "modules_exports", "CaterpillarN0", "caterpillarN0", "updateQuickNavState", "renderHtml", "caterpillarN1Animation", "canvas", "numItems", "width", "height", "fill", "opacity", "radius", "rotationDuration", "rotationEach", "centerEach", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "ctx", "top", "left", "offset", "activeRoute", "modules_exports", "offscreen", "offScreenCtx", "getOffsetCanvas", "useRadius", "squareData", "_item", "i", "relativeIndex", "opacityVal", "rotationTween", "tween_exports", "item", "rotate", "centerTween", "x", "y", "draw", "canvasBackground", "hasFill", "unitInverse", "centerX", "centerY", "scale", "rotation", "xx", "xy", "copyCanvasBitmap", "rectTimeline", "timeline_exports", "loop", "unsubscribeResize", "move", "winWidth", "winHeight", "xCenter", "yCenter", "core_exports", "unsubscribeMouseMove", "client", "unsubscribeTouchMove", "unWatchPause", "navigationStore", "val", "CaterpillarN1Fn", "onMount", "getState", "getRef", "setRef", "bindEffect", "getProxi", "staticProps", "proxi", "canvasBackground", "canvas", "destroyAnimation", "caterpillarN1Animation", "modules_exports", "renderHtml", "CaterpillarN1", "modules_exports", "CaterpillarN1Fn", "detectFirefox", "detectSafari", "AnimationTitle", "modules_exports", "CaterpillarN1", "caterpillarN1", "updateQuickNavState", "renderHtml", "logAddMethods", "value", "direction", "isForced", "caterpillarN2Animation", "canvas", "numItems", "width", "height", "radius", "fill", "opacity", "xAmplitude", "yAmplitude", "duration", "friction", "rotationDefault", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "ctx", "userRotation", "activeRoute", "modules_exports", "offscreen", "offScreenCtx", "getOffsetCanvas", "useRadius", "squareData", "_item", "i", "relativeIndex", "itemWidth", "itemHeight", "opacityVal", "infiniteTween", "tween_exports", "item", "x", "rotate", "val", "factor", "xr", "yr", "syncTimeline", "timeline_exports", "loop", "draw", "canvasBackground", "y", "hasFill", "centerX", "centerY", "scale", "rotation", "xx", "xy", "copyCanvasBitmap", "unsubscribeResize", "unWatchPause", "navigationStore", "getControls", "buttons", "className", "value", "label", "renderHtml", "CaterpillarN2Fn", "onMount", "getState", "setRef", "getRef", "bindEffect", "getProxi", "staticProps", "proxi", "canvasBackground", "element", "canvas", "rangeValue", "rotationButton", "animationMethods", "caterpillarN2Animation", "destroy", "setRotation", "method", "modules_exports", "duration", "buttons", "CaterpillarN2", "modules_exports", "CaterpillarN2Fn", "detectFirefox", "detectSafari", "AnimationTitle", "modules_exports", "CaterpillarN2", "caterpillarN2", "updateQuickNavState", "renderHtml", "activateScrollDownArrow", "modules_exports", "scrollDownLabelName", "deactivateScrollDownArrow", "scrollerN0Animation", "canvas", "canvasScroller", "numberOfRow", "numberOfColumn", "cellWidth", "cellHeight", "gutter", "fill", "stagger", "reorder", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "masterSequencer", "tween_exports", "ctx", "activeRoute", "modules_exports", "offscreen", "offScreenCtx", "getOffsetCanvas", "wichContext", "useRadius", "roundRectIsSupported", "gridData", "createGrid", "data", "item", "i", "value", "staggers", "sequencersInstances", "start", "end", "scale", "sequencer", "unsubscribe", "draw", "canvasBackground", "x", "y", "centerX", "centerY", "width", "height", "rotate", "hasFill", "offsetXCenter", "offsetYCenter", "rotation", "xx", "xy", "roundRectCustom", "copyCanvasBitmap", "scrollerInstance", "scroller_exports", "outerHeight", "loop", "unsubscribeResize", "getOffsetXCenter", "getOffsetYCenter", "unWatchPause", "navigationStore", "val", "ScrollerN0Fn", "onMount", "getState", "setRef", "getRef", "bindEffect", "getProxi", "staticProps", "proxi", "canvasBackground", "activateScrollDownArrow", "canvas", "canvasScroller", "destroyAnimation", "scrollerN0Animation", "modules_exports", "deactivateScrollDownArrow", "renderHtml", "ScrollerN0", "modules_exports", "ScrollerN0Fn", "detectFirefox", "detectSafari", "AnimationTitle", "scrollerParams", "modules_exports", "ScrollerN0", "scrollerN0", "params", "version", "props", "scrollerParams", "updateQuickNavState", "renderHtml", "getWithRounded", "width", "relativeIndex", "amountOfPath", "getHeightRounded", "height", "scrollerN1Animation", "canvas", "canvasScroller", "opacity", "intialRotation", "endRotation", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "ctx", "activeRoute", "modules_exports", "offscreen", "offScreenCtx", "getOffsetCanvas", "useRadius", "stemData", "_item", "i", "scrollerTween", "tween_exports", "item", "rotate", "draw", "centerX", "centerY", "canvasBackground", "index", "unitInverse", "scale", "rotation", "xx", "xy", "copyCanvasBitmap", "scrollerInstance", "scroller_exports", "outerHeight", "loop", "unsubscribeResize", "unWatchPause", "navigationStore", "val", "ScrollerN1Fn", "onMount", "getState", "setState", "setRef", "getRef", "bindEffect", "getProxi", "staticProps", "proxi", "canvasBackground", "activateScrollDownArrow", "canvas", "canvasScroller", "destroyAnimation", "scrollerN1Animation", "modules_exports", "deactivateScrollDownArrow", "renderHtml", "ScrollerN1", "modules_exports", "ScrollerN1Fn", "detectFirefox", "detectSafari", "AnimationTitle", "modules_exports", "ScrollerN1", "scrollerN1", "updateQuickNavState", "renderHtml", "DynamicListButtonFn", "getProxi", "bindEffect", "proxi", "renderHtml", "DynamicListButton", "modules_exports", "DynamicListButtonFn", "DynamicListCardInnerFn", "bindText", "renderHtml", "DynamicListCardInner", "modules_exports", "DynamicListCardInnerFn", "startData", "state1", "state2", "state3", "innerData", "buttons", "state1", "state2", "state3", "startData", "repeaters", "getButton", "staticProps", "delegateEvents", "bindProps", "proxi", "column", "index", "data", "buttonLabel", "renderHtml", "modules_exports", "getRepeaters", "item", "key", "clean", "label", "DynamicListFn", "updateState", "invalidate", "bindText", "getProxi", "prev", "DynamicListCounterFn", "getState", "bindText", "parentListId", "renderHtml", "DynamicCounter", "modules_exports", "DynamicListCounterFn", "DynamicListEmptyFn", "renderHtml", "DynamicListEmpty", "modules_exports", "DynamicListEmptyFn", "createArray", "numberOfItem", "i", "getInvalidateRender", "staticProps", "delegateEvents", "proxi", "renderHtml", "item", "DynamicListCardFn", "onMount", "key", "bindProps", "id", "invalidate", "repeat", "bindText", "bindEffect", "getProxi", "computed", "repeaterIndex", "value", "index", "self", "modules_exports", "isFullClass", "innerData", "current", "DynamicListCard", "modules_exports", "DynamicListCardFn", "innerData", "DynamicCounter", "DynamicListEmpty", "DynamicListCardInner", "DynamicListButton", "DynamicListSlottedLabelFn", "bindText", "renderHtml", "DynamicListSlottedLabel", "modules_exports", "DynamicListSlottedLabelFn", "getRepeaterCard", "staticProps", "bindProps", "delegateEvents", "current", "proxi", "renderHtml", "DynamicListRepeaterFn", "repeat", "getProxi", "keyParsed", "DynamicListRepeater", "modules_exports", "DynamicListRepeaterFn", "DynamicListCard", "DynamicListSlottedLabel", "DynamicList", "modules_exports", "DynamicListFn", "val", "startData", "DynamicListButton", "DynamicListRepeater", "DynamicListCardInner", "modules_exports", "DynamicList", "dynamic_list", "renderHtml", "simpleIntroAnimation", "refs", "introTween", "tween_exports", "loopTween", "item", "scale", "opacity", "introTl", "timeline_exports", "loopTimeline", "playAnimation", "playIntro", "playSvg", "HomeComponentFn", "onMount", "getState", "setState", "svg", "element", "svg_group", "destroy", "simpleIntroAnimation", "renderHtml", "HomeComponent", "modules_exports", "HomeComponentFn", "modules_exports", "HomeComponent", "home", "svg", "loadTextContent", "renderHtml", "buttons", "getRandomInt", "max", "getButtons", "delegateEvents", "updateState", "invalidate", "getState", "renderHtml", "button", "val", "modules_exports", "data", "getSecondLevel", "repeat", "staticProps", "bindProps", "proxi", "current", "getThirdLevel", "name", "name2", "MatrioskaFn", "getProxi", "MatrioskaItemFn", "getProxi", "bindText", "id", "bindEffect", "proxi", "renderHtml", "MatrioskaItem", "modules_exports", "MatrioskaItemFn", "shuffle", "array", "i", "j", "Matrioska", "modules_exports", "MatrioskaFn", "val", "oldVal", "DynamicListButton", "MatrioskaItem", "modules_exports", "Matrioska", "matrioska_page", "renderHtml", "sideWidth", "createPins", "indicators", "setState", "button", "i", "scroller_exports", "outerWidth", "relativeIndex", "refreshPins", "pins", "pin", "createParallax", "titles", "title", "showNav", "nav", "indicator", "hideNav", "horizontalScrollerAnimation", "animatePin", "rootRef", "titlesParallax", "side", "unsubscribeResize", "modules_exports", "horizontalCustom", "MobHorizontalScroller", "item", "getColumns", "numOfCol", "pinIsVisible", "staticProps", "pinClass", "_col", "i", "renderHtml", "getNav", "setState", "bindProps", "delegateEvents", "proxi", "HorizontalScrollerFn", "onMount", "getState", "watch", "setRef", "getRef", "getProxi", "animatePin", "element", "core_exports", "indicators", "nav", "titles", "destroy", "horizontalScrollerAnimation", "id", "shadowCenter", "top", "offset", "height", "outerHeight", "scrollValue", "MobBodyScroll", "HorizontalScrollerButtonFn", "getProxi", "bindEffect", "proxi", "renderHtml", "HorizontalScrollerButton", "modules_exports", "HorizontalScrollerButtonFn", "HorizontalScrollerSectionFn", "getState", "id", "pinClass", "renderHtml", "HorizontalScrollerSection", "modules_exports", "HorizontalScrollerSectionFn", "HorizontalScroller", "modules_exports", "HorizontalScrollerFn", "HorizontalScrollerButton", "HorizontalScrollerSection", "modules_exports", "HorizontalScroller", "horizontalScroller", "updateQuickNavState", "renderHtml", "StarSvgFn", "getState", "fill", "renderHtml", "StarSvg", "modules_exports", "StarSvgFn", "getControls", "delegateEvents", "bindObject", "proxiState", "renderHtml", "event", "value", "Move3DPagefn", "bindProps", "getProxi", "getDebug", "debug", "id", "renderHtml", "Recursive3Dshape", "data", "root", "childrenId", "children", "props", "modules_exports", "getMove3DDimension", "element", "outerHeight", "outerWidth", "offset", "getChildrenMethod", "childrenId", "modules_exports", "method", "props", "createUnit3D", "ratio", "value", "NOOP", "Move3Dfn", "onMount", "setRef", "getRef", "watch", "computed", "invalidate", "getProxi", "bindEffect", "childrenId", "modules_exports", "proxi", "height", "width", "offSetLeft", "offSetTop", "lastX", "dragX", "lastY", "dragY", "onDrag", "firstDrag", "pageCoord", "lastScrolledTop", "unsubscribeTouchStart", "unsubscribeTouchEnd", "unsubscribeTouchDown", "unsubscribeTouchUp", "unsubscribeTouchMove", "unsubscribeScroll", "childrenMethods", "spring", "tween_exports", "onMouseUp", "onMove", "vw", "vh", "x", "y", "xgap", "ygap", "xInMotion", "yInMotion", "ax", "ay", "xLimitReached", "yLimitReached", "axClamped", "core_exports", "ayClamped", "delta", "moveChild", "onScroll", "scrollY", "draggable", "page", "onMouseDown", "addScrollListener", "element", "container", "unsubscribeSpring", "unsubscribeOnComplete", "unsubscribeMouseMove", "unsubscribeResize", "getMove3DDimension", "value", "prevValue", "renderHtml", "getChildrenMethod", "Recursive3Dshape", "getRotate", "startRotation", "range", "delta", "limit", "getRotateFromPosition", "rotate", "anchorPoint", "baseRotateX", "baseRotateY", "getComponent", "component", "renderHtml", "modules_exports", "move", "currentDelta", "factor", "initialRotate", "depth", "range", "rotate", "anchorPoint", "lerp", "currentDepth", "getRotateData", "baseRotateX", "getRotate", "baseRotateY", "getRotateFromPositionData", "rotateX", "rotateY", "getRotateFromPosition", "Move3DItemfn", "getState", "addMethod", "onMount", "root", "animate", "width", "height", "offsetX", "offsetY", "initialDepth", "classList", "rootClass", "widthCssVar", "heightCssVar", "offsetXCssVar", "offsetYCssVar", "tween_exports", "delta", "element", "unsubscribelerp", "unsubscribeOnComplete", "Move3DItem", "modules_exports", "Move3DItemfn", "Move3D", "modules_exports", "Move3Dfn", "value", "Move3DItem", "Move3DPage", "modules_exports", "Move3DPagefn", "value", "Move3D", "modules_exports", "Move3DPage", "StarSvg", "move3DRoute", "props", "data", "prevRoute", "nextRoute", "updateQuickNavState", "renderHtml", "get3dItemUnit", "createUnit3D", "move3DShape1", "move3DrouteProps", "move3DShape1", "AnyComponentFn", "getState", "content", "renderHtml", "AnyComponent", "modules_exports", "AnyComponentFn", "parseSvg", "svg", "id", "fragment", "layers", "layerToRemove", "layer", "serializeFragment", "getLettering_01", "u0", "u1", "o", "o_b", "m1", "m2", "m3", "m4", "b1", "b1_b", "b2", "b3", "b4", "b5", "g1", "sign", "m1_b", "m2_b", "m3_b", "m4_b", "b1_stone", "m1_stone", "m2_stone", "modules_exports", "Move3D", "AnyComponent", "AnimationTitle", "lettering01", "letteringMob", "loadTextContent", "u0", "u1", "o_b", "m1", "m1_b", "m2", "m2_b", "m3", "m3_b", "m4", "m4_b", "b1", "b1_b", "b2", "b3", "b4", "b5", "g1", "sign", "b1_stone", "m1_stone", "m2_stone", "id", "parseSvg", "updateQuickNavState", "renderHtml", "getLettering_01", "shouldActivateCta", "core_exports", "OnlyDesktopFnCta", "onMount", "getProxi", "bindEffect", "proxi", "unsubscribeResize", "modules_exports", "renderHtml", "OnlyDesktopCta", "modules_exports", "OnlyDesktopFnCta", "modules_exports", "OnlyDesktopCta", "onlyDesktop", "letteringMob", "loadTextContent", "renderHtml", "asyncTimelineanimation", "canvas", "disableOffcanvas", "useOffscreen", "context", "getCanvasContext", "isActive", "ctx", "activeRoute", "modules_exports", "offscreen", "offScreenCtx", "getOffsetCanvas", "wichContext", "useRadius", "roundRectIsSupported", "numberOfRow", "numberOfColumn", "cellWidth", "cellHeight", "gridData", "createGrid", "data", "item", "getCoordinate", "row", "col", "rowIndex", "tweenAroundTarget", "tweenRotateTarget", "tweenGrid", "tween_exports", "tweenAround", "tweenGridRotate", "scale", "rotate", "gridTimeline", "timeline_exports", "timeline", "drawItem", "x", "y", "width", "height", "offsetXCenter", "offsetYCenter", "fill", "rotation", "xx", "xy", "draw", "canvasBackground", "copyCanvasBitmap", "loop", "unWatchPause", "navigationStore", "val", "getControls", "buttons", "className", "value", "label", "renderHtml", "AsyncTimelineFn", "onMount", "getState", "setRef", "getRef", "bindEffect", "getProxi", "staticProps", "proxi", "canvasBackground", "methods", "destroy", "element", "canvas", "asyncTimelineanimation", "unsubscribeResize", "modules_exports", "method", "buttons", "AsyncTimeline", "modules_exports", "AsyncTimelineFn", "detectFirefox", "detectSafari", "AnimationTitle", "modules_exports", "AsyncTimeline", "asyncTimeline", "updateQuickNavState", "renderHtml", "PAGE_TEMPLATE_COMPONENT_MOBJS", "mobJsComponentBreadCrumbs", "mobJsOverviewBreadCrumbs", "mobCoreOverviewBreadCrumbs", "mobMotionOverviewBreadCrumbs", "routes", "pageNotFound", "onlyDesktop", "layoutAbout", "animatedPatternN0", "animatedPatternN1", "caterpillarN0", "caterpillarN1", "caterpillarN2", "asyncTimeline", "layoutLinksPage", "scrollerN0", "scrollerN1", "dynamic_list", "matrioska_page", "home", "layoutSidebarAnchor", "benchMark", "layoutSidebarLinks", "horizontalScroller", "move3DRoute", "move3DrouteProps", "lettering01", "setValue", "value", "getScrollbarWith", "modules_exports", "RESET_FILTER_DEBUG", "DEBUG_USE_TREE", "DEBUG_USE_FILTER_COMPONENT", "verticalScroller", "screen", "scroller", "scrollbar", "instance", "MobSmoothScroller", "percent", "shouldScroll", "scrollerHeight", "outerHeight", "screenHeight", "scrollBarHeight", "outerWidth", "thumbWidth", "val", "debugActiveComponentStore", "modules_exports", "getClassList", "value", "previous", "current", "getObjectKeys", "methods", "getChild", "child", "key", "renderHtml", "item", "getFreezeProp", "props", "prop", "getStateProps", "states", "getContent", "getState", "id", "RESET_FILTER_DEBUG", "modules_exports", "initScroller", "getRef", "screen", "scroller", "scrollbar", "move", "verticalScroller", "init", "destroy", "refresh", "updateScroller", "DebugComponentFn", "onMount", "addMethod", "invalidate", "setRef", "watch", "getProxi", "emit", "proxi", "debugActiveComponentStore", "moveUpdated", "DebugComponent", "modules_exports", "DebugComponentFn", "RESET_FILTER_DEBUG", "refreshList", "testString", "modules_exports", "debugFilterListName", "DebugFilterHeadFn", "onMount", "setRef", "getRef", "delegateEvents", "renderHtml", "event", "input", "DebugFilterHead", "modules_exports", "DebugFilterHeadFn", "initScroller", "getRef", "modules_exports", "screen", "scroller", "scrollbar", "methods", "verticalScroller", "init", "destroy", "refresh", "move", "updateScroller", "getFakeReplacement", "index", "getDataFiltered", "testString", "stringParsed", "block", "result", "item", "piece", "id", "componentName", "instanceName", "stringParseWithPlaceholder", "previous", "current", "DebugFilterListFn", "onMount", "setRef", "addMethod", "repeat", "staticProps", "bindProps", "bindEffect", "getProxi", "computed", "proxi", "renderHtml", "sync", "DebugFilterListItemFn", "delegateEvents", "bindText", "bindEffect", "getProxi", "computed", "proxi", "renderHtml", "modules_exports", "debugComponentName", "DebugFilterListItem", "modules_exports", "DebugFilterListItemFn", "debugActiveComponentStore", "DebugFilterList", "modules_exports", "DebugFilterListFn", "DebugFilterListItem", "DebugHeadFn", "invalidate", "getProxi", "proxi", "renderHtml", "modules_exports", "getBindTextParentSize", "getBindObjectParentSize", "updateId", "id", "modules_exports", "debugComponentName", "DebugSearchFn", "setRef", "getRef", "delegateEvents", "renderHtml", "event", "id_input", "instanceName", "instance_input", "RESET_FILTER_DEBUG", "DebugSearch", "modules_exports", "DebugSearchFn", "DebugHead", "modules_exports", "DebugHeadFn", "DebugSearch", "consoleLogDebug", "modules_exports", "bindEventMap", "currentRepeaterValueMap", "activeRepeatMap", "onMountCallbackMap", "staticPropsMap", "bindPropsMap", "invalidateIdPlaceHolderMap", "invalidateIdHostMap", "invalidateFunctionMap", "repeatIdPlaceHolderMap", "repeatFunctionMap", "getUserChildPlaceholderSize", "getSlotPlaceholderSize", "getBindTextParentSize", "getBindTextPlaceholderSize", "instanceMap", "DebugOverlayFn", "delegateEvents", "addMethod", "bindProps", "invalidate", "bindEffect", "getProxi", "onMount", "proxi", "unsubScribeBeforeRouterChange", "modules_exports", "DEBUG_USE_TREE", "renderHtml", "consoleLogDebug", "DEBUG_USE_FILTER_COMPONENT", "debugTreeName", "debugFilterListName", "debugComponentName", "generateTreeComponents", "data", "staticProps", "id", "componentName", "instanceName", "children", "renderHtml", "initScroller", "getRef", "modules_exports", "screen", "scroller", "scrollbar", "methods", "verticalScroller", "destroy", "refresh", "move", "updateScroller", "DebugTreeFn", "onMount", "setState", "invalidate", "staticProps", "setRef", "addMethod", "bindEffect", "getProxi", "proxi", "renderHtml", "generateTreeComponents", "getCounter", "value", "activeItemChildren", "id", "children", "modules_exports", "flatChildren", "DebugTreeItemFn", "onMount", "staticProps", "getRef", "setRef", "delegateEvents", "watch", "bindEffect", "getProxi", "computed", "proxi", "hasChildrenClass", "content", "unsubscribeSlide", "MobSlide", "isOpen", "debugTreeName", "renderHtml", "debugComponentName", "generateTreeComponents", "DebugTreeItem", "modules_exports", "DebugTreeItemFn", "debugActiveComponentStore", "DebugTree", "modules_exports", "DebugTreeFn", "DebugTreeItem", "DebugOverlay", "modules_exports", "DebugOverlayFn", "DEBUG_USE_TREE", "DebugTree", "DebugComponent", "DebugHead", "DebugFilterHead", "DebugFilterList", "init", "destroy", "move", "updateScroller", "getItems", "staticProps", "bindProps", "proxi", "item", "label", "url", "isLabel", "renderHtml", "LinksMobJsFn", "setRef", "getRef", "onMount", "setState", "invalidate", "bindEffect", "getProxi", "mainData", "getCommonData", "templateData", "PAGE_TEMPLATE_COMPONENT_MOBJS", "screenEl", "scrollerEl", "scrollbar", "isActive", "navigationStore", "value", "templateName", "modules_exports", "unsubscribeRoute", "currentTemplate", "currentRoute", "currentData", "verticalScroller", "LinksMobJsButtonFn", "getProxi", "bindEffect", "proxi", "renderHtml", "LinksMobJsButton", "modules_exports", "LinksMobJsButtonFn", "LinksMobJs", "LinksMobJsFn", "scroll_arrow_default", "QuickNavFn", "getProxi", "bindEffect", "proxi", "modules_exports", "renderHtml", "route", "scroll_arrow_default", "QuickNav", "modules_exports", "QuickNavFn", "value", "RouteLoaderFn", "onMount", "getProxi", "bindEffect", "proxi", "element", "tweenOut", "tween_exports", "opacity", "scale", "unsubscribeBeforeRouteChange", "modules_exports", "unsubScribeAfterRouteChange", "renderHtml", "RouteLoader", "modules_exports", "RouteLoaderFn", "ScrollDownLabelFn", "getProxi", "bindEffect", "proxi", "renderHtml", "scroll_arrow_default", "ScrollDownLabel", "modules_exports", "ScrollDownLabelFn", "Triangles", "renderHtml", "ScrollToTopFn", "delegateEvents", "bindEffect", "getProxi", "proxi", "renderHtml", "MobBodyScroll", "Triangles", "ScrollToTop", "modules_exports", "ScrollToTopFn", "navigationStore", "TestScssGridFn", "renderHtml", "TestScssGrid", "modules_exports", "TestScssGridFn", "FooterFn", "delegateEvents", "renderHtml", "modules_exports", "debugOverlayName", "consoleLogDebug", "FooterNavButtonFn", "getProxi", "bindEffect", "computed", "proxi", "renderHtml", "getItems", "delegateEvents", "staticProps", "getCommonData", "label", "url", "section", "renderHtml", "modules_exports", "navigationStore", "FooterNavFn", "FooterNavButton", "modules_exports", "FooterNavButtonFn", "navigationStore", "FooterNav", "FooterNavFn", "DebugButtonFn", "renderHtml", "DebugButton", "modules_exports", "DebugButtonFn", "Footer", "modules_exports", "FooterFn", "FooterNav", "DebugButton", "titleHandler", "modules_exports", "navigationStore", "mobNavigationName", "mobNavigationContainerName", "HeaderFn", "delegateEvents", "bindEffect", "getProxi", "onMount", "addMethod", "proxi", "element", "outerHeight", "renderHtml", "icon_github_default", "icon", "icon_github_default", "onClick", "event", "button", "url", "modules_exports", "navigationStore", "additems", "delegateEvents", "header", "getCommonData", "links", "link", "svg", "internal", "renderHtml", "HeadernavFn", "HeaderToggleFn", "delegateEvents", "bindEffect", "getProxi", "proxi", "renderHtml", "navigationStore", "state", "search_default", "onClick", "useMethodByName", "searchOverlay", "searchOverlayHeader", "SearchCtaFn", "delegateEvents", "renderHtml", "search_default", "Search", "modules_exports", "SearchCtaFn", "HeaderNav", "modules_exports", "HeadernavFn", "Search", "HeaderToggle", "HeaderToggleFn", "navigationStore", "Header", "HeaderFn", "currentPercent", "initNavigationScoller", "root", "screenEl", "scrollerEl", "percentEl", "setDelay", "navScroller", "MobSmoothScroller", "percent", "navigationIsOpen", "navigationStore", "section", "currentSection", "header", "navHeight", "outerHeight", "headerHeight", "maxValue", "val", "closeNavigation", "main", "setState", "modules_exports", "openNavigation", "mobNavigationContainerName", "addMainHandler", "navigationStore", "toTopBtnHandler", "mobNavigationName", "navigationIsOpen", "MobBodyScroll", "NavigationContainerFn", "onMount", "addMethod", "delegateEvents", "bindEffect", "getProxi", "proxi", "element", "val", "scrollNativationToTop", "refreshScroller", "initNavigationScoller", "renderHtml", "getItems", "data", "staticProps", "bindProps", "proxi", "item", "index", "label", "url", "activeId", "children", "section", "sectioName", "scrollToSection", "forceChildren", "renderHtml", "NavigationFn", "setState", "addMethod", "getProxi", "getCommonData", "fireCallback", "NavigationButtonFn", "setState", "getState", "delegateEvents", "getProxi", "bindEffect", "proxi", "label", "url", "arrowClass", "subMenuClass", "fireRoute", "callback", "scrollToSection", "activeId", "forceChildren", "modules_exports", "currentRoute", "hash", "activeParams", "paramsMatch", "isActiveRoute", "forceChildrenMatch", "navigationStore", "renderHtml", "NavigationLabelFn", "bindEffect", "getProxi", "proxi", "renderHtml", "getSubmenu", "proxi", "staticProps", "child", "label", "url", "scrollToSection", "activeId", "renderHtml", "NavigationSubmenuFn", "onMount", "bindProps", "watch", "setRef", "getRef", "getProxi", "content", "MobSlide", "isOpen", "modules_exports", "mobNavigationContainerName", "mobNavigationName", "NavigationButton", "modules_exports", "NavigationButtonFn", "NavigationLabel", "NavigationLabelFn", "navigationStore", "NavigationSubmenu", "NavigationSubmenuFn", "Navigation", "NavigationFn", "NavigationContainer", "NavigationContainerFn", "closeOverlay", "proxi", "useMethodByName", "searchOverlayHeader", "shouldCloseSuggestion", "currentTarget", "SearchOverlayFn", "getProxi", "delegateEvents", "bindEffect", "addMethod", "bindObject", "staticProps", "renderHtml", "event", "value", "searchOverlayList", "sendSearch", "currentSearch", "useMethodByName", "searchOverlayList", "sendToList", "getRef", "search_input", "sendReset", "proxi", "getFakeReplacement", "index", "filterSuggestion", "searchSuggestionKey", "getCommonData", "stringParsed", "block", "word", "piece", "stringParseWithPlaceholder", "previous", "current", "SearchOverlayHeaderFn", "delegateEvents", "setRef", "getProxi", "bindProps", "addMethod", "onMount", "computed", "bindEffect", "suggestionElement", "value", "currentValueSplitted", "newSearchValue", "element", "renderHtml", "modules_exports", "event", "sendWord", "word", "useMethodByName", "searchOverlayHeader", "onEsc", "onKeyDown", "code", "SearchOverlaySuggestionFn", "getProxi", "repeat", "bindObject", "delegateEvents", "proxi", "renderHtml", "current", "event", "SearchOverlaySuggestion", "modules_exports", "SearchOverlaySuggestionFn", "SearchOverlayHeader", "modules_exports", "SearchOverlayHeaderFn", "SearchOverlaySuggestion", "executeFetch", "source", "uri", "title", "section", "breadCrumbs", "response", "validComponent", "componentWithContent", "listComponent", "fetchSearchResult", "currentSearch", "pageList", "routes", "props", "name", "result", "fn", "initialState", "resultParsed", "success", "data", "filterDataByContent", "previous", "current", "component", "item", "label", "currentSearchSplitted", "dataJoined", "word", "first", "count", "breadCrumbsParsed", "index", "slash", "loadPage", "uri", "modules_exports", "useMethodByName", "searchOverlay", "initScroller", "getRef", "screen", "scroller", "scrollbar", "move", "methods", "verticalScroller", "init", "destroy", "refresh", "updateScroller", "SearchOverlayListFn", "getProxi", "repeat", "bindObject", "setRef", "onMount", "watch", "addMethod", "delegateEvents", "bindEffect", "invalidate", "proxi", "currentSearch", "fetchSearchResult", "moveUpdated", "renderHtml", "current", "SearchOverlayList", "modules_exports", "SearchOverlayListFn", "SearchOverlay", "modules_exports", "SearchOverlayFn", "SearchOverlayHeader", "SearchOverlayList", "modules_exports", "Header", "NavigationContainer", "Footer", "QuickNav", "RouteLoader", "ScrollDownLabel", "ScrollToTop", "LinksMobJs", "DebugOverlay", "TestScssGrid", "SearchOverlay", "wrapper", "renderHtml", "debugOverlayName", "headerName", "mobNavigationContainerName", "quickNavName", "scrollDownLabelName", "scrollToTopName", "searchOverlay", "shouldRedirect", "core_exports", "redirectOnResize", "modules_exports", "jsMainLoader", "jsMainLoaderBackground", "loaderTween", "tween_exports", "item", "opacity", "scale", "initApp", "loadData", "wrapper", "routes", "beforePageTransition", "pageTransition", "getScrollbarWith", "route", "setBrowserClass", "usePageScroll"]
}
